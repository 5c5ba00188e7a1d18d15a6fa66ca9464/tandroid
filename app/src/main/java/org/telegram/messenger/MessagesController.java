package org.telegram.messenger;

import android.app.Activity;
import android.appwidget.AppWidgetManager;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.SharedPreferences;
import android.location.Location;
import android.os.Build;
import android.os.Bundle;
import android.os.Looper;
import android.os.SystemClock;
import android.telephony.TelephonyManager;
import android.text.TextUtils;
import android.util.Base64;
import android.util.SparseArray;
import android.util.SparseBooleanArray;
import android.util.SparseIntArray;
import androidx.collection.LongSparseArray;
import androidx.core.app.NotificationManagerCompat;
import androidx.core.util.Consumer;
import j$.util.concurrent.ConcurrentHashMap;
import java.io.File;
import java.util.AbstractMap;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Comparator;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Locale;
import java.util.Map;
import java.util.Set;
import java.util.concurrent.CountDownLatch;
import org.telegram.SQLite.SQLiteCursor;
import org.telegram.SQLite.SQLiteException;
import org.telegram.SQLite.SQLitePreparedStatement;
import org.telegram.messenger.ChatObject;
import org.telegram.messenger.ImageLoader;
import org.telegram.messenger.MessagesStorage;
import org.telegram.messenger.NotificationCenter;
import org.telegram.messenger.SendMessagesHelper;
import org.telegram.messenger.support.LongSparseIntArray;
import org.telegram.messenger.support.LongSparseLongArray;
import org.telegram.messenger.voip.VoIPService;
import org.telegram.tgnet.ConnectionsManager;
import org.telegram.tgnet.NativeByteBuffer;
import org.telegram.tgnet.RequestDelegate;
import org.telegram.tgnet.SerializedData;
import org.telegram.tgnet.TLObject;
import org.telegram.tgnet.TLRPC$BotInfo;
import org.telegram.tgnet.TLRPC$ChannelParticipant;
import org.telegram.tgnet.TLRPC$Chat;
import org.telegram.tgnet.TLRPC$ChatFull;
import org.telegram.tgnet.TLRPC$ChatParticipant;
import org.telegram.tgnet.TLRPC$ChatParticipants;
import org.telegram.tgnet.TLRPC$Dialog;
import org.telegram.tgnet.TLRPC$DialogPeer;
import org.telegram.tgnet.TLRPC$Document;
import org.telegram.tgnet.TLRPC$DraftMessage;
import org.telegram.tgnet.TLRPC$EncryptedChat;
import org.telegram.tgnet.TLRPC$FileLocation;
import org.telegram.tgnet.TLRPC$GroupCall;
import org.telegram.tgnet.TLRPC$InputChannel;
import org.telegram.tgnet.TLRPC$InputChatPhoto;
import org.telegram.tgnet.TLRPC$InputDialogPeer;
import org.telegram.tgnet.TLRPC$InputFile;
import org.telegram.tgnet.TLRPC$InputPeer;
import org.telegram.tgnet.TLRPC$InputPhoto;
import org.telegram.tgnet.TLRPC$InputUser;
import org.telegram.tgnet.TLRPC$JSONValue;
import org.telegram.tgnet.TLRPC$Message;
import org.telegram.tgnet.TLRPC$MessageAction;
import org.telegram.tgnet.TLRPC$MessageEntity;
import org.telegram.tgnet.TLRPC$MessageFwdHeader;
import org.telegram.tgnet.TLRPC$MessageMedia;
import org.telegram.tgnet.TLRPC$MessageReplies;
import org.telegram.tgnet.TLRPC$NotificationSound;
import org.telegram.tgnet.TLRPC$NotifyPeer;
import org.telegram.tgnet.TLRPC$Peer;
import org.telegram.tgnet.TLRPC$PeerNotifySettings;
import org.telegram.tgnet.TLRPC$PhoneCall;
import org.telegram.tgnet.TLRPC$Photo;
import org.telegram.tgnet.TLRPC$PhotoSize;
import org.telegram.tgnet.TLRPC$Poll;
import org.telegram.tgnet.TLRPC$PrivacyKey;
import org.telegram.tgnet.TLRPC$RecentMeUrl;
import org.telegram.tgnet.TLRPC$SendMessageAction;
import org.telegram.tgnet.TLRPC$TL_account_createTheme;
import org.telegram.tgnet.TLRPC$TL_account_getContactSignUpNotification;
import org.telegram.tgnet.TLRPC$TL_account_getNotifySettings;
import org.telegram.tgnet.TLRPC$TL_account_installTheme;
import org.telegram.tgnet.TLRPC$TL_account_installWallPaper;
import org.telegram.tgnet.TLRPC$TL_account_registerDevice;
import org.telegram.tgnet.TLRPC$TL_account_reportPeer;
import org.telegram.tgnet.TLRPC$TL_account_saveTheme;
import org.telegram.tgnet.TLRPC$TL_account_saveWallPaper;
import org.telegram.tgnet.TLRPC$TL_account_unregisterDevice;
import org.telegram.tgnet.TLRPC$TL_account_updateStatus;
import org.telegram.tgnet.TLRPC$TL_account_updateTheme;
import org.telegram.tgnet.TLRPC$TL_account_uploadTheme;
import org.telegram.tgnet.TLRPC$TL_account_uploadWallPaper;
import org.telegram.tgnet.TLRPC$TL_auth_logOut;
import org.telegram.tgnet.TLRPC$TL_auth_loggedOut;
import org.telegram.tgnet.TLRPC$TL_boolFalse;
import org.telegram.tgnet.TLRPC$TL_boolTrue;
import org.telegram.tgnet.TLRPC$TL_botInfo;
import org.telegram.tgnet.TLRPC$TL_channel;
import org.telegram.tgnet.TLRPC$TL_channelForbidden;
import org.telegram.tgnet.TLRPC$TL_channelFull;
import org.telegram.tgnet.TLRPC$TL_channelMessagesFilterEmpty;
import org.telegram.tgnet.TLRPC$TL_channelParticipantSelf;
import org.telegram.tgnet.TLRPC$TL_channelParticipantsAdmins;
import org.telegram.tgnet.TLRPC$TL_channelParticipantsRecent;
import org.telegram.tgnet.TLRPC$TL_channels_channelParticipant;
import org.telegram.tgnet.TLRPC$TL_channels_channelParticipants;
import org.telegram.tgnet.TLRPC$TL_channels_convertToGigagroup;
import org.telegram.tgnet.TLRPC$TL_channels_createChannel;
import org.telegram.tgnet.TLRPC$TL_channels_deleteChannel;
import org.telegram.tgnet.TLRPC$TL_channels_deleteHistory;
import org.telegram.tgnet.TLRPC$TL_channels_deleteMessages;
import org.telegram.tgnet.TLRPC$TL_channels_deleteParticipantHistory;
import org.telegram.tgnet.TLRPC$TL_channels_editAdmin;
import org.telegram.tgnet.TLRPC$TL_channels_editBanned;
import org.telegram.tgnet.TLRPC$TL_channels_editPhoto;
import org.telegram.tgnet.TLRPC$TL_channels_editTitle;
import org.telegram.tgnet.TLRPC$TL_channels_getChannels;
import org.telegram.tgnet.TLRPC$TL_channels_getFullChannel;
import org.telegram.tgnet.TLRPC$TL_channels_getMessages;
import org.telegram.tgnet.TLRPC$TL_channels_getParticipant;
import org.telegram.tgnet.TLRPC$TL_channels_getParticipants;
import org.telegram.tgnet.TLRPC$TL_channels_getSendAs;
import org.telegram.tgnet.TLRPC$TL_channels_getSponsoredMessages;
import org.telegram.tgnet.TLRPC$TL_channels_inviteToChannel;
import org.telegram.tgnet.TLRPC$TL_channels_joinChannel;
import org.telegram.tgnet.TLRPC$TL_channels_leaveChannel;
import org.telegram.tgnet.TLRPC$TL_channels_readHistory;
import org.telegram.tgnet.TLRPC$TL_channels_readMessageContents;
import org.telegram.tgnet.TLRPC$TL_channels_sendAsPeers;
import org.telegram.tgnet.TLRPC$TL_channels_toggleJoinRequest;
import org.telegram.tgnet.TLRPC$TL_channels_toggleJoinToSend;
import org.telegram.tgnet.TLRPC$TL_channels_togglePreHistoryHidden;
import org.telegram.tgnet.TLRPC$TL_channels_toggleSignatures;
import org.telegram.tgnet.TLRPC$TL_channels_toggleSlowMode;
import org.telegram.tgnet.TLRPC$TL_channels_updateUsername;
import org.telegram.tgnet.TLRPC$TL_chatAdminRights;
import org.telegram.tgnet.TLRPC$TL_chatBannedRights;
import org.telegram.tgnet.TLRPC$TL_chatForbidden;
import org.telegram.tgnet.TLRPC$TL_chatFull;
import org.telegram.tgnet.TLRPC$TL_chatInviteExported;
import org.telegram.tgnet.TLRPC$TL_chatOnlines;
import org.telegram.tgnet.TLRPC$TL_config;
import org.telegram.tgnet.TLRPC$TL_contacts_block;
import org.telegram.tgnet.TLRPC$TL_contacts_getBlocked;
import org.telegram.tgnet.TLRPC$TL_contacts_resolveUsername;
import org.telegram.tgnet.TLRPC$TL_contacts_resolvedPeer;
import org.telegram.tgnet.TLRPC$TL_contacts_unblock;
import org.telegram.tgnet.TLRPC$TL_dialog;
import org.telegram.tgnet.TLRPC$TL_dialogFilterSuggested;
import org.telegram.tgnet.TLRPC$TL_dialogFolder;
import org.telegram.tgnet.TLRPC$TL_dialogPeer;
import org.telegram.tgnet.TLRPC$TL_documentEmpty;
import org.telegram.tgnet.TLRPC$TL_draftMessage;
import org.telegram.tgnet.TLRPC$TL_encryptedChat;
import org.telegram.tgnet.TLRPC$TL_encryptedChatRequested;
import org.telegram.tgnet.TLRPC$TL_encryptedChatWaiting;
import org.telegram.tgnet.TLRPC$TL_error;
import org.telegram.tgnet.TLRPC$TL_folder;
import org.telegram.tgnet.TLRPC$TL_folderPeer;
import org.telegram.tgnet.TLRPC$TL_folders_editPeerFolders;
import org.telegram.tgnet.TLRPC$TL_groupCall;
import org.telegram.tgnet.TLRPC$TL_groupCallDiscarded;
import org.telegram.tgnet.TLRPC$TL_help_dismissSuggestion;
import org.telegram.tgnet.TLRPC$TL_help_getAppChangelog;
import org.telegram.tgnet.TLRPC$TL_help_getAppConfig;
import org.telegram.tgnet.TLRPC$TL_help_getPromoData;
import org.telegram.tgnet.TLRPC$TL_help_getRecentMeUrls;
import org.telegram.tgnet.TLRPC$TL_help_getTermsOfServiceUpdate;
import org.telegram.tgnet.TLRPC$TL_help_hidePromoData;
import org.telegram.tgnet.TLRPC$TL_help_promoData;
import org.telegram.tgnet.TLRPC$TL_help_promoDataEmpty;
import org.telegram.tgnet.TLRPC$TL_help_recentMeUrls;
import org.telegram.tgnet.TLRPC$TL_help_termsOfServiceUpdate;
import org.telegram.tgnet.TLRPC$TL_help_termsOfServiceUpdateEmpty;
import org.telegram.tgnet.TLRPC$TL_inputChannel;
import org.telegram.tgnet.TLRPC$TL_inputChannelEmpty;
import org.telegram.tgnet.TLRPC$TL_inputChatPhoto;
import org.telegram.tgnet.TLRPC$TL_inputChatPhotoEmpty;
import org.telegram.tgnet.TLRPC$TL_inputChatUploadedPhoto;
import org.telegram.tgnet.TLRPC$TL_inputDialogPeer;
import org.telegram.tgnet.TLRPC$TL_inputDocument;
import org.telegram.tgnet.TLRPC$TL_inputEncryptedChat;
import org.telegram.tgnet.TLRPC$TL_inputFolderPeer;
import org.telegram.tgnet.TLRPC$TL_inputGeoPoint;
import org.telegram.tgnet.TLRPC$TL_inputGroupCall;
import org.telegram.tgnet.TLRPC$TL_inputMessagesFilterChatPhotos;
import org.telegram.tgnet.TLRPC$TL_inputNotifyBroadcasts;
import org.telegram.tgnet.TLRPC$TL_inputNotifyChats;
import org.telegram.tgnet.TLRPC$TL_inputNotifyUsers;
import org.telegram.tgnet.TLRPC$TL_inputPeerChannel;
import org.telegram.tgnet.TLRPC$TL_inputPeerChat;
import org.telegram.tgnet.TLRPC$TL_inputPeerEmpty;
import org.telegram.tgnet.TLRPC$TL_inputPeerSelf;
import org.telegram.tgnet.TLRPC$TL_inputPeerUser;
import org.telegram.tgnet.TLRPC$TL_inputPhoneCall;
import org.telegram.tgnet.TLRPC$TL_inputPhotoEmpty;
import org.telegram.tgnet.TLRPC$TL_inputReportReasonGeoIrrelevant;
import org.telegram.tgnet.TLRPC$TL_inputTheme;
import org.telegram.tgnet.TLRPC$TL_inputThemeSettings;
import org.telegram.tgnet.TLRPC$TL_inputUser;
import org.telegram.tgnet.TLRPC$TL_inputUserEmpty;
import org.telegram.tgnet.TLRPC$TL_inputUserSelf;
import org.telegram.tgnet.TLRPC$TL_inputWallPaper;
import org.telegram.tgnet.TLRPC$TL_inputWallPaperNoFile;
import org.telegram.tgnet.TLRPC$TL_inputWallPaperSlug;
import org.telegram.tgnet.TLRPC$TL_jsonArray;
import org.telegram.tgnet.TLRPC$TL_jsonBool;
import org.telegram.tgnet.TLRPC$TL_jsonNumber;
import org.telegram.tgnet.TLRPC$TL_jsonObject;
import org.telegram.tgnet.TLRPC$TL_jsonObjectValue;
import org.telegram.tgnet.TLRPC$TL_jsonString;
import org.telegram.tgnet.TLRPC$TL_message;
import org.telegram.tgnet.TLRPC$TL_messageActionChannelCreate;
import org.telegram.tgnet.TLRPC$TL_messageActionChatAddUser;
import org.telegram.tgnet.TLRPC$TL_messageActionChatDeleteUser;
import org.telegram.tgnet.TLRPC$TL_messageActionChatEditPhoto;
import org.telegram.tgnet.TLRPC$TL_messageActionChatJoinedByRequest;
import org.telegram.tgnet.TLRPC$TL_messageActionChatMigrateTo;
import org.telegram.tgnet.TLRPC$TL_messageActionGroupCall;
import org.telegram.tgnet.TLRPC$TL_messageActionHistoryClear;
import org.telegram.tgnet.TLRPC$TL_messageActionPinMessage;
import org.telegram.tgnet.TLRPC$TL_messageEmpty;
import org.telegram.tgnet.TLRPC$TL_messageEntityMentionName;
import org.telegram.tgnet.TLRPC$TL_messageMediaEmpty;
import org.telegram.tgnet.TLRPC$TL_messageMediaPoll;
import org.telegram.tgnet.TLRPC$TL_messageMediaUnsupported;
import org.telegram.tgnet.TLRPC$TL_messageMediaWebPage;
import org.telegram.tgnet.TLRPC$TL_messageReplies;
import org.telegram.tgnet.TLRPC$TL_messageReplyHeader;
import org.telegram.tgnet.TLRPC$TL_messageService;
import org.telegram.tgnet.TLRPC$TL_messageViews;
import org.telegram.tgnet.TLRPC$TL_messages_addChatUser;
import org.telegram.tgnet.TLRPC$TL_messages_affectedHistory;
import org.telegram.tgnet.TLRPC$TL_messages_affectedMessages;
import org.telegram.tgnet.TLRPC$TL_messages_channelMessages;
import org.telegram.tgnet.TLRPC$TL_messages_chatFull;
import org.telegram.tgnet.TLRPC$TL_messages_chats;
import org.telegram.tgnet.TLRPC$TL_messages_createChat;
import org.telegram.tgnet.TLRPC$TL_messages_deleteChat;
import org.telegram.tgnet.TLRPC$TL_messages_deleteChatUser;
import org.telegram.tgnet.TLRPC$TL_messages_deleteHistory;
import org.telegram.tgnet.TLRPC$TL_messages_deleteMessages;
import org.telegram.tgnet.TLRPC$TL_messages_deleteScheduledMessages;
import org.telegram.tgnet.TLRPC$TL_messages_dialogs;
import org.telegram.tgnet.TLRPC$TL_messages_editChatAbout;
import org.telegram.tgnet.TLRPC$TL_messages_editChatAdmin;
import org.telegram.tgnet.TLRPC$TL_messages_editChatDefaultBannedRights;
import org.telegram.tgnet.TLRPC$TL_messages_editChatPhoto;
import org.telegram.tgnet.TLRPC$TL_messages_editChatTitle;
import org.telegram.tgnet.TLRPC$TL_messages_getChats;
import org.telegram.tgnet.TLRPC$TL_messages_getDialogFilters;
import org.telegram.tgnet.TLRPC$TL_messages_getDialogUnreadMarks;
import org.telegram.tgnet.TLRPC$TL_messages_getDialogs;
import org.telegram.tgnet.TLRPC$TL_messages_getFullChat;
import org.telegram.tgnet.TLRPC$TL_messages_getHistory;
import org.telegram.tgnet.TLRPC$TL_messages_getMessages;
import org.telegram.tgnet.TLRPC$TL_messages_getMessagesReactions;
import org.telegram.tgnet.TLRPC$TL_messages_getMessagesViews;
import org.telegram.tgnet.TLRPC$TL_messages_getOnlines;
import org.telegram.tgnet.TLRPC$TL_messages_getPeerDialogs;
import org.telegram.tgnet.TLRPC$TL_messages_getPeerSettings;
import org.telegram.tgnet.TLRPC$TL_messages_getPinnedDialogs;
import org.telegram.tgnet.TLRPC$TL_messages_getPollResults;
import org.telegram.tgnet.TLRPC$TL_messages_getReplies;
import org.telegram.tgnet.TLRPC$TL_messages_getScheduledHistory;
import org.telegram.tgnet.TLRPC$TL_messages_getSuggestedDialogFilters;
import org.telegram.tgnet.TLRPC$TL_messages_getUnreadMentions;
import org.telegram.tgnet.TLRPC$TL_messages_getUnreadReactions;
import org.telegram.tgnet.TLRPC$TL_messages_getWebPagePreview;
import org.telegram.tgnet.TLRPC$TL_messages_hidePeerSettingsBar;
import org.telegram.tgnet.TLRPC$TL_messages_markDialogUnread;
import org.telegram.tgnet.TLRPC$TL_messages_messageViews;
import org.telegram.tgnet.TLRPC$TL_messages_messages;
import org.telegram.tgnet.TLRPC$TL_messages_messagesNotModified;
import org.telegram.tgnet.TLRPC$TL_messages_migrateChat;
import org.telegram.tgnet.TLRPC$TL_messages_peerDialogs;
import org.telegram.tgnet.TLRPC$TL_messages_peerSettings;
import org.telegram.tgnet.TLRPC$TL_messages_readDiscussion;
import org.telegram.tgnet.TLRPC$TL_messages_readEncryptedHistory;
import org.telegram.tgnet.TLRPC$TL_messages_readHistory;
import org.telegram.tgnet.TLRPC$TL_messages_readMentions;
import org.telegram.tgnet.TLRPC$TL_messages_readMessageContents;
import org.telegram.tgnet.TLRPC$TL_messages_readReactions;
import org.telegram.tgnet.TLRPC$TL_messages_receivedQueue;
import org.telegram.tgnet.TLRPC$TL_messages_reorderPinnedDialogs;
import org.telegram.tgnet.TLRPC$TL_messages_reportEncryptedSpam;
import org.telegram.tgnet.TLRPC$TL_messages_reportSpam;
import org.telegram.tgnet.TLRPC$TL_messages_saveDefaultSendAs;
import org.telegram.tgnet.TLRPC$TL_messages_saveGif;
import org.telegram.tgnet.TLRPC$TL_messages_saveRecentSticker;
import org.telegram.tgnet.TLRPC$TL_messages_search;
import org.telegram.tgnet.TLRPC$TL_messages_setChatAvailableReactions;
import org.telegram.tgnet.TLRPC$TL_messages_setEncryptedTyping;
import org.telegram.tgnet.TLRPC$TL_messages_setHistoryTTL;
import org.telegram.tgnet.TLRPC$TL_messages_setTyping;
import org.telegram.tgnet.TLRPC$TL_messages_sponsoredMessages;
import org.telegram.tgnet.TLRPC$TL_messages_startBot;
import org.telegram.tgnet.TLRPC$TL_messages_stickerSet;
import org.telegram.tgnet.TLRPC$TL_messages_toggleDialogPin;
import org.telegram.tgnet.TLRPC$TL_messages_toggleNoForwards;
import org.telegram.tgnet.TLRPC$TL_messages_unpinAllMessages;
import org.telegram.tgnet.TLRPC$TL_messages_updatePinnedMessage;
import org.telegram.tgnet.TLRPC$TL_notificationSoundDefault;
import org.telegram.tgnet.TLRPC$TL_notificationSoundLocal;
import org.telegram.tgnet.TLRPC$TL_notificationSoundNone;
import org.telegram.tgnet.TLRPC$TL_notificationSoundRingtone;
import org.telegram.tgnet.TLRPC$TL_notifyBroadcasts;
import org.telegram.tgnet.TLRPC$TL_notifyChats;
import org.telegram.tgnet.TLRPC$TL_notifyPeer;
import org.telegram.tgnet.TLRPC$TL_notifyUsers;
import org.telegram.tgnet.TLRPC$TL_peerChannel;
import org.telegram.tgnet.TLRPC$TL_peerChat;
import org.telegram.tgnet.TLRPC$TL_peerNotifySettings;
import org.telegram.tgnet.TLRPC$TL_peerSettings;
import org.telegram.tgnet.TLRPC$TL_peerUser;
import org.telegram.tgnet.TLRPC$TL_phoneCallDiscardReasonBusy;
import org.telegram.tgnet.TLRPC$TL_phoneCallRequested;
import org.telegram.tgnet.TLRPC$TL_phone_discardCall;
import org.telegram.tgnet.TLRPC$TL_phone_getGroupCall;
import org.telegram.tgnet.TLRPC$TL_phone_groupCall;
import org.telegram.tgnet.TLRPC$TL_photo;
import org.telegram.tgnet.TLRPC$TL_photoEmpty;
import org.telegram.tgnet.TLRPC$TL_photos_deletePhotos;
import org.telegram.tgnet.TLRPC$TL_photos_getUserPhotos;
import org.telegram.tgnet.TLRPC$TL_photos_photo;
import org.telegram.tgnet.TLRPC$TL_photos_photos;
import org.telegram.tgnet.TLRPC$TL_photos_updateProfilePhoto;
import org.telegram.tgnet.TLRPC$TL_photos_uploadProfilePhoto;
import org.telegram.tgnet.TLRPC$TL_privacyKeyAddedByPhone;
import org.telegram.tgnet.TLRPC$TL_privacyKeyChatInvite;
import org.telegram.tgnet.TLRPC$TL_privacyKeyForwards;
import org.telegram.tgnet.TLRPC$TL_privacyKeyPhoneCall;
import org.telegram.tgnet.TLRPC$TL_privacyKeyPhoneNumber;
import org.telegram.tgnet.TLRPC$TL_privacyKeyPhoneP2P;
import org.telegram.tgnet.TLRPC$TL_privacyKeyProfilePhoto;
import org.telegram.tgnet.TLRPC$TL_privacyKeyStatusTimestamp;
import org.telegram.tgnet.TLRPC$TL_privacyKeyVoiceMessages;
import org.telegram.tgnet.TLRPC$TL_replyKeyboardHide;
import org.telegram.tgnet.TLRPC$TL_restrictionReason;
import org.telegram.tgnet.TLRPC$TL_sendMessageCancelAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageChooseContactAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageChooseStickerAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageEmojiInteraction;
import org.telegram.tgnet.TLRPC$TL_sendMessageEmojiInteractionSeen;
import org.telegram.tgnet.TLRPC$TL_sendMessageGamePlayAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageGeoLocationAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageHistoryImportAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageRecordAudioAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageRecordRoundAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageRecordVideoAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageTypingAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageUploadAudioAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageUploadDocumentAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageUploadPhotoAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageUploadRoundAction;
import org.telegram.tgnet.TLRPC$TL_sendMessageUploadVideoAction;
import org.telegram.tgnet.TLRPC$TL_speakingInGroupCallAction;
import org.telegram.tgnet.TLRPC$TL_sponsoredMessage;
import org.telegram.tgnet.TLRPC$TL_theme;
import org.telegram.tgnet.TLRPC$TL_updateAttachMenuBots;
import org.telegram.tgnet.TLRPC$TL_updateBotCommands;
import org.telegram.tgnet.TLRPC$TL_updateBotMenuButton;
import org.telegram.tgnet.TLRPC$TL_updateChannel;
import org.telegram.tgnet.TLRPC$TL_updateChannelAvailableMessages;
import org.telegram.tgnet.TLRPC$TL_updateChannelMessageForwards;
import org.telegram.tgnet.TLRPC$TL_updateChannelMessageViews;
import org.telegram.tgnet.TLRPC$TL_updateChannelReadMessagesContents;
import org.telegram.tgnet.TLRPC$TL_updateChannelTooLong;
import org.telegram.tgnet.TLRPC$TL_updateChannelUserTyping;
import org.telegram.tgnet.TLRPC$TL_updateChannelWebPage;
import org.telegram.tgnet.TLRPC$TL_updateChat;
import org.telegram.tgnet.TLRPC$TL_updateChatDefaultBannedRights;
import org.telegram.tgnet.TLRPC$TL_updateChatParticipantAdd;
import org.telegram.tgnet.TLRPC$TL_updateChatParticipantAdmin;
import org.telegram.tgnet.TLRPC$TL_updateChatParticipantDelete;
import org.telegram.tgnet.TLRPC$TL_updateChatParticipants;
import org.telegram.tgnet.TLRPC$TL_updateChatUserTyping;
import org.telegram.tgnet.TLRPC$TL_updateConfig;
import org.telegram.tgnet.TLRPC$TL_updateContactsReset;
import org.telegram.tgnet.TLRPC$TL_updateDcOptions;
import org.telegram.tgnet.TLRPC$TL_updateDeleteChannelMessages;
import org.telegram.tgnet.TLRPC$TL_updateDeleteMessages;
import org.telegram.tgnet.TLRPC$TL_updateDeleteScheduledMessages;
import org.telegram.tgnet.TLRPC$TL_updateDialogFilter;
import org.telegram.tgnet.TLRPC$TL_updateDialogFilterOrder;
import org.telegram.tgnet.TLRPC$TL_updateDialogFilters;
import org.telegram.tgnet.TLRPC$TL_updateDialogPinned;
import org.telegram.tgnet.TLRPC$TL_updateDialogUnreadMark;
import org.telegram.tgnet.TLRPC$TL_updateDraftMessage;
import org.telegram.tgnet.TLRPC$TL_updateEditChannelMessage;
import org.telegram.tgnet.TLRPC$TL_updateEditMessage;
import org.telegram.tgnet.TLRPC$TL_updateEncryptedChatTyping;
import org.telegram.tgnet.TLRPC$TL_updateEncryptedMessagesRead;
import org.telegram.tgnet.TLRPC$TL_updateEncryption;
import org.telegram.tgnet.TLRPC$TL_updateFavedStickers;
import org.telegram.tgnet.TLRPC$TL_updateFolderPeers;
import org.telegram.tgnet.TLRPC$TL_updateGeoLiveViewed;
import org.telegram.tgnet.TLRPC$TL_updateGroupCall;
import org.telegram.tgnet.TLRPC$TL_updateGroupCallConnection;
import org.telegram.tgnet.TLRPC$TL_updateGroupCallParticipants;
import org.telegram.tgnet.TLRPC$TL_updateLangPack;
import org.telegram.tgnet.TLRPC$TL_updateLangPackTooLong;
import org.telegram.tgnet.TLRPC$TL_updateMessageID;
import org.telegram.tgnet.TLRPC$TL_updateMessagePoll;
import org.telegram.tgnet.TLRPC$TL_updateMessageReactions;
import org.telegram.tgnet.TLRPC$TL_updateNewChannelMessage;
import org.telegram.tgnet.TLRPC$TL_updateNewEncryptedMessage;
import org.telegram.tgnet.TLRPC$TL_updateNewMessage;
import org.telegram.tgnet.TLRPC$TL_updateNewScheduledMessage;
import org.telegram.tgnet.TLRPC$TL_updateNewStickerSet;
import org.telegram.tgnet.TLRPC$TL_updateNotifySettings;
import org.telegram.tgnet.TLRPC$TL_updatePeerBlocked;
import org.telegram.tgnet.TLRPC$TL_updatePeerHistoryTTL;
import org.telegram.tgnet.TLRPC$TL_updatePeerLocated;
import org.telegram.tgnet.TLRPC$TL_updatePeerSettings;
import org.telegram.tgnet.TLRPC$TL_updatePendingJoinRequests;
import org.telegram.tgnet.TLRPC$TL_updatePhoneCall;
import org.telegram.tgnet.TLRPC$TL_updatePhoneCallSignalingData;
import org.telegram.tgnet.TLRPC$TL_updatePinnedChannelMessages;
import org.telegram.tgnet.TLRPC$TL_updatePinnedDialogs;
import org.telegram.tgnet.TLRPC$TL_updatePinnedMessages;
import org.telegram.tgnet.TLRPC$TL_updatePrivacy;
import org.telegram.tgnet.TLRPC$TL_updateReadChannelDiscussionInbox;
import org.telegram.tgnet.TLRPC$TL_updateReadChannelDiscussionOutbox;
import org.telegram.tgnet.TLRPC$TL_updateReadChannelInbox;
import org.telegram.tgnet.TLRPC$TL_updateReadChannelOutbox;
import org.telegram.tgnet.TLRPC$TL_updateReadFeaturedEmojiStickers;
import org.telegram.tgnet.TLRPC$TL_updateReadFeaturedStickers;
import org.telegram.tgnet.TLRPC$TL_updateReadHistoryInbox;
import org.telegram.tgnet.TLRPC$TL_updateReadHistoryOutbox;
import org.telegram.tgnet.TLRPC$TL_updateReadMessagesContents;
import org.telegram.tgnet.TLRPC$TL_updateRecentStickers;
import org.telegram.tgnet.TLRPC$TL_updateSavedGifs;
import org.telegram.tgnet.TLRPC$TL_updateSavedRingtones;
import org.telegram.tgnet.TLRPC$TL_updateServiceNotification;
import org.telegram.tgnet.TLRPC$TL_updateShort;
import org.telegram.tgnet.TLRPC$TL_updateShortChatMessage;
import org.telegram.tgnet.TLRPC$TL_updateShortMessage;
import org.telegram.tgnet.TLRPC$TL_updateStickerSets;
import org.telegram.tgnet.TLRPC$TL_updateStickerSetsOrder;
import org.telegram.tgnet.TLRPC$TL_updateTheme;
import org.telegram.tgnet.TLRPC$TL_updateTranscribeAudio;
import org.telegram.tgnet.TLRPC$TL_updateTranscribedAudio;
import org.telegram.tgnet.TLRPC$TL_updateUserName;
import org.telegram.tgnet.TLRPC$TL_updateUserPhone;
import org.telegram.tgnet.TLRPC$TL_updateUserPhoto;
import org.telegram.tgnet.TLRPC$TL_updateUserStatus;
import org.telegram.tgnet.TLRPC$TL_updateUserTyping;
import org.telegram.tgnet.TLRPC$TL_updateWebPage;
import org.telegram.tgnet.TLRPC$TL_updateWebViewResultSent;
import org.telegram.tgnet.TLRPC$TL_updates;
import org.telegram.tgnet.TLRPC$TL_updatesCombined;
import org.telegram.tgnet.TLRPC$TL_updatesTooLong;
import org.telegram.tgnet.TLRPC$TL_updates_channelDifference;
import org.telegram.tgnet.TLRPC$TL_updates_channelDifferenceEmpty;
import org.telegram.tgnet.TLRPC$TL_updates_channelDifferenceTooLong;
import org.telegram.tgnet.TLRPC$TL_updates_difference;
import org.telegram.tgnet.TLRPC$TL_updates_differenceEmpty;
import org.telegram.tgnet.TLRPC$TL_updates_differenceSlice;
import org.telegram.tgnet.TLRPC$TL_updates_differenceTooLong;
import org.telegram.tgnet.TLRPC$TL_updates_getChannelDifference;
import org.telegram.tgnet.TLRPC$TL_updates_getDifference;
import org.telegram.tgnet.TLRPC$TL_updates_getState;
import org.telegram.tgnet.TLRPC$TL_updates_state;
import org.telegram.tgnet.TLRPC$TL_user;
import org.telegram.tgnet.TLRPC$TL_userForeign_old2;
import org.telegram.tgnet.TLRPC$TL_userProfilePhoto;
import org.telegram.tgnet.TLRPC$TL_userProfilePhotoEmpty;
import org.telegram.tgnet.TLRPC$TL_userStatusLastMonth;
import org.telegram.tgnet.TLRPC$TL_userStatusLastWeek;
import org.telegram.tgnet.TLRPC$TL_userStatusRecently;
import org.telegram.tgnet.TLRPC$TL_users_getFullUser;
import org.telegram.tgnet.TLRPC$TL_users_getUsers;
import org.telegram.tgnet.TLRPC$TL_users_userFull;
import org.telegram.tgnet.TLRPC$TL_wallPaper;
import org.telegram.tgnet.TLRPC$TL_wallPaperNoFile;
import org.telegram.tgnet.TLRPC$TL_wallPaperSettings;
import org.telegram.tgnet.TLRPC$TL_webPage;
import org.telegram.tgnet.TLRPC$TL_webPageEmpty;
import org.telegram.tgnet.TLRPC$TL_webPagePending;
import org.telegram.tgnet.TLRPC$TL_webPageUrlPending;
import org.telegram.tgnet.TLRPC$Update;
import org.telegram.tgnet.TLRPC$Updates;
import org.telegram.tgnet.TLRPC$User;
import org.telegram.tgnet.TLRPC$UserFull;
import org.telegram.tgnet.TLRPC$UserProfilePhoto;
import org.telegram.tgnet.TLRPC$UserStatus;
import org.telegram.tgnet.TLRPC$Vector;
import org.telegram.tgnet.TLRPC$VideoSize;
import org.telegram.tgnet.TLRPC$WallPaper;
import org.telegram.tgnet.TLRPC$WallPaperSettings;
import org.telegram.tgnet.TLRPC$WebPage;
import org.telegram.tgnet.TLRPC$contacts_Blocked;
import org.telegram.tgnet.TLRPC$messages_Dialogs;
import org.telegram.tgnet.TLRPC$messages_Messages;
import org.telegram.tgnet.TLRPC$photos_Photos;
import org.telegram.tgnet.TLRPC$updates_ChannelDifference;
import org.telegram.tgnet.TLRPC$updates_Difference;
import org.telegram.ui.ActionBar.AlertDialog;
import org.telegram.ui.ActionBar.BaseFragment;
import org.telegram.ui.ActionBar.Theme;
import org.telegram.ui.ChatActivity;
import org.telegram.ui.ChatRightsEditActivity;
import org.telegram.ui.Components.AlertsCreator;
import org.telegram.ui.Components.AnimatedEmojiDrawable;
import org.telegram.ui.Components.BulletinFactory;
import org.telegram.ui.Components.JoinCallAlert;
import org.telegram.ui.Components.MotionBackgroundDrawable;
import org.telegram.ui.Components.TranscribeButton;
import org.telegram.ui.DialogsActivity;
import org.telegram.ui.LaunchActivity;
import org.telegram.ui.PremiumPreviewFragment;
import org.telegram.ui.ProfileActivity;
/* loaded from: classes.dex */
public class MessagesController extends BaseController implements NotificationCenter.NotificationCenterDelegate {
    public static int DIALOG_FILTER_FLAG_BOTS = 16;
    public static int DIALOG_FILTER_FLAG_CHANNELS = 8;
    public static int DIALOG_FILTER_FLAG_CONTACTS = 1;
    public static int DIALOG_FILTER_FLAG_EXCLUDE_ARCHIVED = 128;
    public static int DIALOG_FILTER_FLAG_EXCLUDE_MUTED = 32;
    public static int DIALOG_FILTER_FLAG_EXCLUDE_READ = 64;
    public static int DIALOG_FILTER_FLAG_GROUPS = 4;
    public static int DIALOG_FILTER_FLAG_NON_CONTACTS = 2;
    public static int DIALOG_FILTER_FLAG_ONLY_ARCHIVED = 256;
    public static int PROMO_TYPE_OTHER = 2;
    public static int PROMO_TYPE_PROXY = 0;
    public static int PROMO_TYPE_PSA = 1;
    public static int UPDATE_MASK_AVATAR = 2;
    public static int UPDATE_MASK_CHAT = 8192;
    public static int UPDATE_MASK_CHAT_AVATAR = 8;
    public static int UPDATE_MASK_CHAT_MEMBERS = 32;
    public static int UPDATE_MASK_CHAT_NAME = 16;
    public static int UPDATE_MASK_CHECK = 65536;
    public static int UPDATE_MASK_EMOJI_INTERACTIONS = 262144;
    public static int UPDATE_MASK_MESSAGE_TEXT = 32768;
    public static int UPDATE_MASK_NAME = 1;
    public static int UPDATE_MASK_NEW_MESSAGE = 2048;
    public static int UPDATE_MASK_PHONE = 1024;
    public static int UPDATE_MASK_READ_DIALOG_MESSAGE = 256;
    public static int UPDATE_MASK_REORDER = 131072;
    public static int UPDATE_MASK_SELECT_DIALOG = 512;
    public static int UPDATE_MASK_SEND_STATE = 4096;
    public static int UPDATE_MASK_STATUS = 4;
    public static int UPDATE_MASK_USER_PHONE = 128;
    public static int UPDATE_MASK_USER_PRINT = 64;
    private static volatile long lastPasswordCheckTime;
    private static volatile long lastThemeCheckTime;
    public int aboutLengthLimitDefault;
    public int aboutLengthLimitPremium;
    public float animatedEmojisZoom;
    public Set<String> authDomains;
    public boolean autoarchiveAvailable;
    public Set<String> autologinDomains;
    public String autologinToken;
    public int availableMapProviders;
    public boolean backgroundConnection;
    public boolean blockedCountry;
    public boolean blockedEndReached;
    public int callConnectTimeout;
    public int callPacketTimeout;
    public int callReceiveTimeout;
    public int callRingTimeout;
    public boolean canRevokePmInbox;
    public int captionLengthLimitDefault;
    public int captionLengthLimitPremium;
    public int channelsLimitDefault;
    public int channelsLimitPremium;
    public int chatReadMarkExpirePeriod;
    public int chatReadMarkSizeThreshold;
    private boolean checkingPromoInfo;
    private int checkingPromoInfoRequestId;
    private boolean checkingTosUpdate;
    private Runnable currentDeleteTaskRunnable;
    private LongSparseArray<ArrayList<Integer>> currentDeletingTaskMediaMids;
    private LongSparseArray<ArrayList<Integer>> currentDeletingTaskMids;
    private int currentDeletingTaskTime;
    public String dcDomainName;
    public int dialogFiltersChatsLimitDefault;
    public int dialogFiltersChatsLimitPremium;
    public int dialogFiltersLimitDefault;
    public int dialogFiltersLimitPremium;
    public boolean dialogFiltersLoaded;
    public int dialogFiltersPinnedLimitDefault;
    public int dialogFiltersPinnedLimitPremium;
    private boolean dialogsInTransaction;
    public boolean dialogsLoaded;
    public HashSet<String> diceEmojies;
    private SharedPreferences emojiPreferences;
    public boolean enableJoined;
    public Set<String> exportGroupUri;
    public Set<String> exportPrivateUri;
    public Set<String> exportUri;
    public TLRPC$WebPage faqWebPage;
    public boolean filtersEnabled;
    public boolean firstGettingTask;
    public boolean getfileExperimentalParams;
    private boolean gettingAppChangelog;
    public boolean gettingDifference;
    private boolean gettingNewDeleteTask;
    public String gifSearchBot;
    public int groupCallVideoMaxParticipants;
    public volatile boolean ignoreSetOnline;
    public String imageSearchBot;
    private String installReferer;
    private boolean isLeftPromoChannel;
    public boolean keepAliveService;
    private int lastCheckPromoId;
    private int lastPrintingStringCount;
    private long lastPushRegisterSendTime;
    private long lastStatusUpdateTime;
    private long lastViewsCheckTime;
    public String linkPrefix;
    private boolean loadingAppConfig;
    private int loadingNotificationSettings;
    private boolean loadingNotificationSignUpSettings;
    private boolean loadingRemoteFilters;
    private boolean loadingSuggestedFilters;
    private boolean loadingUnreadDialogs;
    private SharedPreferences mainPreferences;
    public String mapKey;
    public int mapProvider;
    public int maxCaptionLength;
    public int maxEditTime;
    public int maxFaveStickersCount;
    public int maxFolderPinnedDialogsCount;
    public int maxGroupCount;
    public int maxMegagroupCount;
    public int maxMessageLength;
    public int maxPinnedDialogsCount;
    public int maxRecentGifsCount;
    public int maxRecentStickersCount;
    private boolean migratingDialogs;
    private int nextPromoInfoCheckTime;
    private int nextTosCheckTime;
    private SharedPreferences notificationsPreferences;
    private boolean offlineSent;
    public Set<String> pendingSuggestions;
    private int pollsToCheckSize;
    public boolean preloadFeaturedStickers;
    public String premiumBotUsername;
    public String premiumInvoiceSlug;
    public boolean premiumLocked;
    private TLRPC$Dialog promoDialog;
    private long promoDialogId;
    public int promoDialogType;
    public String promoPsaMessage;
    public String promoPsaType;
    private String proxyDialogAddress;
    public int publicLinksLimitDefault;
    public int publicLinksLimitPremium;
    public boolean qrLoginCamera;
    public int ratingDecay;
    public boolean registeringForPush;
    public boolean remoteConfigLoaded;
    private TLRPC$messages_Dialogs resetDialogsAll;
    private TLRPC$TL_messages_peerDialogs resetDialogsPinned;
    private boolean resetingDialogs;
    public int revokeTimeLimit;
    public int revokeTimePmLimit;
    public int ringtoneDurationMax;
    public int ringtoneSizeMax;
    public int roundAudioBitrate;
    public int roundVideoBitrate;
    public int roundVideoSize;
    public boolean saveGifsWithStickers;
    public int savedGifsLimitDefault;
    public int savedGifsLimitPremium;
    public int secretWebpagePreview;
    public boolean showFiltersTooltip;
    private DialogFilter sortingDialogFilter;
    private int statusRequest;
    private int statusSettingState;
    public int stickersFavedLimitDefault;
    public int stickersFavedLimitPremium;
    public boolean suggestStickersApiOnly;
    public String suggestedLangCode;
    public int unreadUnmutedDialogs;
    public int updateCheckDelay;
    private long updatesStartWaitTimePts;
    private long updatesStartWaitTimeQts;
    private long updatesStartWaitTimeSeq;
    public boolean updatingState;
    public int uploadMaxFileParts;
    public int uploadMaxFilePartsPremium;
    private String uploadingAvatar;
    private String uploadingWallpaper;
    private Theme.OverrideWallpaperInfo uploadingWallpaperInfo;
    public String venueSearchBot;
    public int webFileDatacenterId;
    public String youtubePipType;
    public static int UPDATE_MASK_ALL = ((((((((2 | 4) | 1) | 8) | 16) | 32) | 64) | 128) | 256) | 1024;
    public static int DIALOG_FILTER_FLAG_ALL_CHATS = (((1 | 2) | 4) | 8) | 16;
    private static volatile MessagesController[] Instance = new MessagesController[4];
    private static final Object[] lockObjects = new Object[4];
    private ConcurrentHashMap<Long, TLRPC$Chat> chats = new ConcurrentHashMap<>(100, 1.0f, 2);
    private ConcurrentHashMap<Integer, TLRPC$EncryptedChat> encryptedChats = new ConcurrentHashMap<>(10, 1.0f, 2);
    private ConcurrentHashMap<Long, TLRPC$User> users = new ConcurrentHashMap<>(100, 1.0f, 2);
    private ConcurrentHashMap<String, TLObject> objectsByUsernames = new ConcurrentHashMap<>(100, 1.0f, 2);
    private HashMap<Long, TLRPC$Chat> activeVoiceChatsMap = new HashMap<>();
    private ArrayList<Long> joiningToChannels = new ArrayList<>();
    private LongSparseArray<TLRPC$TL_chatInviteExported> exportedChats = new LongSparseArray<>();
    public ArrayList<TLRPC$RecentMeUrl> hintDialogs = new ArrayList<>();
    public SparseArray<ArrayList<TLRPC$Dialog>> dialogsByFolder = new SparseArray<>();
    protected ArrayList<TLRPC$Dialog> allDialogs = new ArrayList<>();
    public ArrayList<TLRPC$Dialog> dialogsForward = new ArrayList<>();
    public ArrayList<TLRPC$Dialog> dialogsServerOnly = new ArrayList<>();
    public ArrayList<TLRPC$Dialog> dialogsCanAddUsers = new ArrayList<>();
    public ArrayList<TLRPC$Dialog> dialogsMyChannels = new ArrayList<>();
    public ArrayList<TLRPC$Dialog> dialogsMyGroups = new ArrayList<>();
    public ArrayList<TLRPC$Dialog> dialogsChannelsOnly = new ArrayList<>();
    public ArrayList<TLRPC$Dialog> dialogsUsersOnly = new ArrayList<>();
    public ArrayList<TLRPC$Dialog> dialogsForBlock = new ArrayList<>();
    public ArrayList<TLRPC$Dialog> dialogsGroupsOnly = new ArrayList<>();
    public DialogFilter[] selectedDialogFilter = new DialogFilter[2];
    private int dialogsLoadedTillDate = Integer.MAX_VALUE;
    public ConcurrentHashMap<Long, Integer> dialogs_read_inbox_max = new ConcurrentHashMap<>(100, 1.0f, 2);
    public ConcurrentHashMap<Long, Integer> dialogs_read_outbox_max = new ConcurrentHashMap<>(100, 1.0f, 2);
    public LongSparseArray<TLRPC$Dialog> dialogs_dict = new LongSparseArray<>();
    public LongSparseArray<MessageObject> dialogMessage = new LongSparseArray<>();
    public LongSparseArray<MessageObject> dialogMessagesByRandomIds = new LongSparseArray<>();
    public LongSparseIntArray deletedHistory = new LongSparseIntArray();
    public SparseArray<MessageObject> dialogMessagesByIds = new SparseArray<>();
    public ConcurrentHashMap<Long, ConcurrentHashMap<Integer, ArrayList<PrintingUser>>> printingUsers = new ConcurrentHashMap<>(20, 1.0f, 2);
    public LongSparseArray<SparseArray<CharSequence>> printingStrings = new LongSparseArray<>();
    public LongSparseArray<SparseArray<Integer>> printingStringsTypes = new LongSparseArray<>();
    public LongSparseArray<SparseArray<Boolean>>[] sendingTypings = new LongSparseArray[12];
    public ConcurrentHashMap<Long, Integer> onlinePrivacy = new ConcurrentHashMap<>(20, 1.0f, 2);
    private LongSparseArray<Boolean> loadingPeerSettings = new LongSparseArray<>();
    private ArrayList<Long> createdDialogIds = new ArrayList<>();
    private ArrayList<Long> createdScheduledDialogIds = new ArrayList<>();
    private ArrayList<Long> createdDialogMainThreadIds = new ArrayList<>();
    private ArrayList<Long> visibleDialogMainThreadIds = new ArrayList<>();
    private ArrayList<Long> visibleScheduledDialogMainThreadIds = new ArrayList<>();
    private LongSparseIntArray shortPollChannels = new LongSparseIntArray();
    private LongSparseArray<ArrayList<Integer>> needShortPollChannels = new LongSparseArray<>();
    private LongSparseIntArray shortPollOnlines = new LongSparseIntArray();
    private LongSparseArray<ArrayList<Integer>> needShortPollOnlines = new LongSparseArray<>();
    private LongSparseArray<TLRPC$Dialog> deletingDialogs = new LongSparseArray<>();
    private LongSparseArray<TLRPC$Dialog> clearingHistoryDialogs = new LongSparseArray<>();
    public boolean loadingBlockedPeers = false;
    public LongSparseIntArray blockePeers = new LongSparseIntArray();
    public int totalBlockedCount = -1;
    private LongSparseArray<ArrayList<Integer>> channelViewsToSend = new LongSparseArray<>();
    private LongSparseArray<SparseArray<MessageObject>> pollsToCheck = new LongSparseArray<>();
    public SparseIntArray premiumFeaturesTypesToPosition = new SparseIntArray();
    public ArrayList<DialogFilter> dialogFilters = new ArrayList<>();
    public SparseArray<DialogFilter> dialogFiltersById = new SparseArray<>();
    public ArrayList<TLRPC$TL_dialogFilterSuggested> suggestedFilters = new ArrayList<>();
    private LongSparseArray<ArrayList<TLRPC$Updates>> updatesQueueChannels = new LongSparseArray<>();
    private LongSparseLongArray updatesStartWaitTimeChannels = new LongSparseLongArray();
    private LongSparseIntArray channelsPts = new LongSparseIntArray();
    private LongSparseArray<Boolean> gettingDifferenceChannels = new LongSparseArray<>();
    private LongSparseArray<Boolean> gettingChatInviters = new LongSparseArray<>();
    private LongSparseArray<Boolean> gettingUnknownChannels = new LongSparseArray<>();
    private LongSparseArray<Boolean> gettingUnknownDialogs = new LongSparseArray<>();
    private LongSparseArray<Boolean> checkingLastMessagesDialogs = new LongSparseArray<>();
    private ArrayList<TLRPC$Updates> updatesQueueSeq = new ArrayList<>();
    private ArrayList<TLRPC$Updates> updatesQueuePts = new ArrayList<>();
    private ArrayList<TLRPC$Updates> updatesQueueQts = new ArrayList<>();
    private LongSparseArray<TLRPC$UserFull> fullUsers = new LongSparseArray<>();
    private LongSparseArray<TLRPC$ChatFull> fullChats = new LongSparseArray<>();
    private LongSparseArray<ChatObject.Call> groupCalls = new LongSparseArray<>();
    private LongSparseArray<ChatObject.Call> groupCallsByChatId = new LongSparseArray<>();
    private ArrayList<Long> loadingFullUsers = new ArrayList<>();
    private ArrayList<Long> loadedFullUsers = new ArrayList<>();
    private ArrayList<Long> loadingFullChats = new ArrayList<>();
    private ArrayList<Long> loadingGroupCalls = new ArrayList<>();
    private ArrayList<Long> loadingFullParticipants = new ArrayList<>();
    private ArrayList<Long> loadedFullParticipants = new ArrayList<>();
    private ArrayList<Long> loadedFullChats = new ArrayList<>();
    private LongSparseArray<LongSparseArray<TLRPC$ChannelParticipant>> channelAdmins = new LongSparseArray<>();
    private LongSparseIntArray loadingChannelAdmins = new LongSparseIntArray();
    private SparseIntArray migratedChats = new SparseIntArray();
    private LongSparseArray<SponsoredMessagesInfo> sponsoredMessages = new LongSparseArray<>();
    private LongSparseArray<SendAsPeersInfo> sendAsPeers = new LongSparseArray<>();
    private HashMap<String, ArrayList<MessageObject>> reloadingWebpages = new HashMap<>();
    private LongSparseArray<ArrayList<MessageObject>> reloadingWebpagesPending = new LongSparseArray<>();
    private HashMap<String, ArrayList<MessageObject>> reloadingScheduledWebpages = new HashMap<>();
    private LongSparseArray<ArrayList<MessageObject>> reloadingScheduledWebpagesPending = new LongSparseArray<>();
    private LongSparseArray<Long> lastScheduledServerQueryTime = new LongSparseArray<>();
    private LongSparseArray<Long> lastServerQueryTime = new LongSparseArray<>();
    private LongSparseArray<ArrayList<Integer>> reloadingMessages = new LongSparseArray<>();
    private ArrayList<ReadTask> readTasks = new ArrayList<>();
    private LongSparseArray<ReadTask> readTasksMap = new LongSparseArray<>();
    private ArrayList<ReadTask> repliesReadTasks = new ArrayList<>();
    private HashMap<String, ReadTask> threadsReadTasksMap = new HashMap<>();
    private SparseIntArray nextDialogsCacheOffset = new SparseIntArray();
    private SparseBooleanArray loadingDialogs = new SparseBooleanArray();
    private SparseBooleanArray dialogsEndReached = new SparseBooleanArray();
    private SparseBooleanArray serverDialogsEndReached = new SparseBooleanArray();
    private boolean getDifferenceFirstSync = true;
    private SparseIntArray loadingPinnedDialogs = new SparseIntArray();
    public ArrayList<FaqSearchResult> faqSearchArray = new ArrayList<>();
    public boolean suggestContacts = true;
    private Runnable themeCheckRunnable = MessagesController$$ExternalSyntheticLambda219.INSTANCE;
    private Runnable passwordCheckRunnable = new MessagesController$$ExternalSyntheticLambda15(this);
    private HashMap<String, Object> uploadingThemes = new HashMap<>();
    public int maxBroadcastCount = 100;
    public int minGroupConvertSize = 200;
    public ArrayList<String> gifSearchEmojies = new ArrayList<>();
    public HashMap<String, DiceFrameSuccess> diceSuccess = new HashMap<>();
    public HashMap<String, EmojiSound> emojiSounds = new HashMap<>();
    public HashMap<Long, ArrayList<TLRPC$TL_sendMessageEmojiInteraction>> emojiInteractions = new HashMap<>();
    private Comparator<TLRPC$Dialog> dialogDateComparator = new MessagesController$$ExternalSyntheticLambda220(this);
    private Comparator<TLRPC$Dialog> dialogComparator = new MessagesController$$ExternalSyntheticLambda221(this);
    private Comparator<TLRPC$Update> updatesComparator = new MessagesController$$ExternalSyntheticLambda222(this);
    private int DIALOGS_LOAD_TYPE_CACHE = 1;
    private int DIALOGS_LOAD_TYPE_CHANNEL = 2;
    private int DIALOGS_LOAD_TYPE_UNKNOWN = 3;

    /* loaded from: classes.dex */
    public interface ErrorDelegate {
        boolean run(TLRPC$TL_error tLRPC$TL_error);
    }

    /* loaded from: classes.dex */
    public interface IsInChatCheckedCallback {
        void run(boolean z, TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights, String str);
    }

    /* loaded from: classes.dex */
    public interface MessagesLoadedCallback {
        void onError();

        void onMessagesLoaded(boolean z);
    }

    /* loaded from: classes.dex */
    public static class PrintingUser {
        public TLRPC$SendMessageAction action;
        public long lastTime;
        public long userId;
    }

    public static /* synthetic */ void lambda$blockPeer$69(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$completeReadTask$197(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$completeReadTask$199(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$deleteParticipantFromChat$246(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$deleteUserPhoto$93(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$hidePeerSettingsBar$54(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$hidePromoDialog$108(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$installTheme$96(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$installTheme$97(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$markMentionMessageAsRead$193(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$markMentionsAsRead$201(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$markMessageContentAsRead$191(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$markReactionsAsRead$336(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$processUpdates$306(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$removeSuggestion$22(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$reportSpam$55(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$reportSpam$56(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$reportSpam$57(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$saveTheme$95(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$unblockPeer$88(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public static /* synthetic */ void lambda$unregistedPush$252(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
    }

    public void markSponsoredAsRead(long j, MessageObject messageObject) {
    }

    public /* synthetic */ void lambda$new$0() {
        getUserConfig().checkSavedPassword();
    }

    public void getNextReactionMention(long j, int i, Consumer<Integer> consumer) {
        getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda77(this, j, consumer, i));
    }

    /* JADX WARN: Removed duplicated region for block: B:16:0x004c  */
    /* JADX WARN: Removed duplicated region for block: B:22:? A[RETURN, SYNTHETIC] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$getNextReactionMention$5(long j, Consumer consumer, int i) {
        boolean z;
        SQLiteException e;
        SQLiteCursor queryFinalized;
        int i2;
        try {
            queryFinalized = getMessagesStorage().getDatabase().queryFinalized(String.format(Locale.US, "SELECT message_id FROM reaction_mentions WHERE state = 1 AND dialog_id = %d LIMIT 1", Long.valueOf(j)), new Object[0]);
            if (queryFinalized.next()) {
                i2 = queryFinalized.intValue(0);
                z = false;
            } else {
                i2 = 0;
                z = true;
            }
        } catch (SQLiteException e2) {
            e = e2;
            z = true;
        }
        try {
            queryFinalized.dispose();
            if (i2 != 0) {
                getMessagesStorage().markMessageReactionsAsRead(j, i2, false);
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda6(consumer, i2));
            }
        } catch (SQLiteException e3) {
            e = e3;
            e.printStackTrace();
            if (!z) {
            }
        }
        if (!z) {
            TLRPC$TL_messages_getUnreadReactions tLRPC$TL_messages_getUnreadReactions = new TLRPC$TL_messages_getUnreadReactions();
            tLRPC$TL_messages_getUnreadReactions.peer = getMessagesController().getInputPeer(j);
            tLRPC$TL_messages_getUnreadReactions.limit = 1;
            tLRPC$TL_messages_getUnreadReactions.add_offset = i - 1;
            getConnectionsManager().sendRequest(tLRPC$TL_messages_getUnreadReactions, new MessagesController$$ExternalSyntheticLambda230(consumer));
        }
    }

    public static /* synthetic */ void lambda$getNextReactionMention$1(Consumer consumer, int i) {
        consumer.accept(Integer.valueOf(i));
    }

    public static /* synthetic */ void lambda$getNextReactionMention$4(Consumer consumer, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda218(tLObject, tLRPC$TL_error, consumer));
    }

    public static /* synthetic */ void lambda$getNextReactionMention$3(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error, Consumer consumer) {
        ArrayList<TLRPC$Message> arrayList;
        TLRPC$messages_Messages tLRPC$messages_Messages = (TLRPC$messages_Messages) tLObject;
        int i = 0;
        if (tLRPC$TL_error != null && tLRPC$messages_Messages != null && (arrayList = tLRPC$messages_Messages.messages) != null && !arrayList.isEmpty()) {
            i = tLRPC$messages_Messages.messages.get(0).id;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda7(consumer, i));
    }

    public static /* synthetic */ void lambda$getNextReactionMention$2(Consumer consumer, int i) {
        consumer.accept(Integer.valueOf(i));
    }

    public void updatePremium(boolean z) {
        if (this.dialogFilters.isEmpty()) {
            return;
        }
        if (!z) {
            if (!this.dialogFilters.get(0).isDefault()) {
                int i = 1;
                while (true) {
                    if (i >= this.dialogFilters.size()) {
                        break;
                    } else if (this.dialogFilters.get(i).isDefault()) {
                        this.dialogFilters.add(0, this.dialogFilters.remove(i));
                        break;
                    } else {
                        i++;
                    }
                }
            }
            lockFiltersInternal();
        } else {
            for (int i2 = 0; i2 < this.dialogFilters.size(); i2++) {
                this.dialogFilters.get(i2).locked = false;
            }
        }
        getMessagesStorage().saveDialogFiltersOrder();
        getNotificationCenter().postNotificationName(NotificationCenter.dialogFiltersUpdated, new Object[0]);
    }

    public void lockFiltersInternal() {
        boolean z;
        if (getUserConfig().isPremium() || this.dialogFilters.size() - 1 <= this.dialogFiltersLimitDefault) {
            z = false;
        } else {
            int size = (this.dialogFilters.size() - 1) - this.dialogFiltersLimitDefault;
            ArrayList arrayList = new ArrayList(this.dialogFilters);
            Collections.reverse(arrayList);
            z = false;
            for (int i = 0; i < arrayList.size(); i++) {
                if (i < size) {
                    if (!((DialogFilter) arrayList.get(i)).locked) {
                        z = true;
                    }
                    ((DialogFilter) arrayList.get(i)).locked = true;
                } else {
                    if (((DialogFilter) arrayList.get(i)).locked) {
                        z = true;
                    }
                    ((DialogFilter) arrayList.get(i)).locked = false;
                }
            }
        }
        if (z) {
            getNotificationCenter().postNotificationName(NotificationCenter.dialogFiltersUpdated, new Object[0]);
        }
    }

    public int getCaptionMaxLengthLimit() {
        return getUserConfig().isPremium() ? this.captionLengthLimitPremium : this.captionLengthLimitDefault;
    }

    public int getAboutLimit() {
        return getUserConfig().isPremium() ? this.aboutLengthLimitPremium : this.aboutLengthLimitDefault;
    }

    public boolean isPremiumUser(TLRPC$User tLRPC$User) {
        return !this.premiumLocked && tLRPC$User.premium;
    }

    public ArrayList<TLRPC$TL_messages_stickerSet> filterPremiumStickers(ArrayList<TLRPC$TL_messages_stickerSet> arrayList) {
        if (!this.premiumLocked) {
            return arrayList;
        }
        int i = 0;
        while (i < arrayList.size()) {
            TLRPC$TL_messages_stickerSet filterPremiumStickers = getInstance(this.currentAccount).filterPremiumStickers(arrayList.get(i));
            if (filterPremiumStickers == null) {
                arrayList.remove(i);
                i--;
            } else {
                arrayList.set(i, filterPremiumStickers);
            }
            i++;
        }
        return arrayList;
    }

    public TLRPC$TL_messages_stickerSet filterPremiumStickers(TLRPC$TL_messages_stickerSet tLRPC$TL_messages_stickerSet) {
        Exception e;
        boolean z;
        if (!this.premiumLocked || tLRPC$TL_messages_stickerSet == null) {
            return tLRPC$TL_messages_stickerSet;
        }
        int i = 0;
        int i2 = 0;
        while (true) {
            try {
                if (i2 >= tLRPC$TL_messages_stickerSet.documents.size()) {
                    z = false;
                    break;
                } else if (MessageObject.isPremiumSticker(tLRPC$TL_messages_stickerSet.documents.get(i2))) {
                    z = true;
                    break;
                } else {
                    i2++;
                }
            } catch (Exception e2) {
                e = e2;
            }
        }
        if (!z) {
            return tLRPC$TL_messages_stickerSet;
        }
        NativeByteBuffer nativeByteBuffer = new NativeByteBuffer(tLRPC$TL_messages_stickerSet.getObjectSize());
        tLRPC$TL_messages_stickerSet.serializeToStream(nativeByteBuffer);
        nativeByteBuffer.position(0);
        TLRPC$TL_messages_stickerSet tLRPC$TL_messages_stickerSet2 = new TLRPC$TL_messages_stickerSet();
        nativeByteBuffer.readInt32(true);
        tLRPC$TL_messages_stickerSet2.readParams(nativeByteBuffer, true);
        nativeByteBuffer.reuse();
        while (i < tLRPC$TL_messages_stickerSet2.documents.size()) {
            try {
                if (MessageObject.isPremiumSticker(tLRPC$TL_messages_stickerSet2.documents.get(i))) {
                    tLRPC$TL_messages_stickerSet2.documents.remove(i);
                    tLRPC$TL_messages_stickerSet2.packs.remove(i);
                    i--;
                    if (tLRPC$TL_messages_stickerSet2.documents.isEmpty()) {
                        return null;
                    }
                }
                i++;
            } catch (Exception e3) {
                e = e3;
                tLRPC$TL_messages_stickerSet = tLRPC$TL_messages_stickerSet2;
                e.printStackTrace();
                return tLRPC$TL_messages_stickerSet;
            }
        }
        return tLRPC$TL_messages_stickerSet2;
    }

    /* loaded from: classes.dex */
    public class SponsoredMessagesInfo {
        private long loadTime;
        private boolean loading;
        private ArrayList<MessageObject> messages;

        private SponsoredMessagesInfo() {
            MessagesController.this = r1;
        }

        /* synthetic */ SponsoredMessagesInfo(MessagesController messagesController, AnonymousClass1 anonymousClass1) {
            this();
        }
    }

    /* loaded from: classes.dex */
    public class SendAsPeersInfo {
        private long loadTime;
        private boolean loading;
        private TLRPC$TL_channels_sendAsPeers sendAsPeers;

        private SendAsPeersInfo() {
            MessagesController.this = r1;
        }

        /* synthetic */ SendAsPeersInfo(MessagesController messagesController, AnonymousClass1 anonymousClass1) {
            this();
        }
    }

    /* loaded from: classes.dex */
    public static class FaqSearchResult {
        public int num;
        public String[] path;
        public String title;
        public String url;

        public FaqSearchResult(String str, String[] strArr, String str2) {
            this.title = str;
            this.path = strArr;
            this.url = str2;
        }

        public boolean equals(Object obj) {
            if (!(obj instanceof FaqSearchResult)) {
                return false;
            }
            return this.title.equals(((FaqSearchResult) obj).title);
        }

        public String toString() {
            SerializedData serializedData = new SerializedData();
            serializedData.writeInt32(this.num);
            int i = 0;
            serializedData.writeInt32(0);
            serializedData.writeString(this.title);
            String[] strArr = this.path;
            serializedData.writeInt32(strArr != null ? strArr.length : 0);
            if (this.path != null) {
                while (true) {
                    String[] strArr2 = this.path;
                    if (i >= strArr2.length) {
                        break;
                    }
                    serializedData.writeString(strArr2[i]);
                    i++;
                }
            }
            serializedData.writeString(this.url);
            return Utilities.bytesToHex(serializedData.toByteArray());
        }
    }

    /* loaded from: classes.dex */
    public static class EmojiSound {
        public long accessHash;
        public byte[] fileReference;
        public long id;

        public EmojiSound(long j, long j2, String str) {
            this.id = j;
            this.accessHash = j2;
            this.fileReference = Base64.decode(str, 8);
        }

        public EmojiSound(long j, long j2, byte[] bArr) {
            this.id = j;
            this.accessHash = j2;
            this.fileReference = bArr;
        }

        public boolean equals(Object obj) {
            if (!(obj instanceof EmojiSound)) {
                return false;
            }
            EmojiSound emojiSound = (EmojiSound) obj;
            return this.id == emojiSound.id && this.accessHash == emojiSound.accessHash && Arrays.equals(this.fileReference, emojiSound.fileReference);
        }
    }

    public void clearQueryTime() {
        this.lastServerQueryTime.clear();
        this.lastScheduledServerQueryTime.clear();
    }

    /* loaded from: classes.dex */
    public static class DiceFrameSuccess {
        public int frame;
        public int num;

        public DiceFrameSuccess(int i, int i2) {
            this.frame = i;
            this.num = i2;
        }

        public boolean equals(Object obj) {
            if (!(obj instanceof DiceFrameSuccess)) {
                return false;
            }
            DiceFrameSuccess diceFrameSuccess = (DiceFrameSuccess) obj;
            return this.frame == diceFrameSuccess.frame && this.num == diceFrameSuccess.num;
        }
    }

    /* loaded from: classes.dex */
    public static class UserActionUpdatesSeq extends TLRPC$Updates {
        private UserActionUpdatesSeq() {
        }

        /* synthetic */ UserActionUpdatesSeq(AnonymousClass1 anonymousClass1) {
            this();
        }
    }

    /* loaded from: classes.dex */
    public static class UserActionUpdatesPts extends TLRPC$Updates {
        private UserActionUpdatesPts() {
        }

        /* synthetic */ UserActionUpdatesPts(AnonymousClass1 anonymousClass1) {
            this();
        }
    }

    static {
        for (int i = 0; i < 4; i++) {
            lockObjects[i] = new Object();
        }
    }

    /* loaded from: classes.dex */
    public static class ReadTask {
        public long dialogId;
        public int maxDate;
        public int maxId;
        public long replyId;
        public long sendRequestTime;

        private ReadTask() {
        }

        /* synthetic */ ReadTask(AnonymousClass1 anonymousClass1) {
            this();
        }
    }

    /* loaded from: classes.dex */
    public static class DialogFilter {
        private static int dialogFilterPointer = 10;
        public int flags;
        public int id;
        public int localId;
        public boolean locked;
        public String name;
        public int order;
        public volatile int pendingUnreadCount;
        public int unreadCount;
        public ArrayList<Long> alwaysShow = new ArrayList<>();
        public ArrayList<Long> neverShow = new ArrayList<>();
        public LongSparseIntArray pinnedDialogs = new LongSparseIntArray();
        public ArrayList<TLRPC$Dialog> dialogs = new ArrayList<>();

        public DialogFilter() {
            int i = dialogFilterPointer;
            dialogFilterPointer = i + 1;
            this.localId = i;
        }

        public boolean includesDialog(AccountInstance accountInstance, long j) {
            TLRPC$Dialog tLRPC$Dialog = accountInstance.getMessagesController().dialogs_dict.get(j);
            if (tLRPC$Dialog == null) {
                return false;
            }
            return includesDialog(accountInstance, j, tLRPC$Dialog);
        }

        public boolean includesDialog(AccountInstance accountInstance, long j, TLRPC$Dialog tLRPC$Dialog) {
            TLRPC$Chat chat;
            if (this.neverShow.contains(Long.valueOf(j))) {
                return false;
            }
            if (this.alwaysShow.contains(Long.valueOf(j))) {
                return true;
            }
            if (tLRPC$Dialog.folder_id != 0 && (this.flags & MessagesController.DIALOG_FILTER_FLAG_EXCLUDE_ARCHIVED) != 0) {
                return false;
            }
            MessagesController messagesController = accountInstance.getMessagesController();
            ContactsController contactsController = accountInstance.getContactsController();
            if (((this.flags & MessagesController.DIALOG_FILTER_FLAG_EXCLUDE_MUTED) != 0 && messagesController.isDialogMuted(tLRPC$Dialog.id) && tLRPC$Dialog.unread_mentions_count == 0) || ((this.flags & MessagesController.DIALOG_FILTER_FLAG_EXCLUDE_READ) != 0 && tLRPC$Dialog.unread_count == 0 && !tLRPC$Dialog.unread_mark && tLRPC$Dialog.unread_mentions_count == 0)) {
                return false;
            }
            if (j > 0) {
                TLRPC$User user = messagesController.getUser(Long.valueOf(j));
                if (user != null) {
                    if (!user.bot) {
                        if (user.self || user.contact || contactsController.isContact(j)) {
                            if ((this.flags & MessagesController.DIALOG_FILTER_FLAG_CONTACTS) != 0) {
                                return true;
                            }
                        } else if ((this.flags & MessagesController.DIALOG_FILTER_FLAG_NON_CONTACTS) != 0) {
                            return true;
                        }
                    } else if ((this.flags & MessagesController.DIALOG_FILTER_FLAG_BOTS) != 0) {
                        return true;
                    }
                }
            } else if (j < 0 && (chat = messagesController.getChat(Long.valueOf(-j))) != null) {
                if (ChatObject.isChannel(chat) && !chat.megagroup) {
                    if ((this.flags & MessagesController.DIALOG_FILTER_FLAG_CHANNELS) != 0) {
                        return true;
                    }
                } else if ((this.flags & MessagesController.DIALOG_FILTER_FLAG_GROUPS) != 0) {
                    return true;
                }
            }
            return false;
        }

        public boolean alwaysShow(int i, TLRPC$Dialog tLRPC$Dialog) {
            TLRPC$EncryptedChat encryptedChat;
            if (tLRPC$Dialog == null) {
                return false;
            }
            long j = tLRPC$Dialog.id;
            if (DialogObject.isEncryptedDialog(j) && (encryptedChat = MessagesController.getInstance(i).getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(j)))) != null) {
                j = encryptedChat.user_id;
            }
            return this.alwaysShow.contains(Long.valueOf(j));
        }

        public boolean isDefault() {
            return this.id == 0;
        }
    }

    public /* synthetic */ int lambda$new$6(TLRPC$Dialog tLRPC$Dialog, TLRPC$Dialog tLRPC$Dialog2) {
        int i = this.sortingDialogFilter.pinnedDialogs.get(tLRPC$Dialog.id, Integer.MIN_VALUE);
        int i2 = this.sortingDialogFilter.pinnedDialogs.get(tLRPC$Dialog2.id, Integer.MIN_VALUE);
        boolean z = tLRPC$Dialog instanceof TLRPC$TL_dialogFolder;
        if (!z || (tLRPC$Dialog2 instanceof TLRPC$TL_dialogFolder)) {
            if (!z && (tLRPC$Dialog2 instanceof TLRPC$TL_dialogFolder)) {
                return 1;
            }
            if (i == Integer.MIN_VALUE && i2 != Integer.MIN_VALUE) {
                return 1;
            }
            if (i != Integer.MIN_VALUE && i2 == Integer.MIN_VALUE) {
                return -1;
            }
            if (i != Integer.MIN_VALUE) {
                if (i > i2) {
                    return 1;
                }
                return i < i2 ? -1 : 0;
            }
            MediaDataController mediaDataController = getMediaDataController();
            long lastMessageOrDraftDate = DialogObject.getLastMessageOrDraftDate(tLRPC$Dialog, mediaDataController.getDraft(tLRPC$Dialog.id, 0));
            long lastMessageOrDraftDate2 = DialogObject.getLastMessageOrDraftDate(tLRPC$Dialog2, mediaDataController.getDraft(tLRPC$Dialog2.id, 0));
            if (lastMessageOrDraftDate < lastMessageOrDraftDate2) {
                return 1;
            }
            return lastMessageOrDraftDate > lastMessageOrDraftDate2 ? -1 : 0;
        }
        return -1;
    }

    public /* synthetic */ int lambda$new$7(TLRPC$Dialog tLRPC$Dialog, TLRPC$Dialog tLRPC$Dialog2) {
        boolean z = tLRPC$Dialog instanceof TLRPC$TL_dialogFolder;
        if (!z || (tLRPC$Dialog2 instanceof TLRPC$TL_dialogFolder)) {
            if (!z && (tLRPC$Dialog2 instanceof TLRPC$TL_dialogFolder)) {
                return 1;
            }
            boolean z2 = tLRPC$Dialog.pinned;
            if (!z2 && tLRPC$Dialog2.pinned) {
                return 1;
            }
            if (z2 && !tLRPC$Dialog2.pinned) {
                return -1;
            }
            if (z2) {
                int i = tLRPC$Dialog.pinnedNum;
                int i2 = tLRPC$Dialog2.pinnedNum;
                if (i < i2) {
                    return 1;
                }
                return i > i2 ? -1 : 0;
            }
            MediaDataController mediaDataController = getMediaDataController();
            long lastMessageOrDraftDate = DialogObject.getLastMessageOrDraftDate(tLRPC$Dialog, mediaDataController.getDraft(tLRPC$Dialog.id, 0));
            long lastMessageOrDraftDate2 = DialogObject.getLastMessageOrDraftDate(tLRPC$Dialog2, mediaDataController.getDraft(tLRPC$Dialog2.id, 0));
            if (lastMessageOrDraftDate < lastMessageOrDraftDate2) {
                return 1;
            }
            return lastMessageOrDraftDate > lastMessageOrDraftDate2 ? -1 : 0;
        }
        return -1;
    }

    public /* synthetic */ int lambda$new$8(TLRPC$Update tLRPC$Update, TLRPC$Update tLRPC$Update2) {
        int updateType = getUpdateType(tLRPC$Update);
        int updateType2 = getUpdateType(tLRPC$Update2);
        if (updateType != updateType2) {
            return AndroidUtilities.compare(updateType, updateType2);
        }
        if (updateType == 0) {
            return AndroidUtilities.compare(getUpdatePts(tLRPC$Update), getUpdatePts(tLRPC$Update2));
        }
        if (updateType == 1) {
            return AndroidUtilities.compare(getUpdateQts(tLRPC$Update), getUpdateQts(tLRPC$Update2));
        }
        if (updateType != 2) {
            return 0;
        }
        long updateChannelId = getUpdateChannelId(tLRPC$Update);
        long updateChannelId2 = getUpdateChannelId(tLRPC$Update2);
        if (updateChannelId == updateChannelId2) {
            return AndroidUtilities.compare(getUpdatePts(tLRPC$Update), getUpdatePts(tLRPC$Update2));
        }
        return AndroidUtilities.compare(updateChannelId, updateChannelId2);
    }

    public static MessagesController getInstance(int i) {
        MessagesController messagesController = Instance[i];
        if (messagesController == null) {
            synchronized (lockObjects[i]) {
                messagesController = Instance[i];
                if (messagesController == null) {
                    MessagesController[] messagesControllerArr = Instance;
                    MessagesController messagesController2 = new MessagesController(i);
                    messagesControllerArr[i] = messagesController2;
                    messagesController = messagesController2;
                }
            }
        }
        return messagesController;
    }

    public static SharedPreferences getNotificationsSettings(int i) {
        return getInstance(i).notificationsPreferences;
    }

    public static SharedPreferences getGlobalNotificationsSettings() {
        return getInstance(0).notificationsPreferences;
    }

    public static SharedPreferences getMainSettings(int i) {
        return getInstance(i).mainPreferences;
    }

    public static SharedPreferences getGlobalMainSettings() {
        return getInstance(0).mainPreferences;
    }

    public static SharedPreferences getEmojiSettings(int i) {
        return getInstance(i).emojiPreferences;
    }

    public static SharedPreferences getGlobalEmojiSettings() {
        return getInstance(0).emojiPreferences;
    }

    public MessagesController(int i) {
        super(i);
        ImageLoader.getInstance();
        getMessagesStorage();
        getLocationController();
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda12(this));
        addSupportUser();
        if (this.currentAccount == 0) {
            this.notificationsPreferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", 0);
            this.mainPreferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0);
            this.emojiPreferences = ApplicationLoader.applicationContext.getSharedPreferences("emoji", 0);
        } else {
            Context context = ApplicationLoader.applicationContext;
            this.notificationsPreferences = context.getSharedPreferences("Notifications" + this.currentAccount, 0);
            Context context2 = ApplicationLoader.applicationContext;
            this.mainPreferences = context2.getSharedPreferences("mainconfig" + this.currentAccount, 0);
            Context context3 = ApplicationLoader.applicationContext;
            this.emojiPreferences = context3.getSharedPreferences("emoji" + this.currentAccount, 0);
        }
        this.enableJoined = this.notificationsPreferences.getBoolean("EnableContactJoined", true);
        this.remoteConfigLoaded = this.mainPreferences.getBoolean("remoteConfigLoaded", false);
        this.secretWebpagePreview = this.mainPreferences.getInt("secretWebpage2", 2);
        this.maxGroupCount = this.mainPreferences.getInt("maxGroupCount", 200);
        this.maxMegagroupCount = this.mainPreferences.getInt("maxMegagroupCount", 10000);
        this.maxRecentGifsCount = this.mainPreferences.getInt("maxRecentGifsCount", 200);
        this.maxRecentStickersCount = this.mainPreferences.getInt("maxRecentStickersCount", 30);
        this.maxFaveStickersCount = this.mainPreferences.getInt("maxFaveStickersCount", 5);
        this.maxEditTime = this.mainPreferences.getInt("maxEditTime", 3600);
        this.ratingDecay = this.mainPreferences.getInt("ratingDecay", 2419200);
        this.linkPrefix = this.mainPreferences.getString("linkPrefix", "t.me");
        this.callReceiveTimeout = this.mainPreferences.getInt("callReceiveTimeout", 20000);
        this.callRingTimeout = this.mainPreferences.getInt("callRingTimeout", 90000);
        this.callConnectTimeout = this.mainPreferences.getInt("callConnectTimeout", 30000);
        this.callPacketTimeout = this.mainPreferences.getInt("callPacketTimeout", 10000);
        this.updateCheckDelay = this.mainPreferences.getInt("updateCheckDelay", 86400);
        this.maxPinnedDialogsCount = this.mainPreferences.getInt("maxPinnedDialogsCount", 5);
        this.maxFolderPinnedDialogsCount = this.mainPreferences.getInt("maxFolderPinnedDialogsCount", 100);
        this.maxMessageLength = this.mainPreferences.getInt("maxMessageLength", 4096);
        this.maxCaptionLength = this.mainPreferences.getInt("maxCaptionLength", 1024);
        this.mapProvider = this.mainPreferences.getInt("mapProvider", 0);
        this.availableMapProviders = this.mainPreferences.getInt("availableMapProviders", 3);
        this.mapKey = this.mainPreferences.getString("pk", null);
        this.installReferer = this.mainPreferences.getString("installReferer", null);
        this.revokeTimeLimit = this.mainPreferences.getInt("revokeTimeLimit", this.revokeTimeLimit);
        this.revokeTimePmLimit = this.mainPreferences.getInt("revokeTimePmLimit", this.revokeTimePmLimit);
        this.canRevokePmInbox = this.mainPreferences.getBoolean("canRevokePmInbox", this.canRevokePmInbox);
        this.preloadFeaturedStickers = this.mainPreferences.getBoolean("preloadFeaturedStickers", false);
        this.youtubePipType = this.mainPreferences.getString("youtubePipType", "disabled");
        this.keepAliveService = this.mainPreferences.getBoolean("keepAliveService", false);
        this.backgroundConnection = this.mainPreferences.getBoolean("keepAliveService", false);
        this.promoDialogId = this.mainPreferences.getLong("proxy_dialog", 0L);
        this.nextPromoInfoCheckTime = this.mainPreferences.getInt("nextPromoInfoCheckTime", 0);
        this.promoDialogType = this.mainPreferences.getInt("promo_dialog_type", 0);
        this.promoPsaMessage = this.mainPreferences.getString("promo_psa_message", null);
        this.promoPsaType = this.mainPreferences.getString("promo_psa_type", null);
        this.proxyDialogAddress = this.mainPreferences.getString("proxyDialogAddress", null);
        this.nextTosCheckTime = this.notificationsPreferences.getInt("nextTosCheckTime", 0);
        this.venueSearchBot = this.mainPreferences.getString("venueSearchBot", "foursquare");
        this.gifSearchBot = this.mainPreferences.getString("gifSearchBot", "gif");
        this.imageSearchBot = this.mainPreferences.getString("imageSearchBot", "pic");
        this.blockedCountry = this.mainPreferences.getBoolean("blockedCountry", false);
        this.dcDomainName = this.mainPreferences.getString("dcDomainName2", ConnectionsManager.native_isTestBackend(this.currentAccount) != 0 ? "tapv3.stel.com" : "apv3.stel.com");
        this.webFileDatacenterId = this.mainPreferences.getInt("webFileDatacenterId", ConnectionsManager.native_isTestBackend(this.currentAccount) != 0 ? 2 : 4);
        this.suggestedLangCode = this.mainPreferences.getString("suggestedLangCode", "en");
        this.animatedEmojisZoom = this.mainPreferences.getFloat("animatedEmojisZoom", 0.625f);
        this.qrLoginCamera = this.mainPreferences.getBoolean("qrLoginCamera", false);
        this.saveGifsWithStickers = this.mainPreferences.getBoolean("saveGifsWithStickers", false);
        this.filtersEnabled = this.mainPreferences.getBoolean("filtersEnabled", false);
        this.getfileExperimentalParams = this.mainPreferences.getBoolean("getfileExperimentalParams", false);
        this.showFiltersTooltip = this.mainPreferences.getBoolean("showFiltersTooltip", false);
        this.autoarchiveAvailable = this.mainPreferences.getBoolean("autoarchiveAvailable", false);
        this.groupCallVideoMaxParticipants = this.mainPreferences.getInt("groipCallVideoMaxParticipants", 30);
        this.chatReadMarkSizeThreshold = this.mainPreferences.getInt("chatReadMarkSizeThreshold", 100);
        this.chatReadMarkExpirePeriod = this.mainPreferences.getInt("chatReadMarkExpirePeriod", 604800);
        this.ringtoneDurationMax = this.mainPreferences.getInt("ringtoneDurationMax", 5);
        this.ringtoneSizeMax = this.mainPreferences.getInt("ringtoneSizeMax", 102400);
        this.chatReadMarkExpirePeriod = this.mainPreferences.getInt("chatReadMarkExpirePeriod", 604800);
        this.suggestStickersApiOnly = this.mainPreferences.getBoolean("suggestStickersApiOnly", false);
        this.roundVideoSize = this.mainPreferences.getInt("roundVideoSize", 384);
        this.roundVideoBitrate = this.mainPreferences.getInt("roundVideoBitrate", 1000);
        this.roundAudioBitrate = this.mainPreferences.getInt("roundAudioBitrate", 64);
        this.pendingSuggestions = this.mainPreferences.getStringSet("pendingSuggestions", null);
        int i2 = this.mainPreferences.getInt("channelsLimitDefault", 500);
        this.channelsLimitDefault = i2;
        this.channelsLimitPremium = this.mainPreferences.getInt("channelsLimitPremium", i2 * 2);
        this.savedGifsLimitDefault = this.mainPreferences.getInt("savedGifsLimitDefault", 200);
        this.savedGifsLimitPremium = this.mainPreferences.getInt("savedGifsLimitPremium", 400);
        this.stickersFavedLimitDefault = this.mainPreferences.getInt("stickersFavedLimitDefault", 5);
        this.stickersFavedLimitPremium = this.mainPreferences.getInt("stickersFavedLimitPremium", 200);
        this.dialogFiltersLimitDefault = this.mainPreferences.getInt("dialogFiltersLimitDefault", 10);
        this.dialogFiltersLimitPremium = this.mainPreferences.getInt("dialogFiltersLimitPremium", 20);
        this.dialogFiltersChatsLimitDefault = this.mainPreferences.getInt("dialogFiltersChatsLimitDefault", 100);
        this.dialogFiltersChatsLimitPremium = this.mainPreferences.getInt("dialogFiltersChatsLimitPremium", 200);
        this.dialogFiltersPinnedLimitDefault = this.mainPreferences.getInt("dialogFiltersPinnedLimitDefault", 5);
        this.dialogFiltersPinnedLimitPremium = this.mainPreferences.getInt("dialogFiltersPinnedLimitPremium", 10);
        this.publicLinksLimitDefault = this.mainPreferences.getInt("publicLinksLimitDefault", 10);
        this.publicLinksLimitPremium = this.mainPreferences.getInt("publicLinksLimitPremium", 20);
        this.captionLengthLimitDefault = this.mainPreferences.getInt("captionLengthLimitDefault", 1024);
        this.captionLengthLimitPremium = this.mainPreferences.getInt("captionLengthLimitPremium", 4096);
        this.aboutLengthLimitDefault = this.mainPreferences.getInt("aboutLengthLimitDefault", 70);
        this.aboutLengthLimitPremium = this.mainPreferences.getInt("aboutLengthLimitPremium", 140);
        int i3 = this.mainPreferences.getInt("uploadMaxFileParts", 4000);
        this.uploadMaxFileParts = i3;
        this.uploadMaxFilePartsPremium = this.mainPreferences.getInt("uploadMaxFilePartsPremium", i3 * 2);
        this.premiumInvoiceSlug = this.mainPreferences.getString("premiumInvoiceSlug", null);
        this.premiumBotUsername = this.mainPreferences.getString("premiumBotUsername", null);
        this.premiumLocked = this.mainPreferences.getBoolean("premiumLocked", false);
        loadPremiumFeaturesPreviewOrder(this.mainPreferences.getString("premiumFeaturesTypesToPosition", null));
        if (this.pendingSuggestions != null) {
            this.pendingSuggestions = new HashSet(this.pendingSuggestions);
        } else {
            this.pendingSuggestions = new HashSet();
        }
        Set<String> stringSet = this.mainPreferences.getStringSet("exportUri2", null);
        this.exportUri = stringSet;
        if (stringSet != null) {
            this.exportUri = new HashSet(this.exportUri);
        } else {
            HashSet hashSet = new HashSet();
            this.exportUri = hashSet;
            hashSet.add("content://(\\d+@)?com\\.whatsapp\\.provider\\.media/export_chat/");
            this.exportUri.add("content://(\\d+@)?com\\.whatsapp\\.w4b\\.provider\\.media/export_chat/");
            this.exportUri.add("content://jp\\.naver\\.line\\.android\\.line\\.common\\.FileProvider/export-chat/");
            this.exportUri.add(".*WhatsApp.*\\.txt$");
        }
        Set<String> stringSet2 = this.mainPreferences.getStringSet("exportGroupUri", null);
        this.exportGroupUri = stringSet2;
        if (stringSet2 != null) {
            this.exportGroupUri = new HashSet(this.exportGroupUri);
        } else {
            HashSet hashSet2 = new HashSet();
            this.exportGroupUri = hashSet2;
            hashSet2.add("@g.us/");
        }
        Set<String> stringSet3 = this.mainPreferences.getStringSet("exportPrivateUri", null);
        this.exportPrivateUri = stringSet3;
        if (stringSet3 != null) {
            this.exportPrivateUri = new HashSet(this.exportPrivateUri);
        } else {
            HashSet hashSet3 = new HashSet();
            this.exportPrivateUri = hashSet3;
            hashSet3.add("@s.whatsapp.net/");
        }
        Set<String> stringSet4 = this.mainPreferences.getStringSet("autologinDomains", null);
        this.autologinDomains = stringSet4;
        if (stringSet4 != null) {
            this.autologinDomains = new HashSet(this.autologinDomains);
        } else {
            this.autologinDomains = new HashSet();
        }
        Set<String> stringSet5 = this.mainPreferences.getStringSet("authDomains", null);
        this.authDomains = stringSet5;
        if (stringSet5 != null) {
            this.authDomains = new HashSet(this.authDomains);
        } else {
            this.authDomains = new HashSet();
        }
        this.autologinToken = this.mainPreferences.getString("autologinToken", null);
        Set<String> stringSet6 = this.mainPreferences.getStringSet("diceEmojies", null);
        if (stringSet6 == null) {
            HashSet<String> hashSet4 = new HashSet<>();
            this.diceEmojies = hashSet4;
            hashSet4.add("🎲");
            this.diceEmojies.add("🎯");
        } else {
            this.diceEmojies = new HashSet<>(stringSet6);
        }
        String string = this.mainPreferences.getString("diceSuccess", null);
        if (string == null) {
            this.diceSuccess.put("🎯", new DiceFrameSuccess(62, 6));
        } else {
            try {
                byte[] decode = Base64.decode(string, 0);
                if (decode != null) {
                    SerializedData serializedData = new SerializedData(decode);
                    int readInt32 = serializedData.readInt32(true);
                    for (int i4 = 0; i4 < readInt32; i4++) {
                        this.diceSuccess.put(serializedData.readString(true), new DiceFrameSuccess(serializedData.readInt32(true), serializedData.readInt32(true)));
                    }
                    serializedData.cleanup();
                }
            } catch (Exception e) {
                FileLog.e(e);
            }
        }
        String string2 = this.mainPreferences.getString("emojiSounds", null);
        if (string2 != null) {
            try {
                byte[] decode2 = Base64.decode(string2, 0);
                if (decode2 != null) {
                    SerializedData serializedData2 = new SerializedData(decode2);
                    int readInt322 = serializedData2.readInt32(true);
                    for (int i5 = 0; i5 < readInt322; i5++) {
                        this.emojiSounds.put(serializedData2.readString(true), new EmojiSound(serializedData2.readInt64(true), serializedData2.readInt64(true), serializedData2.readByteArray(true)));
                    }
                    serializedData2.cleanup();
                }
            } catch (Exception e2) {
                FileLog.e(e2);
            }
        }
        String string3 = this.mainPreferences.getString("gifSearchEmojies", null);
        if (string3 == null) {
            this.gifSearchEmojies.add("👍");
            this.gifSearchEmojies.add("👎");
            this.gifSearchEmojies.add("😍");
            this.gifSearchEmojies.add("😂");
            this.gifSearchEmojies.add("😮");
            this.gifSearchEmojies.add("🙄");
            this.gifSearchEmojies.add("😥");
            this.gifSearchEmojies.add("😡");
            this.gifSearchEmojies.add("\u1f973");
            this.gifSearchEmojies.add("😎");
        } else {
            try {
                byte[] decode3 = Base64.decode(string3, 0);
                if (decode3 != null) {
                    SerializedData serializedData3 = new SerializedData(decode3);
                    int readInt323 = serializedData3.readInt32(true);
                    for (int i6 = 0; i6 < readInt323; i6++) {
                        this.gifSearchEmojies.add(serializedData3.readString(true));
                    }
                    serializedData3.cleanup();
                }
            } catch (Exception e3) {
                FileLog.e(e3);
            }
        }
        if (BuildVars.DEBUG_VERSION) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda35(this), 2000L);
        }
    }

    public /* synthetic */ void lambda$new$9() {
        MessagesController messagesController = getMessagesController();
        getNotificationCenter().addObserver(messagesController, NotificationCenter.fileUploaded);
        getNotificationCenter().addObserver(messagesController, NotificationCenter.fileUploadFailed);
        getNotificationCenter().addObserver(messagesController, NotificationCenter.fileLoaded);
        getNotificationCenter().addObserver(messagesController, NotificationCenter.fileLoadFailed);
        getNotificationCenter().addObserver(messagesController, NotificationCenter.messageReceivedByServer);
        getNotificationCenter().addObserver(messagesController, NotificationCenter.updateMessageMedia);
    }

    private void sendLoadPeersRequest(TLObject tLObject, ArrayList<TLObject> arrayList, TLRPC$messages_Dialogs tLRPC$messages_Dialogs, TLRPC$messages_Dialogs tLRPC$messages_Dialogs2, ArrayList<TLRPC$User> arrayList2, ArrayList<TLRPC$Chat> arrayList3, ArrayList<DialogFilter> arrayList4, SparseArray<DialogFilter> sparseArray, ArrayList<Integer> arrayList5, HashMap<Integer, HashSet<Long>> hashMap, HashMap<Integer, HashSet<Long>> hashMap2, HashSet<Integer> hashSet) {
        getConnectionsManager().sendRequest(tLObject, new MessagesController$$ExternalSyntheticLambda317(this, arrayList3, arrayList2, tLRPC$messages_Dialogs, tLRPC$messages_Dialogs2, arrayList, tLObject, arrayList4, sparseArray, arrayList5, hashMap, hashMap2, hashSet));
    }

    public /* synthetic */ void lambda$sendLoadPeersRequest$11(ArrayList arrayList, ArrayList arrayList2, TLRPC$messages_Dialogs tLRPC$messages_Dialogs, TLRPC$messages_Dialogs tLRPC$messages_Dialogs2, ArrayList arrayList3, TLObject tLObject, ArrayList arrayList4, SparseArray sparseArray, ArrayList arrayList5, HashMap hashMap, HashMap hashMap2, HashSet hashSet, TLObject tLObject2, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject2 instanceof TLRPC$TL_messages_chats) {
            arrayList.addAll(((TLRPC$TL_messages_chats) tLObject2).chats);
        } else if (tLObject2 instanceof TLRPC$Vector) {
            TLRPC$Vector tLRPC$Vector = (TLRPC$Vector) tLObject2;
            int size = tLRPC$Vector.objects.size();
            for (int i = 0; i < size; i++) {
                arrayList2.add((TLRPC$User) tLRPC$Vector.objects.get(i));
            }
        } else if (tLObject2 instanceof TLRPC$TL_messages_peerDialogs) {
            TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs = (TLRPC$TL_messages_peerDialogs) tLObject2;
            tLRPC$messages_Dialogs.dialogs.addAll(tLRPC$TL_messages_peerDialogs.dialogs);
            tLRPC$messages_Dialogs.messages.addAll(tLRPC$TL_messages_peerDialogs.messages);
            tLRPC$messages_Dialogs2.dialogs.addAll(tLRPC$TL_messages_peerDialogs.dialogs);
            tLRPC$messages_Dialogs2.messages.addAll(tLRPC$TL_messages_peerDialogs.messages);
            arrayList2.addAll(tLRPC$TL_messages_peerDialogs.users);
            arrayList.addAll(tLRPC$TL_messages_peerDialogs.chats);
        }
        arrayList3.remove(tLObject);
        if (arrayList3.isEmpty()) {
            getMessagesStorage().processLoadedFilterPeers(tLRPC$messages_Dialogs, tLRPC$messages_Dialogs2, arrayList2, arrayList, arrayList4, sparseArray, arrayList5, hashMap, hashMap2, hashSet);
        }
    }

    public void loadFilterPeers(HashMap<Long, TLRPC$InputPeer> hashMap, HashMap<Long, TLRPC$InputPeer> hashMap2, HashMap<Long, TLRPC$InputPeer> hashMap3, TLRPC$messages_Dialogs tLRPC$messages_Dialogs, TLRPC$messages_Dialogs tLRPC$messages_Dialogs2, ArrayList<TLRPC$User> arrayList, ArrayList<TLRPC$Chat> arrayList2, ArrayList<DialogFilter> arrayList3, SparseArray<DialogFilter> sparseArray, ArrayList<Integer> arrayList4, HashMap<Integer, HashSet<Long>> hashMap4, HashMap<Integer, HashSet<Long>> hashMap5, HashSet<Integer> hashSet) {
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda126(this, hashMap2, tLRPC$messages_Dialogs, tLRPC$messages_Dialogs2, arrayList, arrayList2, arrayList3, sparseArray, arrayList4, hashMap4, hashMap5, hashSet, hashMap3, hashMap));
    }

    public /* synthetic */ void lambda$loadFilterPeers$12(HashMap hashMap, TLRPC$messages_Dialogs tLRPC$messages_Dialogs, TLRPC$messages_Dialogs tLRPC$messages_Dialogs2, ArrayList arrayList, ArrayList arrayList2, ArrayList arrayList3, SparseArray sparseArray, ArrayList arrayList4, HashMap hashMap2, HashMap hashMap3, HashSet hashSet, HashMap hashMap4, HashMap hashMap5) {
        TLRPC$TL_users_getUsers tLRPC$TL_users_getUsers;
        int i;
        TLRPC$TL_messages_getPeerDialogs tLRPC$TL_messages_getPeerDialogs;
        TLRPC$TL_messages_getChats tLRPC$TL_messages_getChats;
        TLRPC$TL_channels_getChannels tLRPC$TL_channels_getChannels;
        ArrayList<TLObject> arrayList5 = new ArrayList<>();
        loop0: while (true) {
            tLRPC$TL_users_getUsers = null;
            for (Map.Entry entry : hashMap.entrySet()) {
                if (tLRPC$TL_users_getUsers == null) {
                    tLRPC$TL_users_getUsers = new TLRPC$TL_users_getUsers();
                    arrayList5.add(tLRPC$TL_users_getUsers);
                }
                tLRPC$TL_users_getUsers.id.add(getInputUser((TLRPC$InputPeer) entry.getValue()));
                if (tLRPC$TL_users_getUsers.id.size() == 100) {
                    break;
                }
            }
            sendLoadPeersRequest(tLRPC$TL_users_getUsers, arrayList5, tLRPC$messages_Dialogs, tLRPC$messages_Dialogs2, arrayList, arrayList2, arrayList3, sparseArray, arrayList4, hashMap2, hashMap3, hashSet);
        }
        if (tLRPC$TL_users_getUsers != null) {
            i = 100;
            sendLoadPeersRequest(tLRPC$TL_users_getUsers, arrayList5, tLRPC$messages_Dialogs, tLRPC$messages_Dialogs2, arrayList, arrayList2, arrayList3, sparseArray, arrayList4, hashMap2, hashMap3, hashSet);
        } else {
            i = 100;
        }
        TLObject tLObject = null;
        TLObject tLObject2 = null;
        for (Map.Entry entry2 : hashMap4.entrySet()) {
            TLRPC$InputPeer tLRPC$InputPeer = (TLRPC$InputPeer) entry2.getValue();
            if (tLRPC$InputPeer.chat_id != 0) {
                if (tLObject == null) {
                    tLRPC$TL_messages_getChats = new TLRPC$TL_messages_getChats();
                    arrayList5.add(tLRPC$TL_messages_getChats);
                } else {
                    tLRPC$TL_messages_getChats = tLObject;
                }
                tLRPC$TL_messages_getChats.id.add((Long) entry2.getKey());
                if (tLRPC$TL_messages_getChats.id.size() == i) {
                    sendLoadPeersRequest(tLRPC$TL_messages_getChats, arrayList5, tLRPC$messages_Dialogs, tLRPC$messages_Dialogs2, arrayList, arrayList2, arrayList3, sparseArray, arrayList4, hashMap2, hashMap3, hashSet);
                    tLObject = null;
                } else {
                    tLObject = tLRPC$TL_messages_getChats;
                }
            } else if (tLRPC$InputPeer.channel_id != 0) {
                if (tLObject2 == null) {
                    TLObject tLRPC$TL_channels_getChannels2 = new TLRPC$TL_channels_getChannels();
                    arrayList5.add(tLRPC$TL_channels_getChannels2);
                    tLRPC$TL_channels_getChannels = tLRPC$TL_channels_getChannels2;
                } else {
                    tLRPC$TL_channels_getChannels = tLObject2;
                }
                tLRPC$TL_channels_getChannels.id.add(getInputChannel(tLRPC$InputPeer));
                if (tLRPC$TL_channels_getChannels.id.size() == i) {
                    sendLoadPeersRequest(tLRPC$TL_channels_getChannels, arrayList5, tLRPC$messages_Dialogs, tLRPC$messages_Dialogs2, arrayList, arrayList2, arrayList3, sparseArray, arrayList4, hashMap2, hashMap3, hashSet);
                    tLObject2 = null;
                } else {
                    tLObject2 = tLRPC$TL_channels_getChannels;
                }
            }
        }
        if (tLObject != null) {
            sendLoadPeersRequest(tLObject, arrayList5, tLRPC$messages_Dialogs, tLRPC$messages_Dialogs2, arrayList, arrayList2, arrayList3, sparseArray, arrayList4, hashMap2, hashMap3, hashSet);
        }
        if (tLObject2 != null) {
            sendLoadPeersRequest(tLObject2, arrayList5, tLRPC$messages_Dialogs, tLRPC$messages_Dialogs2, arrayList, arrayList2, arrayList3, sparseArray, arrayList4, hashMap2, hashMap3, hashSet);
        }
        loop3: while (true) {
            tLRPC$TL_messages_getPeerDialogs = null;
            for (Map.Entry entry3 : hashMap5.entrySet()) {
                if (tLRPC$TL_messages_getPeerDialogs == null) {
                    tLRPC$TL_messages_getPeerDialogs = new TLRPC$TL_messages_getPeerDialogs();
                    arrayList5.add(tLRPC$TL_messages_getPeerDialogs);
                }
                TLRPC$TL_inputDialogPeer tLRPC$TL_inputDialogPeer = new TLRPC$TL_inputDialogPeer();
                tLRPC$TL_inputDialogPeer.peer = (TLRPC$InputPeer) entry3.getValue();
                tLRPC$TL_messages_getPeerDialogs.peers.add(tLRPC$TL_inputDialogPeer);
                if (tLRPC$TL_messages_getPeerDialogs.peers.size() == i) {
                    break;
                }
            }
            sendLoadPeersRequest(tLRPC$TL_messages_getPeerDialogs, arrayList5, tLRPC$messages_Dialogs, tLRPC$messages_Dialogs2, arrayList, arrayList2, arrayList3, sparseArray, arrayList4, hashMap2, hashMap3, hashSet);
        }
        if (tLRPC$TL_messages_getPeerDialogs != null) {
            sendLoadPeersRequest(tLRPC$TL_messages_getPeerDialogs, arrayList5, tLRPC$messages_Dialogs, tLRPC$messages_Dialogs2, arrayList, arrayList2, arrayList3, sparseArray, arrayList4, hashMap2, hashMap3, hashSet);
        }
    }

    public void processLoadedDialogFilters(ArrayList<DialogFilter> arrayList, TLRPC$messages_Dialogs tLRPC$messages_Dialogs, TLRPC$messages_Dialogs tLRPC$messages_Dialogs2, ArrayList<TLRPC$User> arrayList2, ArrayList<TLRPC$Chat> arrayList3, ArrayList<TLRPC$EncryptedChat> arrayList4, int i) {
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda194(this, tLRPC$messages_Dialogs, arrayList4, tLRPC$messages_Dialogs2, i, arrayList, arrayList2, arrayList3));
    }

    /* JADX WARN: Code restructure failed: missing block: B:27:0x00ab, code lost:
        if (r14 == (-r3.id)) goto L35;
     */
    /* JADX WARN: Code restructure failed: missing block: B:34:0x00c4, code lost:
        if (r3.migrated_to != null) goto L28;
     */
    /* JADX WARN: Removed duplicated region for block: B:76:0x01ac  */
    /* JADX WARN: Removed duplicated region for block: B:79:0x01d7  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$processLoadedDialogFilters$15(TLRPC$messages_Dialogs tLRPC$messages_Dialogs, ArrayList arrayList, TLRPC$messages_Dialogs tLRPC$messages_Dialogs2, int i, ArrayList arrayList2, ArrayList arrayList3, ArrayList arrayList4) {
        SparseArray sparseArray;
        long j;
        TLRPC$User tLRPC$User;
        Integer num;
        Integer num2;
        TLRPC$Chat tLRPC$Chat;
        MessageObject messageObject;
        Integer num3;
        int i2;
        ArrayList<MessageObject> arrayList5;
        LongSparseArray longSparseArray = new LongSparseArray();
        LongSparseArray longSparseArray2 = new LongSparseArray();
        LongSparseArray longSparseArray3 = new LongSparseArray();
        LongSparseArray longSparseArray4 = new LongSparseArray();
        Integer num4 = 0;
        for (int i3 = 0; i3 < tLRPC$messages_Dialogs.users.size(); i3++) {
            TLRPC$User tLRPC$User2 = tLRPC$messages_Dialogs.users.get(i3);
            longSparseArray3.put(tLRPC$User2.id, tLRPC$User2);
        }
        for (int i4 = 0; i4 < tLRPC$messages_Dialogs.chats.size(); i4++) {
            TLRPC$Chat tLRPC$Chat2 = tLRPC$messages_Dialogs.chats.get(i4);
            longSparseArray4.put(tLRPC$Chat2.id, tLRPC$Chat2);
        }
        if (arrayList != null) {
            sparseArray = new SparseArray();
            int size = arrayList.size();
            for (int i5 = 0; i5 < size; i5++) {
                TLRPC$EncryptedChat tLRPC$EncryptedChat = (TLRPC$EncryptedChat) arrayList.get(i5);
                sparseArray.put(tLRPC$EncryptedChat.id, tLRPC$EncryptedChat);
            }
        } else {
            sparseArray = null;
        }
        ArrayList<MessageObject> arrayList6 = new ArrayList<>();
        int i6 = 0;
        while (true) {
            j = 0;
            if (i6 >= tLRPC$messages_Dialogs.messages.size()) {
                break;
            }
            TLRPC$Message tLRPC$Message = tLRPC$messages_Dialogs.messages.get(i6);
            TLRPC$Peer tLRPC$Peer = tLRPC$Message.peer_id;
            int i7 = i6;
            ArrayList<MessageObject> arrayList7 = arrayList6;
            long j2 = tLRPC$Peer.channel_id;
            if (j2 != 0) {
                TLRPC$Chat tLRPC$Chat3 = (TLRPC$Chat) longSparseArray4.get(j2);
                if (tLRPC$Chat3 != null && tLRPC$Chat3.left) {
                    long j3 = this.promoDialogId;
                    if (j3 != 0) {
                    }
                    num3 = num4;
                    arrayList5 = arrayList7;
                    i2 = i7;
                }
                i2 = i7;
                num3 = num4;
                arrayList5 = arrayList7;
                MessageObject messageObject2 = new MessageObject(this.currentAccount, tLRPC$Message, (LongSparseArray<TLRPC$User>) longSparseArray3, (LongSparseArray<TLRPC$Chat>) longSparseArray4, false, false);
                arrayList5.add(messageObject2);
                longSparseArray2.put(messageObject2.getDialogId(), messageObject2);
            } else {
                long j4 = tLRPC$Peer.chat_id;
                if (j4 != 0) {
                    TLRPC$Chat tLRPC$Chat4 = (TLRPC$Chat) longSparseArray4.get(j4);
                    if (tLRPC$Chat4 != null) {
                    }
                }
                i2 = i7;
                num3 = num4;
                arrayList5 = arrayList7;
                MessageObject messageObject22 = new MessageObject(this.currentAccount, tLRPC$Message, (LongSparseArray<TLRPC$User>) longSparseArray3, (LongSparseArray<TLRPC$Chat>) longSparseArray4, false, false);
                arrayList5.add(messageObject22);
                longSparseArray2.put(messageObject22.getDialogId(), messageObject22);
            }
            i6 = i2 + 1;
            arrayList6 = arrayList5;
            num4 = num3;
        }
        Integer num5 = num4;
        getFileLoader().checkMediaExistance(arrayList6);
        int i8 = 0;
        while (i8 < tLRPC$messages_Dialogs.dialogs.size()) {
            TLRPC$Dialog tLRPC$Dialog = tLRPC$messages_Dialogs.dialogs.get(i8);
            DialogObject.initDialog(tLRPC$Dialog);
            long j5 = tLRPC$Dialog.id;
            if (j5 != j && (!DialogObject.isEncryptedDialog(j5) || sparseArray == null || sparseArray.get(DialogObject.getEncryptedChatId(tLRPC$Dialog.id)) != null)) {
                long j6 = this.promoDialogId;
                if (j6 != j && j6 == tLRPC$Dialog.id) {
                    this.promoDialog = tLRPC$Dialog;
                }
                if (tLRPC$Dialog.last_message_date == 0 && (messageObject = (MessageObject) longSparseArray2.get(tLRPC$Dialog.id)) != null) {
                    tLRPC$Dialog.last_message_date = messageObject.messageOwner.date;
                }
                if (DialogObject.isChannel(tLRPC$Dialog)) {
                    TLRPC$Chat tLRPC$Chat5 = (TLRPC$Chat) longSparseArray4.get(-tLRPC$Dialog.id);
                    if (tLRPC$Chat5 != null && tLRPC$Chat5.left) {
                        long j7 = this.promoDialogId;
                        if (j7 != 0) {
                            if (j7 != tLRPC$Dialog.id) {
                            }
                        }
                    }
                    this.channelsPts.put(-tLRPC$Dialog.id, tLRPC$Dialog.pts);
                    longSparseArray.put(tLRPC$Dialog.id, tLRPC$Dialog);
                    num = this.dialogs_read_inbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                    if (num == null) {
                        num = num5;
                    }
                    this.dialogs_read_inbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num.intValue(), tLRPC$Dialog.read_inbox_max_id)));
                    num2 = this.dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                    if (num2 == null) {
                        num2 = num5;
                    }
                    this.dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num2.intValue(), tLRPC$Dialog.read_outbox_max_id)));
                } else {
                    long j8 = tLRPC$Dialog.id;
                    if (j8 < 0 && (tLRPC$Chat = (TLRPC$Chat) longSparseArray4.get(-j8)) != null && tLRPC$Chat.migrated_to != null) {
                    }
                    longSparseArray.put(tLRPC$Dialog.id, tLRPC$Dialog);
                    num = this.dialogs_read_inbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                    if (num == null) {
                    }
                    this.dialogs_read_inbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num.intValue(), tLRPC$Dialog.read_inbox_max_id)));
                    num2 = this.dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                    if (num2 == null) {
                    }
                    this.dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num2.intValue(), tLRPC$Dialog.read_outbox_max_id)));
                }
            }
            i8++;
            j = 0;
        }
        if (tLRPC$messages_Dialogs2 != null && !tLRPC$messages_Dialogs2.dialogs.isEmpty()) {
            ImageLoader.saveMessagesThumbs(tLRPC$messages_Dialogs2.messages);
            for (int i9 = 0; i9 < tLRPC$messages_Dialogs2.messages.size(); i9++) {
                TLRPC$Message tLRPC$Message2 = tLRPC$messages_Dialogs2.messages.get(i9);
                TLRPC$MessageAction tLRPC$MessageAction = tLRPC$Message2.action;
                if ((tLRPC$MessageAction instanceof TLRPC$TL_messageActionChatDeleteUser) && (tLRPC$User = (TLRPC$User) longSparseArray3.get(tLRPC$MessageAction.user_id)) != null && tLRPC$User.bot) {
                    tLRPC$Message2.reply_markup = new TLRPC$TL_replyKeyboardHide();
                    tLRPC$Message2.flags |= 64;
                }
                TLRPC$MessageAction tLRPC$MessageAction2 = tLRPC$Message2.action;
                if ((tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChatMigrateTo) || (tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChannelCreate)) {
                    tLRPC$Message2.unread = false;
                    tLRPC$Message2.media_unread = false;
                } else {
                    ConcurrentHashMap<Long, Integer> concurrentHashMap = tLRPC$Message2.out ? this.dialogs_read_outbox_max : this.dialogs_read_inbox_max;
                    Integer num6 = concurrentHashMap.get(Long.valueOf(tLRPC$Message2.dialog_id));
                    if (num6 == null) {
                        num6 = Integer.valueOf(getMessagesStorage().getDialogReadMax(tLRPC$Message2.out, tLRPC$Message2.dialog_id));
                        concurrentHashMap.put(Long.valueOf(tLRPC$Message2.dialog_id), num6);
                    }
                    tLRPC$Message2.unread = num6.intValue() < tLRPC$Message2.id;
                }
            }
            getMessagesStorage().putDialogs(tLRPC$messages_Dialogs2, 0);
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda49(this, i, arrayList2, arrayList3, arrayList4, tLRPC$messages_Dialogs2, arrayList, longSparseArray, longSparseArray2));
    }

    public /* synthetic */ void lambda$processLoadedDialogFilters$14(int i, ArrayList arrayList, ArrayList arrayList2, ArrayList arrayList3, TLRPC$messages_Dialogs tLRPC$messages_Dialogs, ArrayList arrayList4, LongSparseArray longSparseArray, LongSparseArray longSparseArray2) {
        if (i != 2) {
            this.dialogFilters = arrayList;
            this.dialogFiltersById.clear();
            int size = this.dialogFilters.size();
            for (int i2 = 0; i2 < size; i2++) {
                DialogFilter dialogFilter = this.dialogFilters.get(i2);
                this.dialogFiltersById.put(dialogFilter.id, dialogFilter);
            }
            Collections.sort(this.dialogFilters, MessagesController$$ExternalSyntheticLambda224.INSTANCE);
            putUsers(arrayList2, true);
            putChats(arrayList3, true);
            this.dialogFiltersLoaded = true;
            getNotificationCenter().postNotificationName(NotificationCenter.dialogFiltersUpdated, new Object[0]);
            if (i == 0) {
                loadRemoteFilters(false);
            }
            if (tLRPC$messages_Dialogs != null && !tLRPC$messages_Dialogs.dialogs.isEmpty()) {
                applyDialogsNotificationsSettings(tLRPC$messages_Dialogs.dialogs);
            }
            if (arrayList4 != null) {
                for (int i3 = 0; i3 < arrayList4.size(); i3++) {
                    TLRPC$EncryptedChat tLRPC$EncryptedChat = (TLRPC$EncryptedChat) arrayList4.get(i3);
                    if ((tLRPC$EncryptedChat instanceof TLRPC$TL_encryptedChat) && AndroidUtilities.getMyLayerVersion(tLRPC$EncryptedChat.layer) < SecretChatHelper.CURRENT_SECRET_CHAT_LAYER) {
                        getSecretChatHelper().sendNotifyLayerMessage(tLRPC$EncryptedChat, null);
                    }
                    putEncryptedChat(tLRPC$EncryptedChat, true);
                }
            }
            for (int i4 = 0; i4 < longSparseArray.size(); i4++) {
                long keyAt = longSparseArray.keyAt(i4);
                TLRPC$Dialog tLRPC$Dialog = (TLRPC$Dialog) longSparseArray.valueAt(i4);
                TLRPC$Dialog tLRPC$Dialog2 = this.dialogs_dict.get(keyAt);
                if (tLRPC$messages_Dialogs != null && tLRPC$messages_Dialogs.dialogs.contains(tLRPC$Dialog)) {
                    if (tLRPC$Dialog.draft instanceof TLRPC$TL_draftMessage) {
                        getMediaDataController().saveDraft(tLRPC$Dialog.id, 0, tLRPC$Dialog.draft, null, false);
                    }
                    if (tLRPC$Dialog2 != null) {
                        tLRPC$Dialog2.notify_settings = tLRPC$Dialog.notify_settings;
                    }
                }
                MessageObject messageObject = (MessageObject) longSparseArray2.get(tLRPC$Dialog.id);
                if (tLRPC$Dialog2 == null) {
                    this.dialogs_dict.put(keyAt, tLRPC$Dialog);
                    this.dialogMessage.put(keyAt, messageObject);
                    if (messageObject != null && messageObject.messageOwner.peer_id.channel_id == 0) {
                        this.dialogMessagesByIds.put(messageObject.getId(), messageObject);
                        long j = messageObject.messageOwner.random_id;
                        if (j != 0) {
                            this.dialogMessagesByRandomIds.put(j, messageObject);
                        }
                    }
                } else {
                    tLRPC$Dialog2.pinned = tLRPC$Dialog.pinned;
                    tLRPC$Dialog2.pinnedNum = tLRPC$Dialog.pinnedNum;
                    MessageObject messageObject2 = this.dialogMessage.get(keyAt);
                    if ((messageObject2 != null && messageObject2.deleted) || messageObject2 == null || tLRPC$Dialog2.top_message > 0) {
                        if (tLRPC$Dialog.top_message >= tLRPC$Dialog2.top_message) {
                            this.dialogs_dict.put(keyAt, tLRPC$Dialog);
                            this.dialogMessage.put(keyAt, messageObject);
                            if (messageObject2 != null) {
                                if (messageObject2.messageOwner.peer_id.channel_id == 0) {
                                    this.dialogMessagesByIds.remove(messageObject2.getId());
                                }
                                long j2 = messageObject2.messageOwner.random_id;
                                if (j2 != 0) {
                                    this.dialogMessagesByRandomIds.remove(j2);
                                }
                            }
                            if (messageObject != null && messageObject.messageOwner.peer_id.channel_id == 0) {
                                if (messageObject2 != null && messageObject2.getId() == messageObject.getId()) {
                                    messageObject.deleted = messageObject2.deleted;
                                }
                                this.dialogMessagesByIds.put(messageObject.getId(), messageObject);
                                long j3 = messageObject.messageOwner.random_id;
                                if (j3 != 0) {
                                    this.dialogMessagesByRandomIds.put(j3, messageObject);
                                }
                            }
                        }
                    } else if (messageObject == null || messageObject.messageOwner.date > messageObject2.messageOwner.date) {
                        this.dialogs_dict.put(keyAt, tLRPC$Dialog);
                        this.dialogMessage.put(keyAt, messageObject);
                        if (messageObject2.messageOwner.peer_id.channel_id == 0) {
                            this.dialogMessagesByIds.remove(messageObject2.getId());
                        }
                        if (messageObject != null) {
                            if (messageObject2.getId() == messageObject.getId()) {
                                messageObject.deleted = messageObject2.deleted;
                            }
                            if (messageObject.messageOwner.peer_id.channel_id == 0) {
                                this.dialogMessagesByIds.put(messageObject.getId(), messageObject);
                                long j4 = messageObject.messageOwner.random_id;
                                if (j4 != 0) {
                                    this.dialogMessagesByRandomIds.put(j4, messageObject);
                                }
                            }
                        }
                        long j5 = messageObject2.messageOwner.random_id;
                        if (j5 != 0) {
                            this.dialogMessagesByRandomIds.remove(j5);
                        }
                    }
                }
            }
            this.allDialogs.clear();
            int size2 = this.dialogs_dict.size();
            for (int i5 = 0; i5 < size2; i5++) {
                TLRPC$Dialog valueAt = this.dialogs_dict.valueAt(i5);
                if (this.deletingDialogs.indexOfKey(valueAt.id) < 0) {
                    this.allDialogs.add(valueAt);
                }
            }
            sortDialogs(null);
            getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
        }
        if (i != 0) {
            getUserConfig().filtersLoaded = true;
            getUserConfig().saveConfig(false);
            this.loadingRemoteFilters = false;
            getNotificationCenter().postNotificationName(NotificationCenter.filterSettingsUpdated, new Object[0]);
        }
        lockFiltersInternal();
    }

    public static /* synthetic */ int lambda$processLoadedDialogFilters$13(DialogFilter dialogFilter, DialogFilter dialogFilter2) {
        int i = dialogFilter.order;
        int i2 = dialogFilter2.order;
        if (i > i2) {
            return 1;
        }
        return i < i2 ? -1 : 0;
    }

    public void loadSuggestedFilters() {
        if (this.loadingSuggestedFilters) {
            return;
        }
        this.loadingSuggestedFilters = true;
        getConnectionsManager().sendRequest(new TLRPC$TL_messages_getSuggestedDialogFilters(), new MessagesController$$ExternalSyntheticLambda248(this));
    }

    public /* synthetic */ void lambda$loadSuggestedFilters$17(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda140(this, tLObject));
    }

    public /* synthetic */ void lambda$loadSuggestedFilters$16(TLObject tLObject) {
        this.loadingSuggestedFilters = false;
        this.suggestedFilters.clear();
        if (tLObject instanceof TLRPC$Vector) {
            TLRPC$Vector tLRPC$Vector = (TLRPC$Vector) tLObject;
            int size = tLRPC$Vector.objects.size();
            for (int i = 0; i < size; i++) {
                this.suggestedFilters.add((TLRPC$TL_dialogFilterSuggested) tLRPC$Vector.objects.get(i));
            }
        }
        getNotificationCenter().postNotificationName(NotificationCenter.suggestedFiltersLoaded, new Object[0]);
    }

    public void loadRemoteFilters(boolean z) {
        if (this.loadingRemoteFilters || !getUserConfig().isClientActivated()) {
            return;
        }
        if (!z && getUserConfig().filtersLoaded) {
            return;
        }
        if (z) {
            getUserConfig().filtersLoaded = false;
            getUserConfig().saveConfig(false);
        }
        getConnectionsManager().sendRequest(new TLRPC$TL_messages_getDialogFilters(), new MessagesController$$ExternalSyntheticLambda246(this));
    }

    public /* synthetic */ void lambda$loadRemoteFilters$19(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject instanceof TLRPC$Vector) {
            getMessagesStorage().checkLoadedRemoteFilters((TLRPC$Vector) tLObject);
        } else {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda16(this));
        }
    }

    public /* synthetic */ void lambda$loadRemoteFilters$18() {
        this.loadingRemoteFilters = false;
    }

    public void selectDialogFilter(DialogFilter dialogFilter, int i) {
        DialogFilter[] dialogFilterArr = this.selectedDialogFilter;
        if (dialogFilterArr[i] == dialogFilter) {
            return;
        }
        DialogFilter dialogFilter2 = dialogFilterArr[i];
        dialogFilterArr[i] = dialogFilter;
        char c = 1;
        if (dialogFilterArr[i == 0 ? (char) 1 : (char) 0] == dialogFilter) {
            if (i != 0) {
                c = 0;
            }
            dialogFilterArr[c] = null;
        }
        if (dialogFilterArr[i] != null) {
            sortDialogs(null);
        } else if (dialogFilter2 == null) {
        } else {
            dialogFilter2.dialogs.clear();
        }
    }

    public void onFilterUpdate(DialogFilter dialogFilter) {
        for (int i = 0; i < 2; i++) {
            if (this.selectedDialogFilter[i] == dialogFilter) {
                sortDialogs(null);
                getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, Boolean.TRUE);
                return;
            }
        }
    }

    public void addFilter(DialogFilter dialogFilter, boolean z) {
        if (z) {
            int i = 254;
            int size = this.dialogFilters.size();
            for (int i2 = 0; i2 < size; i2++) {
                i = Math.min(i, this.dialogFilters.get(i2).order);
            }
            dialogFilter.order = i - 1;
            this.dialogFilters.add(0, dialogFilter);
        } else {
            int size2 = this.dialogFilters.size();
            int i3 = 0;
            for (int i4 = 0; i4 < size2; i4++) {
                i3 = Math.max(i3, this.dialogFilters.get(i4).order);
            }
            dialogFilter.order = i3 + 1;
            this.dialogFilters.add(dialogFilter);
        }
        this.dialogFiltersById.put(dialogFilter.id, dialogFilter);
        if (this.dialogFilters.size() == 1 && SharedConfig.getChatSwipeAction(this.currentAccount) != 5) {
            SharedConfig.updateChatListSwipeSetting(5);
        }
        lockFiltersInternal();
    }

    public void removeFilter(DialogFilter dialogFilter) {
        this.dialogFilters.remove(dialogFilter);
        this.dialogFiltersById.remove(dialogFilter.id);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogFiltersUpdated, new Object[0]);
    }

    /* renamed from: loadAppConfig */
    public void lambda$new$10() {
        if (this.loadingAppConfig) {
            return;
        }
        this.loadingAppConfig = true;
        getConnectionsManager().sendRequest(new TLRPC$TL_help_getAppConfig(), new MessagesController$$ExternalSyntheticLambda243(this));
    }

    public /* synthetic */ void lambda$loadAppConfig$21(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda139(this, tLObject));
    }

    /* JADX WARN: Can't fix incorrect switch cases order, some code will duplicate */
    public /* synthetic */ void lambda$loadAppConfig$20(TLObject tLObject) {
        char c;
        int i;
        TLRPC$TL_jsonObject tLRPC$TL_jsonObject;
        Exception e;
        int i2;
        TLRPC$TL_jsonObject tLRPC$TL_jsonObject2;
        TLRPC$TL_jsonObject tLRPC$TL_jsonObject3;
        boolean z;
        boolean z2;
        boolean z3;
        boolean z4;
        int i3;
        TLRPC$TL_jsonObject tLRPC$TL_jsonObject4;
        int i4;
        boolean z5;
        boolean z6;
        boolean z7;
        boolean z8;
        int intValue;
        char c2;
        boolean z9;
        if (tLObject instanceof TLRPC$TL_jsonObject) {
            SharedPreferences.Editor edit = this.mainPreferences.edit();
            resetAppConfig();
            TLRPC$TL_jsonObject tLRPC$TL_jsonObject5 = (TLRPC$TL_jsonObject) tLObject;
            int size = tLRPC$TL_jsonObject5.value.size();
            int i5 = 0;
            boolean z10 = false;
            boolean z11 = false;
            while (i5 < size) {
                TLRPC$TL_jsonObjectValue tLRPC$TL_jsonObjectValue = tLRPC$TL_jsonObject5.value.get(i5);
                String str = tLRPC$TL_jsonObjectValue.key;
                str.hashCode();
                switch (str.hashCode()) {
                    case -2086426873:
                        if (str.equals("dialog_filters_pinned_limit_premium")) {
                            c = 0;
                            break;
                        }
                        c = 65535;
                        break;
                    case -1906216435:
                        if (str.equals("upload_max_fileparts_default")) {
                            c = 1;
                            break;
                        }
                        c = 65535;
                        break;
                    case -1688620344:
                        if (str.equals("dialog_filters_tooltip")) {
                            c = 2;
                            break;
                        }
                        c = 65535;
                        break;
                    case -1683918311:
                        if (str.equals("qr_login_camera")) {
                            c = 3;
                            break;
                        }
                        c = 65535;
                        break;
                    case -1391086521:
                        if (str.equals("pending_suggestions")) {
                            c = 4;
                            break;
                        }
                        c = 65535;
                        break;
                    case -1385240692:
                        if (str.equals("channels_public_limit_premium")) {
                            c = 5;
                            break;
                        }
                        c = 65535;
                        break;
                    case -1287877531:
                        if (str.equals("stickers_faved_limit_premium")) {
                            c = 6;
                            break;
                        }
                        c = 65535;
                        break;
                    case -1056002991:
                        if (str.equals("chat_read_mark_expire_period")) {
                            c = 7;
                            break;
                        }
                        c = 65535;
                        break;
                    case -1032177933:
                        if (str.equals("emojies_send_dice")) {
                            c = '\b';
                            break;
                        }
                        c = 65535;
                        break;
                    case -980397720:
                        if (str.equals("url_auth_domains")) {
                            c = '\t';
                            break;
                        }
                        c = 65535;
                        break;
                    case -896467099:
                        if (str.equals("saved_gifs_limit_default")) {
                            c = '\n';
                            break;
                        }
                        c = 65535;
                        break;
                    case -581904190:
                        if (str.equals("dialog_filters_limit_default")) {
                            c = 11;
                            break;
                        }
                        c = 65535;
                        break;
                    case -561040027:
                        if (str.equals("premium_invoice_slug")) {
                            c = '\f';
                            break;
                        }
                        c = 65535;
                        break;
                    case -515715076:
                        if (str.equals("export_regex")) {
                            c = '\r';
                            break;
                        }
                        c = 65535;
                        break;
                    case -488472170:
                        if (str.equals("about_length_limit_default")) {
                            c = 14;
                            break;
                        }
                        c = 65535;
                        break;
                    case -416504589:
                        if (str.equals("caption_length_limit_premium")) {
                            c = 15;
                            break;
                        }
                        c = 65535;
                        break;
                    case -404170231:
                        if (str.equals("keep_alive_service")) {
                            c = 16;
                            break;
                        }
                        c = 65535;
                        break;
                    case -381432266:
                        if (str.equals("premium_promo_order")) {
                            c = 17;
                            break;
                        }
                        c = 65535;
                        break;
                    case -377047005:
                        if (str.equals("ringtone_size_max")) {
                            c = 18;
                            break;
                        }
                        c = 65535;
                        break;
                    case -350971916:
                        if (str.equals("dialog_filters_chats_limit_premium")) {
                            c = 19;
                            break;
                        }
                        c = 65535;
                        break;
                    case -256319580:
                        if (str.equals("channels_limit_premium")) {
                            c = 20;
                            break;
                        }
                        c = 65535;
                        break;
                    case -253815153:
                        if (str.equals("background_connection")) {
                            c = 21;
                            break;
                        }
                        c = 65535;
                        break;
                    case -232883529:
                        if (str.equals("emojies_send_dice_success")) {
                            c = 22;
                            break;
                        }
                        c = 65535;
                        break;
                    case -223170831:
                        if (str.equals("dialog_filters_pinned_limit_default")) {
                            c = 23;
                            break;
                        }
                        c = 65535;
                        break;
                    case -111779186:
                        if (str.equals("autoarchive_setting_available")) {
                            c = 24;
                            break;
                        }
                        c = 65535;
                        break;
                    case -76561797:
                        if (str.equals("youtube_pip")) {
                            c = 25;
                            break;
                        }
                        c = 65535;
                        break;
                    case -24016028:
                        if (str.equals("emojies_animated_zoom")) {
                            c = 26;
                            break;
                        }
                        c = 65535;
                        break;
                    case 169095108:
                        if (str.equals("stickers_emoji_suggest_only_api")) {
                            c = 27;
                            break;
                        }
                        c = 65535;
                        break;
                    case 222975416:
                        if (str.equals("gif_search_emojies")) {
                            c = 28;
                            break;
                        }
                        c = 65535;
                        break;
                    case 227342346:
                        if (str.equals("autologin_domains")) {
                            c = 29;
                            break;
                        }
                        c = 65535;
                        break;
                    case 246778895:
                        if (str.equals("export_group_urls")) {
                            c = 30;
                            break;
                        }
                        c = 65535;
                        break;
                    case 314452116:
                        if (str.equals("autologin_token")) {
                            c = 31;
                            break;
                        }
                        c = 65535;
                        break;
                    case 396402384:
                        if (str.equals("getfile_experimental_params")) {
                            c = ' ';
                            break;
                        }
                        c = 65535;
                        break;
                    case 478015350:
                        if (str.equals("channels_public_limit_default")) {
                            c = '!';
                            break;
                        }
                        c = 65535;
                        break;
                    case 525494819:
                        if (str.equals("upload_max_fileparts_premium")) {
                            c = '\"';
                            break;
                        }
                        c = 65535;
                        break;
                    case 575378511:
                        if (str.equals("stickers_faved_limit_default")) {
                            c = '#';
                            break;
                        }
                        c = 65535;
                        break;
                    case 676199595:
                        if (str.equals("groupcall_video_participants_max")) {
                            c = '$';
                            break;
                        }
                        c = 65535;
                        break;
                    case 684764449:
                        if (str.equals("save_gifs_with_stickers")) {
                            c = '%';
                            break;
                        }
                        c = 65535;
                        break;
                    case 917364150:
                        if (str.equals("ringtone_duration_max")) {
                            c = '&';
                            break;
                        }
                        c = 65535;
                        break;
                    case 992898905:
                        if (str.equals("inapp_update_check_delay")) {
                            c = '\'';
                            break;
                        }
                        c = 65535;
                        break;
                    case 1052355894:
                        if (str.equals("premium_bot_username")) {
                            c = '(';
                            break;
                        }
                        c = 65535;
                        break;
                    case 1085221270:
                        if (str.equals("premium_purchase_blocked")) {
                            c = ')';
                            break;
                        }
                        c = 65535;
                        break;
                    case 1322701672:
                        if (str.equals("round_video_encoding")) {
                            c = '*';
                            break;
                        }
                        c = 65535;
                        break;
                    case 1446751453:
                        if (str.equals("caption_length_limit_default")) {
                            c = '+';
                            break;
                        }
                        c = 65535;
                        break;
                    case 1508636733:
                        if (str.equals("chat_read_mark_size_threshold")) {
                            c = ',';
                            break;
                        }
                        c = 65535;
                        break;
                    case 1512284126:
                        if (str.equals("dialog_filters_chats_limit_default")) {
                            c = '-';
                            break;
                        }
                        c = 65535;
                        break;
                    case 1535244155:
                        if (str.equals("saved_gifs_limit_premium")) {
                            c = '.';
                            break;
                        }
                        c = 65535;
                        break;
                    case 1606936462:
                        if (str.equals("channels_limit_default")) {
                            c = '/';
                            break;
                        }
                        c = 65535;
                        break;
                    case 1849807064:
                        if (str.equals("dialog_filters_limit_premium")) {
                            c = '0';
                            break;
                        }
                        c = 65535;
                        break;
                    case 1850325103:
                        if (str.equals("emojies_sounds")) {
                            c = '1';
                            break;
                        }
                        c = 65535;
                        break;
                    case 1943239084:
                        if (str.equals("about_length_limit_premium")) {
                            c = '2';
                            break;
                        }
                        c = 65535;
                        break;
                    case 2074702027:
                        if (str.equals("export_private_urls")) {
                            c = '3';
                            break;
                        }
                        c = 65535;
                        break;
                    case 2136829446:
                        if (str.equals("dialog_filters_enabled")) {
                            c = '4';
                            break;
                        }
                        c = 65535;
                        break;
                    default:
                        c = 65535;
                        break;
                }
                switch (c) {
                    case 0:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue instanceof TLRPC$TL_jsonNumber) {
                            double d = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue).value;
                            if (d != this.dialogFiltersPinnedLimitPremium) {
                                int i6 = (int) d;
                                this.dialogFiltersPinnedLimitPremium = i6;
                                edit.putInt("dialogFiltersPinnedLimitPremium", i6);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 1:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue2 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue2 instanceof TLRPC$TL_jsonNumber) {
                            double d2 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue2).value;
                            if (d2 != this.uploadMaxFileParts) {
                                int i7 = (int) d2;
                                this.uploadMaxFileParts = i7;
                                edit.putInt("uploadMaxFileParts", i7);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 2:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue3 = tLRPC$TL_jsonObjectValue.value;
                        if ((tLRPC$JSONValue3 instanceof TLRPC$TL_jsonBool) && (z = ((TLRPC$TL_jsonBool) tLRPC$JSONValue3).value) != this.showFiltersTooltip) {
                            this.showFiltersTooltip = z;
                            edit.putBoolean("showFiltersTooltip", z);
                            getNotificationCenter().postNotificationName(NotificationCenter.filterSettingsUpdated, new Object[0]);
                            z10 = true;
                            break;
                        }
                        break;
                    case 3:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue4 = tLRPC$TL_jsonObjectValue.value;
                        if ((tLRPC$JSONValue4 instanceof TLRPC$TL_jsonBool) && (z2 = ((TLRPC$TL_jsonBool) tLRPC$JSONValue4).value) != this.qrLoginCamera) {
                            this.qrLoginCamera = z2;
                            edit.putBoolean("qrLoginCamera", z2);
                            z10 = true;
                            break;
                        }
                        break;
                    case 4:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        HashSet hashSet = new HashSet();
                        TLRPC$JSONValue tLRPC$JSONValue5 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue5 instanceof TLRPC$TL_jsonArray) {
                            TLRPC$TL_jsonArray tLRPC$TL_jsonArray = (TLRPC$TL_jsonArray) tLRPC$JSONValue5;
                            int size2 = tLRPC$TL_jsonArray.value.size();
                            for (int i8 = 0; i8 < size2; i8++) {
                                TLRPC$JSONValue tLRPC$JSONValue6 = tLRPC$TL_jsonArray.value.get(i8);
                                if (tLRPC$JSONValue6 instanceof TLRPC$TL_jsonString) {
                                    hashSet.add(((TLRPC$TL_jsonString) tLRPC$JSONValue6).value);
                                }
                            }
                        }
                        if (!this.pendingSuggestions.equals(hashSet)) {
                            this.pendingSuggestions = hashSet;
                            edit.putStringSet("pendingSuggestions", hashSet);
                            getNotificationCenter().postNotificationName(NotificationCenter.newSuggestionsAvailable, new Object[0]);
                            z10 = true;
                            break;
                        } else {
                            break;
                        }
                    case 5:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue7 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue7 instanceof TLRPC$TL_jsonNumber) {
                            double d3 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue7).value;
                            if (d3 != this.publicLinksLimitPremium) {
                                int i9 = (int) d3;
                                this.publicLinksLimitPremium = i9;
                                edit.putInt("publicLinksLimitPremium", i9);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 6:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue8 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue8 instanceof TLRPC$TL_jsonNumber) {
                            double d4 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue8).value;
                            if (d4 != this.stickersFavedLimitPremium) {
                                int i10 = (int) d4;
                                this.stickersFavedLimitPremium = i10;
                                edit.putInt("stickersFavedLimitPremium", i10);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 7:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue9 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue9 instanceof TLRPC$TL_jsonNumber) {
                            double d5 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue9).value;
                            if (d5 != this.chatReadMarkExpirePeriod) {
                                int i11 = (int) d5;
                                this.chatReadMarkExpirePeriod = i11;
                                edit.putInt("chatReadMarkExpirePeriod", i11);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '\b':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        HashSet<String> hashSet2 = new HashSet<>();
                        TLRPC$JSONValue tLRPC$JSONValue10 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue10 instanceof TLRPC$TL_jsonArray) {
                            TLRPC$TL_jsonArray tLRPC$TL_jsonArray2 = (TLRPC$TL_jsonArray) tLRPC$JSONValue10;
                            int size3 = tLRPC$TL_jsonArray2.value.size();
                            for (int i12 = 0; i12 < size3; i12++) {
                                TLRPC$JSONValue tLRPC$JSONValue11 = tLRPC$TL_jsonArray2.value.get(i12);
                                if (tLRPC$JSONValue11 instanceof TLRPC$TL_jsonString) {
                                    hashSet2.add(((TLRPC$TL_jsonString) tLRPC$JSONValue11).value.replace("️", ""));
                                }
                            }
                        }
                        if (!this.diceEmojies.equals(hashSet2)) {
                            this.diceEmojies = hashSet2;
                            edit.putStringSet("diceEmojies", hashSet2);
                            z10 = true;
                            break;
                        } else {
                            break;
                        }
                    case '\t':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        HashSet hashSet3 = new HashSet();
                        TLRPC$JSONValue tLRPC$JSONValue12 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue12 instanceof TLRPC$TL_jsonArray) {
                            TLRPC$TL_jsonArray tLRPC$TL_jsonArray3 = (TLRPC$TL_jsonArray) tLRPC$JSONValue12;
                            int size4 = tLRPC$TL_jsonArray3.value.size();
                            for (int i13 = 0; i13 < size4; i13++) {
                                TLRPC$JSONValue tLRPC$JSONValue13 = tLRPC$TL_jsonArray3.value.get(i13);
                                if (tLRPC$JSONValue13 instanceof TLRPC$TL_jsonString) {
                                    hashSet3.add(((TLRPC$TL_jsonString) tLRPC$JSONValue13).value);
                                }
                            }
                        }
                        if (!this.authDomains.equals(hashSet3)) {
                            this.authDomains = hashSet3;
                            edit.putStringSet("authDomains", hashSet3);
                            z10 = true;
                            break;
                        } else {
                            break;
                        }
                    case '\n':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue14 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue14 instanceof TLRPC$TL_jsonNumber) {
                            double d6 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue14).value;
                            if (d6 != this.savedGifsLimitDefault) {
                                int i14 = (int) d6;
                                this.savedGifsLimitDefault = i14;
                                edit.putInt("savedGifsLimitDefault", i14);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 11:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue15 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue15 instanceof TLRPC$TL_jsonNumber) {
                            double d7 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue15).value;
                            if (d7 != this.dialogFiltersLimitDefault) {
                                int i15 = (int) d7;
                                this.dialogFiltersLimitDefault = i15;
                                edit.putInt("dialogFiltersLimitDefault", i15);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '\f':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue16 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue16 instanceof TLRPC$TL_jsonString) {
                            String str2 = ((TLRPC$TL_jsonString) tLRPC$JSONValue16).value;
                            if (!str2.equals(this.premiumInvoiceSlug)) {
                                this.premiumInvoiceSlug = str2;
                                edit.putString("premiumInvoiceSlug", str2);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '\r':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        HashSet hashSet4 = new HashSet();
                        TLRPC$JSONValue tLRPC$JSONValue17 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue17 instanceof TLRPC$TL_jsonArray) {
                            TLRPC$TL_jsonArray tLRPC$TL_jsonArray4 = (TLRPC$TL_jsonArray) tLRPC$JSONValue17;
                            int size5 = tLRPC$TL_jsonArray4.value.size();
                            for (int i16 = 0; i16 < size5; i16++) {
                                TLRPC$JSONValue tLRPC$JSONValue18 = tLRPC$TL_jsonArray4.value.get(i16);
                                if (tLRPC$JSONValue18 instanceof TLRPC$TL_jsonString) {
                                    hashSet4.add(((TLRPC$TL_jsonString) tLRPC$JSONValue18).value);
                                }
                            }
                        }
                        if (!this.exportUri.equals(hashSet4)) {
                            this.exportUri = hashSet4;
                            edit.putStringSet("exportUri2", hashSet4);
                            z10 = true;
                            break;
                        } else {
                            break;
                        }
                    case 14:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue19 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue19 instanceof TLRPC$TL_jsonNumber) {
                            double d8 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue19).value;
                            if (d8 != this.aboutLengthLimitDefault) {
                                int i17 = (int) d8;
                                this.aboutLengthLimitDefault = i17;
                                edit.putInt("aboutLengthLimitDefault", i17);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 15:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue20 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue20 instanceof TLRPC$TL_jsonNumber) {
                            double d9 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue20).value;
                            if (d9 != this.captionLengthLimitPremium) {
                                int i18 = (int) d9;
                                this.captionLengthLimitPremium = i18;
                                edit.putInt("captionLengthLimitPremium", i18);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 16:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue21 = tLRPC$TL_jsonObjectValue.value;
                        if ((tLRPC$JSONValue21 instanceof TLRPC$TL_jsonBool) && (z3 = ((TLRPC$TL_jsonBool) tLRPC$JSONValue21).value) != this.keepAliveService) {
                            this.keepAliveService = z3;
                            edit.putBoolean("keepAliveService", z3);
                            z10 = true;
                            z11 = true;
                            break;
                        }
                        break;
                    case 17:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue22 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue22 instanceof TLRPC$TL_jsonArray) {
                            z10 = savePremiumFeaturesPreviewOrder(edit, ((TLRPC$TL_jsonArray) tLRPC$JSONValue22).value);
                            break;
                        } else {
                            break;
                        }
                    case 18:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue23 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue23 instanceof TLRPC$TL_jsonNumber) {
                            double d10 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue23).value;
                            if (d10 != this.ringtoneSizeMax) {
                                int i19 = (int) d10;
                                this.ringtoneSizeMax = i19;
                                edit.putInt("ringtoneSizeMax", i19);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 19:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue24 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue24 instanceof TLRPC$TL_jsonNumber) {
                            double d11 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue24).value;
                            if (d11 != this.dialogFiltersChatsLimitPremium) {
                                int i20 = (int) d11;
                                this.dialogFiltersChatsLimitPremium = i20;
                                edit.putInt("dialogFiltersChatsLimitPremium", i20);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 20:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue25 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue25 instanceof TLRPC$TL_jsonNumber) {
                            double d12 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue25).value;
                            if (d12 != this.channelsLimitPremium) {
                                int i21 = (int) d12;
                                this.channelsLimitPremium = i21;
                                edit.putInt("channelsLimitPremium", i21);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 21:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue26 = tLRPC$TL_jsonObjectValue.value;
                        if ((tLRPC$JSONValue26 instanceof TLRPC$TL_jsonBool) && (z4 = ((TLRPC$TL_jsonBool) tLRPC$JSONValue26).value) != this.backgroundConnection) {
                            this.backgroundConnection = z4;
                            edit.putBoolean("backgroundConnection", z4);
                            z10 = true;
                            z11 = true;
                            break;
                        }
                        break;
                    case 22:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        try {
                            HashMap<String, DiceFrameSuccess> hashMap = new HashMap<>();
                            TLRPC$JSONValue tLRPC$JSONValue27 = tLRPC$TL_jsonObjectValue.value;
                            if (tLRPC$JSONValue27 instanceof TLRPC$TL_jsonObject) {
                                TLRPC$TL_jsonObject tLRPC$TL_jsonObject6 = (TLRPC$TL_jsonObject) tLRPC$JSONValue27;
                                int size6 = tLRPC$TL_jsonObject6.value.size();
                                int i22 = 0;
                                while (i22 < size6) {
                                    TLRPC$TL_jsonObjectValue tLRPC$TL_jsonObjectValue2 = tLRPC$TL_jsonObject6.value.get(i22);
                                    TLRPC$JSONValue tLRPC$JSONValue28 = tLRPC$TL_jsonObjectValue2.value;
                                    if (tLRPC$JSONValue28 instanceof TLRPC$TL_jsonObject) {
                                        TLRPC$TL_jsonObject tLRPC$TL_jsonObject7 = (TLRPC$TL_jsonObject) tLRPC$JSONValue28;
                                        int size7 = tLRPC$TL_jsonObject7.value.size();
                                        tLRPC$TL_jsonObject4 = tLRPC$TL_jsonObject6;
                                        int i23 = Integer.MAX_VALUE;
                                        int i24 = Integer.MAX_VALUE;
                                        int i25 = 0;
                                        while (i25 < size7) {
                                            int i26 = size6;
                                            TLRPC$TL_jsonObjectValue tLRPC$TL_jsonObjectValue3 = tLRPC$TL_jsonObject7.value.get(i25);
                                            TLRPC$TL_jsonObject tLRPC$TL_jsonObject8 = tLRPC$TL_jsonObject7;
                                            if (tLRPC$TL_jsonObjectValue3.value instanceof TLRPC$TL_jsonNumber) {
                                                i4 = size7;
                                                if ("value".equals(tLRPC$TL_jsonObjectValue3.key)) {
                                                    i23 = (int) ((TLRPC$TL_jsonNumber) tLRPC$TL_jsonObjectValue3.value).value;
                                                } else if ("frame_start".equals(tLRPC$TL_jsonObjectValue3.key)) {
                                                    i24 = (int) ((TLRPC$TL_jsonNumber) tLRPC$TL_jsonObjectValue3.value).value;
                                                }
                                            } else {
                                                i4 = size7;
                                            }
                                            i25++;
                                            size6 = i26;
                                            tLRPC$TL_jsonObject7 = tLRPC$TL_jsonObject8;
                                            size7 = i4;
                                        }
                                        i3 = size6;
                                        if (i24 != Integer.MAX_VALUE && i23 != Integer.MAX_VALUE) {
                                            hashMap.put(tLRPC$TL_jsonObjectValue2.key.replace("️", ""), new DiceFrameSuccess(i24, i23));
                                        }
                                    } else {
                                        tLRPC$TL_jsonObject4 = tLRPC$TL_jsonObject6;
                                        i3 = size6;
                                    }
                                    i22++;
                                    tLRPC$TL_jsonObject6 = tLRPC$TL_jsonObject4;
                                    size6 = i3;
                                }
                            }
                            if (!this.diceSuccess.equals(hashMap)) {
                                this.diceSuccess = hashMap;
                                SerializedData serializedData = new SerializedData();
                                serializedData.writeInt32(this.diceSuccess.size());
                                for (Map.Entry<String, DiceFrameSuccess> entry : this.diceSuccess.entrySet()) {
                                    serializedData.writeString(entry.getKey());
                                    DiceFrameSuccess value = entry.getValue();
                                    serializedData.writeInt32(value.frame);
                                    serializedData.writeInt32(value.num);
                                }
                                edit.putString("diceSuccess", Base64.encodeToString(serializedData.toByteArray(), 0));
                                serializedData.cleanup();
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } catch (Exception e2) {
                            FileLog.e(e2);
                            break;
                        }
                    case 23:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue29 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue29 instanceof TLRPC$TL_jsonNumber) {
                            double d13 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue29).value;
                            if (d13 != this.dialogFiltersPinnedLimitDefault) {
                                int i27 = (int) d13;
                                this.dialogFiltersPinnedLimitDefault = i27;
                                edit.putInt("dialogFiltersPinnedLimitDefault", i27);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 24:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue30 = tLRPC$TL_jsonObjectValue.value;
                        if ((tLRPC$JSONValue30 instanceof TLRPC$TL_jsonBool) && (z5 = ((TLRPC$TL_jsonBool) tLRPC$JSONValue30).value) != this.autoarchiveAvailable) {
                            this.autoarchiveAvailable = z5;
                            edit.putBoolean("autoarchiveAvailable", z5);
                            z10 = true;
                            break;
                        }
                        break;
                    case 25:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue31 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue31 instanceof TLRPC$TL_jsonString) {
                            TLRPC$TL_jsonString tLRPC$TL_jsonString = (TLRPC$TL_jsonString) tLRPC$JSONValue31;
                            if (!tLRPC$TL_jsonString.value.equals(this.youtubePipType)) {
                                String str3 = tLRPC$TL_jsonString.value;
                                this.youtubePipType = str3;
                                edit.putString("youtubePipType", str3);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 26:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue32 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue32 instanceof TLRPC$TL_jsonNumber) {
                            double d14 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue32).value;
                            if (this.animatedEmojisZoom != d14) {
                                float f = (float) d14;
                                this.animatedEmojisZoom = f;
                                edit.putFloat("animatedEmojisZoom", f);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case 27:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue33 = tLRPC$TL_jsonObjectValue.value;
                        if ((tLRPC$JSONValue33 instanceof TLRPC$TL_jsonBool) && (z6 = ((TLRPC$TL_jsonBool) tLRPC$JSONValue33).value) != this.suggestStickersApiOnly) {
                            this.suggestStickersApiOnly = z6;
                            edit.putBoolean("suggestStickersApiOnly", z6);
                            z10 = true;
                            break;
                        }
                        break;
                    case 28:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        ArrayList<String> arrayList = new ArrayList<>();
                        TLRPC$JSONValue tLRPC$JSONValue34 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue34 instanceof TLRPC$TL_jsonArray) {
                            TLRPC$TL_jsonArray tLRPC$TL_jsonArray5 = (TLRPC$TL_jsonArray) tLRPC$JSONValue34;
                            int size8 = tLRPC$TL_jsonArray5.value.size();
                            for (int i28 = 0; i28 < size8; i28++) {
                                TLRPC$JSONValue tLRPC$JSONValue35 = tLRPC$TL_jsonArray5.value.get(i28);
                                if (tLRPC$JSONValue35 instanceof TLRPC$TL_jsonString) {
                                    arrayList.add(((TLRPC$TL_jsonString) tLRPC$JSONValue35).value.replace("️", ""));
                                }
                            }
                        }
                        if (!this.gifSearchEmojies.equals(arrayList)) {
                            this.gifSearchEmojies = arrayList;
                            SerializedData serializedData2 = new SerializedData();
                            serializedData2.writeInt32(this.gifSearchEmojies.size());
                            int size9 = this.gifSearchEmojies.size();
                            for (int i29 = 0; i29 < size9; i29++) {
                                serializedData2.writeString(this.gifSearchEmojies.get(i29));
                            }
                            edit.putString("gifSearchEmojies", Base64.encodeToString(serializedData2.toByteArray(), 0));
                            serializedData2.cleanup();
                            z10 = true;
                            break;
                        } else {
                            break;
                        }
                    case 29:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        HashSet hashSet5 = new HashSet();
                        TLRPC$JSONValue tLRPC$JSONValue36 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue36 instanceof TLRPC$TL_jsonArray) {
                            TLRPC$TL_jsonArray tLRPC$TL_jsonArray6 = (TLRPC$TL_jsonArray) tLRPC$JSONValue36;
                            int size10 = tLRPC$TL_jsonArray6.value.size();
                            for (int i30 = 0; i30 < size10; i30++) {
                                TLRPC$JSONValue tLRPC$JSONValue37 = tLRPC$TL_jsonArray6.value.get(i30);
                                if (tLRPC$JSONValue37 instanceof TLRPC$TL_jsonString) {
                                    hashSet5.add(((TLRPC$TL_jsonString) tLRPC$JSONValue37).value);
                                }
                            }
                        }
                        if (!this.autologinDomains.equals(hashSet5)) {
                            this.autologinDomains = hashSet5;
                            edit.putStringSet("autologinDomains", hashSet5);
                            z10 = true;
                            break;
                        } else {
                            break;
                        }
                    case 30:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        HashSet hashSet6 = new HashSet();
                        TLRPC$JSONValue tLRPC$JSONValue38 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue38 instanceof TLRPC$TL_jsonArray) {
                            TLRPC$TL_jsonArray tLRPC$TL_jsonArray7 = (TLRPC$TL_jsonArray) tLRPC$JSONValue38;
                            int size11 = tLRPC$TL_jsonArray7.value.size();
                            for (int i31 = 0; i31 < size11; i31++) {
                                TLRPC$JSONValue tLRPC$JSONValue39 = tLRPC$TL_jsonArray7.value.get(i31);
                                if (tLRPC$JSONValue39 instanceof TLRPC$TL_jsonString) {
                                    hashSet6.add(((TLRPC$TL_jsonString) tLRPC$JSONValue39).value);
                                }
                            }
                        }
                        if (!this.exportGroupUri.equals(hashSet6)) {
                            this.exportGroupUri = hashSet6;
                            edit.putStringSet("exportGroupUri", hashSet6);
                            z10 = true;
                            break;
                        } else {
                            break;
                        }
                    case 31:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue40 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue40 instanceof TLRPC$TL_jsonString) {
                            TLRPC$TL_jsonString tLRPC$TL_jsonString2 = (TLRPC$TL_jsonString) tLRPC$JSONValue40;
                            if (!tLRPC$TL_jsonString2.value.equals(this.autologinToken)) {
                                String str4 = tLRPC$TL_jsonString2.value;
                                this.autologinToken = str4;
                                edit.putString("autologinToken", str4);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case ' ':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue41 = tLRPC$TL_jsonObjectValue.value;
                        if ((tLRPC$JSONValue41 instanceof TLRPC$TL_jsonBool) && (z7 = ((TLRPC$TL_jsonBool) tLRPC$JSONValue41).value) != this.getfileExperimentalParams) {
                            this.getfileExperimentalParams = z7;
                            edit.putBoolean("getfileExperimentalParams", z7);
                            z10 = true;
                            break;
                        }
                        break;
                    case '!':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue42 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue42 instanceof TLRPC$TL_jsonNumber) {
                            double d15 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue42).value;
                            if (d15 != this.publicLinksLimitDefault) {
                                int i32 = (int) d15;
                                this.publicLinksLimitDefault = i32;
                                edit.putInt("publicLinksLimit", i32);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '\"':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue43 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue43 instanceof TLRPC$TL_jsonNumber) {
                            double d16 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue43).value;
                            if (d16 != this.uploadMaxFilePartsPremium) {
                                int i33 = (int) d16;
                                this.uploadMaxFilePartsPremium = i33;
                                edit.putInt("uploadMaxFilePartsPremium", i33);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '#':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue44 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue44 instanceof TLRPC$TL_jsonNumber) {
                            double d17 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue44).value;
                            if (d17 != this.stickersFavedLimitDefault) {
                                int i34 = (int) d17;
                                this.stickersFavedLimitDefault = i34;
                                edit.putInt("stickersFavedLimitDefault", i34);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '$':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue45 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue45 instanceof TLRPC$TL_jsonNumber) {
                            double d18 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue45).value;
                            if (d18 != this.groupCallVideoMaxParticipants) {
                                int i35 = (int) d18;
                                this.groupCallVideoMaxParticipants = i35;
                                edit.putInt("groipCallVideoMaxParticipants", i35);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '%':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue46 = tLRPC$TL_jsonObjectValue.value;
                        if ((tLRPC$JSONValue46 instanceof TLRPC$TL_jsonBool) && (z8 = ((TLRPC$TL_jsonBool) tLRPC$JSONValue46).value) != this.saveGifsWithStickers) {
                            this.saveGifsWithStickers = z8;
                            edit.putBoolean("saveGifsWithStickers", z8);
                            z10 = true;
                            break;
                        }
                        break;
                    case '&':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue47 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue47 instanceof TLRPC$TL_jsonNumber) {
                            double d19 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue47).value;
                            if (d19 != this.ringtoneDurationMax) {
                                int i36 = (int) d19;
                                this.ringtoneDurationMax = i36;
                                edit.putInt("ringtoneDurationMax", i36);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '\'':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue48 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue48 instanceof TLRPC$TL_jsonNumber) {
                            double d20 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue48).value;
                            if (d20 == this.updateCheckDelay) {
                                break;
                            } else {
                                int i37 = (int) d20;
                                this.updateCheckDelay = i37;
                                edit.putInt("updateCheckDelay", i37);
                            }
                        } else if ((tLRPC$JSONValue48 instanceof TLRPC$TL_jsonString) && (intValue = Utilities.parseInt((CharSequence) ((TLRPC$TL_jsonString) tLRPC$JSONValue48).value).intValue()) != this.updateCheckDelay) {
                            this.updateCheckDelay = intValue;
                            edit.putInt("updateCheckDelay", intValue);
                        }
                        z10 = true;
                        break;
                    case '(':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue49 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue49 instanceof TLRPC$TL_jsonString) {
                            String str5 = ((TLRPC$TL_jsonString) tLRPC$JSONValue49).value;
                            if (!str5.equals(this.premiumBotUsername)) {
                                this.premiumBotUsername = str5;
                                edit.putString("premiumBotUsername", str5);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case ')':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue50 = tLRPC$TL_jsonObjectValue.value;
                        if ((tLRPC$JSONValue50 instanceof TLRPC$TL_jsonBool) && this.premiumLocked != ((TLRPC$TL_jsonBool) tLRPC$JSONValue50).value) {
                            boolean z12 = ((TLRPC$TL_jsonBool) tLRPC$JSONValue50).value;
                            this.premiumLocked = z12;
                            edit.putBoolean("premiumLocked", z12);
                            z10 = true;
                            break;
                        }
                        break;
                    case '*':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue51 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue51 instanceof TLRPC$TL_jsonObject) {
                            TLRPC$TL_jsonObject tLRPC$TL_jsonObject9 = (TLRPC$TL_jsonObject) tLRPC$JSONValue51;
                            int size12 = tLRPC$TL_jsonObject9.value.size();
                            for (int i38 = 0; i38 < size12; i38++) {
                                TLRPC$TL_jsonObjectValue tLRPC$TL_jsonObjectValue4 = tLRPC$TL_jsonObject9.value.get(i38);
                                String str6 = tLRPC$TL_jsonObjectValue4.key;
                                str6.hashCode();
                                switch (str6.hashCode()) {
                                    case -233204595:
                                        if (str6.equals("diameter")) {
                                            c2 = 0;
                                            break;
                                        }
                                        c2 = 65535;
                                        break;
                                    case 258902020:
                                        if (str6.equals("audio_bitrate")) {
                                            c2 = 1;
                                            break;
                                        }
                                        c2 = 65535;
                                        break;
                                    case 1924434857:
                                        if (str6.equals("video_bitrate")) {
                                            c2 = 2;
                                            break;
                                        }
                                        c2 = 65535;
                                        break;
                                    default:
                                        c2 = 65535;
                                        break;
                                }
                                switch (c2) {
                                    case 0:
                                        TLRPC$JSONValue tLRPC$JSONValue52 = tLRPC$TL_jsonObjectValue4.value;
                                        if (tLRPC$JSONValue52 instanceof TLRPC$TL_jsonNumber) {
                                            double d21 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue52).value;
                                            if (d21 != this.roundVideoSize) {
                                                int i39 = (int) d21;
                                                this.roundVideoSize = i39;
                                                edit.putInt("roundVideoSize", i39);
                                                z10 = true;
                                                break;
                                            } else {
                                                break;
                                            }
                                        } else {
                                            break;
                                        }
                                    case 1:
                                        TLRPC$JSONValue tLRPC$JSONValue53 = tLRPC$TL_jsonObjectValue4.value;
                                        if (tLRPC$JSONValue53 instanceof TLRPC$TL_jsonNumber) {
                                            double d22 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue53).value;
                                            if (d22 != this.roundAudioBitrate) {
                                                int i40 = (int) d22;
                                                this.roundAudioBitrate = i40;
                                                edit.putInt("roundAudioBitrate", i40);
                                                z10 = true;
                                                break;
                                            } else {
                                                break;
                                            }
                                        } else {
                                            break;
                                        }
                                    case 2:
                                        TLRPC$JSONValue tLRPC$JSONValue54 = tLRPC$TL_jsonObjectValue4.value;
                                        if (tLRPC$JSONValue54 instanceof TLRPC$TL_jsonNumber) {
                                            double d23 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue54).value;
                                            if (d23 != this.roundVideoBitrate) {
                                                int i41 = (int) d23;
                                                this.roundVideoBitrate = i41;
                                                edit.putInt("roundVideoBitrate", i41);
                                                z10 = true;
                                                break;
                                            } else {
                                                break;
                                            }
                                        } else {
                                            break;
                                        }
                                }
                            }
                            break;
                        } else {
                            break;
                        }
                        break;
                    case '+':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue55 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue55 instanceof TLRPC$TL_jsonNumber) {
                            double d24 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue55).value;
                            if (d24 != this.captionLengthLimitDefault) {
                                int i42 = (int) d24;
                                this.captionLengthLimitDefault = i42;
                                edit.putInt("captionLengthLimitDefault", i42);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case ',':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue56 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue56 instanceof TLRPC$TL_jsonNumber) {
                            double d25 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue56).value;
                            if (d25 != this.chatReadMarkSizeThreshold) {
                                int i43 = (int) d25;
                                this.chatReadMarkSizeThreshold = i43;
                                edit.putInt("chatReadMarkSizeThreshold", i43);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '-':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue57 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue57 instanceof TLRPC$TL_jsonNumber) {
                            double d26 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue57).value;
                            if (d26 != this.dialogFiltersChatsLimitDefault) {
                                int i44 = (int) d26;
                                this.dialogFiltersChatsLimitDefault = i44;
                                edit.putInt("dialogFiltersChatsLimitDefault", i44);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '.':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue58 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue58 instanceof TLRPC$TL_jsonNumber) {
                            double d27 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue58).value;
                            if (d27 != this.savedGifsLimitPremium) {
                                int i45 = (int) d27;
                                this.savedGifsLimitPremium = i45;
                                edit.putInt("savedGifsLimitPremium", i45);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '/':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue59 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue59 instanceof TLRPC$TL_jsonNumber) {
                            double d28 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue59).value;
                            if (d28 != this.channelsLimitDefault) {
                                int i46 = (int) d28;
                                this.channelsLimitDefault = i46;
                                edit.putInt("channelsLimitDefault", i46);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '0':
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        TLRPC$JSONValue tLRPC$JSONValue60 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue60 instanceof TLRPC$TL_jsonNumber) {
                            double d29 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue60).value;
                            if (d29 != this.dialogFiltersLimitPremium) {
                                int i47 = (int) d29;
                                this.dialogFiltersLimitPremium = i47;
                                edit.putInt("dialogFiltersLimitPremium", i47);
                                z10 = true;
                                break;
                            } else {
                                break;
                            }
                        } else {
                            break;
                        }
                    case '1':
                        try {
                            HashMap<String, EmojiSound> hashMap2 = new HashMap<>();
                            TLRPC$JSONValue tLRPC$JSONValue61 = tLRPC$TL_jsonObjectValue.value;
                            if (tLRPC$JSONValue61 instanceof TLRPC$TL_jsonObject) {
                                TLRPC$TL_jsonObject tLRPC$TL_jsonObject10 = (TLRPC$TL_jsonObject) tLRPC$JSONValue61;
                                int size13 = tLRPC$TL_jsonObject10.value.size();
                                int i48 = 0;
                                while (i48 < size13) {
                                    TLRPC$TL_jsonObjectValue tLRPC$TL_jsonObjectValue5 = tLRPC$TL_jsonObject10.value.get(i48);
                                    TLRPC$JSONValue tLRPC$JSONValue62 = tLRPC$TL_jsonObjectValue5.value;
                                    if (tLRPC$JSONValue62 instanceof TLRPC$TL_jsonObject) {
                                        TLRPC$TL_jsonObject tLRPC$TL_jsonObject11 = (TLRPC$TL_jsonObject) tLRPC$JSONValue62;
                                        int size14 = tLRPC$TL_jsonObject11.value.size();
                                        tLRPC$TL_jsonObject3 = tLRPC$TL_jsonObject10;
                                        long j = 0;
                                        long j2 = 0;
                                        int i49 = 0;
                                        String str7 = null;
                                        while (i49 < size14) {
                                            int i50 = size14;
                                            TLRPC$TL_jsonObjectValue tLRPC$TL_jsonObjectValue6 = tLRPC$TL_jsonObject11.value.get(i49);
                                            tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                                            try {
                                                if (tLRPC$TL_jsonObjectValue6.value instanceof TLRPC$TL_jsonString) {
                                                    i = size;
                                                    try {
                                                        if ("id".equals(tLRPC$TL_jsonObjectValue6.key)) {
                                                            j = Utilities.parseLong(((TLRPC$TL_jsonString) tLRPC$TL_jsonObjectValue6.value).value).longValue();
                                                        } else if ("access_hash".equals(tLRPC$TL_jsonObjectValue6.key)) {
                                                            j2 = Utilities.parseLong(((TLRPC$TL_jsonString) tLRPC$TL_jsonObjectValue6.value).value).longValue();
                                                        } else if ("file_reference_base64".equals(tLRPC$TL_jsonObjectValue6.key)) {
                                                            str7 = ((TLRPC$TL_jsonString) tLRPC$TL_jsonObjectValue6.value).value;
                                                        }
                                                    } catch (Exception e3) {
                                                        e = e3;
                                                        FileLog.e(e);
                                                        i5++;
                                                        tLRPC$TL_jsonObject5 = tLRPC$TL_jsonObject;
                                                        size = i;
                                                    }
                                                } else {
                                                    i = size;
                                                }
                                                i49++;
                                                size14 = i50;
                                                tLRPC$TL_jsonObject5 = tLRPC$TL_jsonObject;
                                                size = i;
                                            } catch (Exception e4) {
                                                e = e4;
                                                i = size;
                                                FileLog.e(e);
                                                i5++;
                                                tLRPC$TL_jsonObject5 = tLRPC$TL_jsonObject;
                                                size = i;
                                            }
                                        }
                                        tLRPC$TL_jsonObject2 = tLRPC$TL_jsonObject5;
                                        i2 = size;
                                        if (j != 0 && j2 != 0 && str7 != null) {
                                            hashMap2.put(tLRPC$TL_jsonObjectValue5.key.replace("️", ""), new EmojiSound(j, j2, str7));
                                        }
                                    } else {
                                        tLRPC$TL_jsonObject3 = tLRPC$TL_jsonObject10;
                                        tLRPC$TL_jsonObject2 = tLRPC$TL_jsonObject5;
                                        i2 = size;
                                    }
                                    i48++;
                                    tLRPC$TL_jsonObject10 = tLRPC$TL_jsonObject3;
                                    tLRPC$TL_jsonObject5 = tLRPC$TL_jsonObject2;
                                    size = i2;
                                }
                            }
                            tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                            i = size;
                            if (!this.emojiSounds.equals(hashMap2)) {
                                this.emojiSounds = hashMap2;
                                SerializedData serializedData3 = new SerializedData();
                                serializedData3.writeInt32(this.emojiSounds.size());
                                for (Map.Entry<String, EmojiSound> entry2 : this.emojiSounds.entrySet()) {
                                    serializedData3.writeString(entry2.getKey());
                                    EmojiSound value2 = entry2.getValue();
                                    serializedData3.writeInt64(value2.id);
                                    serializedData3.writeInt64(value2.accessHash);
                                    serializedData3.writeByteArray(value2.fileReference);
                                }
                                edit.putString("emojiSounds", Base64.encodeToString(serializedData3.toByteArray(), 0));
                                serializedData3.cleanup();
                                z10 = true;
                            }
                        } catch (Exception e5) {
                            e = e5;
                            tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        }
                        break;
                    case '2':
                        TLRPC$JSONValue tLRPC$JSONValue63 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue63 instanceof TLRPC$TL_jsonNumber) {
                            double d30 = ((TLRPC$TL_jsonNumber) tLRPC$JSONValue63).value;
                            if (d30 != this.aboutLengthLimitPremium) {
                                int i51 = (int) d30;
                                this.aboutLengthLimitPremium = i51;
                                edit.putInt("aboutLengthLimitPremium", i51);
                                tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                                i = size;
                                z10 = true;
                                break;
                            }
                        }
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        break;
                    case '3':
                        HashSet hashSet7 = new HashSet();
                        TLRPC$JSONValue tLRPC$JSONValue64 = tLRPC$TL_jsonObjectValue.value;
                        if (tLRPC$JSONValue64 instanceof TLRPC$TL_jsonArray) {
                            TLRPC$TL_jsonArray tLRPC$TL_jsonArray8 = (TLRPC$TL_jsonArray) tLRPC$JSONValue64;
                            int size15 = tLRPC$TL_jsonArray8.value.size();
                            for (int i52 = 0; i52 < size15; i52++) {
                                TLRPC$JSONValue tLRPC$JSONValue65 = tLRPC$TL_jsonArray8.value.get(i52);
                                if (tLRPC$JSONValue65 instanceof TLRPC$TL_jsonString) {
                                    hashSet7.add(((TLRPC$TL_jsonString) tLRPC$JSONValue65).value);
                                }
                            }
                        }
                        if (!this.exportPrivateUri.equals(hashSet7)) {
                            this.exportPrivateUri = hashSet7;
                            edit.putStringSet("exportPrivateUri", hashSet7);
                            tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                            i = size;
                            z10 = true;
                            break;
                        }
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        break;
                    case '4':
                        TLRPC$JSONValue tLRPC$JSONValue66 = tLRPC$TL_jsonObjectValue.value;
                        if ((tLRPC$JSONValue66 instanceof TLRPC$TL_jsonBool) && (z9 = ((TLRPC$TL_jsonBool) tLRPC$JSONValue66).value) != this.filtersEnabled) {
                            this.filtersEnabled = z9;
                            edit.putBoolean("filtersEnabled", z9);
                            z10 = true;
                        }
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        break;
                    default:
                        tLRPC$TL_jsonObject = tLRPC$TL_jsonObject5;
                        i = size;
                        break;
                }
                i5++;
                tLRPC$TL_jsonObject5 = tLRPC$TL_jsonObject;
                size = i;
            }
            if (z10) {
                edit.apply();
            }
            if (z11) {
                ApplicationLoader.startPushService();
                ConnectionsManager connectionsManager = getConnectionsManager();
                connectionsManager.setPushConnectionEnabled(connectionsManager.isPushConnectionEnabled());
            }
        }
        this.loadingAppConfig = false;
    }

    private void resetAppConfig() {
        this.getfileExperimentalParams = false;
        this.mainPreferences.edit().remove("getfileExperimentalParams");
    }

    private boolean savePremiumFeaturesPreviewOrder(SharedPreferences.Editor editor, ArrayList<TLRPC$JSONValue> arrayList) {
        int serverStringToFeatureType;
        StringBuilder sb = new StringBuilder();
        this.premiumFeaturesTypesToPosition.clear();
        boolean z = false;
        int i = 0;
        while (true) {
            String str = null;
            if (i >= arrayList.size()) {
                break;
            }
            if (arrayList.get(i) instanceof TLRPC$TL_jsonString) {
                str = ((TLRPC$TL_jsonString) arrayList.get(i)).value;
            }
            if (str != null && (serverStringToFeatureType = PremiumPreviewFragment.serverStringToFeatureType(str)) >= 0) {
                this.premiumFeaturesTypesToPosition.put(serverStringToFeatureType, i);
                if (sb.length() > 0) {
                    sb.append('_');
                }
                sb.append(serverStringToFeatureType);
            }
            i++;
        }
        if (sb.length() > 0) {
            String sb2 = sb.toString();
            boolean z2 = !sb2.equals(this.mainPreferences.getString("premiumFeaturesTypesToPosition", null));
            editor.putString("premiumFeaturesTypesToPosition", sb2);
            return z2;
        }
        editor.remove("premiumFeaturesTypesToPosition");
        if (this.mainPreferences.getString("premiumFeaturesTypesToPosition", null) != null) {
            z = true;
        }
        return z;
    }

    private void loadPremiumFeaturesPreviewOrder(String str) {
        this.premiumFeaturesTypesToPosition.clear();
        if (str != null) {
            String[] split = str.split("_");
            for (int i = 0; i < split.length; i++) {
                this.premiumFeaturesTypesToPosition.put(Integer.parseInt(split[i]), i);
            }
        }
    }

    public void removeSuggestion(long j, String str) {
        if (TextUtils.isEmpty(str)) {
            return;
        }
        if (j == 0) {
            if (!this.pendingSuggestions.remove(str)) {
                return;
            }
            SharedPreferences.Editor edit = this.mainPreferences.edit();
            edit.putStringSet("pendingSuggestions", this.pendingSuggestions);
            edit.commit();
            getNotificationCenter().postNotificationName(NotificationCenter.newSuggestionsAvailable, new Object[0]);
        }
        TLRPC$TL_help_dismissSuggestion tLRPC$TL_help_dismissSuggestion = new TLRPC$TL_help_dismissSuggestion();
        tLRPC$TL_help_dismissSuggestion.suggestion = str;
        if (j == 0) {
            tLRPC$TL_help_dismissSuggestion.peer = new TLRPC$TL_inputPeerEmpty();
        } else {
            tLRPC$TL_help_dismissSuggestion.peer = getInputPeer(j);
        }
        getConnectionsManager().sendRequest(tLRPC$TL_help_dismissSuggestion, MessagesController$$ExternalSyntheticLambda343.INSTANCE);
    }

    public void updateConfig(TLRPC$TL_config tLRPC$TL_config) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda161(this, tLRPC$TL_config));
    }

    public /* synthetic */ void lambda$updateConfig$23(TLRPC$TL_config tLRPC$TL_config) {
        getDownloadController().loadAutoDownloadConfig(false);
        lambda$new$10();
        this.remoteConfigLoaded = true;
        this.maxMegagroupCount = tLRPC$TL_config.megagroup_size_max;
        this.maxGroupCount = tLRPC$TL_config.chat_size_max;
        this.maxEditTime = tLRPC$TL_config.edit_time_limit;
        this.ratingDecay = tLRPC$TL_config.rating_e_decay;
        this.maxRecentGifsCount = tLRPC$TL_config.saved_gifs_limit;
        this.maxRecentStickersCount = tLRPC$TL_config.stickers_recent_limit;
        this.maxFaveStickersCount = tLRPC$TL_config.stickers_faved_limit;
        this.revokeTimeLimit = tLRPC$TL_config.revoke_time_limit;
        this.revokeTimePmLimit = tLRPC$TL_config.revoke_pm_time_limit;
        this.canRevokePmInbox = tLRPC$TL_config.revoke_pm_inbox;
        String str = tLRPC$TL_config.me_url_prefix;
        this.linkPrefix = str;
        boolean z = tLRPC$TL_config.force_try_ipv6;
        if (str.endsWith("/")) {
            String str2 = this.linkPrefix;
            this.linkPrefix = str2.substring(0, str2.length() - 1);
        }
        if (this.linkPrefix.startsWith("https://")) {
            this.linkPrefix = this.linkPrefix.substring(8);
        } else if (this.linkPrefix.startsWith("http://")) {
            this.linkPrefix = this.linkPrefix.substring(7);
        }
        this.callReceiveTimeout = tLRPC$TL_config.call_receive_timeout_ms;
        this.callRingTimeout = tLRPC$TL_config.call_ring_timeout_ms;
        this.callConnectTimeout = tLRPC$TL_config.call_connect_timeout_ms;
        this.callPacketTimeout = tLRPC$TL_config.call_packet_timeout_ms;
        this.maxPinnedDialogsCount = tLRPC$TL_config.pinned_dialogs_count_max;
        this.maxFolderPinnedDialogsCount = tLRPC$TL_config.pinned_infolder_count_max;
        this.maxMessageLength = tLRPC$TL_config.message_length_max;
        this.maxCaptionLength = tLRPC$TL_config.caption_length_max;
        this.preloadFeaturedStickers = tLRPC$TL_config.preload_featured_stickers;
        String str3 = tLRPC$TL_config.venue_search_username;
        if (str3 != null) {
            this.venueSearchBot = str3;
        }
        String str4 = tLRPC$TL_config.gif_search_username;
        if (str4 != null) {
            this.gifSearchBot = str4;
        }
        if (this.imageSearchBot != null) {
            this.imageSearchBot = tLRPC$TL_config.img_search_username;
        }
        this.blockedCountry = tLRPC$TL_config.blocked_mode;
        this.dcDomainName = tLRPC$TL_config.dc_txt_domain_name;
        this.webFileDatacenterId = tLRPC$TL_config.webfile_dc_id;
        String str5 = tLRPC$TL_config.suggested_lang_code;
        if (str5 != null) {
            String str6 = this.suggestedLangCode;
            boolean z2 = str6 == null || !str6.equals(str5);
            this.suggestedLangCode = tLRPC$TL_config.suggested_lang_code;
            if (z2) {
                LocaleController.getInstance().loadRemoteLanguages(this.currentAccount);
            }
        }
        Theme.loadRemoteThemes(this.currentAccount, false);
        Theme.checkCurrentRemoteTheme(false);
        if (tLRPC$TL_config.static_maps_provider == null) {
            tLRPC$TL_config.static_maps_provider = "telegram";
        }
        this.mapKey = null;
        this.mapProvider = 2;
        this.availableMapProviders = 0;
        FileLog.d("map providers = " + tLRPC$TL_config.static_maps_provider);
        String[] split = tLRPC$TL_config.static_maps_provider.split(",");
        for (int i = 0; i < split.length; i++) {
            String[] split2 = split[i].split("\\+");
            if (split2.length > 0) {
                String[] split3 = split2[0].split(":");
                if (split3.length > 0) {
                    if ("yandex".equals(split3[0])) {
                        if (i == 0) {
                            if (split2.length > 1) {
                                this.mapProvider = 3;
                            } else {
                                this.mapProvider = 1;
                            }
                        }
                        this.availableMapProviders |= 4;
                    } else if ("google".equals(split3[0])) {
                        if (i == 0 && split2.length > 1) {
                            this.mapProvider = 4;
                        }
                        this.availableMapProviders |= 1;
                    } else if ("telegram".equals(split3[0])) {
                        if (i == 0) {
                            this.mapProvider = 2;
                        }
                        this.availableMapProviders |= 2;
                    }
                    if (split3.length > 1) {
                        this.mapKey = split3[1];
                    }
                }
            }
        }
        SharedPreferences.Editor edit = this.mainPreferences.edit();
        edit.putBoolean("remoteConfigLoaded", this.remoteConfigLoaded);
        edit.putInt("maxGroupCount", this.maxGroupCount);
        edit.putInt("maxMegagroupCount", this.maxMegagroupCount);
        edit.putInt("maxEditTime", this.maxEditTime);
        edit.putInt("ratingDecay", this.ratingDecay);
        edit.putInt("maxRecentGifsCount", this.maxRecentGifsCount);
        edit.putInt("maxRecentStickersCount", this.maxRecentStickersCount);
        edit.putInt("maxFaveStickersCount", this.maxFaveStickersCount);
        edit.putInt("callReceiveTimeout", this.callReceiveTimeout);
        edit.putInt("callRingTimeout", this.callRingTimeout);
        edit.putInt("callConnectTimeout", this.callConnectTimeout);
        edit.putInt("callPacketTimeout", this.callPacketTimeout);
        edit.putString("linkPrefix", this.linkPrefix);
        edit.putInt("maxPinnedDialogsCount", this.maxPinnedDialogsCount);
        edit.putInt("maxFolderPinnedDialogsCount", this.maxFolderPinnedDialogsCount);
        edit.putInt("maxMessageLength", this.maxMessageLength);
        edit.putInt("maxCaptionLength", this.maxCaptionLength);
        edit.putBoolean("preloadFeaturedStickers", this.preloadFeaturedStickers);
        edit.putInt("revokeTimeLimit", this.revokeTimeLimit);
        edit.putInt("revokeTimePmLimit", this.revokeTimePmLimit);
        edit.putInt("mapProvider", this.mapProvider);
        String str7 = this.mapKey;
        if (str7 != null) {
            edit.putString("pk", str7);
        } else {
            edit.remove("pk");
        }
        edit.putBoolean("canRevokePmInbox", this.canRevokePmInbox);
        edit.putBoolean("blockedCountry", this.blockedCountry);
        edit.putString("venueSearchBot", this.venueSearchBot);
        edit.putString("gifSearchBot", this.gifSearchBot);
        edit.putString("imageSearchBot", this.imageSearchBot);
        edit.putString("dcDomainName2", this.dcDomainName);
        edit.putInt("webFileDatacenterId", this.webFileDatacenterId);
        edit.putString("suggestedLangCode", this.suggestedLangCode);
        edit.putBoolean("forceTryIpV6", z);
        edit.commit();
        getConnectionsManager().setForceTryIpV6(z);
        LocaleController.getInstance().checkUpdateForCurrentRemoteLocale(this.currentAccount, tLRPC$TL_config.lang_pack_version, tLRPC$TL_config.base_lang_pack_version);
        getNotificationCenter().postNotificationName(NotificationCenter.configLoaded, new Object[0]);
    }

    public void addSupportUser() {
        TLRPC$TL_userForeign_old2 tLRPC$TL_userForeign_old2 = new TLRPC$TL_userForeign_old2();
        tLRPC$TL_userForeign_old2.phone = "333";
        tLRPC$TL_userForeign_old2.id = 333000L;
        tLRPC$TL_userForeign_old2.first_name = "Telegram";
        tLRPC$TL_userForeign_old2.last_name = "";
        tLRPC$TL_userForeign_old2.status = null;
        tLRPC$TL_userForeign_old2.photo = new TLRPC$TL_userProfilePhotoEmpty();
        putUser(tLRPC$TL_userForeign_old2, true);
        TLRPC$TL_userForeign_old2 tLRPC$TL_userForeign_old22 = new TLRPC$TL_userForeign_old2();
        tLRPC$TL_userForeign_old22.phone = "42777";
        tLRPC$TL_userForeign_old22.id = 777000L;
        tLRPC$TL_userForeign_old22.verified = true;
        tLRPC$TL_userForeign_old22.first_name = "Telegram";
        tLRPC$TL_userForeign_old22.last_name = "Notifications";
        tLRPC$TL_userForeign_old22.status = null;
        tLRPC$TL_userForeign_old22.photo = new TLRPC$TL_userProfilePhotoEmpty();
        putUser(tLRPC$TL_userForeign_old22, true);
    }

    public TLRPC$InputUser getInputUser(TLRPC$User tLRPC$User) {
        if (tLRPC$User == null) {
            return new TLRPC$TL_inputUserEmpty();
        }
        if (tLRPC$User.id == getUserConfig().getClientUserId()) {
            return new TLRPC$TL_inputUserSelf();
        }
        TLRPC$TL_inputUser tLRPC$TL_inputUser = new TLRPC$TL_inputUser();
        tLRPC$TL_inputUser.user_id = tLRPC$User.id;
        tLRPC$TL_inputUser.access_hash = tLRPC$User.access_hash;
        return tLRPC$TL_inputUser;
    }

    public TLRPC$InputUser getInputUser(TLRPC$InputPeer tLRPC$InputPeer) {
        if (tLRPC$InputPeer == null) {
            return new TLRPC$TL_inputUserEmpty();
        }
        if (tLRPC$InputPeer instanceof TLRPC$TL_inputPeerSelf) {
            return new TLRPC$TL_inputUserSelf();
        }
        TLRPC$TL_inputUser tLRPC$TL_inputUser = new TLRPC$TL_inputUser();
        tLRPC$TL_inputUser.user_id = tLRPC$InputPeer.user_id;
        tLRPC$TL_inputUser.access_hash = tLRPC$InputPeer.access_hash;
        return tLRPC$TL_inputUser;
    }

    public TLRPC$InputUser getInputUser(long j) {
        return getInputUser(getUser(Long.valueOf(j)));
    }

    public static TLRPC$InputChannel getInputChannel(TLRPC$Chat tLRPC$Chat) {
        if ((tLRPC$Chat instanceof TLRPC$TL_channel) || (tLRPC$Chat instanceof TLRPC$TL_channelForbidden)) {
            TLRPC$TL_inputChannel tLRPC$TL_inputChannel = new TLRPC$TL_inputChannel();
            tLRPC$TL_inputChannel.channel_id = tLRPC$Chat.id;
            tLRPC$TL_inputChannel.access_hash = tLRPC$Chat.access_hash;
            return tLRPC$TL_inputChannel;
        }
        return new TLRPC$TL_inputChannelEmpty();
    }

    public static TLRPC$InputChannel getInputChannel(TLRPC$InputPeer tLRPC$InputPeer) {
        TLRPC$TL_inputChannel tLRPC$TL_inputChannel = new TLRPC$TL_inputChannel();
        tLRPC$TL_inputChannel.channel_id = tLRPC$InputPeer.channel_id;
        tLRPC$TL_inputChannel.access_hash = tLRPC$InputPeer.access_hash;
        return tLRPC$TL_inputChannel;
    }

    public TLRPC$InputChannel getInputChannel(long j) {
        return getInputChannel(getChat(Long.valueOf(j)));
    }

    public TLRPC$InputPeer getInputPeer(TLRPC$Peer tLRPC$Peer) {
        if (tLRPC$Peer instanceof TLRPC$TL_peerChat) {
            TLRPC$TL_inputPeerChat tLRPC$TL_inputPeerChat = new TLRPC$TL_inputPeerChat();
            tLRPC$TL_inputPeerChat.chat_id = tLRPC$Peer.chat_id;
            return tLRPC$TL_inputPeerChat;
        } else if (tLRPC$Peer instanceof TLRPC$TL_peerChannel) {
            TLRPC$TL_inputPeerChannel tLRPC$TL_inputPeerChannel = new TLRPC$TL_inputPeerChannel();
            long j = tLRPC$Peer.channel_id;
            tLRPC$TL_inputPeerChannel.channel_id = j;
            TLRPC$Chat chat = getChat(Long.valueOf(j));
            if (chat == null) {
                return tLRPC$TL_inputPeerChannel;
            }
            tLRPC$TL_inputPeerChannel.access_hash = chat.access_hash;
            return tLRPC$TL_inputPeerChannel;
        } else {
            TLRPC$TL_inputPeerUser tLRPC$TL_inputPeerUser = new TLRPC$TL_inputPeerUser();
            long j2 = tLRPC$Peer.user_id;
            tLRPC$TL_inputPeerUser.user_id = j2;
            TLRPC$User user = getUser(Long.valueOf(j2));
            if (user == null) {
                return tLRPC$TL_inputPeerUser;
            }
            tLRPC$TL_inputPeerUser.access_hash = user.access_hash;
            return tLRPC$TL_inputPeerUser;
        }
    }

    public TLRPC$InputPeer getInputPeer(long j) {
        if (j < 0) {
            long j2 = -j;
            TLRPC$Chat chat = getChat(Long.valueOf(j2));
            if (ChatObject.isChannel(chat)) {
                TLRPC$TL_inputPeerChannel tLRPC$TL_inputPeerChannel = new TLRPC$TL_inputPeerChannel();
                tLRPC$TL_inputPeerChannel.channel_id = j2;
                tLRPC$TL_inputPeerChannel.access_hash = chat.access_hash;
                return tLRPC$TL_inputPeerChannel;
            }
            TLRPC$TL_inputPeerChat tLRPC$TL_inputPeerChat = new TLRPC$TL_inputPeerChat();
            tLRPC$TL_inputPeerChat.chat_id = j2;
            return tLRPC$TL_inputPeerChat;
        }
        TLRPC$User user = getUser(Long.valueOf(j));
        TLRPC$TL_inputPeerUser tLRPC$TL_inputPeerUser = new TLRPC$TL_inputPeerUser();
        tLRPC$TL_inputPeerUser.user_id = j;
        if (user == null) {
            return tLRPC$TL_inputPeerUser;
        }
        tLRPC$TL_inputPeerUser.access_hash = user.access_hash;
        return tLRPC$TL_inputPeerUser;
    }

    public static TLRPC$InputPeer getInputPeer(TLRPC$Chat tLRPC$Chat) {
        if (ChatObject.isChannel(tLRPC$Chat)) {
            TLRPC$TL_inputPeerChannel tLRPC$TL_inputPeerChannel = new TLRPC$TL_inputPeerChannel();
            tLRPC$TL_inputPeerChannel.channel_id = tLRPC$Chat.id;
            tLRPC$TL_inputPeerChannel.access_hash = tLRPC$Chat.access_hash;
            return tLRPC$TL_inputPeerChannel;
        }
        TLRPC$TL_inputPeerChat tLRPC$TL_inputPeerChat = new TLRPC$TL_inputPeerChat();
        tLRPC$TL_inputPeerChat.chat_id = tLRPC$Chat.id;
        return tLRPC$TL_inputPeerChat;
    }

    public static TLRPC$InputPeer getInputPeer(TLRPC$User tLRPC$User) {
        TLRPC$TL_inputPeerUser tLRPC$TL_inputPeerUser = new TLRPC$TL_inputPeerUser();
        tLRPC$TL_inputPeerUser.user_id = tLRPC$User.id;
        tLRPC$TL_inputPeerUser.access_hash = tLRPC$User.access_hash;
        return tLRPC$TL_inputPeerUser;
    }

    public TLRPC$Peer getPeer(long j) {
        if (j < 0) {
            long j2 = -j;
            TLRPC$Chat chat = getChat(Long.valueOf(j2));
            if ((chat instanceof TLRPC$TL_channel) || (chat instanceof TLRPC$TL_channelForbidden)) {
                TLRPC$TL_peerChannel tLRPC$TL_peerChannel = new TLRPC$TL_peerChannel();
                tLRPC$TL_peerChannel.channel_id = j2;
                return tLRPC$TL_peerChannel;
            }
            TLRPC$TL_peerChat tLRPC$TL_peerChat = new TLRPC$TL_peerChat();
            tLRPC$TL_peerChat.chat_id = j2;
            return tLRPC$TL_peerChat;
        }
        getUser(Long.valueOf(j));
        TLRPC$TL_peerUser tLRPC$TL_peerUser = new TLRPC$TL_peerUser();
        tLRPC$TL_peerUser.user_id = j;
        return tLRPC$TL_peerUser;
    }

    @Override // org.telegram.messenger.NotificationCenter.NotificationCenterDelegate
    public void didReceivedNotification(int i, int i2, Object... objArr) {
        MessageObject messageObject;
        TLRPC$InputFile tLRPC$InputFile;
        Theme.ThemeAccent themeAccent;
        Theme.ThemeInfo themeInfo;
        TLRPC$InputFile tLRPC$InputFile2;
        TLRPC$TL_theme tLRPC$TL_theme;
        TLRPC$TL_inputThemeSettings tLRPC$TL_inputThemeSettings = null;
        if (i == NotificationCenter.fileUploaded) {
            String str = (String) objArr[0];
            TLRPC$InputFile tLRPC$InputFile3 = (TLRPC$InputFile) objArr[1];
            String str2 = this.uploadingAvatar;
            if (str2 != null && str2.equals(str)) {
                TLRPC$TL_photos_uploadProfilePhoto tLRPC$TL_photos_uploadProfilePhoto = new TLRPC$TL_photos_uploadProfilePhoto();
                tLRPC$TL_photos_uploadProfilePhoto.file = tLRPC$InputFile3;
                tLRPC$TL_photos_uploadProfilePhoto.flags |= 1;
                getConnectionsManager().sendRequest(tLRPC$TL_photos_uploadProfilePhoto, new MessagesController$$ExternalSyntheticLambda235(this));
                return;
            }
            String str3 = this.uploadingWallpaper;
            if (str3 != null && str3.equals(str)) {
                TLRPC$TL_account_uploadWallPaper tLRPC$TL_account_uploadWallPaper = new TLRPC$TL_account_uploadWallPaper();
                tLRPC$TL_account_uploadWallPaper.file = tLRPC$InputFile3;
                tLRPC$TL_account_uploadWallPaper.mime_type = "image/jpeg";
                Theme.OverrideWallpaperInfo overrideWallpaperInfo = this.uploadingWallpaperInfo;
                TLRPC$TL_wallPaperSettings tLRPC$TL_wallPaperSettings = new TLRPC$TL_wallPaperSettings();
                tLRPC$TL_wallPaperSettings.blur = overrideWallpaperInfo.isBlurred;
                tLRPC$TL_wallPaperSettings.motion = overrideWallpaperInfo.isMotion;
                tLRPC$TL_account_uploadWallPaper.settings = tLRPC$TL_wallPaperSettings;
                getConnectionsManager().sendRequest(tLRPC$TL_account_uploadWallPaper, new MessagesController$$ExternalSyntheticLambda333(this, overrideWallpaperInfo, tLRPC$TL_wallPaperSettings));
                return;
            }
            Object obj = this.uploadingThemes.get(str);
            if (obj instanceof Theme.ThemeInfo) {
                Theme.ThemeInfo themeInfo2 = (Theme.ThemeInfo) obj;
                if (str.equals(themeInfo2.uploadingThumb)) {
                    themeInfo2.uploadedThumb = tLRPC$InputFile3;
                    themeInfo2.uploadingThumb = null;
                } else if (str.equals(themeInfo2.uploadingFile)) {
                    themeInfo2.uploadedFile = tLRPC$InputFile3;
                    themeInfo2.uploadingFile = null;
                }
                tLRPC$InputFile = themeInfo2.uploadedThumb;
                tLRPC$InputFile2 = themeInfo2.uploadedFile;
                themeInfo = themeInfo2;
                themeAccent = null;
            } else if (obj instanceof Theme.ThemeAccent) {
                Theme.ThemeAccent themeAccent2 = (Theme.ThemeAccent) obj;
                if (str.equals(themeAccent2.uploadingThumb)) {
                    themeAccent2.uploadedThumb = tLRPC$InputFile3;
                    themeAccent2.uploadingThumb = null;
                } else if (str.equals(themeAccent2.uploadingFile)) {
                    themeAccent2.uploadedFile = tLRPC$InputFile3;
                    themeAccent2.uploadingFile = null;
                }
                themeInfo = themeAccent2.parentTheme;
                themeAccent = themeAccent2;
                tLRPC$InputFile = themeAccent2.uploadedThumb;
                tLRPC$InputFile2 = themeAccent2.uploadedFile;
            } else {
                tLRPC$InputFile = null;
                tLRPC$InputFile2 = null;
                themeInfo = null;
                themeAccent = null;
            }
            this.uploadingThemes.remove(str);
            if (tLRPC$InputFile2 == null || tLRPC$InputFile == null) {
                return;
            }
            new File(str);
            TLRPC$TL_account_uploadTheme tLRPC$TL_account_uploadTheme = new TLRPC$TL_account_uploadTheme();
            tLRPC$TL_account_uploadTheme.mime_type = "application/x-tgtheme-android";
            tLRPC$TL_account_uploadTheme.file_name = "theme.attheme";
            tLRPC$TL_account_uploadTheme.file = tLRPC$InputFile2;
            tLRPC$InputFile2.name = "theme.attheme";
            tLRPC$TL_account_uploadTheme.thumb = tLRPC$InputFile;
            tLRPC$InputFile.name = "theme-preview.jpg";
            tLRPC$TL_account_uploadTheme.flags |= 1;
            if (themeAccent != null) {
                themeAccent.uploadedFile = null;
                themeAccent.uploadedThumb = null;
                tLRPC$TL_theme = themeAccent.info;
                tLRPC$TL_inputThemeSettings = new TLRPC$TL_inputThemeSettings();
                tLRPC$TL_inputThemeSettings.base_theme = Theme.getBaseThemeByKey(themeInfo.name);
                tLRPC$TL_inputThemeSettings.accent_color = themeAccent.accentColor;
                int i3 = themeAccent.accentColor2;
                if (i3 != 0) {
                    tLRPC$TL_inputThemeSettings.flags |= 8;
                    tLRPC$TL_inputThemeSettings.outbox_accent_color = i3;
                }
                int i4 = themeAccent.myMessagesAccentColor;
                if (i4 != 0) {
                    tLRPC$TL_inputThemeSettings.message_colors.add(Integer.valueOf(i4));
                    tLRPC$TL_inputThemeSettings.flags |= 1;
                    int i5 = themeAccent.myMessagesGradientAccentColor1;
                    if (i5 != 0) {
                        tLRPC$TL_inputThemeSettings.message_colors.add(Integer.valueOf(i5));
                        int i6 = themeAccent.myMessagesGradientAccentColor2;
                        if (i6 != 0) {
                            tLRPC$TL_inputThemeSettings.message_colors.add(Integer.valueOf(i6));
                            int i7 = themeAccent.myMessagesGradientAccentColor3;
                            if (i7 != 0) {
                                tLRPC$TL_inputThemeSettings.message_colors.add(Integer.valueOf(i7));
                            }
                        }
                    }
                    tLRPC$TL_inputThemeSettings.message_colors_animated = themeAccent.myMessagesAnimated;
                }
                tLRPC$TL_inputThemeSettings.flags |= 2;
                tLRPC$TL_inputThemeSettings.wallpaper_settings = new TLRPC$TL_wallPaperSettings();
                if (!TextUtils.isEmpty(themeAccent.patternSlug)) {
                    TLRPC$TL_inputWallPaperSlug tLRPC$TL_inputWallPaperSlug = new TLRPC$TL_inputWallPaperSlug();
                    tLRPC$TL_inputWallPaperSlug.slug = themeAccent.patternSlug;
                    tLRPC$TL_inputThemeSettings.wallpaper = tLRPC$TL_inputWallPaperSlug;
                    TLRPC$WallPaperSettings tLRPC$WallPaperSettings = tLRPC$TL_inputThemeSettings.wallpaper_settings;
                    tLRPC$WallPaperSettings.intensity = (int) (themeAccent.patternIntensity * 100.0f);
                    tLRPC$WallPaperSettings.flags |= 8;
                } else {
                    TLRPC$TL_inputWallPaperNoFile tLRPC$TL_inputWallPaperNoFile = new TLRPC$TL_inputWallPaperNoFile();
                    tLRPC$TL_inputWallPaperNoFile.id = 0L;
                    tLRPC$TL_inputThemeSettings.wallpaper = tLRPC$TL_inputWallPaperNoFile;
                }
                TLRPC$WallPaperSettings tLRPC$WallPaperSettings2 = tLRPC$TL_inputThemeSettings.wallpaper_settings;
                tLRPC$WallPaperSettings2.motion = themeAccent.patternMotion;
                long j = themeAccent.backgroundOverrideColor;
                if (j != 0) {
                    tLRPC$WallPaperSettings2.background_color = (int) j;
                    tLRPC$WallPaperSettings2.flags |= 1;
                }
                long j2 = themeAccent.backgroundGradientOverrideColor1;
                if (j2 != 0) {
                    tLRPC$WallPaperSettings2.second_background_color = (int) j2;
                    tLRPC$WallPaperSettings2.flags |= 16;
                    tLRPC$WallPaperSettings2.rotation = AndroidUtilities.getWallpaperRotation(themeAccent.backgroundRotation, true);
                }
                long j3 = themeAccent.backgroundGradientOverrideColor2;
                if (j3 != 0) {
                    TLRPC$WallPaperSettings tLRPC$WallPaperSettings3 = tLRPC$TL_inputThemeSettings.wallpaper_settings;
                    tLRPC$WallPaperSettings3.third_background_color = (int) j3;
                    tLRPC$WallPaperSettings3.flags |= 32;
                }
                long j4 = themeAccent.backgroundGradientOverrideColor3;
                if (j4 != 0) {
                    TLRPC$WallPaperSettings tLRPC$WallPaperSettings4 = tLRPC$TL_inputThemeSettings.wallpaper_settings;
                    tLRPC$WallPaperSettings4.fourth_background_color = (int) j4;
                    tLRPC$WallPaperSettings4.flags |= 64;
                }
            } else {
                themeInfo.uploadedFile = null;
                themeInfo.uploadedThumb = null;
                tLRPC$TL_theme = themeInfo.info;
            }
            getConnectionsManager().sendRequest(tLRPC$TL_account_uploadTheme, new MessagesController$$ExternalSyntheticLambda327(this, tLRPC$TL_theme, themeInfo, tLRPC$TL_inputThemeSettings, themeAccent));
        } else if (i == NotificationCenter.fileUploadFailed) {
            String str4 = (String) objArr[0];
            String str5 = this.uploadingAvatar;
            if (str5 != null && str5.equals(str4)) {
                this.uploadingAvatar = null;
                return;
            }
            String str6 = this.uploadingWallpaper;
            if (str6 != null && str6.equals(str4)) {
                this.uploadingWallpaper = null;
                this.uploadingWallpaperInfo = null;
                return;
            }
            Object remove = this.uploadingThemes.remove(str4);
            if (remove instanceof Theme.ThemeInfo) {
                Theme.ThemeInfo themeInfo3 = (Theme.ThemeInfo) remove;
                themeInfo3.uploadedFile = null;
                themeInfo3.uploadedThumb = null;
                getNotificationCenter().postNotificationName(NotificationCenter.themeUploadError, themeInfo3, 0);
            } else if (!(remove instanceof Theme.ThemeAccent)) {
            } else {
                Theme.ThemeAccent themeAccent3 = (Theme.ThemeAccent) remove;
                themeAccent3.uploadingThumb = null;
                getNotificationCenter().postNotificationName(NotificationCenter.themeUploadError, themeAccent3.parentTheme, themeAccent3);
            }
        } else if (i == NotificationCenter.messageReceivedByServer) {
            if (((Boolean) objArr[6]).booleanValue()) {
                return;
            }
            Integer num = (Integer) objArr[0];
            Integer num2 = (Integer) objArr[1];
            Long l = (Long) objArr[3];
            MessageObject messageObject2 = this.dialogMessage.get(l.longValue());
            if (messageObject2 != null && (messageObject2.getId() == num.intValue() || messageObject2.messageOwner.local_id == num.intValue())) {
                messageObject2.messageOwner.id = num2.intValue();
                messageObject2.messageOwner.send_state = 0;
            }
            TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(l.longValue());
            if (tLRPC$Dialog != null && tLRPC$Dialog.top_message == num.intValue()) {
                tLRPC$Dialog.top_message = num2.intValue();
                getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
            }
            MessageObject messageObject3 = this.dialogMessagesByIds.get(num.intValue());
            if (messageObject3 != null) {
                this.dialogMessagesByIds.remove(num.intValue());
                this.dialogMessagesByIds.put(num2.intValue(), messageObject3);
            }
            if (!DialogObject.isChatDialog(l.longValue())) {
                return;
            }
            TLRPC$ChatFull tLRPC$ChatFull = this.fullChats.get(-l.longValue());
            TLRPC$Chat chat = getChat(Long.valueOf(-l.longValue()));
            if (chat == null || ChatObject.hasAdminRights(chat) || tLRPC$ChatFull == null || tLRPC$ChatFull.slowmode_seconds == 0) {
                return;
            }
            tLRPC$ChatFull.slowmode_next_send_date = getConnectionsManager().getCurrentTime() + tLRPC$ChatFull.slowmode_seconds;
            tLRPC$ChatFull.flags |= 262144;
            getMessagesStorage().updateChatInfo(tLRPC$ChatFull, false);
        } else if (i != NotificationCenter.updateMessageMedia) {
        } else {
            TLRPC$Message tLRPC$Message = (TLRPC$Message) objArr[0];
            if (tLRPC$Message.peer_id.channel_id != 0 || (messageObject = this.dialogMessagesByIds.get(tLRPC$Message.id)) == null) {
                return;
            }
            messageObject.messageOwner.media = tLRPC$Message.media;
            TLRPC$MessageMedia tLRPC$MessageMedia = tLRPC$Message.media;
            if (tLRPC$MessageMedia.ttl_seconds == 0) {
                return;
            }
            if (!(tLRPC$MessageMedia.photo instanceof TLRPC$TL_photoEmpty) && !(tLRPC$MessageMedia.document instanceof TLRPC$TL_documentEmpty)) {
                return;
            }
            messageObject.setType();
            getNotificationCenter().postNotificationName(NotificationCenter.notificationsSettingsUpdated, new Object[0]);
        }
    }

    public /* synthetic */ void lambda$didReceivedNotification$25(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$User user = getUser(Long.valueOf(getUserConfig().getClientUserId()));
            if (user == null) {
                user = getUserConfig().getCurrentUser();
                putUser(user, true);
            } else {
                getUserConfig().setCurrentUser(user);
            }
            if (user == null) {
                return;
            }
            TLRPC$TL_photos_photo tLRPC$TL_photos_photo = (TLRPC$TL_photos_photo) tLObject;
            ArrayList<TLRPC$PhotoSize> arrayList = tLRPC$TL_photos_photo.photo.sizes;
            TLRPC$PhotoSize closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(arrayList, 100);
            TLRPC$PhotoSize closestPhotoSizeWithSize2 = FileLoader.getClosestPhotoSizeWithSize(arrayList, 1000);
            TLRPC$TL_userProfilePhoto tLRPC$TL_userProfilePhoto = new TLRPC$TL_userProfilePhoto();
            user.photo = tLRPC$TL_userProfilePhoto;
            tLRPC$TL_userProfilePhoto.photo_id = tLRPC$TL_photos_photo.photo.id;
            if (closestPhotoSizeWithSize != null) {
                tLRPC$TL_userProfilePhoto.photo_small = closestPhotoSizeWithSize.location;
            }
            if (closestPhotoSizeWithSize2 != null) {
                tLRPC$TL_userProfilePhoto.photo_big = closestPhotoSizeWithSize2.location;
            }
            getMessagesStorage().clearUserPhotos(user.id);
            ArrayList<TLRPC$User> arrayList2 = new ArrayList<>();
            arrayList2.add(user);
            getMessagesStorage().putUsersAndChats(arrayList2, null, false, true);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda28(this));
        }
    }

    public /* synthetic */ void lambda$didReceivedNotification$24() {
        getNotificationCenter().postNotificationName(NotificationCenter.mainUserInfoChanged, new Object[0]);
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_AVATAR));
        getUserConfig().saveConfig(true);
    }

    public /* synthetic */ void lambda$didReceivedNotification$27(Theme.OverrideWallpaperInfo overrideWallpaperInfo, TLRPC$TL_wallPaperSettings tLRPC$TL_wallPaperSettings, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        TLRPC$WallPaper tLRPC$WallPaper = (TLRPC$WallPaper) tLObject;
        File file = new File(ApplicationLoader.getFilesDirFixed(), overrideWallpaperInfo.originalFileName);
        if (tLRPC$WallPaper != null) {
            try {
                AndroidUtilities.copyFile(file, getFileLoader().getPathToAttach(tLRPC$WallPaper.document, true));
            } catch (Exception unused) {
            }
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda189(this, tLRPC$WallPaper, tLRPC$TL_wallPaperSettings, overrideWallpaperInfo, file));
    }

    public /* synthetic */ void lambda$didReceivedNotification$26(TLRPC$WallPaper tLRPC$WallPaper, TLRPC$TL_wallPaperSettings tLRPC$TL_wallPaperSettings, Theme.OverrideWallpaperInfo overrideWallpaperInfo, File file) {
        if (this.uploadingWallpaper == null || tLRPC$WallPaper == null) {
            return;
        }
        tLRPC$WallPaper.settings = tLRPC$TL_wallPaperSettings;
        tLRPC$WallPaper.flags |= 4;
        overrideWallpaperInfo.slug = tLRPC$WallPaper.slug;
        overrideWallpaperInfo.saveOverrideWallpaper();
        ArrayList<TLRPC$WallPaper> arrayList = new ArrayList<>();
        arrayList.add(tLRPC$WallPaper);
        getMessagesStorage().putWallpapers(arrayList, 2);
        TLRPC$PhotoSize closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(tLRPC$WallPaper.document.thumbs, 320);
        if (closestPhotoSizeWithSize != null) {
            ImageLoader.getInstance().replaceImageInCache(Utilities.MD5(file.getAbsolutePath()) + "@100_100", closestPhotoSizeWithSize.location.volume_id + "_" + closestPhotoSizeWithSize.location.local_id + "@100_100", ImageLocation.getForDocument(closestPhotoSizeWithSize, tLRPC$WallPaper.document), false);
        }
        NotificationCenter.getGlobalInstance().postNotificationName(NotificationCenter.wallpapersNeedReload, tLRPC$WallPaper.slug);
    }

    public /* synthetic */ void lambda$didReceivedNotification$33(TLRPC$TL_theme tLRPC$TL_theme, Theme.ThemeInfo themeInfo, TLRPC$TL_inputThemeSettings tLRPC$TL_inputThemeSettings, Theme.ThemeAccent themeAccent, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        String name = tLRPC$TL_theme != null ? tLRPC$TL_theme.title : themeInfo.getName();
        int lastIndexOf = name.lastIndexOf(".attheme");
        if (lastIndexOf > 0) {
            name = name.substring(0, lastIndexOf);
        }
        if (tLObject != null) {
            TLRPC$Document tLRPC$Document = (TLRPC$Document) tLObject;
            TLRPC$TL_inputDocument tLRPC$TL_inputDocument = new TLRPC$TL_inputDocument();
            tLRPC$TL_inputDocument.access_hash = tLRPC$Document.access_hash;
            tLRPC$TL_inputDocument.id = tLRPC$Document.id;
            tLRPC$TL_inputDocument.file_reference = tLRPC$Document.file_reference;
            if (tLRPC$TL_theme == null || !tLRPC$TL_theme.creator) {
                TLRPC$TL_account_createTheme tLRPC$TL_account_createTheme = new TLRPC$TL_account_createTheme();
                tLRPC$TL_account_createTheme.document = tLRPC$TL_inputDocument;
                tLRPC$TL_account_createTheme.flags |= 4;
                tLRPC$TL_account_createTheme.slug = (tLRPC$TL_theme == null || TextUtils.isEmpty(tLRPC$TL_theme.slug)) ? "" : tLRPC$TL_theme.slug;
                tLRPC$TL_account_createTheme.title = name;
                if (tLRPC$TL_inputThemeSettings != null) {
                    tLRPC$TL_account_createTheme.settings = tLRPC$TL_inputThemeSettings;
                    tLRPC$TL_account_createTheme.flags |= 8;
                }
                getConnectionsManager().sendRequest(tLRPC$TL_account_createTheme, new MessagesController$$ExternalSyntheticLambda334(this, themeInfo, themeAccent));
                return;
            }
            TLRPC$TL_account_updateTheme tLRPC$TL_account_updateTheme = new TLRPC$TL_account_updateTheme();
            TLRPC$TL_inputTheme tLRPC$TL_inputTheme = new TLRPC$TL_inputTheme();
            tLRPC$TL_inputTheme.id = tLRPC$TL_theme.id;
            tLRPC$TL_inputTheme.access_hash = tLRPC$TL_theme.access_hash;
            tLRPC$TL_account_updateTheme.theme = tLRPC$TL_inputTheme;
            tLRPC$TL_account_updateTheme.slug = tLRPC$TL_theme.slug;
            int i = tLRPC$TL_account_updateTheme.flags | 1;
            tLRPC$TL_account_updateTheme.flags = i;
            tLRPC$TL_account_updateTheme.title = name;
            int i2 = i | 2;
            tLRPC$TL_account_updateTheme.flags = i2;
            tLRPC$TL_account_updateTheme.document = tLRPC$TL_inputDocument;
            int i3 = i2 | 4;
            tLRPC$TL_account_updateTheme.flags = i3;
            if (tLRPC$TL_inputThemeSettings != null) {
                tLRPC$TL_account_updateTheme.settings = tLRPC$TL_inputThemeSettings;
                tLRPC$TL_account_updateTheme.flags = i3 | 8;
            }
            tLRPC$TL_account_updateTheme.format = "android";
            getConnectionsManager().sendRequest(tLRPC$TL_account_updateTheme, new MessagesController$$ExternalSyntheticLambda335(this, themeInfo, themeAccent));
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda205(this, themeInfo, themeAccent));
    }

    public /* synthetic */ void lambda$didReceivedNotification$29(Theme.ThemeInfo themeInfo, Theme.ThemeAccent themeAccent, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda143(this, tLObject, themeInfo, themeAccent));
    }

    public /* synthetic */ void lambda$didReceivedNotification$28(TLObject tLObject, Theme.ThemeInfo themeInfo, Theme.ThemeAccent themeAccent) {
        if (tLObject instanceof TLRPC$TL_theme) {
            Theme.setThemeUploadInfo(themeInfo, themeAccent, (TLRPC$TL_theme) tLObject, this.currentAccount, false);
            installTheme(themeInfo, themeAccent, themeInfo == Theme.getCurrentNightTheme());
            getNotificationCenter().postNotificationName(NotificationCenter.themeUploadedToServer, themeInfo, themeAccent);
            return;
        }
        getNotificationCenter().postNotificationName(NotificationCenter.themeUploadError, themeInfo, themeAccent);
    }

    public /* synthetic */ void lambda$didReceivedNotification$31(Theme.ThemeInfo themeInfo, Theme.ThemeAccent themeAccent, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda144(this, tLObject, themeInfo, themeAccent));
    }

    public /* synthetic */ void lambda$didReceivedNotification$30(TLObject tLObject, Theme.ThemeInfo themeInfo, Theme.ThemeAccent themeAccent) {
        if (tLObject instanceof TLRPC$TL_theme) {
            Theme.setThemeUploadInfo(themeInfo, themeAccent, (TLRPC$TL_theme) tLObject, this.currentAccount, false);
            getNotificationCenter().postNotificationName(NotificationCenter.themeUploadedToServer, themeInfo, themeAccent);
            return;
        }
        getNotificationCenter().postNotificationName(NotificationCenter.themeUploadError, themeInfo, themeAccent);
    }

    public /* synthetic */ void lambda$didReceivedNotification$32(Theme.ThemeInfo themeInfo, Theme.ThemeAccent themeAccent) {
        getNotificationCenter().postNotificationName(NotificationCenter.themeUploadError, themeInfo, themeAccent);
    }

    public void cleanup() {
        getContactsController().cleanup();
        MediaController.getInstance().cleanup();
        getNotificationsController().cleanup();
        getSendMessagesHelper().cleanup();
        getSecretChatHelper().cleanup();
        getLocationController().cleanup();
        getMediaDataController().cleanup();
        this.showFiltersTooltip = false;
        DialogsActivity.dialogsLoaded[this.currentAccount] = false;
        this.notificationsPreferences.edit().clear().commit();
        this.emojiPreferences.edit().putLong("lastGifLoadTime", 0L).putLong("lastStickersLoadTime", 0L).putLong("lastStickersLoadTimeMask", 0L).putLong("lastStickersLoadTimeFavs", 0L).commit();
        this.mainPreferences.edit().remove("archivehint").remove("proximityhint").remove("archivehint_l").remove("gifhint").remove("reminderhint").remove("soundHint").remove("dcDomainName2").remove("webFileDatacenterId").remove("themehint").remove("showFiltersTooltip").commit();
        SharedPreferences sharedPreferences = ApplicationLoader.applicationContext.getSharedPreferences("shortcut_widget", 0);
        SharedPreferences.Editor editor = null;
        ArrayList arrayList = null;
        ArrayList arrayList2 = null;
        AppWidgetManager appWidgetManager = null;
        for (Map.Entry<String, ?> entry : sharedPreferences.getAll().entrySet()) {
            String key = entry.getKey();
            if (key.startsWith("account") && ((Integer) entry.getValue()).intValue() == this.currentAccount) {
                int intValue = Utilities.parseInt((CharSequence) key).intValue();
                if (editor == null) {
                    editor = sharedPreferences.edit();
                    appWidgetManager = AppWidgetManager.getInstance(ApplicationLoader.applicationContext);
                }
                editor.putBoolean("deleted" + intValue, true);
                if (sharedPreferences.getInt("type" + intValue, 0) == 0) {
                    if (arrayList == null) {
                        arrayList = new ArrayList();
                    }
                    arrayList.add(Integer.valueOf(intValue));
                } else {
                    if (arrayList2 == null) {
                        arrayList2 = new ArrayList();
                    }
                    arrayList2.add(Integer.valueOf(intValue));
                }
            }
        }
        if (editor != null) {
            editor.commit();
        }
        if (arrayList != null) {
            int size = arrayList.size();
            for (int i = 0; i < size; i++) {
                ChatsWidgetProvider.updateWidget(ApplicationLoader.applicationContext, appWidgetManager, ((Integer) arrayList.get(i)).intValue());
            }
        }
        if (arrayList2 != null) {
            int size2 = arrayList2.size();
            for (int i2 = 0; i2 < size2; i2++) {
                ContactsWidgetProvider.updateWidget(ApplicationLoader.applicationContext, appWidgetManager, ((Integer) arrayList2.get(i2)).intValue());
            }
        }
        this.lastScheduledServerQueryTime.clear();
        this.lastServerQueryTime.clear();
        this.reloadingWebpages.clear();
        this.reloadingWebpagesPending.clear();
        this.reloadingScheduledWebpages.clear();
        this.reloadingScheduledWebpagesPending.clear();
        this.sponsoredMessages.clear();
        this.sendAsPeers.clear();
        this.dialogs_dict.clear();
        this.dialogs_read_inbox_max.clear();
        this.loadingPinnedDialogs.clear();
        this.dialogs_read_outbox_max.clear();
        this.exportedChats.clear();
        this.fullUsers.clear();
        this.fullChats.clear();
        this.activeVoiceChatsMap.clear();
        this.loadingGroupCalls.clear();
        this.groupCallsByChatId.clear();
        this.dialogsByFolder.clear();
        this.unreadUnmutedDialogs = 0;
        this.joiningToChannels.clear();
        this.migratedChats.clear();
        this.channelViewsToSend.clear();
        this.pollsToCheck.clear();
        this.pollsToCheckSize = 0;
        this.dialogsServerOnly.clear();
        this.dialogsForward.clear();
        this.allDialogs.clear();
        this.dialogsLoadedTillDate = Integer.MAX_VALUE;
        this.dialogsCanAddUsers.clear();
        this.dialogsMyChannels.clear();
        this.dialogsMyGroups.clear();
        this.dialogsChannelsOnly.clear();
        this.dialogsGroupsOnly.clear();
        this.dialogsUsersOnly.clear();
        this.dialogsForBlock.clear();
        this.dialogMessagesByIds.clear();
        this.dialogMessagesByRandomIds.clear();
        this.channelAdmins.clear();
        this.loadingChannelAdmins.clear();
        this.users.clear();
        this.objectsByUsernames.clear();
        this.chats.clear();
        this.dialogMessage.clear();
        this.deletedHistory.clear();
        this.printingUsers.clear();
        this.printingStrings.clear();
        this.printingStringsTypes.clear();
        this.onlinePrivacy.clear();
        this.loadingPeerSettings.clear();
        this.deletingDialogs.clear();
        this.clearingHistoryDialogs.clear();
        this.lastPrintingStringCount = 0;
        DialogFilter[] dialogFilterArr = this.selectedDialogFilter;
        dialogFilterArr[1] = null;
        dialogFilterArr[0] = null;
        this.dialogFilters.clear();
        this.dialogFiltersById.clear();
        this.loadingSuggestedFilters = false;
        this.loadingRemoteFilters = false;
        this.suggestedFilters.clear();
        this.gettingAppChangelog = false;
        this.dialogFiltersLoaded = false;
        this.ignoreSetOnline = false;
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda22(this));
        this.createdDialogMainThreadIds.clear();
        this.visibleDialogMainThreadIds.clear();
        this.visibleScheduledDialogMainThreadIds.clear();
        this.blockePeers.clear();
        int i3 = 0;
        while (true) {
            LongSparseArray<SparseArray<Boolean>>[] longSparseArrayArr = this.sendingTypings;
            if (i3 >= longSparseArrayArr.length) {
                break;
            }
            if (longSparseArrayArr[i3] != null) {
                longSparseArrayArr[i3].clear();
            }
            i3++;
        }
        this.loadingFullUsers.clear();
        this.loadedFullUsers.clear();
        this.reloadingMessages.clear();
        this.loadingFullChats.clear();
        this.loadingFullParticipants.clear();
        this.loadedFullParticipants.clear();
        this.loadedFullChats.clear();
        this.dialogsLoaded = false;
        this.nextDialogsCacheOffset.clear();
        this.loadingDialogs.clear();
        this.dialogsEndReached.clear();
        this.serverDialogsEndReached.clear();
        this.loadingAppConfig = false;
        this.checkingTosUpdate = false;
        this.nextTosCheckTime = 0;
        this.nextPromoInfoCheckTime = 0;
        this.checkingPromoInfo = false;
        this.loadingUnreadDialogs = false;
        this.currentDeletingTaskTime = 0;
        this.currentDeletingTaskMids = null;
        this.currentDeletingTaskMediaMids = null;
        this.gettingNewDeleteTask = false;
        this.loadingBlockedPeers = false;
        this.totalBlockedCount = -1;
        this.blockedEndReached = false;
        this.firstGettingTask = false;
        this.updatingState = false;
        this.resetingDialogs = false;
        this.lastStatusUpdateTime = 0L;
        this.offlineSent = false;
        this.registeringForPush = false;
        this.getDifferenceFirstSync = true;
        this.uploadingAvatar = null;
        this.uploadingWallpaper = null;
        this.uploadingWallpaperInfo = null;
        this.uploadingThemes.clear();
        this.gettingChatInviters.clear();
        this.statusRequest = 0;
        this.statusSettingState = 0;
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda25(this));
        if (this.currentDeleteTaskRunnable != null) {
            Utilities.stageQueue.cancelRunnable(this.currentDeleteTaskRunnable);
            this.currentDeleteTaskRunnable = null;
        }
        addSupportUser();
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda31(this));
    }

    public /* synthetic */ void lambda$cleanup$34() {
        this.readTasks.clear();
        this.readTasksMap.clear();
        this.repliesReadTasks.clear();
        this.threadsReadTasksMap.clear();
        this.updatesQueueSeq.clear();
        this.updatesQueuePts.clear();
        this.updatesQueueQts.clear();
        this.gettingUnknownChannels.clear();
        this.gettingUnknownDialogs.clear();
        this.updatesStartWaitTimeSeq = 0L;
        this.updatesStartWaitTimePts = 0L;
        this.updatesStartWaitTimeQts = 0L;
        this.createdDialogIds.clear();
        this.createdScheduledDialogIds.clear();
        this.gettingDifference = false;
        this.resetDialogsPinned = null;
        this.resetDialogsAll = null;
    }

    public /* synthetic */ void lambda$cleanup$35() {
        getConnectionsManager().setIsUpdating(false);
        this.updatesQueueChannels.clear();
        this.updatesStartWaitTimeChannels.clear();
        this.gettingDifferenceChannels.clear();
        this.channelsPts.clear();
        this.shortPollChannels.clear();
        this.needShortPollChannels.clear();
        this.shortPollOnlines.clear();
        this.needShortPollOnlines.clear();
    }

    public /* synthetic */ void lambda$cleanup$36() {
        getNotificationCenter().postNotificationName(NotificationCenter.suggestedFiltersLoaded, new Object[0]);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogFiltersUpdated, new Object[0]);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    public boolean isChatNoForwards(TLRPC$Chat tLRPC$Chat) {
        TLRPC$Chat chat;
        if (tLRPC$Chat == null) {
            return false;
        }
        TLRPC$InputChannel tLRPC$InputChannel = tLRPC$Chat.migrated_to;
        if (tLRPC$InputChannel != null && (chat = getChat(Long.valueOf(tLRPC$InputChannel.channel_id))) != null) {
            return chat.noforwards;
        }
        return tLRPC$Chat.noforwards;
    }

    public boolean isChatNoForwards(long j) {
        return isChatNoForwards(getChat(Long.valueOf(j)));
    }

    public TLRPC$User getUser(Long l) {
        if (l.longValue() == 0) {
            return UserConfig.getInstance(this.currentAccount).getCurrentUser();
        }
        return this.users.get(l);
    }

    public TLObject getUserOrChat(String str) {
        if (str == null || str.length() == 0) {
            return null;
        }
        return this.objectsByUsernames.get(str.toLowerCase());
    }

    public ConcurrentHashMap<Long, TLRPC$User> getUsers() {
        return this.users;
    }

    public ConcurrentHashMap<Long, TLRPC$Chat> getChats() {
        return this.chats;
    }

    public TLRPC$Chat getChat(Long l) {
        return this.chats.get(l);
    }

    public TLRPC$EncryptedChat getEncryptedChat(Integer num) {
        return this.encryptedChats.get(num);
    }

    public TLRPC$EncryptedChat getEncryptedChatDB(int i, boolean z) {
        TLRPC$EncryptedChat tLRPC$EncryptedChat = this.encryptedChats.get(Integer.valueOf(i));
        if (tLRPC$EncryptedChat != null) {
            if (!z) {
                return tLRPC$EncryptedChat;
            }
            if (!(tLRPC$EncryptedChat instanceof TLRPC$TL_encryptedChatWaiting) && !(tLRPC$EncryptedChat instanceof TLRPC$TL_encryptedChatRequested)) {
                return tLRPC$EncryptedChat;
            }
        }
        CountDownLatch countDownLatch = new CountDownLatch(1);
        ArrayList<TLObject> arrayList = new ArrayList<>();
        getMessagesStorage().getEncryptedChat(i, countDownLatch, arrayList);
        try {
            countDownLatch.await();
        } catch (Exception e) {
            FileLog.e(e);
        }
        if (arrayList.size() == 2) {
            TLRPC$EncryptedChat tLRPC$EncryptedChat2 = (TLRPC$EncryptedChat) arrayList.get(0);
            putEncryptedChat(tLRPC$EncryptedChat2, false);
            putUser((TLRPC$User) arrayList.get(1), true);
            return tLRPC$EncryptedChat2;
        }
        return tLRPC$EncryptedChat;
    }

    public boolean isDialogVisible(long j, boolean z) {
        return (z ? this.visibleScheduledDialogMainThreadIds : this.visibleDialogMainThreadIds).contains(Long.valueOf(j));
    }

    public void setLastVisibleDialogId(long j, boolean z, boolean z2) {
        ArrayList<Long> arrayList = z ? this.visibleScheduledDialogMainThreadIds : this.visibleDialogMainThreadIds;
        if (z2) {
            if (arrayList.contains(Long.valueOf(j))) {
                return;
            }
            arrayList.add(Long.valueOf(j));
            return;
        }
        arrayList.remove(Long.valueOf(j));
    }

    public void setLastCreatedDialogId(long j, boolean z, boolean z2) {
        if (!z) {
            ArrayList<Long> arrayList = this.createdDialogMainThreadIds;
            if (z2) {
                if (arrayList.contains(Long.valueOf(j))) {
                    return;
                }
                arrayList.add(Long.valueOf(j));
            } else {
                arrayList.remove(Long.valueOf(j));
                SparseArray<MessageObject> sparseArray = this.pollsToCheck.get(j);
                if (sparseArray != null) {
                    int size = sparseArray.size();
                    for (int i = 0; i < size; i++) {
                        sparseArray.valueAt(i).pollVisibleOnScreen = false;
                    }
                }
            }
        }
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda212(this, z, z2, j));
    }

    public /* synthetic */ void lambda$setLastCreatedDialogId$37(boolean z, boolean z2, long j) {
        ArrayList<Long> arrayList = z ? this.createdScheduledDialogIds : this.createdDialogIds;
        if (z2) {
            if (arrayList.contains(Long.valueOf(j))) {
                return;
            }
            arrayList.add(Long.valueOf(j));
            return;
        }
        arrayList.remove(Long.valueOf(j));
    }

    public TLRPC$TL_chatInviteExported getExportedInvite(long j) {
        return this.exportedChats.get(j);
    }

    /* JADX WARN: Removed duplicated region for block: B:15:0x002d A[RETURN] */
    /* JADX WARN: Removed duplicated region for block: B:16:0x002e  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public boolean putUser(TLRPC$User tLRPC$User, boolean z) {
        boolean z2;
        TLRPC$User tLRPC$User2;
        TLRPC$UserStatus tLRPC$UserStatus;
        TLRPC$UserStatus tLRPC$UserStatus2;
        if (tLRPC$User == null) {
            return false;
        }
        if (z) {
            long j = tLRPC$User.id;
            if (j / 1000 != 333 && j != 777000) {
                z2 = true;
                tLRPC$User2 = this.users.get(Long.valueOf(tLRPC$User.id));
                if (tLRPC$User2 != tLRPC$User) {
                    return false;
                }
                if (tLRPC$User2 != null && !TextUtils.isEmpty(tLRPC$User2.username)) {
                    this.objectsByUsernames.remove(tLRPC$User2.username.toLowerCase());
                }
                if (!TextUtils.isEmpty(tLRPC$User.username)) {
                    this.objectsByUsernames.put(tLRPC$User.username.toLowerCase(), tLRPC$User);
                }
                if (tLRPC$User.min) {
                    if (tLRPC$User2 == null) {
                        this.users.put(Long.valueOf(tLRPC$User.id), tLRPC$User);
                    } else if (!z2) {
                        if (tLRPC$User.bot) {
                            String str = tLRPC$User.username;
                            if (str != null) {
                                tLRPC$User2.username = str;
                                tLRPC$User2.flags |= 8;
                            } else {
                                tLRPC$User2.flags &= -9;
                                tLRPC$User2.username = null;
                            }
                        }
                        if (tLRPC$User.apply_min_photo) {
                            TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto = tLRPC$User.photo;
                            if (tLRPC$UserProfilePhoto != null) {
                                tLRPC$User2.photo = tLRPC$UserProfilePhoto;
                                tLRPC$User2.flags |= 32;
                            } else {
                                tLRPC$User2.flags &= -33;
                                tLRPC$User2.photo = null;
                            }
                        }
                    }
                } else if (!z2) {
                    this.users.put(Long.valueOf(tLRPC$User.id), tLRPC$User);
                    if (tLRPC$User.id == getUserConfig().getClientUserId()) {
                        getUserConfig().setCurrentUser(tLRPC$User);
                        getUserConfig().saveConfig(true);
                    }
                    if (tLRPC$User2 != null && (tLRPC$UserStatus = tLRPC$User.status) != null && (tLRPC$UserStatus2 = tLRPC$User2.status) != null && tLRPC$UserStatus.expires != tLRPC$UserStatus2.expires) {
                        return true;
                    }
                } else if (tLRPC$User2 == null) {
                    this.users.put(Long.valueOf(tLRPC$User.id), tLRPC$User);
                } else if (tLRPC$User2.min) {
                    if (tLRPC$User2.bot) {
                        String str2 = tLRPC$User2.username;
                        if (str2 != null) {
                            tLRPC$User.username = str2;
                            tLRPC$User.flags |= 8;
                        } else {
                            tLRPC$User.flags &= -9;
                            tLRPC$User.username = null;
                        }
                    }
                    if (tLRPC$User2.apply_min_photo) {
                        TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto2 = tLRPC$User2.photo;
                        if (tLRPC$UserProfilePhoto2 != null) {
                            tLRPC$User.photo = tLRPC$UserProfilePhoto2;
                            tLRPC$User.flags |= 32;
                        } else {
                            tLRPC$User.flags &= -33;
                            tLRPC$User.photo = null;
                        }
                    }
                    this.users.put(Long.valueOf(tLRPC$User.id), tLRPC$User);
                }
                return false;
            }
        }
        z2 = false;
        tLRPC$User2 = this.users.get(Long.valueOf(tLRPC$User.id));
        if (tLRPC$User2 != tLRPC$User) {
        }
    }

    public void putUsers(ArrayList<TLRPC$User> arrayList, boolean z) {
        if (arrayList == null || arrayList.isEmpty()) {
            return;
        }
        int size = arrayList.size();
        boolean z2 = false;
        for (int i = 0; i < size; i++) {
            if (putUser(arrayList.get(i), z)) {
                z2 = true;
            }
        }
        if (!z2) {
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda36(this));
    }

    public /* synthetic */ void lambda$putUsers$38() {
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_STATUS));
    }

    public void putChat(TLRPC$Chat tLRPC$Chat, boolean z) {
        TLRPC$Chat tLRPC$Chat2;
        if (tLRPC$Chat == null || (tLRPC$Chat2 = this.chats.get(Long.valueOf(tLRPC$Chat.id))) == tLRPC$Chat) {
            return;
        }
        if (tLRPC$Chat2 != null && !TextUtils.isEmpty(tLRPC$Chat2.username)) {
            this.objectsByUsernames.remove(tLRPC$Chat2.username.toLowerCase());
        }
        if (!TextUtils.isEmpty(tLRPC$Chat.username)) {
            this.objectsByUsernames.put(tLRPC$Chat.username.toLowerCase(), tLRPC$Chat);
        }
        if (tLRPC$Chat.min) {
            if (tLRPC$Chat2 == null) {
                this.chats.put(Long.valueOf(tLRPC$Chat.id), tLRPC$Chat);
                addOrRemoveActiveVoiceChat(tLRPC$Chat);
                return;
            } else if (z) {
                return;
            } else {
                tLRPC$Chat2.title = tLRPC$Chat.title;
                tLRPC$Chat2.photo = tLRPC$Chat.photo;
                tLRPC$Chat2.broadcast = tLRPC$Chat.broadcast;
                tLRPC$Chat2.verified = tLRPC$Chat.verified;
                tLRPC$Chat2.megagroup = tLRPC$Chat.megagroup;
                tLRPC$Chat2.call_not_empty = tLRPC$Chat.call_not_empty;
                tLRPC$Chat2.call_active = tLRPC$Chat.call_active;
                TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights = tLRPC$Chat.default_banned_rights;
                if (tLRPC$TL_chatBannedRights != null) {
                    tLRPC$Chat2.default_banned_rights = tLRPC$TL_chatBannedRights;
                    tLRPC$Chat2.flags |= 262144;
                }
                TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights = tLRPC$Chat.admin_rights;
                if (tLRPC$TL_chatAdminRights != null) {
                    tLRPC$Chat2.admin_rights = tLRPC$TL_chatAdminRights;
                    tLRPC$Chat2.flags |= 16384;
                }
                TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights2 = tLRPC$Chat.banned_rights;
                if (tLRPC$TL_chatBannedRights2 != null) {
                    tLRPC$Chat2.banned_rights = tLRPC$TL_chatBannedRights2;
                    tLRPC$Chat2.flags |= 32768;
                }
                String str = tLRPC$Chat.username;
                if (str != null) {
                    tLRPC$Chat2.username = str;
                    tLRPC$Chat2.flags |= 64;
                } else {
                    tLRPC$Chat2.flags &= -65;
                    tLRPC$Chat2.username = null;
                }
                int i = tLRPC$Chat.participants_count;
                if (i != 0) {
                    tLRPC$Chat2.participants_count = i;
                }
                addOrRemoveActiveVoiceChat(tLRPC$Chat2);
                return;
            }
        }
        if (!z) {
            if (tLRPC$Chat2 != null) {
                if (tLRPC$Chat.version != tLRPC$Chat2.version) {
                    this.loadedFullChats.remove(Long.valueOf(tLRPC$Chat.id));
                }
                int i2 = tLRPC$Chat2.participants_count;
                if (i2 != 0 && tLRPC$Chat.participants_count == 0) {
                    tLRPC$Chat.participants_count = i2;
                    tLRPC$Chat.flags |= 131072;
                }
                TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights3 = tLRPC$Chat2.banned_rights;
                int i3 = 0;
                int i4 = tLRPC$TL_chatBannedRights3 != null ? tLRPC$TL_chatBannedRights3.flags : 0;
                TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights4 = tLRPC$Chat.banned_rights;
                int i5 = tLRPC$TL_chatBannedRights4 != null ? tLRPC$TL_chatBannedRights4.flags : 0;
                TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights5 = tLRPC$Chat2.default_banned_rights;
                int i6 = tLRPC$TL_chatBannedRights5 != null ? tLRPC$TL_chatBannedRights5.flags : 0;
                TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights6 = tLRPC$Chat.default_banned_rights;
                if (tLRPC$TL_chatBannedRights6 != null) {
                    i3 = tLRPC$TL_chatBannedRights6.flags;
                }
                tLRPC$Chat2.default_banned_rights = tLRPC$TL_chatBannedRights6;
                if (tLRPC$TL_chatBannedRights6 == null) {
                    tLRPC$Chat2.flags &= -262145;
                } else {
                    tLRPC$Chat2.flags = 262144 | tLRPC$Chat2.flags;
                }
                tLRPC$Chat2.banned_rights = tLRPC$TL_chatBannedRights4;
                if (tLRPC$TL_chatBannedRights4 == null) {
                    tLRPC$Chat2.flags &= -32769;
                } else {
                    tLRPC$Chat2.flags |= 32768;
                }
                TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights2 = tLRPC$Chat.admin_rights;
                tLRPC$Chat2.admin_rights = tLRPC$TL_chatAdminRights2;
                if (tLRPC$TL_chatAdminRights2 == null) {
                    tLRPC$Chat2.flags &= -16385;
                } else {
                    tLRPC$Chat2.flags |= 16384;
                }
                if (i4 != i5 || i6 != i3) {
                    AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda148(this, tLRPC$Chat));
                }
            }
            this.chats.put(Long.valueOf(tLRPC$Chat.id), tLRPC$Chat);
        } else if (tLRPC$Chat2 == null) {
            this.chats.put(Long.valueOf(tLRPC$Chat.id), tLRPC$Chat);
        } else if (tLRPC$Chat2.min) {
            tLRPC$Chat.title = tLRPC$Chat2.title;
            tLRPC$Chat.photo = tLRPC$Chat2.photo;
            tLRPC$Chat.broadcast = tLRPC$Chat2.broadcast;
            tLRPC$Chat.verified = tLRPC$Chat2.verified;
            tLRPC$Chat.megagroup = tLRPC$Chat2.megagroup;
            TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights7 = tLRPC$Chat2.default_banned_rights;
            if (tLRPC$TL_chatBannedRights7 != null) {
                tLRPC$Chat.default_banned_rights = tLRPC$TL_chatBannedRights7;
                tLRPC$Chat.flags |= 262144;
            }
            TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights3 = tLRPC$Chat2.admin_rights;
            if (tLRPC$TL_chatAdminRights3 != null) {
                tLRPC$Chat.admin_rights = tLRPC$TL_chatAdminRights3;
                tLRPC$Chat.flags |= 16384;
            }
            TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights8 = tLRPC$Chat2.banned_rights;
            if (tLRPC$TL_chatBannedRights8 != null) {
                tLRPC$Chat.banned_rights = tLRPC$TL_chatBannedRights8;
                tLRPC$Chat.flags |= 32768;
            }
            String str2 = tLRPC$Chat2.username;
            if (str2 != null) {
                tLRPC$Chat.username = str2;
                tLRPC$Chat.flags |= 64;
            } else {
                tLRPC$Chat.flags &= -65;
                tLRPC$Chat.username = null;
            }
            int i7 = tLRPC$Chat2.participants_count;
            if (i7 != 0 && tLRPC$Chat.participants_count == 0) {
                tLRPC$Chat.participants_count = i7;
                tLRPC$Chat.flags |= 131072;
            }
            this.chats.put(Long.valueOf(tLRPC$Chat.id), tLRPC$Chat);
        }
        addOrRemoveActiveVoiceChat(tLRPC$Chat);
    }

    public /* synthetic */ void lambda$putChat$39(TLRPC$Chat tLRPC$Chat) {
        getNotificationCenter().postNotificationName(NotificationCenter.channelRightsUpdated, tLRPC$Chat);
    }

    public void putChats(ArrayList<TLRPC$Chat> arrayList, boolean z) {
        if (arrayList == null || arrayList.isEmpty()) {
            return;
        }
        int size = arrayList.size();
        for (int i = 0; i < size; i++) {
            putChat(arrayList.get(i), z);
        }
    }

    private void addOrRemoveActiveVoiceChat(TLRPC$Chat tLRPC$Chat) {
        if (Thread.currentThread() != Looper.getMainLooper().getThread()) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda146(this, tLRPC$Chat));
        } else {
            lambda$addOrRemoveActiveVoiceChat$40(tLRPC$Chat);
        }
    }

    /* renamed from: addOrRemoveActiveVoiceChatInternal */
    public void lambda$addOrRemoveActiveVoiceChat$40(TLRPC$Chat tLRPC$Chat) {
        TLRPC$Chat tLRPC$Chat2 = this.activeVoiceChatsMap.get(Long.valueOf(tLRPC$Chat.id));
        if (!tLRPC$Chat.call_active || !tLRPC$Chat.call_not_empty || tLRPC$Chat.migrated_to != null || ChatObject.isNotInChat(tLRPC$Chat)) {
            if (tLRPC$Chat2 == null) {
                return;
            }
            this.activeVoiceChatsMap.remove(Long.valueOf(tLRPC$Chat.id));
            getNotificationCenter().postNotificationName(NotificationCenter.activeGroupCallsUpdated, new Object[0]);
        } else if (tLRPC$Chat2 != null) {
        } else {
            this.activeVoiceChatsMap.put(Long.valueOf(tLRPC$Chat.id), tLRPC$Chat);
            getNotificationCenter().postNotificationName(NotificationCenter.activeGroupCallsUpdated, new Object[0]);
        }
    }

    public ArrayList<Long> getActiveGroupCalls() {
        return new ArrayList<>(this.activeVoiceChatsMap.keySet());
    }

    public void setReferer(String str) {
        if (str == null) {
            return;
        }
        this.installReferer = str;
        this.mainPreferences.edit().putString("installReferer", str).commit();
    }

    public void putEncryptedChat(TLRPC$EncryptedChat tLRPC$EncryptedChat, boolean z) {
        if (tLRPC$EncryptedChat == null) {
            return;
        }
        if (z) {
            this.encryptedChats.putIfAbsent(Integer.valueOf(tLRPC$EncryptedChat.id), tLRPC$EncryptedChat);
        } else {
            this.encryptedChats.put(Integer.valueOf(tLRPC$EncryptedChat.id), tLRPC$EncryptedChat);
        }
    }

    public void putEncryptedChats(ArrayList<TLRPC$EncryptedChat> arrayList, boolean z) {
        if (arrayList == null || arrayList.isEmpty()) {
            return;
        }
        int size = arrayList.size();
        for (int i = 0; i < size; i++) {
            putEncryptedChat(arrayList.get(i), z);
        }
    }

    public TLRPC$UserFull getUserFull(long j) {
        return this.fullUsers.get(j);
    }

    public TLRPC$ChatFull getChatFull(long j) {
        return this.fullChats.get(j);
    }

    public void putGroupCall(long j, ChatObject.Call call) {
        this.groupCalls.put(call.call.id, call);
        this.groupCallsByChatId.put(j, call);
        TLRPC$ChatFull chatFull = getChatFull(j);
        if (chatFull != null) {
            chatFull.call = call.getInputGroupCall();
        }
        getNotificationCenter().postNotificationName(NotificationCenter.groupCallUpdated, Long.valueOf(j), Long.valueOf(call.call.id), Boolean.FALSE);
        loadFullChat(j, 0, true);
    }

    public ChatObject.Call getGroupCall(long j, boolean z) {
        return getGroupCall(j, z, null);
    }

    public ChatObject.Call getGroupCall(long j, boolean z, Runnable runnable) {
        TLRPC$TL_inputGroupCall tLRPC$TL_inputGroupCall;
        TLRPC$ChatFull chatFull = getChatFull(j);
        if (chatFull == null || (tLRPC$TL_inputGroupCall = chatFull.call) == null) {
            return null;
        }
        ChatObject.Call call = this.groupCalls.get(tLRPC$TL_inputGroupCall.id);
        if (call == null && z && !this.loadingGroupCalls.contains(Long.valueOf(j))) {
            this.loadingGroupCalls.add(Long.valueOf(j));
            if (chatFull.call != null) {
                TLRPC$TL_phone_getGroupCall tLRPC$TL_phone_getGroupCall = new TLRPC$TL_phone_getGroupCall();
                tLRPC$TL_phone_getGroupCall.call = chatFull.call;
                tLRPC$TL_phone_getGroupCall.limit = 20;
                getConnectionsManager().sendRequest(tLRPC$TL_phone_getGroupCall, new MessagesController$$ExternalSyntheticLambda297(this, j, runnable));
            }
        }
        if (call != null && (call.call instanceof TLRPC$TL_groupCallDiscarded)) {
            return null;
        }
        return call;
    }

    public /* synthetic */ void lambda$getGroupCall$42(long j, Runnable runnable, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda142(this, tLObject, j, runnable));
    }

    public /* synthetic */ void lambda$getGroupCall$41(TLObject tLObject, long j, Runnable runnable) {
        if (tLObject != null) {
            TLRPC$TL_phone_groupCall tLRPC$TL_phone_groupCall = (TLRPC$TL_phone_groupCall) tLObject;
            putUsers(tLRPC$TL_phone_groupCall.users, false);
            putChats(tLRPC$TL_phone_groupCall.chats, false);
            ChatObject.Call call = new ChatObject.Call();
            call.setCall(getAccountInstance(), j, tLRPC$TL_phone_groupCall);
            this.groupCalls.put(tLRPC$TL_phone_groupCall.call.id, call);
            this.groupCallsByChatId.put(j, call);
            getNotificationCenter().postNotificationName(NotificationCenter.groupCallUpdated, Long.valueOf(j), Long.valueOf(tLRPC$TL_phone_groupCall.call.id), Boolean.FALSE);
            if (runnable != null) {
                runnable.run();
            }
        }
        this.loadingGroupCalls.remove(Long.valueOf(j));
    }

    public void cancelLoadFullUser(long j) {
        this.loadingFullUsers.remove(Long.valueOf(j));
    }

    public void cancelLoadFullChat(long j) {
        this.loadingFullChats.remove(Long.valueOf(j));
    }

    public void clearFullUsers() {
        this.loadedFullUsers.clear();
        this.loadedFullChats.clear();
    }

    private void reloadDialogsReadValue(ArrayList<TLRPC$Dialog> arrayList, long j) {
        if (j != 0 || (arrayList != null && !arrayList.isEmpty())) {
            TLRPC$TL_messages_getPeerDialogs tLRPC$TL_messages_getPeerDialogs = new TLRPC$TL_messages_getPeerDialogs();
            if (arrayList != null) {
                for (int i = 0; i < arrayList.size(); i++) {
                    TLRPC$InputPeer inputPeer = getInputPeer(arrayList.get(i).id);
                    if (!(inputPeer instanceof TLRPC$TL_inputPeerChannel) || inputPeer.access_hash != 0) {
                        TLRPC$TL_inputDialogPeer tLRPC$TL_inputDialogPeer = new TLRPC$TL_inputDialogPeer();
                        tLRPC$TL_inputDialogPeer.peer = inputPeer;
                        tLRPC$TL_messages_getPeerDialogs.peers.add(tLRPC$TL_inputDialogPeer);
                    }
                }
            } else {
                TLRPC$InputPeer inputPeer2 = getInputPeer(j);
                if ((inputPeer2 instanceof TLRPC$TL_inputPeerChannel) && inputPeer2.access_hash == 0) {
                    return;
                }
                TLRPC$TL_inputDialogPeer tLRPC$TL_inputDialogPeer2 = new TLRPC$TL_inputDialogPeer();
                tLRPC$TL_inputDialogPeer2.peer = inputPeer2;
                tLRPC$TL_messages_getPeerDialogs.peers.add(tLRPC$TL_inputDialogPeer2);
            }
            if (tLRPC$TL_messages_getPeerDialogs.peers.isEmpty()) {
                return;
            }
            getConnectionsManager().sendRequest(tLRPC$TL_messages_getPeerDialogs, new MessagesController$$ExternalSyntheticLambda256(this));
        }
    }

    public /* synthetic */ void lambda$reloadDialogsReadValue$43(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs = (TLRPC$TL_messages_peerDialogs) tLObject;
            ArrayList<TLRPC$Update> arrayList = new ArrayList<>();
            for (int i = 0; i < tLRPC$TL_messages_peerDialogs.dialogs.size(); i++) {
                TLRPC$Dialog tLRPC$Dialog = tLRPC$TL_messages_peerDialogs.dialogs.get(i);
                DialogObject.initDialog(tLRPC$Dialog);
                Integer num = this.dialogs_read_inbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                if (num == null) {
                    num = 0;
                }
                this.dialogs_read_inbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(tLRPC$Dialog.read_inbox_max_id, num.intValue())));
                if (num.intValue() == 0) {
                    if (tLRPC$Dialog.peer.channel_id != 0) {
                        TLRPC$TL_updateReadChannelInbox tLRPC$TL_updateReadChannelInbox = new TLRPC$TL_updateReadChannelInbox();
                        tLRPC$TL_updateReadChannelInbox.channel_id = tLRPC$Dialog.peer.channel_id;
                        tLRPC$TL_updateReadChannelInbox.max_id = tLRPC$Dialog.read_inbox_max_id;
                        arrayList.add(tLRPC$TL_updateReadChannelInbox);
                    } else {
                        TLRPC$TL_updateReadHistoryInbox tLRPC$TL_updateReadHistoryInbox = new TLRPC$TL_updateReadHistoryInbox();
                        tLRPC$TL_updateReadHistoryInbox.peer = tLRPC$Dialog.peer;
                        tLRPC$TL_updateReadHistoryInbox.max_id = tLRPC$Dialog.read_inbox_max_id;
                        arrayList.add(tLRPC$TL_updateReadHistoryInbox);
                    }
                }
                Integer num2 = this.dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                if (num2 == null) {
                    num2 = 0;
                }
                this.dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(tLRPC$Dialog.read_outbox_max_id, num2.intValue())));
                if (tLRPC$Dialog.read_outbox_max_id > num2.intValue()) {
                    if (tLRPC$Dialog.peer.channel_id != 0) {
                        TLRPC$TL_updateReadChannelOutbox tLRPC$TL_updateReadChannelOutbox = new TLRPC$TL_updateReadChannelOutbox();
                        tLRPC$TL_updateReadChannelOutbox.channel_id = tLRPC$Dialog.peer.channel_id;
                        tLRPC$TL_updateReadChannelOutbox.max_id = tLRPC$Dialog.read_outbox_max_id;
                        arrayList.add(tLRPC$TL_updateReadChannelOutbox);
                    } else {
                        TLRPC$TL_updateReadHistoryOutbox tLRPC$TL_updateReadHistoryOutbox = new TLRPC$TL_updateReadHistoryOutbox();
                        tLRPC$TL_updateReadHistoryOutbox.peer = tLRPC$Dialog.peer;
                        tLRPC$TL_updateReadHistoryOutbox.max_id = tLRPC$Dialog.read_outbox_max_id;
                        arrayList.add(tLRPC$TL_updateReadHistoryOutbox);
                    }
                }
            }
            if (arrayList.isEmpty()) {
                return;
            }
            processUpdateArray(arrayList, null, null, false, 0);
        }
    }

    public TLRPC$ChannelParticipant getAdminInChannel(long j, long j2) {
        LongSparseArray<TLRPC$ChannelParticipant> longSparseArray = this.channelAdmins.get(j2);
        if (longSparseArray == null) {
            return null;
        }
        return longSparseArray.get(j);
    }

    public String getAdminRank(long j, long j2) {
        TLRPC$ChannelParticipant tLRPC$ChannelParticipant;
        LongSparseArray<TLRPC$ChannelParticipant> longSparseArray = this.channelAdmins.get(j);
        if (longSparseArray == null || (tLRPC$ChannelParticipant = longSparseArray.get(j2)) == null) {
            return null;
        }
        String str = tLRPC$ChannelParticipant.rank;
        return str != null ? str : "";
    }

    public boolean isChannelAdminsLoaded(long j) {
        return this.channelAdmins.get(j) != null;
    }

    public void loadChannelAdmins(long j, boolean z) {
        if (SystemClock.elapsedRealtime() - this.loadingChannelAdmins.get(j) < 60) {
            return;
        }
        this.loadingChannelAdmins.put(j, (int) (SystemClock.elapsedRealtime() / 1000));
        if (z) {
            getMessagesStorage().loadChannelAdmins(j);
            return;
        }
        TLRPC$TL_channels_getParticipants tLRPC$TL_channels_getParticipants = new TLRPC$TL_channels_getParticipants();
        tLRPC$TL_channels_getParticipants.channel = getInputChannel(j);
        tLRPC$TL_channels_getParticipants.limit = 100;
        tLRPC$TL_channels_getParticipants.filter = new TLRPC$TL_channelParticipantsAdmins();
        getConnectionsManager().sendRequest(tLRPC$TL_channels_getParticipants, new MessagesController$$ExternalSyntheticLambda279(this, j));
    }

    public /* synthetic */ void lambda$loadChannelAdmins$44(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject instanceof TLRPC$TL_channels_channelParticipants) {
            processLoadedAdminsResponse(j, (TLRPC$TL_channels_channelParticipants) tLObject);
        }
    }

    public void processLoadedAdminsResponse(long j, TLRPC$TL_channels_channelParticipants tLRPC$TL_channels_channelParticipants) {
        LongSparseArray<TLRPC$ChannelParticipant> longSparseArray = new LongSparseArray<>(tLRPC$TL_channels_channelParticipants.participants.size());
        for (int i = 0; i < tLRPC$TL_channels_channelParticipants.participants.size(); i++) {
            TLRPC$ChannelParticipant tLRPC$ChannelParticipant = tLRPC$TL_channels_channelParticipants.participants.get(i);
            longSparseArray.put(MessageObject.getPeerId(tLRPC$ChannelParticipant.peer), tLRPC$ChannelParticipant);
        }
        processLoadedChannelAdmins(longSparseArray, j, false);
    }

    public void processLoadedChannelAdmins(LongSparseArray<TLRPC$ChannelParticipant> longSparseArray, long j, boolean z) {
        if (!z) {
            getMessagesStorage().putChannelAdmins(j, longSparseArray);
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda76(this, j, longSparseArray, z));
    }

    public /* synthetic */ void lambda$processLoadedChannelAdmins$45(long j, LongSparseArray longSparseArray, boolean z) {
        this.channelAdmins.put(j, longSparseArray);
        if (z) {
            this.loadingChannelAdmins.delete(j);
            loadChannelAdmins(j, false);
            getNotificationCenter().postNotificationName(NotificationCenter.didLoadChatAdmins, Long.valueOf(j));
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:12:0x0061, code lost:
        if (r10.dialogs_read_outbox_max.get(java.lang.Long.valueOf(r5)) == null) goto L13;
     */
    /* JADX WARN: Multi-variable type inference failed */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void loadFullChat(long j, int i, boolean z) {
        TLRPC$TL_messages_getFullChat tLRPC$TL_messages_getFullChat;
        boolean contains = this.loadedFullChats.contains(Long.valueOf(j));
        if (!this.loadingFullChats.contains(Long.valueOf(j))) {
            if (!z && contains) {
                return;
            }
            this.loadingFullChats.add(Long.valueOf(j));
            long j2 = -j;
            TLRPC$Chat chat = getChat(Long.valueOf(j));
            if (ChatObject.isChannel(chat)) {
                TLRPC$TL_channels_getFullChannel tLRPC$TL_channels_getFullChannel = new TLRPC$TL_channels_getFullChannel();
                tLRPC$TL_channels_getFullChannel.channel = getInputChannel(chat);
                loadChannelAdmins(j, !contains);
                tLRPC$TL_messages_getFullChat = tLRPC$TL_channels_getFullChannel;
            } else {
                TLRPC$TL_messages_getFullChat tLRPC$TL_messages_getFullChat2 = new TLRPC$TL_messages_getFullChat();
                tLRPC$TL_messages_getFullChat2.chat_id = j;
                if (this.dialogs_read_inbox_max.get(Long.valueOf(j2)) != null) {
                    tLRPC$TL_messages_getFullChat = tLRPC$TL_messages_getFullChat2;
                }
                reloadDialogsReadValue(null, j2);
                tLRPC$TL_messages_getFullChat = tLRPC$TL_messages_getFullChat2;
            }
            int sendRequest = getConnectionsManager().sendRequest(tLRPC$TL_messages_getFullChat, new MessagesController$$ExternalSyntheticLambda319(this, chat, j2, j, i));
            if (i == 0) {
                return;
            }
            getConnectionsManager().bindRequestToGuid(sendRequest, i);
        }
    }

    public /* synthetic */ void lambda$loadFullChat$48(TLRPC$Chat tLRPC$Chat, long j, long j2, int i, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_messages_chatFull tLRPC$TL_messages_chatFull = (TLRPC$TL_messages_chatFull) tLObject;
            getMessagesStorage().putUsersAndChats(tLRPC$TL_messages_chatFull.users, tLRPC$TL_messages_chatFull.chats, true, true);
            getMessagesStorage().updateChatInfo(tLRPC$TL_messages_chatFull.full_chat, false);
            if (ChatObject.isChannel(tLRPC$Chat)) {
                Integer num = this.dialogs_read_inbox_max.get(Long.valueOf(j));
                if (num == null) {
                    num = Integer.valueOf(getMessagesStorage().getDialogReadMax(false, j));
                }
                this.dialogs_read_inbox_max.put(Long.valueOf(j), Integer.valueOf(Math.max(tLRPC$TL_messages_chatFull.full_chat.read_inbox_max_id, num.intValue())));
                if (tLRPC$TL_messages_chatFull.full_chat.read_inbox_max_id > num.intValue()) {
                    ArrayList<TLRPC$Update> arrayList = new ArrayList<>();
                    TLRPC$TL_updateReadChannelInbox tLRPC$TL_updateReadChannelInbox = new TLRPC$TL_updateReadChannelInbox();
                    tLRPC$TL_updateReadChannelInbox.channel_id = j2;
                    tLRPC$TL_updateReadChannelInbox.max_id = tLRPC$TL_messages_chatFull.full_chat.read_inbox_max_id;
                    arrayList.add(tLRPC$TL_updateReadChannelInbox);
                    processUpdateArray(arrayList, null, null, false, 0);
                }
                Integer num2 = this.dialogs_read_outbox_max.get(Long.valueOf(j));
                if (num2 == null) {
                    num2 = Integer.valueOf(getMessagesStorage().getDialogReadMax(true, j));
                }
                this.dialogs_read_outbox_max.put(Long.valueOf(j), Integer.valueOf(Math.max(tLRPC$TL_messages_chatFull.full_chat.read_outbox_max_id, num2.intValue())));
                if (tLRPC$TL_messages_chatFull.full_chat.read_outbox_max_id > num2.intValue()) {
                    ArrayList<TLRPC$Update> arrayList2 = new ArrayList<>();
                    TLRPC$TL_updateReadChannelOutbox tLRPC$TL_updateReadChannelOutbox = new TLRPC$TL_updateReadChannelOutbox();
                    tLRPC$TL_updateReadChannelOutbox.channel_id = j2;
                    tLRPC$TL_updateReadChannelOutbox.max_id = tLRPC$TL_messages_chatFull.full_chat.read_outbox_max_id;
                    arrayList2.add(tLRPC$TL_updateReadChannelOutbox);
                    processUpdateArray(arrayList2, null, null, false, 0);
                }
            }
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda90(this, j2, tLRPC$TL_messages_chatFull, i));
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda162(this, tLRPC$TL_error, j2));
    }

    public /* synthetic */ void lambda$loadFullChat$46(long j, TLRPC$TL_messages_chatFull tLRPC$TL_messages_chatFull, int i) {
        TLRPC$Dialog tLRPC$Dialog;
        TLRPC$ChatFull tLRPC$ChatFull = this.fullChats.get(j);
        if (tLRPC$ChatFull != null) {
            tLRPC$TL_messages_chatFull.full_chat.inviterId = tLRPC$ChatFull.inviterId;
        }
        this.fullChats.put(j, tLRPC$TL_messages_chatFull.full_chat);
        long j2 = -j;
        applyDialogNotificationsSettings(j2, tLRPC$TL_messages_chatFull.full_chat.notify_settings);
        for (int i2 = 0; i2 < tLRPC$TL_messages_chatFull.full_chat.bot_info.size(); i2++) {
            getMediaDataController().putBotInfo(j2, tLRPC$TL_messages_chatFull.full_chat.bot_info.get(i2));
        }
        int indexOfKey = this.blockePeers.indexOfKey(j2);
        if (tLRPC$TL_messages_chatFull.full_chat.blocked) {
            if (indexOfKey < 0) {
                this.blockePeers.put(j2, 1);
                getNotificationCenter().postNotificationName(NotificationCenter.blockedUsersDidLoad, new Object[0]);
            }
        } else if (indexOfKey >= 0) {
            this.blockePeers.removeAt(indexOfKey);
            getNotificationCenter().postNotificationName(NotificationCenter.blockedUsersDidLoad, new Object[0]);
        }
        this.exportedChats.put(j, tLRPC$TL_messages_chatFull.full_chat.exported_invite);
        this.loadingFullChats.remove(Long.valueOf(j));
        this.loadedFullChats.add(Long.valueOf(j));
        putUsers(tLRPC$TL_messages_chatFull.users, false);
        putChats(tLRPC$TL_messages_chatFull.chats, false);
        if (tLRPC$TL_messages_chatFull.full_chat.stickerset != null) {
            getMediaDataController().getGroupStickerSetById(tLRPC$TL_messages_chatFull.full_chat.stickerset);
        }
        getNotificationCenter().postNotificationName(NotificationCenter.chatInfoDidLoad, tLRPC$TL_messages_chatFull.full_chat, Integer.valueOf(i), Boolean.FALSE, Boolean.TRUE);
        if ((tLRPC$TL_messages_chatFull.full_chat.flags & 2048) == 0 || (tLRPC$Dialog = this.dialogs_dict.get(j2)) == null) {
            return;
        }
        int i3 = tLRPC$Dialog.folder_id;
        int i4 = tLRPC$TL_messages_chatFull.full_chat.folder_id;
        if (i3 == i4) {
            return;
        }
        tLRPC$Dialog.folder_id = i4;
        sortDialogs(null);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    public /* synthetic */ void lambda$loadFullChat$47(TLRPC$TL_error tLRPC$TL_error, long j) {
        checkChannelError(tLRPC$TL_error.text, j);
        this.loadingFullChats.remove(Long.valueOf(j));
    }

    public void loadFullUser(TLRPC$User tLRPC$User, int i, boolean z) {
        if (tLRPC$User == null || this.loadingFullUsers.contains(Long.valueOf(tLRPC$User.id))) {
            return;
        }
        if (!z && this.loadedFullUsers.contains(Long.valueOf(tLRPC$User.id))) {
            return;
        }
        this.loadingFullUsers.add(Long.valueOf(tLRPC$User.id));
        TLRPC$TL_users_getFullUser tLRPC$TL_users_getFullUser = new TLRPC$TL_users_getFullUser();
        tLRPC$TL_users_getFullUser.id = getInputUser(tLRPC$User);
        long j = tLRPC$User.id;
        if (this.dialogs_read_inbox_max.get(Long.valueOf(j)) == null || this.dialogs_read_outbox_max.get(Long.valueOf(j)) == null) {
            reloadDialogsReadValue(null, j);
        }
        getConnectionsManager().bindRequestToGuid(getConnectionsManager().sendRequest(tLRPC$TL_users_getFullUser, new MessagesController$$ExternalSyntheticLambda328(this, tLRPC$User, i)), i);
    }

    public /* synthetic */ void lambda$loadFullUser$51(TLRPC$User tLRPC$User, int i, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_users_userFull tLRPC$TL_users_userFull = (TLRPC$TL_users_userFull) tLObject;
            TLRPC$UserFull tLRPC$UserFull = tLRPC$TL_users_userFull.full_user;
            putUsers(tLRPC$TL_users_userFull.users, false);
            putChats(tLRPC$TL_users_userFull.chats, false);
            TLRPC$UserFull tLRPC$UserFull2 = tLRPC$TL_users_userFull.full_user;
            tLRPC$UserFull2.user = getUser(Long.valueOf(tLRPC$UserFull2.id));
            getMessagesStorage().updateUserInfo(tLRPC$UserFull, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda188(this, tLRPC$UserFull, tLRPC$User, i));
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda187(this, tLRPC$User));
    }

    public /* synthetic */ void lambda$loadFullUser$49(TLRPC$UserFull tLRPC$UserFull, TLRPC$User tLRPC$User, int i) {
        TLRPC$Dialog tLRPC$Dialog;
        savePeerSettings(tLRPC$UserFull.user.id, tLRPC$UserFull.settings, false);
        applyDialogNotificationsSettings(tLRPC$User.id, tLRPC$UserFull.notify_settings);
        TLRPC$BotInfo tLRPC$BotInfo = tLRPC$UserFull.bot_info;
        if (tLRPC$BotInfo instanceof TLRPC$TL_botInfo) {
            tLRPC$BotInfo.user_id = tLRPC$User.id;
            getMediaDataController().putBotInfo(tLRPC$User.id, tLRPC$UserFull.bot_info);
        }
        int indexOfKey = this.blockePeers.indexOfKey(tLRPC$User.id);
        if (tLRPC$UserFull.blocked) {
            if (indexOfKey < 0) {
                this.blockePeers.put(tLRPC$User.id, 1);
                getNotificationCenter().postNotificationName(NotificationCenter.blockedUsersDidLoad, new Object[0]);
            }
        } else if (indexOfKey >= 0) {
            this.blockePeers.removeAt(indexOfKey);
            getNotificationCenter().postNotificationName(NotificationCenter.blockedUsersDidLoad, new Object[0]);
        }
        this.fullUsers.put(tLRPC$User.id, tLRPC$UserFull);
        this.loadingFullUsers.remove(Long.valueOf(tLRPC$User.id));
        this.loadedFullUsers.add(Long.valueOf(tLRPC$User.id));
        String str = tLRPC$User.first_name + tLRPC$User.last_name + tLRPC$User.username;
        ArrayList<TLRPC$User> arrayList = new ArrayList<>();
        arrayList.add(tLRPC$UserFull.user);
        putUsers(arrayList, false);
        getMessagesStorage().putUsersAndChats(arrayList, null, false, true);
        if (!str.equals(tLRPC$UserFull.user.first_name + tLRPC$UserFull.user.last_name + tLRPC$UserFull.user.username)) {
            getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_NAME));
        }
        TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto = tLRPC$UserFull.user.photo;
        if (tLRPC$UserProfilePhoto != null && tLRPC$UserProfilePhoto.has_video) {
            getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_AVATAR));
        }
        TLRPC$BotInfo tLRPC$BotInfo2 = tLRPC$UserFull.bot_info;
        if (tLRPC$BotInfo2 instanceof TLRPC$TL_botInfo) {
            tLRPC$BotInfo2.user_id = tLRPC$UserFull.id;
            getNotificationCenter().postNotificationName(NotificationCenter.botInfoDidLoad, tLRPC$UserFull.bot_info, Integer.valueOf(i));
        }
        getNotificationCenter().postNotificationName(NotificationCenter.userInfoDidLoad, Long.valueOf(tLRPC$User.id), tLRPC$UserFull);
        if ((tLRPC$UserFull.flags & 2048) == 0 || (tLRPC$Dialog = this.dialogs_dict.get(tLRPC$User.id)) == null) {
            return;
        }
        int i2 = tLRPC$Dialog.folder_id;
        int i3 = tLRPC$UserFull.folder_id;
        if (i2 == i3) {
            return;
        }
        tLRPC$Dialog.folder_id = i3;
        sortDialogs(null);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    public /* synthetic */ void lambda$loadFullUser$50(TLRPC$User tLRPC$User) {
        this.loadingFullUsers.remove(Long.valueOf(tLRPC$User.id));
    }

    /* JADX WARN: Multi-variable type inference failed */
    private void reloadMessages(ArrayList<Integer> arrayList, long j, boolean z) {
        TLRPC$TL_messages_getMessages tLRPC$TL_messages_getMessages;
        if (arrayList.isEmpty()) {
            return;
        }
        ArrayList<Integer> arrayList2 = new ArrayList<>();
        TLRPC$Chat chat = DialogObject.isChatDialog(j) ? getChat(Long.valueOf(-j)) : null;
        if (ChatObject.isChannel(chat)) {
            TLRPC$TL_channels_getMessages tLRPC$TL_channels_getMessages = new TLRPC$TL_channels_getMessages();
            tLRPC$TL_channels_getMessages.channel = getInputChannel(chat);
            tLRPC$TL_channels_getMessages.id = arrayList2;
            tLRPC$TL_messages_getMessages = tLRPC$TL_channels_getMessages;
        } else {
            TLRPC$TL_messages_getMessages tLRPC$TL_messages_getMessages2 = new TLRPC$TL_messages_getMessages();
            tLRPC$TL_messages_getMessages2.id = arrayList2;
            tLRPC$TL_messages_getMessages = tLRPC$TL_messages_getMessages2;
        }
        TLRPC$TL_messages_getMessages tLRPC$TL_messages_getMessages3 = tLRPC$TL_messages_getMessages;
        ArrayList<Integer> arrayList3 = this.reloadingMessages.get(j);
        for (int i = 0; i < arrayList.size(); i++) {
            Integer num = arrayList.get(i);
            if (arrayList3 == null || !arrayList3.contains(num)) {
                arrayList2.add(num);
            }
        }
        if (arrayList2.isEmpty()) {
            return;
        }
        if (arrayList3 == null) {
            arrayList3 = new ArrayList<>();
            this.reloadingMessages.put(j, arrayList3);
        }
        arrayList3.addAll(arrayList2);
        getConnectionsManager().sendRequest(tLRPC$TL_messages_getMessages3, new MessagesController$$ExternalSyntheticLambda309(this, j, z, arrayList2));
    }

    public /* synthetic */ void lambda$reloadMessages$53(long j, boolean z, ArrayList arrayList, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$messages_Messages tLRPC$messages_Messages = (TLRPC$messages_Messages) tLObject;
            LongSparseArray longSparseArray = new LongSparseArray();
            for (int i = 0; i < tLRPC$messages_Messages.users.size(); i++) {
                TLRPC$User tLRPC$User = tLRPC$messages_Messages.users.get(i);
                longSparseArray.put(tLRPC$User.id, tLRPC$User);
            }
            LongSparseArray longSparseArray2 = new LongSparseArray();
            for (int i2 = 0; i2 < tLRPC$messages_Messages.chats.size(); i2++) {
                TLRPC$Chat tLRPC$Chat = tLRPC$messages_Messages.chats.get(i2);
                longSparseArray2.put(tLRPC$Chat.id, tLRPC$Chat);
            }
            Integer num = this.dialogs_read_inbox_max.get(Long.valueOf(j));
            if (num == null) {
                num = Integer.valueOf(getMessagesStorage().getDialogReadMax(false, j));
                this.dialogs_read_inbox_max.put(Long.valueOf(j), num);
            }
            Integer num2 = this.dialogs_read_outbox_max.get(Long.valueOf(j));
            if (num2 == null) {
                num2 = Integer.valueOf(getMessagesStorage().getDialogReadMax(true, j));
                this.dialogs_read_outbox_max.put(Long.valueOf(j), num2);
            }
            ArrayList arrayList2 = new ArrayList();
            int i3 = 0;
            while (i3 < tLRPC$messages_Messages.messages.size()) {
                TLRPC$Message tLRPC$Message = tLRPC$messages_Messages.messages.get(i3);
                tLRPC$Message.dialog_id = j;
                if (!z) {
                    tLRPC$Message.unread = (tLRPC$Message.out ? num2 : num).intValue() < tLRPC$Message.id;
                }
                Integer num3 = num;
                ArrayList arrayList3 = arrayList2;
                arrayList3.add(new MessageObject(this.currentAccount, tLRPC$Message, (LongSparseArray<TLRPC$User>) longSparseArray, (LongSparseArray<TLRPC$Chat>) longSparseArray2, true, true));
                i3++;
                arrayList2 = arrayList3;
                num = num3;
            }
            ImageLoader.saveMessagesThumbs(tLRPC$messages_Messages.messages);
            getMessagesStorage().putMessages(tLRPC$messages_Messages, j, -1, 0, false, z);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda85(this, j, arrayList, arrayList2));
        }
    }

    public /* synthetic */ void lambda$reloadMessages$52(long j, ArrayList arrayList, ArrayList arrayList2) {
        ArrayList<Integer> arrayList3 = this.reloadingMessages.get(j);
        if (arrayList3 != null) {
            arrayList3.removeAll(arrayList);
            if (arrayList3.isEmpty()) {
                this.reloadingMessages.remove(j);
            }
        }
        MessageObject messageObject = this.dialogMessage.get(j);
        if (messageObject != null) {
            int i = 0;
            while (true) {
                if (i >= arrayList2.size()) {
                    break;
                }
                MessageObject messageObject2 = (MessageObject) arrayList2.get(i);
                if (messageObject.getId() == messageObject2.getId()) {
                    this.dialogMessage.put(j, messageObject2);
                    if (messageObject2.messageOwner.peer_id.channel_id == 0) {
                        MessageObject messageObject3 = this.dialogMessagesByIds.get(messageObject2.getId());
                        this.dialogMessagesByIds.remove(messageObject2.getId());
                        if (messageObject3 != null) {
                            this.dialogMessagesByIds.put(messageObject3.getId(), messageObject3);
                        }
                    }
                    getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
                } else {
                    i++;
                }
            }
        }
        getNotificationCenter().postNotificationName(NotificationCenter.replaceMessagesObjects, Long.valueOf(j), arrayList2);
    }

    public void hidePeerSettingsBar(long j, TLRPC$User tLRPC$User, TLRPC$Chat tLRPC$Chat) {
        if (tLRPC$User == null && tLRPC$Chat == null) {
            return;
        }
        SharedPreferences.Editor edit = this.notificationsPreferences.edit();
        edit.putInt("dialog_bar_vis3" + j, 3);
        edit.remove("dialog_bar_invite" + j);
        edit.commit();
        if (DialogObject.isEncryptedDialog(j)) {
            return;
        }
        TLRPC$TL_messages_hidePeerSettingsBar tLRPC$TL_messages_hidePeerSettingsBar = new TLRPC$TL_messages_hidePeerSettingsBar();
        if (tLRPC$User != null) {
            tLRPC$TL_messages_hidePeerSettingsBar.peer = getInputPeer(tLRPC$User.id);
        } else {
            tLRPC$TL_messages_hidePeerSettingsBar.peer = getInputPeer(-tLRPC$Chat.id);
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_hidePeerSettingsBar, MessagesController$$ExternalSyntheticLambda346.INSTANCE);
    }

    public void reportSpam(long j, TLRPC$User tLRPC$User, TLRPC$Chat tLRPC$Chat, TLRPC$EncryptedChat tLRPC$EncryptedChat, boolean z) {
        if (tLRPC$User == null && tLRPC$Chat == null && tLRPC$EncryptedChat == null) {
            return;
        }
        SharedPreferences.Editor edit = this.notificationsPreferences.edit();
        edit.putInt("dialog_bar_vis3" + j, 3);
        edit.commit();
        if (DialogObject.isEncryptedDialog(j)) {
            if (tLRPC$EncryptedChat == null || tLRPC$EncryptedChat.access_hash == 0) {
                return;
            }
            TLRPC$TL_messages_reportEncryptedSpam tLRPC$TL_messages_reportEncryptedSpam = new TLRPC$TL_messages_reportEncryptedSpam();
            TLRPC$TL_inputEncryptedChat tLRPC$TL_inputEncryptedChat = new TLRPC$TL_inputEncryptedChat();
            tLRPC$TL_messages_reportEncryptedSpam.peer = tLRPC$TL_inputEncryptedChat;
            tLRPC$TL_inputEncryptedChat.chat_id = tLRPC$EncryptedChat.id;
            tLRPC$TL_inputEncryptedChat.access_hash = tLRPC$EncryptedChat.access_hash;
            getConnectionsManager().sendRequest(tLRPC$TL_messages_reportEncryptedSpam, MessagesController$$ExternalSyntheticLambda354.INSTANCE, 2);
        } else if (z) {
            TLRPC$TL_account_reportPeer tLRPC$TL_account_reportPeer = new TLRPC$TL_account_reportPeer();
            if (tLRPC$Chat != null) {
                tLRPC$TL_account_reportPeer.peer = getInputPeer(-tLRPC$Chat.id);
            } else if (tLRPC$User != null) {
                tLRPC$TL_account_reportPeer.peer = getInputPeer(tLRPC$User.id);
            }
            tLRPC$TL_account_reportPeer.message = "";
            tLRPC$TL_account_reportPeer.reason = new TLRPC$TL_inputReportReasonGeoIrrelevant();
            getConnectionsManager().sendRequest(tLRPC$TL_account_reportPeer, MessagesController$$ExternalSyntheticLambda342.INSTANCE, 2);
        } else {
            TLRPC$TL_messages_reportSpam tLRPC$TL_messages_reportSpam = new TLRPC$TL_messages_reportSpam();
            if (tLRPC$Chat != null) {
                tLRPC$TL_messages_reportSpam.peer = getInputPeer(-tLRPC$Chat.id);
            } else if (tLRPC$User != null) {
                tLRPC$TL_messages_reportSpam.peer = getInputPeer(tLRPC$User.id);
            }
            getConnectionsManager().sendRequest(tLRPC$TL_messages_reportSpam, MessagesController$$ExternalSyntheticLambda341.INSTANCE, 2);
        }
    }

    private void savePeerSettings(long j, TLRPC$TL_peerSettings tLRPC$TL_peerSettings, boolean z) {
        if (tLRPC$TL_peerSettings != null) {
            SharedPreferences sharedPreferences = this.notificationsPreferences;
            if (sharedPreferences.getInt("dialog_bar_vis3" + j, 0) == 3) {
                return;
            }
            SharedPreferences.Editor edit = this.notificationsPreferences.edit();
            boolean z2 = !tLRPC$TL_peerSettings.report_spam && !tLRPC$TL_peerSettings.add_contact && !tLRPC$TL_peerSettings.block_contact && !tLRPC$TL_peerSettings.share_contact && !tLRPC$TL_peerSettings.report_geo && !tLRPC$TL_peerSettings.invite_members;
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("peer settings loaded for " + j + " add = " + tLRPC$TL_peerSettings.add_contact + " block = " + tLRPC$TL_peerSettings.block_contact + " spam = " + tLRPC$TL_peerSettings.report_spam + " share = " + tLRPC$TL_peerSettings.share_contact + " geo = " + tLRPC$TL_peerSettings.report_geo + " hide = " + z2 + " distance = " + tLRPC$TL_peerSettings.geo_distance + " invite = " + tLRPC$TL_peerSettings.invite_members);
            }
            edit.putInt("dialog_bar_vis3" + j, z2 ? 1 : 2);
            edit.putBoolean("dialog_bar_share" + j, tLRPC$TL_peerSettings.share_contact);
            edit.putBoolean("dialog_bar_report" + j, tLRPC$TL_peerSettings.report_spam);
            edit.putBoolean("dialog_bar_add" + j, tLRPC$TL_peerSettings.add_contact);
            edit.putBoolean("dialog_bar_block" + j, tLRPC$TL_peerSettings.block_contact);
            edit.putBoolean("dialog_bar_exception" + j, tLRPC$TL_peerSettings.need_contacts_exception);
            edit.putBoolean("dialog_bar_location" + j, tLRPC$TL_peerSettings.report_geo);
            edit.putBoolean("dialog_bar_archived" + j, tLRPC$TL_peerSettings.autoarchived);
            edit.putBoolean("dialog_bar_invite" + j, tLRPC$TL_peerSettings.invite_members);
            edit.putString("dialog_bar_chat_with_admin_title" + j, tLRPC$TL_peerSettings.request_chat_title);
            edit.putBoolean("dialog_bar_chat_with_channel" + j, tLRPC$TL_peerSettings.request_chat_broadcast);
            edit.putInt("dialog_bar_chat_with_date" + j, tLRPC$TL_peerSettings.request_chat_date);
            SharedPreferences sharedPreferences2 = this.notificationsPreferences;
            if (sharedPreferences2.getInt("dialog_bar_distance" + j, -1) != -2) {
                if ((tLRPC$TL_peerSettings.flags & 64) != 0) {
                    edit.putInt("dialog_bar_distance" + j, tLRPC$TL_peerSettings.geo_distance);
                } else {
                    edit.remove("dialog_bar_distance" + j);
                }
            }
            edit.apply();
            getNotificationCenter().postNotificationName(NotificationCenter.peerSettingsDidLoad, Long.valueOf(j));
        }
    }

    public void loadPeerSettings(TLRPC$User tLRPC$User, TLRPC$Chat tLRPC$Chat) {
        long j;
        if (tLRPC$User == null && tLRPC$Chat == null) {
            return;
        }
        if (tLRPC$User != null) {
            j = tLRPC$User.id;
        } else {
            j = -tLRPC$Chat.id;
        }
        if (this.loadingPeerSettings.indexOfKey(j) >= 0) {
            return;
        }
        this.loadingPeerSettings.put(j, Boolean.TRUE);
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("request spam button for " + j);
        }
        SharedPreferences sharedPreferences = this.notificationsPreferences;
        int i = sharedPreferences.getInt("dialog_bar_vis3" + j, 0);
        if (i == 1 || i == 3) {
            if (!BuildVars.LOGS_ENABLED) {
                return;
            }
            FileLog.d("dialog bar already hidden for " + j);
            return;
        }
        TLRPC$TL_messages_getPeerSettings tLRPC$TL_messages_getPeerSettings = new TLRPC$TL_messages_getPeerSettings();
        if (tLRPC$User != null) {
            tLRPC$TL_messages_getPeerSettings.peer = getInputPeer(tLRPC$User.id);
        } else {
            tLRPC$TL_messages_getPeerSettings.peer = getInputPeer(-tLRPC$Chat.id);
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_getPeerSettings, new MessagesController$$ExternalSyntheticLambda273(this, j));
    }

    public /* synthetic */ void lambda$loadPeerSettings$59(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda87(this, j, tLObject));
    }

    public /* synthetic */ void lambda$loadPeerSettings$58(long j, TLObject tLObject) {
        this.loadingPeerSettings.remove(j);
        if (tLObject != null) {
            TLRPC$TL_messages_peerSettings tLRPC$TL_messages_peerSettings = (TLRPC$TL_messages_peerSettings) tLObject;
            TLRPC$TL_peerSettings tLRPC$TL_peerSettings = tLRPC$TL_messages_peerSettings.settings;
            putUsers(tLRPC$TL_messages_peerSettings.users, false);
            putChats(tLRPC$TL_messages_peerSettings.chats, false);
            savePeerSettings(j, tLRPC$TL_peerSettings, false);
        }
    }

    public void processNewChannelDifferenceParams(int i, int i2, long j) {
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("processNewChannelDifferenceParams pts = " + i + " pts_count = " + i2 + " channeldId = " + j);
        }
        int i3 = this.channelsPts.get(j);
        if (i3 == 0) {
            i3 = getMessagesStorage().getChannelPtsSync(j);
            if (i3 == 0) {
                i3 = 1;
            }
            this.channelsPts.put(j, i3);
        }
        if (i3 + i2 == i) {
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("APPLY CHANNEL PTS");
            }
            this.channelsPts.put(j, i);
            getMessagesStorage().saveChannelPts(j, i);
        } else if (i3 == i) {
        } else {
            long j2 = this.updatesStartWaitTimeChannels.get(j);
            if (this.gettingDifferenceChannels.get(j, Boolean.FALSE).booleanValue() || j2 == 0 || Math.abs(System.currentTimeMillis() - j2) <= 1500) {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("ADD CHANNEL UPDATE TO QUEUE pts = " + i + " pts_count = " + i2);
                }
                if (j2 == 0) {
                    this.updatesStartWaitTimeChannels.put(j, System.currentTimeMillis());
                }
                UserActionUpdatesPts userActionUpdatesPts = new UserActionUpdatesPts(null);
                userActionUpdatesPts.pts = i;
                userActionUpdatesPts.pts_count = i2;
                userActionUpdatesPts.chat_id = j;
                ArrayList<TLRPC$Updates> arrayList = this.updatesQueueChannels.get(j);
                if (arrayList == null) {
                    arrayList = new ArrayList<>();
                    this.updatesQueueChannels.put(j, arrayList);
                }
                arrayList.add(userActionUpdatesPts);
                return;
            }
            getChannelDifference(j);
        }
    }

    public void processNewDifferenceParams(int i, int i2, int i3, int i4) {
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("processNewDifferenceParams seq = " + i + " pts = " + i2 + " date = " + i3 + " pts_count = " + i4);
        }
        if (i2 != -1) {
            if (getMessagesStorage().getLastPtsValue() + i4 == i2) {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("APPLY PTS");
                }
                getMessagesStorage().setLastPtsValue(i2);
                getMessagesStorage().saveDiffParams(getMessagesStorage().getLastSeqValue(), getMessagesStorage().getLastPtsValue(), getMessagesStorage().getLastDateValue(), getMessagesStorage().getLastQtsValue());
            } else if (getMessagesStorage().getLastPtsValue() != i2) {
                if (this.gettingDifference || this.updatesStartWaitTimePts == 0 || Math.abs(System.currentTimeMillis() - this.updatesStartWaitTimePts) <= 1500) {
                    if (BuildVars.LOGS_ENABLED) {
                        FileLog.d("ADD UPDATE TO QUEUE pts = " + i2 + " pts_count = " + i4);
                    }
                    if (this.updatesStartWaitTimePts == 0) {
                        this.updatesStartWaitTimePts = System.currentTimeMillis();
                    }
                    UserActionUpdatesPts userActionUpdatesPts = new UserActionUpdatesPts(null);
                    userActionUpdatesPts.pts = i2;
                    userActionUpdatesPts.pts_count = i4;
                    this.updatesQueuePts.add(userActionUpdatesPts);
                } else {
                    getDifference();
                }
            }
        }
        if (i != -1) {
            if (getMessagesStorage().getLastSeqValue() + 1 == i) {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("APPLY SEQ");
                }
                getMessagesStorage().setLastSeqValue(i);
                if (i3 != -1) {
                    getMessagesStorage().setLastDateValue(i3);
                }
                getMessagesStorage().saveDiffParams(getMessagesStorage().getLastSeqValue(), getMessagesStorage().getLastPtsValue(), getMessagesStorage().getLastDateValue(), getMessagesStorage().getLastQtsValue());
            } else if (getMessagesStorage().getLastSeqValue() == i) {
            } else {
                if (this.gettingDifference || this.updatesStartWaitTimeSeq == 0 || Math.abs(System.currentTimeMillis() - this.updatesStartWaitTimeSeq) <= 1500) {
                    if (BuildVars.LOGS_ENABLED) {
                        FileLog.d("ADD UPDATE TO QUEUE seq = " + i);
                    }
                    if (this.updatesStartWaitTimeSeq == 0) {
                        this.updatesStartWaitTimeSeq = System.currentTimeMillis();
                    }
                    UserActionUpdatesSeq userActionUpdatesSeq = new UserActionUpdatesSeq(null);
                    userActionUpdatesSeq.seq = i;
                    this.updatesQueueSeq.add(userActionUpdatesSeq);
                    return;
                }
                getDifference();
            }
        }
    }

    public void didAddedNewTask(int i, long j, SparseArray<ArrayList<Integer>> sparseArray) {
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda39(this, i));
        if (sparseArray != null) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda75(this, j, sparseArray));
        }
    }

    public /* synthetic */ void lambda$didAddedNewTask$60(int i) {
        int i2;
        if (!(this.currentDeletingTaskMids == null && this.currentDeletingTaskMediaMids == null && !this.gettingNewDeleteTask) && ((i2 = this.currentDeletingTaskTime) == 0 || i >= i2)) {
            return;
        }
        getNewDeleteTask(null, null);
    }

    public /* synthetic */ void lambda$didAddedNewTask$61(long j, SparseArray sparseArray) {
        getNotificationCenter().postNotificationName(NotificationCenter.didCreatedNewDeleteTask, Long.valueOf(j), sparseArray);
    }

    public void getNewDeleteTask(LongSparseArray<ArrayList<Integer>> longSparseArray, LongSparseArray<ArrayList<Integer>> longSparseArray2) {
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda97(this, longSparseArray, longSparseArray2));
    }

    public /* synthetic */ void lambda$getNewDeleteTask$62(LongSparseArray longSparseArray, LongSparseArray longSparseArray2) {
        this.gettingNewDeleteTask = true;
        getMessagesStorage().getNewTask(longSparseArray, longSparseArray2);
    }

    private boolean checkDeletingTask(boolean z) {
        int i;
        int currentTime = getConnectionsManager().getCurrentTime();
        if (!(this.currentDeletingTaskMids == null && this.currentDeletingTaskMediaMids == null) && (z || ((i = this.currentDeletingTaskTime) != 0 && i <= currentTime))) {
            this.currentDeletingTaskTime = 0;
            if (this.currentDeleteTaskRunnable != null && !z) {
                Utilities.stageQueue.cancelRunnable(this.currentDeleteTaskRunnable);
            }
            LongSparseArray<ArrayList<Integer>> longSparseArray = null;
            this.currentDeleteTaskRunnable = null;
            LongSparseArray<ArrayList<Integer>> longSparseArray2 = this.currentDeletingTaskMids;
            LongSparseArray<ArrayList<Integer>> clone = longSparseArray2 != null ? longSparseArray2.clone() : null;
            LongSparseArray<ArrayList<Integer>> longSparseArray3 = this.currentDeletingTaskMediaMids;
            if (longSparseArray3 != null) {
                longSparseArray = longSparseArray3.clone();
            }
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda99(this, clone, longSparseArray));
            return true;
        }
        return false;
    }

    public /* synthetic */ void lambda$checkDeletingTask$64(LongSparseArray longSparseArray, LongSparseArray longSparseArray2) {
        if (longSparseArray != null) {
            int size = longSparseArray.size();
            for (int i = 0; i < size; i++) {
                ArrayList<Integer> arrayList = (ArrayList) longSparseArray.valueAt(i);
                deleteMessages(arrayList, null, null, longSparseArray.keyAt(i), true, false, !arrayList.isEmpty() && arrayList.get(0).intValue() > 0);
            }
        }
        if (longSparseArray2 != null) {
            int size2 = longSparseArray2.size();
            for (int i2 = 0; i2 < size2; i2++) {
                getMessagesStorage().emptyMessagesMedia(longSparseArray2.keyAt(i2), (ArrayList) longSparseArray2.valueAt(i2));
            }
        }
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda98(this, longSparseArray, longSparseArray2));
    }

    public /* synthetic */ void lambda$checkDeletingTask$63(LongSparseArray longSparseArray, LongSparseArray longSparseArray2) {
        getNewDeleteTask(longSparseArray, longSparseArray2);
        this.currentDeletingTaskTime = 0;
        this.currentDeletingTaskMids = null;
        this.currentDeletingTaskMediaMids = null;
    }

    public void processLoadedDeleteTask(int i, LongSparseArray<ArrayList<Integer>> longSparseArray, LongSparseArray<ArrayList<Integer>> longSparseArray2) {
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda101(this, longSparseArray, longSparseArray2, i));
    }

    public /* synthetic */ void lambda$processLoadedDeleteTask$66(LongSparseArray longSparseArray, LongSparseArray longSparseArray2, int i) {
        this.gettingNewDeleteTask = false;
        if (longSparseArray != null || longSparseArray2 != null) {
            this.currentDeletingTaskTime = i;
            this.currentDeletingTaskMids = longSparseArray;
            this.currentDeletingTaskMediaMids = longSparseArray2;
            if (this.currentDeleteTaskRunnable != null) {
                Utilities.stageQueue.cancelRunnable(this.currentDeleteTaskRunnable);
                this.currentDeleteTaskRunnable = null;
            }
            if (checkDeletingTask(false)) {
                return;
            }
            this.currentDeleteTaskRunnable = new MessagesController$$ExternalSyntheticLambda26(this);
            Utilities.stageQueue.postRunnable(this.currentDeleteTaskRunnable, Math.abs(getConnectionsManager().getCurrentTime() - this.currentDeletingTaskTime) * 1000);
            return;
        }
        this.currentDeletingTaskTime = 0;
        this.currentDeletingTaskMids = null;
        this.currentDeletingTaskMediaMids = null;
    }

    public /* synthetic */ void lambda$processLoadedDeleteTask$65() {
        checkDeletingTask(true);
    }

    public void loadDialogPhotos(long j, int i, int i2, boolean z, int i3) {
        if (z) {
            getMessagesStorage().getDialogPhotos(j, i, i2, i3);
        } else if (j > 0) {
            TLRPC$User user = getUser(Long.valueOf(j));
            if (user == null) {
                return;
            }
            TLRPC$TL_photos_getUserPhotos tLRPC$TL_photos_getUserPhotos = new TLRPC$TL_photos_getUserPhotos();
            tLRPC$TL_photos_getUserPhotos.limit = i;
            tLRPC$TL_photos_getUserPhotos.offset = 0;
            tLRPC$TL_photos_getUserPhotos.max_id = i2;
            tLRPC$TL_photos_getUserPhotos.user_id = getInputUser(user);
            getConnectionsManager().bindRequestToGuid(getConnectionsManager().sendRequest(tLRPC$TL_photos_getUserPhotos, new MessagesController$$ExternalSyntheticLambda288(this, j, i, i2, i3)), i3);
        } else if (j >= 0) {
        } else {
            TLRPC$TL_messages_search tLRPC$TL_messages_search = new TLRPC$TL_messages_search();
            tLRPC$TL_messages_search.filter = new TLRPC$TL_inputMessagesFilterChatPhotos();
            tLRPC$TL_messages_search.limit = i;
            tLRPC$TL_messages_search.offset_id = i2;
            tLRPC$TL_messages_search.q = "";
            tLRPC$TL_messages_search.peer = getInputPeer(j);
            getConnectionsManager().bindRequestToGuid(getConnectionsManager().sendRequest(tLRPC$TL_messages_search, new MessagesController$$ExternalSyntheticLambda289(this, j, i, i2, i3)), i3);
        }
    }

    public /* synthetic */ void lambda$loadDialogPhotos$67(long j, int i, int i2, int i3, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            processLoadedUserPhotos((TLRPC$photos_Photos) tLObject, null, j, i, i2, false, i3);
        }
    }

    public /* synthetic */ void lambda$loadDialogPhotos$68(long j, int i, int i2, int i3, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        TLRPC$Photo tLRPC$Photo;
        if (tLRPC$TL_error == null) {
            TLRPC$messages_Messages tLRPC$messages_Messages = (TLRPC$messages_Messages) tLObject;
            TLRPC$TL_photos_photos tLRPC$TL_photos_photos = new TLRPC$TL_photos_photos();
            ArrayList<TLRPC$Message> arrayList = new ArrayList<>();
            tLRPC$TL_photos_photos.count = tLRPC$messages_Messages.count;
            tLRPC$TL_photos_photos.users.addAll(tLRPC$messages_Messages.users);
            for (int i4 = 0; i4 < tLRPC$messages_Messages.messages.size(); i4++) {
                TLRPC$Message tLRPC$Message = tLRPC$messages_Messages.messages.get(i4);
                TLRPC$MessageAction tLRPC$MessageAction = tLRPC$Message.action;
                if (tLRPC$MessageAction != null && (tLRPC$Photo = tLRPC$MessageAction.photo) != null) {
                    tLRPC$TL_photos_photos.photos.add(tLRPC$Photo);
                    arrayList.add(tLRPC$Message);
                }
            }
            processLoadedUserPhotos(tLRPC$TL_photos_photos, arrayList, j, i, i2, false, i3);
        }
    }

    public void blockPeer(long j) {
        TLRPC$Chat tLRPC$Chat;
        TLRPC$User tLRPC$User = null;
        if (j > 0) {
            TLRPC$User user = getUser(Long.valueOf(j));
            if (user == null) {
                return;
            }
            tLRPC$Chat = null;
            tLRPC$User = user;
        } else {
            tLRPC$Chat = getChat(Long.valueOf(-j));
            if (tLRPC$Chat == null) {
                return;
            }
        }
        if (this.blockePeers.indexOfKey(j) >= 0) {
            return;
        }
        this.blockePeers.put(j, 1);
        if (tLRPC$User != null) {
            if (tLRPC$User.bot) {
                getMediaDataController().removeInline(j);
            } else {
                getMediaDataController().removePeer(j);
            }
        }
        int i = this.totalBlockedCount;
        if (i >= 0) {
            this.totalBlockedCount = i + 1;
        }
        getNotificationCenter().postNotificationName(NotificationCenter.blockedUsersDidLoad, new Object[0]);
        TLRPC$TL_contacts_block tLRPC$TL_contacts_block = new TLRPC$TL_contacts_block();
        if (tLRPC$User != null) {
            tLRPC$TL_contacts_block.id = getInputPeer(tLRPC$User);
        } else {
            tLRPC$TL_contacts_block.id = getInputPeer(tLRPC$Chat);
        }
        getConnectionsManager().sendRequest(tLRPC$TL_contacts_block, MessagesController$$ExternalSyntheticLambda347.INSTANCE);
    }

    public void setParticipantBannedRole(long j, TLRPC$User tLRPC$User, TLRPC$Chat tLRPC$Chat, TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights, boolean z, BaseFragment baseFragment) {
        if ((tLRPC$User == null && tLRPC$Chat == null) || tLRPC$TL_chatBannedRights == null) {
            return;
        }
        TLRPC$TL_channels_editBanned tLRPC$TL_channels_editBanned = new TLRPC$TL_channels_editBanned();
        tLRPC$TL_channels_editBanned.channel = getInputChannel(j);
        if (tLRPC$User != null) {
            tLRPC$TL_channels_editBanned.participant = getInputPeer(tLRPC$User);
        } else {
            tLRPC$TL_channels_editBanned.participant = getInputPeer(tLRPC$Chat);
        }
        tLRPC$TL_channels_editBanned.banned_rights = tLRPC$TL_chatBannedRights;
        getConnectionsManager().sendRequest(tLRPC$TL_channels_editBanned, new MessagesController$$ExternalSyntheticLambda307(this, j, baseFragment, tLRPC$TL_channels_editBanned, z));
    }

    public /* synthetic */ void lambda$setParticipantBannedRole$72(long j, BaseFragment baseFragment, TLRPC$TL_channels_editBanned tLRPC$TL_channels_editBanned, boolean z, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            processUpdates((TLRPC$Updates) tLObject, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda63(this, j), 1000L);
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda167(this, tLRPC$TL_error, baseFragment, tLRPC$TL_channels_editBanned, z));
    }

    public /* synthetic */ void lambda$setParticipantBannedRole$70(long j) {
        loadFullChat(j, 0, true);
    }

    public /* synthetic */ void lambda$setParticipantBannedRole$71(TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLRPC$TL_channels_editBanned tLRPC$TL_channels_editBanned, boolean z) {
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, baseFragment, tLRPC$TL_channels_editBanned, Boolean.valueOf(z));
    }

    public void setChannelSlowMode(long j, int i) {
        TLRPC$TL_channels_toggleSlowMode tLRPC$TL_channels_toggleSlowMode = new TLRPC$TL_channels_toggleSlowMode();
        tLRPC$TL_channels_toggleSlowMode.seconds = i;
        tLRPC$TL_channels_toggleSlowMode.channel = getInputChannel(j);
        getConnectionsManager().sendRequest(tLRPC$TL_channels_toggleSlowMode, new MessagesController$$ExternalSyntheticLambda285(this, j));
    }

    public /* synthetic */ void lambda$setChannelSlowMode$74(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            getMessagesController().processUpdates((TLRPC$Updates) tLObject, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda56(this, j), 1000L);
        }
    }

    public /* synthetic */ void lambda$setChannelSlowMode$73(long j) {
        loadFullChat(j, 0, true);
    }

    public void setDefaultBannedRole(long j, TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights, boolean z, BaseFragment baseFragment) {
        if (tLRPC$TL_chatBannedRights == null) {
            return;
        }
        TLRPC$TL_messages_editChatDefaultBannedRights tLRPC$TL_messages_editChatDefaultBannedRights = new TLRPC$TL_messages_editChatDefaultBannedRights();
        tLRPC$TL_messages_editChatDefaultBannedRights.peer = getInputPeer(-j);
        tLRPC$TL_messages_editChatDefaultBannedRights.banned_rights = tLRPC$TL_chatBannedRights;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_editChatDefaultBannedRights, new MessagesController$$ExternalSyntheticLambda308(this, j, baseFragment, tLRPC$TL_messages_editChatDefaultBannedRights, z));
    }

    public /* synthetic */ void lambda$setDefaultBannedRole$77(long j, BaseFragment baseFragment, TLRPC$TL_messages_editChatDefaultBannedRights tLRPC$TL_messages_editChatDefaultBannedRights, boolean z, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            processUpdates((TLRPC$Updates) tLObject, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda62(this, j), 1000L);
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda171(this, tLRPC$TL_error, baseFragment, tLRPC$TL_messages_editChatDefaultBannedRights, z));
    }

    public /* synthetic */ void lambda$setDefaultBannedRole$75(long j) {
        loadFullChat(j, 0, true);
    }

    public /* synthetic */ void lambda$setDefaultBannedRole$76(TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLRPC$TL_messages_editChatDefaultBannedRights tLRPC$TL_messages_editChatDefaultBannedRights, boolean z) {
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, baseFragment, tLRPC$TL_messages_editChatDefaultBannedRights, Boolean.valueOf(z));
    }

    public void setUserAdminRole(long j, TLRPC$User tLRPC$User, TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights, String str, boolean z, BaseFragment baseFragment, boolean z2, boolean z3, String str2, Runnable runnable) {
        setUserAdminRole(j, tLRPC$User, tLRPC$TL_chatAdminRights, str, z, baseFragment, z2, z3, str2, runnable, null);
    }

    public void setUserAdminRole(long j, TLRPC$User tLRPC$User, TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights, String str, boolean z, BaseFragment baseFragment, boolean z2, boolean z3, String str2, Runnable runnable, ErrorDelegate errorDelegate) {
        if (tLRPC$User == null || tLRPC$TL_chatAdminRights == null) {
            return;
        }
        TLRPC$Chat chat = getChat(Long.valueOf(j));
        if (ChatObject.isChannel(chat)) {
            TLRPC$TL_channels_editAdmin tLRPC$TL_channels_editAdmin = new TLRPC$TL_channels_editAdmin();
            tLRPC$TL_channels_editAdmin.channel = getInputChannel(chat);
            tLRPC$TL_channels_editAdmin.user_id = getInputUser(tLRPC$User);
            tLRPC$TL_channels_editAdmin.admin_rights = tLRPC$TL_chatAdminRights;
            tLRPC$TL_channels_editAdmin.rank = str;
            MessagesController$$ExternalSyntheticLambda298 messagesController$$ExternalSyntheticLambda298 = new MessagesController$$ExternalSyntheticLambda298(this, j, runnable, baseFragment, tLRPC$TL_channels_editAdmin, z, errorDelegate);
            if ((chat.megagroup && z2) || !TextUtils.isEmpty(str2)) {
                addUserToChat(j, tLRPC$User, 0, str2, baseFragment, true, new MessagesController$$ExternalSyntheticLambda158(this, tLRPC$TL_channels_editAdmin, messagesController$$ExternalSyntheticLambda298), errorDelegate);
                return;
            } else {
                getConnectionsManager().sendRequest(tLRPC$TL_channels_editAdmin, messagesController$$ExternalSyntheticLambda298);
                return;
            }
        }
        TLRPC$TL_messages_editChatAdmin tLRPC$TL_messages_editChatAdmin = new TLRPC$TL_messages_editChatAdmin();
        tLRPC$TL_messages_editChatAdmin.chat_id = j;
        tLRPC$TL_messages_editChatAdmin.user_id = getInputUser(tLRPC$User);
        tLRPC$TL_messages_editChatAdmin.is_admin = z3 || tLRPC$TL_chatAdminRights.change_info || tLRPC$TL_chatAdminRights.delete_messages || tLRPC$TL_chatAdminRights.ban_users || tLRPC$TL_chatAdminRights.invite_users || tLRPC$TL_chatAdminRights.pin_messages || tLRPC$TL_chatAdminRights.add_admins || tLRPC$TL_chatAdminRights.manage_call;
        MessagesController$$ExternalSyntheticLambda299 messagesController$$ExternalSyntheticLambda299 = new MessagesController$$ExternalSyntheticLambda299(this, j, runnable, baseFragment, tLRPC$TL_messages_editChatAdmin, errorDelegate);
        if (tLRPC$TL_messages_editChatAdmin.is_admin || z2 || !TextUtils.isEmpty(str2)) {
            addUserToChat(j, tLRPC$User, 0, str2, baseFragment, true, new MessagesController$$ExternalSyntheticLambda174(this, tLRPC$TL_messages_editChatAdmin, messagesController$$ExternalSyntheticLambda299), errorDelegate);
        } else {
            getConnectionsManager().sendRequest(tLRPC$TL_messages_editChatAdmin, messagesController$$ExternalSyntheticLambda299);
        }
    }

    public /* synthetic */ void lambda$setUserAdminRole$81(long j, Runnable runnable, BaseFragment baseFragment, TLRPC$TL_channels_editAdmin tLRPC$TL_channels_editAdmin, boolean z, ErrorDelegate errorDelegate, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            processUpdates((TLRPC$Updates) tLObject, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda79(this, j, runnable), 1000L);
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda166(this, tLRPC$TL_error, baseFragment, tLRPC$TL_channels_editAdmin, z));
        if (errorDelegate == null) {
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda9(errorDelegate, tLRPC$TL_error));
    }

    public /* synthetic */ void lambda$setUserAdminRole$78(long j, Runnable runnable) {
        loadFullChat(j, 0, true);
        if (runnable != null) {
            runnable.run();
        }
    }

    public /* synthetic */ void lambda$setUserAdminRole$79(TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLRPC$TL_channels_editAdmin tLRPC$TL_channels_editAdmin, boolean z) {
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, baseFragment, tLRPC$TL_channels_editAdmin, Boolean.valueOf(z));
    }

    public /* synthetic */ void lambda$setUserAdminRole$82(TLRPC$TL_channels_editAdmin tLRPC$TL_channels_editAdmin, RequestDelegate requestDelegate) {
        getConnectionsManager().sendRequest(tLRPC$TL_channels_editAdmin, requestDelegate);
    }

    public /* synthetic */ void lambda$setUserAdminRole$86(long j, Runnable runnable, BaseFragment baseFragment, TLRPC$TL_messages_editChatAdmin tLRPC$TL_messages_editChatAdmin, ErrorDelegate errorDelegate, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda78(this, j, runnable), 1000L);
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda170(this, tLRPC$TL_error, baseFragment, tLRPC$TL_messages_editChatAdmin));
        if (errorDelegate == null) {
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda10(errorDelegate, tLRPC$TL_error));
    }

    public /* synthetic */ void lambda$setUserAdminRole$83(long j, Runnable runnable) {
        loadFullChat(j, 0, true);
        if (runnable != null) {
            runnable.run();
        }
    }

    public /* synthetic */ void lambda$setUserAdminRole$84(TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLRPC$TL_messages_editChatAdmin tLRPC$TL_messages_editChatAdmin) {
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, baseFragment, tLRPC$TL_messages_editChatAdmin, Boolean.FALSE);
    }

    public /* synthetic */ void lambda$setUserAdminRole$87(TLRPC$TL_messages_editChatAdmin tLRPC$TL_messages_editChatAdmin, RequestDelegate requestDelegate) {
        getConnectionsManager().sendRequest(tLRPC$TL_messages_editChatAdmin, requestDelegate);
    }

    public void unblockPeer(long j) {
        TLRPC$Chat tLRPC$Chat;
        TLRPC$TL_contacts_unblock tLRPC$TL_contacts_unblock = new TLRPC$TL_contacts_unblock();
        TLRPC$User tLRPC$User = null;
        if (j > 0) {
            TLRPC$User user = getUser(Long.valueOf(j));
            if (user == null) {
                return;
            }
            tLRPC$Chat = null;
            tLRPC$User = user;
        } else {
            tLRPC$Chat = getChat(Long.valueOf(-j));
            if (tLRPC$Chat == null) {
                return;
            }
        }
        this.totalBlockedCount--;
        this.blockePeers.delete(j);
        if (tLRPC$User != null) {
            tLRPC$TL_contacts_unblock.id = getInputPeer(tLRPC$User);
        } else {
            tLRPC$TL_contacts_unblock.id = getInputPeer(tLRPC$Chat);
        }
        getNotificationCenter().postNotificationName(NotificationCenter.blockedUsersDidLoad, new Object[0]);
        getConnectionsManager().sendRequest(tLRPC$TL_contacts_unblock, MessagesController$$ExternalSyntheticLambda358.INSTANCE);
    }

    public void getBlockedPeers(boolean z) {
        if (!getUserConfig().isClientActivated() || this.loadingBlockedPeers) {
            return;
        }
        this.loadingBlockedPeers = true;
        TLRPC$TL_contacts_getBlocked tLRPC$TL_contacts_getBlocked = new TLRPC$TL_contacts_getBlocked();
        tLRPC$TL_contacts_getBlocked.offset = z ? 0 : this.blockePeers.size();
        tLRPC$TL_contacts_getBlocked.limit = z ? 20 : 100;
        getConnectionsManager().sendRequest(tLRPC$TL_contacts_getBlocked, new MessagesController$$ExternalSyntheticLambda338(this, z, tLRPC$TL_contacts_getBlocked));
    }

    public /* synthetic */ void lambda$getBlockedPeers$90(boolean z, TLRPC$TL_contacts_getBlocked tLRPC$TL_contacts_getBlocked, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda145(this, tLObject, z, tLRPC$TL_contacts_getBlocked));
    }

    public /* synthetic */ void lambda$getBlockedPeers$89(TLObject tLObject, boolean z, TLRPC$TL_contacts_getBlocked tLRPC$TL_contacts_getBlocked) {
        if (tLObject != null) {
            TLRPC$contacts_Blocked tLRPC$contacts_Blocked = (TLRPC$contacts_Blocked) tLObject;
            putUsers(tLRPC$contacts_Blocked.users, false);
            putChats(tLRPC$contacts_Blocked.chats, false);
            getMessagesStorage().putUsersAndChats(tLRPC$contacts_Blocked.users, tLRPC$contacts_Blocked.chats, true, true);
            if (z) {
                this.blockePeers.clear();
            }
            this.totalBlockedCount = Math.max(tLRPC$contacts_Blocked.count, tLRPC$contacts_Blocked.blocked.size());
            this.blockedEndReached = tLRPC$contacts_Blocked.blocked.size() < tLRPC$TL_contacts_getBlocked.limit;
            int size = tLRPC$contacts_Blocked.blocked.size();
            for (int i = 0; i < size; i++) {
                this.blockePeers.put(MessageObject.getPeerId(tLRPC$contacts_Blocked.blocked.get(i).peer_id), 1);
            }
            this.loadingBlockedPeers = false;
            getNotificationCenter().postNotificationName(NotificationCenter.blockedUsersDidLoad, new Object[0]);
        }
    }

    public void deleteUserPhoto(TLRPC$InputPhoto tLRPC$InputPhoto) {
        if (tLRPC$InputPhoto == null) {
            TLRPC$TL_photos_updateProfilePhoto tLRPC$TL_photos_updateProfilePhoto = new TLRPC$TL_photos_updateProfilePhoto();
            tLRPC$TL_photos_updateProfilePhoto.id = new TLRPC$TL_inputPhotoEmpty();
            getUserConfig().getCurrentUser().photo = new TLRPC$TL_userProfilePhotoEmpty();
            TLRPC$User user = getUser(Long.valueOf(getUserConfig().getClientUserId()));
            if (user == null) {
                user = getUserConfig().getCurrentUser();
            }
            if (user == null) {
                return;
            }
            user.photo = getUserConfig().getCurrentUser().photo;
            getNotificationCenter().postNotificationName(NotificationCenter.mainUserInfoChanged, new Object[0]);
            getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_ALL));
            getConnectionsManager().sendRequest(tLRPC$TL_photos_updateProfilePhoto, new MessagesController$$ExternalSyntheticLambda236(this));
            return;
        }
        TLRPC$TL_photos_deletePhotos tLRPC$TL_photos_deletePhotos = new TLRPC$TL_photos_deletePhotos();
        tLRPC$TL_photos_deletePhotos.id.add(tLRPC$InputPhoto);
        getConnectionsManager().sendRequest(tLRPC$TL_photos_deletePhotos, MessagesController$$ExternalSyntheticLambda350.INSTANCE);
    }

    public /* synthetic */ void lambda$deleteUserPhoto$92(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_photos_photo tLRPC$TL_photos_photo = (TLRPC$TL_photos_photo) tLObject;
            TLRPC$User user = getUser(Long.valueOf(getUserConfig().getClientUserId()));
            if (user == null) {
                user = getUserConfig().getCurrentUser();
                putUser(user, false);
            } else {
                getUserConfig().setCurrentUser(user);
            }
            if (user == null) {
                return;
            }
            getMessagesStorage().clearUserPhotos(user.id);
            ArrayList<TLRPC$User> arrayList = new ArrayList<>();
            arrayList.add(user);
            getMessagesStorage().putUsersAndChats(arrayList, null, false, true);
            if (tLRPC$TL_photos_photo.photo instanceof TLRPC$TL_photo) {
                TLRPC$TL_userProfilePhoto tLRPC$TL_userProfilePhoto = new TLRPC$TL_userProfilePhoto();
                user.photo = tLRPC$TL_userProfilePhoto;
                tLRPC$TL_userProfilePhoto.has_video = !tLRPC$TL_photos_photo.photo.video_sizes.isEmpty();
                TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto = user.photo;
                TLRPC$Photo tLRPC$Photo = tLRPC$TL_photos_photo.photo;
                tLRPC$UserProfilePhoto.photo_id = tLRPC$Photo.id;
                tLRPC$UserProfilePhoto.photo_small = FileLoader.getClosestPhotoSizeWithSize(tLRPC$Photo.sizes, 150).location;
                user.photo.photo_big = FileLoader.getClosestPhotoSizeWithSize(tLRPC$TL_photos_photo.photo.sizes, 800).location;
                user.photo.dc_id = tLRPC$TL_photos_photo.photo.dc_id;
            } else {
                user.photo = new TLRPC$TL_userProfilePhotoEmpty();
            }
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda17(this));
        }
    }

    public /* synthetic */ void lambda$deleteUserPhoto$91() {
        getNotificationCenter().postNotificationName(NotificationCenter.mainUserInfoChanged, new Object[0]);
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_ALL));
        getUserConfig().saveConfig(true);
    }

    public void processLoadedUserPhotos(TLRPC$photos_Photos tLRPC$photos_Photos, ArrayList<TLRPC$Message> arrayList, long j, int i, int i2, boolean z, int i3) {
        if (!z) {
            getMessagesStorage().putUsersAndChats(tLRPC$photos_Photos.users, null, true, true);
            getMessagesStorage().putDialogPhotos(j, tLRPC$photos_Photos, arrayList);
        } else if (tLRPC$photos_Photos == null || tLRPC$photos_Photos.photos.isEmpty()) {
            loadDialogPhotos(j, i, i2, false, i3);
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda197(this, tLRPC$photos_Photos, z, j, i, i3, arrayList));
    }

    public /* synthetic */ void lambda$processLoadedUserPhotos$94(TLRPC$photos_Photos tLRPC$photos_Photos, boolean z, long j, int i, int i2, ArrayList arrayList) {
        putUsers(tLRPC$photos_Photos.users, z);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogPhotosLoaded, Long.valueOf(j), Integer.valueOf(i), Boolean.valueOf(z), Integer.valueOf(i2), tLRPC$photos_Photos.photos, arrayList);
    }

    public void uploadAndApplyUserAvatar(TLRPC$FileLocation tLRPC$FileLocation) {
        if (tLRPC$FileLocation == null) {
            return;
        }
        this.uploadingAvatar = FileLoader.getDirectory(4) + "/" + tLRPC$FileLocation.volume_id + "_" + tLRPC$FileLocation.local_id + ".jpg";
        getFileLoader().uploadFile(this.uploadingAvatar, false, true, 16777216);
    }

    public void saveTheme(Theme.ThemeInfo themeInfo, Theme.ThemeAccent themeAccent, boolean z, boolean z2) {
        TLRPC$TL_theme tLRPC$TL_theme = themeAccent != null ? themeAccent.info : themeInfo.info;
        if (tLRPC$TL_theme != null) {
            TLRPC$TL_account_saveTheme tLRPC$TL_account_saveTheme = new TLRPC$TL_account_saveTheme();
            TLRPC$TL_inputTheme tLRPC$TL_inputTheme = new TLRPC$TL_inputTheme();
            tLRPC$TL_inputTheme.id = tLRPC$TL_theme.id;
            tLRPC$TL_inputTheme.access_hash = tLRPC$TL_theme.access_hash;
            tLRPC$TL_account_saveTheme.theme = tLRPC$TL_inputTheme;
            tLRPC$TL_account_saveTheme.unsave = z2;
            getConnectionsManager().sendRequest(tLRPC$TL_account_saveTheme, MessagesController$$ExternalSyntheticLambda359.INSTANCE);
            getConnectionsManager().resumeNetworkMaybe();
        }
        if (!z2) {
            installTheme(themeInfo, themeAccent, z);
        }
    }

    public void installTheme(Theme.ThemeInfo themeInfo, Theme.ThemeAccent themeAccent, boolean z) {
        TLRPC$TL_theme tLRPC$TL_theme = themeAccent != null ? themeAccent.info : themeInfo.info;
        String str = themeAccent != null ? themeAccent.patternSlug : themeInfo.slug;
        boolean z2 = themeAccent == null && themeInfo.isBlured;
        boolean z3 = themeAccent != null ? themeAccent.patternMotion : themeInfo.isMotion;
        TLRPC$TL_account_installTheme tLRPC$TL_account_installTheme = new TLRPC$TL_account_installTheme();
        tLRPC$TL_account_installTheme.dark = z;
        if (tLRPC$TL_theme != null) {
            tLRPC$TL_account_installTheme.format = "android";
            TLRPC$TL_inputTheme tLRPC$TL_inputTheme = new TLRPC$TL_inputTheme();
            tLRPC$TL_inputTheme.id = tLRPC$TL_theme.id;
            tLRPC$TL_inputTheme.access_hash = tLRPC$TL_theme.access_hash;
            tLRPC$TL_account_installTheme.theme = tLRPC$TL_inputTheme;
            tLRPC$TL_account_installTheme.flags |= 2;
        }
        getConnectionsManager().sendRequest(tLRPC$TL_account_installTheme, MessagesController$$ExternalSyntheticLambda361.INSTANCE);
        if (!TextUtils.isEmpty(str)) {
            TLRPC$TL_account_installWallPaper tLRPC$TL_account_installWallPaper = new TLRPC$TL_account_installWallPaper();
            TLRPC$TL_inputWallPaperSlug tLRPC$TL_inputWallPaperSlug = new TLRPC$TL_inputWallPaperSlug();
            tLRPC$TL_inputWallPaperSlug.slug = str;
            tLRPC$TL_account_installWallPaper.wallpaper = tLRPC$TL_inputWallPaperSlug;
            TLRPC$TL_wallPaperSettings tLRPC$TL_wallPaperSettings = new TLRPC$TL_wallPaperSettings();
            tLRPC$TL_account_installWallPaper.settings = tLRPC$TL_wallPaperSettings;
            tLRPC$TL_wallPaperSettings.blur = z2;
            tLRPC$TL_wallPaperSettings.motion = z3;
            getConnectionsManager().sendRequest(tLRPC$TL_account_installWallPaper, MessagesController$$ExternalSyntheticLambda353.INSTANCE);
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void saveThemeToServer(Theme.ThemeInfo themeInfo, Theme.ThemeAccent themeAccent) {
        File file;
        String str;
        if (themeInfo == null) {
            return;
        }
        if (themeAccent != 0) {
            str = themeAccent.saveToFile().getAbsolutePath();
            file = themeAccent.getPathToWallpaper();
        } else {
            str = themeInfo.pathToFile;
            file = null;
        }
        String str2 = str;
        File file2 = file;
        if (str2 == null || this.uploadingThemes.containsKey(str2)) {
            return;
        }
        this.uploadingThemes.put(str2, themeAccent != 0 ? themeAccent : themeInfo);
        Utilities.globalQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda103(this, str2, file2, themeAccent, themeInfo));
    }

    public /* synthetic */ void lambda$saveThemeToServer$99(String str, File file, Theme.ThemeAccent themeAccent, Theme.ThemeInfo themeInfo) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda104(this, Theme.createThemePreviewImage(str, file != null ? file.getAbsolutePath() : null, themeAccent), str, themeAccent, themeInfo));
    }

    /* JADX WARN: Multi-variable type inference failed */
    public /* synthetic */ void lambda$saveThemeToServer$98(String str, String str2, Theme.ThemeAccent themeAccent, Theme.ThemeInfo themeInfo) {
        if (str == null) {
            this.uploadingThemes.remove(str2);
            return;
        }
        this.uploadingThemes.put(str, themeAccent != null ? themeAccent : themeInfo);
        if (themeAccent == null) {
            themeInfo.uploadingFile = str2;
            themeInfo.uploadingThumb = str;
        } else {
            themeAccent.uploadingFile = str2;
            themeAccent.uploadingThumb = str;
        }
        getFileLoader().uploadFile(str2, false, true, 67108864);
        getFileLoader().uploadFile(str, false, true, 16777216);
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:62:0x0168  */
    /* JADX WARN: Removed duplicated region for block: B:63:0x016e  */
    /* JADX WARN: Removed duplicated region for block: B:66:0x0184  */
    /* JADX WARN: Removed duplicated region for block: B:69:0x0194  */
    /* JADX WARN: Removed duplicated region for block: B:72:0x01bd  */
    /* JADX WARN: Removed duplicated region for block: B:75:0x01d3  */
    /* JADX WARN: Removed duplicated region for block: B:78:0x01e9  */
    /* JADX WARN: Removed duplicated region for block: B:81:0x01f7  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void saveWallpaperToServer(File file, Theme.OverrideWallpaperInfo overrideWallpaperInfo, boolean z, long j) {
        TLRPC$WallPaper tLRPC$WallPaper;
        long j2;
        int i;
        int i2;
        int i3;
        int i4;
        TLRPC$TL_inputWallPaperSlug tLRPC$TL_inputWallPaperSlug;
        TLRPC$TL_account_saveWallPaper tLRPC$TL_account_saveWallPaper;
        NativeByteBuffer nativeByteBuffer;
        Exception e;
        NativeByteBuffer nativeByteBuffer2 = null;
        if (this.uploadingWallpaper != null) {
            File file2 = new File(ApplicationLoader.getFilesDirFixed(), overrideWallpaperInfo.originalFileName);
            if (file != null && (file.getAbsolutePath().equals(this.uploadingWallpaper) || file.equals(file2))) {
                this.uploadingWallpaperInfo = overrideWallpaperInfo;
                return;
            }
            getFileLoader().cancelFileUpload(this.uploadingWallpaper, false);
            this.uploadingWallpaper = null;
            this.uploadingWallpaperInfo = null;
        }
        if (file != null) {
            this.uploadingWallpaper = file.getAbsolutePath();
            this.uploadingWallpaperInfo = overrideWallpaperInfo;
            getFileLoader().uploadFile(this.uploadingWallpaper, false, true, 16777216);
        } else if (!overrideWallpaperInfo.isDefault() && !overrideWallpaperInfo.isColor() && overrideWallpaperInfo.wallpaperId > 0 && !overrideWallpaperInfo.isTheme()) {
            if (overrideWallpaperInfo.wallpaperId > 0) {
                TLRPC$TL_inputWallPaper tLRPC$TL_inputWallPaper = new TLRPC$TL_inputWallPaper();
                tLRPC$TL_inputWallPaper.id = overrideWallpaperInfo.wallpaperId;
                tLRPC$TL_inputWallPaper.access_hash = overrideWallpaperInfo.accessHash;
                tLRPC$TL_inputWallPaperSlug = tLRPC$TL_inputWallPaper;
            } else {
                TLRPC$TL_inputWallPaperSlug tLRPC$TL_inputWallPaperSlug2 = new TLRPC$TL_inputWallPaperSlug();
                tLRPC$TL_inputWallPaperSlug2.slug = overrideWallpaperInfo.slug;
                tLRPC$TL_inputWallPaperSlug = tLRPC$TL_inputWallPaperSlug2;
            }
            TLRPC$TL_wallPaperSettings tLRPC$TL_wallPaperSettings = new TLRPC$TL_wallPaperSettings();
            tLRPC$TL_wallPaperSettings.blur = overrideWallpaperInfo.isBlurred;
            tLRPC$TL_wallPaperSettings.motion = overrideWallpaperInfo.isMotion;
            int i5 = overrideWallpaperInfo.color;
            if (i5 != 0) {
                tLRPC$TL_wallPaperSettings.background_color = i5 & 16777215;
                int i6 = tLRPC$TL_wallPaperSettings.flags | 1;
                tLRPC$TL_wallPaperSettings.flags = i6;
                tLRPC$TL_wallPaperSettings.intensity = (int) (overrideWallpaperInfo.intensity * 100.0f);
                tLRPC$TL_wallPaperSettings.flags = i6 | 8;
            }
            int i7 = overrideWallpaperInfo.gradientColor1;
            if (i7 != 0) {
                tLRPC$TL_wallPaperSettings.second_background_color = i7 & 16777215;
                tLRPC$TL_wallPaperSettings.rotation = AndroidUtilities.getWallpaperRotation(overrideWallpaperInfo.rotation, true);
                tLRPC$TL_wallPaperSettings.flags |= 16;
            }
            int i8 = overrideWallpaperInfo.gradientColor2;
            if (i8 != 0) {
                tLRPC$TL_wallPaperSettings.third_background_color = i8 & 16777215;
                tLRPC$TL_wallPaperSettings.flags |= 32;
            }
            int i9 = overrideWallpaperInfo.gradientColor3;
            if (i9 != 0) {
                tLRPC$TL_wallPaperSettings.fourth_background_color = i9 & 16777215;
                tLRPC$TL_wallPaperSettings.flags |= 64;
            }
            if (z) {
                TLRPC$TL_account_installWallPaper tLRPC$TL_account_installWallPaper = new TLRPC$TL_account_installWallPaper();
                tLRPC$TL_account_installWallPaper.wallpaper = tLRPC$TL_inputWallPaperSlug;
                tLRPC$TL_account_installWallPaper.settings = tLRPC$TL_wallPaperSettings;
                tLRPC$TL_account_saveWallPaper = tLRPC$TL_account_installWallPaper;
            } else {
                TLRPC$TL_account_saveWallPaper tLRPC$TL_account_saveWallPaper2 = new TLRPC$TL_account_saveWallPaper();
                tLRPC$TL_account_saveWallPaper2.wallpaper = tLRPC$TL_inputWallPaperSlug;
                tLRPC$TL_account_saveWallPaper2.settings = tLRPC$TL_wallPaperSettings;
                tLRPC$TL_account_saveWallPaper = tLRPC$TL_account_saveWallPaper2;
            }
            if (j == 0) {
                try {
                    nativeByteBuffer = new NativeByteBuffer(1024);
                } catch (Exception e2) {
                    e = e2;
                }
                try {
                    nativeByteBuffer.writeInt32(21);
                    nativeByteBuffer.writeBool(overrideWallpaperInfo.isBlurred);
                    nativeByteBuffer.writeBool(overrideWallpaperInfo.isMotion);
                    nativeByteBuffer.writeInt32(overrideWallpaperInfo.color);
                    nativeByteBuffer.writeInt32(overrideWallpaperInfo.gradientColor1);
                    nativeByteBuffer.writeInt32(overrideWallpaperInfo.rotation);
                    nativeByteBuffer.writeDouble(overrideWallpaperInfo.intensity);
                    nativeByteBuffer.writeBool(z);
                    nativeByteBuffer.writeString(overrideWallpaperInfo.slug);
                    nativeByteBuffer.writeString(overrideWallpaperInfo.originalFileName);
                    nativeByteBuffer.limit(nativeByteBuffer.position());
                } catch (Exception e3) {
                    e = e3;
                    nativeByteBuffer2 = nativeByteBuffer;
                    FileLog.e(e);
                    nativeByteBuffer = nativeByteBuffer2;
                    j = getMessagesStorage().createPendingTask(nativeByteBuffer);
                    getConnectionsManager().sendRequest(tLRPC$TL_account_saveWallPaper, new MessagesController$$ExternalSyntheticLambda275(this, j));
                    if (!overrideWallpaperInfo.isColor()) {
                    }
                    if (!overrideWallpaperInfo.isColor()) {
                    }
                    j2 = overrideWallpaperInfo.wallpaperId;
                    if (j2 != 0) {
                    }
                    tLRPC$WallPaper.dark = MotionBackgroundDrawable.isDark(overrideWallpaperInfo.color, overrideWallpaperInfo.gradientColor1, overrideWallpaperInfo.gradientColor2, overrideWallpaperInfo.gradientColor3);
                    tLRPC$WallPaper.flags |= 4;
                    TLRPC$TL_wallPaperSettings tLRPC$TL_wallPaperSettings2 = new TLRPC$TL_wallPaperSettings();
                    tLRPC$WallPaper.settings = tLRPC$TL_wallPaperSettings2;
                    tLRPC$TL_wallPaperSettings2.blur = overrideWallpaperInfo.isBlurred;
                    tLRPC$TL_wallPaperSettings2.motion = overrideWallpaperInfo.isMotion;
                    i = overrideWallpaperInfo.color;
                    if (i != 0) {
                    }
                    i2 = overrideWallpaperInfo.gradientColor1;
                    if (i2 != 0) {
                    }
                    i3 = overrideWallpaperInfo.gradientColor2;
                    if (i3 != 0) {
                    }
                    i4 = overrideWallpaperInfo.gradientColor3;
                    if (i4 != 0) {
                    }
                    ArrayList<TLRPC$WallPaper> arrayList = new ArrayList<>();
                    arrayList.add(tLRPC$WallPaper);
                    getMessagesStorage().putWallpapers(arrayList, -3);
                    getMessagesStorage().getWallpapers();
                }
                j = getMessagesStorage().createPendingTask(nativeByteBuffer);
            }
            getConnectionsManager().sendRequest(tLRPC$TL_account_saveWallPaper, new MessagesController$$ExternalSyntheticLambda275(this, j));
        }
        if ((!overrideWallpaperInfo.isColor() || overrideWallpaperInfo.gradientColor2 != 0) && overrideWallpaperInfo.wallpaperId <= 0) {
            if (!overrideWallpaperInfo.isColor()) {
                tLRPC$WallPaper = new TLRPC$TL_wallPaperNoFile();
            } else {
                tLRPC$WallPaper = new TLRPC$TL_wallPaper();
                tLRPC$WallPaper.slug = overrideWallpaperInfo.slug;
                tLRPC$WallPaper.document = new TLRPC$TL_documentEmpty();
            }
            j2 = overrideWallpaperInfo.wallpaperId;
            if (j2 != 0) {
                long nextLong = Utilities.random.nextLong();
                tLRPC$WallPaper.id = nextLong;
                if (nextLong > 0) {
                    tLRPC$WallPaper.id = -nextLong;
                }
            } else {
                tLRPC$WallPaper.id = j2;
            }
            tLRPC$WallPaper.dark = MotionBackgroundDrawable.isDark(overrideWallpaperInfo.color, overrideWallpaperInfo.gradientColor1, overrideWallpaperInfo.gradientColor2, overrideWallpaperInfo.gradientColor3);
            tLRPC$WallPaper.flags |= 4;
            TLRPC$TL_wallPaperSettings tLRPC$TL_wallPaperSettings22 = new TLRPC$TL_wallPaperSettings();
            tLRPC$WallPaper.settings = tLRPC$TL_wallPaperSettings22;
            tLRPC$TL_wallPaperSettings22.blur = overrideWallpaperInfo.isBlurred;
            tLRPC$TL_wallPaperSettings22.motion = overrideWallpaperInfo.isMotion;
            i = overrideWallpaperInfo.color;
            if (i != 0) {
                tLRPC$TL_wallPaperSettings22.background_color = i;
                int i10 = tLRPC$TL_wallPaperSettings22.flags | 1;
                tLRPC$TL_wallPaperSettings22.flags = i10;
                tLRPC$TL_wallPaperSettings22.intensity = (int) (overrideWallpaperInfo.intensity * 100.0f);
                tLRPC$TL_wallPaperSettings22.flags = i10 | 8;
            }
            i2 = overrideWallpaperInfo.gradientColor1;
            if (i2 != 0) {
                tLRPC$TL_wallPaperSettings22.second_background_color = i2;
                tLRPC$TL_wallPaperSettings22.rotation = AndroidUtilities.getWallpaperRotation(overrideWallpaperInfo.rotation, true);
                tLRPC$WallPaper.settings.flags |= 16;
            }
            i3 = overrideWallpaperInfo.gradientColor2;
            if (i3 != 0) {
                TLRPC$WallPaperSettings tLRPC$WallPaperSettings = tLRPC$WallPaper.settings;
                tLRPC$WallPaperSettings.third_background_color = i3;
                tLRPC$WallPaperSettings.flags |= 32;
            }
            i4 = overrideWallpaperInfo.gradientColor3;
            if (i4 != 0) {
                TLRPC$WallPaperSettings tLRPC$WallPaperSettings2 = tLRPC$WallPaper.settings;
                tLRPC$WallPaperSettings2.fourth_background_color = i4;
                tLRPC$WallPaperSettings2.flags |= 64;
            }
            ArrayList<TLRPC$WallPaper> arrayList2 = new ArrayList<>();
            arrayList2.add(tLRPC$WallPaper);
            getMessagesStorage().putWallpapers(arrayList2, -3);
            getMessagesStorage().getWallpapers();
        }
    }

    public /* synthetic */ void lambda$saveWallpaperToServer$100(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        getMessagesStorage().removePendingTask(j);
    }

    public void markDialogMessageAsDeleted(long j, ArrayList<Integer> arrayList) {
        MessageObject messageObject = this.dialogMessage.get(j);
        if (messageObject != null) {
            for (int i = 0; i < arrayList.size(); i++) {
                if (messageObject.getId() == arrayList.get(i).intValue()) {
                    messageObject.deleted = true;
                    return;
                }
            }
        }
    }

    public void deleteMessages(ArrayList<Integer> arrayList, ArrayList<Long> arrayList2, TLRPC$EncryptedChat tLRPC$EncryptedChat, long j, boolean z, boolean z2) {
        deleteMessages(arrayList, arrayList2, tLRPC$EncryptedChat, j, z, z2, false, 0L, null);
    }

    public void deleteMessages(ArrayList<Integer> arrayList, ArrayList<Long> arrayList2, TLRPC$EncryptedChat tLRPC$EncryptedChat, long j, boolean z, boolean z2, boolean z3) {
        deleteMessages(arrayList, arrayList2, tLRPC$EncryptedChat, j, z, z2, z3, 0L, null);
    }

    public void deleteMessages(ArrayList<Integer> arrayList, ArrayList<Long> arrayList2, TLRPC$EncryptedChat tLRPC$EncryptedChat, long j, boolean z, boolean z2, boolean z3, long j2, TLObject tLObject) {
        ArrayList<Integer> arrayList3;
        long j3;
        NativeByteBuffer nativeByteBuffer;
        long j4;
        TLRPC$TL_messages_deleteMessages tLRPC$TL_messages_deleteMessages;
        NativeByteBuffer nativeByteBuffer2;
        Exception e;
        long j5;
        TLRPC$TL_channels_deleteMessages tLRPC$TL_channels_deleteMessages;
        NativeByteBuffer nativeByteBuffer3;
        Exception e2;
        long j6;
        TLRPC$TL_messages_deleteScheduledMessages tLRPC$TL_messages_deleteScheduledMessages;
        NativeByteBuffer nativeByteBuffer4;
        Exception e3;
        long j7;
        ArrayList<Integer> arrayList4;
        char c;
        if ((arrayList == null || arrayList.isEmpty()) && j2 == 0) {
            return;
        }
        if (j2 == 0) {
            if (j == 0 || !DialogObject.isChatDialog(j)) {
                j7 = 0;
            } else {
                TLRPC$Chat chat = getChat(Long.valueOf(-j));
                j7 = ChatObject.isChannel(chat) ? chat.id : 0L;
            }
            if (!z3) {
                ArrayList<Integer> arrayList5 = new ArrayList<>();
                int size = arrayList.size();
                for (int i = 0; i < size; i++) {
                    Integer num = arrayList.get(i);
                    if (num.intValue() > 0) {
                        arrayList5.add(num);
                    }
                }
                arrayList4 = arrayList5;
            } else {
                arrayList4 = null;
            }
            if (z2) {
                getMessagesStorage().markMessagesAsDeleted(j, arrayList, true, false, true);
                c = 1;
            } else {
                if (j7 == 0) {
                    for (int i2 = 0; i2 < arrayList.size(); i2++) {
                        MessageObject messageObject = this.dialogMessagesByIds.get(arrayList.get(i2).intValue());
                        if (messageObject != null) {
                            messageObject.deleted = true;
                        }
                    }
                } else {
                    markDialogMessageAsDeleted(j, arrayList);
                }
                getMessagesStorage().markMessagesAsDeleted(j, arrayList, true, z, false);
                c = 1;
                getMessagesStorage().updateDialogsWithDeletedMessages(j, j7, arrayList, null, true);
            }
            NotificationCenter notificationCenter = getNotificationCenter();
            int i3 = NotificationCenter.messagesDeleted;
            Object[] objArr = new Object[3];
            objArr[0] = arrayList;
            objArr[c] = Long.valueOf(j7);
            objArr[2] = Boolean.valueOf(z2);
            notificationCenter.postNotificationName(i3, objArr);
            j3 = j7;
            arrayList3 = arrayList4;
        } else {
            j3 = tLObject instanceof TLRPC$TL_channels_deleteMessages ? ((TLRPC$TL_channels_deleteMessages) tLObject).channel.channel_id : 0L;
            arrayList3 = null;
        }
        if (z3) {
            return;
        }
        if (z2) {
            if (tLObject instanceof TLRPC$TL_messages_deleteScheduledMessages) {
                tLRPC$TL_messages_deleteScheduledMessages = (TLRPC$TL_messages_deleteScheduledMessages) tLObject;
                j6 = j2;
            } else {
                TLRPC$TL_messages_deleteScheduledMessages tLRPC$TL_messages_deleteScheduledMessages2 = new TLRPC$TL_messages_deleteScheduledMessages();
                tLRPC$TL_messages_deleteScheduledMessages2.id = arrayList3;
                tLRPC$TL_messages_deleteScheduledMessages2.peer = getInputPeer(j);
                try {
                    nativeByteBuffer4 = new NativeByteBuffer(tLRPC$TL_messages_deleteScheduledMessages2.getObjectSize() + 12);
                } catch (Exception e4) {
                    e3 = e4;
                    nativeByteBuffer4 = null;
                }
                try {
                    nativeByteBuffer4.writeInt32(24);
                    nativeByteBuffer4.writeInt64(j);
                    tLRPC$TL_messages_deleteScheduledMessages2.serializeToStream(nativeByteBuffer4);
                } catch (Exception e5) {
                    e3 = e5;
                    FileLog.e(e3);
                    j6 = getMessagesStorage().createPendingTask(nativeByteBuffer4);
                    tLRPC$TL_messages_deleteScheduledMessages = tLRPC$TL_messages_deleteScheduledMessages2;
                    getConnectionsManager().sendRequest(tLRPC$TL_messages_deleteScheduledMessages, new MessagesController$$ExternalSyntheticLambda274(this, j6));
                }
                j6 = getMessagesStorage().createPendingTask(nativeByteBuffer4);
                tLRPC$TL_messages_deleteScheduledMessages = tLRPC$TL_messages_deleteScheduledMessages2;
            }
            getConnectionsManager().sendRequest(tLRPC$TL_messages_deleteScheduledMessages, new MessagesController$$ExternalSyntheticLambda274(this, j6));
        } else if (j3 != 0) {
            if (tLObject != null) {
                tLRPC$TL_channels_deleteMessages = (TLRPC$TL_channels_deleteMessages) tLObject;
                j5 = j2;
            } else {
                TLRPC$TL_channels_deleteMessages tLRPC$TL_channels_deleteMessages2 = new TLRPC$TL_channels_deleteMessages();
                tLRPC$TL_channels_deleteMessages2.id = arrayList3;
                tLRPC$TL_channels_deleteMessages2.channel = getInputChannel(j3);
                try {
                    nativeByteBuffer3 = new NativeByteBuffer(tLRPC$TL_channels_deleteMessages2.getObjectSize() + 12);
                } catch (Exception e6) {
                    e2 = e6;
                    nativeByteBuffer3 = null;
                }
                try {
                    nativeByteBuffer3.writeInt32(24);
                    nativeByteBuffer3.writeInt64(j);
                    tLRPC$TL_channels_deleteMessages2.serializeToStream(nativeByteBuffer3);
                } catch (Exception e7) {
                    e2 = e7;
                    FileLog.e(e2);
                    j5 = getMessagesStorage().createPendingTask(nativeByteBuffer3);
                    tLRPC$TL_channels_deleteMessages = tLRPC$TL_channels_deleteMessages2;
                    getConnectionsManager().sendRequest(tLRPC$TL_channels_deleteMessages, new MessagesController$$ExternalSyntheticLambda293(this, j3, j5));
                }
                j5 = getMessagesStorage().createPendingTask(nativeByteBuffer3);
                tLRPC$TL_channels_deleteMessages = tLRPC$TL_channels_deleteMessages2;
            }
            getConnectionsManager().sendRequest(tLRPC$TL_channels_deleteMessages, new MessagesController$$ExternalSyntheticLambda293(this, j3, j5));
        } else {
            if (arrayList2 == null || tLRPC$EncryptedChat == null || arrayList2.isEmpty()) {
                nativeByteBuffer = null;
            } else {
                nativeByteBuffer = null;
                getSecretChatHelper().sendMessagesDeleteMessage(tLRPC$EncryptedChat, arrayList2, null);
            }
            if (tLObject instanceof TLRPC$TL_messages_deleteMessages) {
                tLRPC$TL_messages_deleteMessages = (TLRPC$TL_messages_deleteMessages) tLObject;
                j4 = j2;
            } else {
                TLRPC$TL_messages_deleteMessages tLRPC$TL_messages_deleteMessages2 = new TLRPC$TL_messages_deleteMessages();
                tLRPC$TL_messages_deleteMessages2.id = arrayList3;
                tLRPC$TL_messages_deleteMessages2.revoke = z;
                try {
                    nativeByteBuffer2 = new NativeByteBuffer(tLRPC$TL_messages_deleteMessages2.getObjectSize() + 12);
                } catch (Exception e8) {
                    e = e8;
                    nativeByteBuffer2 = nativeByteBuffer;
                }
                try {
                    nativeByteBuffer2.writeInt32(24);
                    nativeByteBuffer2.writeInt64(j);
                    tLRPC$TL_messages_deleteMessages2.serializeToStream(nativeByteBuffer2);
                } catch (Exception e9) {
                    e = e9;
                    FileLog.e(e);
                    j4 = getMessagesStorage().createPendingTask(nativeByteBuffer2);
                    tLRPC$TL_messages_deleteMessages = tLRPC$TL_messages_deleteMessages2;
                    getConnectionsManager().sendRequest(tLRPC$TL_messages_deleteMessages, new MessagesController$$ExternalSyntheticLambda277(this, j4));
                }
                j4 = getMessagesStorage().createPendingTask(nativeByteBuffer2);
                tLRPC$TL_messages_deleteMessages = tLRPC$TL_messages_deleteMessages2;
            }
            getConnectionsManager().sendRequest(tLRPC$TL_messages_deleteMessages, new MessagesController$$ExternalSyntheticLambda277(this, j4));
        }
    }

    public /* synthetic */ void lambda$deleteMessages$101(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            processUpdates((TLRPC$Updates) tLObject, false);
        }
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
    }

    public /* synthetic */ void lambda$deleteMessages$102(long j, long j2, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_messages_affectedMessages tLRPC$TL_messages_affectedMessages = (TLRPC$TL_messages_affectedMessages) tLObject;
            processNewChannelDifferenceParams(tLRPC$TL_messages_affectedMessages.pts, tLRPC$TL_messages_affectedMessages.pts_count, j);
        }
        if (j2 != 0) {
            getMessagesStorage().removePendingTask(j2);
        }
    }

    public /* synthetic */ void lambda$deleteMessages$103(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_messages_affectedMessages tLRPC$TL_messages_affectedMessages = (TLRPC$TL_messages_affectedMessages) tLObject;
            processNewDifferenceParams(-1, tLRPC$TL_messages_affectedMessages.pts, -1, tLRPC$TL_messages_affectedMessages.pts_count);
        }
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
    }

    public void unpinAllMessages(TLRPC$Chat tLRPC$Chat, TLRPC$User tLRPC$User) {
        if (tLRPC$Chat == null && tLRPC$User == null) {
            return;
        }
        TLRPC$TL_messages_unpinAllMessages tLRPC$TL_messages_unpinAllMessages = new TLRPC$TL_messages_unpinAllMessages();
        tLRPC$TL_messages_unpinAllMessages.peer = getInputPeer(tLRPC$Chat != null ? -tLRPC$Chat.id : tLRPC$User.id);
        getConnectionsManager().sendRequest(tLRPC$TL_messages_unpinAllMessages, new MessagesController$$ExternalSyntheticLambda320(this, tLRPC$Chat, tLRPC$User));
    }

    public /* synthetic */ void lambda$unpinAllMessages$104(TLRPC$Chat tLRPC$Chat, TLRPC$User tLRPC$User, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            TLRPC$TL_messages_affectedHistory tLRPC$TL_messages_affectedHistory = (TLRPC$TL_messages_affectedHistory) tLObject;
            if (ChatObject.isChannel(tLRPC$Chat)) {
                processNewChannelDifferenceParams(tLRPC$TL_messages_affectedHistory.pts, tLRPC$TL_messages_affectedHistory.pts_count, tLRPC$Chat.id);
            } else {
                processNewDifferenceParams(-1, tLRPC$TL_messages_affectedHistory.pts, -1, tLRPC$TL_messages_affectedHistory.pts_count);
            }
            new ArrayList();
            getMessagesStorage().updatePinnedMessages(tLRPC$Chat != null ? -tLRPC$Chat.id : tLRPC$User.id, null, false, 0, 0, false, null);
        }
    }

    public void pinMessage(TLRPC$Chat tLRPC$Chat, TLRPC$User tLRPC$User, int i, boolean z, boolean z2, boolean z3) {
        if (tLRPC$Chat == null && tLRPC$User == null) {
            return;
        }
        TLRPC$TL_messages_updatePinnedMessage tLRPC$TL_messages_updatePinnedMessage = new TLRPC$TL_messages_updatePinnedMessage();
        tLRPC$TL_messages_updatePinnedMessage.peer = getInputPeer(tLRPC$Chat != null ? -tLRPC$Chat.id : tLRPC$User.id);
        tLRPC$TL_messages_updatePinnedMessage.id = i;
        tLRPC$TL_messages_updatePinnedMessage.unpin = z;
        tLRPC$TL_messages_updatePinnedMessage.silent = !z3;
        tLRPC$TL_messages_updatePinnedMessage.pm_oneside = z2;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_updatePinnedMessage, new MessagesController$$ExternalSyntheticLambda271(this, i, tLRPC$Chat, tLRPC$User, z));
    }

    public /* synthetic */ void lambda$pinMessage$105(int i, TLRPC$Chat tLRPC$Chat, TLRPC$User tLRPC$User, boolean z, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            ArrayList<Integer> arrayList = new ArrayList<>();
            arrayList.add(Integer.valueOf(i));
            getMessagesStorage().updatePinnedMessages(tLRPC$Chat != null ? -tLRPC$Chat.id : tLRPC$User.id, arrayList, !z, -1, 0, false, null);
            processUpdates((TLRPC$Updates) tLObject, false);
        }
    }

    public void deleteUserChannelHistory(TLRPC$Chat tLRPC$Chat, TLRPC$User tLRPC$User, TLRPC$Chat tLRPC$Chat2, int i) {
        long j;
        if (tLRPC$User != null) {
            j = tLRPC$User.id;
        } else {
            j = tLRPC$Chat2 != null ? tLRPC$Chat2.id : 0L;
        }
        if (i == 0) {
            getMessagesStorage().deleteUserChatHistory(-tLRPC$Chat.id, j);
        }
        TLRPC$TL_channels_deleteParticipantHistory tLRPC$TL_channels_deleteParticipantHistory = new TLRPC$TL_channels_deleteParticipantHistory();
        tLRPC$TL_channels_deleteParticipantHistory.channel = getInputChannel(tLRPC$Chat);
        tLRPC$TL_channels_deleteParticipantHistory.participant = tLRPC$User != null ? getInputPeer(tLRPC$User) : getInputPeer(tLRPC$Chat2);
        getConnectionsManager().sendRequest(tLRPC$TL_channels_deleteParticipantHistory, new MessagesController$$ExternalSyntheticLambda321(this, tLRPC$Chat, tLRPC$User, tLRPC$Chat2));
    }

    public /* synthetic */ void lambda$deleteUserChannelHistory$106(TLRPC$Chat tLRPC$Chat, TLRPC$User tLRPC$User, TLRPC$Chat tLRPC$Chat2, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_messages_affectedHistory tLRPC$TL_messages_affectedHistory = (TLRPC$TL_messages_affectedHistory) tLObject;
            int i = tLRPC$TL_messages_affectedHistory.offset;
            if (i > 0) {
                deleteUserChannelHistory(tLRPC$Chat, tLRPC$User, tLRPC$Chat2, i);
            }
            processNewChannelDifferenceParams(tLRPC$TL_messages_affectedHistory.pts, tLRPC$TL_messages_affectedHistory.pts_count, tLRPC$Chat.id);
        }
    }

    public ArrayList<TLRPC$Dialog> getAllDialogs() {
        return this.allDialogs;
    }

    public void putDialogsEndReachedAfterRegistration() {
        this.dialogsEndReached.put(0, true);
        this.serverDialogsEndReached.put(0, true);
    }

    public boolean isDialogsEndReached(int i) {
        return this.dialogsEndReached.get(i);
    }

    public boolean isLoadingDialogs(int i) {
        return this.loadingDialogs.get(i);
    }

    public boolean isServerDialogsEndReached(int i) {
        return this.serverDialogsEndReached.get(i);
    }

    public boolean hasHiddenArchive() {
        return SharedConfig.archiveHidden && this.dialogs_dict.get(DialogObject.makeFolderDialogId(1)) != null;
    }

    public ArrayList<TLRPC$Dialog> getDialogs(int i) {
        ArrayList<TLRPC$Dialog> arrayList = this.dialogsByFolder.get(i);
        return arrayList == null ? new ArrayList<>() : arrayList;
    }

    public int getAllFoldersDialogsCount() {
        int i = 0;
        for (int i2 = 0; i2 < this.dialogsByFolder.size(); i2++) {
            SparseArray<ArrayList<TLRPC$Dialog>> sparseArray = this.dialogsByFolder;
            ArrayList<TLRPC$Dialog> arrayList = sparseArray.get(sparseArray.keyAt(i2));
            if (arrayList != null) {
                i += arrayList.size();
            }
        }
        return i;
    }

    public int getTotalDialogsCount() {
        ArrayList<TLRPC$Dialog> arrayList = this.dialogsByFolder.get(0);
        if (arrayList != null) {
            return 0 + arrayList.size();
        }
        return 0;
    }

    public void putAllNeededDraftDialogs() {
        LongSparseArray<SparseArray<TLRPC$DraftMessage>> drafts = getMediaDataController().getDrafts();
        int size = drafts.size();
        for (int i = 0; i < size; i++) {
            TLRPC$DraftMessage tLRPC$DraftMessage = drafts.valueAt(i).get(0);
            if (tLRPC$DraftMessage != null) {
                putDraftDialogIfNeed(drafts.keyAt(i), tLRPC$DraftMessage);
            }
        }
    }

    public void putDraftDialogIfNeed(long j, TLRPC$DraftMessage tLRPC$DraftMessage) {
        if (this.dialogs_dict.indexOfKey(j) < 0) {
            MediaDataController mediaDataController = getMediaDataController();
            int size = this.allDialogs.size();
            int i = 0;
            if (size > 0) {
                TLRPC$Dialog tLRPC$Dialog = this.allDialogs.get(size - 1);
                if (tLRPC$DraftMessage.date < DialogObject.getLastMessageOrDraftDate(tLRPC$Dialog, mediaDataController.getDraft(tLRPC$Dialog.id, 0))) {
                    return;
                }
            }
            TLRPC$TL_dialog tLRPC$TL_dialog = new TLRPC$TL_dialog();
            tLRPC$TL_dialog.id = j;
            tLRPC$TL_dialog.draft = tLRPC$DraftMessage;
            tLRPC$TL_dialog.folder_id = mediaDataController.getDraftFolderId(j);
            if (j < 0 && ChatObject.isChannel(getChat(Long.valueOf(-j)))) {
                i = 1;
            }
            tLRPC$TL_dialog.flags = i;
            this.dialogs_dict.put(j, tLRPC$TL_dialog);
            this.allDialogs.add(tLRPC$TL_dialog);
            sortDialogs(null);
        }
    }

    public void removeDraftDialogIfNeed(long j) {
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
        if (tLRPC$Dialog == null || tLRPC$Dialog.top_message != 0) {
            return;
        }
        this.dialogs_dict.remove(tLRPC$Dialog.id);
        this.allDialogs.remove(tLRPC$Dialog);
    }

    private void removeDialog(TLRPC$Dialog tLRPC$Dialog) {
        if (tLRPC$Dialog == null) {
            return;
        }
        long j = tLRPC$Dialog.id;
        if (this.dialogsServerOnly.remove(tLRPC$Dialog) && DialogObject.isChannel(tLRPC$Dialog)) {
            Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda64(this, j));
        }
        this.allDialogs.remove(tLRPC$Dialog);
        this.dialogsMyChannels.remove(tLRPC$Dialog);
        this.dialogsMyGroups.remove(tLRPC$Dialog);
        this.dialogsCanAddUsers.remove(tLRPC$Dialog);
        this.dialogsChannelsOnly.remove(tLRPC$Dialog);
        this.dialogsGroupsOnly.remove(tLRPC$Dialog);
        this.dialogsUsersOnly.remove(tLRPC$Dialog);
        this.dialogsForBlock.remove(tLRPC$Dialog);
        this.dialogsForward.remove(tLRPC$Dialog);
        int i = 0;
        while (true) {
            DialogFilter[] dialogFilterArr = this.selectedDialogFilter;
            if (i >= dialogFilterArr.length) {
                break;
            }
            if (dialogFilterArr[i] != null) {
                dialogFilterArr[i].dialogs.remove(tLRPC$Dialog);
            }
            i++;
        }
        this.dialogs_dict.remove(j);
        ArrayList<TLRPC$Dialog> arrayList = this.dialogsByFolder.get(tLRPC$Dialog.folder_id);
        if (arrayList == null) {
            return;
        }
        arrayList.remove(tLRPC$Dialog);
    }

    public /* synthetic */ void lambda$removeDialog$107(long j) {
        long j2 = -j;
        this.channelsPts.delete(j2);
        this.shortPollChannels.delete(j2);
        this.needShortPollChannels.delete(j2);
        this.shortPollOnlines.delete(j2);
        this.needShortPollOnlines.delete(j2);
    }

    public void hidePromoDialog() {
        if (this.promoDialog == null) {
            return;
        }
        TLRPC$TL_help_hidePromoData tLRPC$TL_help_hidePromoData = new TLRPC$TL_help_hidePromoData();
        tLRPC$TL_help_hidePromoData.peer = getInputPeer(this.promoDialog.id);
        getConnectionsManager().sendRequest(tLRPC$TL_help_hidePromoData, MessagesController$$ExternalSyntheticLambda345.INSTANCE);
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda19(this));
        removePromoDialog();
    }

    public /* synthetic */ void lambda$hidePromoDialog$109() {
        this.promoDialogId = 0L;
        this.proxyDialogAddress = null;
        this.nextPromoInfoCheckTime = getConnectionsManager().getCurrentTime() + 3600;
        getGlobalMainSettings().edit().putLong("proxy_dialog", this.promoDialogId).remove("proxyDialogAddress").putInt("nextPromoInfoCheckTime", this.nextPromoInfoCheckTime).commit();
    }

    public void deleteDialog(long j, int i) {
        deleteDialog(j, i, false);
    }

    public void deleteDialog(long j, int i, boolean z) {
        deleteDialog(j, 1, i, 0, z, null, 0L);
    }

    public void setDialogHistoryTTL(long j, int i) {
        TLRPC$UserFull tLRPC$UserFull;
        TLRPC$TL_messages_setHistoryTTL tLRPC$TL_messages_setHistoryTTL = new TLRPC$TL_messages_setHistoryTTL();
        tLRPC$TL_messages_setHistoryTTL.peer = getInputPeer(j);
        tLRPC$TL_messages_setHistoryTTL.period = i;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_setHistoryTTL, new MessagesController$$ExternalSyntheticLambda253(this));
        Object obj = null;
        if (j > 0) {
            tLRPC$UserFull = getUserFull(j);
            if (tLRPC$UserFull == null) {
                return;
            }
            tLRPC$UserFull.ttl_period = i;
            tLRPC$UserFull.flags |= 16384;
        } else {
            TLRPC$ChatFull chatFull = getChatFull(-j);
            if (chatFull == null) {
                return;
            }
            chatFull.ttl_period = i;
            if (chatFull instanceof TLRPC$TL_channelFull) {
                chatFull.flags |= 16777216;
            } else {
                chatFull.flags |= 16384;
            }
            tLRPC$UserFull = null;
            obj = chatFull;
        }
        if (obj != null) {
            NotificationCenter notificationCenter = getNotificationCenter();
            int i2 = NotificationCenter.chatInfoDidLoad;
            Boolean bool = Boolean.FALSE;
            notificationCenter.postNotificationName(i2, obj, 0, bool, bool);
            return;
        }
        getNotificationCenter().postNotificationName(NotificationCenter.userInfoDidLoad, Long.valueOf(j), tLRPC$UserFull);
    }

    public /* synthetic */ void lambda$setDialogHistoryTTL$110(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            processUpdates((TLRPC$Updates) tLObject, false);
        }
    }

    public void setDialogsInTransaction(boolean z) {
        this.dialogsInTransaction = z;
        if (!z) {
            getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, Boolean.TRUE);
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:156:0x0388  */
    /* JADX WARN: Removed duplicated region for block: B:165:0x03c3  */
    /* JADX WARN: Type inference failed for: r2v31 */
    /* JADX WARN: Type inference failed for: r2v32 */
    /* JADX WARN: Type inference failed for: r2v6, types: [int, boolean] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void deleteDialog(long j, int i, int i2, int i3, boolean z, TLRPC$InputPeer tLRPC$InputPeer, long j2) {
        int i4;
        int i5;
        boolean z2;
        long j3;
        boolean z3;
        NativeByteBuffer nativeByteBuffer;
        Exception e;
        ?? r2;
        boolean z4;
        boolean z5;
        int i6;
        TLRPC$Chat chat;
        if (i2 == 2) {
            getMessagesStorage().deleteDialog(j, i2);
            return;
        }
        for (int i7 = 0; i7 < this.sendAsPeers.size(); i7++) {
            SendAsPeersInfo valueAt = this.sendAsPeers.valueAt(i7);
            if (valueAt.sendAsPeers != null) {
                int i8 = 0;
                while (true) {
                    if (i8 >= valueAt.sendAsPeers.chats.size()) {
                        break;
                    } else if (valueAt.sendAsPeers.chats.get(i8).id == (-j)) {
                        valueAt.sendAsPeers.chats.remove(i8);
                        break;
                    } else {
                        i8++;
                    }
                }
                for (int i9 = 0; i9 < valueAt.sendAsPeers.peers.size(); i9++) {
                    long j4 = -j;
                    if (valueAt.sendAsPeers.peers.get(i9).channel_id == j4 || valueAt.sendAsPeers.peers.get(i9).chat_id == j4) {
                        valueAt.sendAsPeers.peers.remove(i9);
                        break;
                    }
                }
            }
        }
        this.sendAsPeers.remove(j);
        if (i == 1 && i3 == 0) {
            getMessagesStorage().getDialogMaxMessageId(j, new MessagesController$$ExternalSyntheticLambda228(this, j, i2, z, tLRPC$InputPeer, j2));
            return;
        }
        int i10 = 3;
        if (i2 == 0 || i2 == 3) {
            getMediaDataController().uninstallShortcut(j);
        }
        if (i != 0) {
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("delete dialog with id " + j);
            }
            getMessagesStorage().deleteDialog(j, i2);
            TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
            if (i2 == 0 || i2 == 3) {
                r2 = 0;
                getNotificationCenter().postNotificationName(NotificationCenter.dialogDeleted, Long.valueOf(j));
                getNotificationsController().deleteNotificationChannel(j);
                JoinCallAlert.processDeletedChat(this.currentAccount, j);
            } else {
                r2 = 0;
            }
            if (i2 == 0) {
                getMediaDataController().cleanDraft(j, r2, r2);
            }
            if (tLRPC$Dialog != null) {
                i4 = i == 2 ? Math.max(Math.max(Math.max((int) r2, tLRPC$Dialog.top_message), tLRPC$Dialog.read_inbox_max_id), tLRPC$Dialog.read_outbox_max_id) : i3;
                if (i2 == 0 || i2 == 3) {
                    TLRPC$Dialog tLRPC$Dialog2 = this.promoDialog;
                    z5 = tLRPC$Dialog2 != null && tLRPC$Dialog2.id == j;
                    if (z5) {
                        this.isLeftPromoChannel = true;
                        long j5 = tLRPC$Dialog2.id;
                        if (j5 < 0 && (chat = getChat(Long.valueOf(-j5))) != null) {
                            chat.left = true;
                        }
                        sortDialogs(null);
                    } else {
                        removeDialog(tLRPC$Dialog);
                        int i11 = this.nextDialogsCacheOffset.get(tLRPC$Dialog.folder_id, 0);
                        if (i11 > 0) {
                            this.nextDialogsCacheOffset.put(tLRPC$Dialog.folder_id, i11 - 1);
                        }
                    }
                } else {
                    int i12 = r2 == true ? 1 : 0;
                    int i13 = r2 == true ? 1 : 0;
                    tLRPC$Dialog.unread_count = i12;
                    z5 = false;
                }
                if (!z5) {
                    MessageObject messageObject = this.dialogMessage.get(tLRPC$Dialog.id);
                    this.dialogMessage.remove(tLRPC$Dialog.id);
                    if (messageObject != null) {
                        i6 = messageObject.getId();
                        if (messageObject.messageOwner.peer_id.channel_id == 0) {
                            this.dialogMessagesByIds.remove(messageObject.getId());
                        }
                    } else {
                        i6 = tLRPC$Dialog.top_message;
                        messageObject = this.dialogMessagesByIds.get(i6);
                        if (messageObject != null && messageObject.messageOwner.peer_id.channel_id == 0) {
                            this.dialogMessagesByIds.remove(tLRPC$Dialog.top_message);
                        }
                    }
                    if (messageObject != null) {
                        long j6 = messageObject.messageOwner.random_id;
                        if (j6 != 0) {
                            this.dialogMessagesByRandomIds.remove(j6);
                        }
                    }
                    i5 = i2;
                    if (i5 == 1 && !DialogObject.isEncryptedDialog(j) && i6 > 0) {
                        TLRPC$TL_messageService tLRPC$TL_messageService = new TLRPC$TL_messageService();
                        tLRPC$TL_messageService.id = tLRPC$Dialog.top_message;
                        tLRPC$TL_messageService.out = getUserConfig().getClientUserId() == j;
                        TLRPC$TL_peerUser tLRPC$TL_peerUser = new TLRPC$TL_peerUser();
                        tLRPC$TL_messageService.from_id = tLRPC$TL_peerUser;
                        tLRPC$TL_peerUser.user_id = getUserConfig().getClientUserId();
                        tLRPC$TL_messageService.flags |= 256;
                        tLRPC$TL_messageService.action = new TLRPC$TL_messageActionHistoryClear();
                        tLRPC$TL_messageService.date = tLRPC$Dialog.last_message_date;
                        tLRPC$TL_messageService.dialog_id = j;
                        tLRPC$TL_messageService.peer_id = getPeer(j);
                        boolean contains = this.createdDialogIds.contains(Long.valueOf(tLRPC$TL_messageService.dialog_id));
                        MessageObject messageObject2 = new MessageObject(this.currentAccount, tLRPC$TL_messageService, contains, contains);
                        ArrayList<MessageObject> arrayList = new ArrayList<>();
                        arrayList.add(messageObject2);
                        ArrayList<TLRPC$Message> arrayList2 = new ArrayList<>();
                        arrayList2.add(tLRPC$TL_messageService);
                        updateInterfaceWithMessages(j, arrayList, false);
                        getMessagesStorage().putMessages(arrayList2, false, true, false, 0, false);
                    } else {
                        tLRPC$Dialog.top_message = 0;
                    }
                } else {
                    i5 = i2;
                }
                z4 = z5;
            } else {
                i5 = i2;
                i4 = i3;
                z4 = false;
            }
            if (i == 2) {
                Integer num = this.dialogs_read_inbox_max.get(Long.valueOf(j));
                if (num != null) {
                    i4 = Math.max(num.intValue(), i4);
                }
                Integer num2 = this.dialogs_read_outbox_max.get(Long.valueOf(j));
                if (num2 != null) {
                    i4 = Math.max(num2.intValue(), i4);
                }
            }
            if (!this.dialogsInTransaction) {
                if (z4) {
                    getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, Boolean.TRUE);
                } else {
                    getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
                    getNotificationCenter().postNotificationName(NotificationCenter.removeAllMessagesFromDialog, Long.valueOf(j), Boolean.FALSE, null);
                }
            }
            getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda59(this, j));
            i10 = 3;
        } else {
            i5 = i2;
            i4 = i3;
        }
        if (i5 == i10) {
            return;
        }
        if (!DialogObject.isEncryptedDialog(j)) {
            TLRPC$InputPeer inputPeer = tLRPC$InputPeer == null ? getInputPeer(j) : tLRPC$InputPeer;
            if (inputPeer == null) {
                return;
            }
            boolean z6 = inputPeer instanceof TLRPC$TL_inputPeerChannel;
            int i14 = Integer.MAX_VALUE;
            if (!z6 || i5 != 0) {
                if (i4 <= 0 || i4 == Integer.MAX_VALUE) {
                    z3 = false;
                } else {
                    z3 = false;
                    this.deletedHistory.put(j, Math.max(this.deletedHistory.get(j, 0), i4));
                }
                if (j2 == 0) {
                    try {
                        nativeByteBuffer = new NativeByteBuffer(inputPeer.getObjectSize() + 28);
                        try {
                            nativeByteBuffer.writeInt32(13);
                            nativeByteBuffer.writeInt64(j);
                            nativeByteBuffer.writeBool(i != 0);
                            nativeByteBuffer.writeInt32(i5);
                            nativeByteBuffer.writeInt32(i4);
                            z2 = z;
                        } catch (Exception e2) {
                            e = e2;
                            z2 = z;
                        }
                    } catch (Exception e3) {
                        e = e3;
                        z2 = z;
                        nativeByteBuffer = null;
                    }
                    try {
                        nativeByteBuffer.writeBool(z2);
                        inputPeer.serializeToStream(nativeByteBuffer);
                    } catch (Exception e4) {
                        e = e4;
                        FileLog.e(e);
                        j3 = getMessagesStorage().createPendingTask(nativeByteBuffer);
                        if (!z6) {
                        }
                    }
                    j3 = getMessagesStorage().createPendingTask(nativeByteBuffer);
                    if (!z6) {
                        TLRPC$TL_messages_deleteHistory tLRPC$TL_messages_deleteHistory = new TLRPC$TL_messages_deleteHistory();
                        tLRPC$TL_messages_deleteHistory.peer = inputPeer;
                        if (i4 > 0) {
                            i14 = i4;
                        }
                        tLRPC$TL_messages_deleteHistory.max_id = i14;
                        if (i5 != 0) {
                            z3 = true;
                        }
                        tLRPC$TL_messages_deleteHistory.just_clear = z3;
                        tLRPC$TL_messages_deleteHistory.revoke = z2;
                        getConnectionsManager().sendRequest(tLRPC$TL_messages_deleteHistory, new MessagesController$$ExternalSyntheticLambda295(this, j3, j, i2, i4, z, inputPeer), 64);
                        return;
                    } else if (i5 == 0) {
                        if (j3 == 0) {
                            return;
                        }
                        getMessagesStorage().removePendingTask(j3);
                        return;
                    } else {
                        TLRPC$TL_channels_deleteHistory tLRPC$TL_channels_deleteHistory = new TLRPC$TL_channels_deleteHistory();
                        TLRPC$TL_inputChannel tLRPC$TL_inputChannel = new TLRPC$TL_inputChannel();
                        tLRPC$TL_channels_deleteHistory.channel = tLRPC$TL_inputChannel;
                        tLRPC$TL_channels_deleteHistory.for_everyone = z2;
                        tLRPC$TL_inputChannel.channel_id = inputPeer.channel_id;
                        tLRPC$TL_inputChannel.access_hash = inputPeer.access_hash;
                        if (i4 <= 0) {
                            i4 = Integer.MAX_VALUE;
                        }
                        tLRPC$TL_channels_deleteHistory.max_id = i4;
                        getConnectionsManager().sendRequest(tLRPC$TL_channels_deleteHistory, new MessagesController$$ExternalSyntheticLambda287(this, j3), 64);
                        return;
                    }
                }
                z2 = z;
            } else {
                z2 = z;
                z3 = false;
            }
            j3 = j2;
            if (!z6) {
            }
        } else {
            int i15 = i5;
            int encryptedChatId = DialogObject.getEncryptedChatId(j);
            if (i15 == 1) {
                getSecretChatHelper().sendClearHistoryMessage(getEncryptedChat(Integer.valueOf(encryptedChatId)), null);
            } else {
                getSecretChatHelper().declineSecretChat(encryptedChatId, z);
            }
        }
    }

    public /* synthetic */ void lambda$deleteDialog$111(long j, int i, boolean z, TLRPC$InputPeer tLRPC$InputPeer, long j2, int i2) {
        deleteDialog(j, 2, i, Math.max(0, i2), z, tLRPC$InputPeer, j2);
        checkIfFolderEmpty(1);
    }

    public /* synthetic */ void lambda$deleteDialog$112(long j) {
        getNotificationsController().removeNotificationsForDialog(j);
    }

    public /* synthetic */ void lambda$deleteDialog$113(long j) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda65(this, j));
    }

    public /* synthetic */ void lambda$deleteDialog$114(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
        if (tLObject != null) {
            processUpdates((TLRPC$Updates) tLObject, false);
        }
    }

    public /* synthetic */ void lambda$deleteDialog$115(long j, long j2, int i, int i2, boolean z, TLRPC$InputPeer tLRPC$InputPeer, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
        if (tLRPC$TL_error == null) {
            TLRPC$TL_messages_affectedHistory tLRPC$TL_messages_affectedHistory = (TLRPC$TL_messages_affectedHistory) tLObject;
            if (tLRPC$TL_messages_affectedHistory.offset > 0) {
                deleteDialog(j2, 0, i, i2, z, tLRPC$InputPeer, 0L);
            }
            processNewDifferenceParams(-1, tLRPC$TL_messages_affectedHistory.pts, -1, tLRPC$TL_messages_affectedHistory.pts_count);
            getMessagesStorage().onDeleteQueryComplete(j2);
        }
    }

    public void saveGif(Object obj, TLRPC$Document tLRPC$Document) {
        if (obj == null || !MessageObject.isGifDocument(tLRPC$Document)) {
            return;
        }
        TLRPC$TL_messages_saveGif tLRPC$TL_messages_saveGif = new TLRPC$TL_messages_saveGif();
        TLRPC$TL_inputDocument tLRPC$TL_inputDocument = new TLRPC$TL_inputDocument();
        tLRPC$TL_messages_saveGif.id = tLRPC$TL_inputDocument;
        tLRPC$TL_inputDocument.id = tLRPC$Document.id;
        tLRPC$TL_inputDocument.access_hash = tLRPC$Document.access_hash;
        byte[] bArr = tLRPC$Document.file_reference;
        tLRPC$TL_inputDocument.file_reference = bArr;
        if (bArr == null) {
            tLRPC$TL_inputDocument.file_reference = new byte[0];
        }
        tLRPC$TL_messages_saveGif.unsave = false;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_saveGif, new MessagesController$$ExternalSyntheticLambda313(this, obj, tLRPC$TL_messages_saveGif));
    }

    public /* synthetic */ void lambda$saveGif$116(Object obj, TLRPC$TL_messages_saveGif tLRPC$TL_messages_saveGif, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null || !FileRefController.isFileRefError(tLRPC$TL_error.text)) {
            return;
        }
        getFileRefController().requestReference(obj, tLRPC$TL_messages_saveGif);
    }

    public void saveRecentSticker(Object obj, TLRPC$Document tLRPC$Document, boolean z) {
        if (obj == null || tLRPC$Document == null) {
            return;
        }
        TLRPC$TL_messages_saveRecentSticker tLRPC$TL_messages_saveRecentSticker = new TLRPC$TL_messages_saveRecentSticker();
        TLRPC$TL_inputDocument tLRPC$TL_inputDocument = new TLRPC$TL_inputDocument();
        tLRPC$TL_messages_saveRecentSticker.id = tLRPC$TL_inputDocument;
        tLRPC$TL_inputDocument.id = tLRPC$Document.id;
        tLRPC$TL_inputDocument.access_hash = tLRPC$Document.access_hash;
        byte[] bArr = tLRPC$Document.file_reference;
        tLRPC$TL_inputDocument.file_reference = bArr;
        if (bArr == null) {
            tLRPC$TL_inputDocument.file_reference = new byte[0];
        }
        tLRPC$TL_messages_saveRecentSticker.unsave = false;
        tLRPC$TL_messages_saveRecentSticker.attached = z;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_saveRecentSticker, new MessagesController$$ExternalSyntheticLambda314(this, obj, tLRPC$TL_messages_saveRecentSticker));
    }

    public /* synthetic */ void lambda$saveRecentSticker$117(Object obj, TLRPC$TL_messages_saveRecentSticker tLRPC$TL_messages_saveRecentSticker, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null || !FileRefController.isFileRefError(tLRPC$TL_error.text)) {
            return;
        }
        getFileRefController().requestReference(obj, tLRPC$TL_messages_saveRecentSticker);
    }

    public void loadChannelParticipants(Long l) {
        if (this.loadingFullParticipants.contains(l) || this.loadedFullParticipants.contains(l)) {
            return;
        }
        this.loadingFullParticipants.add(l);
        TLRPC$TL_channels_getParticipants tLRPC$TL_channels_getParticipants = new TLRPC$TL_channels_getParticipants();
        tLRPC$TL_channels_getParticipants.channel = getInputChannel(l.longValue());
        tLRPC$TL_channels_getParticipants.filter = new TLRPC$TL_channelParticipantsRecent();
        tLRPC$TL_channels_getParticipants.offset = 0;
        tLRPC$TL_channels_getParticipants.limit = 32;
        getConnectionsManager().sendRequest(tLRPC$TL_channels_getParticipants, new MessagesController$$ExternalSyntheticLambda312(this, l));
    }

    public /* synthetic */ void lambda$loadChannelParticipants$119(Long l, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda164(this, tLRPC$TL_error, tLObject, l));
    }

    public /* synthetic */ void lambda$loadChannelParticipants$118(TLRPC$TL_error tLRPC$TL_error, TLObject tLObject, Long l) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_channels_channelParticipants tLRPC$TL_channels_channelParticipants = (TLRPC$TL_channels_channelParticipants) tLObject;
            putUsers(tLRPC$TL_channels_channelParticipants.users, false);
            putChats(tLRPC$TL_channels_channelParticipants.chats, false);
            getMessagesStorage().putUsersAndChats(tLRPC$TL_channels_channelParticipants.users, tLRPC$TL_channels_channelParticipants.chats, true, true);
            getMessagesStorage().updateChannelUsers(l.longValue(), tLRPC$TL_channels_channelParticipants.participants);
            this.loadedFullParticipants.add(l);
        }
        this.loadingFullParticipants.remove(l);
    }

    public void putChatFull(TLRPC$ChatFull tLRPC$ChatFull) {
        this.fullChats.put(tLRPC$ChatFull.id, tLRPC$ChatFull);
    }

    public void processChatInfo(long j, TLRPC$ChatFull tLRPC$ChatFull, ArrayList<TLRPC$User> arrayList, boolean z, boolean z2, boolean z3, ArrayList<Integer> arrayList2, HashMap<Integer, MessageObject> hashMap, int i, boolean z4) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda209(this, z, j, z3, z2, tLRPC$ChatFull, arrayList, arrayList2, hashMap, i, z4));
    }

    public /* synthetic */ void lambda$processChatInfo$120(boolean z, long j, boolean z2, boolean z3, TLRPC$ChatFull tLRPC$ChatFull, ArrayList arrayList, ArrayList arrayList2, HashMap hashMap, int i, boolean z4) {
        if (z && j > 0 && !z2) {
            loadFullChat(j, 0, z3);
        }
        if (tLRPC$ChatFull != null) {
            if (this.fullChats.get(j) == null) {
                this.fullChats.put(j, tLRPC$ChatFull);
            }
            putUsers(arrayList, z);
            if (tLRPC$ChatFull.stickerset != null) {
                getMediaDataController().getGroupStickerSetById(tLRPC$ChatFull.stickerset);
            }
            getNotificationCenter().postNotificationName(NotificationCenter.chatInfoDidLoad, tLRPC$ChatFull, 0, Boolean.valueOf(z2), Boolean.FALSE);
        }
        if (arrayList2 != null) {
            getNotificationCenter().postNotificationName(NotificationCenter.pinnedInfoDidLoad, Long.valueOf(-j), arrayList2, hashMap, Integer.valueOf(i), Boolean.valueOf(z4));
        }
    }

    public void loadUserInfo(TLRPC$User tLRPC$User, boolean z, int i) {
        loadUserInfo(tLRPC$User, z, i, 0);
    }

    public void loadUserInfo(TLRPC$User tLRPC$User, boolean z, int i, int i2) {
        getMessagesStorage().loadUserInfo(tLRPC$User, z, i, i2);
    }

    public void processUserInfo(TLRPC$User tLRPC$User, TLRPC$UserFull tLRPC$UserFull, boolean z, boolean z2, int i, ArrayList<Integer> arrayList, HashMap<Integer, MessageObject> hashMap, int i2, boolean z3) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda211(this, z, tLRPC$User, i, z2, tLRPC$UserFull, arrayList, hashMap, i2, z3));
    }

    public /* synthetic */ void lambda$processUserInfo$121(boolean z, TLRPC$User tLRPC$User, int i, boolean z2, TLRPC$UserFull tLRPC$UserFull, ArrayList arrayList, HashMap hashMap, int i2, boolean z3) {
        if (z) {
            loadFullUser(tLRPC$User, i, z2);
        }
        if (tLRPC$UserFull != null) {
            if (this.fullUsers.get(tLRPC$User.id) == null) {
                this.fullUsers.put(tLRPC$User.id, tLRPC$UserFull);
                int indexOfKey = this.blockePeers.indexOfKey(tLRPC$User.id);
                if (tLRPC$UserFull.blocked) {
                    if (indexOfKey < 0) {
                        this.blockePeers.put(tLRPC$User.id, 1);
                        getNotificationCenter().postNotificationName(NotificationCenter.blockedUsersDidLoad, new Object[0]);
                    }
                } else if (indexOfKey >= 0) {
                    this.blockePeers.removeAt(indexOfKey);
                    getNotificationCenter().postNotificationName(NotificationCenter.blockedUsersDidLoad, new Object[0]);
                }
            }
            getNotificationCenter().postNotificationName(NotificationCenter.userInfoDidLoad, Long.valueOf(tLRPC$User.id), tLRPC$UserFull);
        }
        if (arrayList != null) {
            getNotificationCenter().postNotificationName(NotificationCenter.pinnedInfoDidLoad, Long.valueOf(tLRPC$User.id), arrayList, hashMap, Integer.valueOf(i2), Boolean.valueOf(z3));
        }
    }

    public void updateTimerProc() {
        int i;
        int i2;
        ArrayList arrayList;
        int i3;
        long currentTimeMillis = System.currentTimeMillis();
        int i4 = 0;
        checkDeletingTask(false);
        checkReadTasks();
        if (getUserConfig().isClientActivated()) {
            if (!this.ignoreSetOnline && getConnectionsManager().getPauseTime() == 0 && ApplicationLoader.isScreenOn && !ApplicationLoader.mainInterfacePausedStageQueue) {
                if (ApplicationLoader.mainInterfacePausedStageQueueTime != 0 && Math.abs(ApplicationLoader.mainInterfacePausedStageQueueTime - System.currentTimeMillis()) > 1000 && this.statusSettingState != 1 && (this.lastStatusUpdateTime == 0 || Math.abs(System.currentTimeMillis() - this.lastStatusUpdateTime) >= 55000 || this.offlineSent)) {
                    this.statusSettingState = 1;
                    if (this.statusRequest != 0) {
                        getConnectionsManager().cancelRequest(this.statusRequest, true);
                    }
                    TLRPC$TL_account_updateStatus tLRPC$TL_account_updateStatus = new TLRPC$TL_account_updateStatus();
                    tLRPC$TL_account_updateStatus.offline = false;
                    this.statusRequest = getConnectionsManager().sendRequest(tLRPC$TL_account_updateStatus, new MessagesController$$ExternalSyntheticLambda250(this));
                }
            } else if (this.statusSettingState != 2 && !this.offlineSent && Math.abs(System.currentTimeMillis() - getConnectionsManager().getPauseTime()) >= 2000) {
                this.statusSettingState = 2;
                if (this.statusRequest != 0) {
                    getConnectionsManager().cancelRequest(this.statusRequest, true);
                }
                TLRPC$TL_account_updateStatus tLRPC$TL_account_updateStatus2 = new TLRPC$TL_account_updateStatus();
                tLRPC$TL_account_updateStatus2.offline = true;
                this.statusRequest = getConnectionsManager().sendRequest(tLRPC$TL_account_updateStatus2, new MessagesController$$ExternalSyntheticLambda252(this));
            }
            if (this.updatesQueueChannels.size() != 0) {
                for (int i5 = 0; i5 < this.updatesQueueChannels.size(); i5++) {
                    long keyAt = this.updatesQueueChannels.keyAt(i5);
                    if (Math.abs(currentTimeMillis - this.updatesStartWaitTimeChannels.valueAt(i5)) >= 1500) {
                        if (BuildVars.LOGS_ENABLED) {
                            FileLog.d("QUEUE CHANNEL " + keyAt + " UPDATES WAIT TIMEOUT - CHECK QUEUE");
                        }
                        processChannelsUpdatesQueue(keyAt, 0);
                    }
                }
            }
            for (int i6 = 0; i6 < 3; i6++) {
                if (getUpdatesStartTime(i6) != 0 && Math.abs(currentTimeMillis - getUpdatesStartTime(i6)) >= 1500) {
                    if (BuildVars.LOGS_ENABLED) {
                        FileLog.d(i6 + " QUEUE UPDATES WAIT TIMEOUT - CHECK QUEUE");
                    }
                    processUpdatesQueue(i6, 0);
                }
            }
        }
        int currentTime = getConnectionsManager().getCurrentTime();
        if (Math.abs(System.currentTimeMillis() - this.lastViewsCheckTime) >= 5000) {
            this.lastViewsCheckTime = System.currentTimeMillis();
            if (this.channelViewsToSend.size() != 0) {
                int i7 = 0;
                while (i7 < this.channelViewsToSend.size()) {
                    long keyAt2 = this.channelViewsToSend.keyAt(i7);
                    TLRPC$TL_messages_getMessagesViews tLRPC$TL_messages_getMessagesViews = new TLRPC$TL_messages_getMessagesViews();
                    tLRPC$TL_messages_getMessagesViews.peer = getInputPeer(keyAt2);
                    tLRPC$TL_messages_getMessagesViews.id = this.channelViewsToSend.valueAt(i7);
                    tLRPC$TL_messages_getMessagesViews.increment = i7 == 0;
                    getConnectionsManager().sendRequest(tLRPC$TL_messages_getMessagesViews, new MessagesController$$ExternalSyntheticLambda306(this, keyAt2, tLRPC$TL_messages_getMessagesViews));
                    i7++;
                }
                this.channelViewsToSend.clear();
            }
            if (this.pollsToCheckSize > 0) {
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda40(this, currentTime));
            }
        }
        if (!this.onlinePrivacy.isEmpty()) {
            ArrayList arrayList2 = null;
            for (Map.Entry<Long, Integer> entry : this.onlinePrivacy.entrySet()) {
                if (entry.getValue().intValue() < currentTime - 30) {
                    if (arrayList2 == null) {
                        arrayList2 = new ArrayList();
                    }
                    arrayList2.add(entry.getKey());
                }
            }
            if (arrayList2 != null) {
                Iterator it = arrayList2.iterator();
                while (it.hasNext()) {
                    this.onlinePrivacy.remove((Long) it.next());
                }
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda33(this));
            }
        }
        if (this.shortPollChannels.size() != 0) {
            int i8 = 0;
            while (i8 < this.shortPollChannels.size()) {
                long keyAt3 = this.shortPollChannels.keyAt(i8);
                if (this.shortPollChannels.valueAt(i8) < System.currentTimeMillis() / 1000) {
                    this.shortPollChannels.delete(keyAt3);
                    i8--;
                    if (this.needShortPollChannels.indexOfKey(keyAt3) >= 0) {
                        getChannelDifference(keyAt3);
                    }
                }
                i8++;
            }
        }
        if (this.shortPollOnlines.size() != 0) {
            long elapsedRealtime = SystemClock.elapsedRealtime() / 1000;
            int i9 = 0;
            while (i9 < this.shortPollOnlines.size()) {
                long keyAt4 = this.shortPollOnlines.keyAt(i9);
                if (this.shortPollOnlines.valueAt(i9) < elapsedRealtime) {
                    if (this.needShortPollChannels.indexOfKey(keyAt4) >= 0) {
                        this.shortPollOnlines.put(keyAt4, (int) (300 + elapsedRealtime));
                    } else {
                        this.shortPollOnlines.delete(keyAt4);
                        i9--;
                    }
                    TLRPC$TL_messages_getOnlines tLRPC$TL_messages_getOnlines = new TLRPC$TL_messages_getOnlines();
                    tLRPC$TL_messages_getOnlines.peer = getInputPeer(-keyAt4);
                    getConnectionsManager().sendRequest(tLRPC$TL_messages_getOnlines, new MessagesController$$ExternalSyntheticLambda284(this, keyAt4));
                }
                i9++;
            }
        }
        if (!this.printingUsers.isEmpty() || this.lastPrintingStringCount != this.printingUsers.size()) {
            ArrayList arrayList3 = new ArrayList(this.printingUsers.keySet());
            int i10 = 0;
            boolean z = false;
            while (i10 < arrayList3.size()) {
                Long l = (Long) arrayList3.get(i10);
                ConcurrentHashMap<Integer, ArrayList<PrintingUser>> concurrentHashMap = this.printingUsers.get(l);
                if (concurrentHashMap != null) {
                    ArrayList arrayList4 = new ArrayList(concurrentHashMap.keySet());
                    int i11 = 0;
                    while (i11 < arrayList4.size()) {
                        Integer num = (Integer) arrayList4.get(i11);
                        ArrayList<PrintingUser> arrayList5 = concurrentHashMap.get(num);
                        if (arrayList5 != null) {
                            while (i4 < arrayList5.size()) {
                                PrintingUser printingUser = arrayList5.get(i4);
                                Long l2 = l;
                                ArrayList arrayList6 = arrayList3;
                                int i12 = i10;
                                if (printingUser.lastTime + (printingUser.action instanceof TLRPC$TL_sendMessageGamePlayAction ? 30000 : 5900) < currentTimeMillis) {
                                    arrayList5.remove(printingUser);
                                    i4--;
                                    i3 = 1;
                                    z = true;
                                } else {
                                    i3 = 1;
                                }
                                i4 += i3;
                                l = l2;
                                arrayList3 = arrayList6;
                                i10 = i12;
                            }
                        }
                        ArrayList arrayList7 = arrayList3;
                        int i13 = i10;
                        Long l3 = l;
                        if (arrayList5 == null || arrayList5.isEmpty()) {
                            concurrentHashMap.remove(num);
                            arrayList4.remove(i11);
                            i11--;
                        }
                        i11++;
                        l = l3;
                        arrayList3 = arrayList7;
                        i10 = i13;
                        i4 = 0;
                    }
                }
                ArrayList arrayList8 = arrayList3;
                int i14 = i10;
                Long l4 = l;
                if (concurrentHashMap == null || concurrentHashMap.isEmpty()) {
                    this.printingUsers.remove(l4);
                    arrayList = arrayList8;
                    arrayList.remove(i14);
                    i2 = i14 - 1;
                } else {
                    arrayList = arrayList8;
                    i2 = i14;
                }
                i10 = i2 + 1;
                arrayList3 = arrayList;
                i4 = 0;
            }
            i = 1;
            updatePrintingStrings();
            if (z) {
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda34(this));
            }
        } else {
            i = 1;
        }
        if (Theme.selectedAutoNightType == i && Math.abs(currentTimeMillis - lastThemeCheckTime) >= 60) {
            AndroidUtilities.runOnUIThread(this.themeCheckRunnable);
            lastThemeCheckTime = currentTimeMillis;
        }
        if (getUserConfig().savedPasswordHash != null && Math.abs(currentTimeMillis - lastPasswordCheckTime) >= 60) {
            AndroidUtilities.runOnUIThread(this.passwordCheckRunnable);
            lastPasswordCheckTime = currentTimeMillis;
        }
        if (this.lastPushRegisterSendTime != 0 && Math.abs(SystemClock.elapsedRealtime() - this.lastPushRegisterSendTime) >= 10800000) {
            PushListenerController.sendRegistrationToServer(SharedConfig.pushType, SharedConfig.pushString);
        }
        getLocationController().update();
        lambda$checkPromoInfo$134(false);
        checkTosUpdate();
    }

    public /* synthetic */ void lambda$updateTimerProc$122(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            this.lastStatusUpdateTime = System.currentTimeMillis();
            this.offlineSent = false;
            this.statusSettingState = 0;
        } else {
            long j = this.lastStatusUpdateTime;
            if (j != 0) {
                this.lastStatusUpdateTime = j + 5000;
            }
        }
        this.statusRequest = 0;
    }

    public /* synthetic */ void lambda$updateTimerProc$123(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            this.offlineSent = true;
        } else {
            long j = this.lastStatusUpdateTime;
            if (j != 0) {
                this.lastStatusUpdateTime = j + 5000;
            }
        }
        this.statusRequest = 0;
    }

    public /* synthetic */ void lambda$updateTimerProc$125(long j, TLRPC$TL_messages_getMessagesViews tLRPC$TL_messages_getMessagesViews, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            TLRPC$TL_messages_messageViews tLRPC$TL_messages_messageViews = (TLRPC$TL_messages_messageViews) tLObject;
            LongSparseArray<SparseIntArray> longSparseArray = new LongSparseArray<>();
            LongSparseArray<SparseIntArray> longSparseArray2 = new LongSparseArray<>();
            LongSparseArray<SparseArray<TLRPC$MessageReplies>> longSparseArray3 = new LongSparseArray<>();
            SparseIntArray sparseIntArray = longSparseArray.get(j);
            SparseIntArray sparseIntArray2 = longSparseArray2.get(j);
            SparseArray<TLRPC$MessageReplies> sparseArray = longSparseArray3.get(j);
            for (int i = 0; i < tLRPC$TL_messages_getMessagesViews.id.size() && i < tLRPC$TL_messages_messageViews.views.size(); i++) {
                TLRPC$TL_messageViews tLRPC$TL_messageViews = tLRPC$TL_messages_messageViews.views.get(i);
                if ((1 & tLRPC$TL_messageViews.flags) != 0) {
                    if (sparseIntArray == null) {
                        sparseIntArray = new SparseIntArray();
                        longSparseArray.put(j, sparseIntArray);
                    }
                    sparseIntArray.put(tLRPC$TL_messages_getMessagesViews.id.get(i).intValue(), tLRPC$TL_messageViews.views);
                }
                if ((tLRPC$TL_messageViews.flags & 2) != 0) {
                    if (sparseIntArray2 == null) {
                        sparseIntArray2 = new SparseIntArray();
                        longSparseArray2.put(j, sparseIntArray2);
                    }
                    sparseIntArray2.put(tLRPC$TL_messages_getMessagesViews.id.get(i).intValue(), tLRPC$TL_messageViews.forwards);
                }
                if ((tLRPC$TL_messageViews.flags & 4) != 0) {
                    if (sparseArray == null) {
                        sparseArray = new SparseArray<>();
                        longSparseArray3.put(j, sparseArray);
                    }
                    sparseArray.put(tLRPC$TL_messages_getMessagesViews.id.get(i).intValue(), tLRPC$TL_messageViews.replies);
                }
            }
            getMessagesStorage().putUsersAndChats(tLRPC$TL_messages_messageViews.users, tLRPC$TL_messages_messageViews.chats, true, true);
            getMessagesStorage().putChannelViews(longSparseArray, longSparseArray2, longSparseArray3, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda175(this, tLRPC$TL_messages_messageViews, longSparseArray, longSparseArray2, longSparseArray3));
        }
    }

    public /* synthetic */ void lambda$updateTimerProc$124(TLRPC$TL_messages_messageViews tLRPC$TL_messages_messageViews, LongSparseArray longSparseArray, LongSparseArray longSparseArray2, LongSparseArray longSparseArray3) {
        putUsers(tLRPC$TL_messages_messageViews.users, false);
        putChats(tLRPC$TL_messages_messageViews.chats, false);
        getNotificationCenter().postNotificationName(NotificationCenter.didUpdateMessagesViews, longSparseArray, longSparseArray2, longSparseArray3, Boolean.FALSE);
    }

    /* JADX WARN: Removed duplicated region for block: B:23:0x0063  */
    /* JADX WARN: Removed duplicated region for block: B:27:0x0075  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$updateTimerProc$127(int i) {
        int i2;
        long elapsedRealtime = SystemClock.elapsedRealtime();
        int size = this.pollsToCheck.size();
        int i3 = Integer.MAX_VALUE;
        int i4 = 0;
        while (i4 < size) {
            SparseArray<MessageObject> valueAt = this.pollsToCheck.valueAt(i4);
            if (valueAt != null) {
                int size2 = valueAt.size();
                int i5 = 0;
                while (true) {
                    int i6 = 1000;
                    if (i5 >= size2) {
                        break;
                    }
                    MessageObject valueAt2 = valueAt.valueAt(i5);
                    TLRPC$Poll tLRPC$Poll = ((TLRPC$TL_messageMediaPoll) valueAt2.messageOwner.media).poll;
                    int i7 = tLRPC$Poll.close_date;
                    boolean z = i7 != 0 && !tLRPC$Poll.closed;
                    if (z) {
                        if (i7 > i) {
                            i3 = Math.min(i3, i7 - i);
                        } else {
                            i2 = size2;
                            int i8 = i3;
                            if (Math.abs(elapsedRealtime - valueAt2.pollLastCheckTime) >= i6) {
                                if (!valueAt2.pollVisibleOnScreen && !z) {
                                    valueAt.remove(valueAt2.getId());
                                    size2 = i2 - 1;
                                    i5--;
                                    i5++;
                                    i3 = i8;
                                }
                            } else {
                                valueAt2.pollLastCheckTime = elapsedRealtime;
                                TLRPC$TL_messages_getPollResults tLRPC$TL_messages_getPollResults = new TLRPC$TL_messages_getPollResults();
                                tLRPC$TL_messages_getPollResults.peer = getInputPeer(valueAt2.getDialogId());
                                tLRPC$TL_messages_getPollResults.msg_id = valueAt2.getId();
                                getConnectionsManager().sendRequest(tLRPC$TL_messages_getPollResults, new MessagesController$$ExternalSyntheticLambda336(this, z));
                            }
                            size2 = i2;
                            i5++;
                            i3 = i8;
                        }
                    }
                    i2 = size2;
                    i6 = 30000;
                    int i82 = i3;
                    if (Math.abs(elapsedRealtime - valueAt2.pollLastCheckTime) >= i6) {
                    }
                    size2 = i2;
                    i5++;
                    i3 = i82;
                }
                if (i3 < 5) {
                    this.lastViewsCheckTime = Math.min(this.lastViewsCheckTime, System.currentTimeMillis() - ((5 - i3) * 1000));
                }
                if (valueAt.size() == 0) {
                    LongSparseArray<SparseArray<MessageObject>> longSparseArray = this.pollsToCheck;
                    longSparseArray.remove(longSparseArray.keyAt(i4));
                    size--;
                    i4--;
                }
            }
            i4++;
        }
        this.pollsToCheckSize = this.pollsToCheck.size();
    }

    public /* synthetic */ void lambda$updateTimerProc$126(boolean z, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        TLRPC$Poll tLRPC$Poll;
        if (tLRPC$TL_error == null) {
            TLRPC$Updates tLRPC$Updates = (TLRPC$Updates) tLObject;
            if (z) {
                for (int i = 0; i < tLRPC$Updates.updates.size(); i++) {
                    TLRPC$Update tLRPC$Update = tLRPC$Updates.updates.get(i);
                    if ((tLRPC$Update instanceof TLRPC$TL_updateMessagePoll) && (tLRPC$Poll = ((TLRPC$TL_updateMessagePoll) tLRPC$Update).poll) != null && !tLRPC$Poll.closed) {
                        this.lastViewsCheckTime = System.currentTimeMillis() - 4000;
                    }
                }
            }
            processUpdates(tLRPC$Updates, false);
        }
    }

    public /* synthetic */ void lambda$updateTimerProc$128() {
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_STATUS));
    }

    public /* synthetic */ void lambda$updateTimerProc$130(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            TLRPC$TL_chatOnlines tLRPC$TL_chatOnlines = (TLRPC$TL_chatOnlines) tLObject;
            getMessagesStorage().updateChatOnlineCount(j, tLRPC$TL_chatOnlines.onlines);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda88(this, j, tLRPC$TL_chatOnlines));
        }
    }

    public /* synthetic */ void lambda$updateTimerProc$129(long j, TLRPC$TL_chatOnlines tLRPC$TL_chatOnlines) {
        getNotificationCenter().postNotificationName(NotificationCenter.chatOnlineCountDidLoad, Long.valueOf(j), Integer.valueOf(tLRPC$TL_chatOnlines.onlines));
    }

    public /* synthetic */ void lambda$updateTimerProc$131() {
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_USER_PRINT));
    }

    private void checkTosUpdate() {
        if (this.nextTosCheckTime > getConnectionsManager().getCurrentTime() || this.checkingTosUpdate || !getUserConfig().isClientActivated()) {
            return;
        }
        this.checkingTosUpdate = true;
        getConnectionsManager().sendRequest(new TLRPC$TL_help_getTermsOfServiceUpdate(), new MessagesController$$ExternalSyntheticLambda244(this));
    }

    public /* synthetic */ void lambda$checkTosUpdate$133(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        this.checkingTosUpdate = false;
        if (tLObject instanceof TLRPC$TL_help_termsOfServiceUpdateEmpty) {
            this.nextTosCheckTime = ((TLRPC$TL_help_termsOfServiceUpdateEmpty) tLObject).expires;
        } else if (tLObject instanceof TLRPC$TL_help_termsOfServiceUpdate) {
            TLRPC$TL_help_termsOfServiceUpdate tLRPC$TL_help_termsOfServiceUpdate = (TLRPC$TL_help_termsOfServiceUpdate) tLObject;
            this.nextTosCheckTime = tLRPC$TL_help_termsOfServiceUpdate.expires;
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda173(this, tLRPC$TL_help_termsOfServiceUpdate));
        } else {
            this.nextTosCheckTime = getConnectionsManager().getCurrentTime() + 3600;
        }
        this.notificationsPreferences.edit().putInt("nextTosCheckTime", this.nextTosCheckTime).commit();
    }

    public /* synthetic */ void lambda$checkTosUpdate$132(TLRPC$TL_help_termsOfServiceUpdate tLRPC$TL_help_termsOfServiceUpdate) {
        getNotificationCenter().postNotificationName(NotificationCenter.needShowAlert, 4, tLRPC$TL_help_termsOfServiceUpdate.terms_of_service);
    }

    public void checkPromoInfo(boolean z) {
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda206(this, z));
    }

    /* renamed from: checkPromoInfoInternal */
    public void lambda$checkPromoInfo$134(boolean z) {
        String str;
        boolean z2 = false;
        if (z && this.checkingPromoInfo) {
            this.checkingPromoInfo = false;
        }
        if ((z || this.nextPromoInfoCheckTime <= getConnectionsManager().getCurrentTime()) && !this.checkingPromoInfo) {
            if (this.checkingPromoInfoRequestId != 0) {
                getConnectionsManager().cancelRequest(this.checkingPromoInfoRequestId, true);
                this.checkingPromoInfoRequestId = 0;
            }
            SharedPreferences globalMainSettings = getGlobalMainSettings();
            globalMainSettings.getBoolean("proxy_enabled", false);
            String string = globalMainSettings.getString("proxy_ip", "");
            String string2 = globalMainSettings.getString("proxy_secret", "");
            if (this.promoDialogId != 0 && this.promoDialogType == PROMO_TYPE_PROXY && (str = this.proxyDialogAddress) != null) {
                if (!str.equals(string + string2)) {
                    z2 = true;
                }
            }
            int i = this.lastCheckPromoId + 1;
            this.lastCheckPromoId = i;
            this.checkingPromoInfo = true;
            this.checkingPromoInfoRequestId = getConnectionsManager().sendRequest(new TLRPC$TL_help_getPromoData(), new MessagesController$$ExternalSyntheticLambda270(this, i, string, string2));
            if (!z2) {
                return;
            }
            this.promoDialogId = 0L;
            this.proxyDialogAddress = null;
            this.nextPromoInfoCheckTime = getConnectionsManager().getCurrentTime() + 3600;
            getGlobalMainSettings().edit().putLong("proxy_dialog", this.promoDialogId).remove("proxyDialogAddress").putInt("nextPromoInfoCheckTime", this.nextPromoInfoCheckTime).commit();
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda14(this));
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:28:0x0065, code lost:
        r2 = false;
     */
    /* JADX WARN: Code restructure failed: missing block: B:41:0x0095, code lost:
        r2 = r0;
     */
    /* JADX WARN: Removed duplicated region for block: B:44:0x009d  */
    /* JADX WARN: Removed duplicated region for block: B:45:0x00a2  */
    /* JADX WARN: Removed duplicated region for block: B:51:0x00f3  */
    /* JADX WARN: Removed duplicated region for block: B:52:0x00f7  */
    /* JADX WARN: Removed duplicated region for block: B:55:0x0100  */
    /* JADX WARN: Removed duplicated region for block: B:56:0x0104  */
    /* JADX WARN: Removed duplicated region for block: B:59:0x0111  */
    /* JADX WARN: Removed duplicated region for block: B:63:0x0130  */
    /* JADX WARN: Removed duplicated region for block: B:69:? A[RETURN, SYNTHETIC] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$checkPromoInfoInternal$139(int i, String str, String str2, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        boolean z;
        boolean z2;
        long j;
        String str3;
        String str4;
        boolean z3;
        if (i != this.lastCheckPromoId) {
            return;
        }
        if (tLObject instanceof TLRPC$TL_help_promoDataEmpty) {
            this.nextPromoInfoCheckTime = ((TLRPC$TL_help_promoDataEmpty) tLObject).expires;
        } else if (tLObject instanceof TLRPC$TL_help_promoData) {
            TLRPC$TL_help_promoData tLRPC$TL_help_promoData = (TLRPC$TL_help_promoData) tLObject;
            TLRPC$Peer tLRPC$Peer = tLRPC$TL_help_promoData.peer;
            long j2 = tLRPC$Peer.user_id;
            if (j2 == 0) {
                long j3 = tLRPC$Peer.chat_id;
                if (j3 == 0) {
                    long j4 = -tLRPC$Peer.channel_id;
                    int i2 = 0;
                    while (true) {
                        if (i2 >= tLRPC$TL_help_promoData.chats.size()) {
                            break;
                        }
                        TLRPC$Chat tLRPC$Chat = tLRPC$TL_help_promoData.chats.get(i2);
                        if (tLRPC$Chat.id != tLRPC$TL_help_promoData.peer.channel_id) {
                            i2++;
                        } else if (tLRPC$Chat.kicked || tLRPC$Chat.restricted) {
                            j = j4;
                            z2 = true;
                        }
                    }
                } else {
                    long j5 = -j3;
                    int i3 = 0;
                    while (true) {
                        if (i3 >= tLRPC$TL_help_promoData.chats.size()) {
                            break;
                        }
                        TLRPC$Chat tLRPC$Chat2 = tLRPC$TL_help_promoData.chats.get(i3);
                        if (tLRPC$Chat2.id != tLRPC$TL_help_promoData.peer.chat_id) {
                            i3++;
                        } else if (tLRPC$Chat2.kicked || tLRPC$Chat2.restricted) {
                            z3 = true;
                        }
                    }
                    z2 = z3;
                    j = j5;
                }
                this.promoDialogId = j;
                if (!tLRPC$TL_help_promoData.proxy) {
                    this.promoDialogType = PROMO_TYPE_PROXY;
                } else if (!TextUtils.isEmpty(tLRPC$TL_help_promoData.psa_type)) {
                    this.promoDialogType = PROMO_TYPE_PSA;
                    this.promoPsaType = tLRPC$TL_help_promoData.psa_type;
                } else {
                    this.promoDialogType = PROMO_TYPE_OTHER;
                }
                this.proxyDialogAddress = str + str2;
                this.promoPsaMessage = tLRPC$TL_help_promoData.psa_message;
                this.nextPromoInfoCheckTime = tLRPC$TL_help_promoData.expires;
                SharedPreferences.Editor edit = getGlobalMainSettings().edit();
                edit.putLong("proxy_dialog", this.promoDialogId);
                edit.putString("proxyDialogAddress", this.proxyDialogAddress);
                edit.putInt("promo_dialog_type", this.promoDialogType);
                str3 = this.promoPsaMessage;
                if (str3 == null) {
                    edit.putString("promo_psa_message", str3);
                } else {
                    edit.remove("promo_psa_message");
                }
                str4 = this.promoPsaType;
                if (str4 == null) {
                    edit.putString("promo_psa_type", str4);
                } else {
                    edit.remove("promo_psa_type");
                }
                edit.putInt("nextPromoInfoCheckTime", this.nextPromoInfoCheckTime);
                edit.commit();
                if (!z2) {
                    AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda89(this, j, tLRPC$TL_help_promoData, i));
                }
                z = z2;
                if (!z) {
                    return;
                }
                this.promoDialogId = 0L;
                getGlobalMainSettings().edit().putLong("proxy_dialog", this.promoDialogId).remove("proxyDialogAddress").putInt("nextPromoInfoCheckTime", this.nextPromoInfoCheckTime).commit();
                this.checkingPromoInfoRequestId = 0;
                this.checkingPromoInfo = false;
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda14(this));
                return;
            }
            j = j2;
            z2 = false;
            this.promoDialogId = j;
            if (!tLRPC$TL_help_promoData.proxy) {
            }
            this.proxyDialogAddress = str + str2;
            this.promoPsaMessage = tLRPC$TL_help_promoData.psa_message;
            this.nextPromoInfoCheckTime = tLRPC$TL_help_promoData.expires;
            SharedPreferences.Editor edit2 = getGlobalMainSettings().edit();
            edit2.putLong("proxy_dialog", this.promoDialogId);
            edit2.putString("proxyDialogAddress", this.proxyDialogAddress);
            edit2.putInt("promo_dialog_type", this.promoDialogType);
            str3 = this.promoPsaMessage;
            if (str3 == null) {
            }
            str4 = this.promoPsaType;
            if (str4 == null) {
            }
            edit2.putInt("nextPromoInfoCheckTime", this.nextPromoInfoCheckTime);
            edit2.commit();
            if (!z2) {
            }
            z = z2;
            if (!z) {
            }
        } else {
            this.nextPromoInfoCheckTime = getConnectionsManager().getCurrentTime() + 3600;
        }
        z = true;
        if (!z) {
        }
    }

    public /* synthetic */ void lambda$checkPromoInfoInternal$138(long j, TLRPC$TL_help_promoData tLRPC$TL_help_promoData, int i) {
        TLRPC$Dialog tLRPC$Dialog = this.promoDialog;
        if (tLRPC$Dialog != null && j != tLRPC$Dialog.id) {
            removePromoDialog();
        }
        TLRPC$Dialog tLRPC$Dialog2 = this.dialogs_dict.get(j);
        this.promoDialog = tLRPC$Dialog2;
        if (tLRPC$Dialog2 != null) {
            this.checkingPromoInfo = false;
            sortDialogs(null);
            getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, Boolean.TRUE);
            return;
        }
        LongSparseArray longSparseArray = new LongSparseArray();
        LongSparseArray longSparseArray2 = new LongSparseArray();
        for (int i2 = 0; i2 < tLRPC$TL_help_promoData.users.size(); i2++) {
            TLRPC$User tLRPC$User = tLRPC$TL_help_promoData.users.get(i2);
            longSparseArray.put(tLRPC$User.id, tLRPC$User);
        }
        for (int i3 = 0; i3 < tLRPC$TL_help_promoData.chats.size(); i3++) {
            TLRPC$Chat tLRPC$Chat = tLRPC$TL_help_promoData.chats.get(i3);
            longSparseArray2.put(tLRPC$Chat.id, tLRPC$Chat);
        }
        TLRPC$TL_messages_getPeerDialogs tLRPC$TL_messages_getPeerDialogs = new TLRPC$TL_messages_getPeerDialogs();
        TLRPC$TL_inputDialogPeer tLRPC$TL_inputDialogPeer = new TLRPC$TL_inputDialogPeer();
        TLRPC$Peer tLRPC$Peer = tLRPC$TL_help_promoData.peer;
        if (tLRPC$Peer.user_id != 0) {
            TLRPC$TL_inputPeerUser tLRPC$TL_inputPeerUser = new TLRPC$TL_inputPeerUser();
            tLRPC$TL_inputDialogPeer.peer = tLRPC$TL_inputPeerUser;
            long j2 = tLRPC$TL_help_promoData.peer.user_id;
            tLRPC$TL_inputPeerUser.user_id = j2;
            TLRPC$User tLRPC$User2 = (TLRPC$User) longSparseArray.get(j2);
            if (tLRPC$User2 != null) {
                tLRPC$TL_inputDialogPeer.peer.access_hash = tLRPC$User2.access_hash;
            }
        } else if (tLRPC$Peer.chat_id != 0) {
            TLRPC$TL_inputPeerChat tLRPC$TL_inputPeerChat = new TLRPC$TL_inputPeerChat();
            tLRPC$TL_inputDialogPeer.peer = tLRPC$TL_inputPeerChat;
            long j3 = tLRPC$TL_help_promoData.peer.chat_id;
            tLRPC$TL_inputPeerChat.chat_id = j3;
            TLRPC$Chat tLRPC$Chat2 = (TLRPC$Chat) longSparseArray2.get(j3);
            if (tLRPC$Chat2 != null) {
                tLRPC$TL_inputDialogPeer.peer.access_hash = tLRPC$Chat2.access_hash;
            }
        } else {
            TLRPC$TL_inputPeerChannel tLRPC$TL_inputPeerChannel = new TLRPC$TL_inputPeerChannel();
            tLRPC$TL_inputDialogPeer.peer = tLRPC$TL_inputPeerChannel;
            long j4 = tLRPC$TL_help_promoData.peer.channel_id;
            tLRPC$TL_inputPeerChannel.channel_id = j4;
            TLRPC$Chat tLRPC$Chat3 = (TLRPC$Chat) longSparseArray2.get(j4);
            if (tLRPC$Chat3 != null) {
                tLRPC$TL_inputDialogPeer.peer.access_hash = tLRPC$Chat3.access_hash;
            }
        }
        tLRPC$TL_messages_getPeerDialogs.peers.add(tLRPC$TL_inputDialogPeer);
        this.checkingPromoInfoRequestId = getConnectionsManager().sendRequest(tLRPC$TL_messages_getPeerDialogs, new MessagesController$$ExternalSyntheticLambda272(this, i, tLRPC$TL_help_promoData, j));
    }

    public /* synthetic */ void lambda$checkPromoInfoInternal$137(int i, TLRPC$TL_help_promoData tLRPC$TL_help_promoData, long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (i != this.lastCheckPromoId) {
            return;
        }
        this.checkingPromoInfoRequestId = 0;
        TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs = (TLRPC$TL_messages_peerDialogs) tLObject;
        if (tLRPC$TL_messages_peerDialogs != null && !tLRPC$TL_messages_peerDialogs.dialogs.isEmpty()) {
            getMessagesStorage().putUsersAndChats(tLRPC$TL_help_promoData.users, tLRPC$TL_help_promoData.chats, true, true);
            TLRPC$TL_messages_dialogs tLRPC$TL_messages_dialogs = new TLRPC$TL_messages_dialogs();
            tLRPC$TL_messages_dialogs.chats = tLRPC$TL_messages_peerDialogs.chats;
            tLRPC$TL_messages_dialogs.users = tLRPC$TL_messages_peerDialogs.users;
            tLRPC$TL_messages_dialogs.dialogs = tLRPC$TL_messages_peerDialogs.dialogs;
            tLRPC$TL_messages_dialogs.messages = tLRPC$TL_messages_peerDialogs.messages;
            getMessagesStorage().putDialogs(tLRPC$TL_messages_dialogs, 2);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda172(this, tLRPC$TL_help_promoData, tLRPC$TL_messages_peerDialogs, j));
        } else {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda32(this));
        }
        this.checkingPromoInfo = false;
    }

    public /* synthetic */ void lambda$checkPromoInfoInternal$135(TLRPC$TL_help_promoData tLRPC$TL_help_promoData, TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs, long j) {
        Integer num = 0;
        putUsers(tLRPC$TL_help_promoData.users, false);
        putChats(tLRPC$TL_help_promoData.chats, false);
        putUsers(tLRPC$TL_messages_peerDialogs.users, false);
        putChats(tLRPC$TL_messages_peerDialogs.chats, false);
        TLRPC$Dialog tLRPC$Dialog = this.promoDialog;
        if (tLRPC$Dialog != null) {
            long j2 = tLRPC$Dialog.id;
            if (j2 < 0) {
                TLRPC$Chat chat = getChat(Long.valueOf(-j2));
                if (ChatObject.isNotInChat(chat) || chat.restricted) {
                    removeDialog(this.promoDialog);
                }
            } else {
                removeDialog(tLRPC$Dialog);
            }
        }
        TLRPC$Dialog tLRPC$Dialog2 = tLRPC$TL_messages_peerDialogs.dialogs.get(0);
        this.promoDialog = tLRPC$Dialog2;
        tLRPC$Dialog2.id = j;
        tLRPC$Dialog2.folder_id = 0;
        if (DialogObject.isChannel(tLRPC$Dialog2)) {
            LongSparseIntArray longSparseIntArray = this.channelsPts;
            TLRPC$Dialog tLRPC$Dialog3 = this.promoDialog;
            longSparseIntArray.put(-tLRPC$Dialog3.id, tLRPC$Dialog3.pts);
        }
        Integer num2 = this.dialogs_read_inbox_max.get(Long.valueOf(this.promoDialog.id));
        if (num2 == null) {
            num2 = num;
        }
        this.dialogs_read_inbox_max.put(Long.valueOf(this.promoDialog.id), Integer.valueOf(Math.max(num2.intValue(), this.promoDialog.read_inbox_max_id)));
        Integer num3 = this.dialogs_read_outbox_max.get(Long.valueOf(this.promoDialog.id));
        if (num3 != null) {
            num = num3;
        }
        this.dialogs_read_outbox_max.put(Long.valueOf(this.promoDialog.id), Integer.valueOf(Math.max(num.intValue(), this.promoDialog.read_outbox_max_id)));
        this.dialogs_dict.put(j, this.promoDialog);
        if (!tLRPC$TL_messages_peerDialogs.messages.isEmpty()) {
            LongSparseArray longSparseArray = new LongSparseArray();
            LongSparseArray longSparseArray2 = new LongSparseArray();
            for (int i = 0; i < tLRPC$TL_messages_peerDialogs.users.size(); i++) {
                TLRPC$User tLRPC$User = tLRPC$TL_messages_peerDialogs.users.get(i);
                longSparseArray.put(tLRPC$User.id, tLRPC$User);
            }
            for (int i2 = 0; i2 < tLRPC$TL_messages_peerDialogs.chats.size(); i2++) {
                TLRPC$Chat tLRPC$Chat = tLRPC$TL_messages_peerDialogs.chats.get(i2);
                longSparseArray2.put(tLRPC$Chat.id, tLRPC$Chat);
            }
            MessageObject messageObject = new MessageObject(this.currentAccount, tLRPC$TL_messages_peerDialogs.messages.get(0), (LongSparseArray<TLRPC$User>) longSparseArray, (LongSparseArray<TLRPC$Chat>) longSparseArray2, false, true);
            this.dialogMessage.put(j, messageObject);
            TLRPC$Dialog tLRPC$Dialog4 = this.promoDialog;
            if (tLRPC$Dialog4.last_message_date == 0) {
                tLRPC$Dialog4.last_message_date = messageObject.messageOwner.date;
            }
        }
        sortDialogs(null);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, Boolean.TRUE);
    }

    public /* synthetic */ void lambda$checkPromoInfoInternal$136() {
        TLRPC$Dialog tLRPC$Dialog = this.promoDialog;
        if (tLRPC$Dialog != null) {
            long j = tLRPC$Dialog.id;
            if (j < 0) {
                TLRPC$Chat chat = getChat(Long.valueOf(-j));
                if (ChatObject.isNotInChat(chat) || chat.restricted) {
                    removeDialog(this.promoDialog);
                }
            } else {
                removeDialog(tLRPC$Dialog);
            }
            this.promoDialog = null;
            sortDialogs(null);
            getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
        }
    }

    public void removePromoDialog() {
        TLRPC$Dialog tLRPC$Dialog = this.promoDialog;
        if (tLRPC$Dialog == null) {
            return;
        }
        long j = tLRPC$Dialog.id;
        if (j < 0) {
            TLRPC$Chat chat = getChat(Long.valueOf(-j));
            if (ChatObject.isNotInChat(chat) || chat.restricted) {
                removeDialog(this.promoDialog);
            }
        } else {
            removeDialog(tLRPC$Dialog);
        }
        this.promoDialog = null;
        sortDialogs(null);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    public boolean isPromoDialog(long j, boolean z) {
        TLRPC$Dialog tLRPC$Dialog = this.promoDialog;
        return tLRPC$Dialog != null && tLRPC$Dialog.id == j && (!z || this.isLeftPromoChannel);
    }

    private String getUserNameForTyping(TLRPC$User tLRPC$User) {
        if (tLRPC$User == null) {
            return "";
        }
        String str = tLRPC$User.first_name;
        if (str != null && str.length() > 0) {
            return tLRPC$User.first_name;
        }
        String str2 = tLRPC$User.last_name;
        return (str2 == null || str2.length() <= 0) ? "" : tLRPC$User.last_name;
    }

    private void updatePrintingStrings() {
        String str;
        int i;
        int i2;
        LongSparseArray longSparseArray = new LongSparseArray();
        LongSparseArray longSparseArray2 = new LongSparseArray();
        for (Map.Entry<Long, ConcurrentHashMap<Integer, ArrayList<PrintingUser>>> entry : this.printingUsers.entrySet()) {
            Long key = entry.getKey();
            boolean isEncryptedDialog = DialogObject.isEncryptedDialog(key.longValue());
            for (Map.Entry<Integer, ArrayList<PrintingUser>> entry2 : entry.getValue().entrySet()) {
                Integer key2 = entry2.getKey();
                ArrayList<PrintingUser> value = entry2.getValue();
                SparseArray sparseArray = new SparseArray();
                SparseArray sparseArray2 = new SparseArray();
                longSparseArray.put(key.longValue(), sparseArray);
                longSparseArray2.put(key.longValue(), sparseArray2);
                String str2 = "IsTypingGroup";
                if (key.longValue() > 0 || isEncryptedDialog || value.size() == 1) {
                    PrintingUser printingUser = value.get(0);
                    TLRPC$User user = getUser(Long.valueOf(printingUser.userId));
                    if (user != null) {
                        TLRPC$SendMessageAction tLRPC$SendMessageAction = printingUser.action;
                        if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageRecordAudioAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsRecordingAudio", 2131626345, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("RecordingAudio", 2131627935));
                            }
                            sparseArray2.put(key2.intValue(), 1);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageRecordRoundAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsRecordingRound", 2131626346, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("RecordingRound", 2131627936));
                            }
                            sparseArray2.put(key2.intValue(), 4);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageUploadRoundAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsSendingVideo", 2131626354, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("SendingVideoStatus", 2131628283));
                            }
                            sparseArray2.put(key2.intValue(), 4);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageUploadAudioAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsSendingAudio", 2131626350, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("SendingAudio", 2131628276));
                            }
                            sparseArray2.put(key2.intValue(), 2);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageUploadVideoAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsSendingVideo", 2131626354, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("SendingVideoStatus", 2131628283));
                            }
                            sparseArray2.put(key2.intValue(), 2);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageRecordVideoAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsRecordingVideo", 2131626347, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("RecordingVideoStatus", 2131627937));
                            }
                            sparseArray2.put(key2.intValue(), 2);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageUploadDocumentAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsSendingFile", 2131626351, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("SendingFile", 2131628277));
                            }
                            sparseArray2.put(key2.intValue(), 2);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageUploadPhotoAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsSendingPhoto", 2131626353, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("SendingPhoto", 2131628280));
                            }
                            sparseArray2.put(key2.intValue(), 2);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageGamePlayAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsSendingGame", 2131626352, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("SendingGame", 2131628278));
                            }
                            sparseArray2.put(key2.intValue(), 3);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageGeoLocationAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsSelectingLocation", 2131626349, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("SelectingLocation", 2131628237));
                            }
                            sparseArray2.put(key2.intValue(), 0);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageChooseContactAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsSelectingContact", 2131626348, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("SelectingContact", 2131628236));
                            }
                            sparseArray2.put(key2.intValue(), 0);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageEmojiInteractionSeen) {
                            String str3 = ((TLRPC$TL_sendMessageEmojiInteractionSeen) tLRPC$SendMessageAction).emoticon;
                            sparseArray.put(key2.intValue(), (key.longValue() >= 0 || isEncryptedDialog) ? LocaleController.formatString("EnjoyngAnimations", 2131625681, str3) : LocaleController.formatString("IsEnjoyngAnimations", 2131626344, getUserNameForTyping(user), str3));
                            sparseArray2.put(key2.intValue(), 5);
                        } else if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageChooseStickerAction) {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString("IsChoosingSticker", 2131626343, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("ChoosingSticker", 2131625142));
                            }
                            sparseArray2.put(key2.intValue(), 5);
                        } else {
                            if (key.longValue() < 0 && !isEncryptedDialog) {
                                sparseArray.put(key2.intValue(), LocaleController.formatString(str2, 2131626356, getUserNameForTyping(user)));
                            } else {
                                sparseArray.put(key2.intValue(), LocaleController.getString("Typing", 2131628787));
                            }
                            sparseArray2.put(key2.intValue(), 0);
                        }
                    }
                } else {
                    StringBuilder sb = new StringBuilder();
                    Iterator<PrintingUser> it = value.iterator();
                    int i3 = 0;
                    while (true) {
                        if (!it.hasNext()) {
                            str = str2;
                            i = i3;
                            break;
                        }
                        str = str2;
                        TLRPC$User user2 = getUser(Long.valueOf(it.next().userId));
                        if (user2 != null) {
                            if (sb.length() != 0) {
                                sb.append(", ");
                            }
                            sb.append(getUserNameForTyping(user2));
                            i3++;
                        }
                        i = i3;
                        if (i == 2) {
                            break;
                        }
                        i3 = i;
                        str2 = str;
                    }
                    if (sb.length() != 0) {
                        if (i == 1) {
                            sparseArray.put(key2.intValue(), LocaleController.formatString(str, 2131626356, sb.toString()));
                        } else if (value.size() > 2) {
                            try {
                                sparseArray.put(key2.intValue(), String.format(LocaleController.getPluralString("AndMoreTypingGroup", value.size() - 2), sb.toString(), Integer.valueOf(value.size() - 2)));
                            } catch (Exception unused) {
                                sparseArray.put(key2.intValue(), "LOC_ERR: AndMoreTypingGroup");
                            }
                        } else {
                            i2 = 0;
                            sparseArray.put(key2.intValue(), LocaleController.formatString("AreTypingGroup", 2131624431, sb.toString()));
                            sparseArray2.put(key2.intValue(), Integer.valueOf(i2));
                        }
                        i2 = 0;
                        sparseArray2.put(key2.intValue(), Integer.valueOf(i2));
                    }
                }
            }
        }
        this.lastPrintingStringCount = longSparseArray.size();
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda100(this, longSparseArray, longSparseArray2));
    }

    public /* synthetic */ void lambda$updatePrintingStrings$140(LongSparseArray longSparseArray, LongSparseArray longSparseArray2) {
        this.printingStrings = longSparseArray;
        this.printingStringsTypes = longSparseArray2;
    }

    /* renamed from: cancelTyping */
    public void lambda$sendTyping$143(int i, long j, int i2) {
        LongSparseArray<SparseArray<Boolean>> longSparseArray;
        SparseArray<Boolean> sparseArray;
        if (i >= 0) {
            LongSparseArray<SparseArray<Boolean>>[] longSparseArrayArr = this.sendingTypings;
            if (i >= longSparseArrayArr.length || longSparseArrayArr[i] == null || (sparseArray = (longSparseArray = longSparseArrayArr[i]).get(j)) == null) {
                return;
            }
            sparseArray.remove(i2);
            if (sparseArray.size() != 0) {
                return;
            }
            longSparseArray.remove(j);
        }
    }

    public boolean sendTyping(long j, int i, int i2, int i3) {
        return sendTyping(j, i, i2, null, i3);
    }

    public boolean sendTyping(long j, int i, int i2, String str, int i3) {
        TLRPC$Chat chat;
        if (i2 < 0 || i2 >= this.sendingTypings.length || j == 0) {
            return false;
        }
        if (j < 0) {
            long j2 = -j;
            if (ChatObject.getSendAsPeerId(getChat(Long.valueOf(j2)), getChatFull(j2)) != UserConfig.getInstance(UserConfig.selectedAccount).getClientUserId()) {
                return false;
            }
        } else {
            TLRPC$User user = getUser(Long.valueOf(j));
            if (user != null) {
                if (user.id == getUserConfig().getClientUserId()) {
                    return false;
                }
                TLRPC$UserStatus tLRPC$UserStatus = user.status;
                if (tLRPC$UserStatus != null && tLRPC$UserStatus.expires != -100 && !this.onlinePrivacy.containsKey(Long.valueOf(user.id))) {
                    if (user.status.expires <= getConnectionsManager().getCurrentTime() - 30) {
                        return false;
                    }
                }
            }
        }
        LongSparseArray<SparseArray<Boolean>>[] longSparseArrayArr = this.sendingTypings;
        LongSparseArray<SparseArray<Boolean>> longSparseArray = longSparseArrayArr[i2];
        if (longSparseArray == null) {
            longSparseArray = new LongSparseArray<>();
            longSparseArrayArr[i2] = longSparseArray;
        }
        SparseArray<Boolean> sparseArray = longSparseArray.get(j);
        if (sparseArray == null) {
            sparseArray = new SparseArray<>();
            longSparseArray.put(j, sparseArray);
        }
        if (sparseArray.get(i) != null) {
            return false;
        }
        if (!DialogObject.isEncryptedDialog(j)) {
            TLRPC$TL_messages_setTyping tLRPC$TL_messages_setTyping = new TLRPC$TL_messages_setTyping();
            if (i != 0) {
                tLRPC$TL_messages_setTyping.top_msg_id = i;
                tLRPC$TL_messages_setTyping.flags |= 1;
            }
            TLRPC$InputPeer inputPeer = getInputPeer(j);
            tLRPC$TL_messages_setTyping.peer = inputPeer;
            if (((inputPeer instanceof TLRPC$TL_inputPeerChannel) && ((chat = getChat(Long.valueOf(inputPeer.channel_id))) == null || !chat.megagroup)) || tLRPC$TL_messages_setTyping.peer == null) {
                return false;
            }
            if (i2 == 0) {
                tLRPC$TL_messages_setTyping.action = new TLRPC$TL_sendMessageTypingAction();
            } else if (i2 == 1) {
                tLRPC$TL_messages_setTyping.action = new TLRPC$TL_sendMessageRecordAudioAction();
            } else if (i2 == 2) {
                tLRPC$TL_messages_setTyping.action = new TLRPC$TL_sendMessageCancelAction();
            } else if (i2 == 3) {
                tLRPC$TL_messages_setTyping.action = new TLRPC$TL_sendMessageUploadDocumentAction();
            } else if (i2 == 4) {
                tLRPC$TL_messages_setTyping.action = new TLRPC$TL_sendMessageUploadPhotoAction();
            } else if (i2 == 5) {
                tLRPC$TL_messages_setTyping.action = new TLRPC$TL_sendMessageUploadVideoAction();
            } else if (i2 == 6) {
                tLRPC$TL_messages_setTyping.action = new TLRPC$TL_sendMessageGamePlayAction();
            } else if (i2 == 7) {
                tLRPC$TL_messages_setTyping.action = new TLRPC$TL_sendMessageRecordRoundAction();
            } else if (i2 == 8) {
                tLRPC$TL_messages_setTyping.action = new TLRPC$TL_sendMessageUploadRoundAction();
            } else if (i2 == 9) {
                tLRPC$TL_messages_setTyping.action = new TLRPC$TL_sendMessageUploadAudioAction();
            } else if (i2 == 10) {
                tLRPC$TL_messages_setTyping.action = new TLRPC$TL_sendMessageChooseStickerAction();
            } else if (i2 == 11) {
                TLRPC$TL_sendMessageEmojiInteractionSeen tLRPC$TL_sendMessageEmojiInteractionSeen = new TLRPC$TL_sendMessageEmojiInteractionSeen();
                tLRPC$TL_sendMessageEmojiInteractionSeen.emoticon = str;
                tLRPC$TL_messages_setTyping.action = tLRPC$TL_sendMessageEmojiInteractionSeen;
            }
            sparseArray.put(i, Boolean.TRUE);
            int sendRequest = getConnectionsManager().sendRequest(tLRPC$TL_messages_setTyping, new MessagesController$$ExternalSyntheticLambda267(this, i2, j, i), 2);
            if (i3 != 0) {
                getConnectionsManager().bindRequestToGuid(sendRequest, i3);
            }
        } else if (i2 != 0) {
            return false;
        } else {
            TLRPC$EncryptedChat encryptedChat = getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(j)));
            byte[] bArr = encryptedChat.auth_key;
            if (bArr != null && bArr.length > 1 && (encryptedChat instanceof TLRPC$TL_encryptedChat)) {
                TLRPC$TL_messages_setEncryptedTyping tLRPC$TL_messages_setEncryptedTyping = new TLRPC$TL_messages_setEncryptedTyping();
                TLRPC$TL_inputEncryptedChat tLRPC$TL_inputEncryptedChat = new TLRPC$TL_inputEncryptedChat();
                tLRPC$TL_messages_setEncryptedTyping.peer = tLRPC$TL_inputEncryptedChat;
                tLRPC$TL_inputEncryptedChat.chat_id = encryptedChat.id;
                tLRPC$TL_inputEncryptedChat.access_hash = encryptedChat.access_hash;
                tLRPC$TL_messages_setEncryptedTyping.typing = true;
                sparseArray.put(i, Boolean.TRUE);
                int sendRequest2 = getConnectionsManager().sendRequest(tLRPC$TL_messages_setEncryptedTyping, new MessagesController$$ExternalSyntheticLambda268(this, i2, j, i), 2);
                if (i3 != 0) {
                    getConnectionsManager().bindRequestToGuid(sendRequest2, i3);
                }
            }
        }
        return true;
    }

    public /* synthetic */ void lambda$sendTyping$142(int i, long j, int i2, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda46(this, i, j, i2));
    }

    public /* synthetic */ void lambda$sendTyping$144(int i, long j, int i2, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda45(this, i, j, i2));
    }

    public void removeDeletedMessagesFromArray(long j, ArrayList<TLRPC$Message> arrayList) {
        int i = 0;
        int i2 = this.deletedHistory.get(j, 0);
        if (i2 == 0) {
            return;
        }
        int size = arrayList.size();
        while (i < size) {
            if (arrayList.get(i).id <= i2) {
                arrayList.remove(i);
                i--;
                size--;
            }
            i++;
        }
    }

    public void loadMessages(long j, long j2, boolean z, int i, int i2, int i3, boolean z2, int i4, int i5, int i6, int i7, int i8, int i9, int i10, int i11) {
        loadMessages(j, j2, z, i, i2, i3, z2, i4, i5, i6, i7, i8, i9, i11, i9 != 0 ? i10 : 0, 0, 0, false, 0);
    }

    public void loadMessages(long j, long j2, boolean z, int i, int i2, int i3, boolean z2, int i4, int i5, int i6, int i7, int i8, int i9, int i10, int i11, int i12, int i13, boolean z3, int i14) {
        loadMessagesInternal(j, j2, z, i, i2, i3, z2, i4, i5, i6, i7, i8, i9, i10, i11, i12, i13, z3, i14, true, true);
    }

    public void loadMessagesInternal(long j, long j2, boolean z, int i, int i2, int i3, boolean z2, int i4, int i5, int i6, int i7, int i8, int i9, int i10, int i11, int i12, int i13, boolean z3, int i14, boolean z4, boolean z5) {
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("load messages in chat " + j + " count " + i + " max_id " + i2 + " cache " + z2 + " mindate = " + i4 + " guid " + i5 + " load_type " + i6 + " last_message_id " + i7 + " mode " + i8 + " index " + i10 + " firstUnread " + i11 + " unread_count " + i12 + " last_date " + i13 + " queryFromServer " + z3);
        }
        if (i9 == 0 && i8 != 2 && (z2 || DialogObject.isEncryptedDialog(j))) {
            getMessagesStorage().getMessages(j, j2, z, i, i2, i3, i4, i5, i6, i8 == 1, i9, i10, z5);
        } else if (i9 != 0) {
            if (i8 != 0) {
                return;
            }
            TLRPC$TL_messages_getReplies tLRPC$TL_messages_getReplies = new TLRPC$TL_messages_getReplies();
            tLRPC$TL_messages_getReplies.peer = getInputPeer(j);
            tLRPC$TL_messages_getReplies.msg_id = i9;
            tLRPC$TL_messages_getReplies.offset_date = i3;
            if (i6 == 4) {
                tLRPC$TL_messages_getReplies.add_offset = (-i) + 5;
            } else if (i6 == 3) {
                tLRPC$TL_messages_getReplies.add_offset = (-i) / 2;
            } else if (i6 == 1) {
                tLRPC$TL_messages_getReplies.add_offset = (-i) - 1;
            } else if (i6 == 2 && i2 != 0) {
                tLRPC$TL_messages_getReplies.add_offset = (-i) + 10;
            } else if (j < 0 && i2 != 0 && ChatObject.isChannel(getChat(Long.valueOf(-j)))) {
                tLRPC$TL_messages_getReplies.add_offset = -1;
                tLRPC$TL_messages_getReplies.limit++;
            }
            tLRPC$TL_messages_getReplies.limit = i;
            tLRPC$TL_messages_getReplies.offset_id = i2;
            getConnectionsManager().bindRequestToGuid(getConnectionsManager().sendRequest(tLRPC$TL_messages_getReplies, new MessagesController$$ExternalSyntheticLambda264(this, i, i2, i3, i11, i6, j, j2, i5, i7, i12, i13, i9, i10, z3, i14, z5, tLRPC$TL_messages_getReplies)), i5);
        } else if (i8 == 2) {
        } else {
            if (i8 == 1) {
                TLRPC$TL_messages_getScheduledHistory tLRPC$TL_messages_getScheduledHistory = new TLRPC$TL_messages_getScheduledHistory();
                tLRPC$TL_messages_getScheduledHistory.peer = getInputPeer(j);
                tLRPC$TL_messages_getScheduledHistory.hash = i4;
                getConnectionsManager().bindRequestToGuid(getConnectionsManager().sendRequest(tLRPC$TL_messages_getScheduledHistory, new MessagesController$$ExternalSyntheticLambda265(this, i2, i3, j, j2, i, i5, i11, i7, i12, i13, i6, i8, i9, i10, z3, i14, z5)), i5);
            } else if (z4 && ((i6 == 3 || i6 == 2) && i7 == 0)) {
                TLRPC$TL_messages_getPeerDialogs tLRPC$TL_messages_getPeerDialogs = new TLRPC$TL_messages_getPeerDialogs();
                TLRPC$InputPeer inputPeer = getInputPeer(j);
                TLRPC$TL_inputDialogPeer tLRPC$TL_inputDialogPeer = new TLRPC$TL_inputDialogPeer();
                tLRPC$TL_inputDialogPeer.peer = inputPeer;
                tLRPC$TL_messages_getPeerDialogs.peers.add(tLRPC$TL_inputDialogPeer);
                getConnectionsManager().sendRequest(tLRPC$TL_messages_getPeerDialogs, new MessagesController$$ExternalSyntheticLambda296(this, j, j2, z, i, i2, i3, i4, i5, i6, i9, i10, i11, i13, z3, z5, tLRPC$TL_messages_getPeerDialogs));
            } else {
                TLRPC$TL_messages_getHistory tLRPC$TL_messages_getHistory = new TLRPC$TL_messages_getHistory();
                tLRPC$TL_messages_getHistory.peer = getInputPeer(j);
                if (i6 == 4) {
                    tLRPC$TL_messages_getHistory.add_offset = (-i) + 5;
                } else if (i6 == 3) {
                    tLRPC$TL_messages_getHistory.add_offset = (-i) / 2;
                } else if (i6 == 1) {
                    tLRPC$TL_messages_getHistory.add_offset = (-i) - 1;
                } else if (i6 == 2 && i2 != 0) {
                    tLRPC$TL_messages_getHistory.add_offset = (-i) + 6;
                } else if (j < 0 && i2 != 0) {
                    if (ChatObject.isChannel(getChat(Long.valueOf(-j)))) {
                        tLRPC$TL_messages_getHistory.add_offset = -1;
                        tLRPC$TL_messages_getHistory.limit++;
                    }
                    tLRPC$TL_messages_getHistory.limit = i;
                    tLRPC$TL_messages_getHistory.offset_id = i2;
                    tLRPC$TL_messages_getHistory.offset_date = i3;
                    getConnectionsManager().bindRequestToGuid(getConnectionsManager().sendRequest(tLRPC$TL_messages_getHistory, new MessagesController$$ExternalSyntheticLambda290(this, j, i, i2, i3, j2, i5, i11, i7, i12, i13, i6, i9, i10, z3, i14, z5, tLRPC$TL_messages_getHistory)), i5);
                }
                tLRPC$TL_messages_getHistory.limit = i;
                tLRPC$TL_messages_getHistory.offset_id = i2;
                tLRPC$TL_messages_getHistory.offset_date = i3;
                getConnectionsManager().bindRequestToGuid(getConnectionsManager().sendRequest(tLRPC$TL_messages_getHistory, new MessagesController$$ExternalSyntheticLambda290(this, j, i, i2, i3, j2, i5, i11, i7, i12, i13, i6, i9, i10, z3, i14, z5, tLRPC$TL_messages_getHistory)), i5);
            }
        }
    }

    public /* synthetic */ void lambda$loadMessagesInternal$146(int i, int i2, int i3, int i4, int i5, long j, long j2, int i6, int i7, int i8, int i9, int i10, int i11, boolean z, int i12, boolean z2, TLRPC$TL_messages_getReplies tLRPC$TL_messages_getReplies, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        int i13;
        int i14;
        ArrayList<TLRPC$Message> arrayList;
        if (tLObject != null) {
            TLRPC$messages_Messages tLRPC$messages_Messages = (TLRPC$messages_Messages) tLObject;
            if (tLRPC$messages_Messages.messages.size() > i) {
                tLRPC$messages_Messages.messages.remove(0);
            }
            if (!tLRPC$messages_Messages.messages.isEmpty()) {
                if (i3 != 0) {
                    int i15 = tLRPC$messages_Messages.messages.get(arrayList.size() - 1).id;
                    int size = tLRPC$messages_Messages.messages.size() - 1;
                    while (true) {
                        if (size < 0) {
                            break;
                        }
                        TLRPC$Message tLRPC$Message = tLRPC$messages_Messages.messages.get(size);
                        if (tLRPC$Message.date > i3) {
                            i15 = tLRPC$Message.id;
                            break;
                        }
                        size--;
                    }
                    i14 = i15;
                    i13 = 0;
                    processLoadedMessages(tLRPC$messages_Messages, tLRPC$messages_Messages.messages.size(), j, j2, i, i14, i3, false, i6, i13, i7, i8, i9, i5, false, 0, i10, i11, z, i12, z2);
                    return;
                } else if (i4 != 0) {
                    if (i5 == 2 && i2 > 0) {
                        for (int size2 = tLRPC$messages_Messages.messages.size() - 1; size2 >= 0; size2--) {
                            TLRPC$Message tLRPC$Message2 = tLRPC$messages_Messages.messages.get(size2);
                            int i16 = tLRPC$Message2.id;
                            if (i16 > i4 && !tLRPC$Message2.out) {
                                i14 = i2;
                                i13 = i16;
                                break;
                            }
                        }
                    }
                    i14 = i2;
                    i13 = 0;
                    processLoadedMessages(tLRPC$messages_Messages, tLRPC$messages_Messages.messages.size(), j, j2, i, i14, i3, false, i6, i13, i7, i8, i9, i5, false, 0, i10, i11, z, i12, z2);
                    return;
                }
            }
            i14 = i2;
            i13 = 0;
            processLoadedMessages(tLRPC$messages_Messages, tLRPC$messages_Messages.messages.size(), j, j2, i, i14, i3, false, i6, i13, i7, i8, i9, i5, false, 0, i10, i11, z, i12, z2);
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda54(this, i6, tLRPC$TL_messages_getReplies, tLRPC$TL_error));
    }

    public /* synthetic */ void lambda$loadMessagesInternal$145(int i, TLRPC$TL_messages_getReplies tLRPC$TL_messages_getReplies, TLRPC$TL_error tLRPC$TL_error) {
        getNotificationCenter().postNotificationName(NotificationCenter.loadingMessagesFailed, Integer.valueOf(i), tLRPC$TL_messages_getReplies, tLRPC$TL_error);
    }

    public /* synthetic */ void lambda$loadMessagesInternal$147(int i, int i2, long j, long j2, int i3, int i4, int i5, int i6, int i7, int i8, int i9, int i10, int i11, int i12, boolean z, int i13, boolean z2, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        int i14;
        ArrayList<TLRPC$Message> arrayList;
        if (tLObject != null) {
            TLRPC$messages_Messages tLRPC$messages_Messages = (TLRPC$messages_Messages) tLObject;
            if (tLRPC$messages_Messages instanceof TLRPC$TL_messages_messagesNotModified) {
                return;
            }
            if (i2 == 0 || tLRPC$messages_Messages.messages.isEmpty()) {
                i14 = i;
            } else {
                int i15 = tLRPC$messages_Messages.messages.get(arrayList.size() - 1).id;
                int size = tLRPC$messages_Messages.messages.size() - 1;
                while (true) {
                    if (size < 0) {
                        break;
                    }
                    TLRPC$Message tLRPC$Message = tLRPC$messages_Messages.messages.get(size);
                    if (tLRPC$Message.date > i2) {
                        i15 = tLRPC$Message.id;
                        break;
                    }
                    size--;
                }
                i14 = i15;
            }
            processLoadedMessages(tLRPC$messages_Messages, tLRPC$messages_Messages.messages.size(), j, j2, i3, i14, i2, false, i4, i5, i6, i7, i8, i9, false, i10, i11, i12, z, i13, z2);
        }
    }

    public /* synthetic */ void lambda$loadMessagesInternal$149(long j, long j2, boolean z, int i, int i2, int i3, int i4, int i5, int i6, int i7, int i8, int i9, int i10, boolean z2, boolean z3, TLRPC$TL_messages_getPeerDialogs tLRPC$TL_messages_getPeerDialogs, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs = (TLRPC$TL_messages_peerDialogs) tLObject;
            if (!tLRPC$TL_messages_peerDialogs.dialogs.isEmpty()) {
                TLRPC$Dialog tLRPC$Dialog = tLRPC$TL_messages_peerDialogs.dialogs.get(0);
                if (tLRPC$Dialog.top_message != 0) {
                    TLRPC$TL_messages_dialogs tLRPC$TL_messages_dialogs = new TLRPC$TL_messages_dialogs();
                    tLRPC$TL_messages_dialogs.chats = tLRPC$TL_messages_peerDialogs.chats;
                    tLRPC$TL_messages_dialogs.users = tLRPC$TL_messages_peerDialogs.users;
                    tLRPC$TL_messages_dialogs.dialogs = tLRPC$TL_messages_peerDialogs.dialogs;
                    tLRPC$TL_messages_dialogs.messages = tLRPC$TL_messages_peerDialogs.messages;
                    getMessagesStorage().putDialogs(tLRPC$TL_messages_dialogs, 2);
                }
                loadMessagesInternal(j, j2, z, i, i2, i3, false, i4, i5, i6, tLRPC$Dialog.top_message, 0, i7, i8, i9, tLRPC$Dialog.unread_count, i10, z2, tLRPC$Dialog.unread_mentions_count, false, z3);
            }
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda53(this, i5, tLRPC$TL_messages_getPeerDialogs, tLRPC$TL_error));
    }

    public /* synthetic */ void lambda$loadMessagesInternal$148(int i, TLRPC$TL_messages_getPeerDialogs tLRPC$TL_messages_getPeerDialogs, TLRPC$TL_error tLRPC$TL_error) {
        getNotificationCenter().postNotificationName(NotificationCenter.loadingMessagesFailed, Integer.valueOf(i), tLRPC$TL_messages_getPeerDialogs, tLRPC$TL_error);
    }

    public /* synthetic */ void lambda$loadMessagesInternal$151(long j, int i, int i2, int i3, long j2, int i4, int i5, int i6, int i7, int i8, int i9, int i10, int i11, boolean z, int i12, boolean z2, TLRPC$TL_messages_getHistory tLRPC$TL_messages_getHistory, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        int i13;
        ArrayList<TLRPC$Message> arrayList;
        if (tLObject != null) {
            TLRPC$messages_Messages tLRPC$messages_Messages = (TLRPC$messages_Messages) tLObject;
            removeDeletedMessagesFromArray(j, tLRPC$messages_Messages.messages);
            if (tLRPC$messages_Messages.messages.size() > i) {
                tLRPC$messages_Messages.messages.remove(0);
            }
            if (i3 == 0 || tLRPC$messages_Messages.messages.isEmpty()) {
                i13 = i2;
            } else {
                int i14 = tLRPC$messages_Messages.messages.get(arrayList.size() - 1).id;
                int size = tLRPC$messages_Messages.messages.size() - 1;
                while (true) {
                    if (size < 0) {
                        break;
                    }
                    TLRPC$Message tLRPC$Message = tLRPC$messages_Messages.messages.get(size);
                    if (tLRPC$Message.date > i3) {
                        i14 = tLRPC$Message.id;
                        break;
                    }
                    size--;
                }
                i13 = i14;
            }
            processLoadedMessages(tLRPC$messages_Messages, tLRPC$messages_Messages.messages.size(), j, j2, i, i13, i3, false, i4, i5, i6, i7, i8, i9, false, 0, i10, i11, z, i12, z2);
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda52(this, i4, tLRPC$TL_messages_getHistory, tLRPC$TL_error));
    }

    public /* synthetic */ void lambda$loadMessagesInternal$150(int i, TLRPC$TL_messages_getHistory tLRPC$TL_messages_getHistory, TLRPC$TL_error tLRPC$TL_error) {
        getNotificationCenter().postNotificationName(NotificationCenter.loadingMessagesFailed, Integer.valueOf(i), tLRPC$TL_messages_getHistory, tLRPC$TL_error);
    }

    public void reloadWebPages(long j, HashMap<String, ArrayList<MessageObject>> hashMap, boolean z) {
        HashMap<String, ArrayList<MessageObject>> hashMap2 = z ? this.reloadingScheduledWebpages : this.reloadingWebpages;
        LongSparseArray<ArrayList<MessageObject>> longSparseArray = z ? this.reloadingScheduledWebpagesPending : this.reloadingWebpagesPending;
        for (Map.Entry<String, ArrayList<MessageObject>> entry : hashMap.entrySet()) {
            String key = entry.getKey();
            ArrayList<MessageObject> value = entry.getValue();
            ArrayList<MessageObject> arrayList = hashMap2.get(key);
            if (arrayList == null) {
                arrayList = new ArrayList<>();
                hashMap2.put(key, arrayList);
            }
            arrayList.addAll(value);
            TLRPC$TL_messages_getWebPagePreview tLRPC$TL_messages_getWebPagePreview = new TLRPC$TL_messages_getWebPagePreview();
            tLRPC$TL_messages_getWebPagePreview.message = key;
            getConnectionsManager().sendRequest(tLRPC$TL_messages_getWebPagePreview, new MessagesController$$ExternalSyntheticLambda318(this, hashMap2, key, longSparseArray, j, z));
        }
    }

    public /* synthetic */ void lambda$reloadWebPages$153(HashMap hashMap, String str, LongSparseArray longSparseArray, long j, boolean z, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda125(this, hashMap, str, tLObject, longSparseArray, j, z));
    }

    public /* synthetic */ void lambda$reloadWebPages$152(HashMap hashMap, String str, TLObject tLObject, LongSparseArray longSparseArray, long j, boolean z) {
        ArrayList arrayList = (ArrayList) hashMap.remove(str);
        if (arrayList == null) {
            return;
        }
        TLRPC$TL_messages_messages tLRPC$TL_messages_messages = new TLRPC$TL_messages_messages();
        if (!(tLObject instanceof TLRPC$TL_messageMediaWebPage)) {
            for (int i = 0; i < arrayList.size(); i++) {
                ((MessageObject) arrayList.get(i)).messageOwner.media.webpage = new TLRPC$TL_webPageEmpty();
                tLRPC$TL_messages_messages.messages.add(((MessageObject) arrayList.get(i)).messageOwner);
            }
        } else {
            TLRPC$TL_messageMediaWebPage tLRPC$TL_messageMediaWebPage = (TLRPC$TL_messageMediaWebPage) tLObject;
            TLRPC$WebPage tLRPC$WebPage = tLRPC$TL_messageMediaWebPage.webpage;
            if ((tLRPC$WebPage instanceof TLRPC$TL_webPage) || (tLRPC$WebPage instanceof TLRPC$TL_webPageEmpty)) {
                for (int i2 = 0; i2 < arrayList.size(); i2++) {
                    ((MessageObject) arrayList.get(i2)).messageOwner.media.webpage = tLRPC$TL_messageMediaWebPage.webpage;
                    if (i2 == 0) {
                        ImageLoader.saveMessageThumbs(((MessageObject) arrayList.get(i2)).messageOwner);
                    }
                    tLRPC$TL_messages_messages.messages.add(((MessageObject) arrayList.get(i2)).messageOwner);
                }
            } else {
                longSparseArray.put(tLRPC$WebPage.id, arrayList);
            }
        }
        if (tLRPC$TL_messages_messages.messages.isEmpty()) {
            return;
        }
        getMessagesStorage().putMessages((TLRPC$messages_Messages) tLRPC$TL_messages_messages, j, -2, 0, false, z);
        getNotificationCenter().postNotificationName(NotificationCenter.replaceMessagesObjects, Long.valueOf(j), arrayList);
    }

    /* JADX WARN: Code restructure failed: missing block: B:152:0x03e7, code lost:
        if (r1[0] >= 144) goto L154;
     */
    /* JADX WARN: Code restructure failed: missing block: B:157:0x03f6, code lost:
        if (org.telegram.messenger.Utilities.bytesToInt(r1) < 144) goto L158;
     */
    /* JADX WARN: Removed duplicated region for block: B:123:0x033a  */
    /* JADX WARN: Removed duplicated region for block: B:126:0x033f  */
    /* JADX WARN: Removed duplicated region for block: B:132:0x0370  */
    /* JADX WARN: Removed duplicated region for block: B:175:0x045e  */
    /* JADX WARN: Removed duplicated region for block: B:24:0x0107  */
    /* JADX WARN: Removed duplicated region for block: B:31:0x011a  */
    /* JADX WARN: Removed duplicated region for block: B:34:0x0136  */
    /* JADX WARN: Removed duplicated region for block: B:68:0x0224 A[RETURN] */
    /* JADX WARN: Removed duplicated region for block: B:73:0x0239 A[LOOP:1: B:71:0x0231->B:73:0x0239, LOOP_END] */
    /* JADX WARN: Removed duplicated region for block: B:77:0x0252 A[LOOP:2: B:75:0x024a->B:77:0x0252, LOOP_END] */
    /* JADX WARN: Removed duplicated region for block: B:80:0x026c  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void processLoadedMessages(TLRPC$messages_Messages tLRPC$messages_Messages, int i, long j, long j2, int i2, int i3, int i4, boolean z, int i5, int i6, int i7, int i8, int i9, int i10, boolean z2, int i11, int i12, int i13, boolean z3, int i14, boolean z4) {
        boolean z5;
        int i15;
        boolean z6;
        TLRPC$messages_Messages tLRPC$messages_Messages2;
        int i16;
        int i17;
        int size;
        long j3;
        int i18;
        byte[] bArr;
        boolean z7;
        boolean z8;
        TLRPC$User tLRPC$User;
        int i19;
        TLRPC$Message tLRPC$Message;
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("processLoadedMessages size " + tLRPC$messages_Messages.messages.size() + " in chat " + j + " count " + i2 + " max_id " + i3 + " cache " + z + " guid " + i5 + " load_type " + i10 + " last_message_id " + i7 + " index " + i13 + " firstUnread " + i6 + " unread_count " + i8 + " last_date " + i9 + " queryFromServer " + z3);
        }
        long elapsedRealtime = SystemClock.elapsedRealtime();
        if (tLRPC$messages_Messages instanceof TLRPC$TL_messages_channelMessages) {
            long j4 = -j;
            if (i11 == 0 && i12 == 0 && this.channelsPts.get(j4) == 0 && getMessagesStorage().getChannelPtsSync(j4) == 0) {
                this.channelsPts.put(j4, tLRPC$messages_Messages.pts);
                if (this.needShortPollChannels.indexOfKey(j4) >= 0 && this.shortPollChannels.indexOfKey(j4) < 0) {
                    i15 = 1;
                    getChannelDifference(j4, 2, 0L, null);
                } else {
                    i15 = 1;
                    getChannelDifference(j4);
                }
                z5 = true;
                if (!z) {
                    ImageLoader.saveMessagesThumbs(tLRPC$messages_Messages.messages);
                }
                boolean z9 = i4 != 0 && i3 == 0;
                if (i11 != i15) {
                    if (SystemClock.elapsedRealtime() - this.lastScheduledServerQueryTime.get(j, 0L).longValue() <= 60000) {
                        z6 = false;
                    }
                    z6 = true;
                } else {
                    z6 = i == 0 && (!z9 || SystemClock.elapsedRealtime() - this.lastServerQueryTime.get(j, 0L).longValue() > 60000);
                    if (i11 == 0 && z && j < 0 && !this.dialogs_dict.containsKey(j) && SystemClock.elapsedRealtime() - this.lastServerQueryTime.get(j, 0L).longValue() > 86400000) {
                        tLRPC$messages_Messages.messages.clear();
                        z6 = true;
                    }
                }
                if (!DialogObject.isEncryptedDialog(j) || !z || !z6) {
                    tLRPC$messages_Messages2 = tLRPC$messages_Messages;
                } else {
                    if (i11 != 2) {
                        if (i11 == i15) {
                            this.lastScheduledServerQueryTime.put(j, Long.valueOf(SystemClock.elapsedRealtime()));
                            int size2 = tLRPC$messages_Messages.messages.size();
                            long j5 = 0;
                            for (int i20 = 0; i20 < size2; i20++) {
                                int i21 = tLRPC$messages_Messages.messages.get(i20).id;
                                if (i21 >= 0) {
                                    j5 = MediaDataController.calcHash(MediaDataController.calcHash(MediaDataController.calcHash(j5, i21), tLRPC$Message.edit_date), tLRPC$Message.date);
                                }
                            }
                            i19 = ((int) j5) - i15;
                            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda74(this, j, j2, i2, i10, z3, i6, i3, i4, i19, i5, i7, i11, i12, i13, i8, i9, i14, z4));
                            tLRPC$messages_Messages2 = tLRPC$messages_Messages;
                            if (tLRPC$messages_Messages2.messages.isEmpty()) {
                                return;
                            }
                        } else {
                            this.lastServerQueryTime.put(j, Long.valueOf(SystemClock.elapsedRealtime()));
                        }
                    }
                    i19 = 0;
                    AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda74(this, j, j2, i2, i10, z3, i6, i3, i4, i19, i5, i7, i11, i12, i13, i8, i9, i14, z4));
                    tLRPC$messages_Messages2 = tLRPC$messages_Messages;
                    if (tLRPC$messages_Messages2.messages.isEmpty()) {
                    }
                }
                LongSparseArray longSparseArray = new LongSparseArray();
                LongSparseArray longSparseArray2 = new LongSparseArray();
                for (i16 = 0; i16 < tLRPC$messages_Messages2.users.size(); i16++) {
                    TLRPC$User tLRPC$User2 = tLRPC$messages_Messages2.users.get(i16);
                    longSparseArray.put(tLRPC$User2.id, tLRPC$User2);
                }
                for (i17 = 0; i17 < tLRPC$messages_Messages2.chats.size(); i17++) {
                    TLRPC$Chat tLRPC$Chat = tLRPC$messages_Messages2.chats.get(i17);
                    longSparseArray2.put(tLRPC$Chat.id, tLRPC$Chat);
                }
                size = tLRPC$messages_Messages2.messages.size();
                MessagesController messagesController = this;
                if (z) {
                    Integer num = messagesController.dialogs_read_inbox_max.get(Long.valueOf(j));
                    if (num == null) {
                        j3 = j;
                        z7 = false;
                        num = Integer.valueOf(getMessagesStorage().getDialogReadMax(false, j3));
                        messagesController.dialogs_read_inbox_max.put(Long.valueOf(j), num);
                    } else {
                        j3 = j;
                        z7 = false;
                    }
                    Integer num2 = messagesController.dialogs_read_outbox_max.get(Long.valueOf(j));
                    if (num2 == null) {
                        z8 = true;
                        num2 = Integer.valueOf(getMessagesStorage().getDialogReadMax(true, j3));
                        messagesController.dialogs_read_outbox_max.put(Long.valueOf(j), num2);
                    } else {
                        z8 = true;
                    }
                    for (int i22 = 0; i22 < size; i22++) {
                        TLRPC$Message tLRPC$Message2 = tLRPC$messages_Messages2.messages.get(i22);
                        if (i11 == 0) {
                            TLRPC$MessageAction tLRPC$MessageAction = tLRPC$Message2.action;
                            if ((tLRPC$MessageAction instanceof TLRPC$TL_messageActionChatDeleteUser) && (tLRPC$User = (TLRPC$User) longSparseArray.get(tLRPC$MessageAction.user_id)) != null && tLRPC$User.bot) {
                                tLRPC$Message2.reply_markup = new TLRPC$TL_replyKeyboardHide();
                                tLRPC$Message2.flags |= 64;
                            }
                            TLRPC$MessageAction tLRPC$MessageAction2 = tLRPC$Message2.action;
                            if ((tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChatMigrateTo) || (tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChannelCreate)) {
                                tLRPC$Message2.unread = z7;
                                tLRPC$Message2.media_unread = z7;
                            } else if (i12 == 0) {
                                tLRPC$Message2.unread = (tLRPC$Message2.out ? num2 : num).intValue() < tLRPC$Message2.id;
                            } else {
                                tLRPC$Message2.unread = z8;
                            }
                        }
                    }
                    if (i12 == 0) {
                        getMessagesStorage().putMessages(tLRPC$messages_Messages, j, i10, i3, z5, i11 == z8);
                        if (z4 && DialogObject.isEncryptedDialog(j)) {
                            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda55(this, i5, tLRPC$messages_Messages, z, z2, i7));
                            return;
                        }
                        ArrayList<MessageObject> arrayList = new ArrayList<>();
                        ArrayList arrayList2 = new ArrayList();
                        HashMap hashMap = new HashMap();
                        long j6 = 0;
                        i18 = 0;
                        while (i18 < size) {
                            TLRPC$Message tLRPC$Message3 = tLRPC$messages_Messages2.messages.get(i18);
                            tLRPC$Message3.dialog_id = j3;
                            long elapsedRealtime2 = SystemClock.elapsedRealtime();
                            int i23 = messagesController.currentAccount;
                            int i24 = i18;
                            HashMap hashMap2 = hashMap;
                            int i25 = size;
                            ArrayList arrayList3 = arrayList2;
                            MessageObject messageObject = new MessageObject(i23, tLRPC$Message3, (LongSparseArray<TLRPC$User>) longSparseArray, (LongSparseArray<TLRPC$Chat>) longSparseArray2, true, false);
                            messageObject.createStrippedThumb();
                            j6 += SystemClock.elapsedRealtime() - elapsedRealtime2;
                            messageObject.scheduled = i11 == 1;
                            arrayList.add(messageObject);
                            if (z) {
                                if (tLRPC$Message3.legacy && tLRPC$Message3.layer < 144) {
                                    arrayList3.add(Integer.valueOf(tLRPC$Message3.id));
                                } else {
                                    TLRPC$MessageMedia tLRPC$MessageMedia = tLRPC$Message3.media;
                                    if ((tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaUnsupported) && (bArr = tLRPC$MessageMedia.bytes) != null) {
                                        if (bArr.length != 0) {
                                            if (bArr.length == 1) {
                                            }
                                            if (bArr.length == 4) {
                                            }
                                        }
                                        arrayList3.add(Integer.valueOf(tLRPC$Message3.id));
                                    }
                                }
                                TLRPC$MessageMedia tLRPC$MessageMedia2 = tLRPC$Message3.media;
                                if (tLRPC$MessageMedia2 instanceof TLRPC$TL_messageMediaWebPage) {
                                    TLRPC$WebPage tLRPC$WebPage = tLRPC$MessageMedia2.webpage;
                                    if ((tLRPC$WebPage instanceof TLRPC$TL_webPagePending) && tLRPC$WebPage.date <= getConnectionsManager().getCurrentTime()) {
                                        arrayList3.add(Integer.valueOf(tLRPC$Message3.id));
                                    } else {
                                        TLRPC$WebPage tLRPC$WebPage2 = tLRPC$Message3.media.webpage;
                                        if (tLRPC$WebPage2 instanceof TLRPC$TL_webPageUrlPending) {
                                            ArrayList arrayList4 = (ArrayList) hashMap2.get(tLRPC$WebPage2.url);
                                            if (arrayList4 == null) {
                                                arrayList4 = new ArrayList();
                                                hashMap2.put(tLRPC$Message3.media.webpage.url, arrayList4);
                                            }
                                            arrayList4.add(messageObject);
                                        }
                                    }
                                }
                            }
                            i18 = i24 + 1;
                            arrayList2 = arrayList3;
                            hashMap = hashMap2;
                            messagesController = this;
                            size = i25;
                        }
                        HashMap hashMap3 = hashMap;
                        ArrayList arrayList5 = arrayList2;
                        getFileLoader().checkMediaExistance(arrayList);
                        if (BuildVars.LOGS_ENABLED) {
                            FileLog.d("process time = " + (SystemClock.elapsedRealtime() - elapsedRealtime) + " file time = " + j6 + " for dialog = " + j3);
                        }
                        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda196(this, tLRPC$messages_Messages, z, i11, z3, i10, i6, i2, j, arrayList, z4, i5, i, z2, i7, i8, i9, i13, i3, i14, arrayList5, hashMap3));
                    }
                } else {
                    j3 = j;
                }
                if (z4) {
                }
                ArrayList<MessageObject> arrayList6 = new ArrayList<>();
                ArrayList arrayList22 = new ArrayList();
                HashMap hashMap4 = new HashMap();
                long j62 = 0;
                i18 = 0;
                while (i18 < size) {
                }
                HashMap hashMap32 = hashMap4;
                ArrayList arrayList52 = arrayList22;
                getFileLoader().checkMediaExistance(arrayList6);
                if (BuildVars.LOGS_ENABLED) {
                }
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda196(this, tLRPC$messages_Messages, z, i11, z3, i10, i6, i2, j, arrayList6, z4, i5, i, z2, i7, i8, i9, i13, i3, i14, arrayList52, hashMap32));
            }
        }
        i15 = 1;
        z5 = false;
        if (!z) {
        }
        if (i4 != 0) {
        }
        if (i11 != i15) {
        }
        if (!DialogObject.isEncryptedDialog(j)) {
        }
        tLRPC$messages_Messages2 = tLRPC$messages_Messages;
        LongSparseArray longSparseArray3 = new LongSparseArray();
        LongSparseArray longSparseArray22 = new LongSparseArray();
        while (i16 < tLRPC$messages_Messages2.users.size()) {
        }
        while (i17 < tLRPC$messages_Messages2.chats.size()) {
        }
        size = tLRPC$messages_Messages2.messages.size();
        MessagesController messagesController2 = this;
        if (z) {
        }
        if (z4) {
        }
        ArrayList<MessageObject> arrayList62 = new ArrayList<>();
        ArrayList arrayList222 = new ArrayList();
        HashMap hashMap42 = new HashMap();
        long j622 = 0;
        i18 = 0;
        while (i18 < size) {
        }
        HashMap hashMap322 = hashMap42;
        ArrayList arrayList522 = arrayList222;
        getFileLoader().checkMediaExistance(arrayList62);
        if (BuildVars.LOGS_ENABLED) {
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda196(this, tLRPC$messages_Messages, z, i11, z3, i10, i6, i2, j, arrayList62, z4, i5, i, z2, i7, i8, i9, i13, i3, i14, arrayList522, hashMap322));
    }

    public /* synthetic */ void lambda$processLoadedMessages$154(long j, long j2, int i, int i2, boolean z, int i3, int i4, int i5, int i6, int i7, int i8, int i9, int i10, int i11, int i12, int i13, int i14, boolean z2) {
        loadMessagesInternal(j, j2, false, i, (i2 != 2 || !z) ? i4 : i3, i5, false, i6, i7, i2, i8, i9, i10, i11, i3, i12, i13, z, i14, true, z2);
    }

    public /* synthetic */ void lambda$processLoadedMessages$155(int i, TLRPC$messages_Messages tLRPC$messages_Messages, boolean z, boolean z2, int i2) {
        getNotificationCenter().postNotificationName(NotificationCenter.messagesDidLoadWithoutProcess, Integer.valueOf(i), Integer.valueOf(tLRPC$messages_Messages.messages.size()), Boolean.valueOf(z), Boolean.valueOf(z2), Integer.valueOf(i2));
    }

    public /* synthetic */ void lambda$processLoadedMessages$157(TLRPC$messages_Messages tLRPC$messages_Messages, boolean z, int i, boolean z2, int i2, int i3, int i4, long j, ArrayList arrayList, boolean z3, int i5, int i6, boolean z4, int i7, int i8, int i9, int i10, int i11, int i12, ArrayList arrayList2, HashMap hashMap) {
        int i13;
        boolean z5;
        long j2;
        MessagesController messagesController;
        int i14;
        HashMap hashMap2;
        int i15;
        int i16;
        int i17;
        putUsers(tLRPC$messages_Messages.users, z);
        putChats(tLRPC$messages_Messages.chats, z);
        if (tLRPC$messages_Messages.animatedEmoji != null) {
            AnimatedEmojiDrawable.getDocumentFetcher(this.currentAccount).processDocuments(tLRPC$messages_Messages.animatedEmoji);
        }
        if (i == 1) {
            i13 = 0;
        } else {
            if (!z2 || i2 != 2) {
                i15 = i3;
                i16 = Integer.MAX_VALUE;
            } else {
                i16 = Integer.MAX_VALUE;
                for (int i18 = 0; i18 < tLRPC$messages_Messages.messages.size(); i18++) {
                    TLRPC$Message tLRPC$Message = tLRPC$messages_Messages.messages.get(i18);
                    if ((!tLRPC$Message.out || tLRPC$Message.from_scheduled) && (i17 = tLRPC$Message.id) > i3 && i17 < i16) {
                        i16 = i17;
                    }
                }
                i15 = i3;
            }
            i13 = i16 == Integer.MAX_VALUE ? i15 : i16;
        }
        if (i == 1 && i4 == 1) {
            getNotificationCenter().postNotificationName(NotificationCenter.scheduledMessagesUpdated, Long.valueOf(j), Integer.valueOf(arrayList.size()));
        }
        if (!DialogObject.isEncryptedDialog(j)) {
            getMediaDataController().loadReplyMessagesForMessages(arrayList, j, i == 1, new MessagesController$$ExternalSyntheticLambda207(this, z3, i5, i6, z, z4, i7, j, i4, arrayList, i13, i8, i9, i2, i10, i11, i12, i));
            z5 = true;
        } else {
            z5 = true;
            getNotificationCenter().postNotificationName(NotificationCenter.messagesDidLoad, Long.valueOf(j), Integer.valueOf(i4), arrayList, Boolean.valueOf(z), Integer.valueOf(i13), Integer.valueOf(i7), Integer.valueOf(i8), Integer.valueOf(i9), Integer.valueOf(i2), Boolean.valueOf(z4), Integer.valueOf(i5), Integer.valueOf(i10), Integer.valueOf(i11), Integer.valueOf(i12), Integer.valueOf(i));
        }
        if (!arrayList2.isEmpty()) {
            i14 = i;
            messagesController = this;
            j2 = j;
            messagesController.reloadMessages(arrayList2, j2, i14 == z5);
        } else {
            messagesController = this;
            i14 = i;
            j2 = j;
        }
        if (!hashMap.isEmpty()) {
            if (i14 == z5) {
                hashMap2 = hashMap;
            } else {
                hashMap2 = hashMap;
                z5 = false;
            }
            messagesController.reloadWebPages(j2, hashMap2, z5);
        }
    }

    public /* synthetic */ void lambda$processLoadedMessages$156(boolean z, int i, int i2, boolean z2, boolean z3, int i3, long j, int i4, ArrayList arrayList, int i5, int i6, int i7, int i8, int i9, int i10, int i11, int i12) {
        if (!z) {
            getNotificationCenter().postNotificationName(NotificationCenter.messagesDidLoadWithoutProcess, Integer.valueOf(i), Integer.valueOf(i2), Boolean.valueOf(z2), Boolean.valueOf(z3), Integer.valueOf(i3));
        } else {
            getNotificationCenter().postNotificationName(NotificationCenter.messagesDidLoad, Long.valueOf(j), Integer.valueOf(i4), arrayList, Boolean.valueOf(z2), Integer.valueOf(i5), Integer.valueOf(i3), Integer.valueOf(i6), Integer.valueOf(i7), Integer.valueOf(i8), Boolean.valueOf(z3), Integer.valueOf(i), Integer.valueOf(i9), Integer.valueOf(i10), Integer.valueOf(i11), Integer.valueOf(i12));
        }
    }

    public void loadHintDialogs() {
        if (!this.hintDialogs.isEmpty() || TextUtils.isEmpty(this.installReferer)) {
            return;
        }
        TLRPC$TL_help_getRecentMeUrls tLRPC$TL_help_getRecentMeUrls = new TLRPC$TL_help_getRecentMeUrls();
        tLRPC$TL_help_getRecentMeUrls.referer = this.installReferer;
        getConnectionsManager().sendRequest(tLRPC$TL_help_getRecentMeUrls, new MessagesController$$ExternalSyntheticLambda233(this));
    }

    public /* synthetic */ void lambda$loadHintDialogs$159(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda138(this, tLObject));
        }
    }

    public /* synthetic */ void lambda$loadHintDialogs$158(TLObject tLObject) {
        TLRPC$TL_help_recentMeUrls tLRPC$TL_help_recentMeUrls = (TLRPC$TL_help_recentMeUrls) tLObject;
        putUsers(tLRPC$TL_help_recentMeUrls.users, false);
        putChats(tLRPC$TL_help_recentMeUrls.chats, false);
        this.hintDialogs.clear();
        this.hintDialogs.addAll(tLRPC$TL_help_recentMeUrls.urls);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    private TLRPC$TL_dialogFolder ensureFolderDialogExists(int i, boolean[] zArr) {
        if (i == 0) {
            return null;
        }
        long makeFolderDialogId = DialogObject.makeFolderDialogId(i);
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(makeFolderDialogId);
        if (tLRPC$Dialog instanceof TLRPC$TL_dialogFolder) {
            if (zArr != null) {
                zArr[0] = false;
            }
            return (TLRPC$TL_dialogFolder) tLRPC$Dialog;
        }
        if (zArr != null) {
            zArr[0] = true;
        }
        TLRPC$TL_dialogFolder tLRPC$TL_dialogFolder = new TLRPC$TL_dialogFolder();
        tLRPC$TL_dialogFolder.id = makeFolderDialogId;
        tLRPC$TL_dialogFolder.peer = new TLRPC$TL_peerUser();
        TLRPC$TL_folder tLRPC$TL_folder = new TLRPC$TL_folder();
        tLRPC$TL_dialogFolder.folder = tLRPC$TL_folder;
        tLRPC$TL_folder.id = i;
        tLRPC$TL_folder.title = LocaleController.getString("ArchivedChats", 2131624417);
        tLRPC$TL_dialogFolder.pinned = true;
        int i2 = 0;
        for (int i3 = 0; i3 < this.allDialogs.size(); i3++) {
            TLRPC$Dialog tLRPC$Dialog2 = this.allDialogs.get(i3);
            if (!tLRPC$Dialog2.pinned) {
                if (tLRPC$Dialog2.id != this.promoDialogId) {
                    break;
                }
            } else {
                i2 = Math.max(tLRPC$Dialog2.pinnedNum, i2);
            }
        }
        tLRPC$TL_dialogFolder.pinnedNum = i2 + 1;
        TLRPC$TL_messages_dialogs tLRPC$TL_messages_dialogs = new TLRPC$TL_messages_dialogs();
        tLRPC$TL_messages_dialogs.dialogs.add(tLRPC$TL_dialogFolder);
        getMessagesStorage().putDialogs(tLRPC$TL_messages_dialogs, 1);
        this.dialogs_dict.put(makeFolderDialogId, tLRPC$TL_dialogFolder);
        this.allDialogs.add(0, tLRPC$TL_dialogFolder);
        return tLRPC$TL_dialogFolder;
    }

    /* renamed from: removeFolder */
    public void lambda$onFolderEmpty$160(int i) {
        long makeFolderDialogId = DialogObject.makeFolderDialogId(i);
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(makeFolderDialogId);
        if (tLRPC$Dialog == null) {
            return;
        }
        this.dialogs_dict.remove(makeFolderDialogId);
        this.allDialogs.remove(tLRPC$Dialog);
        sortDialogs(null);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
        getNotificationCenter().postNotificationName(NotificationCenter.folderBecomeEmpty, Integer.valueOf(i));
    }

    public void onFolderEmpty(int i) {
        if (getUserConfig().getDialogLoadOffsets(i)[0] == 2147483647L) {
            lambda$onFolderEmpty$160(i);
        } else {
            loadDialogs(i, 0, 10, false, new MessagesController$$ExternalSyntheticLambda41(this, i));
        }
    }

    public void checkIfFolderEmpty(int i) {
        if (i == 0) {
            return;
        }
        getMessagesStorage().checkIfFolderEmpty(i);
    }

    public int addDialogToFolder(long j, int i, int i2, long j2) {
        ArrayList<Long> arrayList = new ArrayList<>(1);
        arrayList.add(Long.valueOf(j));
        return addDialogToFolder(arrayList, i, i2, null, j2);
    }

    /* JADX WARN: Removed duplicated region for block: B:55:0x0129  */
    /* JADX WARN: Removed duplicated region for block: B:57:0x0145 A[RETURN, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:58:0x0147  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public int addDialogToFolder(ArrayList<Long> arrayList, int i, int i2, ArrayList<TLRPC$TL_inputFolderPeer> arrayList2, long j) {
        long j2;
        NativeByteBuffer nativeByteBuffer;
        long createPendingTask;
        Exception e;
        int i3;
        int i4;
        TLRPC$Dialog tLRPC$Dialog;
        boolean[] zArr;
        TLRPC$TL_folders_editPeerFolders tLRPC$TL_folders_editPeerFolders = new TLRPC$TL_folders_editPeerFolders();
        boolean[] zArr2 = null;
        if (j == 0) {
            long clientUserId = getUserConfig().getClientUserId();
            int size = arrayList.size();
            boolean[] zArr3 = null;
            boolean z = false;
            int i5 = 0;
            int i6 = 0;
            while (i5 < size) {
                long longValue = arrayList.get(i5).longValue();
                if ((DialogObject.isChatDialog(longValue) || DialogObject.isUserDialog(longValue) || DialogObject.isEncryptedDialog(longValue)) && !((i == 1 && (longValue == clientUserId || longValue == 777000 || isPromoDialog(longValue, false))) || (tLRPC$Dialog = this.dialogs_dict.get(longValue)) == null)) {
                    tLRPC$Dialog.folder_id = i;
                    if (i2 > 0) {
                        tLRPC$Dialog.pinned = true;
                        tLRPC$Dialog.pinnedNum = i2;
                    } else {
                        tLRPC$Dialog.pinned = false;
                        tLRPC$Dialog.pinnedNum = 0;
                    }
                    if (zArr3 == null) {
                        boolean[] zArr4 = new boolean[1];
                        ensureFolderDialogExists(i, zArr4);
                        zArr = zArr4;
                    } else {
                        zArr = zArr3;
                    }
                    if (DialogObject.isEncryptedDialog(longValue)) {
                        i4 = i5;
                        i3 = size;
                        getMessagesStorage().setDialogsFolderId(null, null, longValue, i);
                    } else {
                        i4 = i5;
                        i3 = size;
                        TLRPC$TL_inputFolderPeer tLRPC$TL_inputFolderPeer = new TLRPC$TL_inputFolderPeer();
                        tLRPC$TL_inputFolderPeer.folder_id = i;
                        tLRPC$TL_inputFolderPeer.peer = getInputPeer(longValue);
                        tLRPC$TL_folders_editPeerFolders.folder_peers.add(tLRPC$TL_inputFolderPeer);
                        i6 += tLRPC$TL_inputFolderPeer.getObjectSize();
                    }
                    zArr3 = zArr;
                    z = true;
                } else {
                    i4 = i5;
                    i3 = size;
                }
                i5 = i4 + 1;
                size = i3;
            }
            if (!z) {
                return 0;
            }
            sortDialogs(null);
            getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
            if (i6 != 0) {
                try {
                    nativeByteBuffer = new NativeByteBuffer(i6 + 12);
                } catch (Exception e2) {
                    e = e2;
                }
                try {
                    nativeByteBuffer.writeInt32(17);
                    nativeByteBuffer.writeInt32(i);
                    nativeByteBuffer.writeInt32(tLRPC$TL_folders_editPeerFolders.folder_peers.size());
                    int size2 = tLRPC$TL_folders_editPeerFolders.folder_peers.size();
                    for (int i7 = 0; i7 < size2; i7++) {
                        tLRPC$TL_folders_editPeerFolders.folder_peers.get(i7).serializeToStream(nativeByteBuffer);
                    }
                } catch (Exception e3) {
                    e = e3;
                    zArr2 = nativeByteBuffer;
                    FileLog.e(e);
                    nativeByteBuffer = zArr2;
                    createPendingTask = getMessagesStorage().createPendingTask(nativeByteBuffer);
                    zArr2 = zArr3;
                    j2 = createPendingTask;
                    if (!tLRPC$TL_folders_editPeerFolders.folder_peers.isEmpty()) {
                    }
                    if (zArr2 != null) {
                    }
                }
                createPendingTask = getMessagesStorage().createPendingTask(nativeByteBuffer);
            } else {
                createPendingTask = 0;
            }
            zArr2 = zArr3;
            j2 = createPendingTask;
        } else {
            tLRPC$TL_folders_editPeerFolders.folder_peers = arrayList2;
            j2 = j;
        }
        if (!tLRPC$TL_folders_editPeerFolders.folder_peers.isEmpty()) {
            getConnectionsManager().sendRequest(tLRPC$TL_folders_editPeerFolders, new MessagesController$$ExternalSyntheticLambda280(this, j2));
            getMessagesStorage().setDialogsFolderId(null, tLRPC$TL_folders_editPeerFolders.folder_peers, 0L, i);
        }
        if (zArr2 != null) {
            return 0;
        }
        return zArr2[0] ? 2 : 1;
    }

    public /* synthetic */ void lambda$addDialogToFolder$161(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            processUpdates((TLRPC$Updates) tLObject, false);
        }
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
    }

    public void loadDialogs(int i, int i2, int i3, boolean z) {
        loadDialogs(i, i2, i3, z, null);
    }

    public void loadDialogs(int i, int i2, int i3, boolean z, Runnable runnable) {
        MessageObject messageObject;
        long j;
        if (this.loadingDialogs.get(i) || this.resetingDialogs) {
            return;
        }
        boolean z2 = true;
        this.loadingDialogs.put(i, true);
        NotificationCenter notificationCenter = getNotificationCenter();
        int i4 = NotificationCenter.dialogsNeedReload;
        notificationCenter.postNotificationName(i4, new Object[0]);
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("folderId = " + i + " load cacheOffset = " + i2 + " count = " + i3 + " cache = " + z);
        }
        if (z) {
            MessagesStorage messagesStorage = getMessagesStorage();
            int i5 = i2 == 0 ? 0 : this.nextDialogsCacheOffset.get(i, 0);
            if (i != 0 || i2 != 0) {
                z2 = false;
            }
            messagesStorage.getDialogs(i, i5, i3, z2);
            return;
        }
        TLRPC$TL_messages_getDialogs tLRPC$TL_messages_getDialogs = new TLRPC$TL_messages_getDialogs();
        tLRPC$TL_messages_getDialogs.limit = i3;
        tLRPC$TL_messages_getDialogs.exclude_pinned = true;
        if (i != 0) {
            tLRPC$TL_messages_getDialogs.flags |= 2;
            tLRPC$TL_messages_getDialogs.folder_id = i;
        }
        long[] dialogLoadOffsets = getUserConfig().getDialogLoadOffsets(i);
        if (dialogLoadOffsets[0] != -1) {
            if (dialogLoadOffsets[0] == 2147483647L) {
                this.dialogsEndReached.put(i, true);
                this.serverDialogsEndReached.put(i, true);
                this.loadingDialogs.put(i, false);
                getNotificationCenter().postNotificationName(i4, new Object[0]);
                return;
            }
            int i6 = (int) dialogLoadOffsets[0];
            tLRPC$TL_messages_getDialogs.offset_id = i6;
            tLRPC$TL_messages_getDialogs.offset_date = (int) dialogLoadOffsets[1];
            if (i6 == 0) {
                tLRPC$TL_messages_getDialogs.offset_peer = new TLRPC$TL_inputPeerEmpty();
            } else {
                if (dialogLoadOffsets[4] != 0) {
                    TLRPC$TL_inputPeerChannel tLRPC$TL_inputPeerChannel = new TLRPC$TL_inputPeerChannel();
                    tLRPC$TL_messages_getDialogs.offset_peer = tLRPC$TL_inputPeerChannel;
                    tLRPC$TL_inputPeerChannel.channel_id = dialogLoadOffsets[4];
                } else if (dialogLoadOffsets[2] != 0) {
                    TLRPC$TL_inputPeerUser tLRPC$TL_inputPeerUser = new TLRPC$TL_inputPeerUser();
                    tLRPC$TL_messages_getDialogs.offset_peer = tLRPC$TL_inputPeerUser;
                    tLRPC$TL_inputPeerUser.user_id = dialogLoadOffsets[2];
                } else {
                    TLRPC$TL_inputPeerChat tLRPC$TL_inputPeerChat = new TLRPC$TL_inputPeerChat();
                    tLRPC$TL_messages_getDialogs.offset_peer = tLRPC$TL_inputPeerChat;
                    tLRPC$TL_inputPeerChat.chat_id = dialogLoadOffsets[3];
                }
                tLRPC$TL_messages_getDialogs.offset_peer.access_hash = dialogLoadOffsets[5];
            }
        } else {
            ArrayList<TLRPC$Dialog> dialogs = getDialogs(i);
            int size = dialogs.size() - 1;
            while (true) {
                if (size < 0) {
                    z2 = false;
                    break;
                }
                TLRPC$Dialog tLRPC$Dialog = dialogs.get(size);
                if (!tLRPC$Dialog.pinned && !DialogObject.isEncryptedDialog(tLRPC$Dialog.id) && tLRPC$Dialog.top_message > 0 && (messageObject = this.dialogMessage.get(tLRPC$Dialog.id)) != null && messageObject.getId() > 0) {
                    TLRPC$Message tLRPC$Message = messageObject.messageOwner;
                    tLRPC$TL_messages_getDialogs.offset_date = tLRPC$Message.date;
                    tLRPC$TL_messages_getDialogs.offset_id = tLRPC$Message.id;
                    TLRPC$Peer tLRPC$Peer = tLRPC$Message.peer_id;
                    long j2 = tLRPC$Peer.channel_id;
                    if (j2 == 0) {
                        j2 = tLRPC$Peer.chat_id;
                        if (j2 == 0) {
                            j = tLRPC$Peer.user_id;
                            tLRPC$TL_messages_getDialogs.offset_peer = getInputPeer(j);
                        }
                    }
                    j = -j2;
                    tLRPC$TL_messages_getDialogs.offset_peer = getInputPeer(j);
                } else {
                    size--;
                }
            }
            if (!z2) {
                tLRPC$TL_messages_getDialogs.offset_peer = new TLRPC$TL_inputPeerEmpty();
            }
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_getDialogs, new MessagesController$$ExternalSyntheticLambda266(this, i, i3, runnable));
    }

    public /* synthetic */ void lambda$loadDialogs$162(int i, int i2, Runnable runnable, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$messages_Dialogs tLRPC$messages_Dialogs = (TLRPC$messages_Dialogs) tLObject;
            processLoadedDialogs(tLRPC$messages_Dialogs, null, i, 0, i2, 0, false, false, false);
            if (runnable == null || !tLRPC$messages_Dialogs.dialogs.isEmpty()) {
                return;
            }
            AndroidUtilities.runOnUIThread(runnable);
        }
    }

    public void loadGlobalNotificationsSettings() {
        if (this.loadingNotificationSettings == 0 && !getUserConfig().notificationsSettingsLoaded) {
            SharedPreferences notificationsSettings = getNotificationsSettings(this.currentAccount);
            SharedPreferences.Editor editor = null;
            if (notificationsSettings.contains("EnableGroup")) {
                boolean z = notificationsSettings.getBoolean("EnableGroup", true);
                SharedPreferences.Editor edit = notificationsSettings.edit();
                if (!z) {
                    edit.putInt("EnableGroup2", Integer.MAX_VALUE);
                    edit.putInt("EnableChannel2", Integer.MAX_VALUE);
                }
                edit.remove("EnableGroup").commit();
                editor = edit;
            }
            if (notificationsSettings.contains("EnableAll")) {
                boolean z2 = notificationsSettings.getBoolean("EnableAll", true);
                if (editor == null) {
                    editor = notificationsSettings.edit();
                }
                if (!z2) {
                    editor.putInt("EnableAll2", Integer.MAX_VALUE);
                }
                editor.remove("EnableAll").commit();
            }
            if (editor != null) {
                editor.commit();
            }
            this.loadingNotificationSettings = 3;
            for (int i = 0; i < 3; i++) {
                TLRPC$TL_account_getNotifySettings tLRPC$TL_account_getNotifySettings = new TLRPC$TL_account_getNotifySettings();
                if (i == 0) {
                    tLRPC$TL_account_getNotifySettings.peer = new TLRPC$TL_inputNotifyChats();
                } else if (i == 1) {
                    tLRPC$TL_account_getNotifySettings.peer = new TLRPC$TL_inputNotifyUsers();
                } else {
                    tLRPC$TL_account_getNotifySettings.peer = new TLRPC$TL_inputNotifyBroadcasts();
                }
                getConnectionsManager().sendRequest(tLRPC$TL_account_getNotifySettings, new MessagesController$$ExternalSyntheticLambda260(this, i));
            }
        }
        if (!getUserConfig().notificationsSignUpSettingsLoaded) {
            loadSignUpNotificationsSettings();
        }
    }

    public /* synthetic */ void lambda$loadGlobalNotificationsSettings$164(int i, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda141(this, tLObject, i));
    }

    public /* synthetic */ void lambda$loadGlobalNotificationsSettings$163(TLObject tLObject, int i) {
        if (tLObject != null) {
            this.loadingNotificationSettings--;
            TLRPC$TL_peerNotifySettings tLRPC$TL_peerNotifySettings = (TLRPC$TL_peerNotifySettings) tLObject;
            SharedPreferences.Editor edit = this.notificationsPreferences.edit();
            if (i == 0) {
                if ((tLRPC$TL_peerNotifySettings.flags & 1) != 0) {
                    edit.putBoolean("EnablePreviewGroup", tLRPC$TL_peerNotifySettings.show_previews);
                }
                if ((tLRPC$TL_peerNotifySettings.flags & 4) != 0) {
                    edit.putInt("EnableGroup2", tLRPC$TL_peerNotifySettings.mute_until);
                }
            } else if (i == 1) {
                if ((tLRPC$TL_peerNotifySettings.flags & 1) != 0) {
                    edit.putBoolean("EnablePreviewAll", tLRPC$TL_peerNotifySettings.show_previews);
                }
                if ((tLRPC$TL_peerNotifySettings.flags & 4) != 0) {
                    edit.putInt("EnableAll2", tLRPC$TL_peerNotifySettings.mute_until);
                }
            } else {
                if ((tLRPC$TL_peerNotifySettings.flags & 1) != 0) {
                    edit.putBoolean("EnablePreviewChannel", tLRPC$TL_peerNotifySettings.show_previews);
                }
                if ((tLRPC$TL_peerNotifySettings.flags & 4) != 0) {
                    edit.putInt("EnableChannel2", tLRPC$TL_peerNotifySettings.mute_until);
                }
            }
            applySoundSettings(tLRPC$TL_peerNotifySettings.android_sound, edit, 0L, i, false);
            edit.commit();
            if (this.loadingNotificationSettings != 0) {
                return;
            }
            getUserConfig().notificationsSettingsLoaded = true;
            getUserConfig().saveConfig(false);
        }
    }

    public void loadSignUpNotificationsSettings() {
        if (!this.loadingNotificationSignUpSettings) {
            this.loadingNotificationSignUpSettings = true;
            getConnectionsManager().sendRequest(new TLRPC$TL_account_getContactSignUpNotification(), new MessagesController$$ExternalSyntheticLambda239(this));
        }
    }

    public /* synthetic */ void lambda$loadSignUpNotificationsSettings$166(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda137(this, tLObject));
    }

    public /* synthetic */ void lambda$loadSignUpNotificationsSettings$165(TLObject tLObject) {
        this.loadingNotificationSignUpSettings = false;
        SharedPreferences.Editor edit = this.notificationsPreferences.edit();
        boolean z = tLObject instanceof TLRPC$TL_boolFalse;
        this.enableJoined = z;
        edit.putBoolean("EnableContactJoined", z);
        edit.commit();
        getUserConfig().notificationsSignUpSettingsLoaded = true;
        getUserConfig().saveConfig(false);
    }

    public void forceResetDialogs() {
        resetDialogs(true, getMessagesStorage().getLastSeqValue(), getMessagesStorage().getLastPtsValue(), getMessagesStorage().getLastDateValue(), getMessagesStorage().getLastQtsValue());
        getNotificationsController().deleteAllNotificationChannels();
    }

    public void loadUnknownDialog(TLRPC$InputPeer tLRPC$InputPeer, long j) {
        NativeByteBuffer nativeByteBuffer;
        Exception e;
        if (tLRPC$InputPeer == null) {
            return;
        }
        long peerDialogId = DialogObject.getPeerDialogId(tLRPC$InputPeer);
        if (this.gettingUnknownDialogs.indexOfKey(peerDialogId) >= 0) {
            return;
        }
        this.gettingUnknownDialogs.put(peerDialogId, Boolean.TRUE);
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("load unknown dialog " + peerDialogId);
        }
        TLRPC$TL_messages_getPeerDialogs tLRPC$TL_messages_getPeerDialogs = new TLRPC$TL_messages_getPeerDialogs();
        TLRPC$TL_inputDialogPeer tLRPC$TL_inputDialogPeer = new TLRPC$TL_inputDialogPeer();
        tLRPC$TL_inputDialogPeer.peer = tLRPC$InputPeer;
        tLRPC$TL_messages_getPeerDialogs.peers.add(tLRPC$TL_inputDialogPeer);
        if (j == 0) {
            NativeByteBuffer nativeByteBuffer2 = null;
            try {
                nativeByteBuffer = new NativeByteBuffer(tLRPC$InputPeer.getObjectSize() + 4);
            } catch (Exception e2) {
                e = e2;
            }
            try {
                nativeByteBuffer.writeInt32(15);
                tLRPC$InputPeer.serializeToStream(nativeByteBuffer);
            } catch (Exception e3) {
                e = e3;
                nativeByteBuffer2 = nativeByteBuffer;
                FileLog.e(e);
                nativeByteBuffer = nativeByteBuffer2;
                j = getMessagesStorage().createPendingTask(nativeByteBuffer);
                getConnectionsManager().sendRequest(tLRPC$TL_messages_getPeerDialogs, new MessagesController$$ExternalSyntheticLambda294(this, j, peerDialogId));
            }
            j = getMessagesStorage().createPendingTask(nativeByteBuffer);
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_getPeerDialogs, new MessagesController$$ExternalSyntheticLambda294(this, j, peerDialogId));
    }

    public /* synthetic */ void lambda$loadUnknownDialog$167(long j, long j2, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs = (TLRPC$TL_messages_peerDialogs) tLObject;
            if (!tLRPC$TL_messages_peerDialogs.dialogs.isEmpty()) {
                TLRPC$TL_messages_dialogs tLRPC$TL_messages_dialogs = new TLRPC$TL_messages_dialogs();
                tLRPC$TL_messages_dialogs.dialogs.addAll(tLRPC$TL_messages_peerDialogs.dialogs);
                tLRPC$TL_messages_dialogs.messages.addAll(tLRPC$TL_messages_peerDialogs.messages);
                tLRPC$TL_messages_dialogs.users.addAll(tLRPC$TL_messages_peerDialogs.users);
                tLRPC$TL_messages_dialogs.chats.addAll(tLRPC$TL_messages_peerDialogs.chats);
                processLoadedDialogs(tLRPC$TL_messages_dialogs, null, ((TLRPC$TL_dialog) tLRPC$TL_messages_peerDialogs.dialogs.get(0)).folder_id, 0, 1, this.DIALOGS_LOAD_TYPE_UNKNOWN, false, false, false);
            }
        }
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
        this.gettingUnknownDialogs.delete(j2);
    }

    private void fetchFolderInLoadedPinnedDialogs(TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs) {
        TLRPC$InputPeer tLRPC$InputPeer;
        int size = tLRPC$TL_messages_peerDialogs.dialogs.size();
        int i = 0;
        for (int i2 = 0; i2 < size; i2++) {
            TLRPC$Dialog tLRPC$Dialog = tLRPC$TL_messages_peerDialogs.dialogs.get(i2);
            if (tLRPC$Dialog instanceof TLRPC$TL_dialogFolder) {
                TLRPC$TL_dialogFolder tLRPC$TL_dialogFolder = (TLRPC$TL_dialogFolder) tLRPC$Dialog;
                long peerDialogId = DialogObject.getPeerDialogId(tLRPC$Dialog.peer);
                if (tLRPC$TL_dialogFolder.top_message == 0 || peerDialogId == 0) {
                    tLRPC$TL_messages_peerDialogs.dialogs.remove(tLRPC$TL_dialogFolder);
                } else {
                    int size2 = tLRPC$TL_messages_peerDialogs.messages.size();
                    for (int i3 = 0; i3 < size2; i3++) {
                        TLRPC$Message tLRPC$Message = tLRPC$TL_messages_peerDialogs.messages.get(i3);
                        if (peerDialogId == MessageObject.getDialogId(tLRPC$Message) && tLRPC$Dialog.top_message == tLRPC$Message.id) {
                            TLRPC$TL_dialog tLRPC$TL_dialog = new TLRPC$TL_dialog();
                            tLRPC$TL_dialog.peer = tLRPC$Dialog.peer;
                            tLRPC$TL_dialog.top_message = tLRPC$Dialog.top_message;
                            tLRPC$TL_dialog.folder_id = tLRPC$TL_dialogFolder.folder.id;
                            tLRPC$TL_dialog.flags |= 16;
                            tLRPC$TL_messages_peerDialogs.dialogs.add(tLRPC$TL_dialog);
                            TLRPC$Peer tLRPC$Peer = tLRPC$Dialog.peer;
                            if (tLRPC$Peer instanceof TLRPC$TL_peerChannel) {
                                tLRPC$InputPeer = new TLRPC$TL_inputPeerChannel();
                                tLRPC$InputPeer.channel_id = tLRPC$Dialog.peer.channel_id;
                                int size3 = tLRPC$TL_messages_peerDialogs.chats.size();
                                while (true) {
                                    if (i >= size3) {
                                        break;
                                    }
                                    TLRPC$Chat tLRPC$Chat = tLRPC$TL_messages_peerDialogs.chats.get(i);
                                    if (tLRPC$Chat.id == tLRPC$InputPeer.channel_id) {
                                        tLRPC$InputPeer.access_hash = tLRPC$Chat.access_hash;
                                        break;
                                    }
                                    i++;
                                }
                            } else if (tLRPC$Peer instanceof TLRPC$TL_peerChat) {
                                tLRPC$InputPeer = new TLRPC$TL_inputPeerChat();
                                tLRPC$InputPeer.chat_id = tLRPC$Dialog.peer.chat_id;
                            } else {
                                tLRPC$InputPeer = new TLRPC$TL_inputPeerUser();
                                tLRPC$InputPeer.user_id = tLRPC$Dialog.peer.user_id;
                                int size4 = tLRPC$TL_messages_peerDialogs.users.size();
                                while (true) {
                                    if (i >= size4) {
                                        break;
                                    }
                                    TLRPC$User tLRPC$User = tLRPC$TL_messages_peerDialogs.users.get(i);
                                    if (tLRPC$User.id == tLRPC$InputPeer.user_id) {
                                        tLRPC$InputPeer.access_hash = tLRPC$User.access_hash;
                                        break;
                                    }
                                    i++;
                                }
                            }
                            loadUnknownDialog(tLRPC$InputPeer, 0L);
                            return;
                        }
                    }
                    return;
                }
            }
        }
    }

    public /* synthetic */ void lambda$resetDialogs$168(int i, int i2, int i3, int i4, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            this.resetDialogsPinned = (TLRPC$TL_messages_peerDialogs) tLObject;
            for (int i5 = 0; i5 < this.resetDialogsPinned.dialogs.size(); i5++) {
                this.resetDialogsPinned.dialogs.get(i5).pinned = true;
            }
            resetDialogs(false, i, i2, i3, i4);
        }
    }

    public /* synthetic */ void lambda$resetDialogs$169(int i, int i2, int i3, int i4, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            this.resetDialogsAll = (TLRPC$messages_Dialogs) tLObject;
            resetDialogs(false, i, i2, i3, i4);
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:68:0x01db  */
    /* JADX WARN: Removed duplicated region for block: B:71:0x0205  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private void resetDialogs(boolean z, int i, int i2, int i3, int i4) {
        TLRPC$messages_Dialogs tLRPC$messages_Dialogs;
        long j;
        TLRPC$User tLRPC$User;
        Integer num;
        Integer num2;
        TLRPC$Chat tLRPC$Chat;
        MessageObject messageObject;
        TLRPC$Chat tLRPC$Chat2;
        Integer num3 = 0;
        if (z) {
            if (this.resetingDialogs) {
                return;
            }
            getUserConfig().setPinnedDialogsLoaded(1, false);
            this.resetingDialogs = true;
            getConnectionsManager().sendRequest(new TLRPC$TL_messages_getPinnedDialogs(), new MessagesController$$ExternalSyntheticLambda262(this, i, i2, i3, i4));
            TLRPC$TL_messages_getDialogs tLRPC$TL_messages_getDialogs = new TLRPC$TL_messages_getDialogs();
            tLRPC$TL_messages_getDialogs.limit = 100;
            tLRPC$TL_messages_getDialogs.exclude_pinned = true;
            tLRPC$TL_messages_getDialogs.offset_peer = new TLRPC$TL_inputPeerEmpty();
            getConnectionsManager().sendRequest(tLRPC$TL_messages_getDialogs, new MessagesController$$ExternalSyntheticLambda263(this, i, i2, i3, i4));
        } else if (this.resetDialogsPinned != null && (tLRPC$messages_Dialogs = this.resetDialogsAll) != null) {
            int size = tLRPC$messages_Dialogs.messages.size();
            int size2 = this.resetDialogsAll.dialogs.size();
            fetchFolderInLoadedPinnedDialogs(this.resetDialogsPinned);
            this.resetDialogsAll.dialogs.addAll(this.resetDialogsPinned.dialogs);
            this.resetDialogsAll.messages.addAll(this.resetDialogsPinned.messages);
            this.resetDialogsAll.users.addAll(this.resetDialogsPinned.users);
            this.resetDialogsAll.chats.addAll(this.resetDialogsPinned.chats);
            LongSparseArray<TLRPC$Dialog> longSparseArray = new LongSparseArray<>();
            LongSparseArray<MessageObject> longSparseArray2 = new LongSparseArray<>();
            LongSparseArray longSparseArray3 = new LongSparseArray();
            LongSparseArray longSparseArray4 = new LongSparseArray();
            for (int i5 = 0; i5 < this.resetDialogsAll.users.size(); i5++) {
                TLRPC$User tLRPC$User2 = this.resetDialogsAll.users.get(i5);
                longSparseArray3.put(tLRPC$User2.id, tLRPC$User2);
            }
            for (int i6 = 0; i6 < this.resetDialogsAll.chats.size(); i6++) {
                TLRPC$Chat tLRPC$Chat3 = this.resetDialogsAll.chats.get(i6);
                longSparseArray4.put(tLRPC$Chat3.id, tLRPC$Chat3);
            }
            TLRPC$Message tLRPC$Message = null;
            int i7 = 0;
            while (true) {
                j = 0;
                if (i7 >= this.resetDialogsAll.messages.size()) {
                    break;
                }
                TLRPC$Message tLRPC$Message2 = this.resetDialogsAll.messages.get(i7);
                if (i7 < size && (tLRPC$Message == null || tLRPC$Message2.date < tLRPC$Message.date)) {
                    tLRPC$Message = tLRPC$Message2;
                }
                TLRPC$Peer tLRPC$Peer = tLRPC$Message2.peer_id;
                Integer num4 = num3;
                long j2 = tLRPC$Peer.channel_id;
                if (j2 != 0) {
                    TLRPC$Chat tLRPC$Chat4 = (TLRPC$Chat) longSparseArray4.get(j2);
                    if (tLRPC$Chat4 != null && tLRPC$Chat4.left) {
                        i7++;
                        num3 = num4;
                    }
                    MessageObject messageObject2 = new MessageObject(this.currentAccount, tLRPC$Message2, (LongSparseArray<TLRPC$User>) longSparseArray3, (LongSparseArray<TLRPC$Chat>) longSparseArray4, false, true);
                    longSparseArray2.put(messageObject2.getDialogId(), messageObject2);
                    i7++;
                    num3 = num4;
                } else {
                    long j3 = tLRPC$Peer.chat_id;
                    if (j3 != 0 && (tLRPC$Chat2 = (TLRPC$Chat) longSparseArray4.get(j3)) != null && tLRPC$Chat2.migrated_to != null) {
                        i7++;
                        num3 = num4;
                    }
                    MessageObject messageObject22 = new MessageObject(this.currentAccount, tLRPC$Message2, (LongSparseArray<TLRPC$User>) longSparseArray3, (LongSparseArray<TLRPC$Chat>) longSparseArray4, false, true);
                    longSparseArray2.put(messageObject22.getDialogId(), messageObject22);
                    i7++;
                    num3 = num4;
                }
            }
            Integer num5 = num3;
            int i8 = 0;
            while (i8 < this.resetDialogsAll.dialogs.size()) {
                TLRPC$Dialog tLRPC$Dialog = this.resetDialogsAll.dialogs.get(i8);
                DialogObject.initDialog(tLRPC$Dialog);
                long j4 = tLRPC$Dialog.id;
                if (j4 != j) {
                    if (tLRPC$Dialog.last_message_date == 0 && (messageObject = longSparseArray2.get(j4)) != null) {
                        tLRPC$Dialog.last_message_date = messageObject.messageOwner.date;
                    }
                    if (DialogObject.isChannel(tLRPC$Dialog)) {
                        TLRPC$Chat tLRPC$Chat5 = (TLRPC$Chat) longSparseArray4.get(-tLRPC$Dialog.id);
                        if (tLRPC$Chat5 == null || !tLRPC$Chat5.left) {
                            this.channelsPts.put(-tLRPC$Dialog.id, tLRPC$Dialog.pts);
                            longSparseArray.put(tLRPC$Dialog.id, tLRPC$Dialog);
                            num = this.dialogs_read_inbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                            if (num == null) {
                                num = num5;
                            }
                            this.dialogs_read_inbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num.intValue(), tLRPC$Dialog.read_inbox_max_id)));
                            num2 = this.dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                            if (num2 == null) {
                                num2 = num5;
                            }
                            this.dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num2.intValue(), tLRPC$Dialog.read_outbox_max_id)));
                        }
                    } else {
                        if (DialogObject.isChatDialog(tLRPC$Dialog.id) && (tLRPC$Chat = (TLRPC$Chat) longSparseArray4.get(-tLRPC$Dialog.id)) != null && tLRPC$Chat.migrated_to != null) {
                        }
                        longSparseArray.put(tLRPC$Dialog.id, tLRPC$Dialog);
                        num = this.dialogs_read_inbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                        if (num == null) {
                        }
                        this.dialogs_read_inbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num.intValue(), tLRPC$Dialog.read_inbox_max_id)));
                        num2 = this.dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                        if (num2 == null) {
                        }
                        this.dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num2.intValue(), tLRPC$Dialog.read_outbox_max_id)));
                    }
                }
                i8++;
                j = 0;
            }
            ImageLoader.saveMessagesThumbs(this.resetDialogsAll.messages);
            for (int i9 = 0; i9 < this.resetDialogsAll.messages.size(); i9++) {
                TLRPC$Message tLRPC$Message3 = this.resetDialogsAll.messages.get(i9);
                TLRPC$MessageAction tLRPC$MessageAction = tLRPC$Message3.action;
                if ((tLRPC$MessageAction instanceof TLRPC$TL_messageActionChatDeleteUser) && (tLRPC$User = (TLRPC$User) longSparseArray3.get(tLRPC$MessageAction.user_id)) != null && tLRPC$User.bot) {
                    tLRPC$Message3.reply_markup = new TLRPC$TL_replyKeyboardHide();
                    tLRPC$Message3.flags |= 64;
                }
                TLRPC$MessageAction tLRPC$MessageAction2 = tLRPC$Message3.action;
                if ((tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChatMigrateTo) || (tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChannelCreate)) {
                    tLRPC$Message3.unread = false;
                    tLRPC$Message3.media_unread = false;
                } else {
                    ConcurrentHashMap<Long, Integer> concurrentHashMap = tLRPC$Message3.out ? this.dialogs_read_outbox_max : this.dialogs_read_inbox_max;
                    Integer num6 = concurrentHashMap.get(Long.valueOf(tLRPC$Message3.dialog_id));
                    if (num6 == null) {
                        num6 = Integer.valueOf(getMessagesStorage().getDialogReadMax(tLRPC$Message3.out, tLRPC$Message3.dialog_id));
                        concurrentHashMap.put(Long.valueOf(tLRPC$Message3.dialog_id), num6);
                    }
                    tLRPC$Message3.unread = num6.intValue() < tLRPC$Message3.id;
                }
            }
            getMessagesStorage().resetDialogs(this.resetDialogsAll, size, i, i2, i3, i4, longSparseArray, longSparseArray2, tLRPC$Message, size2);
            this.resetDialogsPinned = null;
            this.resetDialogsAll = null;
        }
    }

    public void completeDialogsReset(TLRPC$messages_Dialogs tLRPC$messages_Dialogs, int i, int i2, int i3, int i4, int i5, LongSparseArray<TLRPC$Dialog> longSparseArray, LongSparseArray<MessageObject> longSparseArray2, TLRPC$Message tLRPC$Message) {
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda42(this, i3, i4, i5, tLRPC$messages_Dialogs, longSparseArray, longSparseArray2));
    }

    public /* synthetic */ void lambda$completeDialogsReset$171(int i, int i2, int i3, TLRPC$messages_Dialogs tLRPC$messages_Dialogs, LongSparseArray longSparseArray, LongSparseArray longSparseArray2) {
        this.gettingDifference = false;
        getMessagesStorage().setLastPtsValue(i);
        getMessagesStorage().setLastDateValue(i2);
        getMessagesStorage().setLastQtsValue(i3);
        getDifference();
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda192(this, tLRPC$messages_Dialogs, longSparseArray, longSparseArray2));
    }

    public /* synthetic */ void lambda$completeDialogsReset$170(TLRPC$messages_Dialogs tLRPC$messages_Dialogs, LongSparseArray longSparseArray, LongSparseArray longSparseArray2) {
        TLRPC$Dialog tLRPC$Dialog;
        this.resetingDialogs = false;
        applyDialogsNotificationsSettings(tLRPC$messages_Dialogs.dialogs);
        MediaDataController mediaDataController = getMediaDataController();
        mediaDataController.clearAllDrafts(false);
        mediaDataController.loadDraftsIfNeed();
        putUsers(tLRPC$messages_Dialogs.users, false);
        putChats(tLRPC$messages_Dialogs.chats, false);
        for (int i = 0; i < this.allDialogs.size(); i++) {
            TLRPC$Dialog tLRPC$Dialog2 = this.allDialogs.get(i);
            if (!DialogObject.isEncryptedDialog(tLRPC$Dialog2.id)) {
                this.dialogs_dict.remove(tLRPC$Dialog2.id);
                MessageObject messageObject = this.dialogMessage.get(tLRPC$Dialog2.id);
                this.dialogMessage.remove(tLRPC$Dialog2.id);
                if (messageObject != null) {
                    if (messageObject.messageOwner.peer_id.channel_id == 0) {
                        this.dialogMessagesByIds.remove(messageObject.getId());
                    }
                    long j = messageObject.messageOwner.random_id;
                    if (j != 0) {
                        this.dialogMessagesByRandomIds.remove(j);
                    }
                }
            }
        }
        for (int i2 = 0; i2 < longSparseArray.size(); i2++) {
            long keyAt = longSparseArray.keyAt(i2);
            TLRPC$Dialog tLRPC$Dialog3 = (TLRPC$Dialog) longSparseArray.valueAt(i2);
            TLRPC$DraftMessage tLRPC$DraftMessage = tLRPC$Dialog3.draft;
            if (tLRPC$DraftMessage instanceof TLRPC$TL_draftMessage) {
                tLRPC$Dialog = tLRPC$Dialog3;
                mediaDataController.saveDraft(tLRPC$Dialog3.id, 0, tLRPC$DraftMessage, null, false);
            } else {
                tLRPC$Dialog = tLRPC$Dialog3;
            }
            this.dialogs_dict.put(keyAt, tLRPC$Dialog);
            MessageObject messageObject2 = (MessageObject) longSparseArray2.get(tLRPC$Dialog.id);
            this.dialogMessage.put(keyAt, messageObject2);
            if (messageObject2 != null && messageObject2.messageOwner.peer_id.channel_id == 0) {
                this.dialogMessagesByIds.put(messageObject2.getId(), messageObject2);
                this.dialogsLoadedTillDate = Math.min(this.dialogsLoadedTillDate, messageObject2.messageOwner.date);
                long j2 = messageObject2.messageOwner.random_id;
                if (j2 != 0) {
                    this.dialogMessagesByRandomIds.put(j2, messageObject2);
                }
            }
        }
        this.allDialogs.clear();
        int size = this.dialogs_dict.size();
        for (int i3 = 0; i3 < size; i3++) {
            TLRPC$Dialog valueAt = this.dialogs_dict.valueAt(i3);
            if (this.deletingDialogs.indexOfKey(valueAt.id) < 0) {
                this.allDialogs.add(valueAt);
            }
        }
        sortDialogs(null);
        this.dialogsEndReached.put(0, true);
        this.serverDialogsEndReached.put(0, false);
        this.dialogsEndReached.put(1, true);
        this.serverDialogsEndReached.put(1, false);
        int totalDialogsCount = getUserConfig().getTotalDialogsCount(0);
        long[] dialogLoadOffsets = getUserConfig().getDialogLoadOffsets(0);
        if (totalDialogsCount < 400 && dialogLoadOffsets[0] != -1 && dialogLoadOffsets[0] != 2147483647L) {
            loadDialogs(0, 0, 100, false);
        }
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    private void migrateDialogs(int i, int i2, long j, long j2, long j3, long j4) {
        if (this.migratingDialogs || i == -1) {
            return;
        }
        this.migratingDialogs = true;
        TLRPC$TL_messages_getDialogs tLRPC$TL_messages_getDialogs = new TLRPC$TL_messages_getDialogs();
        tLRPC$TL_messages_getDialogs.exclude_pinned = true;
        tLRPC$TL_messages_getDialogs.limit = 100;
        tLRPC$TL_messages_getDialogs.offset_id = i;
        tLRPC$TL_messages_getDialogs.offset_date = i2;
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("start migrate with id " + i + " date " + LocaleController.getInstance().formatterStats.format(i2 * 1000));
        }
        if (i == 0) {
            tLRPC$TL_messages_getDialogs.offset_peer = new TLRPC$TL_inputPeerEmpty();
        } else {
            if (j3 != 0) {
                TLRPC$TL_inputPeerChannel tLRPC$TL_inputPeerChannel = new TLRPC$TL_inputPeerChannel();
                tLRPC$TL_messages_getDialogs.offset_peer = tLRPC$TL_inputPeerChannel;
                tLRPC$TL_inputPeerChannel.channel_id = j3;
            } else if (j != 0) {
                TLRPC$TL_inputPeerUser tLRPC$TL_inputPeerUser = new TLRPC$TL_inputPeerUser();
                tLRPC$TL_messages_getDialogs.offset_peer = tLRPC$TL_inputPeerUser;
                tLRPC$TL_inputPeerUser.user_id = j;
            } else {
                TLRPC$TL_inputPeerChat tLRPC$TL_inputPeerChat = new TLRPC$TL_inputPeerChat();
                tLRPC$TL_messages_getDialogs.offset_peer = tLRPC$TL_inputPeerChat;
                tLRPC$TL_inputPeerChat.chat_id = j2;
            }
            tLRPC$TL_messages_getDialogs.offset_peer.access_hash = j4;
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_getDialogs, new MessagesController$$ExternalSyntheticLambda258(this, i));
    }

    public /* synthetic */ void lambda$migrateDialogs$175(int i, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda190(this, (TLRPC$messages_Dialogs) tLObject, i));
        } else {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda29(this));
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:106:0x0384 A[Catch: Exception -> 0x041f, TryCatch #0 {Exception -> 0x041f, blocks: (B:3:0x0004, B:4:0x001d, B:7:0x0029, B:9:0x0035, B:11:0x0062, B:14:0x0069, B:15:0x006c, B:17:0x0070, B:18:0x009b, B:20:0x00a7, B:21:0x00aa, B:23:0x00ae, B:26:0x00b6, B:28:0x00f1, B:29:0x0104, B:31:0x010c, B:33:0x011d, B:34:0x0122, B:35:0x012f, B:36:0x014e, B:38:0x0154, B:40:0x0164, B:43:0x0169, B:44:0x016f, B:46:0x0177, B:49:0x0188, B:51:0x0195, B:52:0x0198, B:53:0x019a, B:54:0x019e, B:56:0x01a5, B:57:0x01bf, B:59:0x01d5, B:60:0x01e1, B:63:0x01eb, B:69:0x01fd, B:70:0x024c, B:72:0x0256, B:75:0x027f, B:77:0x0295, B:79:0x029d, B:82:0x02ad, B:88:0x02bc, B:89:0x02f9, B:91:0x0301, B:97:0x032f, B:99:0x0344, B:100:0x035b, B:102:0x0363, B:104:0x0377, B:105:0x0381, B:106:0x0384, B:108:0x038a, B:109:0x03a1, B:111:0x03a9, B:113:0x03bd, B:114:0x03c6, B:115:0x03c9, B:117:0x03cf, B:118:0x03e6, B:120:0x03ee, B:122:0x0402, B:123:0x040b, B:124:0x040e), top: B:129:0x0004 }] */
    /* JADX WARN: Removed duplicated region for block: B:99:0x0344 A[Catch: Exception -> 0x041f, TryCatch #0 {Exception -> 0x041f, blocks: (B:3:0x0004, B:4:0x001d, B:7:0x0029, B:9:0x0035, B:11:0x0062, B:14:0x0069, B:15:0x006c, B:17:0x0070, B:18:0x009b, B:20:0x00a7, B:21:0x00aa, B:23:0x00ae, B:26:0x00b6, B:28:0x00f1, B:29:0x0104, B:31:0x010c, B:33:0x011d, B:34:0x0122, B:35:0x012f, B:36:0x014e, B:38:0x0154, B:40:0x0164, B:43:0x0169, B:44:0x016f, B:46:0x0177, B:49:0x0188, B:51:0x0195, B:52:0x0198, B:53:0x019a, B:54:0x019e, B:56:0x01a5, B:57:0x01bf, B:59:0x01d5, B:60:0x01e1, B:63:0x01eb, B:69:0x01fd, B:70:0x024c, B:72:0x0256, B:75:0x027f, B:77:0x0295, B:79:0x029d, B:82:0x02ad, B:88:0x02bc, B:89:0x02f9, B:91:0x0301, B:97:0x032f, B:99:0x0344, B:100:0x035b, B:102:0x0363, B:104:0x0377, B:105:0x0381, B:106:0x0384, B:108:0x038a, B:109:0x03a1, B:111:0x03a9, B:113:0x03bd, B:114:0x03c6, B:115:0x03c9, B:117:0x03cf, B:118:0x03e6, B:120:0x03ee, B:122:0x0402, B:123:0x040b, B:124:0x040e), top: B:129:0x0004 }] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$migrateDialogs$173(TLRPC$messages_Dialogs tLRPC$messages_Dialogs, int i) {
        int i2;
        SQLiteCursor sQLiteCursor;
        int i3;
        TLRPC$Message tLRPC$Message;
        TLRPC$Peer tLRPC$Peer;
        String str;
        TLRPC$Message tLRPC$Message2;
        TLRPC$Message tLRPC$Message3;
        int i4 = i;
        try {
            getUserConfig().setTotalDialogsCount(0, getUserConfig().getTotalDialogsCount(0) + tLRPC$messages_Dialogs.dialogs.size());
            TLRPC$Message tLRPC$Message4 = null;
            for (int i5 = 0; i5 < tLRPC$messages_Dialogs.messages.size(); i5++) {
                TLRPC$Message tLRPC$Message5 = tLRPC$messages_Dialogs.messages.get(i5);
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("search migrate id " + tLRPC$Message5.id + " date " + LocaleController.getInstance().formatterStats.format(tLRPC$Message5.date * 1000));
                }
                if (tLRPC$Message4 == null || tLRPC$Message5.date < tLRPC$Message4.date) {
                    tLRPC$Message4 = tLRPC$Message5;
                }
            }
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("migrate step with id " + tLRPC$Message4.id + " date " + LocaleController.getInstance().formatterStats.format(tLRPC$Message4.date * 1000));
            }
            int i6 = -1;
            if (tLRPC$messages_Dialogs.dialogs.size() >= 100) {
                i2 = tLRPC$Message4.id;
            } else {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("migrate stop due to not 100 dialogs");
                }
                int i7 = 0;
                for (int i8 = 2; i7 < i8; i8 = 2) {
                    getUserConfig().setDialogsLoadOffset(i7, Integer.MAX_VALUE, getUserConfig().migrateOffsetDate, getUserConfig().migrateOffsetUserId, getUserConfig().migrateOffsetChatId, getUserConfig().migrateOffsetChannelId, getUserConfig().migrateOffsetAccess);
                    i7++;
                }
                i2 = -1;
            }
            StringBuilder sb = new StringBuilder(tLRPC$messages_Dialogs.dialogs.size() * 12);
            LongSparseArray longSparseArray = new LongSparseArray();
            for (int i9 = 0; i9 < tLRPC$messages_Dialogs.dialogs.size(); i9++) {
                TLRPC$Dialog tLRPC$Dialog = tLRPC$messages_Dialogs.dialogs.get(i9);
                DialogObject.initDialog(tLRPC$Dialog);
                if (sb.length() > 0) {
                    sb.append(",");
                }
                sb.append(tLRPC$Dialog.id);
                longSparseArray.put(tLRPC$Dialog.id, tLRPC$Dialog);
            }
            SQLiteCursor queryFinalized = getMessagesStorage().getDatabase().queryFinalized(String.format(Locale.US, "SELECT did, folder_id FROM dialogs WHERE did IN (%s)", sb.toString()), new Object[0]);
            while (queryFinalized.next()) {
                long longValue = queryFinalized.longValue(0);
                int intValue = queryFinalized.intValue(1);
                TLRPC$Dialog tLRPC$Dialog2 = (TLRPC$Dialog) longSparseArray.get(longValue);
                if (tLRPC$Dialog2 != null) {
                    if (tLRPC$Dialog2.folder_id == intValue) {
                        tLRPC$messages_Dialogs.dialogs.remove(tLRPC$Dialog2);
                        int i10 = 0;
                        while (true) {
                            if (i10 >= tLRPC$messages_Dialogs.messages.size()) {
                                break;
                            }
                            TLRPC$Message tLRPC$Message6 = tLRPC$messages_Dialogs.messages.get(i10);
                            if (MessageObject.getDialogId(tLRPC$Message6) == longValue) {
                                tLRPC$messages_Dialogs.messages.remove(i10);
                                i10--;
                                if (tLRPC$Message6.id == tLRPC$Dialog2.top_message) {
                                    tLRPC$Dialog2.top_message = 0;
                                    break;
                                }
                            }
                            i10++;
                        }
                    }
                }
                longSparseArray.remove(longValue);
            }
            queryFinalized.dispose();
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("migrate found missing dialogs " + tLRPC$messages_Dialogs.dialogs.size());
            }
            SQLiteCursor queryFinalized2 = getMessagesStorage().getDatabase().queryFinalized("SELECT min(date) FROM dialogs WHERE date != 0 AND did >> 32 NOT IN (536870912, 1073741824)", new Object[0]);
            if (queryFinalized2.next()) {
                int max = Math.max(1441062000, queryFinalized2.intValue(0));
                int i11 = 0;
                while (true) {
                    str = "migrate stop due to reached loaded dialogs ";
                    if (i11 >= tLRPC$messages_Dialogs.messages.size()) {
                        break;
                    }
                    TLRPC$Message tLRPC$Message7 = tLRPC$messages_Dialogs.messages.get(i11);
                    if (tLRPC$Message7.date < max) {
                        if (i4 != i6) {
                            int i12 = 0;
                            while (i12 < 2) {
                                int i13 = i12;
                                getUserConfig().setDialogsLoadOffset(i13, getUserConfig().migrateOffsetId, getUserConfig().migrateOffsetDate, getUserConfig().migrateOffsetUserId, getUserConfig().migrateOffsetChatId, getUserConfig().migrateOffsetChannelId, getUserConfig().migrateOffsetAccess);
                                i12 = i13 + 1;
                                tLRPC$Message7 = tLRPC$Message7;
                                str = str;
                                tLRPC$Message4 = tLRPC$Message4;
                            }
                            tLRPC$Message2 = tLRPC$Message4;
                            tLRPC$Message3 = tLRPC$Message7;
                            String str2 = str;
                            if (BuildVars.LOGS_ENABLED) {
                                FileLog.d(str2 + LocaleController.getInstance().formatterStats.format(max * 1000));
                            }
                            i2 = -1;
                        } else {
                            tLRPC$Message2 = tLRPC$Message4;
                            tLRPC$Message3 = tLRPC$Message7;
                        }
                        tLRPC$messages_Dialogs.messages.remove(i11);
                        i11--;
                        long dialogId = MessageObject.getDialogId(tLRPC$Message3);
                        TLRPC$Dialog tLRPC$Dialog3 = (TLRPC$Dialog) longSparseArray.get(dialogId);
                        longSparseArray.remove(dialogId);
                        if (tLRPC$Dialog3 != null) {
                            tLRPC$messages_Dialogs.dialogs.remove(tLRPC$Dialog3);
                        }
                    } else {
                        tLRPC$Message2 = tLRPC$Message4;
                    }
                    i11++;
                    i4 = i;
                    tLRPC$Message4 = tLRPC$Message2;
                    i6 = -1;
                }
                TLRPC$Message tLRPC$Message8 = tLRPC$Message4;
                if (tLRPC$Message8 != null) {
                    tLRPC$Message = tLRPC$Message8;
                    if (tLRPC$Message.date < max && i != -1) {
                        int i14 = 0;
                        for (int i15 = 2; i14 < i15; i15 = 2) {
                            getUserConfig().setDialogsLoadOffset(i14, getUserConfig().migrateOffsetId, getUserConfig().migrateOffsetDate, getUserConfig().migrateOffsetUserId, getUserConfig().migrateOffsetChatId, getUserConfig().migrateOffsetChannelId, getUserConfig().migrateOffsetAccess);
                            i14++;
                            queryFinalized2 = queryFinalized2;
                            max = max;
                        }
                        sQLiteCursor = queryFinalized2;
                        int i16 = max;
                        if (BuildVars.LOGS_ENABLED) {
                            FileLog.d(str + LocaleController.getInstance().formatterStats.format(i16 * 1000));
                        }
                        i3 = -1;
                        sQLiteCursor.dispose();
                        getUserConfig().migrateOffsetDate = tLRPC$Message.date;
                        tLRPC$Peer = tLRPC$Message.peer_id;
                        if (tLRPC$Peer.channel_id != 0) {
                            getUserConfig().migrateOffsetChannelId = tLRPC$Message.peer_id.channel_id;
                            getUserConfig().migrateOffsetChatId = 0L;
                            getUserConfig().migrateOffsetUserId = 0L;
                            int i17 = 0;
                            while (true) {
                                if (i17 >= tLRPC$messages_Dialogs.chats.size()) {
                                    break;
                                }
                                TLRPC$Chat tLRPC$Chat = tLRPC$messages_Dialogs.chats.get(i17);
                                if (tLRPC$Chat.id == getUserConfig().migrateOffsetChannelId) {
                                    getUserConfig().migrateOffsetAccess = tLRPC$Chat.access_hash;
                                    break;
                                }
                                i17++;
                            }
                        } else if (tLRPC$Peer.chat_id != 0) {
                            getUserConfig().migrateOffsetChatId = tLRPC$Message.peer_id.chat_id;
                            getUserConfig().migrateOffsetChannelId = 0L;
                            getUserConfig().migrateOffsetUserId = 0L;
                            int i18 = 0;
                            while (true) {
                                if (i18 >= tLRPC$messages_Dialogs.chats.size()) {
                                    break;
                                }
                                TLRPC$Chat tLRPC$Chat2 = tLRPC$messages_Dialogs.chats.get(i18);
                                if (tLRPC$Chat2.id == getUserConfig().migrateOffsetChatId) {
                                    getUserConfig().migrateOffsetAccess = tLRPC$Chat2.access_hash;
                                    break;
                                }
                                i18++;
                            }
                        } else if (tLRPC$Peer.user_id != 0) {
                            getUserConfig().migrateOffsetUserId = tLRPC$Message.peer_id.user_id;
                            getUserConfig().migrateOffsetChatId = 0L;
                            getUserConfig().migrateOffsetChannelId = 0L;
                            int i19 = 0;
                            while (true) {
                                if (i19 >= tLRPC$messages_Dialogs.users.size()) {
                                    break;
                                }
                                TLRPC$User tLRPC$User = tLRPC$messages_Dialogs.users.get(i19);
                                if (tLRPC$User.id == getUserConfig().migrateOffsetUserId) {
                                    getUserConfig().migrateOffsetAccess = tLRPC$User.access_hash;
                                    break;
                                }
                                i19++;
                            }
                        }
                        processLoadedDialogs(tLRPC$messages_Dialogs, null, 0, i3, 0, 0, false, true, false);
                    }
                } else {
                    sQLiteCursor = queryFinalized2;
                    tLRPC$Message = tLRPC$Message8;
                    i3 = i2;
                    sQLiteCursor.dispose();
                    getUserConfig().migrateOffsetDate = tLRPC$Message.date;
                    tLRPC$Peer = tLRPC$Message.peer_id;
                    if (tLRPC$Peer.channel_id != 0) {
                    }
                    processLoadedDialogs(tLRPC$messages_Dialogs, null, 0, i3, 0, 0, false, true, false);
                }
            } else {
                tLRPC$Message = tLRPC$Message4;
            }
            sQLiteCursor = queryFinalized2;
            i3 = i2;
            sQLiteCursor.dispose();
            getUserConfig().migrateOffsetDate = tLRPC$Message.date;
            tLRPC$Peer = tLRPC$Message.peer_id;
            if (tLRPC$Peer.channel_id != 0) {
            }
            processLoadedDialogs(tLRPC$messages_Dialogs, null, 0, i3, 0, 0, false, true, false);
        } catch (Exception e) {
            FileLog.e(e);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda30(this));
        }
    }

    public /* synthetic */ void lambda$migrateDialogs$172() {
        this.migratingDialogs = false;
    }

    public /* synthetic */ void lambda$migrateDialogs$174() {
        this.migratingDialogs = false;
    }

    public void processLoadedDialogs(TLRPC$messages_Dialogs tLRPC$messages_Dialogs, ArrayList<TLRPC$EncryptedChat> arrayList, int i, int i2, int i3, int i4, boolean z, boolean z2, boolean z3) {
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda43(this, i, i4, tLRPC$messages_Dialogs, z, i3, arrayList, i2, z3, z2));
    }

    /* JADX WARN: Code restructure failed: missing block: B:140:0x0342, code lost:
        if (r5 == r0.id) goto L142;
     */
    /* JADX WARN: Code restructure failed: missing block: B:37:0x0100, code lost:
        if (r2.date < r5.date) goto L39;
     */
    /* JADX WARN: Removed duplicated region for block: B:167:0x03a8  */
    /* JADX WARN: Removed duplicated region for block: B:170:0x03d5  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$processLoadedDialogs$179(int i, int i2, TLRPC$messages_Dialogs tLRPC$messages_Dialogs, boolean z, int i3, ArrayList arrayList, int i4, boolean z2, boolean z3) {
        SparseArray sparseArray;
        LongSparseArray longSparseArray;
        LongSparseArray longSparseArray2;
        LongSparseArray longSparseArray3;
        LongSparseArray longSparseArray4;
        TLRPC$Message tLRPC$Message;
        int i5;
        TLRPC$messages_Dialogs tLRPC$messages_Dialogs2;
        int i6;
        LongSparseArray longSparseArray5;
        LongSparseArray longSparseArray6;
        LongSparseArray longSparseArray7;
        LongSparseArray longSparseArray8;
        SparseArray sparseArray2;
        MessagesController messagesController;
        boolean z4;
        Integer num;
        Integer num2;
        TLRPC$Chat tLRPC$Chat;
        long j;
        long j2;
        long j3;
        long j4;
        int i7;
        int i8;
        int i9;
        long j5;
        long j6;
        int i10;
        int i11;
        long j7;
        SparseArray sparseArray3;
        TLRPC$Message tLRPC$Message2;
        TLRPC$Chat tLRPC$Chat2;
        TLRPC$messages_Dialogs tLRPC$messages_Dialogs3 = tLRPC$messages_Dialogs;
        if (!this.firstGettingTask) {
            getNewDeleteTask(null, null);
            this.firstGettingTask = true;
        }
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("loaded folderId " + i + " loadType " + i2 + " count " + tLRPC$messages_Dialogs3.dialogs.size());
        }
        long[] dialogLoadOffsets = getUserConfig().getDialogLoadOffsets(i);
        if (i2 == this.DIALOGS_LOAD_TYPE_CACHE && tLRPC$messages_Dialogs3.dialogs.size() == 0) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda191(this, tLRPC$messages_Dialogs, i, z, dialogLoadOffsets, i3));
            return;
        }
        LongSparseArray longSparseArray9 = new LongSparseArray();
        LongSparseArray longSparseArray10 = new LongSparseArray();
        LongSparseArray longSparseArray11 = new LongSparseArray();
        LongSparseArray longSparseArray12 = new LongSparseArray();
        int i12 = 0;
        while (i12 < tLRPC$messages_Dialogs3.users.size()) {
            TLRPC$User tLRPC$User = tLRPC$messages_Dialogs3.users.get(i12);
            longSparseArray11.put(tLRPC$User.id, tLRPC$User);
            i12++;
            dialogLoadOffsets = dialogLoadOffsets;
        }
        long[] jArr = dialogLoadOffsets;
        for (int i13 = 0; i13 < tLRPC$messages_Dialogs3.chats.size(); i13++) {
            TLRPC$Chat tLRPC$Chat3 = tLRPC$messages_Dialogs3.chats.get(i13);
            longSparseArray12.put(tLRPC$Chat3.id, tLRPC$Chat3);
        }
        if (arrayList != null) {
            SparseArray sparseArray4 = new SparseArray();
            int size = arrayList.size();
            for (int i14 = 0; i14 < size; i14++) {
                TLRPC$EncryptedChat tLRPC$EncryptedChat = (TLRPC$EncryptedChat) arrayList.get(i14);
                sparseArray4.put(tLRPC$EncryptedChat.id, tLRPC$EncryptedChat);
            }
            sparseArray = sparseArray4;
        } else {
            sparseArray = null;
        }
        if (i2 == this.DIALOGS_LOAD_TYPE_CACHE) {
            this.nextDialogsCacheOffset.put(i, i4 + i3);
        }
        ArrayList<MessageObject> arrayList2 = new ArrayList<>();
        int i15 = 0;
        TLRPC$Message tLRPC$Message3 = null;
        while (i15 < tLRPC$messages_Dialogs3.messages.size()) {
            TLRPC$Message tLRPC$Message4 = tLRPC$messages_Dialogs3.messages.get(i15);
            if (tLRPC$Message3 != null) {
                sparseArray3 = sparseArray;
            } else {
                sparseArray3 = sparseArray;
            }
            tLRPC$Message3 = tLRPC$Message4;
            TLRPC$Peer tLRPC$Peer = tLRPC$Message4.peer_id;
            long j8 = tLRPC$Peer.channel_id;
            if (j8 != 0) {
                TLRPC$Chat tLRPC$Chat4 = (TLRPC$Chat) longSparseArray12.get(j8);
                if (tLRPC$Chat4 == null || !tLRPC$Chat4.left) {
                    tLRPC$Message2 = tLRPC$Message3;
                } else {
                    long j9 = this.promoDialogId;
                    tLRPC$Message2 = tLRPC$Message3;
                    if (j9 != 0) {
                        if (j9 != (-tLRPC$Chat4.id)) {
                        }
                    }
                    i15++;
                    sparseArray = sparseArray3;
                    tLRPC$Message3 = tLRPC$Message2;
                }
                MessageObject messageObject = new MessageObject(this.currentAccount, tLRPC$Message4, (LongSparseArray<TLRPC$User>) longSparseArray11, (LongSparseArray<TLRPC$Chat>) longSparseArray12, false, false);
                arrayList2.add(messageObject);
                longSparseArray10.put(messageObject.getDialogId(), messageObject);
                i15++;
                sparseArray = sparseArray3;
                tLRPC$Message3 = tLRPC$Message2;
            } else {
                tLRPC$Message2 = tLRPC$Message3;
                long j10 = tLRPC$Peer.chat_id;
                if (j10 != 0 && (tLRPC$Chat2 = (TLRPC$Chat) longSparseArray12.get(j10)) != null && tLRPC$Chat2.migrated_to != null) {
                    i15++;
                    sparseArray = sparseArray3;
                    tLRPC$Message3 = tLRPC$Message2;
                }
                MessageObject messageObject2 = new MessageObject(this.currentAccount, tLRPC$Message4, (LongSparseArray<TLRPC$User>) longSparseArray11, (LongSparseArray<TLRPC$Chat>) longSparseArray12, false, false);
                arrayList2.add(messageObject2);
                longSparseArray10.put(messageObject2.getDialogId(), messageObject2);
                i15++;
                sparseArray = sparseArray3;
                tLRPC$Message3 = tLRPC$Message2;
            }
        }
        SparseArray sparseArray5 = sparseArray;
        getFileLoader().checkMediaExistance(arrayList2);
        if (z2 || z3 || jArr[0] == -1 || i2 != 0) {
            tLRPC$Message = tLRPC$Message3;
            longSparseArray4 = longSparseArray11;
            longSparseArray3 = longSparseArray12;
            longSparseArray2 = longSparseArray9;
            longSparseArray = longSparseArray10;
            i5 = 0;
        } else {
            int totalDialogsCount = getUserConfig().getTotalDialogsCount(i);
            if (tLRPC$Message3 == null || tLRPC$Message3.id == jArr[0]) {
                i7 = totalDialogsCount;
                j4 = 0;
                j3 = 0;
                j2 = 0;
                j = 0;
                i9 = Integer.MAX_VALUE;
                i8 = 0;
            } else {
                int size2 = totalDialogsCount + tLRPC$messages_Dialogs3.dialogs.size();
                int i16 = tLRPC$Message3.id;
                int i17 = tLRPC$Message3.date;
                TLRPC$Peer tLRPC$Peer2 = tLRPC$Message3.peer_id;
                long j11 = tLRPC$Peer2.channel_id;
                if (j11 != 0) {
                    int i18 = 0;
                    while (true) {
                        if (i18 >= tLRPC$messages_Dialogs3.chats.size()) {
                            i10 = size2;
                            i11 = i16;
                            j7 = 0;
                            break;
                        }
                        TLRPC$Chat tLRPC$Chat5 = tLRPC$messages_Dialogs3.chats.get(i18);
                        i10 = size2;
                        i11 = i16;
                        if (tLRPC$Chat5.id == j11) {
                            j7 = tLRPC$Chat5.access_hash;
                            break;
                        }
                        i18++;
                        size2 = i10;
                        i16 = i11;
                    }
                    j = j7;
                    i8 = i17;
                    j2 = j11;
                    j3 = 0;
                    i7 = i10;
                    i9 = i11;
                    j4 = 0;
                } else {
                    long j12 = tLRPC$Peer2.chat_id;
                    if (j12 != 0) {
                        int i19 = 0;
                        while (true) {
                            if (i19 >= tLRPC$messages_Dialogs3.chats.size()) {
                                j6 = 0;
                                break;
                            }
                            TLRPC$Chat tLRPC$Chat6 = tLRPC$messages_Dialogs3.chats.get(i19);
                            if (tLRPC$Chat6.id == j12) {
                                j6 = tLRPC$Chat6.access_hash;
                                break;
                            }
                            i19++;
                        }
                        j3 = j12;
                        j = j6;
                        j2 = 0;
                        i7 = size2;
                        i8 = i17;
                        i9 = i16;
                        j4 = 0;
                    } else {
                        long j13 = tLRPC$Peer2.user_id;
                        if (j13 != 0) {
                            int i20 = 0;
                            while (true) {
                                if (i20 >= tLRPC$messages_Dialogs3.users.size()) {
                                    j5 = 0;
                                    break;
                                }
                                TLRPC$User tLRPC$User2 = tLRPC$messages_Dialogs3.users.get(i20);
                                if (tLRPC$User2.id == j13) {
                                    j5 = tLRPC$User2.access_hash;
                                    break;
                                }
                                i20++;
                            }
                            j = j5;
                            j3 = 0;
                            j2 = 0;
                            i7 = size2;
                            i8 = i17;
                            i9 = i16;
                            j4 = j13;
                        } else {
                            i8 = i17;
                            j3 = 0;
                            j2 = 0;
                            j = 0;
                            i7 = size2;
                            i9 = i16;
                            j4 = 0;
                        }
                    }
                }
            }
            tLRPC$Message = tLRPC$Message3;
            longSparseArray4 = longSparseArray11;
            longSparseArray3 = longSparseArray12;
            longSparseArray2 = longSparseArray9;
            longSparseArray = longSparseArray10;
            i5 = 0;
            getUserConfig().setDialogsLoadOffset(i, i9, i8, j4, j3, j2, j);
            getUserConfig().setTotalDialogsCount(i, i7);
            getUserConfig().saveConfig(false);
        }
        ArrayList arrayList3 = new ArrayList();
        int i21 = 0;
        while (i21 < tLRPC$messages_Dialogs3.dialogs.size()) {
            TLRPC$Dialog tLRPC$Dialog = tLRPC$messages_Dialogs3.dialogs.get(i21);
            DialogObject.initDialog(tLRPC$Dialog);
            long j14 = tLRPC$Dialog.id;
            if (j14 == 0) {
                sparseArray2 = sparseArray5;
            } else {
                if (!DialogObject.isEncryptedDialog(j14) || sparseArray5 == null) {
                    sparseArray2 = sparseArray5;
                    messagesController = this;
                } else {
                    sparseArray2 = sparseArray5;
                    messagesController = this;
                    if (sparseArray2.get(DialogObject.getEncryptedChatId(tLRPC$Dialog.id)) == null) {
                    }
                }
                long j15 = messagesController.promoDialogId;
                if (j15 != 0 && j15 == tLRPC$Dialog.id) {
                    messagesController.promoDialog = tLRPC$Dialog;
                }
                if (tLRPC$Dialog.last_message_date == 0) {
                    longSparseArray7 = longSparseArray;
                    MessageObject messageObject3 = (MessageObject) longSparseArray7.get(tLRPC$Dialog.id);
                    if (messageObject3 != null) {
                        tLRPC$Dialog.last_message_date = messageObject3.messageOwner.date;
                    }
                } else {
                    longSparseArray7 = longSparseArray;
                }
                if (DialogObject.isChannel(tLRPC$Dialog)) {
                    longSparseArray6 = longSparseArray3;
                    TLRPC$Chat tLRPC$Chat7 = (TLRPC$Chat) longSparseArray6.get(-tLRPC$Dialog.id);
                    if (tLRPC$Chat7 != null) {
                        z4 = tLRPC$Chat7.megagroup;
                        if (ChatObject.isNotInChat(tLRPC$Chat7)) {
                            long j16 = messagesController.promoDialogId;
                            if (j16 != 0) {
                            }
                            longSparseArray8 = longSparseArray2;
                        }
                    } else {
                        z4 = true;
                    }
                    messagesController.channelsPts.put(-tLRPC$Dialog.id, tLRPC$Dialog.pts);
                    longSparseArray8 = longSparseArray2;
                    longSparseArray8.put(tLRPC$Dialog.id, tLRPC$Dialog);
                    if (z4 && i2 == messagesController.DIALOGS_LOAD_TYPE_CACHE && ((tLRPC$Dialog.read_outbox_max_id == 0 || tLRPC$Dialog.read_inbox_max_id == 0) && tLRPC$Dialog.top_message != 0)) {
                        arrayList3.add(tLRPC$Dialog);
                    }
                    num = messagesController.dialogs_read_inbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                    if (num == null) {
                        num = Integer.valueOf(i5);
                    }
                    messagesController.dialogs_read_inbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num.intValue(), tLRPC$Dialog.read_inbox_max_id)));
                    num2 = messagesController.dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                    if (num2 == null) {
                        num2 = Integer.valueOf(i5);
                    }
                    messagesController.dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num2.intValue(), tLRPC$Dialog.read_outbox_max_id)));
                } else {
                    longSparseArray6 = longSparseArray3;
                    if (!DialogObject.isChatDialog(tLRPC$Dialog.id) || (tLRPC$Chat = (TLRPC$Chat) longSparseArray6.get(-tLRPC$Dialog.id)) == null || (tLRPC$Chat.migrated_to == null && !ChatObject.isNotInChat(tLRPC$Chat))) {
                        z4 = true;
                        longSparseArray8 = longSparseArray2;
                        longSparseArray8.put(tLRPC$Dialog.id, tLRPC$Dialog);
                        if (z4) {
                            arrayList3.add(tLRPC$Dialog);
                        }
                        num = messagesController.dialogs_read_inbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                        if (num == null) {
                        }
                        messagesController.dialogs_read_inbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num.intValue(), tLRPC$Dialog.read_inbox_max_id)));
                        num2 = messagesController.dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                        if (num2 == null) {
                        }
                        messagesController.dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num2.intValue(), tLRPC$Dialog.read_outbox_max_id)));
                    }
                    longSparseArray8 = longSparseArray2;
                }
                i21++;
                sparseArray5 = sparseArray2;
                longSparseArray2 = longSparseArray8;
                longSparseArray = longSparseArray7;
                longSparseArray3 = longSparseArray6;
            }
            longSparseArray6 = longSparseArray3;
            longSparseArray8 = longSparseArray2;
            longSparseArray7 = longSparseArray;
            i21++;
            sparseArray5 = sparseArray2;
            longSparseArray2 = longSparseArray8;
            longSparseArray = longSparseArray7;
            longSparseArray3 = longSparseArray6;
        }
        LongSparseArray longSparseArray13 = longSparseArray3;
        LongSparseArray longSparseArray14 = longSparseArray2;
        LongSparseArray longSparseArray15 = longSparseArray;
        if (i2 != this.DIALOGS_LOAD_TYPE_CACHE) {
            ImageLoader.saveMessagesThumbs(tLRPC$messages_Dialogs3.messages);
            int i22 = 0;
            while (i22 < tLRPC$messages_Dialogs3.messages.size()) {
                TLRPC$Message tLRPC$Message5 = tLRPC$messages_Dialogs3.messages.get(i22);
                TLRPC$MessageAction tLRPC$MessageAction = tLRPC$Message5.action;
                if (tLRPC$MessageAction instanceof TLRPC$TL_messageActionChatDeleteUser) {
                    longSparseArray5 = longSparseArray4;
                    TLRPC$User tLRPC$User3 = (TLRPC$User) longSparseArray5.get(tLRPC$MessageAction.user_id);
                    if (tLRPC$User3 != null && tLRPC$User3.bot) {
                        tLRPC$Message5.reply_markup = new TLRPC$TL_replyKeyboardHide();
                        tLRPC$Message5.flags |= 64;
                    }
                } else {
                    longSparseArray5 = longSparseArray4;
                }
                TLRPC$MessageAction tLRPC$MessageAction2 = tLRPC$Message5.action;
                if ((tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChatMigrateTo) || (tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChannelCreate)) {
                    tLRPC$Message5.unread = false;
                    tLRPC$Message5.media_unread = false;
                } else {
                    ConcurrentHashMap<Long, Integer> concurrentHashMap = tLRPC$Message5.out ? this.dialogs_read_outbox_max : this.dialogs_read_inbox_max;
                    Integer num3 = concurrentHashMap.get(Long.valueOf(tLRPC$Message5.dialog_id));
                    if (num3 == null) {
                        num3 = Integer.valueOf(getMessagesStorage().getDialogReadMax(tLRPC$Message5.out, tLRPC$Message5.dialog_id));
                        concurrentHashMap.put(Long.valueOf(tLRPC$Message5.dialog_id), num3);
                    }
                    tLRPC$Message5.unread = num3.intValue() < tLRPC$Message5.id;
                }
                i22++;
                tLRPC$messages_Dialogs3 = tLRPC$messages_Dialogs;
                longSparseArray4 = longSparseArray5;
            }
            MessagesStorage messagesStorage = getMessagesStorage();
            if (i2 == this.DIALOGS_LOAD_TYPE_UNKNOWN) {
                i6 = 3;
                tLRPC$messages_Dialogs2 = tLRPC$messages_Dialogs;
            } else {
                tLRPC$messages_Dialogs2 = tLRPC$messages_Dialogs;
                i6 = 0;
            }
            messagesStorage.putDialogs(tLRPC$messages_Dialogs2, i6);
        } else {
            tLRPC$messages_Dialogs2 = tLRPC$messages_Dialogs3;
        }
        if (i2 == this.DIALOGS_LOAD_TYPE_CHANNEL) {
            TLRPC$Chat tLRPC$Chat8 = tLRPC$messages_Dialogs2.chats.get(0);
            getChannelDifference(tLRPC$Chat8.id);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda149(this, tLRPC$Chat8));
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda156(this, tLRPC$Message, i2, tLRPC$messages_Dialogs, arrayList, z3, i, longSparseArray14, longSparseArray15, longSparseArray13, i3, z2, i4, arrayList3));
    }

    public /* synthetic */ void lambda$processLoadedDialogs$176(TLRPC$messages_Dialogs tLRPC$messages_Dialogs, int i, boolean z, long[] jArr, int i2) {
        putUsers(tLRPC$messages_Dialogs.users, true);
        this.loadingDialogs.put(i, false);
        if (z) {
            this.dialogsEndReached.put(i, false);
            this.serverDialogsEndReached.put(i, false);
        } else if (jArr[0] == 2147483647L) {
            this.dialogsEndReached.put(i, true);
            this.serverDialogsEndReached.put(i, true);
        } else {
            loadDialogs(i, 0, i2, false);
        }
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    public /* synthetic */ void lambda$processLoadedDialogs$177(TLRPC$Chat tLRPC$Chat) {
        checkChatInviter(tLRPC$Chat.id, true);
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r1v18 */
    /* JADX WARN: Type inference failed for: r1v19 */
    /* JADX WARN: Type inference failed for: r1v79 */
    /* JADX WARN: Type inference failed for: r1v80 */
    public /* synthetic */ void lambda$processLoadedDialogs$178(TLRPC$Message tLRPC$Message, int i, TLRPC$messages_Dialogs tLRPC$messages_Dialogs, ArrayList arrayList, boolean z, int i2, LongSparseArray longSparseArray, LongSparseArray longSparseArray2, LongSparseArray longSparseArray3, int i3, boolean z2, int i4, ArrayList arrayList2) {
        int i5;
        int i6;
        boolean z3;
        int i7;
        if (tLRPC$Message != null) {
            this.dialogsLoadedTillDate = Math.min(this.dialogsLoadedTillDate, tLRPC$Message.date);
        } else {
            this.dialogsLoadedTillDate = Integer.MIN_VALUE;
        }
        if (i != this.DIALOGS_LOAD_TYPE_CACHE) {
            applyDialogsNotificationsSettings(tLRPC$messages_Dialogs.dialogs);
            getMediaDataController().loadDraftsIfNeed();
        }
        putUsers(tLRPC$messages_Dialogs.users, i == this.DIALOGS_LOAD_TYPE_CACHE);
        putChats(tLRPC$messages_Dialogs.chats, i == this.DIALOGS_LOAD_TYPE_CACHE);
        if (arrayList != null) {
            for (int i8 = 0; i8 < arrayList.size(); i8++) {
                TLRPC$EncryptedChat tLRPC$EncryptedChat = (TLRPC$EncryptedChat) arrayList.get(i8);
                if ((tLRPC$EncryptedChat instanceof TLRPC$TL_encryptedChat) && AndroidUtilities.getMyLayerVersion(tLRPC$EncryptedChat.layer) < SecretChatHelper.CURRENT_SECRET_CHAT_LAYER) {
                    getSecretChatHelper().sendNotifyLayerMessage(tLRPC$EncryptedChat, null);
                }
                putEncryptedChat(tLRPC$EncryptedChat, true);
            }
        }
        if (!z && i != this.DIALOGS_LOAD_TYPE_UNKNOWN && i != this.DIALOGS_LOAD_TYPE_CHANNEL) {
            this.loadingDialogs.put(i2, false);
        }
        this.dialogsLoaded = true;
        if (!z || this.allDialogs.isEmpty()) {
            i5 = 0;
        } else {
            ArrayList<TLRPC$Dialog> arrayList3 = this.allDialogs;
            i5 = arrayList3.get(arrayList3.size() - 1).last_message_date;
        }
        int i9 = 0;
        int i10 = 0;
        boolean z4 = false;
        while (i9 < longSparseArray.size()) {
            long keyAt = longSparseArray.keyAt(i9);
            TLRPC$Dialog tLRPC$Dialog = (TLRPC$Dialog) longSparseArray.valueAt(i9);
            TLRPC$Dialog tLRPC$Dialog2 = this.dialogs_dict.get(keyAt);
            if (z && tLRPC$Dialog2 != null) {
                tLRPC$Dialog2.folder_id = tLRPC$Dialog.folder_id;
            }
            if (!z || i5 == 0 || tLRPC$Dialog.last_message_date >= i5) {
                if (i == this.DIALOGS_LOAD_TYPE_CACHE || !(tLRPC$Dialog.draft instanceof TLRPC$TL_draftMessage)) {
                    i7 = i5;
                } else {
                    i7 = i5;
                    getMediaDataController().saveDraft(tLRPC$Dialog.id, 0, tLRPC$Dialog.draft, null, false);
                }
                if (tLRPC$Dialog.folder_id != i2) {
                    i10++;
                }
                MessageObject messageObject = (MessageObject) longSparseArray2.get(tLRPC$Dialog.id);
                if (tLRPC$Dialog2 == null) {
                    this.dialogs_dict.put(keyAt, tLRPC$Dialog);
                    this.dialogMessage.put(keyAt, messageObject);
                    if (messageObject != null && messageObject.messageOwner.peer_id.channel_id == 0) {
                        this.dialogMessagesByIds.put(messageObject.getId(), messageObject);
                        long j = messageObject.messageOwner.random_id;
                        if (j != 0) {
                            this.dialogMessagesByRandomIds.put(j, messageObject);
                        }
                    }
                    z4 = true;
                } else {
                    if (i != this.DIALOGS_LOAD_TYPE_CACHE) {
                        tLRPC$Dialog2.notify_settings = tLRPC$Dialog.notify_settings;
                    }
                    tLRPC$Dialog2.pinned = tLRPC$Dialog.pinned;
                    tLRPC$Dialog2.pinnedNum = tLRPC$Dialog.pinnedNum;
                    MessageObject messageObject2 = this.dialogMessage.get(keyAt);
                    if ((messageObject2 != null && messageObject2.deleted) || messageObject2 == null || tLRPC$Dialog2.top_message > 0) {
                        if (tLRPC$Dialog.top_message >= tLRPC$Dialog2.top_message) {
                            this.dialogs_dict.put(keyAt, tLRPC$Dialog);
                            this.dialogMessage.put(keyAt, messageObject);
                            if (messageObject2 != null) {
                                if (messageObject2.messageOwner.peer_id.channel_id == 0) {
                                    this.dialogMessagesByIds.remove(messageObject2.getId());
                                }
                                long j2 = messageObject2.messageOwner.random_id;
                                if (j2 != 0) {
                                    this.dialogMessagesByRandomIds.remove(j2);
                                }
                            }
                            if (messageObject != null) {
                                if (messageObject2 != null && messageObject2.getId() == messageObject.getId()) {
                                    messageObject.deleted = messageObject2.deleted;
                                }
                                if (messageObject.messageOwner.peer_id.channel_id == 0) {
                                    this.dialogMessagesByIds.put(messageObject.getId(), messageObject);
                                    long j3 = messageObject.messageOwner.random_id;
                                    if (j3 != 0) {
                                        this.dialogMessagesByRandomIds.put(j3, messageObject);
                                    }
                                }
                            }
                        }
                    } else if ((messageObject == null && messageObject2.getId() > 0) || (messageObject != null && messageObject.messageOwner.date > messageObject2.messageOwner.date)) {
                        this.dialogs_dict.put(keyAt, tLRPC$Dialog);
                        this.dialogMessage.put(keyAt, messageObject);
                        if (messageObject2.messageOwner.peer_id.channel_id == 0) {
                            this.dialogMessagesByIds.remove(messageObject2.getId());
                        }
                        if (messageObject != null && messageObject.messageOwner.peer_id.channel_id == 0) {
                            this.dialogMessagesByIds.put(messageObject.getId(), messageObject);
                            long j4 = messageObject.messageOwner.random_id;
                            if (j4 != 0) {
                                this.dialogMessagesByRandomIds.put(j4, messageObject);
                            }
                        }
                        long j5 = messageObject2.messageOwner.random_id;
                        if (j5 != 0) {
                            this.dialogMessagesByRandomIds.remove(j5);
                        }
                    }
                }
            } else {
                i7 = i5;
            }
            i9++;
            i5 = i7;
        }
        this.allDialogs.clear();
        int size = this.dialogs_dict.size();
        for (int i11 = 0; i11 < size; i11++) {
            TLRPC$Dialog valueAt = this.dialogs_dict.valueAt(i11);
            if (this.deletingDialogs.indexOfKey(valueAt.id) < 0) {
                this.allDialogs.add(valueAt);
            }
        }
        sortDialogs(z ? longSparseArray3 : null);
        putAllNeededDraftDialogs();
        if (i != this.DIALOGS_LOAD_TYPE_CHANNEL && i != this.DIALOGS_LOAD_TYPE_UNKNOWN && !z) {
            this.dialogsEndReached.put(i2, (tLRPC$messages_Dialogs.dialogs.size() == 0 || tLRPC$messages_Dialogs.dialogs.size() != i3) && i == 0);
            if (i10 <= 0 || i10 >= 20 || i2 != 0) {
                z3 = true;
            } else {
                z3 = true;
                this.dialogsEndReached.put(1, true);
                if (getUserConfig().getDialogLoadOffsets(i2)[0] == 2147483647L) {
                    this.serverDialogsEndReached.put(1, true);
                }
            }
            if (!z2) {
                SparseBooleanArray sparseBooleanArray = this.serverDialogsEndReached;
                if ((tLRPC$messages_Dialogs.dialogs.size() != 0 && tLRPC$messages_Dialogs.dialogs.size() == i3) || i != 0) {
                    z3 = false;
                }
                sparseBooleanArray.put(i2, z3);
            }
        }
        int totalDialogsCount = getUserConfig().getTotalDialogsCount(i2);
        long[] dialogLoadOffsets = getUserConfig().getDialogLoadOffsets(i2);
        if (z2 || z || totalDialogsCount >= 400) {
            i6 = 0;
        } else {
            i6 = 0;
            i6 = 0;
            i6 = 0;
            if (dialogLoadOffsets[0] != -1 && dialogLoadOffsets[0] != 2147483647L) {
                loadDialogs(i2, 0, 100, false);
            }
        }
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[i6]);
        if (z) {
            getUserConfig().migrateOffsetId = i4;
            getUserConfig().saveConfig(i6);
            this.migratingDialogs = i6;
            getNotificationCenter().postNotificationName(NotificationCenter.needReloadRecentDialogsSearch, new Object[i6]);
        } else {
            generateUpdateMessage();
            if (!z4 && i == this.DIALOGS_LOAD_TYPE_CACHE && this.dialogsEndReached.get(i2)) {
                loadDialogs(i2, i6, i3, i6);
            }
        }
        migrateDialogs(getUserConfig().migrateOffsetId, getUserConfig().migrateOffsetDate, getUserConfig().migrateOffsetUserId, getUserConfig().migrateOffsetChatId, getUserConfig().migrateOffsetChannelId, getUserConfig().migrateOffsetAccess);
        if (!arrayList2.isEmpty()) {
            reloadDialogsReadValue(arrayList2, 0L);
        }
        loadUnreadDialogs();
    }

    private void applyDialogNotificationsSettings(long j, TLRPC$PeerNotifySettings tLRPC$PeerNotifySettings) {
        int i;
        if (tLRPC$PeerNotifySettings == null) {
            return;
        }
        SharedPreferences sharedPreferences = this.notificationsPreferences;
        int i2 = sharedPreferences.getInt("notify2_" + j, -1);
        SharedPreferences sharedPreferences2 = this.notificationsPreferences;
        int i3 = sharedPreferences2.getInt("notifyuntil_" + j, 0);
        SharedPreferences.Editor edit = this.notificationsPreferences.edit();
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
        if (tLRPC$Dialog != null) {
            tLRPC$Dialog.notify_settings = tLRPC$PeerNotifySettings;
        }
        if ((tLRPC$PeerNotifySettings.flags & 2) != 0) {
            edit.putBoolean("silent_" + j, tLRPC$PeerNotifySettings.silent);
        } else {
            edit.remove("silent_" + j);
        }
        boolean z = true;
        if ((tLRPC$PeerNotifySettings.flags & 4) != 0) {
            if (tLRPC$PeerNotifySettings.mute_until > getConnectionsManager().getCurrentTime()) {
                if (tLRPC$PeerNotifySettings.mute_until <= getConnectionsManager().getCurrentTime() + 31536000) {
                    if (i2 == 3 && i3 == tLRPC$PeerNotifySettings.mute_until) {
                        z = false;
                    } else {
                        edit.putInt("notify2_" + j, 3);
                        edit.putInt("notifyuntil_" + j, tLRPC$PeerNotifySettings.mute_until);
                        if (tLRPC$Dialog != null) {
                            tLRPC$Dialog.notify_settings.mute_until = 0;
                        }
                    }
                    i = tLRPC$PeerNotifySettings.mute_until;
                } else if (i2 != 2) {
                    edit.putInt("notify2_" + j, 2);
                    if (tLRPC$Dialog != null) {
                        tLRPC$Dialog.notify_settings.mute_until = Integer.MAX_VALUE;
                    }
                    i = 0;
                } else {
                    i = 0;
                    z = false;
                }
                getMessagesStorage().setDialogFlags(j, (i << 32) | 1);
                getNotificationsController().removeNotificationsForDialog(j);
            } else {
                if (i2 == 0 || i2 == 1) {
                    z = false;
                } else {
                    if (tLRPC$Dialog != null) {
                        tLRPC$Dialog.notify_settings.mute_until = 0;
                    }
                    edit.putInt("notify2_" + j, 0);
                }
                getMessagesStorage().setDialogFlags(j, 0L);
            }
        } else {
            if (i2 != -1) {
                if (tLRPC$Dialog != null) {
                    tLRPC$Dialog.notify_settings.mute_until = 0;
                }
                edit.remove("notify2_" + j);
            } else {
                z = false;
            }
            getMessagesStorage().setDialogFlags(j, 0L);
        }
        boolean z2 = z;
        applySoundSettings(tLRPC$PeerNotifySettings.android_sound, edit, j, 0, false);
        edit.commit();
        if (!z2) {
            return;
        }
        getNotificationCenter().postNotificationName(NotificationCenter.notificationsSettingsUpdated, new Object[0]);
    }

    private void applyDialogsNotificationsSettings(ArrayList<TLRPC$Dialog> arrayList) {
        SharedPreferences.Editor editor = null;
        for (int i = 0; i < arrayList.size(); i++) {
            TLRPC$Dialog tLRPC$Dialog = arrayList.get(i);
            if (tLRPC$Dialog.peer != null && (tLRPC$Dialog.notify_settings instanceof TLRPC$TL_peerNotifySettings)) {
                if (editor == null) {
                    editor = this.notificationsPreferences.edit();
                }
                long peerId = MessageObject.getPeerId(tLRPC$Dialog.peer);
                if ((tLRPC$Dialog.notify_settings.flags & 2) != 0) {
                    editor.putBoolean("silent_" + peerId, tLRPC$Dialog.notify_settings.silent);
                } else {
                    editor.remove("silent_" + peerId);
                }
                TLRPC$PeerNotifySettings tLRPC$PeerNotifySettings = tLRPC$Dialog.notify_settings;
                if ((tLRPC$PeerNotifySettings.flags & 4) == 0) {
                    editor.remove("notify2_" + peerId);
                } else if (tLRPC$PeerNotifySettings.mute_until <= getConnectionsManager().getCurrentTime()) {
                    editor.putInt("notify2_" + peerId, 0);
                } else if (tLRPC$Dialog.notify_settings.mute_until > getConnectionsManager().getCurrentTime() + 31536000) {
                    editor.putInt("notify2_" + peerId, 2);
                    tLRPC$Dialog.notify_settings.mute_until = Integer.MAX_VALUE;
                } else {
                    editor.putInt("notify2_" + peerId, 3);
                    editor.putInt("notifyuntil_" + peerId, tLRPC$Dialog.notify_settings.mute_until);
                }
            }
        }
        if (editor != null) {
            editor.commit();
        }
    }

    public void reloadMentionsCountForChannel(TLRPC$InputPeer tLRPC$InputPeer, long j) {
        NativeByteBuffer nativeByteBuffer;
        Exception e;
        if (j == 0) {
            try {
                nativeByteBuffer = new NativeByteBuffer(tLRPC$InputPeer.getObjectSize() + 4);
            } catch (Exception e2) {
                nativeByteBuffer = null;
                e = e2;
            }
            try {
                nativeByteBuffer.writeInt32(22);
                tLRPC$InputPeer.serializeToStream(nativeByteBuffer);
            } catch (Exception e3) {
                e = e3;
                FileLog.e(e);
                j = getMessagesStorage().createPendingTask(nativeByteBuffer);
                TLRPC$TL_messages_getUnreadMentions tLRPC$TL_messages_getUnreadMentions = new TLRPC$TL_messages_getUnreadMentions();
                tLRPC$TL_messages_getUnreadMentions.peer = tLRPC$InputPeer;
                tLRPC$TL_messages_getUnreadMentions.limit = 1;
                getConnectionsManager().sendRequest(tLRPC$TL_messages_getUnreadMentions, new MessagesController$$ExternalSyntheticLambda325(this, tLRPC$InputPeer, j));
            }
            j = getMessagesStorage().createPendingTask(nativeByteBuffer);
        }
        TLRPC$TL_messages_getUnreadMentions tLRPC$TL_messages_getUnreadMentions2 = new TLRPC$TL_messages_getUnreadMentions();
        tLRPC$TL_messages_getUnreadMentions2.peer = tLRPC$InputPeer;
        tLRPC$TL_messages_getUnreadMentions2.limit = 1;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_getUnreadMentions2, new MessagesController$$ExternalSyntheticLambda325(this, tLRPC$InputPeer, j));
    }

    public /* synthetic */ void lambda$reloadMentionsCountForChannel$180(TLRPC$InputPeer tLRPC$InputPeer, long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        TLRPC$messages_Messages tLRPC$messages_Messages = (TLRPC$messages_Messages) tLObject;
        if (tLRPC$messages_Messages != null) {
            int i = tLRPC$messages_Messages.count;
            if (i == 0) {
                i = tLRPC$messages_Messages.messages.size();
            }
            getMessagesStorage().resetMentionsCount(-tLRPC$InputPeer.channel_id, i);
        }
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
    }

    public void reloadMentionsCountForChannels(ArrayList<Long> arrayList) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda111(this, arrayList));
    }

    public /* synthetic */ void lambda$reloadMentionsCountForChannels$181(ArrayList arrayList) {
        for (int i = 0; i < arrayList.size(); i++) {
            reloadMentionsCountForChannel(getInputPeer(-((Long) arrayList.get(i)).longValue()), 0L);
        }
    }

    public void processDialogsUpdateRead(LongSparseIntArray longSparseIntArray, LongSparseIntArray longSparseIntArray2) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda133(this, longSparseIntArray, longSparseIntArray2));
    }

    /* JADX WARN: Code restructure failed: missing block: B:47:0x00a4, code lost:
        r3 = true;
     */
    /* JADX WARN: Code restructure failed: missing block: B:70:0x0113, code lost:
        r3 = true;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$processDialogsUpdateRead$182(LongSparseIntArray longSparseIntArray, LongSparseIntArray longSparseIntArray2) {
        boolean z;
        if (longSparseIntArray != null) {
            z = false;
            for (int i = 0; i < longSparseIntArray.size(); i++) {
                long keyAt = longSparseIntArray.keyAt(i);
                TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(keyAt);
                if (tLRPC$Dialog == null) {
                    int i2 = 0;
                    while (true) {
                        if (i2 >= this.allDialogs.size()) {
                            break;
                        } else if (this.allDialogs.get(i2).id == keyAt) {
                            this.dialogs_dict.put(keyAt, this.allDialogs.get(i2));
                            tLRPC$Dialog = this.allDialogs.get(i2);
                            break;
                        } else {
                            i2++;
                        }
                    }
                }
                if (tLRPC$Dialog != null) {
                    int i3 = tLRPC$Dialog.unread_count;
                    int valueAt = longSparseIntArray.valueAt(i);
                    tLRPC$Dialog.unread_count = valueAt;
                    if (i3 != 0 && valueAt == 0) {
                        if (!isDialogMuted(keyAt)) {
                            this.unreadUnmutedDialogs--;
                        }
                        if (!z) {
                            int i4 = 0;
                            while (true) {
                                DialogFilter[] dialogFilterArr = this.selectedDialogFilter;
                                if (i4 >= dialogFilterArr.length) {
                                    break;
                                }
                                if (dialogFilterArr[i4] != null && (dialogFilterArr[i4].flags & DIALOG_FILTER_FLAG_EXCLUDE_READ) != 0) {
                                    break;
                                }
                                i4++;
                            }
                        }
                    } else if (i3 == 0 && !tLRPC$Dialog.unread_mark && valueAt != 0) {
                        if (!isDialogMuted(keyAt)) {
                            this.unreadUnmutedDialogs++;
                        }
                        if (!z) {
                            int i5 = 0;
                            while (true) {
                                DialogFilter[] dialogFilterArr2 = this.selectedDialogFilter;
                                if (i5 >= dialogFilterArr2.length) {
                                    break;
                                }
                                if (dialogFilterArr2[i5] != null && (dialogFilterArr2[i5].flags & DIALOG_FILTER_FLAG_EXCLUDE_READ) != 0) {
                                    break;
                                }
                                i5++;
                            }
                        }
                    }
                }
            }
        } else {
            z = false;
        }
        if (longSparseIntArray2 != null) {
            for (int i6 = 0; i6 < longSparseIntArray2.size(); i6++) {
                TLRPC$Dialog tLRPC$Dialog2 = this.dialogs_dict.get(longSparseIntArray2.keyAt(i6));
                if (tLRPC$Dialog2 != null) {
                    tLRPC$Dialog2.unread_mentions_count = longSparseIntArray2.valueAt(i6);
                    if (this.createdDialogMainThreadIds.contains(Long.valueOf(tLRPC$Dialog2.id))) {
                        getNotificationCenter().postNotificationName(NotificationCenter.updateMentionsCount, Long.valueOf(tLRPC$Dialog2.id), Integer.valueOf(tLRPC$Dialog2.unread_mentions_count));
                    }
                    if (!z) {
                        int i7 = 0;
                        while (true) {
                            DialogFilter[] dialogFilterArr3 = this.selectedDialogFilter;
                            if (i7 >= dialogFilterArr3.length) {
                                break;
                            } else if (dialogFilterArr3[i7] == null || ((dialogFilterArr3[i7].flags & DIALOG_FILTER_FLAG_EXCLUDE_MUTED) == 0 && (dialogFilterArr3[i7].flags & DIALOG_FILTER_FLAG_EXCLUDE_READ) == 0)) {
                                i7++;
                            }
                        }
                    }
                }
            }
        }
        if (z) {
            sortDialogs(null);
            getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
        }
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_READ_DIALOG_MESSAGE));
        if (longSparseIntArray != null) {
            getNotificationsController().processDialogsUpdateRead(longSparseIntArray);
        }
    }

    public void checkLastDialogMessage(TLRPC$Dialog tLRPC$Dialog, TLRPC$InputPeer tLRPC$InputPeer, long j) {
        NativeByteBuffer nativeByteBuffer;
        Exception e;
        if (DialogObject.isEncryptedDialog(tLRPC$Dialog.id) || this.checkingLastMessagesDialogs.indexOfKey(tLRPC$Dialog.id) >= 0) {
            return;
        }
        TLRPC$TL_messages_getHistory tLRPC$TL_messages_getHistory = new TLRPC$TL_messages_getHistory();
        if (tLRPC$InputPeer == null) {
            tLRPC$InputPeer = getInputPeer(tLRPC$Dialog.id);
        }
        tLRPC$TL_messages_getHistory.peer = tLRPC$InputPeer;
        if (tLRPC$InputPeer == null) {
            return;
        }
        tLRPC$TL_messages_getHistory.limit = 1;
        this.checkingLastMessagesDialogs.put(tLRPC$Dialog.id, Boolean.TRUE);
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("checkLastDialogMessage for " + tLRPC$Dialog.id);
        }
        if (j == 0) {
            try {
                nativeByteBuffer = new NativeByteBuffer(tLRPC$TL_messages_getHistory.peer.getObjectSize() + 60);
            } catch (Exception e2) {
                nativeByteBuffer = null;
                e = e2;
            }
            try {
                nativeByteBuffer.writeInt32(14);
                nativeByteBuffer.writeInt64(tLRPC$Dialog.id);
                nativeByteBuffer.writeInt32(tLRPC$Dialog.top_message);
                nativeByteBuffer.writeInt32(tLRPC$Dialog.read_inbox_max_id);
                nativeByteBuffer.writeInt32(tLRPC$Dialog.read_outbox_max_id);
                nativeByteBuffer.writeInt32(tLRPC$Dialog.unread_count);
                nativeByteBuffer.writeInt32(tLRPC$Dialog.last_message_date);
                nativeByteBuffer.writeInt32(tLRPC$Dialog.pts);
                nativeByteBuffer.writeInt32(tLRPC$Dialog.flags);
                nativeByteBuffer.writeBool(tLRPC$Dialog.pinned);
                nativeByteBuffer.writeInt32(tLRPC$Dialog.pinnedNum);
                nativeByteBuffer.writeInt32(tLRPC$Dialog.unread_mentions_count);
                nativeByteBuffer.writeBool(tLRPC$Dialog.unread_mark);
                nativeByteBuffer.writeInt32(tLRPC$Dialog.folder_id);
                tLRPC$TL_messages_getHistory.peer.serializeToStream(nativeByteBuffer);
            } catch (Exception e3) {
                e = e3;
                FileLog.e(e);
                j = getMessagesStorage().createPendingTask(nativeByteBuffer);
                getConnectionsManager().sendRequest(tLRPC$TL_messages_getHistory, new MessagesController$$ExternalSyntheticLambda324(this, tLRPC$Dialog, j));
            }
            j = getMessagesStorage().createPendingTask(nativeByteBuffer);
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_getHistory, new MessagesController$$ExternalSyntheticLambda324(this, tLRPC$Dialog, j));
    }

    public /* synthetic */ void lambda$checkLastDialogMessage$186(TLRPC$Dialog tLRPC$Dialog, long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            TLRPC$messages_Messages tLRPC$messages_Messages = (TLRPC$messages_Messages) tLObject;
            removeDeletedMessagesFromArray(tLRPC$Dialog.id, tLRPC$messages_Messages.messages);
            if (!tLRPC$messages_Messages.messages.isEmpty()) {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("checkLastDialogMessage for " + tLRPC$Dialog.id + " has message");
                }
                TLRPC$TL_messages_dialogs tLRPC$TL_messages_dialogs = new TLRPC$TL_messages_dialogs();
                TLRPC$Message tLRPC$Message = tLRPC$messages_Messages.messages.get(0);
                TLRPC$TL_dialog tLRPC$TL_dialog = new TLRPC$TL_dialog();
                tLRPC$TL_dialog.flags = tLRPC$Dialog.flags;
                tLRPC$TL_dialog.top_message = tLRPC$Message.id;
                tLRPC$TL_dialog.last_message_date = tLRPC$Message.date;
                tLRPC$TL_dialog.notify_settings = tLRPC$Dialog.notify_settings;
                tLRPC$TL_dialog.pts = tLRPC$Dialog.pts;
                tLRPC$TL_dialog.unread_count = tLRPC$Dialog.unread_count;
                tLRPC$TL_dialog.unread_mark = tLRPC$Dialog.unread_mark;
                tLRPC$TL_dialog.unread_mentions_count = tLRPC$Dialog.unread_mentions_count;
                tLRPC$TL_dialog.unread_reactions_count = tLRPC$Dialog.unread_reactions_count;
                tLRPC$TL_dialog.read_inbox_max_id = tLRPC$Dialog.read_inbox_max_id;
                tLRPC$TL_dialog.read_outbox_max_id = tLRPC$Dialog.read_outbox_max_id;
                tLRPC$TL_dialog.pinned = tLRPC$Dialog.pinned;
                tLRPC$TL_dialog.pinnedNum = tLRPC$Dialog.pinnedNum;
                tLRPC$TL_dialog.folder_id = tLRPC$Dialog.folder_id;
                long j2 = tLRPC$Dialog.id;
                tLRPC$TL_dialog.id = j2;
                tLRPC$Message.dialog_id = j2;
                tLRPC$TL_messages_dialogs.users.addAll(tLRPC$messages_Messages.users);
                tLRPC$TL_messages_dialogs.chats.addAll(tLRPC$messages_Messages.chats);
                tLRPC$TL_messages_dialogs.dialogs.add(tLRPC$TL_dialog);
                tLRPC$TL_messages_dialogs.messages.addAll(tLRPC$messages_Messages.messages);
                tLRPC$TL_messages_dialogs.count = 1;
                processDialogsUpdate(tLRPC$TL_messages_dialogs, null, false);
                getMessagesStorage().putMessages(tLRPC$messages_Messages.messages, true, true, false, getDownloadController().getAutodownloadMask(), true, false);
            } else {
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda154(this, tLRPC$Dialog));
            }
        }
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda153(this, tLRPC$Dialog));
    }

    public /* synthetic */ void lambda$checkLastDialogMessage$184(TLRPC$Dialog tLRPC$Dialog) {
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("checkLastDialogMessage for " + tLRPC$Dialog.id + " has not message");
        }
        if (getMediaDataController().getDraft(tLRPC$Dialog.id, 0) == null) {
            TLRPC$Dialog tLRPC$Dialog2 = this.dialogs_dict.get(tLRPC$Dialog.id);
            if (tLRPC$Dialog2 == null) {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("checkLastDialogMessage for " + tLRPC$Dialog.id + " current dialog not found");
                }
                getMessagesStorage().isDialogHasTopMessage(tLRPC$Dialog.id, new MessagesController$$ExternalSyntheticLambda155(this, tLRPC$Dialog));
                return;
            }
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("checkLastDialogMessage for " + tLRPC$Dialog.id + " current dialog top message " + tLRPC$Dialog2.top_message);
            }
            if (tLRPC$Dialog2.top_message != 0) {
                return;
            }
            deleteDialog(tLRPC$Dialog.id, 3);
        }
    }

    public /* synthetic */ void lambda$checkLastDialogMessage$183(TLRPC$Dialog tLRPC$Dialog) {
        deleteDialog(tLRPC$Dialog.id, 3);
    }

    public /* synthetic */ void lambda$checkLastDialogMessage$185(TLRPC$Dialog tLRPC$Dialog) {
        this.checkingLastMessagesDialogs.delete(tLRPC$Dialog.id);
    }

    public void processDialogsUpdate(TLRPC$messages_Dialogs tLRPC$messages_Dialogs, ArrayList<TLRPC$EncryptedChat> arrayList, boolean z) {
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda195(this, tLRPC$messages_Dialogs, z));
    }

    /* JADX WARN: Code restructure failed: missing block: B:22:0x009d, code lost:
        if (org.telegram.messenger.ChatObject.isNotInChat(r5) != false) goto L31;
     */
    /* JADX WARN: Code restructure failed: missing block: B:30:0x00b8, code lost:
        if (org.telegram.messenger.ChatObject.isNotInChat(r5) != false) goto L31;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$processDialogsUpdate$188(TLRPC$messages_Dialogs tLRPC$messages_Dialogs, boolean z) {
        LongSparseIntArray longSparseIntArray;
        MessageObject messageObject;
        TLRPC$Chat tLRPC$Chat;
        TLRPC$Chat tLRPC$Chat2;
        int i;
        ArrayList<MessageObject> arrayList;
        LongSparseArray longSparseArray = new LongSparseArray();
        LongSparseArray longSparseArray2 = new LongSparseArray();
        LongSparseArray longSparseArray3 = new LongSparseArray(tLRPC$messages_Dialogs.users.size());
        LongSparseArray longSparseArray4 = new LongSparseArray(tLRPC$messages_Dialogs.chats.size());
        LongSparseIntArray longSparseIntArray2 = new LongSparseIntArray();
        for (int i2 = 0; i2 < tLRPC$messages_Dialogs.users.size(); i2++) {
            TLRPC$User tLRPC$User = tLRPC$messages_Dialogs.users.get(i2);
            longSparseArray3.put(tLRPC$User.id, tLRPC$User);
        }
        for (int i3 = 0; i3 < tLRPC$messages_Dialogs.chats.size(); i3++) {
            TLRPC$Chat tLRPC$Chat3 = tLRPC$messages_Dialogs.chats.get(i3);
            longSparseArray4.put(tLRPC$Chat3.id, tLRPC$Chat3);
        }
        ArrayList<MessageObject> arrayList2 = new ArrayList<>();
        int i4 = 0;
        while (i4 < tLRPC$messages_Dialogs.messages.size()) {
            TLRPC$Message tLRPC$Message = tLRPC$messages_Dialogs.messages.get(i4);
            LongSparseIntArray longSparseIntArray3 = longSparseIntArray2;
            long j = this.promoDialogId;
            if (j == 0 || j != tLRPC$Message.dialog_id) {
                TLRPC$Peer tLRPC$Peer = tLRPC$Message.peer_id;
                long j2 = tLRPC$Peer.channel_id;
                if (j2 != 0) {
                    TLRPC$Chat tLRPC$Chat4 = (TLRPC$Chat) longSparseArray4.get(j2);
                    if (tLRPC$Chat4 != null) {
                    }
                } else {
                    long j3 = tLRPC$Peer.chat_id;
                    if (j3 != 0) {
                        TLRPC$Chat tLRPC$Chat5 = (TLRPC$Chat) longSparseArray4.get(j3);
                        if (tLRPC$Chat5 != null) {
                            if (tLRPC$Chat5.migrated_to == null) {
                            }
                            i = i4;
                            arrayList = arrayList2;
                        }
                    }
                }
                i4 = i + 1;
                arrayList2 = arrayList;
                longSparseIntArray2 = longSparseIntArray3;
            }
            i = i4;
            arrayList = arrayList2;
            MessageObject messageObject2 = new MessageObject(this.currentAccount, tLRPC$Message, (LongSparseArray<TLRPC$User>) longSparseArray3, (LongSparseArray<TLRPC$Chat>) longSparseArray4, false, false);
            arrayList.add(messageObject2);
            longSparseArray2.put(messageObject2.getDialogId(), messageObject2);
            i4 = i + 1;
            arrayList2 = arrayList;
            longSparseIntArray2 = longSparseIntArray3;
        }
        LongSparseIntArray longSparseIntArray4 = longSparseIntArray2;
        getFileLoader().checkMediaExistance(arrayList2);
        int i5 = 0;
        while (i5 < tLRPC$messages_Dialogs.dialogs.size()) {
            TLRPC$Dialog tLRPC$Dialog = tLRPC$messages_Dialogs.dialogs.get(i5);
            DialogObject.initDialog(tLRPC$Dialog);
            long j4 = this.promoDialogId;
            if ((j4 == 0 || j4 != tLRPC$Dialog.id) && (!DialogObject.isChannel(tLRPC$Dialog) ? !(!DialogObject.isChatDialog(tLRPC$Dialog.id) || (tLRPC$Chat = (TLRPC$Chat) longSparseArray4.get(-tLRPC$Dialog.id)) == null || (tLRPC$Chat.migrated_to == null && !ChatObject.isNotInChat(tLRPC$Chat))) : !((tLRPC$Chat2 = (TLRPC$Chat) longSparseArray4.get(-tLRPC$Dialog.id)) == null || !ChatObject.isNotInChat(tLRPC$Chat2)))) {
                longSparseIntArray = longSparseIntArray4;
            } else {
                if (tLRPC$Dialog.last_message_date == 0 && (messageObject = (MessageObject) longSparseArray2.get(tLRPC$Dialog.id)) != null) {
                    tLRPC$Dialog.last_message_date = messageObject.messageOwner.date;
                }
                longSparseArray.put(tLRPC$Dialog.id, tLRPC$Dialog);
                longSparseIntArray = longSparseIntArray4;
                longSparseIntArray.put(tLRPC$Dialog.id, tLRPC$Dialog.unread_count);
                Integer num = this.dialogs_read_inbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                if (num == null) {
                    num = 0;
                }
                int i6 = tLRPC$Dialog.read_inbox_max_id;
                int i7 = tLRPC$Dialog.top_message;
                if (i6 > i7) {
                    tLRPC$Dialog.read_inbox_max_id = i7;
                }
                int intValue = num.intValue();
                int i8 = tLRPC$Dialog.top_message;
                if (intValue > i8) {
                    num = Integer.valueOf(i8);
                }
                this.dialogs_read_inbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num.intValue(), tLRPC$Dialog.read_inbox_max_id)));
                Integer num2 = this.dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                if (num2 == null) {
                    num2 = 0;
                }
                this.dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num2.intValue(), tLRPC$Dialog.read_outbox_max_id)));
            }
            i5++;
            longSparseIntArray4 = longSparseIntArray;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda193(this, tLRPC$messages_Dialogs, longSparseArray, longSparseArray2, z, longSparseIntArray4));
    }

    /* JADX WARN: Removed duplicated region for block: B:102:0x02aa  */
    /* JADX WARN: Removed duplicated region for block: B:116:0x02ad A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:118:0x02ad A[ADDED_TO_REGION, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:120:0x02ad A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:40:0x010c  */
    /* JADX WARN: Removed duplicated region for block: B:41:0x0130  */
    /* JADX WARN: Removed duplicated region for block: B:44:0x013f  */
    /* JADX WARN: Removed duplicated region for block: B:74:0x0218  */
    /* JADX WARN: Removed duplicated region for block: B:82:0x0237  */
    /* JADX WARN: Removed duplicated region for block: B:86:0x0254  */
    /* JADX WARN: Removed duplicated region for block: B:88:0x025b  */
    /* JADX WARN: Removed duplicated region for block: B:99:0x02a0 A[ADDED_TO_REGION] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$processDialogsUpdate$187(TLRPC$messages_Dialogs tLRPC$messages_Dialogs, LongSparseArray longSparseArray, LongSparseArray longSparseArray2, boolean z, LongSparseIntArray longSparseIntArray) {
        long j;
        int i;
        int i2;
        long j2;
        MessageObject messageObject;
        long j3;
        long j4;
        long j5;
        long j6;
        LongSparseArray longSparseArray3 = longSparseArray;
        int i3 = 1;
        putUsers(tLRPC$messages_Dialogs.users, true);
        putChats(tLRPC$messages_Dialogs.chats, true);
        int i4 = 0;
        int i5 = 0;
        while (i5 < longSparseArray.size()) {
            long keyAt = longSparseArray3.keyAt(i5);
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("processDialogsUpdate " + keyAt);
            }
            TLRPC$Dialog tLRPC$Dialog = (TLRPC$Dialog) longSparseArray3.valueAt(i5);
            TLRPC$Dialog tLRPC$Dialog2 = this.dialogs_dict.get(keyAt);
            MessageObject messageObject2 = (MessageObject) longSparseArray2.get(tLRPC$Dialog.id);
            if (tLRPC$Dialog2 == null) {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("processDialogsUpdate dialog null");
                }
                this.nextDialogsCacheOffset.put(tLRPC$Dialog.folder_id, this.nextDialogsCacheOffset.get(tLRPC$Dialog.folder_id, i4) + i3);
                this.dialogs_dict.put(keyAt, tLRPC$Dialog);
                this.dialogMessage.put(keyAt, messageObject2);
                if (messageObject2 == null) {
                    if (z) {
                        checkLastDialogMessage(tLRPC$Dialog, null, 0L);
                    }
                    if (BuildVars.LOGS_ENABLED) {
                        FileLog.d("processDialogsUpdate new message is null");
                    }
                } else if (messageObject2.messageOwner.peer_id.channel_id == 0) {
                    this.dialogMessagesByIds.put(messageObject2.getId(), messageObject2);
                    this.dialogsLoadedTillDate = Math.min(this.dialogsLoadedTillDate, messageObject2.messageOwner.date);
                    long j7 = messageObject2.messageOwner.random_id;
                    if (j7 != 0) {
                        this.dialogMessagesByRandomIds.put(j7, messageObject2);
                    }
                    if (BuildVars.LOGS_ENABLED) {
                        FileLog.d("processDialogsUpdate new message not null");
                    }
                }
            } else {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("processDialogsUpdate dialog not null");
                }
                tLRPC$Dialog2.unread_count = tLRPC$Dialog.unread_count;
                int i6 = tLRPC$Dialog2.unread_mentions_count;
                int i7 = tLRPC$Dialog.unread_mentions_count;
                if (i6 != i7) {
                    tLRPC$Dialog2.unread_mentions_count = i7;
                    if (this.createdDialogMainThreadIds.contains(Long.valueOf(tLRPC$Dialog2.id))) {
                        j = keyAt;
                        getNotificationCenter().postNotificationName(NotificationCenter.updateMentionsCount, Long.valueOf(tLRPC$Dialog2.id), Integer.valueOf(tLRPC$Dialog2.unread_mentions_count));
                        i = tLRPC$Dialog2.unread_reactions_count;
                        i2 = tLRPC$Dialog.unread_reactions_count;
                        if (i == i2) {
                            tLRPC$Dialog2.unread_reactions_count = i2;
                            getNotificationCenter().postNotificationName(NotificationCenter.dialogsUnreadReactionsCounterChanged, Long.valueOf(tLRPC$Dialog2.id), Integer.valueOf(tLRPC$Dialog2.unread_reactions_count), null);
                        }
                        j2 = j;
                        messageObject = this.dialogMessage.get(j2);
                        if (BuildVars.LOGS_ENABLED) {
                            FileLog.d("processDialogsUpdate oldMsg " + messageObject + " old top_message = " + tLRPC$Dialog2.top_message + " new top_message = " + tLRPC$Dialog.top_message + "  unread_count =" + tLRPC$Dialog2.unread_count + " fromCache=" + z);
                            StringBuilder sb = new StringBuilder();
                            sb.append("processDialogsUpdate oldMsgDeleted ");
                            sb.append(messageObject != null && messageObject.deleted);
                            FileLog.d(sb.toString());
                        }
                        if (messageObject != null || tLRPC$Dialog2.top_message > 0) {
                            if ((messageObject != null && messageObject.deleted) || tLRPC$Dialog.top_message > tLRPC$Dialog2.top_message) {
                                this.dialogs_dict.put(j2, tLRPC$Dialog);
                                this.dialogMessage.put(j2, messageObject2);
                                if (messageObject != null && messageObject.messageOwner.peer_id.channel_id == 0) {
                                    this.dialogMessagesByIds.remove(messageObject.getId());
                                    j4 = messageObject.messageOwner.random_id;
                                    if (j4 != 0) {
                                        this.dialogMessagesByRandomIds.remove(j4);
                                    }
                                }
                                if (messageObject2 != null) {
                                    if (messageObject != null && messageObject.getId() == messageObject2.getId()) {
                                        messageObject2.deleted = messageObject.deleted;
                                    }
                                    if (messageObject2.messageOwner.peer_id.channel_id == 0) {
                                        this.dialogMessagesByIds.put(messageObject2.getId(), messageObject2);
                                        this.dialogsLoadedTillDate = Math.min(this.dialogsLoadedTillDate, messageObject2.messageOwner.date);
                                        long j8 = messageObject2.messageOwner.random_id;
                                        j3 = 0;
                                        if (j8 != 0) {
                                            this.dialogMessagesByRandomIds.put(j8, messageObject2);
                                        }
                                        if (z && messageObject2 == null) {
                                            checkLastDialogMessage(tLRPC$Dialog, null, j3);
                                            if (!BuildVars.LOGS_ENABLED) {
                                                FileLog.d("processDialogsUpdate new message is null");
                                            }
                                        }
                                    }
                                }
                            }
                            j3 = 0;
                            if (z) {
                                checkLastDialogMessage(tLRPC$Dialog, null, j3);
                                if (!BuildVars.LOGS_ENABLED) {
                                }
                            }
                        } else if (messageObject.deleted || messageObject2 == null || messageObject2.messageOwner.date > messageObject.messageOwner.date) {
                            this.dialogs_dict.put(j2, tLRPC$Dialog);
                            this.dialogMessage.put(j2, messageObject2);
                            if (messageObject.messageOwner.peer_id.channel_id == 0) {
                                this.dialogMessagesByIds.remove(messageObject.getId());
                            }
                            if (messageObject2 != null) {
                                if (messageObject.getId() == messageObject2.getId()) {
                                    messageObject2.deleted = messageObject.deleted;
                                }
                                if (messageObject2.messageOwner.peer_id.channel_id == 0) {
                                    this.dialogMessagesByIds.put(messageObject2.getId(), messageObject2);
                                    this.dialogsLoadedTillDate = Math.min(this.dialogsLoadedTillDate, messageObject2.messageOwner.date);
                                    long j9 = messageObject2.messageOwner.random_id;
                                    j5 = 0;
                                    if (j9 != 0) {
                                        this.dialogMessagesByRandomIds.put(j9, messageObject2);
                                    }
                                    j6 = messageObject.messageOwner.random_id;
                                    if (j6 == j5) {
                                        this.dialogMessagesByRandomIds.remove(j6);
                                    }
                                }
                            }
                            j5 = 0;
                            j6 = messageObject.messageOwner.random_id;
                            if (j6 == j5) {
                            }
                        }
                    }
                }
                j = keyAt;
                i = tLRPC$Dialog2.unread_reactions_count;
                i2 = tLRPC$Dialog.unread_reactions_count;
                if (i == i2) {
                }
                j2 = j;
                messageObject = this.dialogMessage.get(j2);
                if (BuildVars.LOGS_ENABLED) {
                }
                if (messageObject != null) {
                }
                if (messageObject != null) {
                    this.dialogs_dict.put(j2, tLRPC$Dialog);
                    this.dialogMessage.put(j2, messageObject2);
                    if (messageObject != null) {
                        this.dialogMessagesByIds.remove(messageObject.getId());
                        j4 = messageObject.messageOwner.random_id;
                        if (j4 != 0) {
                        }
                    }
                    if (messageObject2 != null) {
                    }
                    j3 = 0;
                    if (z) {
                    }
                }
                this.dialogs_dict.put(j2, tLRPC$Dialog);
                this.dialogMessage.put(j2, messageObject2);
                if (messageObject != null) {
                }
                if (messageObject2 != null) {
                }
                j3 = 0;
                if (z) {
                }
            }
            i5++;
            longSparseArray3 = longSparseArray;
            i4 = 0;
            i3 = 1;
        }
        this.allDialogs.clear();
        int size = this.dialogs_dict.size();
        for (int i8 = 0; i8 < size; i8++) {
            TLRPC$Dialog valueAt = this.dialogs_dict.valueAt(i8);
            if (this.deletingDialogs.indexOfKey(valueAt.id) < 0) {
                this.allDialogs.add(valueAt);
            }
        }
        sortDialogs(null);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
        getNotificationsController().processDialogsUpdateRead(longSparseIntArray);
    }

    public void addToViewsQueue(MessageObject messageObject) {
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda127(this, messageObject));
    }

    public /* synthetic */ void lambda$addToViewsQueue$189(MessageObject messageObject) {
        long dialogId = messageObject.getDialogId();
        int id = messageObject.getId();
        ArrayList<Integer> arrayList = this.channelViewsToSend.get(dialogId);
        if (arrayList == null) {
            arrayList = new ArrayList<>();
            this.channelViewsToSend.put(dialogId, arrayList);
        }
        if (!arrayList.contains(Integer.valueOf(id))) {
            arrayList.add(Integer.valueOf(id));
        }
    }

    public void loadReactionsForMessages(long j, ArrayList<MessageObject> arrayList) {
        if (arrayList.isEmpty()) {
            return;
        }
        TLRPC$TL_messages_getMessagesReactions tLRPC$TL_messages_getMessagesReactions = new TLRPC$TL_messages_getMessagesReactions();
        tLRPC$TL_messages_getMessagesReactions.peer = getInputPeer(j);
        for (int i = 0; i < arrayList.size(); i++) {
            tLRPC$TL_messages_getMessagesReactions.id.add(Integer.valueOf(arrayList.get(i).getId()));
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_getMessagesReactions, new MessagesController$$ExternalSyntheticLambda240(this));
    }

    public /* synthetic */ void lambda$loadReactionsForMessages$190(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$Updates tLRPC$Updates = (TLRPC$Updates) tLObject;
            for (int i = 0; i < tLRPC$Updates.updates.size(); i++) {
                if (tLRPC$Updates.updates.get(i) instanceof TLRPC$TL_updateMessageReactions) {
                    ((TLRPC$TL_updateMessageReactions) tLRPC$Updates.updates.get(i)).updateUnreadState = false;
                }
            }
            processUpdates(tLRPC$Updates, false);
        }
    }

    public void addToPollsQueue(long j, ArrayList<MessageObject> arrayList) {
        int i;
        SparseArray<MessageObject> sparseArray = this.pollsToCheck.get(j);
        if (sparseArray == null) {
            sparseArray = new SparseArray<>();
            this.pollsToCheck.put(j, sparseArray);
            this.pollsToCheckSize++;
        }
        int size = sparseArray.size();
        for (int i2 = 0; i2 < size; i2++) {
            sparseArray.valueAt(i2).pollVisibleOnScreen = false;
        }
        int currentTime = getConnectionsManager().getCurrentTime();
        int size2 = arrayList.size();
        boolean z = false;
        int i3 = Integer.MAX_VALUE;
        for (int i4 = 0; i4 < size2; i4++) {
            MessageObject messageObject = arrayList.get(i4);
            if (messageObject.type == 17) {
                TLRPC$Poll tLRPC$Poll = ((TLRPC$TL_messageMediaPoll) messageObject.messageOwner.media).poll;
                if (!tLRPC$Poll.closed && (i = tLRPC$Poll.close_date) != 0) {
                    if (i <= currentTime) {
                        z = true;
                    } else {
                        i3 = Math.min(i3, i - currentTime);
                    }
                }
                int id = messageObject.getId();
                MessageObject messageObject2 = sparseArray.get(id);
                if (messageObject2 != null) {
                    messageObject2.pollVisibleOnScreen = true;
                } else {
                    sparseArray.put(id, messageObject);
                }
            }
        }
        if (z) {
            this.lastViewsCheckTime = 0L;
        } else if (i3 < 5) {
            this.lastViewsCheckTime = Math.min(this.lastViewsCheckTime, System.currentTimeMillis() - ((5 - i3) * 1000));
        }
    }

    public void markMessageContentAsRead(MessageObject messageObject) {
        if (messageObject.scheduled) {
            return;
        }
        ArrayList<Integer> arrayList = new ArrayList<>();
        if (messageObject.messageOwner.mentioned) {
            getMessagesStorage().markMentionMessageAsRead(-messageObject.messageOwner.peer_id.channel_id, messageObject.getId(), messageObject.getDialogId());
        }
        arrayList.add(Integer.valueOf(messageObject.getId()));
        long dialogId = messageObject.getDialogId();
        getMessagesStorage().markMessagesContentAsRead(dialogId, arrayList, 0);
        getNotificationCenter().postNotificationName(NotificationCenter.messagesReadContent, Long.valueOf(dialogId), arrayList);
        if (messageObject.getId() < 0) {
            markMessageAsRead(messageObject.getDialogId(), messageObject.messageOwner.random_id, Integer.MIN_VALUE);
        } else if (messageObject.messageOwner.peer_id.channel_id != 0) {
            TLRPC$TL_channels_readMessageContents tLRPC$TL_channels_readMessageContents = new TLRPC$TL_channels_readMessageContents();
            TLRPC$InputChannel inputChannel = getInputChannel(messageObject.messageOwner.peer_id.channel_id);
            tLRPC$TL_channels_readMessageContents.channel = inputChannel;
            if (inputChannel == null) {
                return;
            }
            tLRPC$TL_channels_readMessageContents.id.add(Integer.valueOf(messageObject.getId()));
            getConnectionsManager().sendRequest(tLRPC$TL_channels_readMessageContents, MessagesController$$ExternalSyntheticLambda357.INSTANCE);
        } else {
            TLRPC$TL_messages_readMessageContents tLRPC$TL_messages_readMessageContents = new TLRPC$TL_messages_readMessageContents();
            tLRPC$TL_messages_readMessageContents.id.add(Integer.valueOf(messageObject.getId()));
            getConnectionsManager().sendRequest(tLRPC$TL_messages_readMessageContents, new MessagesController$$ExternalSyntheticLambda251(this));
        }
    }

    public /* synthetic */ void lambda$markMessageContentAsRead$192(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_messages_affectedMessages tLRPC$TL_messages_affectedMessages = (TLRPC$TL_messages_affectedMessages) tLObject;
            processNewDifferenceParams(-1, tLRPC$TL_messages_affectedMessages.pts, -1, tLRPC$TL_messages_affectedMessages.pts_count);
        }
    }

    public void markMentionMessageAsRead(int i, long j, long j2) {
        getMessagesStorage().markMentionMessageAsRead(-j, i, j2);
        if (j != 0) {
            TLRPC$TL_channels_readMessageContents tLRPC$TL_channels_readMessageContents = new TLRPC$TL_channels_readMessageContents();
            TLRPC$InputChannel inputChannel = getInputChannel(j);
            tLRPC$TL_channels_readMessageContents.channel = inputChannel;
            if (inputChannel == null) {
                return;
            }
            tLRPC$TL_channels_readMessageContents.id.add(Integer.valueOf(i));
            getConnectionsManager().sendRequest(tLRPC$TL_channels_readMessageContents, MessagesController$$ExternalSyntheticLambda351.INSTANCE);
            return;
        }
        TLRPC$TL_messages_readMessageContents tLRPC$TL_messages_readMessageContents = new TLRPC$TL_messages_readMessageContents();
        tLRPC$TL_messages_readMessageContents.id.add(Integer.valueOf(i));
        getConnectionsManager().sendRequest(tLRPC$TL_messages_readMessageContents, new MessagesController$$ExternalSyntheticLambda242(this));
    }

    public /* synthetic */ void lambda$markMentionMessageAsRead$194(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_messages_affectedMessages tLRPC$TL_messages_affectedMessages = (TLRPC$TL_messages_affectedMessages) tLObject;
            processNewDifferenceParams(-1, tLRPC$TL_messages_affectedMessages.pts, -1, tLRPC$TL_messages_affectedMessages.pts_count);
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:38:0x007b  */
    /* JADX WARN: Removed duplicated region for block: B:39:0x0098  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void markMessageAsRead2(long j, int i, TLRPC$InputChannel tLRPC$InputChannel, int i2, long j2) {
        TLRPC$InputChannel tLRPC$InputChannel2;
        long j3;
        NativeByteBuffer nativeByteBuffer;
        Exception e;
        if (i == 0 || i2 <= 0) {
            return;
        }
        if (!DialogObject.isChatDialog(j) || tLRPC$InputChannel != null) {
            tLRPC$InputChannel2 = tLRPC$InputChannel;
        } else {
            TLRPC$InputChannel inputChannel = getInputChannel(j);
            if (inputChannel == null) {
                return;
            }
            tLRPC$InputChannel2 = inputChannel;
        }
        if (j2 == 0) {
            NativeByteBuffer nativeByteBuffer2 = null;
            try {
                nativeByteBuffer = new NativeByteBuffer(20 + (tLRPC$InputChannel2 != null ? tLRPC$InputChannel2.getObjectSize() : 0));
                try {
                    nativeByteBuffer.writeInt32(23);
                } catch (Exception e2) {
                    e = e2;
                }
            } catch (Exception e3) {
                e = e3;
            }
            try {
                nativeByteBuffer.writeInt64(j);
                nativeByteBuffer.writeInt32(i);
                nativeByteBuffer.writeInt32(i2);
                if (tLRPC$InputChannel2 != null) {
                    tLRPC$InputChannel2.serializeToStream(nativeByteBuffer);
                }
            } catch (Exception e4) {
                e = e4;
                nativeByteBuffer2 = nativeByteBuffer;
                FileLog.e(e);
                nativeByteBuffer = nativeByteBuffer2;
                j3 = getMessagesStorage().createPendingTask(nativeByteBuffer);
                int currentTime = getConnectionsManager().getCurrentTime();
                getMessagesStorage().createTaskForMid(j, i, currentTime, currentTime, i2, false);
                if (tLRPC$InputChannel2 == null) {
                }
            }
            j3 = getMessagesStorage().createPendingTask(nativeByteBuffer);
        } else {
            j3 = j2;
        }
        int currentTime2 = getConnectionsManager().getCurrentTime();
        getMessagesStorage().createTaskForMid(j, i, currentTime2, currentTime2, i2, false);
        if (tLRPC$InputChannel2 == null) {
            TLRPC$TL_channels_readMessageContents tLRPC$TL_channels_readMessageContents = new TLRPC$TL_channels_readMessageContents();
            tLRPC$TL_channels_readMessageContents.channel = tLRPC$InputChannel2;
            tLRPC$TL_channels_readMessageContents.id.add(Integer.valueOf(i));
            getConnectionsManager().sendRequest(tLRPC$TL_channels_readMessageContents, new MessagesController$$ExternalSyntheticLambda282(this, j3));
            return;
        }
        TLRPC$TL_messages_readMessageContents tLRPC$TL_messages_readMessageContents = new TLRPC$TL_messages_readMessageContents();
        tLRPC$TL_messages_readMessageContents.id.add(Integer.valueOf(i));
        getConnectionsManager().sendRequest(tLRPC$TL_messages_readMessageContents, new MessagesController$$ExternalSyntheticLambda286(this, j3));
    }

    public /* synthetic */ void lambda$markMessageAsRead2$195(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
    }

    public /* synthetic */ void lambda$markMessageAsRead2$196(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_messages_affectedMessages tLRPC$TL_messages_affectedMessages = (TLRPC$TL_messages_affectedMessages) tLObject;
            processNewDifferenceParams(-1, tLRPC$TL_messages_affectedMessages.pts, -1, tLRPC$TL_messages_affectedMessages.pts_count);
        }
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
    }

    public void markMessageAsRead(long j, long j2, int i) {
        TLRPC$EncryptedChat encryptedChat;
        if (j2 == 0 || j == 0) {
            return;
        }
        if ((i <= 0 && i != Integer.MIN_VALUE) || !DialogObject.isEncryptedDialog(j) || (encryptedChat = getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(j)))) == null) {
            return;
        }
        ArrayList<Long> arrayList = new ArrayList<>();
        arrayList.add(Long.valueOf(j2));
        getSecretChatHelper().sendMessagesReadMessage(encryptedChat, arrayList, null);
        if (i <= 0) {
            return;
        }
        int currentTime = getConnectionsManager().getCurrentTime();
        getMessagesStorage().createTaskForSecretChat(encryptedChat.id, currentTime, currentTime, 0, arrayList);
    }

    /* JADX WARN: Multi-variable type inference failed */
    private void completeReadTask(ReadTask readTask) {
        TLRPC$TL_messages_readHistory tLRPC$TL_messages_readHistory;
        if (readTask.replyId != 0) {
            TLRPC$TL_messages_readDiscussion tLRPC$TL_messages_readDiscussion = new TLRPC$TL_messages_readDiscussion();
            tLRPC$TL_messages_readDiscussion.msg_id = (int) readTask.replyId;
            tLRPC$TL_messages_readDiscussion.peer = getInputPeer(readTask.dialogId);
            tLRPC$TL_messages_readDiscussion.read_max_id = readTask.maxId;
            getConnectionsManager().sendRequest(tLRPC$TL_messages_readDiscussion, MessagesController$$ExternalSyntheticLambda360.INSTANCE);
        } else if (!DialogObject.isEncryptedDialog(readTask.dialogId)) {
            TLRPC$InputPeer inputPeer = getInputPeer(readTask.dialogId);
            if (inputPeer instanceof TLRPC$TL_inputPeerChannel) {
                TLRPC$TL_channels_readHistory tLRPC$TL_channels_readHistory = new TLRPC$TL_channels_readHistory();
                tLRPC$TL_channels_readHistory.channel = getInputChannel(-readTask.dialogId);
                tLRPC$TL_channels_readHistory.max_id = readTask.maxId;
                tLRPC$TL_messages_readHistory = tLRPC$TL_channels_readHistory;
            } else {
                TLRPC$TL_messages_readHistory tLRPC$TL_messages_readHistory2 = new TLRPC$TL_messages_readHistory();
                tLRPC$TL_messages_readHistory2.peer = inputPeer;
                tLRPC$TL_messages_readHistory2.max_id = readTask.maxId;
                tLRPC$TL_messages_readHistory = tLRPC$TL_messages_readHistory2;
            }
            getConnectionsManager().sendRequest(tLRPC$TL_messages_readHistory, new MessagesController$$ExternalSyntheticLambda245(this));
        } else {
            TLRPC$EncryptedChat encryptedChat = getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(readTask.dialogId)));
            byte[] bArr = encryptedChat.auth_key;
            if (bArr == null || bArr.length <= 1 || !(encryptedChat instanceof TLRPC$TL_encryptedChat)) {
                return;
            }
            TLRPC$TL_messages_readEncryptedHistory tLRPC$TL_messages_readEncryptedHistory = new TLRPC$TL_messages_readEncryptedHistory();
            TLRPC$TL_inputEncryptedChat tLRPC$TL_inputEncryptedChat = new TLRPC$TL_inputEncryptedChat();
            tLRPC$TL_messages_readEncryptedHistory.peer = tLRPC$TL_inputEncryptedChat;
            tLRPC$TL_inputEncryptedChat.chat_id = encryptedChat.id;
            tLRPC$TL_inputEncryptedChat.access_hash = encryptedChat.access_hash;
            tLRPC$TL_messages_readEncryptedHistory.max_date = readTask.maxDate;
            getConnectionsManager().sendRequest(tLRPC$TL_messages_readEncryptedHistory, MessagesController$$ExternalSyntheticLambda348.INSTANCE);
        }
    }

    public /* synthetic */ void lambda$completeReadTask$198(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error != null || !(tLObject instanceof TLRPC$TL_messages_affectedMessages)) {
            return;
        }
        TLRPC$TL_messages_affectedMessages tLRPC$TL_messages_affectedMessages = (TLRPC$TL_messages_affectedMessages) tLObject;
        processNewDifferenceParams(-1, tLRPC$TL_messages_affectedMessages.pts, -1, tLRPC$TL_messages_affectedMessages.pts_count);
    }

    private void checkReadTasks() {
        long elapsedRealtime = SystemClock.elapsedRealtime();
        int size = this.readTasks.size();
        int i = 0;
        int i2 = 0;
        while (i2 < size) {
            ReadTask readTask = this.readTasks.get(i2);
            if (readTask.sendRequestTime <= elapsedRealtime) {
                completeReadTask(readTask);
                this.readTasks.remove(i2);
                this.readTasksMap.remove(readTask.dialogId);
                i2--;
                size--;
            }
            i2++;
        }
        int size2 = this.repliesReadTasks.size();
        while (i < size2) {
            ReadTask readTask2 = this.repliesReadTasks.get(i);
            if (readTask2.sendRequestTime <= elapsedRealtime) {
                completeReadTask(readTask2);
                this.repliesReadTasks.remove(i);
                this.threadsReadTasksMap.remove(readTask2.dialogId + "_" + readTask2.replyId);
                i += -1;
                size2 += -1;
            }
            i++;
        }
    }

    public void markDialogAsReadNow(long j, int i) {
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda44(this, i, j));
    }

    public /* synthetic */ void lambda$markDialogAsReadNow$200(int i, long j) {
        if (i != 0) {
            String str = j + "_" + i;
            ReadTask readTask = this.threadsReadTasksMap.get(str);
            if (readTask == null) {
                return;
            }
            completeReadTask(readTask);
            this.repliesReadTasks.remove(readTask);
            this.threadsReadTasksMap.remove(str);
            return;
        }
        ReadTask readTask2 = this.readTasksMap.get(j);
        if (readTask2 == null) {
            return;
        }
        completeReadTask(readTask2);
        this.readTasks.remove(readTask2);
        this.readTasksMap.remove(j);
    }

    public void markMentionsAsRead(long j) {
        if (DialogObject.isEncryptedDialog(j)) {
            return;
        }
        getMessagesStorage().resetMentionsCount(j, 0);
        TLRPC$TL_messages_readMentions tLRPC$TL_messages_readMentions = new TLRPC$TL_messages_readMentions();
        tLRPC$TL_messages_readMentions.peer = getInputPeer(j);
        getConnectionsManager().sendRequest(tLRPC$TL_messages_readMentions, MessagesController$$ExternalSyntheticLambda355.INSTANCE);
    }

    /* JADX WARN: Code restructure failed: missing block: B:14:0x0072, code lost:
        if (r18 != Integer.MAX_VALUE) goto L22;
     */
    /* JADX WARN: Code restructure failed: missing block: B:4:0x000c, code lost:
        if (r18 != Integer.MAX_VALUE) goto L22;
     */
    /* JADX WARN: Code restructure failed: missing block: B:5:0x0010, code lost:
        r11 = false;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void markDialogAsRead(long j, int i, int i2, int i3, boolean z, int i4, int i5, boolean z2, int i6) {
        boolean z3 = true;
        if (i4 == 0) {
            boolean z4 = getNotificationsController().showBadgeMessages;
            if (!DialogObject.isEncryptedDialog(j)) {
                if (i == 0) {
                    return;
                }
                Integer num = this.dialogs_read_inbox_max.get(Long.valueOf(j));
                if (num == null) {
                    num = 0;
                }
                this.dialogs_read_inbox_max.put(Long.valueOf(j), Integer.valueOf(Math.max(num.intValue(), i)));
                getMessagesStorage().processPendingRead(j, i, i2, i6);
                getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda69(this, j, i5, i, z));
            } else if (i3 == 0) {
                return;
            } else {
                TLRPC$EncryptedChat encryptedChat = getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(j)));
                getMessagesStorage().processPendingRead(j, i, i2, i6);
                getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda73(this, j, i3, z, i5, i2));
                if (encryptedChat != null && encryptedChat.ttl > 0) {
                    getMessagesStorage().createTaskForSecretChat(encryptedChat.id, i3, Math.max(getConnectionsManager().getCurrentTime(), i3), 0, null);
                }
            }
            if (!z3) {
                return;
            }
            Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda47(this, i4, j, z2, i3, i));
        }
    }

    public /* synthetic */ void lambda$markDialogAsRead$203(long j, int i, int i2, boolean z) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda68(this, j, i, i2, z));
    }

    public /* synthetic */ void lambda$markDialogAsRead$202(long j, int i, int i2, boolean z) {
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
        if (tLRPC$Dialog != null) {
            int i3 = tLRPC$Dialog.unread_count;
            if (i == 0 || i2 >= tLRPC$Dialog.top_message) {
                tLRPC$Dialog.unread_count = 0;
            } else {
                int max = Math.max(i3 - i, 0);
                tLRPC$Dialog.unread_count = max;
                if (i2 != Integer.MIN_VALUE) {
                    int i4 = tLRPC$Dialog.top_message;
                    if (max > i4 - i2) {
                        tLRPC$Dialog.unread_count = i4 - i2;
                    }
                }
            }
            boolean z2 = tLRPC$Dialog.unread_mark;
            if (z2) {
                tLRPC$Dialog.unread_mark = false;
                getMessagesStorage().setDialogUnread(tLRPC$Dialog.id, false);
            }
            if ((i3 != 0 || z2) && tLRPC$Dialog.unread_count == 0) {
                if (!isDialogMuted(j)) {
                    this.unreadUnmutedDialogs--;
                }
                int i5 = 0;
                while (true) {
                    DialogFilter[] dialogFilterArr = this.selectedDialogFilter;
                    if (i5 < dialogFilterArr.length) {
                        if (dialogFilterArr[i5] != null && (dialogFilterArr[i5].flags & DIALOG_FILTER_FLAG_EXCLUDE_READ) != 0) {
                            sortDialogs(null);
                            getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
                            break;
                        }
                        i5++;
                    } else {
                        break;
                    }
                }
            }
            getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_READ_DIALOG_MESSAGE));
        }
        if (!z) {
            getNotificationsController().processReadMessages(null, j, 0, i2, false);
            LongSparseIntArray longSparseIntArray = new LongSparseIntArray(1);
            longSparseIntArray.put(j, 0);
            getNotificationsController().processDialogsUpdateRead(longSparseIntArray);
            return;
        }
        getNotificationsController().processReadMessages(null, j, 0, i2, true);
        LongSparseIntArray longSparseIntArray2 = new LongSparseIntArray(1);
        longSparseIntArray2.put(j, -1);
        getNotificationsController().processDialogsUpdateRead(longSparseIntArray2);
    }

    public /* synthetic */ void lambda$markDialogAsRead$205(long j, int i, boolean z, int i2, int i3) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda72(this, j, i, z, i2, i3));
    }

    public /* synthetic */ void lambda$markDialogAsRead$204(long j, int i, boolean z, int i2, int i3) {
        getNotificationsController().processReadMessages(null, j, i, 0, z);
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
        if (tLRPC$Dialog != null) {
            int i4 = tLRPC$Dialog.unread_count;
            if (i2 == 0 || i3 <= tLRPC$Dialog.top_message) {
                tLRPC$Dialog.unread_count = 0;
            } else {
                int max = Math.max(i4 - i2, 0);
                tLRPC$Dialog.unread_count = max;
                if (i3 != Integer.MAX_VALUE) {
                    int i5 = tLRPC$Dialog.top_message;
                    if (max > i3 - i5) {
                        tLRPC$Dialog.unread_count = i3 - i5;
                    }
                }
            }
            boolean z2 = tLRPC$Dialog.unread_mark;
            if (z2) {
                tLRPC$Dialog.unread_mark = false;
                getMessagesStorage().setDialogUnread(tLRPC$Dialog.id, false);
            }
            if ((i4 != 0 || z2) && tLRPC$Dialog.unread_count == 0) {
                if (!isDialogMuted(j)) {
                    this.unreadUnmutedDialogs--;
                }
                int i6 = 0;
                while (true) {
                    DialogFilter[] dialogFilterArr = this.selectedDialogFilter;
                    if (i6 < dialogFilterArr.length) {
                        if (dialogFilterArr[i6] != null && (dialogFilterArr[i6].flags & DIALOG_FILTER_FLAG_EXCLUDE_READ) != 0) {
                            sortDialogs(null);
                            getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
                            break;
                        }
                        i6++;
                    } else {
                        break;
                    }
                }
            }
            getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_READ_DIALOG_MESSAGE));
        }
        LongSparseIntArray longSparseIntArray = new LongSparseIntArray(1);
        longSparseIntArray.put(j, 0);
        getNotificationsController().processDialogsUpdateRead(longSparseIntArray);
    }

    public /* synthetic */ void lambda$markDialogAsRead$206(int i, long j, boolean z, int i2, int i3) {
        ReadTask readTask;
        if (i != 0) {
            HashMap<String, ReadTask> hashMap = this.threadsReadTasksMap;
            readTask = hashMap.get(j + "_" + i);
        } else {
            readTask = this.readTasksMap.get(j);
        }
        if (readTask == null) {
            readTask = new ReadTask(null);
            readTask.dialogId = j;
            readTask.replyId = i;
            readTask.sendRequestTime = SystemClock.elapsedRealtime() + 5000;
            if (!z) {
                if (i != 0) {
                    HashMap<String, ReadTask> hashMap2 = this.threadsReadTasksMap;
                    hashMap2.put(j + "_" + i, readTask);
                    this.repliesReadTasks.add(readTask);
                } else {
                    this.readTasksMap.put(j, readTask);
                    this.readTasks.add(readTask);
                }
            }
        }
        readTask.maxDate = i2;
        readTask.maxId = i3;
        if (z) {
            completeReadTask(readTask);
        }
    }

    public int createChat(String str, ArrayList<Long> arrayList, String str2, int i, boolean z, Location location, String str3, BaseFragment baseFragment) {
        if (i == 0 && !z) {
            TLRPC$TL_messages_createChat tLRPC$TL_messages_createChat = new TLRPC$TL_messages_createChat();
            tLRPC$TL_messages_createChat.title = str;
            for (int i2 = 0; i2 < arrayList.size(); i2++) {
                TLRPC$User user = getUser(arrayList.get(i2));
                if (user != null) {
                    tLRPC$TL_messages_createChat.users.add(getInputUser(user));
                }
            }
            return getConnectionsManager().sendRequest(tLRPC$TL_messages_createChat, new MessagesController$$ExternalSyntheticLambda332(this, baseFragment, tLRPC$TL_messages_createChat), 2);
        } else if (!z && i != 2 && i != 4) {
            return 0;
        } else {
            TLRPC$TL_channels_createChannel tLRPC$TL_channels_createChannel = new TLRPC$TL_channels_createChannel();
            tLRPC$TL_channels_createChannel.title = str;
            if (str2 == null) {
                str2 = "";
            }
            tLRPC$TL_channels_createChannel.about = str2;
            tLRPC$TL_channels_createChannel.for_import = z;
            if (z || i == 4) {
                tLRPC$TL_channels_createChannel.megagroup = true;
            } else {
                tLRPC$TL_channels_createChannel.broadcast = true;
            }
            if (location != null) {
                TLRPC$TL_inputGeoPoint tLRPC$TL_inputGeoPoint = new TLRPC$TL_inputGeoPoint();
                tLRPC$TL_channels_createChannel.geo_point = tLRPC$TL_inputGeoPoint;
                tLRPC$TL_inputGeoPoint.lat = location.getLatitude();
                tLRPC$TL_channels_createChannel.geo_point._long = location.getLongitude();
                tLRPC$TL_channels_createChannel.address = str3;
                tLRPC$TL_channels_createChannel.flags |= 4;
            }
            return getConnectionsManager().sendRequest(tLRPC$TL_channels_createChannel, new MessagesController$$ExternalSyntheticLambda330(this, baseFragment, tLRPC$TL_channels_createChannel), 2);
        }
    }

    public /* synthetic */ void lambda$createChat$209(BaseFragment baseFragment, TLRPC$TL_messages_createChat tLRPC$TL_messages_createChat, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error != null) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda169(this, tLRPC$TL_error, baseFragment, tLRPC$TL_messages_createChat));
            return;
        }
        TLRPC$Updates tLRPC$Updates = (TLRPC$Updates) tLObject;
        processUpdates(tLRPC$Updates, false);
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda184(this, tLRPC$Updates));
    }

    public /* synthetic */ void lambda$createChat$207(TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLRPC$TL_messages_createChat tLRPC$TL_messages_createChat) {
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, baseFragment, tLRPC$TL_messages_createChat, new Object[0]);
        getNotificationCenter().postNotificationName(NotificationCenter.chatDidFailCreate, new Object[0]);
    }

    public /* synthetic */ void lambda$createChat$208(TLRPC$Updates tLRPC$Updates) {
        putUsers(tLRPC$Updates.users, false);
        putChats(tLRPC$Updates.chats, false);
        ArrayList<TLRPC$Chat> arrayList = tLRPC$Updates.chats;
        if (arrayList != null && !arrayList.isEmpty()) {
            getNotificationCenter().postNotificationName(NotificationCenter.chatDidCreated, Long.valueOf(tLRPC$Updates.chats.get(0).id));
        } else {
            getNotificationCenter().postNotificationName(NotificationCenter.chatDidFailCreate, new Object[0]);
        }
    }

    public /* synthetic */ void lambda$createChat$212(BaseFragment baseFragment, TLRPC$TL_channels_createChannel tLRPC$TL_channels_createChannel, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error != null) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda165(this, tLRPC$TL_error, baseFragment, tLRPC$TL_channels_createChannel));
            return;
        }
        TLRPC$Updates tLRPC$Updates = (TLRPC$Updates) tLObject;
        processUpdates(tLRPC$Updates, false);
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda185(this, tLRPC$Updates));
    }

    public /* synthetic */ void lambda$createChat$210(TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLRPC$TL_channels_createChannel tLRPC$TL_channels_createChannel) {
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, baseFragment, tLRPC$TL_channels_createChannel, new Object[0]);
        getNotificationCenter().postNotificationName(NotificationCenter.chatDidFailCreate, new Object[0]);
    }

    public /* synthetic */ void lambda$createChat$211(TLRPC$Updates tLRPC$Updates) {
        putUsers(tLRPC$Updates.users, false);
        putChats(tLRPC$Updates.chats, false);
        ArrayList<TLRPC$Chat> arrayList = tLRPC$Updates.chats;
        if (arrayList != null && !arrayList.isEmpty()) {
            getNotificationCenter().postNotificationName(NotificationCenter.chatDidCreated, Long.valueOf(tLRPC$Updates.chats.get(0).id));
        } else {
            getNotificationCenter().postNotificationName(NotificationCenter.chatDidFailCreate, new Object[0]);
        }
    }

    public void convertToMegaGroup(Context context, long j, BaseFragment baseFragment, MessagesStorage.LongCallback longCallback) {
        convertToMegaGroup(context, j, baseFragment, longCallback, null);
    }

    public void convertToMegaGroup(Context context, long j, BaseFragment baseFragment, MessagesStorage.LongCallback longCallback, Runnable runnable) {
        TLRPC$TL_messages_migrateChat tLRPC$TL_messages_migrateChat = new TLRPC$TL_messages_migrateChat();
        tLRPC$TL_messages_migrateChat.chat_id = j;
        AlertDialog alertDialog = context != null ? new AlertDialog(context, 3) : null;
        int sendRequest = getConnectionsManager().sendRequest(tLRPC$TL_messages_migrateChat, new MessagesController$$ExternalSyntheticLambda311(this, context, alertDialog, longCallback, runnable, baseFragment, tLRPC$TL_messages_migrateChat));
        if (alertDialog != null) {
            alertDialog.setOnCancelListener(new MessagesController$$ExternalSyntheticLambda0(this, sendRequest));
            try {
                alertDialog.show();
            } catch (Exception unused) {
            }
        }
    }

    public /* synthetic */ void lambda$convertToMegaGroup$216(Context context, AlertDialog alertDialog, MessagesStorage.LongCallback longCallback, Runnable runnable, BaseFragment baseFragment, TLRPC$TL_messages_migrateChat tLRPC$TL_messages_migrateChat, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            if (context != null) {
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda5(context, alertDialog));
            }
            TLRPC$Updates tLRPC$Updates = (TLRPC$Updates) tLObject;
            processUpdates(tLRPC$Updates, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda216(longCallback, tLRPC$Updates));
            return;
        }
        if (runnable != null) {
            runnable.run();
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda131(this, longCallback, context, alertDialog, tLRPC$TL_error, baseFragment, tLRPC$TL_messages_migrateChat));
    }

    public static /* synthetic */ void lambda$convertToMegaGroup$213(Context context, AlertDialog alertDialog) {
        if (!((Activity) context).isFinishing()) {
            try {
                alertDialog.dismiss();
            } catch (Exception e) {
                FileLog.e(e);
            }
        }
    }

    public static /* synthetic */ void lambda$convertToMegaGroup$214(MessagesStorage.LongCallback longCallback, TLRPC$Updates tLRPC$Updates) {
        if (longCallback != null) {
            for (int i = 0; i < tLRPC$Updates.chats.size(); i++) {
                TLRPC$Chat tLRPC$Chat = tLRPC$Updates.chats.get(i);
                if (ChatObject.isChannel(tLRPC$Chat)) {
                    longCallback.run(tLRPC$Chat.id);
                    return;
                }
            }
        }
    }

    public /* synthetic */ void lambda$convertToMegaGroup$215(MessagesStorage.LongCallback longCallback, Context context, AlertDialog alertDialog, TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLRPC$TL_messages_migrateChat tLRPC$TL_messages_migrateChat) {
        if (longCallback != null) {
            longCallback.run(0L);
        }
        if (context == null || ((Activity) context).isFinishing()) {
            return;
        }
        try {
            alertDialog.dismiss();
        } catch (Exception e) {
            FileLog.e(e);
        }
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, baseFragment, tLRPC$TL_messages_migrateChat, Boolean.FALSE);
    }

    public /* synthetic */ void lambda$convertToMegaGroup$217(int i, DialogInterface dialogInterface) {
        getConnectionsManager().cancelRequest(i, true);
    }

    public void convertToGigaGroup(Context context, TLRPC$Chat tLRPC$Chat, BaseFragment baseFragment, MessagesStorage.BooleanCallback booleanCallback) {
        TLRPC$TL_channels_convertToGigagroup tLRPC$TL_channels_convertToGigagroup = new TLRPC$TL_channels_convertToGigagroup();
        tLRPC$TL_channels_convertToGigagroup.channel = getInputChannel(tLRPC$Chat);
        AlertDialog alertDialog = context != null ? new AlertDialog(context, 3) : null;
        int sendRequest = getConnectionsManager().sendRequest(tLRPC$TL_channels_convertToGigagroup, new MessagesController$$ExternalSyntheticLambda310(this, context, alertDialog, booleanCallback, baseFragment, tLRPC$TL_channels_convertToGigagroup));
        if (alertDialog != null) {
            alertDialog.setOnCancelListener(new MessagesController$$ExternalSyntheticLambda1(this, sendRequest));
            try {
                alertDialog.showDelayed(400L);
            } catch (Exception unused) {
            }
        }
    }

    public /* synthetic */ void lambda$convertToGigaGroup$221(Context context, AlertDialog alertDialog, MessagesStorage.BooleanCallback booleanCallback, BaseFragment baseFragment, TLRPC$TL_channels_convertToGigagroup tLRPC$TL_channels_convertToGigagroup, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            if (context != null) {
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda4(context, alertDialog));
            }
            processUpdates((TLRPC$Updates) tLObject, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda215(booleanCallback));
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda130(this, booleanCallback, context, alertDialog, tLRPC$TL_error, baseFragment, tLRPC$TL_channels_convertToGigagroup));
    }

    public static /* synthetic */ void lambda$convertToGigaGroup$218(Context context, AlertDialog alertDialog) {
        if (!((Activity) context).isFinishing()) {
            try {
                alertDialog.dismiss();
            } catch (Exception e) {
                FileLog.e(e);
            }
        }
    }

    public static /* synthetic */ void lambda$convertToGigaGroup$219(MessagesStorage.BooleanCallback booleanCallback) {
        if (booleanCallback != null) {
            booleanCallback.run(true);
        }
    }

    public /* synthetic */ void lambda$convertToGigaGroup$220(MessagesStorage.BooleanCallback booleanCallback, Context context, AlertDialog alertDialog, TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLRPC$TL_channels_convertToGigagroup tLRPC$TL_channels_convertToGigagroup) {
        if (booleanCallback != null) {
            booleanCallback.run(false);
        }
        if (context == null || ((Activity) context).isFinishing()) {
            return;
        }
        try {
            alertDialog.dismiss();
        } catch (Exception e) {
            FileLog.e(e);
        }
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, baseFragment, tLRPC$TL_channels_convertToGigagroup, Boolean.FALSE);
    }

    public /* synthetic */ void lambda$convertToGigaGroup$222(int i, DialogInterface dialogInterface) {
        getConnectionsManager().cancelRequest(i, true);
    }

    public void addUsersToChannel(long j, ArrayList<TLRPC$InputUser> arrayList, BaseFragment baseFragment) {
        if (arrayList == null || arrayList.isEmpty()) {
            return;
        }
        TLRPC$TL_channels_inviteToChannel tLRPC$TL_channels_inviteToChannel = new TLRPC$TL_channels_inviteToChannel();
        tLRPC$TL_channels_inviteToChannel.channel = getInputChannel(j);
        tLRPC$TL_channels_inviteToChannel.users = arrayList;
        getConnectionsManager().sendRequest(tLRPC$TL_channels_inviteToChannel, new MessagesController$$ExternalSyntheticLambda331(this, baseFragment, tLRPC$TL_channels_inviteToChannel));
    }

    public /* synthetic */ void lambda$addUsersToChannel$223(TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLRPC$TL_channels_inviteToChannel tLRPC$TL_channels_inviteToChannel) {
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, baseFragment, tLRPC$TL_channels_inviteToChannel, Boolean.TRUE);
    }

    public /* synthetic */ void lambda$addUsersToChannel$224(BaseFragment baseFragment, TLRPC$TL_channels_inviteToChannel tLRPC$TL_channels_inviteToChannel, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error != null) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda168(this, tLRPC$TL_error, baseFragment, tLRPC$TL_channels_inviteToChannel));
        } else {
            processUpdates((TLRPC$Updates) tLObject, false);
        }
    }

    public void setDefaultSendAs(long j, long j2) {
        TLRPC$ChatFull chatFull = getChatFull(-j);
        if (chatFull != null) {
            chatFull.default_send_as = getPeer(j2);
            getMessagesStorage().updateChatInfo(chatFull, false);
            getNotificationCenter().postNotificationName(NotificationCenter.updateDefaultSendAsPeer, Long.valueOf(j), chatFull.default_send_as);
        }
        TLRPC$TL_messages_saveDefaultSendAs tLRPC$TL_messages_saveDefaultSendAs = new TLRPC$TL_messages_saveDefaultSendAs();
        tLRPC$TL_messages_saveDefaultSendAs.peer = getInputPeer(j);
        tLRPC$TL_messages_saveDefaultSendAs.send_as = getInputPeer(j2);
        getConnectionsManager().sendRequest(tLRPC$TL_messages_saveDefaultSendAs, new MessagesController$$ExternalSyntheticLambda276(this, j), 64);
    }

    public /* synthetic */ void lambda$setDefaultSendAs$225(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject instanceof TLRPC$TL_boolTrue) {
            long j2 = -j;
            if (getChatFull(j2) != null) {
                return;
            }
            loadFullChat(j2, 0, true);
        } else if (tLRPC$TL_error == null || tLRPC$TL_error.code != 400) {
        } else {
            loadFullChat(-j, 0, true);
        }
    }

    public void toggleChatNoForwards(long j, boolean z) {
        TLRPC$TL_messages_toggleNoForwards tLRPC$TL_messages_toggleNoForwards = new TLRPC$TL_messages_toggleNoForwards();
        tLRPC$TL_messages_toggleNoForwards.peer = getInputPeer(-j);
        tLRPC$TL_messages_toggleNoForwards.enabled = z;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_toggleNoForwards, new MessagesController$$ExternalSyntheticLambda249(this), 64);
    }

    public /* synthetic */ void lambda$toggleChatNoForwards$227(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            processUpdates((TLRPC$Updates) tLObject, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda38(this));
        }
    }

    public /* synthetic */ void lambda$toggleChatNoForwards$226() {
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_CHAT));
    }

    public void toggleChatJoinToSend(long j, boolean z, Runnable runnable, Runnable runnable2) {
        TLRPC$TL_channels_toggleJoinToSend tLRPC$TL_channels_toggleJoinToSend = new TLRPC$TL_channels_toggleJoinToSend();
        tLRPC$TL_channels_toggleJoinToSend.channel = getInputChannel(j);
        tLRPC$TL_channels_toggleJoinToSend.enabled = z;
        getConnectionsManager().sendRequest(tLRPC$TL_channels_toggleJoinToSend, new MessagesController$$ExternalSyntheticLambda316(this, runnable, runnable2), 64);
    }

    public /* synthetic */ void lambda$toggleChatJoinToSend$229(Runnable runnable, Runnable runnable2, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            processUpdates((TLRPC$Updates) tLObject, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda13(this));
            if (runnable == null) {
                return;
            }
            runnable.run();
        } else if (tLRPC$TL_error == null || "CHAT_NOT_MODIFIED".equals(tLRPC$TL_error.text)) {
            if (runnable == null) {
                return;
            }
            runnable.run();
        } else if (runnable2 == null) {
        } else {
            runnable2.run();
        }
    }

    public /* synthetic */ void lambda$toggleChatJoinToSend$228() {
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_CHAT));
    }

    public void toggleChatJoinRequest(long j, boolean z, Runnable runnable, Runnable runnable2) {
        TLRPC$TL_channels_toggleJoinRequest tLRPC$TL_channels_toggleJoinRequest = new TLRPC$TL_channels_toggleJoinRequest();
        tLRPC$TL_channels_toggleJoinRequest.channel = getInputChannel(j);
        tLRPC$TL_channels_toggleJoinRequest.enabled = z;
        getConnectionsManager().sendRequest(tLRPC$TL_channels_toggleJoinRequest, new MessagesController$$ExternalSyntheticLambda315(this, runnable, runnable2), 64);
    }

    public /* synthetic */ void lambda$toggleChatJoinRequest$231(Runnable runnable, Runnable runnable2, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            processUpdates((TLRPC$Updates) tLObject, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda24(this));
            if (runnable == null) {
                return;
            }
            runnable.run();
        } else if (tLRPC$TL_error == null || "CHAT_NOT_MODIFIED".equals(tLRPC$TL_error.text)) {
            if (runnable == null) {
                return;
            }
            runnable.run();
        } else if (runnable2 == null) {
        } else {
            runnable2.run();
        }
    }

    public /* synthetic */ void lambda$toggleChatJoinRequest$230() {
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_CHAT));
    }

    public void toggleChannelSignatures(long j, boolean z) {
        TLRPC$TL_channels_toggleSignatures tLRPC$TL_channels_toggleSignatures = new TLRPC$TL_channels_toggleSignatures();
        tLRPC$TL_channels_toggleSignatures.channel = getInputChannel(j);
        tLRPC$TL_channels_toggleSignatures.enabled = z;
        getConnectionsManager().sendRequest(tLRPC$TL_channels_toggleSignatures, new MessagesController$$ExternalSyntheticLambda241(this), 64);
    }

    public /* synthetic */ void lambda$toggleChannelSignatures$233(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            processUpdates((TLRPC$Updates) tLObject, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda11(this));
        }
    }

    public /* synthetic */ void lambda$toggleChannelSignatures$232() {
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_CHAT));
    }

    public void toggleChannelInvitesHistory(long j, boolean z) {
        TLRPC$TL_channels_togglePreHistoryHidden tLRPC$TL_channels_togglePreHistoryHidden = new TLRPC$TL_channels_togglePreHistoryHidden();
        tLRPC$TL_channels_togglePreHistoryHidden.channel = getInputChannel(j);
        tLRPC$TL_channels_togglePreHistoryHidden.enabled = z;
        getConnectionsManager().sendRequest(tLRPC$TL_channels_togglePreHistoryHidden, new MessagesController$$ExternalSyntheticLambda247(this), 64);
    }

    public /* synthetic */ void lambda$toggleChannelInvitesHistory$235(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            processUpdates((TLRPC$Updates) tLObject, false);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda20(this));
        }
    }

    public /* synthetic */ void lambda$toggleChannelInvitesHistory$234() {
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_CHAT));
    }

    public void updateChatAbout(long j, String str, TLRPC$ChatFull tLRPC$ChatFull) {
        TLRPC$TL_messages_editChatAbout tLRPC$TL_messages_editChatAbout = new TLRPC$TL_messages_editChatAbout();
        tLRPC$TL_messages_editChatAbout.peer = getInputPeer(-j);
        tLRPC$TL_messages_editChatAbout.about = str;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_editChatAbout, new MessagesController$$ExternalSyntheticLambda323(this, tLRPC$ChatFull, str), 64);
    }

    public /* synthetic */ void lambda$updateChatAbout$237(TLRPC$ChatFull tLRPC$ChatFull, String str, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (!(tLObject instanceof TLRPC$TL_boolTrue) || tLRPC$ChatFull == null) {
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda152(this, tLRPC$ChatFull, str));
    }

    public /* synthetic */ void lambda$updateChatAbout$236(TLRPC$ChatFull tLRPC$ChatFull, String str) {
        tLRPC$ChatFull.about = str;
        getMessagesStorage().updateChatInfo(tLRPC$ChatFull, false);
        NotificationCenter notificationCenter = getNotificationCenter();
        int i = NotificationCenter.chatInfoDidLoad;
        Boolean bool = Boolean.FALSE;
        notificationCenter.postNotificationName(i, tLRPC$ChatFull, 0, bool, bool);
    }

    public void updateChannelUserName(long j, String str) {
        TLRPC$TL_channels_updateUsername tLRPC$TL_channels_updateUsername = new TLRPC$TL_channels_updateUsername();
        tLRPC$TL_channels_updateUsername.channel = getInputChannel(j);
        tLRPC$TL_channels_updateUsername.username = str;
        getConnectionsManager().sendRequest(tLRPC$TL_channels_updateUsername, new MessagesController$$ExternalSyntheticLambda300(this, j, str), 64);
    }

    public /* synthetic */ void lambda$updateChannelUserName$239(long j, String str, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject instanceof TLRPC$TL_boolTrue) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda80(this, j, str));
        }
    }

    public /* synthetic */ void lambda$updateChannelUserName$238(long j, String str) {
        TLRPC$Chat chat = getChat(Long.valueOf(j));
        if (str.length() != 0) {
            chat.flags |= 64;
        } else {
            chat.flags &= -65;
        }
        chat.username = str;
        ArrayList<TLRPC$Chat> arrayList = new ArrayList<>();
        arrayList.add(chat);
        getMessagesStorage().putUsersAndChats(null, arrayList, true, true);
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_CHAT));
    }

    public void sendBotStart(TLRPC$User tLRPC$User, String str) {
        if (tLRPC$User == null) {
            return;
        }
        TLRPC$TL_messages_startBot tLRPC$TL_messages_startBot = new TLRPC$TL_messages_startBot();
        tLRPC$TL_messages_startBot.bot = getInputUser(tLRPC$User);
        tLRPC$TL_messages_startBot.peer = getInputPeer(tLRPC$User.id);
        tLRPC$TL_messages_startBot.start_param = str;
        tLRPC$TL_messages_startBot.random_id = Utilities.random.nextLong();
        getConnectionsManager().sendRequest(tLRPC$TL_messages_startBot, new MessagesController$$ExternalSyntheticLambda232(this));
    }

    public /* synthetic */ void lambda$sendBotStart$240(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error != null) {
            return;
        }
        processUpdates((TLRPC$Updates) tLObject, false);
    }

    public boolean isJoiningChannel(long j) {
        return this.joiningToChannels.contains(Long.valueOf(j));
    }

    public void addUserToChat(long j, TLRPC$User tLRPC$User, int i, String str, BaseFragment baseFragment, Runnable runnable) {
        addUserToChat(j, tLRPC$User, i, str, baseFragment, false, runnable, null);
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void addUserToChat(long j, TLRPC$User tLRPC$User, int i, String str, BaseFragment baseFragment, boolean z, Runnable runnable, ErrorDelegate errorDelegate) {
        TLRPC$TL_messages_addChatUser tLRPC$TL_messages_addChatUser;
        if (tLRPC$User == null) {
            if (errorDelegate == null) {
                return;
            }
            errorDelegate.run(null);
            return;
        }
        boolean isChannel = ChatObject.isChannel(j, this.currentAccount);
        boolean z2 = isChannel && getChat(Long.valueOf(j)).megagroup;
        TLRPC$InputUser inputUser = getInputUser(tLRPC$User);
        if (str != null && (!isChannel || z2)) {
            TLRPC$TL_messages_startBot tLRPC$TL_messages_startBot = new TLRPC$TL_messages_startBot();
            tLRPC$TL_messages_startBot.bot = inputUser;
            if (isChannel) {
                tLRPC$TL_messages_startBot.peer = getInputPeer(-j);
            } else {
                TLRPC$TL_inputPeerChat tLRPC$TL_inputPeerChat = new TLRPC$TL_inputPeerChat();
                tLRPC$TL_messages_startBot.peer = tLRPC$TL_inputPeerChat;
                tLRPC$TL_inputPeerChat.chat_id = j;
            }
            tLRPC$TL_messages_startBot.start_param = str;
            tLRPC$TL_messages_startBot.random_id = Utilities.random.nextLong();
            tLRPC$TL_messages_addChatUser = tLRPC$TL_messages_startBot;
        } else if (isChannel) {
            if (inputUser instanceof TLRPC$TL_inputUserSelf) {
                if (this.joiningToChannels.contains(Long.valueOf(j))) {
                    if (errorDelegate == null) {
                        return;
                    }
                    errorDelegate.run(null);
                    return;
                }
                TLRPC$TL_channels_joinChannel tLRPC$TL_channels_joinChannel = new TLRPC$TL_channels_joinChannel();
                tLRPC$TL_channels_joinChannel.channel = getInputChannel(j);
                this.joiningToChannels.add(Long.valueOf(j));
                tLRPC$TL_messages_addChatUser = tLRPC$TL_channels_joinChannel;
            } else {
                TLRPC$TL_channels_inviteToChannel tLRPC$TL_channels_inviteToChannel = new TLRPC$TL_channels_inviteToChannel();
                tLRPC$TL_channels_inviteToChannel.channel = getInputChannel(j);
                tLRPC$TL_channels_inviteToChannel.users.add(inputUser);
                tLRPC$TL_messages_addChatUser = tLRPC$TL_channels_inviteToChannel;
            }
        } else {
            TLRPC$TL_messages_addChatUser tLRPC$TL_messages_addChatUser2 = new TLRPC$TL_messages_addChatUser();
            tLRPC$TL_messages_addChatUser2.chat_id = j;
            tLRPC$TL_messages_addChatUser2.fwd_limit = i;
            tLRPC$TL_messages_addChatUser2.user_id = inputUser;
            tLRPC$TL_messages_addChatUser = tLRPC$TL_messages_addChatUser2;
        }
        TLRPC$TL_messages_addChatUser tLRPC$TL_messages_addChatUser3 = tLRPC$TL_messages_addChatUser;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_addChatUser3, new MessagesController$$ExternalSyntheticLambda337(this, isChannel, inputUser, j, z, runnable, errorDelegate, baseFragment, tLRPC$TL_messages_addChatUser3, z2));
    }

    public /* synthetic */ void lambda$addUserToChat$245(boolean z, TLRPC$InputUser tLRPC$InputUser, long j, boolean z2, Runnable runnable, ErrorDelegate errorDelegate, BaseFragment baseFragment, TLObject tLObject, boolean z3, TLObject tLObject2, TLRPC$TL_error tLRPC$TL_error) {
        boolean z4;
        if (z && (tLRPC$InputUser instanceof TLRPC$TL_inputUserSelf)) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda61(this, j));
        }
        if (tLRPC$TL_error != null) {
            if (!"USER_ALREADY_PARTICIPANT".equals(tLRPC$TL_error.text) || !z2) {
                if (errorDelegate != null) {
                    AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda128(this, errorDelegate, tLRPC$TL_error, baseFragment, tLObject, z, z3));
                }
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda129(this, errorDelegate, tLRPC$TL_error, baseFragment, tLObject, z, z3, tLRPC$InputUser));
                return;
            } else if (runnable == null) {
                return;
            } else {
                AndroidUtilities.runOnUIThread(runnable);
                return;
            }
        }
        TLRPC$Updates tLRPC$Updates = (TLRPC$Updates) tLObject2;
        int i = 0;
        while (true) {
            if (i >= tLRPC$Updates.updates.size()) {
                z4 = false;
                break;
            }
            TLRPC$Update tLRPC$Update = tLRPC$Updates.updates.get(i);
            if ((tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) && (((TLRPC$TL_updateNewChannelMessage) tLRPC$Update).message.action instanceof TLRPC$TL_messageActionChatAddUser)) {
                z4 = true;
                break;
            }
            i++;
        }
        processUpdates(tLRPC$Updates, false);
        if (z) {
            if (!z4 && (tLRPC$InputUser instanceof TLRPC$TL_inputUserSelf)) {
                generateJoinMessage(j, true);
            }
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda57(this, j), 1000L);
        }
        if (z && (tLRPC$InputUser instanceof TLRPC$TL_inputUserSelf)) {
            getMessagesStorage().updateDialogsWithDeletedMessages(-j, j, new ArrayList<>(), null, true);
        }
        if (runnable == null) {
            return;
        }
        AndroidUtilities.runOnUIThread(runnable);
    }

    public /* synthetic */ void lambda$addUserToChat$241(long j) {
        this.joiningToChannels.remove(Long.valueOf(j));
    }

    public /* synthetic */ void lambda$addUserToChat$242(ErrorDelegate errorDelegate, TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLObject tLObject, boolean z, boolean z2) {
        if (errorDelegate.run(tLRPC$TL_error)) {
            int i = this.currentAccount;
            boolean z3 = true;
            Object[] objArr = new Object[1];
            if (!z || z2) {
                z3 = false;
            }
            objArr[0] = Boolean.valueOf(z3);
            AlertsCreator.processError(i, tLRPC$TL_error, baseFragment, tLObject, objArr);
        }
    }

    public /* synthetic */ void lambda$addUserToChat$243(ErrorDelegate errorDelegate, TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLObject tLObject, boolean z, boolean z2, TLRPC$InputUser tLRPC$InputUser) {
        if (errorDelegate == null) {
            int i = this.currentAccount;
            Object[] objArr = new Object[1];
            objArr[0] = Boolean.valueOf(z && !z2);
            AlertsCreator.processError(i, tLRPC$TL_error, baseFragment, tLObject, objArr);
        }
        if (!z || !(tLRPC$InputUser instanceof TLRPC$TL_inputUserSelf)) {
            return;
        }
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_CHAT));
    }

    public /* synthetic */ void lambda$addUserToChat$244(long j) {
        loadFullChat(j, 0, true);
    }

    public void deleteParticipantFromChat(long j, TLRPC$User tLRPC$User, TLRPC$ChatFull tLRPC$ChatFull) {
        deleteParticipantFromChat(j, tLRPC$User, null, tLRPC$ChatFull, false, false);
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void deleteParticipantFromChat(long j, TLRPC$User tLRPC$User, TLRPC$Chat tLRPC$Chat, TLRPC$ChatFull tLRPC$ChatFull, boolean z, boolean z2) {
        TLRPC$InputPeer tLRPC$InputPeer;
        TLRPC$TL_messages_deleteChatUser tLRPC$TL_messages_deleteChatUser;
        if (tLRPC$User == null && tLRPC$Chat == null) {
            return;
        }
        if (tLRPC$User != null) {
            tLRPC$InputPeer = getInputPeer(tLRPC$User);
        } else {
            tLRPC$InputPeer = getInputPeer(tLRPC$Chat);
        }
        TLRPC$Chat chat = getChat(Long.valueOf(j));
        boolean isChannel = ChatObject.isChannel(chat);
        if (isChannel) {
            if (UserObject.isUserSelf(tLRPC$User)) {
                if (chat.creator && z) {
                    TLRPC$TL_channels_deleteChannel tLRPC$TL_channels_deleteChannel = new TLRPC$TL_channels_deleteChannel();
                    tLRPC$TL_channels_deleteChannel.channel = getInputChannel(chat);
                    tLRPC$TL_messages_deleteChatUser = tLRPC$TL_channels_deleteChannel;
                } else {
                    TLRPC$TL_channels_leaveChannel tLRPC$TL_channels_leaveChannel = new TLRPC$TL_channels_leaveChannel();
                    tLRPC$TL_channels_leaveChannel.channel = getInputChannel(chat);
                    tLRPC$TL_messages_deleteChatUser = tLRPC$TL_channels_leaveChannel;
                }
            } else {
                TLRPC$TL_channels_editBanned tLRPC$TL_channels_editBanned = new TLRPC$TL_channels_editBanned();
                tLRPC$TL_channels_editBanned.channel = getInputChannel(chat);
                tLRPC$TL_channels_editBanned.participant = tLRPC$InputPeer;
                TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights = new TLRPC$TL_chatBannedRights();
                tLRPC$TL_channels_editBanned.banned_rights = tLRPC$TL_chatBannedRights;
                tLRPC$TL_chatBannedRights.view_messages = true;
                tLRPC$TL_chatBannedRights.send_media = true;
                tLRPC$TL_chatBannedRights.send_messages = true;
                tLRPC$TL_chatBannedRights.send_stickers = true;
                tLRPC$TL_chatBannedRights.send_gifs = true;
                tLRPC$TL_chatBannedRights.send_games = true;
                tLRPC$TL_chatBannedRights.send_inline = true;
                tLRPC$TL_chatBannedRights.embed_links = true;
                tLRPC$TL_chatBannedRights.pin_messages = true;
                tLRPC$TL_chatBannedRights.send_polls = true;
                tLRPC$TL_chatBannedRights.invite_users = true;
                tLRPC$TL_chatBannedRights.change_info = true;
                tLRPC$TL_messages_deleteChatUser = tLRPC$TL_channels_editBanned;
            }
        } else if (z) {
            TLRPC$TL_messages_deleteChat tLRPC$TL_messages_deleteChat = new TLRPC$TL_messages_deleteChat();
            tLRPC$TL_messages_deleteChat.chat_id = j;
            getConnectionsManager().sendRequest(tLRPC$TL_messages_deleteChat, MessagesController$$ExternalSyntheticLambda349.INSTANCE);
            return;
        } else {
            TLRPC$TL_messages_deleteChatUser tLRPC$TL_messages_deleteChatUser2 = new TLRPC$TL_messages_deleteChatUser();
            tLRPC$TL_messages_deleteChatUser2.chat_id = j;
            tLRPC$TL_messages_deleteChatUser2.user_id = getInputUser(tLRPC$User);
            tLRPC$TL_messages_deleteChatUser2.revoke_history = true;
            tLRPC$TL_messages_deleteChatUser = tLRPC$TL_messages_deleteChatUser2;
        }
        if (UserObject.isUserSelf(tLRPC$User)) {
            deleteDialog(-j, 0, z2);
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_deleteChatUser, new MessagesController$$ExternalSyntheticLambda339(this, isChannel, tLRPC$User, j), 64);
    }

    public /* synthetic */ void lambda$deleteParticipantFromChat$248(boolean z, TLRPC$User tLRPC$User, long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error != null) {
            return;
        }
        processUpdates((TLRPC$Updates) tLObject, false);
        if (!z || UserObject.isUserSelf(tLRPC$User)) {
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda60(this, j), 1000L);
    }

    public /* synthetic */ void lambda$deleteParticipantFromChat$247(long j) {
        loadFullChat(j, 0, true);
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void changeChatTitle(long j, String str) {
        TLRPC$TL_messages_editChatTitle tLRPC$TL_messages_editChatTitle;
        if (ChatObject.isChannel(j, this.currentAccount)) {
            TLRPC$TL_channels_editTitle tLRPC$TL_channels_editTitle = new TLRPC$TL_channels_editTitle();
            tLRPC$TL_channels_editTitle.channel = getInputChannel(j);
            tLRPC$TL_channels_editTitle.title = str;
            tLRPC$TL_messages_editChatTitle = tLRPC$TL_channels_editTitle;
        } else {
            TLRPC$TL_messages_editChatTitle tLRPC$TL_messages_editChatTitle2 = new TLRPC$TL_messages_editChatTitle();
            tLRPC$TL_messages_editChatTitle2.chat_id = j;
            tLRPC$TL_messages_editChatTitle2.title = str;
            tLRPC$TL_messages_editChatTitle = tLRPC$TL_messages_editChatTitle2;
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_editChatTitle, new MessagesController$$ExternalSyntheticLambda237(this), 64);
    }

    public /* synthetic */ void lambda$changeChatTitle$249(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error != null) {
            return;
        }
        processUpdates((TLRPC$Updates) tLObject, false);
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void changeChatAvatar(long j, TLRPC$TL_inputChatPhoto tLRPC$TL_inputChatPhoto, TLRPC$InputFile tLRPC$InputFile, TLRPC$InputFile tLRPC$InputFile2, double d, String str, TLRPC$FileLocation tLRPC$FileLocation, TLRPC$FileLocation tLRPC$FileLocation2, Runnable runnable) {
        MessagesController messagesController;
        TLRPC$InputChatPhoto tLRPC$InputChatPhoto;
        TLRPC$TL_messages_editChatPhoto tLRPC$TL_messages_editChatPhoto;
        if (tLRPC$TL_inputChatPhoto != null) {
            messagesController = this;
            tLRPC$InputChatPhoto = tLRPC$TL_inputChatPhoto;
        } else if (tLRPC$InputFile != null || tLRPC$InputFile2 != null) {
            TLRPC$TL_inputChatUploadedPhoto tLRPC$TL_inputChatUploadedPhoto = new TLRPC$TL_inputChatUploadedPhoto();
            if (tLRPC$InputFile != null) {
                tLRPC$TL_inputChatUploadedPhoto.file = tLRPC$InputFile;
                tLRPC$TL_inputChatUploadedPhoto.flags |= 1;
            }
            if (tLRPC$InputFile2 != null) {
                tLRPC$TL_inputChatUploadedPhoto.video = tLRPC$InputFile2;
                int i = tLRPC$TL_inputChatUploadedPhoto.flags | 2;
                tLRPC$TL_inputChatUploadedPhoto.flags = i;
                tLRPC$TL_inputChatUploadedPhoto.video_start_ts = d;
                tLRPC$TL_inputChatUploadedPhoto.flags = i | 4;
            }
            messagesController = this;
            tLRPC$InputChatPhoto = tLRPC$TL_inputChatUploadedPhoto;
        } else {
            tLRPC$InputChatPhoto = new TLRPC$TL_inputChatPhotoEmpty();
            messagesController = this;
        }
        if (ChatObject.isChannel(j, messagesController.currentAccount)) {
            TLRPC$TL_channels_editPhoto tLRPC$TL_channels_editPhoto = new TLRPC$TL_channels_editPhoto();
            tLRPC$TL_channels_editPhoto.channel = getInputChannel(j);
            tLRPC$TL_channels_editPhoto.photo = tLRPC$InputChatPhoto;
            tLRPC$TL_messages_editChatPhoto = tLRPC$TL_channels_editPhoto;
        } else {
            TLRPC$TL_messages_editChatPhoto tLRPC$TL_messages_editChatPhoto2 = new TLRPC$TL_messages_editChatPhoto();
            tLRPC$TL_messages_editChatPhoto2.chat_id = j;
            tLRPC$TL_messages_editChatPhoto2.photo = tLRPC$InputChatPhoto;
            tLRPC$TL_messages_editChatPhoto = tLRPC$TL_messages_editChatPhoto2;
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_editChatPhoto, new MessagesController$$ExternalSyntheticLambda326(this, tLRPC$TL_inputChatPhoto, tLRPC$FileLocation, tLRPC$FileLocation2, str, runnable), 64);
    }

    public /* synthetic */ void lambda$changeChatAvatar$251(TLRPC$TL_inputChatPhoto tLRPC$TL_inputChatPhoto, TLRPC$FileLocation tLRPC$FileLocation, TLRPC$FileLocation tLRPC$FileLocation2, String str, Runnable runnable, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        TLRPC$VideoSize tLRPC$VideoSize;
        TLRPC$Photo tLRPC$Photo;
        if (tLRPC$TL_error != null) {
            return;
        }
        TLRPC$Updates tLRPC$Updates = (TLRPC$Updates) tLObject;
        if (tLRPC$TL_inputChatPhoto == null) {
            int size = tLRPC$Updates.updates.size();
            int i = 0;
            while (true) {
                tLRPC$VideoSize = null;
                if (i >= size) {
                    tLRPC$Photo = null;
                    break;
                }
                TLRPC$Update tLRPC$Update = tLRPC$Updates.updates.get(i);
                if (tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) {
                    TLRPC$MessageAction tLRPC$MessageAction = ((TLRPC$TL_updateNewChannelMessage) tLRPC$Update).message.action;
                    if (tLRPC$MessageAction instanceof TLRPC$TL_messageActionChatEditPhoto) {
                        tLRPC$Photo = tLRPC$MessageAction.photo;
                        if (tLRPC$Photo instanceof TLRPC$TL_photo) {
                            break;
                        }
                    } else {
                        continue;
                    }
                    i++;
                } else {
                    if (tLRPC$Update instanceof TLRPC$TL_updateNewMessage) {
                        TLRPC$MessageAction tLRPC$MessageAction2 = ((TLRPC$TL_updateNewMessage) tLRPC$Update).message.action;
                        if (tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChatEditPhoto) {
                            tLRPC$Photo = tLRPC$MessageAction2.photo;
                            if (tLRPC$Photo instanceof TLRPC$TL_photo) {
                                break;
                            }
                        } else {
                            continue;
                        }
                    } else {
                        continue;
                    }
                    i++;
                }
            }
            if (tLRPC$Photo != null) {
                TLRPC$PhotoSize closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(tLRPC$Photo.sizes, 150);
                if (!tLRPC$Photo.video_sizes.isEmpty()) {
                    tLRPC$VideoSize = tLRPC$Photo.video_sizes.get(0);
                }
                if (closestPhotoSizeWithSize != null && tLRPC$FileLocation != null) {
                    getFileLoader().getPathToAttach(tLRPC$FileLocation, true).renameTo(getFileLoader().getPathToAttach(closestPhotoSizeWithSize, true));
                    ImageLoader.getInstance().replaceImageInCache(tLRPC$FileLocation.volume_id + "_" + tLRPC$FileLocation.local_id + "@50_50", closestPhotoSizeWithSize.location.volume_id + "_" + closestPhotoSizeWithSize.location.local_id + "@50_50", ImageLocation.getForPhoto(closestPhotoSizeWithSize, tLRPC$Photo), true);
                }
                TLRPC$PhotoSize closestPhotoSizeWithSize2 = FileLoader.getClosestPhotoSizeWithSize(tLRPC$Photo.sizes, 800);
                if (closestPhotoSizeWithSize2 != null && tLRPC$FileLocation2 != null) {
                    getFileLoader().getPathToAttach(tLRPC$FileLocation2, true).renameTo(getFileLoader().getPathToAttach(closestPhotoSizeWithSize2, true));
                }
                if (tLRPC$VideoSize != null && str != null) {
                    new File(str).renameTo(getFileLoader().getPathToAttach(tLRPC$VideoSize, "mp4", true));
                }
            }
        }
        processUpdates(tLRPC$Updates, false);
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda102(this, runnable));
    }

    public /* synthetic */ void lambda$changeChatAvatar$250(Runnable runnable) {
        if (runnable != null) {
            runnable.run();
        }
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_AVATAR));
    }

    public void unregistedPush() {
        if (!getUserConfig().registeredForPush || SharedConfig.pushString.length() != 0) {
            return;
        }
        TLRPC$TL_account_unregisterDevice tLRPC$TL_account_unregisterDevice = new TLRPC$TL_account_unregisterDevice();
        tLRPC$TL_account_unregisterDevice.token = SharedConfig.pushString;
        tLRPC$TL_account_unregisterDevice.token_type = SharedConfig.pushType;
        for (int i = 0; i < 4; i++) {
            UserConfig userConfig = UserConfig.getInstance(i);
            if (i != this.currentAccount && userConfig.isClientActivated()) {
                tLRPC$TL_account_unregisterDevice.other_uids.add(Long.valueOf(userConfig.getClientUserId()));
            }
        }
        getConnectionsManager().sendRequest(tLRPC$TL_account_unregisterDevice, MessagesController$$ExternalSyntheticLambda352.INSTANCE);
    }

    public void performLogout(int i) {
        boolean z = true;
        if (i == 1) {
            unregistedPush();
            getConnectionsManager().sendRequest(new TLRPC$TL_auth_logOut(), new MessagesController$$ExternalSyntheticLambda257(this));
        } else {
            getConnectionsManager().cleanup(i == 2);
        }
        getUserConfig().clearConfig();
        SharedPrefsHelper.cleanupAccount(this.currentAccount);
        ArrayList<NotificationCenter.NotificationCenterDelegate> observers = getNotificationCenter().getObservers(NotificationCenter.appDidLogout);
        if (observers != null) {
            int size = observers.size();
            int i2 = 0;
            while (true) {
                if (i2 >= size) {
                    break;
                } else if (observers.get(i2) instanceof LaunchActivity) {
                    z = false;
                    break;
                } else {
                    i2++;
                }
            }
        }
        if (z && UserConfig.selectedAccount == this.currentAccount) {
            int i3 = 0;
            while (true) {
                if (i3 >= 4) {
                    i3 = -1;
                    break;
                } else if (UserConfig.getInstance(i3).isClientActivated()) {
                    break;
                } else {
                    i3++;
                }
            }
            if (i3 != -1) {
                UserConfig.selectedAccount = i3;
                UserConfig.getInstance(0).saveConfig(false);
                LaunchActivity.clearFragments();
            }
        }
        getNotificationCenter().postNotificationName(NotificationCenter.appDidLogout, new Object[0]);
        getMessagesStorage().cleanup(false);
        cleanup();
        getContactsController().deleteUnknownAppAccounts();
    }

    public /* synthetic */ void lambda$performLogout$254(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        getConnectionsManager().cleanup(false);
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda217(tLObject));
    }

    public static /* synthetic */ void lambda$performLogout$253(TLObject tLObject) {
        if (tLObject instanceof TLRPC$TL_auth_loggedOut) {
            TLRPC$TL_auth_loggedOut tLRPC$TL_auth_loggedOut = (TLRPC$TL_auth_loggedOut) tLObject;
            if (tLRPC$TL_auth_loggedOut.future_auth_token == null) {
                return;
            }
            SharedPreferences sharedPreferences = ApplicationLoader.applicationContext.getSharedPreferences("saved_tokens", 0);
            int i = sharedPreferences.getInt("count", 0);
            SerializedData serializedData = new SerializedData(tLObject.getObjectSize());
            tLRPC$TL_auth_loggedOut.serializeToStream(serializedData);
            SharedPreferences.Editor edit = sharedPreferences.edit();
            edit.putString("log_out_token_" + i, Utilities.bytesToHex(serializedData.toByteArray())).putInt("count", i + 1).apply();
        }
    }

    public static ArrayList<TLRPC$TL_auth_loggedOut> getSavedLogOutTokens() {
        SharedPreferences sharedPreferences = ApplicationLoader.applicationContext.getSharedPreferences("saved_tokens", 0);
        int i = sharedPreferences.getInt("count", 0);
        if (i == 0) {
            return null;
        }
        ArrayList<TLRPC$TL_auth_loggedOut> arrayList = new ArrayList<>();
        for (int i2 = 0; i2 < i; i2++) {
            SerializedData serializedData = new SerializedData(Utilities.hexToBytes(sharedPreferences.getString("log_out_token_" + i2, "")));
            TLRPC$TL_auth_loggedOut TLdeserialize = TLRPC$TL_auth_loggedOut.TLdeserialize(serializedData, serializedData.readInt32(true), true);
            if (TLdeserialize != null) {
                arrayList.add(TLdeserialize);
            }
        }
        return arrayList;
    }

    public static void saveLogOutTokens(ArrayList<TLRPC$TL_auth_loggedOut> arrayList) {
        SharedPreferences sharedPreferences = ApplicationLoader.applicationContext.getSharedPreferences("saved_tokens", 0);
        ArrayList arrayList2 = new ArrayList();
        sharedPreferences.edit().clear().apply();
        long currentTimeMillis = System.currentTimeMillis() / 1000;
        for (int i = 0; i < Math.min(20, arrayList.size()); i++) {
            arrayList2.add(arrayList.get(i));
        }
        if (arrayList2.size() > 0) {
            SharedPreferences.Editor edit = sharedPreferences.edit();
            edit.putInt("count", arrayList2.size());
            for (int i2 = 0; i2 < arrayList2.size(); i2++) {
                SerializedData serializedData = new SerializedData(((TLRPC$TL_auth_loggedOut) arrayList2.get(i2)).getObjectSize());
                ((TLRPC$TL_auth_loggedOut) arrayList2.get(i2)).serializeToStream(serializedData);
                edit.putString("log_out_token_" + i2, Utilities.bytesToHex(serializedData.toByteArray()));
            }
            edit.apply();
        }
    }

    public void generateUpdateMessage() {
        String str;
        if (this.gettingAppChangelog || BuildVars.DEBUG_VERSION || (str = SharedConfig.lastUpdateVersion) == null || str.equals(BuildVars.BUILD_VERSION_STRING)) {
            return;
        }
        this.gettingAppChangelog = true;
        TLRPC$TL_help_getAppChangelog tLRPC$TL_help_getAppChangelog = new TLRPC$TL_help_getAppChangelog();
        tLRPC$TL_help_getAppChangelog.prev_app_version = SharedConfig.lastUpdateVersion;
        getConnectionsManager().sendRequest(tLRPC$TL_help_getAppChangelog, new MessagesController$$ExternalSyntheticLambda238(this));
    }

    public /* synthetic */ void lambda$generateUpdateMessage$255(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            SharedConfig.lastUpdateVersion = BuildVars.BUILD_VERSION_STRING;
            SharedConfig.saveConfig();
        }
        if (tLObject instanceof TLRPC$Updates) {
            processUpdates((TLRPC$Updates) tLObject, false);
        }
    }

    public void registerForPush(int i, String str) {
        if (TextUtils.isEmpty(str) || this.registeringForPush || getUserConfig().getClientUserId() == 0) {
            return;
        }
        if (getUserConfig().registeredForPush && str.equals(SharedConfig.pushString)) {
            return;
        }
        this.registeringForPush = true;
        this.lastPushRegisterSendTime = SystemClock.elapsedRealtime();
        if (SharedConfig.pushAuthKey == null) {
            SharedConfig.pushAuthKey = new byte[256];
            Utilities.random.nextBytes(SharedConfig.pushAuthKey);
            SharedConfig.saveConfig();
        }
        TLRPC$TL_account_registerDevice tLRPC$TL_account_registerDevice = new TLRPC$TL_account_registerDevice();
        tLRPC$TL_account_registerDevice.token_type = i;
        tLRPC$TL_account_registerDevice.token = str;
        tLRPC$TL_account_registerDevice.no_muted = false;
        tLRPC$TL_account_registerDevice.secret = SharedConfig.pushAuthKey;
        for (int i2 = 0; i2 < 4; i2++) {
            UserConfig userConfig = UserConfig.getInstance(i2);
            if (i2 != this.currentAccount && userConfig.isClientActivated()) {
                long clientUserId = userConfig.getClientUserId();
                tLRPC$TL_account_registerDevice.other_uids.add(Long.valueOf(clientUserId));
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("add other uid = " + clientUserId + " for account " + this.currentAccount);
                }
            }
        }
        getConnectionsManager().sendRequest(tLRPC$TL_account_registerDevice, new MessagesController$$ExternalSyntheticLambda269(this, i, str));
    }

    public /* synthetic */ void lambda$registerForPush$257(int i, String str, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject instanceof TLRPC$TL_boolTrue) {
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("account " + this.currentAccount + " registered for push, push type: " + i);
            }
            getUserConfig().registeredForPush = true;
            SharedConfig.pushString = str;
            SharedConfig.pushType = i;
            getUserConfig().saveConfig(false);
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda27(this));
    }

    public /* synthetic */ void lambda$registerForPush$256() {
        this.registeringForPush = false;
    }

    public void loadCurrentState() {
        if (this.updatingState) {
            return;
        }
        this.updatingState = true;
        getConnectionsManager().sendRequest(new TLRPC$TL_updates_getState(), new MessagesController$$ExternalSyntheticLambda254(this));
    }

    public /* synthetic */ void lambda$loadCurrentState$258(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        this.updatingState = false;
        if (tLRPC$TL_error == null) {
            TLRPC$TL_updates_state tLRPC$TL_updates_state = (TLRPC$TL_updates_state) tLObject;
            getMessagesStorage().setLastDateValue(tLRPC$TL_updates_state.date);
            getMessagesStorage().setLastPtsValue(tLRPC$TL_updates_state.pts);
            getMessagesStorage().setLastSeqValue(tLRPC$TL_updates_state.seq);
            getMessagesStorage().setLastQtsValue(tLRPC$TL_updates_state.qts);
            for (int i = 0; i < 3; i++) {
                processUpdatesQueue(i, 2);
            }
            getMessagesStorage().saveDiffParams(getMessagesStorage().getLastSeqValue(), getMessagesStorage().getLastPtsValue(), getMessagesStorage().getLastDateValue(), getMessagesStorage().getLastQtsValue());
        } else if (tLRPC$TL_error.code != 401) {
            loadCurrentState();
        }
    }

    private int getUpdateSeq(TLRPC$Updates tLRPC$Updates) {
        if (tLRPC$Updates instanceof TLRPC$TL_updatesCombined) {
            return tLRPC$Updates.seq_start;
        }
        return tLRPC$Updates.seq;
    }

    private void setUpdatesStartTime(int i, long j) {
        if (i == 0) {
            this.updatesStartWaitTimeSeq = j;
        } else if (i == 1) {
            this.updatesStartWaitTimePts = j;
        } else if (i != 2) {
        } else {
            this.updatesStartWaitTimeQts = j;
        }
    }

    public long getUpdatesStartTime(int i) {
        if (i == 0) {
            return this.updatesStartWaitTimeSeq;
        }
        if (i == 1) {
            return this.updatesStartWaitTimePts;
        }
        if (i != 2) {
            return 0L;
        }
        return this.updatesStartWaitTimeQts;
    }

    private int isValidUpdate(TLRPC$Updates tLRPC$Updates, int i) {
        if (i == 0) {
            int updateSeq = getUpdateSeq(tLRPC$Updates);
            if (getMessagesStorage().getLastSeqValue() + 1 == updateSeq || getMessagesStorage().getLastSeqValue() == updateSeq) {
                return 0;
            }
            return getMessagesStorage().getLastSeqValue() < updateSeq ? 1 : 2;
        } else if (i == 1) {
            if (tLRPC$Updates.pts <= getMessagesStorage().getLastPtsValue()) {
                return 2;
            }
            return getMessagesStorage().getLastPtsValue() + tLRPC$Updates.pts_count == tLRPC$Updates.pts ? 0 : 1;
        } else if (i != 2) {
            return 0;
        } else {
            if (tLRPC$Updates.pts <= getMessagesStorage().getLastQtsValue()) {
                return 2;
            }
            return getMessagesStorage().getLastQtsValue() + tLRPC$Updates.updates.size() == tLRPC$Updates.pts ? 0 : 1;
        }
    }

    private void processChannelsUpdatesQueue(long j, int i) {
        char c;
        ArrayList<TLRPC$Updates> arrayList = this.updatesQueueChannels.get(j);
        if (arrayList == null) {
            return;
        }
        int i2 = this.channelsPts.get(j);
        if (arrayList.isEmpty() || i2 == 0) {
            this.updatesQueueChannels.remove(j);
            return;
        }
        Collections.sort(arrayList, MessagesController$$ExternalSyntheticLambda227.INSTANCE);
        if (i == 2) {
            this.channelsPts.put(j, arrayList.get(0).pts);
        }
        boolean z = false;
        while (arrayList.size() > 0) {
            TLRPC$Updates tLRPC$Updates = arrayList.get(0);
            int i3 = tLRPC$Updates.pts;
            if (i3 <= i2) {
                c = 2;
            } else {
                c = tLRPC$Updates.pts_count + i2 == i3 ? (char) 0 : (char) 1;
            }
            if (c == 0) {
                processUpdates(tLRPC$Updates, true);
                arrayList.remove(0);
                z = true;
            } else if (c == 1) {
                long j2 = this.updatesStartWaitTimeChannels.get(j);
                if (j2 != 0 && (z || Math.abs(System.currentTimeMillis() - j2) <= 1500)) {
                    if (BuildVars.LOGS_ENABLED) {
                        FileLog.d("HOLE IN CHANNEL " + j + " UPDATES QUEUE - will wait more time");
                    }
                    if (!z) {
                        return;
                    }
                    this.updatesStartWaitTimeChannels.put(j, System.currentTimeMillis());
                    return;
                }
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("HOLE IN CHANNEL " + j + " UPDATES QUEUE - getChannelDifference ");
                }
                this.updatesStartWaitTimeChannels.delete(j);
                this.updatesQueueChannels.remove(j);
                getChannelDifference(j);
                return;
            } else {
                arrayList.remove(0);
            }
        }
        this.updatesQueueChannels.remove(j);
        this.updatesStartWaitTimeChannels.delete(j);
        if (!BuildVars.LOGS_ENABLED) {
            return;
        }
        FileLog.d("UPDATES CHANNEL " + j + " QUEUE PROCEED - OK");
    }

    public static /* synthetic */ int lambda$processChannelsUpdatesQueue$259(TLRPC$Updates tLRPC$Updates, TLRPC$Updates tLRPC$Updates2) {
        return AndroidUtilities.compare(tLRPC$Updates.pts, tLRPC$Updates2.pts);
    }

    private void processUpdatesQueue(int i, int i2) {
        ArrayList<TLRPC$Updates> arrayList;
        if (i == 0) {
            arrayList = this.updatesQueueSeq;
            Collections.sort(arrayList, new MessagesController$$ExternalSyntheticLambda223(this));
        } else if (i == 1) {
            arrayList = this.updatesQueuePts;
            Collections.sort(arrayList, MessagesController$$ExternalSyntheticLambda226.INSTANCE);
        } else if (i == 2) {
            arrayList = this.updatesQueueQts;
            Collections.sort(arrayList, MessagesController$$ExternalSyntheticLambda225.INSTANCE);
        } else {
            arrayList = null;
        }
        if (arrayList != null && !arrayList.isEmpty()) {
            if (i2 == 2) {
                TLRPC$Updates tLRPC$Updates = arrayList.get(0);
                if (i == 0) {
                    getMessagesStorage().setLastSeqValue(getUpdateSeq(tLRPC$Updates));
                } else if (i == 1) {
                    getMessagesStorage().setLastPtsValue(tLRPC$Updates.pts);
                } else {
                    getMessagesStorage().setLastQtsValue(tLRPC$Updates.pts);
                }
            }
            boolean z = false;
            while (arrayList.size() > 0) {
                TLRPC$Updates tLRPC$Updates2 = arrayList.get(0);
                int isValidUpdate = isValidUpdate(tLRPC$Updates2, i);
                if (isValidUpdate == 0) {
                    processUpdates(tLRPC$Updates2, true);
                    arrayList.remove(0);
                    z = true;
                } else if (isValidUpdate == 1) {
                    if (getUpdatesStartTime(i) != 0 && (z || Math.abs(System.currentTimeMillis() - getUpdatesStartTime(i)) <= 1500)) {
                        if (BuildVars.LOGS_ENABLED) {
                            FileLog.d("HOLE IN UPDATES QUEUE - will wait more time");
                        }
                        if (!z) {
                            return;
                        }
                        setUpdatesStartTime(i, System.currentTimeMillis());
                        return;
                    }
                    if (BuildVars.LOGS_ENABLED) {
                        FileLog.d("HOLE IN UPDATES QUEUE - getDifference");
                    }
                    setUpdatesStartTime(i, 0L);
                    arrayList.clear();
                    getDifference();
                    return;
                } else {
                    arrayList.remove(0);
                }
            }
            arrayList.clear();
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("UPDATES QUEUE PROCEED - OK");
            }
        }
        setUpdatesStartTime(i, 0L);
    }

    public /* synthetic */ int lambda$processUpdatesQueue$260(TLRPC$Updates tLRPC$Updates, TLRPC$Updates tLRPC$Updates2) {
        return AndroidUtilities.compare(getUpdateSeq(tLRPC$Updates), getUpdateSeq(tLRPC$Updates2));
    }

    public static /* synthetic */ int lambda$processUpdatesQueue$261(TLRPC$Updates tLRPC$Updates, TLRPC$Updates tLRPC$Updates2) {
        return AndroidUtilities.compare(tLRPC$Updates.pts, tLRPC$Updates2.pts);
    }

    public static /* synthetic */ int lambda$processUpdatesQueue$262(TLRPC$Updates tLRPC$Updates, TLRPC$Updates tLRPC$Updates2) {
        return AndroidUtilities.compare(tLRPC$Updates.pts, tLRPC$Updates2.pts);
    }

    public void loadUnknownChannel(TLRPC$Chat tLRPC$Chat, long j) {
        NativeByteBuffer nativeByteBuffer;
        Exception e;
        if (!(tLRPC$Chat instanceof TLRPC$TL_channel) || this.gettingUnknownChannels.indexOfKey(tLRPC$Chat.id) >= 0) {
            return;
        }
        if (tLRPC$Chat.access_hash == 0) {
            if (j == 0) {
                return;
            }
            getMessagesStorage().removePendingTask(j);
            return;
        }
        TLRPC$TL_inputPeerChannel tLRPC$TL_inputPeerChannel = new TLRPC$TL_inputPeerChannel();
        long j2 = tLRPC$Chat.id;
        tLRPC$TL_inputPeerChannel.channel_id = j2;
        tLRPC$TL_inputPeerChannel.access_hash = tLRPC$Chat.access_hash;
        this.gettingUnknownChannels.put(j2, Boolean.TRUE);
        TLRPC$TL_messages_getPeerDialogs tLRPC$TL_messages_getPeerDialogs = new TLRPC$TL_messages_getPeerDialogs();
        TLRPC$TL_inputDialogPeer tLRPC$TL_inputDialogPeer = new TLRPC$TL_inputDialogPeer();
        tLRPC$TL_inputDialogPeer.peer = tLRPC$TL_inputPeerChannel;
        tLRPC$TL_messages_getPeerDialogs.peers.add(tLRPC$TL_inputDialogPeer);
        if (j == 0) {
            try {
                nativeByteBuffer = new NativeByteBuffer(tLRPC$Chat.getObjectSize() + 4);
                try {
                    nativeByteBuffer.writeInt32(0);
                    tLRPC$Chat.serializeToStream(nativeByteBuffer);
                } catch (Exception e2) {
                    e = e2;
                    FileLog.e(e);
                    j = getMessagesStorage().createPendingTask(nativeByteBuffer);
                    getConnectionsManager().sendRequest(tLRPC$TL_messages_getPeerDialogs, new MessagesController$$ExternalSyntheticLambda305(this, j, tLRPC$Chat));
                }
            } catch (Exception e3) {
                nativeByteBuffer = null;
                e = e3;
            }
            j = getMessagesStorage().createPendingTask(nativeByteBuffer);
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_getPeerDialogs, new MessagesController$$ExternalSyntheticLambda305(this, j, tLRPC$Chat));
    }

    public /* synthetic */ void lambda$loadUnknownChannel$263(long j, TLRPC$Chat tLRPC$Chat, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs = (TLRPC$TL_messages_peerDialogs) tLObject;
            if (!tLRPC$TL_messages_peerDialogs.dialogs.isEmpty() && !tLRPC$TL_messages_peerDialogs.chats.isEmpty()) {
                TLRPC$TL_messages_dialogs tLRPC$TL_messages_dialogs = new TLRPC$TL_messages_dialogs();
                tLRPC$TL_messages_dialogs.dialogs.addAll(tLRPC$TL_messages_peerDialogs.dialogs);
                tLRPC$TL_messages_dialogs.messages.addAll(tLRPC$TL_messages_peerDialogs.messages);
                tLRPC$TL_messages_dialogs.users.addAll(tLRPC$TL_messages_peerDialogs.users);
                tLRPC$TL_messages_dialogs.chats.addAll(tLRPC$TL_messages_peerDialogs.chats);
                processLoadedDialogs(tLRPC$TL_messages_dialogs, null, ((TLRPC$TL_dialog) tLRPC$TL_messages_peerDialogs.dialogs.get(0)).folder_id, 0, 1, this.DIALOGS_LOAD_TYPE_CHANNEL, false, false, false);
            }
        }
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
        this.gettingUnknownChannels.delete(tLRPC$Chat.id);
    }

    public void startShortPoll(TLRPC$Chat tLRPC$Chat, int i, boolean z) {
        if (tLRPC$Chat == null) {
            return;
        }
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda151(this, tLRPC$Chat, z, i));
    }

    public /* synthetic */ void lambda$startShortPoll$264(TLRPC$Chat tLRPC$Chat, boolean z, int i) {
        ArrayList<Integer> arrayList = this.needShortPollChannels.get(tLRPC$Chat.id);
        ArrayList<Integer> arrayList2 = this.needShortPollOnlines.get(tLRPC$Chat.id);
        if (z) {
            if (arrayList != null) {
                arrayList.remove(Integer.valueOf(i));
            }
            if (arrayList == null || arrayList.isEmpty()) {
                this.needShortPollChannels.delete(tLRPC$Chat.id);
            }
            if (!tLRPC$Chat.megagroup) {
                return;
            }
            if (arrayList2 != null) {
                arrayList2.remove(Integer.valueOf(i));
            }
            if (arrayList2 != null && !arrayList2.isEmpty()) {
                return;
            }
            this.needShortPollOnlines.delete(tLRPC$Chat.id);
            return;
        }
        if (arrayList == null) {
            arrayList = new ArrayList<>();
            this.needShortPollChannels.put(tLRPC$Chat.id, arrayList);
        }
        if (!arrayList.contains(Integer.valueOf(i))) {
            arrayList.add(Integer.valueOf(i));
        }
        if (this.shortPollChannels.indexOfKey(tLRPC$Chat.id) < 0) {
            getChannelDifference(tLRPC$Chat.id, 3, 0L, null);
        }
        if (!tLRPC$Chat.megagroup) {
            return;
        }
        if (arrayList2 == null) {
            arrayList2 = new ArrayList<>();
            this.needShortPollOnlines.put(tLRPC$Chat.id, arrayList2);
        }
        if (!arrayList2.contains(Integer.valueOf(i))) {
            arrayList2.add(Integer.valueOf(i));
        }
        if (this.shortPollOnlines.indexOfKey(tLRPC$Chat.id) >= 0) {
            return;
        }
        this.shortPollOnlines.put(tLRPC$Chat.id, 0);
    }

    private void getChannelDifference(long j) {
        getChannelDifference(j, 0, 0L, null);
    }

    public static boolean isSupportUser(TLRPC$User tLRPC$User) {
        if (tLRPC$User != null) {
            if (!tLRPC$User.support) {
                long j = tLRPC$User.id;
                if (j == 777000 || j == 333000 || j == 4240000 || j == 4244000 || j == 4245000 || j == 4246000 || j == 410000 || j == 420000 || j == 431000 || j == 431415000 || j == 434000 || j == 4243000 || j == 439000 || j == 449000 || j == 450000 || j == 452000 || j == 454000 || j == 4254000 || j == 455000 || j == 460000 || j == 470000 || j == 479000 || j == 796000 || j == 482000 || j == 490000 || j == 496000 || j == 497000 || j == 498000 || j == 4298000) {
                }
            }
            return true;
        }
        return false;
    }

    /* JADX WARN: Removed duplicated region for block: B:50:0x00cd  */
    /* JADX WARN: Removed duplicated region for block: B:53:0x00d4  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void getChannelDifference(long j, int i, long j2, TLRPC$InputChannel tLRPC$InputChannel) {
        int i2;
        TLRPC$InputChannel tLRPC$InputChannel2;
        NativeByteBuffer nativeByteBuffer;
        Exception e;
        long j3 = j2;
        if (this.gettingDifferenceChannels.get(j, Boolean.FALSE).booleanValue()) {
            return;
        }
        int i3 = 100;
        boolean z = true;
        if (i == 1) {
            if (this.channelsPts.get(j) != 0) {
                return;
            }
            i3 = 1;
            i2 = 1;
        } else {
            i2 = this.channelsPts.get(j);
            if (i2 == 0) {
                i2 = getMessagesStorage().getChannelPtsSync(j);
                if (i2 != 0) {
                    this.channelsPts.put(j, i2);
                }
                if (i2 == 0 && (i == 2 || i == 3)) {
                    return;
                }
            }
            if (i2 == 0) {
                return;
            }
        }
        if (tLRPC$InputChannel == null) {
            TLRPC$Chat chat = getChat(Long.valueOf(j));
            if (chat == null && (chat = getMessagesStorage().getChatSync(j)) != null) {
                putChat(chat, true);
            }
            tLRPC$InputChannel2 = getInputChannel(chat);
        } else {
            tLRPC$InputChannel2 = tLRPC$InputChannel;
        }
        if (tLRPC$InputChannel2.access_hash == 0) {
            if (j3 == 0) {
                return;
            }
            getMessagesStorage().removePendingTask(j3);
            return;
        }
        if (j3 == 0) {
            NativeByteBuffer nativeByteBuffer2 = null;
            try {
                nativeByteBuffer = new NativeByteBuffer(tLRPC$InputChannel2.getObjectSize() + 16);
                try {
                    nativeByteBuffer.writeInt32(25);
                    nativeByteBuffer.writeInt64(j);
                    nativeByteBuffer.writeInt32(i);
                    tLRPC$InputChannel2.serializeToStream(nativeByteBuffer);
                } catch (Exception e2) {
                    e = e2;
                    nativeByteBuffer2 = nativeByteBuffer;
                    FileLog.e(e);
                    nativeByteBuffer = nativeByteBuffer2;
                    j3 = getMessagesStorage().createPendingTask(nativeByteBuffer);
                    long j4 = j3;
                    this.gettingDifferenceChannels.put(j, Boolean.TRUE);
                    TLRPC$TL_updates_getChannelDifference tLRPC$TL_updates_getChannelDifference = new TLRPC$TL_updates_getChannelDifference();
                    tLRPC$TL_updates_getChannelDifference.channel = tLRPC$InputChannel2;
                    tLRPC$TL_updates_getChannelDifference.filter = new TLRPC$TL_channelMessagesFilterEmpty();
                    tLRPC$TL_updates_getChannelDifference.pts = i2;
                    tLRPC$TL_updates_getChannelDifference.limit = i3;
                    if (i == 3) {
                    }
                    tLRPC$TL_updates_getChannelDifference.force = z;
                    if (BuildVars.LOGS_ENABLED) {
                    }
                    getConnectionsManager().sendRequest(tLRPC$TL_updates_getChannelDifference, new MessagesController$$ExternalSyntheticLambda292(this, j, i, j4));
                }
            } catch (Exception e3) {
                e = e3;
            }
            j3 = getMessagesStorage().createPendingTask(nativeByteBuffer);
        }
        long j42 = j3;
        this.gettingDifferenceChannels.put(j, Boolean.TRUE);
        TLRPC$TL_updates_getChannelDifference tLRPC$TL_updates_getChannelDifference2 = new TLRPC$TL_updates_getChannelDifference();
        tLRPC$TL_updates_getChannelDifference2.channel = tLRPC$InputChannel2;
        tLRPC$TL_updates_getChannelDifference2.filter = new TLRPC$TL_channelMessagesFilterEmpty();
        tLRPC$TL_updates_getChannelDifference2.pts = i2;
        tLRPC$TL_updates_getChannelDifference2.limit = i3;
        if (i == 3) {
            z = false;
        }
        tLRPC$TL_updates_getChannelDifference2.force = z;
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("start getChannelDifference with pts = " + i2 + " channelId = " + j);
        }
        getConnectionsManager().sendRequest(tLRPC$TL_updates_getChannelDifference2, new MessagesController$$ExternalSyntheticLambda292(this, j, i, j42));
    }

    public /* synthetic */ void lambda$getChannelDifference$273(long j, int i, long j2, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        TLRPC$Chat tLRPC$Chat;
        if (tLObject == null) {
            if (tLRPC$TL_error == null) {
                return;
            }
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda163(this, tLRPC$TL_error, j));
            this.gettingDifferenceChannels.delete(j);
            if (j2 == 0) {
                return;
            }
            getMessagesStorage().removePendingTask(j2);
            return;
        }
        TLRPC$updates_ChannelDifference tLRPC$updates_ChannelDifference = (TLRPC$updates_ChannelDifference) tLObject;
        LongSparseArray longSparseArray = new LongSparseArray();
        int i2 = 0;
        for (int i3 = 0; i3 < tLRPC$updates_ChannelDifference.users.size(); i3++) {
            TLRPC$User tLRPC$User = tLRPC$updates_ChannelDifference.users.get(i3);
            longSparseArray.put(tLRPC$User.id, tLRPC$User);
        }
        int i4 = 0;
        while (true) {
            if (i4 >= tLRPC$updates_ChannelDifference.chats.size()) {
                tLRPC$Chat = null;
                break;
            }
            tLRPC$Chat = tLRPC$updates_ChannelDifference.chats.get(i4);
            if (tLRPC$Chat.id == j) {
                break;
            }
            i4++;
        }
        ArrayList arrayList = new ArrayList();
        if (!tLRPC$updates_ChannelDifference.other_updates.isEmpty()) {
            while (i2 < tLRPC$updates_ChannelDifference.other_updates.size()) {
                TLRPC$Update tLRPC$Update = tLRPC$updates_ChannelDifference.other_updates.get(i2);
                if (tLRPC$Update instanceof TLRPC$TL_updateMessageID) {
                    arrayList.add((TLRPC$TL_updateMessageID) tLRPC$Update);
                    tLRPC$updates_ChannelDifference.other_updates.remove(i2);
                    i2--;
                }
                i2++;
            }
        }
        getMessagesStorage().putUsersAndChats(tLRPC$updates_ChannelDifference.users, tLRPC$updates_ChannelDifference.chats, true, true);
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda198(this, tLRPC$updates_ChannelDifference));
        getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda119(this, arrayList, j, tLRPC$updates_ChannelDifference, tLRPC$Chat, longSparseArray, i, j2));
    }

    public /* synthetic */ void lambda$getChannelDifference$265(TLRPC$updates_ChannelDifference tLRPC$updates_ChannelDifference) {
        putUsers(tLRPC$updates_ChannelDifference.users, false);
        putChats(tLRPC$updates_ChannelDifference.chats, false);
    }

    public /* synthetic */ void lambda$getChannelDifference$271(ArrayList arrayList, long j, TLRPC$updates_ChannelDifference tLRPC$updates_ChannelDifference, TLRPC$Chat tLRPC$Chat, LongSparseArray longSparseArray, int i, long j2) {
        if (!arrayList.isEmpty()) {
            SparseArray sparseArray = new SparseArray();
            Iterator it = arrayList.iterator();
            while (it.hasNext()) {
                TLRPC$TL_updateMessageID tLRPC$TL_updateMessageID = (TLRPC$TL_updateMessageID) it.next();
                long[] updateMessageStateAndId = getMessagesStorage().updateMessageStateAndId(tLRPC$TL_updateMessageID.random_id, -j, null, tLRPC$TL_updateMessageID.id, 0, false, -1);
                if (updateMessageStateAndId != null) {
                    sparseArray.put(tLRPC$TL_updateMessageID.id, updateMessageStateAndId);
                }
            }
            if (sparseArray.size() != 0) {
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda92(this, sparseArray));
            }
        }
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda199(this, tLRPC$updates_ChannelDifference, j, tLRPC$Chat, longSparseArray, i, j2));
    }

    public /* synthetic */ void lambda$getChannelDifference$266(SparseArray sparseArray) {
        for (int i = 0; i < sparseArray.size(); i++) {
            int keyAt = sparseArray.keyAt(i);
            long[] jArr = (long[]) sparseArray.valueAt(i);
            getSendMessagesHelper().processSentMessage((int) jArr[1]);
            getNotificationCenter().postNotificationName(NotificationCenter.messageReceivedByServer, Integer.valueOf((int) jArr[1]), Integer.valueOf(keyAt), null, Long.valueOf(jArr[0]), 0L, -1, Boolean.FALSE);
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:67:0x0173  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$getChannelDifference$270(TLRPC$updates_ChannelDifference tLRPC$updates_ChannelDifference, long j, TLRPC$Chat tLRPC$Chat, LongSparseArray longSparseArray, int i, long j2) {
        boolean z;
        MessageObject messageObject;
        ArrayList arrayList;
        boolean z2;
        TLRPC$Chat tLRPC$Chat2 = tLRPC$Chat;
        if ((tLRPC$updates_ChannelDifference instanceof TLRPC$TL_updates_channelDifference) || (tLRPC$updates_ChannelDifference instanceof TLRPC$TL_updates_channelDifferenceEmpty)) {
            if (!tLRPC$updates_ChannelDifference.new_messages.isEmpty()) {
                LongSparseArray longSparseArray2 = new LongSparseArray();
                ImageLoader.saveMessagesThumbs(tLRPC$updates_ChannelDifference.new_messages);
                ArrayList arrayList2 = new ArrayList();
                long j3 = -j;
                Integer num = this.dialogs_read_inbox_max.get(Long.valueOf(j3));
                if (num == null) {
                    num = Integer.valueOf(getMessagesStorage().getDialogReadMax(false, j3));
                    this.dialogs_read_inbox_max.put(Long.valueOf(j3), num);
                }
                Integer num2 = this.dialogs_read_outbox_max.get(Long.valueOf(j3));
                if (num2 == null) {
                    num2 = Integer.valueOf(getMessagesStorage().getDialogReadMax(true, j3));
                    this.dialogs_read_outbox_max.put(Long.valueOf(j3), num2);
                }
                int i2 = 0;
                while (i2 < tLRPC$updates_ChannelDifference.new_messages.size()) {
                    TLRPC$Message tLRPC$Message = tLRPC$updates_ChannelDifference.new_messages.get(i2);
                    if (!(tLRPC$Message instanceof TLRPC$TL_messageEmpty)) {
                        if (tLRPC$Chat2 == null || !tLRPC$Chat2.left) {
                            if ((tLRPC$Message.out ? num2 : num).intValue() < tLRPC$Message.id && !(tLRPC$Message.action instanceof TLRPC$TL_messageActionChannelCreate)) {
                                z = true;
                                tLRPC$Message.unread = z;
                                boolean contains = this.createdDialogIds.contains(Long.valueOf(j3));
                                messageObject = new MessageObject(this.currentAccount, tLRPC$Message, longSparseArray, contains, contains);
                                if ((messageObject.isOut() || messageObject.messageOwner.from_scheduled) && messageObject.isUnread()) {
                                    arrayList2.add(messageObject);
                                }
                                arrayList = (ArrayList) longSparseArray2.get(j3);
                                if (arrayList == null) {
                                    arrayList = new ArrayList();
                                    longSparseArray2.put(j3, arrayList);
                                }
                                arrayList.add(messageObject);
                            }
                        }
                        z = false;
                        tLRPC$Message.unread = z;
                        boolean contains2 = this.createdDialogIds.contains(Long.valueOf(j3));
                        messageObject = new MessageObject(this.currentAccount, tLRPC$Message, longSparseArray, contains2, contains2);
                        if (messageObject.isOut()) {
                        }
                        arrayList2.add(messageObject);
                        arrayList = (ArrayList) longSparseArray2.get(j3);
                        if (arrayList == null) {
                        }
                        arrayList.add(messageObject);
                    }
                    i2++;
                    tLRPC$Chat2 = tLRPC$Chat;
                }
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda94(this, longSparseArray2));
                getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda122(this, arrayList2, tLRPC$updates_ChannelDifference));
            }
            if (!tLRPC$updates_ChannelDifference.other_updates.isEmpty()) {
                processUpdateArray(tLRPC$updates_ChannelDifference.other_updates, tLRPC$updates_ChannelDifference.users, tLRPC$updates_ChannelDifference.chats, true, 0);
            }
            processChannelsUpdatesQueue(j, 1);
            getMessagesStorage().saveChannelPts(j, tLRPC$updates_ChannelDifference.pts);
        } else if (tLRPC$updates_ChannelDifference instanceof TLRPC$TL_updates_channelDifferenceTooLong) {
            long j4 = -j;
            Integer num3 = this.dialogs_read_inbox_max.get(Long.valueOf(j4));
            if (num3 == null) {
                num3 = Integer.valueOf(getMessagesStorage().getDialogReadMax(false, j4));
                this.dialogs_read_inbox_max.put(Long.valueOf(j4), num3);
            }
            Integer num4 = this.dialogs_read_outbox_max.get(Long.valueOf(j4));
            if (num4 == null) {
                num4 = Integer.valueOf(getMessagesStorage().getDialogReadMax(true, j4));
                this.dialogs_read_outbox_max.put(Long.valueOf(j4), num4);
            }
            for (int i3 = 0; i3 < tLRPC$updates_ChannelDifference.messages.size(); i3++) {
                TLRPC$Message tLRPC$Message2 = tLRPC$updates_ChannelDifference.messages.get(i3);
                tLRPC$Message2.dialog_id = j4;
                if (!(tLRPC$Message2.action instanceof TLRPC$TL_messageActionChannelCreate) && (tLRPC$Chat2 == null || !tLRPC$Chat2.left)) {
                    if ((tLRPC$Message2.out ? num4 : num3).intValue() < tLRPC$Message2.id) {
                        z2 = true;
                        tLRPC$Message2.unread = z2;
                    }
                }
                z2 = false;
                tLRPC$Message2.unread = z2;
            }
            getMessagesStorage().overwriteChannel(j, (TLRPC$TL_updates_channelDifferenceTooLong) tLRPC$updates_ChannelDifference, i);
        }
        this.gettingDifferenceChannels.delete(j);
        this.channelsPts.put(j, tLRPC$updates_ChannelDifference.pts);
        if ((tLRPC$updates_ChannelDifference.flags & 2) != 0) {
            this.shortPollChannels.put(j, ((int) (System.currentTimeMillis() / 1000)) + tLRPC$updates_ChannelDifference.timeout);
        }
        if (!tLRPC$updates_ChannelDifference.isFinal) {
            getChannelDifference(j);
        }
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("received channel difference with pts = " + tLRPC$updates_ChannelDifference.pts + " channelId = " + j);
            FileLog.d("new_messages = " + tLRPC$updates_ChannelDifference.new_messages.size() + " messages = " + tLRPC$updates_ChannelDifference.messages.size() + " users = " + tLRPC$updates_ChannelDifference.users.size() + " chats = " + tLRPC$updates_ChannelDifference.chats.size() + " other updates = " + tLRPC$updates_ChannelDifference.other_updates.size());
        }
        if (j2 != 0) {
            getMessagesStorage().removePendingTask(j2);
        }
    }

    public /* synthetic */ void lambda$getChannelDifference$267(LongSparseArray longSparseArray) {
        for (int i = 0; i < longSparseArray.size(); i++) {
            updateInterfaceWithMessages(longSparseArray.keyAt(i), (ArrayList) longSparseArray.valueAt(i), false);
        }
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    public /* synthetic */ void lambda$getChannelDifference$269(ArrayList arrayList, TLRPC$updates_ChannelDifference tLRPC$updates_ChannelDifference) {
        if (!arrayList.isEmpty()) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda109(this, arrayList));
        }
        getMessagesStorage().putMessages(tLRPC$updates_ChannelDifference.new_messages, true, false, false, getDownloadController().getAutodownloadMask(), false);
    }

    public /* synthetic */ void lambda$getChannelDifference$268(ArrayList arrayList) {
        getNotificationsController().processNewMessages(arrayList, true, false, null);
    }

    public /* synthetic */ void lambda$getChannelDifference$272(TLRPC$TL_error tLRPC$TL_error, long j) {
        checkChannelError(tLRPC$TL_error.text, j);
    }

    private void checkChannelError(String str, long j) {
        str.hashCode();
        char c = 65535;
        switch (str.hashCode()) {
            case -1809401834:
                if (str.equals("USER_BANNED_IN_CHANNEL")) {
                    c = 0;
                    break;
                }
                break;
            case -795226617:
                if (str.equals("CHANNEL_PRIVATE")) {
                    c = 1;
                    break;
                }
                break;
            case -471086771:
                if (str.equals("CHANNEL_PUBLIC_GROUP_NA")) {
                    c = 2;
                    break;
                }
                break;
        }
        switch (c) {
            case 0:
                getNotificationCenter().postNotificationName(NotificationCenter.chatInfoCantLoad, Long.valueOf(j), 2);
                return;
            case 1:
                getNotificationCenter().postNotificationName(NotificationCenter.chatInfoCantLoad, Long.valueOf(j), 0);
                return;
            case 2:
                getNotificationCenter().postNotificationName(NotificationCenter.chatInfoCantLoad, Long.valueOf(j), 1);
                return;
            default:
                return;
        }
    }

    public void getDifference() {
        getDifference(getMessagesStorage().getLastPtsValue(), getMessagesStorage().getLastDateValue(), getMessagesStorage().getLastQtsValue(), false);
    }

    public void getDifference(int i, int i2, int i3, boolean z) {
        registerForPush(SharedConfig.pushType, SharedConfig.pushString);
        if (getMessagesStorage().getLastPtsValue() == 0) {
            loadCurrentState();
        } else if (!z && this.gettingDifference) {
        } else {
            this.gettingDifference = true;
            TLRPC$TL_updates_getDifference tLRPC$TL_updates_getDifference = new TLRPC$TL_updates_getDifference();
            tLRPC$TL_updates_getDifference.pts = i;
            tLRPC$TL_updates_getDifference.date = i2;
            tLRPC$TL_updates_getDifference.qts = i3;
            if (this.getDifferenceFirstSync) {
                tLRPC$TL_updates_getDifference.flags |= 1;
                if (ApplicationLoader.isConnectedOrConnectingToWiFi()) {
                    tLRPC$TL_updates_getDifference.pts_total_limit = 5000;
                } else {
                    tLRPC$TL_updates_getDifference.pts_total_limit = 1000;
                }
                this.getDifferenceFirstSync = false;
            }
            if (tLRPC$TL_updates_getDifference.date == 0) {
                tLRPC$TL_updates_getDifference.date = getConnectionsManager().getCurrentTime();
            }
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("start getDifference with date = " + i2 + " pts = " + i + " qts = " + i3);
            }
            getConnectionsManager().setIsUpdating(true);
            getConnectionsManager().sendRequest(tLRPC$TL_updates_getDifference, new MessagesController$$ExternalSyntheticLambda261(this, i2, i3));
        }
    }

    public /* synthetic */ void lambda$getDifference$283(int i, int i2, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        int i3 = 0;
        if (tLRPC$TL_error == null) {
            TLRPC$updates_Difference tLRPC$updates_Difference = (TLRPC$updates_Difference) tLObject;
            if (tLRPC$updates_Difference instanceof TLRPC$TL_updates_differenceTooLong) {
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda201(this, tLRPC$updates_Difference, i, i2));
                return;
            }
            if (tLRPC$updates_Difference instanceof TLRPC$TL_updates_differenceSlice) {
                TLRPC$TL_updates_state tLRPC$TL_updates_state = tLRPC$updates_Difference.intermediate_state;
                getDifference(tLRPC$TL_updates_state.pts, tLRPC$TL_updates_state.date, tLRPC$TL_updates_state.qts, true);
            }
            LongSparseArray longSparseArray = new LongSparseArray();
            LongSparseArray longSparseArray2 = new LongSparseArray();
            for (int i4 = 0; i4 < tLRPC$updates_Difference.users.size(); i4++) {
                TLRPC$User tLRPC$User = tLRPC$updates_Difference.users.get(i4);
                longSparseArray.put(tLRPC$User.id, tLRPC$User);
            }
            for (int i5 = 0; i5 < tLRPC$updates_Difference.chats.size(); i5++) {
                TLRPC$Chat tLRPC$Chat = tLRPC$updates_Difference.chats.get(i5);
                longSparseArray2.put(tLRPC$Chat.id, tLRPC$Chat);
            }
            ArrayList arrayList = new ArrayList();
            if (!tLRPC$updates_Difference.other_updates.isEmpty()) {
                while (i3 < tLRPC$updates_Difference.other_updates.size()) {
                    TLRPC$Update tLRPC$Update = tLRPC$updates_Difference.other_updates.get(i3);
                    if (tLRPC$Update instanceof TLRPC$TL_updateMessageID) {
                        arrayList.add((TLRPC$TL_updateMessageID) tLRPC$Update);
                        tLRPC$updates_Difference.other_updates.remove(i3);
                    } else {
                        if (getUpdateType(tLRPC$Update) == 2) {
                            long updateChannelId = getUpdateChannelId(tLRPC$Update);
                            int i6 = this.channelsPts.get(updateChannelId);
                            if (i6 == 0 && (i6 = getMessagesStorage().getChannelPtsSync(updateChannelId)) != 0) {
                                this.channelsPts.put(updateChannelId, i6);
                            }
                            if (i6 != 0 && getUpdatePts(tLRPC$Update) <= i6) {
                                tLRPC$updates_Difference.other_updates.remove(i3);
                            }
                        }
                        i3++;
                    }
                    i3--;
                    i3++;
                }
            }
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda200(this, tLRPC$updates_Difference));
            getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda203(this, tLRPC$updates_Difference, arrayList, longSparseArray, longSparseArray2));
            return;
        }
        this.gettingDifference = false;
        getConnectionsManager().setIsUpdating(false);
    }

    public /* synthetic */ void lambda$getDifference$274(TLRPC$updates_Difference tLRPC$updates_Difference, int i, int i2) {
        this.loadedFullUsers.clear();
        this.loadedFullChats.clear();
        resetDialogs(true, getMessagesStorage().getLastSeqValue(), tLRPC$updates_Difference.pts, i, i2);
    }

    public /* synthetic */ void lambda$getDifference$275(TLRPC$updates_Difference tLRPC$updates_Difference) {
        this.loadedFullUsers.clear();
        this.loadedFullChats.clear();
        putUsers(tLRPC$updates_Difference.users, false);
        putChats(tLRPC$updates_Difference.chats, false);
    }

    public /* synthetic */ void lambda$getDifference$282(TLRPC$updates_Difference tLRPC$updates_Difference, ArrayList arrayList, LongSparseArray longSparseArray, LongSparseArray longSparseArray2) {
        getMessagesStorage().putUsersAndChats(tLRPC$updates_Difference.users, tLRPC$updates_Difference.chats, true, false);
        if (!arrayList.isEmpty()) {
            SparseArray sparseArray = new SparseArray();
            for (int i = 0; i < arrayList.size(); i++) {
                TLRPC$TL_updateMessageID tLRPC$TL_updateMessageID = (TLRPC$TL_updateMessageID) arrayList.get(i);
                long[] updateMessageStateAndId = getMessagesStorage().updateMessageStateAndId(tLRPC$TL_updateMessageID.random_id, 0L, null, tLRPC$TL_updateMessageID.id, 0, false, -1);
                if (updateMessageStateAndId != null) {
                    sparseArray.put(tLRPC$TL_updateMessageID.id, updateMessageStateAndId);
                }
            }
            if (sparseArray.size() != 0) {
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda91(this, sparseArray));
            }
        }
        Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda202(this, tLRPC$updates_Difference, longSparseArray, longSparseArray2));
    }

    public /* synthetic */ void lambda$getDifference$276(SparseArray sparseArray) {
        for (int i = 0; i < sparseArray.size(); i++) {
            int keyAt = sparseArray.keyAt(i);
            long[] jArr = (long[]) sparseArray.valueAt(i);
            getSendMessagesHelper().processSentMessage((int) jArr[1]);
            getNotificationCenter().postNotificationName(NotificationCenter.messageReceivedByServer, Integer.valueOf((int) jArr[1]), Integer.valueOf(keyAt), null, Long.valueOf(jArr[0]), 0L, -1, Boolean.FALSE);
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:54:0x0121, code lost:
        if (r10.messageOwner.from_scheduled != false) goto L56;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$getDifference$281(TLRPC$updates_Difference tLRPC$updates_Difference, LongSparseArray longSparseArray, LongSparseArray longSparseArray2) {
        MessageObject messageObject;
        TLRPC$User tLRPC$User;
        int i = 0;
        if (!tLRPC$updates_Difference.new_messages.isEmpty() || !tLRPC$updates_Difference.new_encrypted_messages.isEmpty()) {
            LongSparseArray longSparseArray3 = new LongSparseArray();
            for (int i2 = 0; i2 < tLRPC$updates_Difference.new_encrypted_messages.size(); i2++) {
                ArrayList<TLRPC$Message> decryptMessage = getSecretChatHelper().decryptMessage(tLRPC$updates_Difference.new_encrypted_messages.get(i2));
                if (decryptMessage != null && !decryptMessage.isEmpty()) {
                    tLRPC$updates_Difference.new_messages.addAll(decryptMessage);
                }
            }
            ImageLoader.saveMessagesThumbs(tLRPC$updates_Difference.new_messages);
            ArrayList arrayList = new ArrayList();
            long clientUserId = getUserConfig().getClientUserId();
            for (int i3 = 0; i3 < tLRPC$updates_Difference.new_messages.size(); i3++) {
                TLRPC$Message tLRPC$Message = tLRPC$updates_Difference.new_messages.get(i3);
                if (!(tLRPC$Message instanceof TLRPC$TL_messageEmpty)) {
                    MessageObject.getDialogId(tLRPC$Message);
                    if (!DialogObject.isEncryptedDialog(tLRPC$Message.dialog_id)) {
                        TLRPC$MessageAction tLRPC$MessageAction = tLRPC$Message.action;
                        if ((tLRPC$MessageAction instanceof TLRPC$TL_messageActionChatDeleteUser) && (tLRPC$User = (TLRPC$User) longSparseArray.get(tLRPC$MessageAction.user_id)) != null && tLRPC$User.bot) {
                            tLRPC$Message.reply_markup = new TLRPC$TL_replyKeyboardHide();
                            tLRPC$Message.flags |= 64;
                        }
                        TLRPC$MessageAction tLRPC$MessageAction2 = tLRPC$Message.action;
                        if ((tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChatMigrateTo) || (tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChannelCreate)) {
                            tLRPC$Message.unread = false;
                            tLRPC$Message.media_unread = false;
                        } else {
                            ConcurrentHashMap<Long, Integer> concurrentHashMap = tLRPC$Message.out ? this.dialogs_read_outbox_max : this.dialogs_read_inbox_max;
                            Integer num = concurrentHashMap.get(Long.valueOf(tLRPC$Message.dialog_id));
                            if (num == null) {
                                num = Integer.valueOf(getMessagesStorage().getDialogReadMax(tLRPC$Message.out, tLRPC$Message.dialog_id));
                                concurrentHashMap.put(Long.valueOf(tLRPC$Message.dialog_id), num);
                            }
                            tLRPC$Message.unread = num.intValue() < tLRPC$Message.id;
                        }
                    }
                    long j = tLRPC$Message.dialog_id;
                    if (j == clientUserId) {
                        tLRPC$Message.unread = false;
                        tLRPC$Message.media_unread = false;
                        tLRPC$Message.out = true;
                    }
                    boolean contains = this.createdDialogIds.contains(Long.valueOf(j));
                    MessageObject messageObject2 = new MessageObject(this.currentAccount, tLRPC$Message, longSparseArray, longSparseArray2, contains, contains);
                    if (messageObject2.isOut()) {
                        messageObject = messageObject2;
                    } else {
                        messageObject = messageObject2;
                    }
                    if (messageObject.isUnread()) {
                        arrayList.add(messageObject);
                    }
                    ArrayList arrayList2 = (ArrayList) longSparseArray3.get(tLRPC$Message.dialog_id);
                    if (arrayList2 == null) {
                        arrayList2 = new ArrayList();
                        longSparseArray3.put(tLRPC$Message.dialog_id, arrayList2);
                    }
                    arrayList2.add(messageObject);
                }
            }
            getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda124(this, arrayList, tLRPC$updates_Difference, longSparseArray3));
            getSecretChatHelper().processPendingEncMessages();
        }
        if (!tLRPC$updates_Difference.other_updates.isEmpty()) {
            processUpdateArray(tLRPC$updates_Difference.other_updates, tLRPC$updates_Difference.users, tLRPC$updates_Difference.chats, true, 0);
        }
        if (tLRPC$updates_Difference instanceof TLRPC$TL_updates_difference) {
            this.gettingDifference = false;
            getMessagesStorage().setLastSeqValue(tLRPC$updates_Difference.state.seq);
            getMessagesStorage().setLastDateValue(tLRPC$updates_Difference.state.date);
            getMessagesStorage().setLastPtsValue(tLRPC$updates_Difference.state.pts);
            getMessagesStorage().setLastQtsValue(tLRPC$updates_Difference.state.qts);
            getConnectionsManager().setIsUpdating(false);
            while (i < 3) {
                processUpdatesQueue(i, 1);
                i++;
            }
        } else if (tLRPC$updates_Difference instanceof TLRPC$TL_updates_differenceSlice) {
            getMessagesStorage().setLastDateValue(tLRPC$updates_Difference.intermediate_state.date);
            getMessagesStorage().setLastPtsValue(tLRPC$updates_Difference.intermediate_state.pts);
            getMessagesStorage().setLastQtsValue(tLRPC$updates_Difference.intermediate_state.qts);
        } else if (tLRPC$updates_Difference instanceof TLRPC$TL_updates_differenceEmpty) {
            this.gettingDifference = false;
            getMessagesStorage().setLastSeqValue(tLRPC$updates_Difference.seq);
            getMessagesStorage().setLastDateValue(tLRPC$updates_Difference.date);
            getConnectionsManager().setIsUpdating(false);
            while (i < 3) {
                processUpdatesQueue(i, 1);
                i++;
            }
        }
        getMessagesStorage().saveDiffParams(getMessagesStorage().getLastSeqValue(), getMessagesStorage().getLastPtsValue(), getMessagesStorage().getLastDateValue(), getMessagesStorage().getLastQtsValue());
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("received difference with date = " + getMessagesStorage().getLastDateValue() + " pts = " + getMessagesStorage().getLastPtsValue() + " seq = " + getMessagesStorage().getLastSeqValue() + " messages = " + tLRPC$updates_Difference.new_messages.size() + " users = " + tLRPC$updates_Difference.users.size() + " chats = " + tLRPC$updates_Difference.chats.size() + " other updates = " + tLRPC$updates_Difference.other_updates.size());
        }
    }

    public /* synthetic */ void lambda$getDifference$280(ArrayList arrayList, TLRPC$updates_Difference tLRPC$updates_Difference, LongSparseArray longSparseArray) {
        if (!arrayList.isEmpty()) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda123(this, arrayList, tLRPC$updates_Difference));
        }
        getMessagesStorage().putMessages(tLRPC$updates_Difference.new_messages, true, false, false, getDownloadController().getAutodownloadMask(), false);
        for (int i = 0; i < longSparseArray.size(); i++) {
            long keyAt = longSparseArray.keyAt(i);
            ArrayList<MessageObject> arrayList2 = (ArrayList) longSparseArray.valueAt(i);
            getMediaDataController().loadReplyMessagesForMessages(arrayList2, keyAt, false, new MessagesController$$ExternalSyntheticLambda81(this, keyAt, arrayList2));
        }
    }

    public /* synthetic */ void lambda$getDifference$277(ArrayList arrayList, TLRPC$updates_Difference tLRPC$updates_Difference) {
        getNotificationsController().processNewMessages(arrayList, !(tLRPC$updates_Difference instanceof TLRPC$TL_updates_differenceSlice), false, null);
    }

    public /* synthetic */ void lambda$getDifference$279(long j, ArrayList arrayList) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda83(this, j, arrayList));
    }

    public /* synthetic */ void lambda$getDifference$278(long j, ArrayList arrayList) {
        updateInterfaceWithMessages(j, arrayList, false);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    public void markDialogAsUnread(long j, TLRPC$InputPeer tLRPC$InputPeer, long j2) {
        NativeByteBuffer nativeByteBuffer;
        Exception e;
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
        NativeByteBuffer nativeByteBuffer2 = null;
        if (tLRPC$Dialog != null) {
            tLRPC$Dialog.unread_mark = true;
            if (tLRPC$Dialog.unread_count == 0 && !isDialogMuted(j)) {
                this.unreadUnmutedDialogs++;
            }
            getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_READ_DIALOG_MESSAGE));
            getMessagesStorage().setDialogUnread(j, true);
            int i = 0;
            while (true) {
                DialogFilter[] dialogFilterArr = this.selectedDialogFilter;
                if (i < dialogFilterArr.length) {
                    if (dialogFilterArr[i] != null && (dialogFilterArr[i].flags & DIALOG_FILTER_FLAG_EXCLUDE_READ) != 0) {
                        sortDialogs(null);
                        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
                        break;
                    }
                    i++;
                } else {
                    break;
                }
            }
        }
        if (!DialogObject.isEncryptedDialog(j)) {
            TLRPC$TL_messages_markDialogUnread tLRPC$TL_messages_markDialogUnread = new TLRPC$TL_messages_markDialogUnread();
            tLRPC$TL_messages_markDialogUnread.unread = true;
            if (tLRPC$InputPeer == null) {
                tLRPC$InputPeer = getInputPeer(j);
            }
            if (tLRPC$InputPeer instanceof TLRPC$TL_inputPeerEmpty) {
                return;
            }
            TLRPC$TL_inputDialogPeer tLRPC$TL_inputDialogPeer = new TLRPC$TL_inputDialogPeer();
            tLRPC$TL_inputDialogPeer.peer = tLRPC$InputPeer;
            tLRPC$TL_messages_markDialogUnread.peer = tLRPC$TL_inputDialogPeer;
            if (j2 == 0) {
                try {
                    nativeByteBuffer = new NativeByteBuffer(tLRPC$InputPeer.getObjectSize() + 12);
                } catch (Exception e2) {
                    e = e2;
                }
                try {
                    nativeByteBuffer.writeInt32(9);
                    nativeByteBuffer.writeInt64(j);
                    tLRPC$InputPeer.serializeToStream(nativeByteBuffer);
                } catch (Exception e3) {
                    e = e3;
                    nativeByteBuffer2 = nativeByteBuffer;
                    FileLog.e(e);
                    nativeByteBuffer = nativeByteBuffer2;
                    j2 = getMessagesStorage().createPendingTask(nativeByteBuffer);
                    getConnectionsManager().sendRequest(tLRPC$TL_messages_markDialogUnread, new MessagesController$$ExternalSyntheticLambda281(this, j2));
                }
                j2 = getMessagesStorage().createPendingTask(nativeByteBuffer);
            }
            getConnectionsManager().sendRequest(tLRPC$TL_messages_markDialogUnread, new MessagesController$$ExternalSyntheticLambda281(this, j2));
        }
    }

    public /* synthetic */ void lambda$markDialogAsUnread$284(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
    }

    public void loadUnreadDialogs() {
        if (this.loadingUnreadDialogs || getUserConfig().unreadDialogsLoaded) {
            return;
        }
        this.loadingUnreadDialogs = true;
        getConnectionsManager().sendRequest(new TLRPC$TL_messages_getDialogUnreadMarks(), new MessagesController$$ExternalSyntheticLambda234(this));
    }

    public /* synthetic */ void lambda$loadUnreadDialogs$286(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda136(this, tLObject));
    }

    public /* synthetic */ void lambda$loadUnreadDialogs$285(TLObject tLObject) {
        if (tLObject != null) {
            TLRPC$Vector tLRPC$Vector = (TLRPC$Vector) tLObject;
            int size = tLRPC$Vector.objects.size();
            for (int i = 0; i < size; i++) {
                TLRPC$DialogPeer tLRPC$DialogPeer = (TLRPC$DialogPeer) tLRPC$Vector.objects.get(i);
                if (tLRPC$DialogPeer instanceof TLRPC$TL_dialogPeer) {
                    TLRPC$Peer tLRPC$Peer = ((TLRPC$TL_dialogPeer) tLRPC$DialogPeer).peer;
                    long j = tLRPC$Peer.user_id;
                    if (j == 0) {
                        long j2 = tLRPC$Peer.chat_id;
                        j = j2 != 0 ? -j2 : -tLRPC$Peer.channel_id;
                    }
                    getMessagesStorage().setDialogUnread(j, true);
                    TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
                    if (tLRPC$Dialog != null && !tLRPC$Dialog.unread_mark) {
                        tLRPC$Dialog.unread_mark = true;
                        if (tLRPC$Dialog.unread_count == 0 && !isDialogMuted(j)) {
                            this.unreadUnmutedDialogs++;
                        }
                    }
                }
            }
            getUserConfig().unreadDialogsLoaded = true;
            getUserConfig().saveConfig(false);
            getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_READ_DIALOG_MESSAGE));
            this.loadingUnreadDialogs = false;
        }
    }

    public void reorderPinnedDialogs(int i, ArrayList<TLRPC$InputDialogPeer> arrayList, long j) {
        NativeByteBuffer nativeByteBuffer;
        Exception e;
        TLRPC$TL_messages_reorderPinnedDialogs tLRPC$TL_messages_reorderPinnedDialogs = new TLRPC$TL_messages_reorderPinnedDialogs();
        tLRPC$TL_messages_reorderPinnedDialogs.folder_id = i;
        tLRPC$TL_messages_reorderPinnedDialogs.force = true;
        if (j == 0) {
            ArrayList<TLRPC$Dialog> dialogs = getDialogs(i);
            if (dialogs.isEmpty()) {
                return;
            }
            ArrayList<Long> arrayList2 = new ArrayList<>();
            ArrayList<Integer> arrayList3 = new ArrayList<>();
            int size = dialogs.size();
            int i2 = 0;
            for (int i3 = 0; i3 < size; i3++) {
                TLRPC$Dialog tLRPC$Dialog = dialogs.get(i3);
                if (!(tLRPC$Dialog instanceof TLRPC$TL_dialogFolder)) {
                    if (!tLRPC$Dialog.pinned) {
                        if (tLRPC$Dialog.id != this.promoDialogId) {
                            break;
                        }
                    } else {
                        arrayList2.add(Long.valueOf(tLRPC$Dialog.id));
                        arrayList3.add(Integer.valueOf(tLRPC$Dialog.pinnedNum));
                        if (!DialogObject.isEncryptedDialog(tLRPC$Dialog.id)) {
                            TLRPC$InputPeer inputPeer = getInputPeer(tLRPC$Dialog.id);
                            TLRPC$TL_inputDialogPeer tLRPC$TL_inputDialogPeer = new TLRPC$TL_inputDialogPeer();
                            tLRPC$TL_inputDialogPeer.peer = inputPeer;
                            tLRPC$TL_messages_reorderPinnedDialogs.order.add(tLRPC$TL_inputDialogPeer);
                            i2 += tLRPC$TL_inputDialogPeer.getObjectSize();
                        }
                    }
                }
            }
            getMessagesStorage().setDialogsPinned(arrayList2, arrayList3);
            NativeByteBuffer nativeByteBuffer2 = null;
            try {
                nativeByteBuffer = new NativeByteBuffer(i2 + 12);
                try {
                    nativeByteBuffer.writeInt32(16);
                    nativeByteBuffer.writeInt32(i);
                    nativeByteBuffer.writeInt32(tLRPC$TL_messages_reorderPinnedDialogs.order.size());
                    int size2 = tLRPC$TL_messages_reorderPinnedDialogs.order.size();
                    for (int i4 = 0; i4 < size2; i4++) {
                        tLRPC$TL_messages_reorderPinnedDialogs.order.get(i4).serializeToStream(nativeByteBuffer);
                    }
                } catch (Exception e2) {
                    e = e2;
                    nativeByteBuffer2 = nativeByteBuffer;
                    FileLog.e(e);
                    nativeByteBuffer = nativeByteBuffer2;
                    j = getMessagesStorage().createPendingTask(nativeByteBuffer);
                    getConnectionsManager().sendRequest(tLRPC$TL_messages_reorderPinnedDialogs, new MessagesController$$ExternalSyntheticLambda283(this, j));
                }
            } catch (Exception e3) {
                e = e3;
            }
            j = getMessagesStorage().createPendingTask(nativeByteBuffer);
        } else {
            tLRPC$TL_messages_reorderPinnedDialogs.order = arrayList;
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_reorderPinnedDialogs, new MessagesController$$ExternalSyntheticLambda283(this, j));
    }

    public /* synthetic */ void lambda$reorderPinnedDialogs$287(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
    }

    public boolean pinDialog(long j, boolean z, TLRPC$InputPeer tLRPC$InputPeer, long j2) {
        NativeByteBuffer nativeByteBuffer;
        long createPendingTask;
        Exception e;
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
        if (tLRPC$Dialog == null || tLRPC$Dialog.pinned == z) {
            return tLRPC$Dialog != null;
        }
        int i = tLRPC$Dialog.folder_id;
        ArrayList<TLRPC$Dialog> dialogs = getDialogs(i);
        tLRPC$Dialog.pinned = z;
        if (z) {
            int i2 = 0;
            for (int i3 = 0; i3 < dialogs.size(); i3++) {
                TLRPC$Dialog tLRPC$Dialog2 = dialogs.get(i3);
                if (!(tLRPC$Dialog2 instanceof TLRPC$TL_dialogFolder)) {
                    if (!tLRPC$Dialog2.pinned) {
                        if (tLRPC$Dialog2.id != this.promoDialogId) {
                            break;
                        }
                    } else {
                        i2 = Math.max(tLRPC$Dialog2.pinnedNum, i2);
                    }
                }
            }
            tLRPC$Dialog.pinnedNum = i2 + 1;
        } else {
            tLRPC$Dialog.pinnedNum = 0;
        }
        NativeByteBuffer nativeByteBuffer2 = null;
        sortDialogs(null);
        if (!z && !dialogs.isEmpty() && dialogs.get(dialogs.size() - 1) == tLRPC$Dialog && !this.dialogsEndReached.get(i)) {
            dialogs.remove(dialogs.size() - 1);
        }
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
        if (!DialogObject.isEncryptedDialog(j) && j2 != -1) {
            TLRPC$TL_messages_toggleDialogPin tLRPC$TL_messages_toggleDialogPin = new TLRPC$TL_messages_toggleDialogPin();
            tLRPC$TL_messages_toggleDialogPin.pinned = z;
            TLRPC$InputPeer inputPeer = tLRPC$InputPeer == null ? getInputPeer(j) : tLRPC$InputPeer;
            if (inputPeer instanceof TLRPC$TL_inputPeerEmpty) {
                return false;
            }
            TLRPC$TL_inputDialogPeer tLRPC$TL_inputDialogPeer = new TLRPC$TL_inputDialogPeer();
            tLRPC$TL_inputDialogPeer.peer = inputPeer;
            tLRPC$TL_messages_toggleDialogPin.peer = tLRPC$TL_inputDialogPeer;
            if (j2 == 0) {
                try {
                    nativeByteBuffer = new NativeByteBuffer(inputPeer.getObjectSize() + 16);
                } catch (Exception e2) {
                    e = e2;
                }
                try {
                    nativeByteBuffer.writeInt32(4);
                    nativeByteBuffer.writeInt64(j);
                    nativeByteBuffer.writeBool(z);
                    inputPeer.serializeToStream(nativeByteBuffer);
                } catch (Exception e3) {
                    e = e3;
                    nativeByteBuffer2 = nativeByteBuffer;
                    FileLog.e(e);
                    nativeByteBuffer = nativeByteBuffer2;
                    createPendingTask = getMessagesStorage().createPendingTask(nativeByteBuffer);
                    getConnectionsManager().sendRequest(tLRPC$TL_messages_toggleDialogPin, new MessagesController$$ExternalSyntheticLambda278(this, createPendingTask));
                    getMessagesStorage().setDialogPinned(j, tLRPC$Dialog.pinnedNum);
                    return true;
                }
                createPendingTask = getMessagesStorage().createPendingTask(nativeByteBuffer);
            } else {
                createPendingTask = j2;
            }
            getConnectionsManager().sendRequest(tLRPC$TL_messages_toggleDialogPin, new MessagesController$$ExternalSyntheticLambda278(this, createPendingTask));
        }
        getMessagesStorage().setDialogPinned(j, tLRPC$Dialog.pinnedNum);
        return true;
    }

    public /* synthetic */ void lambda$pinDialog$288(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
    }

    public void loadPinnedDialogs(int i, long j, ArrayList<Long> arrayList) {
        if (this.loadingPinnedDialogs.indexOfKey(i) >= 0 || getUserConfig().isPinnedDialogsLoaded(i)) {
            return;
        }
        this.loadingPinnedDialogs.put(i, 1);
        TLRPC$TL_messages_getPinnedDialogs tLRPC$TL_messages_getPinnedDialogs = new TLRPC$TL_messages_getPinnedDialogs();
        tLRPC$TL_messages_getPinnedDialogs.folder_id = i;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_getPinnedDialogs, new MessagesController$$ExternalSyntheticLambda259(this, i));
    }

    /* JADX WARN: Code restructure failed: missing block: B:20:0x009f, code lost:
        if (r9.left != false) goto L21;
     */
    /* JADX WARN: Code restructure failed: missing block: B:21:0x00a1, code lost:
        r16 = r15;
     */
    /* JADX WARN: Code restructure failed: missing block: B:27:0x00b4, code lost:
        if (r9.migrated_to != null) goto L21;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$loadPinnedDialogs$291(int i, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        MessageObject messageObject;
        TLRPC$Chat tLRPC$Chat;
        TLRPC$Chat tLRPC$Chat2;
        int i2;
        if (tLObject != null) {
            TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs = (TLRPC$TL_messages_peerDialogs) tLObject;
            ArrayList arrayList = new ArrayList(tLRPC$TL_messages_peerDialogs.dialogs);
            fetchFolderInLoadedPinnedDialogs(tLRPC$TL_messages_peerDialogs);
            TLRPC$TL_messages_dialogs tLRPC$TL_messages_dialogs = new TLRPC$TL_messages_dialogs();
            tLRPC$TL_messages_dialogs.users.addAll(tLRPC$TL_messages_peerDialogs.users);
            tLRPC$TL_messages_dialogs.chats.addAll(tLRPC$TL_messages_peerDialogs.chats);
            tLRPC$TL_messages_dialogs.dialogs.addAll(tLRPC$TL_messages_peerDialogs.dialogs);
            tLRPC$TL_messages_dialogs.messages.addAll(tLRPC$TL_messages_peerDialogs.messages);
            LongSparseArray longSparseArray = new LongSparseArray();
            LongSparseArray longSparseArray2 = new LongSparseArray();
            LongSparseArray longSparseArray3 = new LongSparseArray();
            for (int i3 = 0; i3 < tLRPC$TL_messages_peerDialogs.users.size(); i3++) {
                TLRPC$User tLRPC$User = tLRPC$TL_messages_peerDialogs.users.get(i3);
                longSparseArray2.put(tLRPC$User.id, tLRPC$User);
            }
            for (int i4 = 0; i4 < tLRPC$TL_messages_peerDialogs.chats.size(); i4++) {
                TLRPC$Chat tLRPC$Chat3 = tLRPC$TL_messages_peerDialogs.chats.get(i4);
                longSparseArray3.put(tLRPC$Chat3.id, tLRPC$Chat3);
            }
            ArrayList<MessageObject> arrayList2 = new ArrayList<>();
            int i5 = 0;
            while (i5 < tLRPC$TL_messages_peerDialogs.messages.size()) {
                TLRPC$Message tLRPC$Message = tLRPC$TL_messages_peerDialogs.messages.get(i5);
                TLRPC$Peer tLRPC$Peer = tLRPC$Message.peer_id;
                long j = tLRPC$Peer.channel_id;
                if (j != 0) {
                    TLRPC$Chat tLRPC$Chat4 = (TLRPC$Chat) longSparseArray3.get(j);
                    if (tLRPC$Chat4 != null) {
                    }
                    i2 = i5;
                    MessageObject messageObject2 = new MessageObject(this.currentAccount, tLRPC$Message, (LongSparseArray<TLRPC$User>) longSparseArray2, (LongSparseArray<TLRPC$Chat>) longSparseArray3, false, false);
                    arrayList2.add(messageObject2);
                    longSparseArray.put(messageObject2.getDialogId(), messageObject2);
                } else {
                    long j2 = tLRPC$Peer.chat_id;
                    if (j2 != 0) {
                        TLRPC$Chat tLRPC$Chat5 = (TLRPC$Chat) longSparseArray3.get(j2);
                        if (tLRPC$Chat5 != null) {
                        }
                    }
                    i2 = i5;
                    MessageObject messageObject22 = new MessageObject(this.currentAccount, tLRPC$Message, (LongSparseArray<TLRPC$User>) longSparseArray2, (LongSparseArray<TLRPC$Chat>) longSparseArray3, false, false);
                    arrayList2.add(messageObject22);
                    longSparseArray.put(messageObject22.getDialogId(), messageObject22);
                }
                i5 = i2 + 1;
            }
            getFileLoader().checkMediaExistance(arrayList2);
            boolean z = !arrayList.isEmpty() && (arrayList.get(0) instanceof TLRPC$TL_dialogFolder);
            int size = arrayList.size();
            for (int i6 = 0; i6 < size; i6++) {
                TLRPC$Dialog tLRPC$Dialog = (TLRPC$Dialog) arrayList.get(i6);
                tLRPC$Dialog.pinned = true;
                DialogObject.initDialog(tLRPC$Dialog);
                if (!DialogObject.isChannel(tLRPC$Dialog) ? !DialogObject.isChatDialog(tLRPC$Dialog.id) || (tLRPC$Chat = (TLRPC$Chat) longSparseArray3.get(-tLRPC$Dialog.id)) == null || tLRPC$Chat.migrated_to == null : (tLRPC$Chat2 = (TLRPC$Chat) longSparseArray3.get(-tLRPC$Dialog.id)) == null || !tLRPC$Chat2.left) {
                    if (tLRPC$Dialog.last_message_date == 0 && (messageObject = (MessageObject) longSparseArray.get(tLRPC$Dialog.id)) != null) {
                        tLRPC$Dialog.last_message_date = messageObject.messageOwner.date;
                    }
                    Integer num = this.dialogs_read_inbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                    if (num == null) {
                        num = 0;
                    }
                    this.dialogs_read_inbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num.intValue(), tLRPC$Dialog.read_inbox_max_id)));
                    Integer num2 = this.dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Dialog.id));
                    if (num2 == null) {
                        num2 = 0;
                    }
                    this.dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Dialog.id), Integer.valueOf(Math.max(num2.intValue(), tLRPC$Dialog.read_outbox_max_id)));
                }
            }
            getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda51(this, i, arrayList, z, tLRPC$TL_messages_peerDialogs, longSparseArray, tLRPC$TL_messages_dialogs));
        }
    }

    public /* synthetic */ void lambda$loadPinnedDialogs$290(int i, ArrayList arrayList, boolean z, TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs, LongSparseArray longSparseArray, TLRPC$TL_messages_dialogs tLRPC$TL_messages_dialogs) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda50(this, i, arrayList, z, tLRPC$TL_messages_peerDialogs, longSparseArray, tLRPC$TL_messages_dialogs));
    }

    public /* synthetic */ void lambda$loadPinnedDialogs$289(int i, ArrayList arrayList, boolean z, TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs, LongSparseArray longSparseArray, TLRPC$TL_messages_dialogs tLRPC$TL_messages_dialogs) {
        boolean z2;
        boolean z3;
        ArrayList<Integer> arrayList2;
        this.loadingPinnedDialogs.delete(i);
        applyDialogsNotificationsSettings(arrayList);
        ArrayList<TLRPC$Dialog> dialogs = getDialogs(i);
        int i2 = z ? 1 : 0;
        int i3 = 0;
        boolean z4 = false;
        for (int i4 = 0; i4 < dialogs.size(); i4++) {
            TLRPC$Dialog tLRPC$Dialog = dialogs.get(i4);
            if (!(tLRPC$Dialog instanceof TLRPC$TL_dialogFolder)) {
                if (DialogObject.isEncryptedDialog(tLRPC$Dialog.id)) {
                    if (i2 < arrayList.size()) {
                        arrayList.add(i2, tLRPC$Dialog);
                    } else {
                        arrayList.add(tLRPC$Dialog);
                    }
                    i2++;
                } else if (!tLRPC$Dialog.pinned) {
                    if (tLRPC$Dialog.id != this.promoDialogId) {
                        break;
                    }
                } else {
                    i3 = Math.max(tLRPC$Dialog.pinnedNum, i3);
                    tLRPC$Dialog.pinned = false;
                    tLRPC$Dialog.pinnedNum = 0;
                    i2++;
                    z4 = true;
                }
            }
        }
        ArrayList<Long> arrayList3 = new ArrayList<>();
        if (!arrayList.isEmpty()) {
            putUsers(tLRPC$TL_messages_peerDialogs.users, false);
            putChats(tLRPC$TL_messages_peerDialogs.chats, false);
            ArrayList<Long> arrayList4 = new ArrayList<>();
            ArrayList<Integer> arrayList5 = new ArrayList<>();
            int size = arrayList.size();
            int i5 = 0;
            z2 = false;
            while (i5 < size) {
                TLRPC$Dialog tLRPC$Dialog2 = (TLRPC$Dialog) arrayList.get(i5);
                tLRPC$Dialog2.pinnedNum = (size - i5) + i3;
                arrayList3.add(Long.valueOf(tLRPC$Dialog2.id));
                TLRPC$Dialog tLRPC$Dialog3 = this.dialogs_dict.get(tLRPC$Dialog2.id);
                if (tLRPC$Dialog3 != null) {
                    tLRPC$Dialog3.pinned = true;
                    tLRPC$Dialog3.pinnedNum = tLRPC$Dialog2.pinnedNum;
                    arrayList4.add(Long.valueOf(tLRPC$Dialog2.id));
                    arrayList5.add(Integer.valueOf(tLRPC$Dialog2.pinnedNum));
                    arrayList2 = arrayList5;
                } else {
                    this.dialogs_dict.put(tLRPC$Dialog2.id, tLRPC$Dialog2);
                    MessageObject messageObject = (MessageObject) longSparseArray.get(tLRPC$Dialog2.id);
                    arrayList2 = arrayList5;
                    this.dialogMessage.put(tLRPC$Dialog2.id, messageObject);
                    if (messageObject != null && messageObject.messageOwner.peer_id.channel_id == 0) {
                        this.dialogMessagesByIds.put(messageObject.getId(), messageObject);
                        this.dialogsLoadedTillDate = Math.min(this.dialogsLoadedTillDate, messageObject.messageOwner.date);
                        long j = messageObject.messageOwner.random_id;
                        if (j != 0) {
                            this.dialogMessagesByRandomIds.put(j, messageObject);
                        }
                    }
                    z2 = true;
                }
                i5++;
                arrayList5 = arrayList2;
                z4 = true;
            }
            getMessagesStorage().setDialogsPinned(arrayList4, arrayList5);
        } else {
            z2 = false;
        }
        if (z4) {
            if (z2) {
                this.allDialogs.clear();
                int size2 = this.dialogs_dict.size();
                for (int i6 = 0; i6 < size2; i6++) {
                    TLRPC$Dialog valueAt = this.dialogs_dict.valueAt(i6);
                    if (this.deletingDialogs.indexOfKey(valueAt.id) < 0) {
                        this.allDialogs.add(valueAt);
                    }
                }
            }
            sortDialogs(null);
            z3 = false;
            getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
        } else {
            z3 = false;
        }
        getMessagesStorage().unpinAllDialogsExceptNew(arrayList3, i);
        getMessagesStorage().putDialogs(tLRPC$TL_messages_dialogs, 1);
        getUserConfig().setPinnedDialogsLoaded(i, true);
        getUserConfig().saveConfig(z3);
    }

    public void generateJoinMessage(long j, boolean z) {
        TLRPC$Chat chat = getChat(Long.valueOf(j));
        if (chat == null || !ChatObject.isChannel(j, this.currentAccount)) {
            return;
        }
        if ((chat.left || chat.kicked) && !z) {
            return;
        }
        TLRPC$TL_messageService tLRPC$TL_messageService = new TLRPC$TL_messageService();
        tLRPC$TL_messageService.flags = 256;
        int newMessageId = getUserConfig().getNewMessageId();
        tLRPC$TL_messageService.id = newMessageId;
        tLRPC$TL_messageService.local_id = newMessageId;
        tLRPC$TL_messageService.date = getConnectionsManager().getCurrentTime();
        TLRPC$TL_peerUser tLRPC$TL_peerUser = new TLRPC$TL_peerUser();
        tLRPC$TL_messageService.from_id = tLRPC$TL_peerUser;
        tLRPC$TL_peerUser.user_id = getUserConfig().getClientUserId();
        TLRPC$TL_peerChannel tLRPC$TL_peerChannel = new TLRPC$TL_peerChannel();
        tLRPC$TL_messageService.peer_id = tLRPC$TL_peerChannel;
        tLRPC$TL_peerChannel.channel_id = j;
        tLRPC$TL_messageService.dialog_id = -j;
        tLRPC$TL_messageService.post = true;
        TLRPC$TL_messageActionChatAddUser tLRPC$TL_messageActionChatAddUser = new TLRPC$TL_messageActionChatAddUser();
        tLRPC$TL_messageService.action = tLRPC$TL_messageActionChatAddUser;
        tLRPC$TL_messageActionChatAddUser.users.add(Long.valueOf(getUserConfig().getClientUserId()));
        getUserConfig().saveConfig(false);
        ArrayList arrayList = new ArrayList();
        ArrayList<TLRPC$Message> arrayList2 = new ArrayList<>();
        arrayList2.add(tLRPC$TL_messageService);
        arrayList.add(new MessageObject(this.currentAccount, tLRPC$TL_messageService, true, false));
        getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda114(this, arrayList));
        getMessagesStorage().putMessages(arrayList2, true, true, false, 0, false);
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda84(this, j, arrayList));
    }

    public /* synthetic */ void lambda$generateJoinMessage$292(ArrayList arrayList) {
        getNotificationsController().processNewMessages(arrayList, true, false, null);
    }

    public /* synthetic */ void lambda$generateJoinMessage$293(ArrayList arrayList) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda108(this, arrayList));
    }

    public /* synthetic */ void lambda$generateJoinMessage$294(long j, ArrayList arrayList) {
        updateInterfaceWithMessages(-j, arrayList, false);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    public void deleteMessagesByPush(long j, ArrayList<Integer> arrayList, long j2) {
        getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda116(this, arrayList, j2, j));
    }

    public /* synthetic */ void lambda$deleteMessagesByPush$296(ArrayList arrayList, long j, long j2) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda115(this, arrayList, j));
        getMessagesStorage().deletePushMessages(j2, arrayList);
        getMessagesStorage().updateDialogsWithDeletedMessages(j2, j, arrayList, getMessagesStorage().markMessagesAsDeleted(j2, arrayList, false, true, false), false);
    }

    public /* synthetic */ void lambda$deleteMessagesByPush$295(ArrayList arrayList, long j) {
        int i = 0;
        getNotificationCenter().postNotificationName(NotificationCenter.messagesDeleted, arrayList, Long.valueOf(j), Boolean.FALSE);
        if (j == 0) {
            int size = arrayList.size();
            while (i < size) {
                MessageObject messageObject = this.dialogMessagesByIds.get(((Integer) arrayList.get(i)).intValue());
                if (messageObject != null) {
                    messageObject.deleted = true;
                }
                i++;
            }
            return;
        }
        MessageObject messageObject2 = this.dialogMessage.get(-j);
        if (messageObject2 == null) {
            return;
        }
        int size2 = arrayList.size();
        while (i < size2) {
            if (messageObject2.getId() == ((Integer) arrayList.get(i)).intValue()) {
                messageObject2.deleted = true;
                return;
            }
            i++;
        }
    }

    public void checkChatInviter(long j, boolean z) {
        TLRPC$Chat chat = getChat(Long.valueOf(j));
        if (!ChatObject.isChannel(chat) || chat.creator || this.gettingChatInviters.indexOfKey(j) >= 0) {
            return;
        }
        this.gettingChatInviters.put(j, Boolean.TRUE);
        TLRPC$TL_channels_getParticipant tLRPC$TL_channels_getParticipant = new TLRPC$TL_channels_getParticipant();
        tLRPC$TL_channels_getParticipant.channel = getInputChannel(j);
        tLRPC$TL_channels_getParticipant.participant = getInputPeer(getUserConfig().getClientUserId());
        getConnectionsManager().sendRequest(tLRPC$TL_channels_getParticipant, new MessagesController$$ExternalSyntheticLambda322(this, chat, z, j));
    }

    public /* synthetic */ void lambda$checkChatInviter$301(TLRPC$Chat tLRPC$Chat, boolean z, long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        ArrayList arrayList;
        TLRPC$TL_channels_channelParticipant tLRPC$TL_channels_channelParticipant = (TLRPC$TL_channels_channelParticipant) tLObject;
        if (tLRPC$TL_channels_channelParticipant != null) {
            TLRPC$ChannelParticipant tLRPC$ChannelParticipant = tLRPC$TL_channels_channelParticipant.participant;
            if (!(tLRPC$ChannelParticipant instanceof TLRPC$TL_channelParticipantSelf)) {
                return;
            }
            TLRPC$TL_channelParticipantSelf tLRPC$TL_channelParticipantSelf = (TLRPC$TL_channelParticipantSelf) tLRPC$ChannelParticipant;
            if (tLRPC$TL_channelParticipantSelf.inviter_id == getUserConfig().getClientUserId() && !tLRPC$TL_channelParticipantSelf.via_invite) {
                return;
            }
            if (tLRPC$Chat.megagroup && getMessagesStorage().isMigratedChat(tLRPC$Chat.id)) {
                return;
            }
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda157(this, tLRPC$TL_channels_channelParticipant));
            getMessagesStorage().putUsersAndChats(tLRPC$TL_channels_channelParticipant.users, tLRPC$TL_channels_channelParticipant.chats, true, true);
            if (!z || Math.abs(getConnectionsManager().getCurrentTime() - tLRPC$TL_channels_channelParticipant.participant.date) >= 86400 || getMessagesStorage().hasInviteMeMessage(j)) {
                arrayList = null;
            } else {
                TLRPC$TL_messageService tLRPC$TL_messageService = new TLRPC$TL_messageService();
                tLRPC$TL_messageService.media_unread = true;
                tLRPC$TL_messageService.unread = true;
                tLRPC$TL_messageService.flags = 256;
                tLRPC$TL_messageService.post = true;
                int newMessageId = getUserConfig().getNewMessageId();
                tLRPC$TL_messageService.id = newMessageId;
                tLRPC$TL_messageService.local_id = newMessageId;
                tLRPC$TL_messageService.date = tLRPC$TL_channels_channelParticipant.participant.date;
                if (tLRPC$TL_channelParticipantSelf.inviter_id != getUserConfig().getClientUserId()) {
                    tLRPC$TL_messageService.action = new TLRPC$TL_messageActionChatAddUser();
                } else if (tLRPC$TL_channelParticipantSelf.via_invite) {
                    tLRPC$TL_messageService.action = new TLRPC$TL_messageActionChatJoinedByRequest();
                }
                TLRPC$TL_peerUser tLRPC$TL_peerUser = new TLRPC$TL_peerUser();
                tLRPC$TL_messageService.from_id = tLRPC$TL_peerUser;
                tLRPC$TL_peerUser.user_id = tLRPC$TL_channels_channelParticipant.participant.inviter_id;
                tLRPC$TL_messageService.action.users.add(Long.valueOf(getUserConfig().getClientUserId()));
                TLRPC$TL_peerChannel tLRPC$TL_peerChannel = new TLRPC$TL_peerChannel();
                tLRPC$TL_messageService.peer_id = tLRPC$TL_peerChannel;
                tLRPC$TL_peerChannel.channel_id = j;
                tLRPC$TL_messageService.dialog_id = -j;
                getUserConfig().saveConfig(false);
                arrayList = new ArrayList();
                ArrayList<TLRPC$Message> arrayList2 = new ArrayList<>();
                ConcurrentHashMap concurrentHashMap = new ConcurrentHashMap();
                for (int i = 0; i < tLRPC$TL_channels_channelParticipant.users.size(); i++) {
                    TLRPC$User tLRPC$User = tLRPC$TL_channels_channelParticipant.users.get(i);
                    concurrentHashMap.put(Long.valueOf(tLRPC$User.id), tLRPC$User);
                }
                arrayList2.add(tLRPC$TL_messageService);
                arrayList.add(new MessageObject(this.currentAccount, (TLRPC$Message) tLRPC$TL_messageService, (AbstractMap<Long, TLRPC$User>) concurrentHashMap, true, false));
                getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda107(this, arrayList));
                getMessagesStorage().putMessages(arrayList2, true, true, false, 0, false);
            }
            getMessagesStorage().saveChatInviter(j, tLRPC$TL_channels_channelParticipant.participant.inviter_id);
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda86(this, j, arrayList, tLRPC$TL_channels_channelParticipant));
        }
    }

    public /* synthetic */ void lambda$checkChatInviter$297(TLRPC$TL_channels_channelParticipant tLRPC$TL_channels_channelParticipant) {
        putUsers(tLRPC$TL_channels_channelParticipant.users, false);
        putChats(tLRPC$TL_channels_channelParticipant.chats, false);
    }

    public /* synthetic */ void lambda$checkChatInviter$298(ArrayList arrayList) {
        getNotificationsController().processNewMessages(arrayList, true, false, null);
    }

    public /* synthetic */ void lambda$checkChatInviter$299(ArrayList arrayList) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda106(this, arrayList));
    }

    public /* synthetic */ void lambda$checkChatInviter$300(long j, ArrayList arrayList, TLRPC$TL_channels_channelParticipant tLRPC$TL_channels_channelParticipant) {
        this.gettingChatInviters.delete(j);
        if (arrayList != null) {
            updateInterfaceWithMessages(-j, arrayList, false);
            getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
        }
        getNotificationCenter().postNotificationName(NotificationCenter.didLoadChatInviter, Long.valueOf(j), Long.valueOf(tLRPC$TL_channels_channelParticipant.participant.inviter_id));
    }

    private int getUpdateType(TLRPC$Update tLRPC$Update) {
        if ((tLRPC$Update instanceof TLRPC$TL_updateNewMessage) || (tLRPC$Update instanceof TLRPC$TL_updateReadMessagesContents) || (tLRPC$Update instanceof TLRPC$TL_updateReadHistoryInbox) || (tLRPC$Update instanceof TLRPC$TL_updateReadHistoryOutbox) || (tLRPC$Update instanceof TLRPC$TL_updateDeleteMessages) || (tLRPC$Update instanceof TLRPC$TL_updateWebPage) || (tLRPC$Update instanceof TLRPC$TL_updateEditMessage) || (tLRPC$Update instanceof TLRPC$TL_updateFolderPeers) || (tLRPC$Update instanceof TLRPC$TL_updatePinnedMessages)) {
            return 0;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateNewEncryptedMessage) {
            return 1;
        }
        return ((tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) || (tLRPC$Update instanceof TLRPC$TL_updateDeleteChannelMessages) || (tLRPC$Update instanceof TLRPC$TL_updateEditChannelMessage) || (tLRPC$Update instanceof TLRPC$TL_updateChannelWebPage) || (tLRPC$Update instanceof TLRPC$TL_updatePinnedChannelMessages)) ? 2 : 3;
    }

    private static int getUpdatePts(TLRPC$Update tLRPC$Update) {
        if (tLRPC$Update instanceof TLRPC$TL_updateDeleteMessages) {
            return ((TLRPC$TL_updateDeleteMessages) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) {
            return ((TLRPC$TL_updateNewChannelMessage) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateReadHistoryOutbox) {
            return ((TLRPC$TL_updateReadHistoryOutbox) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateNewMessage) {
            return ((TLRPC$TL_updateNewMessage) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateEditMessage) {
            return ((TLRPC$TL_updateEditMessage) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateWebPage) {
            return ((TLRPC$TL_updateWebPage) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateReadHistoryInbox) {
            return ((TLRPC$TL_updateReadHistoryInbox) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateChannelWebPage) {
            return ((TLRPC$TL_updateChannelWebPage) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateDeleteChannelMessages) {
            return ((TLRPC$TL_updateDeleteChannelMessages) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateEditChannelMessage) {
            return ((TLRPC$TL_updateEditChannelMessage) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateReadMessagesContents) {
            return ((TLRPC$TL_updateReadMessagesContents) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateChannelTooLong) {
            return ((TLRPC$TL_updateChannelTooLong) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateFolderPeers) {
            return ((TLRPC$TL_updateFolderPeers) tLRPC$Update).pts;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updatePinnedChannelMessages) {
            return ((TLRPC$TL_updatePinnedChannelMessages) tLRPC$Update).pts;
        }
        if (!(tLRPC$Update instanceof TLRPC$TL_updatePinnedMessages)) {
            return 0;
        }
        return ((TLRPC$TL_updatePinnedMessages) tLRPC$Update).pts;
    }

    private static int getUpdatePtsCount(TLRPC$Update tLRPC$Update) {
        if (tLRPC$Update instanceof TLRPC$TL_updateDeleteMessages) {
            return ((TLRPC$TL_updateDeleteMessages) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) {
            return ((TLRPC$TL_updateNewChannelMessage) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateReadHistoryOutbox) {
            return ((TLRPC$TL_updateReadHistoryOutbox) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateNewMessage) {
            return ((TLRPC$TL_updateNewMessage) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateEditMessage) {
            return ((TLRPC$TL_updateEditMessage) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateWebPage) {
            return ((TLRPC$TL_updateWebPage) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateReadHistoryInbox) {
            return ((TLRPC$TL_updateReadHistoryInbox) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateChannelWebPage) {
            return ((TLRPC$TL_updateChannelWebPage) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateDeleteChannelMessages) {
            return ((TLRPC$TL_updateDeleteChannelMessages) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateEditChannelMessage) {
            return ((TLRPC$TL_updateEditChannelMessage) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateReadMessagesContents) {
            return ((TLRPC$TL_updateReadMessagesContents) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateFolderPeers) {
            return ((TLRPC$TL_updateFolderPeers) tLRPC$Update).pts_count;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updatePinnedChannelMessages) {
            return ((TLRPC$TL_updatePinnedChannelMessages) tLRPC$Update).pts_count;
        }
        if (!(tLRPC$Update instanceof TLRPC$TL_updatePinnedMessages)) {
            return 0;
        }
        return ((TLRPC$TL_updatePinnedMessages) tLRPC$Update).pts_count;
    }

    private static int getUpdateQts(TLRPC$Update tLRPC$Update) {
        if (tLRPC$Update instanceof TLRPC$TL_updateNewEncryptedMessage) {
            return ((TLRPC$TL_updateNewEncryptedMessage) tLRPC$Update).qts;
        }
        return 0;
    }

    public static long getUpdateChannelId(TLRPC$Update tLRPC$Update) {
        if (tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) {
            return ((TLRPC$TL_updateNewChannelMessage) tLRPC$Update).message.peer_id.channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateEditChannelMessage) {
            return ((TLRPC$TL_updateEditChannelMessage) tLRPC$Update).message.peer_id.channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateReadChannelOutbox) {
            return ((TLRPC$TL_updateReadChannelOutbox) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateChannelMessageViews) {
            return ((TLRPC$TL_updateChannelMessageViews) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateChannelMessageForwards) {
            return ((TLRPC$TL_updateChannelMessageForwards) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateChannelTooLong) {
            return ((TLRPC$TL_updateChannelTooLong) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateChannelReadMessagesContents) {
            return ((TLRPC$TL_updateChannelReadMessagesContents) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateChannelAvailableMessages) {
            return ((TLRPC$TL_updateChannelAvailableMessages) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateChannel) {
            return ((TLRPC$TL_updateChannel) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateChannelWebPage) {
            return ((TLRPC$TL_updateChannelWebPage) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateDeleteChannelMessages) {
            return ((TLRPC$TL_updateDeleteChannelMessages) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateReadChannelInbox) {
            return ((TLRPC$TL_updateReadChannelInbox) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateReadChannelDiscussionInbox) {
            return ((TLRPC$TL_updateReadChannelDiscussionInbox) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateReadChannelDiscussionOutbox) {
            return ((TLRPC$TL_updateReadChannelDiscussionOutbox) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updateChannelUserTyping) {
            return ((TLRPC$TL_updateChannelUserTyping) tLRPC$Update).channel_id;
        }
        if (tLRPC$Update instanceof TLRPC$TL_updatePinnedChannelMessages) {
            return ((TLRPC$TL_updatePinnedChannelMessages) tLRPC$Update).channel_id;
        }
        if (!BuildVars.LOGS_ENABLED) {
            return 0L;
        }
        FileLog.e("trying to get unknown update channel_id for " + tLRPC$Update);
        return 0L;
    }

    /* JADX WARN: Code restructure failed: missing block: B:164:0x03ff, code lost:
        r2 = r10.pts_count + r1;
        r3 = r10.pts;
     */
    /* JADX WARN: Code restructure failed: missing block: B:165:0x0404, code lost:
        if (r2 != r3) goto L177;
     */
    /* JADX WARN: Code restructure failed: missing block: B:167:0x0418, code lost:
        if (processUpdateArray(r10.updates, r27.users, r27.chats, false, r27.date) != false) goto L176;
     */
    /* JADX WARN: Code restructure failed: missing block: B:169:0x041c, code lost:
        if (org.telegram.messenger.BuildVars.LOGS_ENABLED == false) goto L171;
     */
    /* JADX WARN: Code restructure failed: missing block: B:170:0x041e, code lost:
        org.telegram.messenger.FileLog.d("need get channel diff inner TL_updates, channel_id = " + r4);
     */
    /* JADX WARN: Code restructure failed: missing block: B:171:0x0432, code lost:
        if (r9 != null) goto L173;
     */
    /* JADX WARN: Code restructure failed: missing block: B:172:0x0434, code lost:
        r5 = new java.util.ArrayList();
     */
    /* JADX WARN: Code restructure failed: missing block: B:174:0x0444, code lost:
        if (r9.contains(java.lang.Long.valueOf(r4)) != false) goto L206;
     */
    /* JADX WARN: Code restructure failed: missing block: B:175:0x0446, code lost:
        r9.add(java.lang.Long.valueOf(r4));
     */
    /* JADX WARN: Code restructure failed: missing block: B:176:0x044f, code lost:
        r26.channelsPts.put(r4, r10.pts);
        getMessagesStorage().saveChannelPts(r4, r10.pts);
     */
    /* JADX WARN: Code restructure failed: missing block: B:178:0x0462, code lost:
        if (r1 == r3) goto L206;
     */
    /* JADX WARN: Code restructure failed: missing block: B:180:0x0466, code lost:
        if (org.telegram.messenger.BuildVars.LOGS_ENABLED == false) goto L182;
     */
    /* JADX WARN: Code restructure failed: missing block: B:181:0x0468, code lost:
        org.telegram.messenger.FileLog.d(r0 + " need get channel diff, pts: " + r1 + " " + r10.pts + " count = " + r10.pts_count + " channelId = " + r4);
     */
    /* JADX WARN: Code restructure failed: missing block: B:182:0x0497, code lost:
        r0 = r26.updatesStartWaitTimeChannels.get(r4);
     */
    /* JADX WARN: Code restructure failed: missing block: B:183:0x04ab, code lost:
        if (r26.gettingDifferenceChannels.get(r4, java.lang.Boolean.FALSE).booleanValue() != false) goto L193;
     */
    /* JADX WARN: Code restructure failed: missing block: B:185:0x04b1, code lost:
        if (r0 == 0) goto L193;
     */
    /* JADX WARN: Code restructure failed: missing block: B:187:0x04c0, code lost:
        if (java.lang.Math.abs(java.lang.System.currentTimeMillis() - r0) > 1500) goto L188;
     */
    /* JADX WARN: Code restructure failed: missing block: B:188:0x04c3, code lost:
        if (r9 != null) goto L190;
     */
    /* JADX WARN: Code restructure failed: missing block: B:189:0x04c5, code lost:
        r5 = new java.util.ArrayList();
     */
    /* JADX WARN: Code restructure failed: missing block: B:191:0x04d3, code lost:
        if (r9.contains(java.lang.Long.valueOf(r4)) != false) goto L206;
     */
    /* JADX WARN: Code restructure failed: missing block: B:192:0x04d5, code lost:
        r9.add(java.lang.Long.valueOf(r4));
     */
    /* JADX WARN: Code restructure failed: missing block: B:194:0x04e1, code lost:
        if (r0 != 0) goto L196;
     */
    /* JADX WARN: Code restructure failed: missing block: B:195:0x04e3, code lost:
        r26.updatesStartWaitTimeChannels.put(r4, java.lang.System.currentTimeMillis());
     */
    /* JADX WARN: Code restructure failed: missing block: B:197:0x04ee, code lost:
        if (org.telegram.messenger.BuildVars.LOGS_ENABLED == false) goto L199;
     */
    /* JADX WARN: Code restructure failed: missing block: B:198:0x04f0, code lost:
        org.telegram.messenger.FileLog.d(r23);
     */
    /* JADX WARN: Code restructure failed: missing block: B:199:0x04f3, code lost:
        r0 = r26.updatesQueueChannels.get(r4);
     */
    /* JADX WARN: Code restructure failed: missing block: B:200:0x04fb, code lost:
        if (r0 != null) goto L202;
     */
    /* JADX WARN: Code restructure failed: missing block: B:201:0x04fd, code lost:
        r0 = new java.util.ArrayList<>();
        r26.updatesQueueChannels.put(r4, r0);
     */
    /* JADX WARN: Code restructure failed: missing block: B:202:0x0507, code lost:
        r0.add(r10);
     */
    /* JADX WARN: Code restructure failed: missing block: B:215:0x0552, code lost:
        if (getMessagesStorage().getLastSeqValue() != r27.seq_start) goto L216;
     */
    /* JADX WARN: Code restructure failed: missing block: B:216:0x0555, code lost:
        r1 = false;
     */
    /* JADX WARN: Code restructure failed: missing block: B:222:0x0571, code lost:
        if (r2 != getMessagesStorage().getLastSeqValue()) goto L216;
     */
    /* JADX WARN: Code restructure failed: missing block: B:299:0x071c, code lost:
        if (r2 != null) goto L300;
     */
    /* JADX WARN: Code restructure failed: missing block: B:301:0x0720, code lost:
        if (r9 != null) goto L302;
     */
    /* JADX WARN: Code restructure failed: missing block: B:313:0x074f, code lost:
        if (r2 != null) goto L314;
     */
    /* JADX WARN: Code restructure failed: missing block: B:315:0x0753, code lost:
        if (r16 != null) goto L302;
     */
    /* JADX WARN: Removed duplicated region for block: B:250:0x0630  */
    /* JADX WARN: Removed duplicated region for block: B:289:0x06f6  */
    /* JADX WARN: Removed duplicated region for block: B:293:0x0710  */
    /* JADX WARN: Removed duplicated region for block: B:296:0x0716  */
    /* JADX WARN: Removed duplicated region for block: B:305:0x0728  */
    /* JADX WARN: Removed duplicated region for block: B:322:0x0769  */
    /* JADX WARN: Removed duplicated region for block: B:350:0x07db  */
    /* JADX WARN: Removed duplicated region for block: B:416:0x09c4  */
    /* JADX WARN: Removed duplicated region for block: B:434:0x09fe  */
    /* JADX WARN: Removed duplicated region for block: B:436:0x0a18  */
    /* JADX WARN: Removed duplicated region for block: B:464:0x07a1 A[EDGE_INSN: B:464:0x07a1->B:337:0x07a1 ?: BREAK  , SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:63:0x0117  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void processUpdates(TLRPC$Updates tLRPC$Updates, boolean z) {
        ArrayList arrayList;
        boolean z2;
        boolean z3;
        TLRPC$Chat tLRPC$Chat;
        TLRPC$User tLRPC$User;
        long j;
        boolean z4;
        TLRPC$User tLRPC$User2;
        boolean z5;
        TLRPC$User tLRPC$User3;
        boolean z6;
        boolean z7;
        int i;
        TLRPC$UserStatus tLRPC$UserStatus;
        int i2;
        TLRPC$Chat chat;
        int i3;
        boolean z8;
        ArrayList arrayList2;
        boolean z9;
        String str;
        boolean z10;
        int i4;
        int i5 = 0;
        int i6 = 1;
        if (tLRPC$Updates instanceof TLRPC$TL_updateShort) {
            ArrayList<TLRPC$Update> arrayList3 = new ArrayList<>();
            arrayList3.add(tLRPC$Updates.update);
            processUpdateArray(arrayList3, null, null, false, tLRPC$Updates.date);
        } else {
            boolean z11 = tLRPC$Updates instanceof TLRPC$TL_updateShortChatMessage;
            String str2 = "add to queue";
            if (z11 || (tLRPC$Updates instanceof TLRPC$TL_updateShortMessage)) {
                long j2 = z11 ? tLRPC$Updates.from_id : tLRPC$Updates.user_id;
                TLRPC$User user = getUser(Long.valueOf(j2));
                FileLog.d("update message short userId = " + j2);
                if (user == null || user.min) {
                    user = getMessagesStorage().getUserSync(j2);
                    if (user != null && user.min) {
                        user = null;
                    }
                    putUser(user, true);
                }
                TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader = tLRPC$Updates.fwd_from;
                if (tLRPC$MessageFwdHeader != null) {
                    TLRPC$Peer tLRPC$Peer = tLRPC$MessageFwdHeader.from_id;
                    if (tLRPC$Peer instanceof TLRPC$TL_peerUser) {
                        tLRPC$User = getUser(Long.valueOf(tLRPC$Peer.user_id));
                        if (tLRPC$User == null) {
                            tLRPC$User = getMessagesStorage().getUserSync(tLRPC$Updates.fwd_from.from_id.user_id);
                            putUser(tLRPC$User, true);
                        }
                        tLRPC$Chat = null;
                    } else {
                        if (tLRPC$Peer instanceof TLRPC$TL_peerChannel) {
                            chat = getChat(Long.valueOf(tLRPC$Peer.channel_id));
                            if (chat == null) {
                                chat = getMessagesStorage().getChatSync(tLRPC$Updates.fwd_from.from_id.channel_id);
                                putChat(chat, true);
                            }
                        } else if (tLRPC$Peer instanceof TLRPC$TL_peerChat) {
                            chat = getChat(Long.valueOf(tLRPC$Peer.chat_id));
                            if (chat == null) {
                                chat = getMessagesStorage().getChatSync(tLRPC$Updates.fwd_from.from_id.chat_id);
                                putChat(chat, true);
                            }
                        }
                        tLRPC$Chat = chat;
                        tLRPC$User = null;
                    }
                    z3 = true;
                    j = tLRPC$Updates.via_bot_id;
                    if (j == 0) {
                        tLRPC$User2 = getUser(Long.valueOf(j));
                        if (tLRPC$User2 == null) {
                            tLRPC$User2 = getMessagesStorage().getUserSync(tLRPC$Updates.via_bot_id);
                            putUser(tLRPC$User2, true);
                        }
                        z4 = true;
                    } else {
                        tLRPC$User2 = null;
                        z4 = false;
                    }
                    z5 = tLRPC$Updates instanceof TLRPC$TL_updateShortMessage;
                    if (!z5) {
                        if (user != null) {
                            if (!z3) {
                                if (tLRPC$User != null) {
                                }
                            }
                            if (!z4) {
                            }
                            z6 = false;
                        }
                        z6 = true;
                    } else {
                        TLRPC$Chat chat2 = getChat(Long.valueOf(tLRPC$Updates.chat_id));
                        if (chat2 == null) {
                            tLRPC$User3 = tLRPC$User2;
                            chat2 = getMessagesStorage().getChatSync(tLRPC$Updates.chat_id);
                            putChat(chat2, true);
                        } else {
                            tLRPC$User3 = tLRPC$User2;
                        }
                        if (chat2 != null) {
                            if (user != null) {
                                if (z3) {
                                    if (tLRPC$User == null) {
                                    }
                                }
                                if (z4) {
                                }
                                z6 = false;
                            }
                        }
                        z6 = true;
                    }
                    z7 = z6;
                    if (!z7 && !tLRPC$Updates.entities.isEmpty()) {
                        i2 = 0;
                        while (true) {
                            if (i2 < tLRPC$Updates.entities.size()) {
                                break;
                            }
                            TLRPC$MessageEntity tLRPC$MessageEntity = tLRPC$Updates.entities.get(i2);
                            if (tLRPC$MessageEntity instanceof TLRPC$TL_messageEntityMentionName) {
                                long j3 = ((TLRPC$TL_messageEntityMentionName) tLRPC$MessageEntity).user_id;
                                TLRPC$User user2 = getUser(Long.valueOf(j3));
                                if (user2 == null || user2.min) {
                                    TLRPC$User userSync = getMessagesStorage().getUserSync(j3);
                                    if (userSync != null && userSync.min) {
                                        userSync = null;
                                    }
                                    if (userSync == null) {
                                        z7 = true;
                                        break;
                                    }
                                    putUser(user, true);
                                }
                            }
                            i2++;
                        }
                    }
                    if (!tLRPC$Updates.out || user == null || (tLRPC$UserStatus = user.status) == null || tLRPC$UserStatus.expires > 0 || Math.abs(getConnectionsManager().getCurrentTime() - tLRPC$Updates.date) >= 30) {
                        i = 0;
                    } else {
                        this.onlinePrivacy.put(Long.valueOf(user.id), Integer.valueOf(tLRPC$Updates.date));
                        i = 1;
                    }
                    if (!z7) {
                        if (getMessagesStorage().getLastPtsValue() + tLRPC$Updates.pts_count == tLRPC$Updates.pts) {
                            TLRPC$TL_message tLRPC$TL_message = new TLRPC$TL_message();
                            tLRPC$TL_message.id = tLRPC$Updates.id;
                            long clientUserId = getUserConfig().getClientUserId();
                            if (z5) {
                                TLRPC$TL_peerUser tLRPC$TL_peerUser = new TLRPC$TL_peerUser();
                                tLRPC$TL_message.from_id = tLRPC$TL_peerUser;
                                if (tLRPC$Updates.out) {
                                    tLRPC$TL_peerUser.user_id = clientUserId;
                                } else {
                                    tLRPC$TL_peerUser.user_id = j2;
                                }
                                TLRPC$TL_peerUser tLRPC$TL_peerUser2 = new TLRPC$TL_peerUser();
                                tLRPC$TL_message.peer_id = tLRPC$TL_peerUser2;
                                tLRPC$TL_peerUser2.user_id = j2;
                                tLRPC$TL_message.dialog_id = j2;
                            } else {
                                TLRPC$TL_peerUser tLRPC$TL_peerUser3 = new TLRPC$TL_peerUser();
                                tLRPC$TL_message.from_id = tLRPC$TL_peerUser3;
                                tLRPC$TL_peerUser3.user_id = j2;
                                TLRPC$TL_peerChat tLRPC$TL_peerChat = new TLRPC$TL_peerChat();
                                tLRPC$TL_message.peer_id = tLRPC$TL_peerChat;
                                long j4 = tLRPC$Updates.chat_id;
                                tLRPC$TL_peerChat.chat_id = j4;
                                tLRPC$TL_message.dialog_id = -j4;
                            }
                            tLRPC$TL_message.fwd_from = tLRPC$Updates.fwd_from;
                            tLRPC$TL_message.silent = tLRPC$Updates.silent;
                            tLRPC$TL_message.out = tLRPC$Updates.out;
                            tLRPC$TL_message.mentioned = tLRPC$Updates.mentioned;
                            tLRPC$TL_message.media_unread = tLRPC$Updates.media_unread;
                            tLRPC$TL_message.entities = tLRPC$Updates.entities;
                            tLRPC$TL_message.message = tLRPC$Updates.message;
                            tLRPC$TL_message.date = tLRPC$Updates.date;
                            tLRPC$TL_message.via_bot_id = tLRPC$Updates.via_bot_id;
                            tLRPC$TL_message.flags = tLRPC$Updates.flags | 256;
                            tLRPC$TL_message.reply_to = tLRPC$Updates.reply_to;
                            tLRPC$TL_message.ttl_period = tLRPC$Updates.ttl_period;
                            tLRPC$TL_message.media = new TLRPC$TL_messageMediaEmpty();
                            ConcurrentHashMap<Long, Integer> concurrentHashMap = tLRPC$TL_message.out ? this.dialogs_read_outbox_max : this.dialogs_read_inbox_max;
                            Integer num = concurrentHashMap.get(Long.valueOf(tLRPC$TL_message.dialog_id));
                            if (num == null) {
                                num = Integer.valueOf(getMessagesStorage().getDialogReadMax(tLRPC$TL_message.out, tLRPC$TL_message.dialog_id));
                                concurrentHashMap.put(Long.valueOf(tLRPC$TL_message.dialog_id), num);
                            }
                            tLRPC$TL_message.unread = num.intValue() < tLRPC$TL_message.id;
                            if (tLRPC$TL_message.dialog_id == clientUserId) {
                                tLRPC$TL_message.unread = false;
                                tLRPC$TL_message.media_unread = false;
                                tLRPC$TL_message.out = true;
                            }
                            getMessagesStorage().setLastPtsValue(tLRPC$Updates.pts);
                            boolean contains = this.createdDialogIds.contains(Long.valueOf(tLRPC$TL_message.dialog_id));
                            MessageObject messageObject = new MessageObject(this.currentAccount, tLRPC$TL_message, contains, contains);
                            ArrayList<MessageObject> arrayList4 = new ArrayList<>();
                            arrayList4.add(messageObject);
                            ArrayList<TLRPC$Message> arrayList5 = new ArrayList<>();
                            arrayList5.add(tLRPC$TL_message);
                            if (z5) {
                                boolean z12 = !tLRPC$Updates.out && updatePrintingUsersWithNewMessages(tLRPC$Updates.user_id, arrayList4);
                                if (z12) {
                                    updatePrintingStrings();
                                }
                                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda208(this, z12, j2, arrayList4));
                            } else {
                                boolean updatePrintingUsersWithNewMessages = updatePrintingUsersWithNewMessages(-tLRPC$Updates.chat_id, arrayList4);
                                if (updatePrintingUsersWithNewMessages) {
                                    updatePrintingStrings();
                                }
                                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda210(this, updatePrintingUsersWithNewMessages, tLRPC$Updates, arrayList4));
                            }
                            if (!messageObject.isOut()) {
                                getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda113(this, arrayList4));
                            }
                            getMessagesStorage().putMessages(arrayList5, false, true, false, 0, false);
                        } else if (getMessagesStorage().getLastPtsValue() != tLRPC$Updates.pts) {
                            if (BuildVars.LOGS_ENABLED) {
                                FileLog.d("need get diff short message, pts: " + getMessagesStorage().getLastPtsValue() + " " + tLRPC$Updates.pts + " count = " + tLRPC$Updates.pts_count);
                            }
                            if (this.gettingDifference || this.updatesStartWaitTimePts == 0 || Math.abs(System.currentTimeMillis() - this.updatesStartWaitTimePts) <= 1500) {
                                if (this.updatesStartWaitTimePts == 0) {
                                    this.updatesStartWaitTimePts = System.currentTimeMillis();
                                }
                                if (BuildVars.LOGS_ENABLED) {
                                    FileLog.d(str2);
                                }
                                this.updatesQueuePts.add(tLRPC$Updates);
                            }
                        }
                        i6 = 0;
                        i5 = i;
                    }
                    i6 = 1;
                    i5 = i;
                }
                tLRPC$User = null;
                tLRPC$Chat = null;
                z3 = false;
                j = tLRPC$Updates.via_bot_id;
                if (j == 0) {
                }
                z5 = tLRPC$Updates instanceof TLRPC$TL_updateShortMessage;
                if (!z5) {
                }
                z7 = z6;
                if (!z7) {
                    i2 = 0;
                    while (true) {
                        if (i2 < tLRPC$Updates.entities.size()) {
                        }
                        i2++;
                    }
                }
                if (!tLRPC$Updates.out) {
                }
                i = 0;
                if (!z7) {
                }
                i6 = 1;
                i5 = i;
            } else if ((tLRPC$Updates instanceof TLRPC$TL_updatesCombined) || (tLRPC$Updates instanceof TLRPC$TL_updates)) {
                LongSparseArray longSparseArray = null;
                for (int i7 = 0; i7 < tLRPC$Updates.chats.size(); i7++) {
                    TLRPC$Chat tLRPC$Chat2 = tLRPC$Updates.chats.get(i7);
                    if ((tLRPC$Chat2 instanceof TLRPC$TL_channel) && tLRPC$Chat2.min) {
                        TLRPC$Chat chat3 = getChat(Long.valueOf(tLRPC$Chat2.id));
                        if (chat3 == null || chat3.min) {
                            chat3 = getMessagesStorage().getChatSync(tLRPC$Updates.chat_id);
                            putChat(chat3, true);
                        }
                        if (chat3 == null || chat3.min) {
                            if (longSparseArray == null) {
                                longSparseArray = new LongSparseArray();
                            }
                            longSparseArray.put(tLRPC$Chat2.id, tLRPC$Chat2);
                        }
                    }
                }
                if (longSparseArray != null) {
                    for (int i8 = 0; i8 < tLRPC$Updates.updates.size(); i8++) {
                        TLRPC$Update tLRPC$Update = tLRPC$Updates.updates.get(i8);
                        if (tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) {
                            long j5 = ((TLRPC$TL_updateNewChannelMessage) tLRPC$Update).message.peer_id.channel_id;
                            if (longSparseArray.indexOfKey(j5) >= 0) {
                                if (BuildVars.LOGS_ENABLED) {
                                    FileLog.d("need get diff because of min channel " + j5);
                                }
                                i3 = 1;
                                if (i3 != 0) {
                                    getMessagesStorage().putUsersAndChats(tLRPC$Updates.users, tLRPC$Updates.chats, true, true);
                                    Collections.sort(tLRPC$Updates.updates, this.updatesComparator);
                                    int i9 = i3;
                                    ArrayList arrayList6 = null;
                                    z8 = false;
                                    while (true) {
                                        if (tLRPC$Updates.updates.size() <= 0) {
                                            arrayList2 = arrayList6;
                                            break;
                                        }
                                        TLRPC$Update tLRPC$Update2 = tLRPC$Updates.updates.get(i5);
                                        if (getUpdateType(tLRPC$Update2) == 0) {
                                            TLRPC$TL_updates tLRPC$TL_updates = new TLRPC$TL_updates();
                                            tLRPC$TL_updates.updates.add(tLRPC$Update2);
                                            tLRPC$TL_updates.pts = getUpdatePts(tLRPC$Update2);
                                            tLRPC$TL_updates.pts_count = getUpdatePtsCount(tLRPC$Update2);
                                            while (i6 < tLRPC$Updates.updates.size()) {
                                                TLRPC$Update tLRPC$Update3 = tLRPC$Updates.updates.get(i6);
                                                int updatePts = getUpdatePts(tLRPC$Update3);
                                                int updatePtsCount = getUpdatePtsCount(tLRPC$Update3);
                                                if (getUpdateType(tLRPC$Update3) != 0 || tLRPC$TL_updates.pts + updatePtsCount != updatePts) {
                                                    break;
                                                }
                                                tLRPC$TL_updates.updates.add(tLRPC$Update3);
                                                tLRPC$TL_updates.pts = updatePts;
                                                tLRPC$TL_updates.pts_count += updatePtsCount;
                                                tLRPC$Updates.updates.remove(i6);
                                            }
                                            if (getMessagesStorage().getLastPtsValue() + tLRPC$TL_updates.pts_count == tLRPC$TL_updates.pts) {
                                                arrayList2 = arrayList6;
                                                if (!processUpdateArray(tLRPC$TL_updates.updates, tLRPC$Updates.users, tLRPC$Updates.chats, false, tLRPC$Updates.date)) {
                                                    if (BuildVars.LOGS_ENABLED) {
                                                        FileLog.d("need get diff inner TL_updates, pts: " + getMessagesStorage().getLastPtsValue() + " " + tLRPC$Updates.seq);
                                                    }
                                                    i9 = 1;
                                                    arrayList6 = arrayList2;
                                                    str = str2;
                                                } else {
                                                    getMessagesStorage().setLastPtsValue(tLRPC$TL_updates.pts);
                                                    arrayList6 = arrayList2;
                                                    str = str2;
                                                }
                                            } else {
                                                arrayList2 = arrayList6;
                                                if (getMessagesStorage().getLastPtsValue() != tLRPC$TL_updates.pts) {
                                                    if (BuildVars.LOGS_ENABLED) {
                                                        FileLog.d(tLRPC$Update2 + " need get diff, pts: " + getMessagesStorage().getLastPtsValue() + " " + tLRPC$TL_updates.pts + " count = " + tLRPC$TL_updates.pts_count);
                                                    }
                                                    if (this.gettingDifference || this.updatesStartWaitTimePts == 0 || Math.abs(System.currentTimeMillis() - this.updatesStartWaitTimePts) <= 1500) {
                                                        if (this.updatesStartWaitTimePts == 0) {
                                                            this.updatesStartWaitTimePts = System.currentTimeMillis();
                                                        }
                                                        if (BuildVars.LOGS_ENABLED) {
                                                            FileLog.d(str2);
                                                        }
                                                        this.updatesQueuePts.add(tLRPC$TL_updates);
                                                    }
                                                    i9 = 1;
                                                }
                                                arrayList6 = arrayList2;
                                                str = str2;
                                            }
                                        } else {
                                            arrayList2 = arrayList6;
                                            if (getUpdateType(tLRPC$Update2) == 1) {
                                                TLRPC$TL_updates tLRPC$TL_updates2 = new TLRPC$TL_updates();
                                                tLRPC$TL_updates2.updates.add(tLRPC$Update2);
                                                tLRPC$TL_updates2.pts = getUpdateQts(tLRPC$Update2);
                                                while (1 < tLRPC$Updates.updates.size()) {
                                                    TLRPC$Update tLRPC$Update4 = tLRPC$Updates.updates.get(1);
                                                    int updateQts = getUpdateQts(tLRPC$Update4);
                                                    if (getUpdateType(tLRPC$Update4) != 1 || tLRPC$TL_updates2.pts + 1 != updateQts) {
                                                        break;
                                                    }
                                                    tLRPC$TL_updates2.updates.add(tLRPC$Update4);
                                                    tLRPC$TL_updates2.pts = updateQts;
                                                    tLRPC$Updates.updates.remove(1);
                                                }
                                                if (getMessagesStorage().getLastQtsValue() == 0 || getMessagesStorage().getLastQtsValue() + tLRPC$TL_updates2.updates.size() == tLRPC$TL_updates2.pts) {
                                                    processUpdateArray(tLRPC$TL_updates2.updates, tLRPC$Updates.users, tLRPC$Updates.chats, false, tLRPC$Updates.date);
                                                    getMessagesStorage().setLastQtsValue(tLRPC$TL_updates2.pts);
                                                    z8 = true;
                                                } else if (getMessagesStorage().getLastPtsValue() != tLRPC$TL_updates2.pts) {
                                                    if (BuildVars.LOGS_ENABLED) {
                                                        FileLog.d(tLRPC$Update2 + " need get diff, qts: " + getMessagesStorage().getLastQtsValue() + " " + tLRPC$TL_updates2.pts);
                                                    }
                                                    if (this.gettingDifference || this.updatesStartWaitTimeQts == 0 || Math.abs(System.currentTimeMillis() - this.updatesStartWaitTimeQts) <= 1500) {
                                                        if (this.updatesStartWaitTimeQts == 0) {
                                                            this.updatesStartWaitTimeQts = System.currentTimeMillis();
                                                        }
                                                        if (BuildVars.LOGS_ENABLED) {
                                                            FileLog.d(str2);
                                                        }
                                                        this.updatesQueueQts.add(tLRPC$TL_updates2);
                                                    }
                                                    i9 = 1;
                                                }
                                                arrayList6 = arrayList2;
                                                str = str2;
                                            } else if (getUpdateType(tLRPC$Update2) != 2) {
                                                break;
                                            } else {
                                                long updateChannelId = getUpdateChannelId(tLRPC$Update2);
                                                int i10 = this.channelsPts.get(updateChannelId);
                                                if (i10 == 0) {
                                                    i10 = getMessagesStorage().getChannelPtsSync(updateChannelId);
                                                    if (i10 == 0) {
                                                        int i11 = 0;
                                                        while (i11 < tLRPC$Updates.chats.size()) {
                                                            TLRPC$Chat tLRPC$Chat3 = tLRPC$Updates.chats.get(i11);
                                                            int i12 = i11;
                                                            if (tLRPC$Chat3.id == updateChannelId) {
                                                                loadUnknownChannel(tLRPC$Chat3, 0L);
                                                                z10 = true;
                                                                break;
                                                            }
                                                            i11 = i12 + 1;
                                                        }
                                                    } else {
                                                        this.channelsPts.put(updateChannelId, i10);
                                                    }
                                                }
                                                z10 = false;
                                                TLRPC$TL_updates tLRPC$TL_updates3 = new TLRPC$TL_updates();
                                                tLRPC$TL_updates3.updates.add(tLRPC$Update2);
                                                tLRPC$TL_updates3.pts = getUpdatePts(tLRPC$Update2);
                                                tLRPC$TL_updates3.pts_count = getUpdatePtsCount(tLRPC$Update2);
                                                while (true) {
                                                    if (1 >= tLRPC$Updates.updates.size()) {
                                                        i4 = i9;
                                                        str = str2;
                                                        break;
                                                    }
                                                    TLRPC$Update tLRPC$Update5 = tLRPC$Updates.updates.get(1);
                                                    int updatePts2 = getUpdatePts(tLRPC$Update5);
                                                    int updatePtsCount2 = getUpdatePtsCount(tLRPC$Update5);
                                                    i4 = i9;
                                                    str = str2;
                                                    if (getUpdateType(tLRPC$Update5) != 2 || updateChannelId != getUpdateChannelId(tLRPC$Update5) || tLRPC$TL_updates3.pts + updatePtsCount2 != updatePts2) {
                                                        break;
                                                    }
                                                    tLRPC$TL_updates3.updates.add(tLRPC$Update5);
                                                    tLRPC$TL_updates3.pts = updatePts2;
                                                    tLRPC$TL_updates3.pts_count += updatePtsCount2;
                                                    tLRPC$Updates.updates.remove(1);
                                                    i9 = i4;
                                                    str2 = str;
                                                }
                                                if (BuildVars.LOGS_ENABLED) {
                                                    FileLog.d("need load unknown channel = " + updateChannelId);
                                                }
                                                arrayList6 = arrayList2;
                                                i9 = i4;
                                            }
                                        }
                                        tLRPC$Updates.updates.remove(0);
                                        str2 = str;
                                        i5 = 0;
                                        i6 = 1;
                                    }
                                    int i13 = i9;
                                    boolean z13 = tLRPC$Updates instanceof TLRPC$TL_updatesCombined;
                                    if (z13) {
                                        if (getMessagesStorage().getLastSeqValue() + 1 != tLRPC$Updates.seq_start) {
                                        }
                                        z9 = true;
                                    } else {
                                        int lastSeqValue = getMessagesStorage().getLastSeqValue() + 1;
                                        int i14 = tLRPC$Updates.seq;
                                        if (lastSeqValue != i14) {
                                            if (i14 != 0) {
                                            }
                                        }
                                        z9 = true;
                                    }
                                    if (z9) {
                                        processUpdateArray(tLRPC$Updates.updates, tLRPC$Updates.users, tLRPC$Updates.chats, false, tLRPC$Updates.date);
                                        if (tLRPC$Updates.seq != 0) {
                                            if (tLRPC$Updates.date != 0) {
                                                getMessagesStorage().setLastDateValue(tLRPC$Updates.date);
                                            }
                                            getMessagesStorage().setLastSeqValue(tLRPC$Updates.seq);
                                        }
                                    } else {
                                        if (BuildVars.LOGS_ENABLED) {
                                            if (z13) {
                                                FileLog.d("need get diff TL_updatesCombined, seq: " + getMessagesStorage().getLastSeqValue() + " " + tLRPC$Updates.seq_start);
                                            } else {
                                                FileLog.d("need get diff TL_updates, seq: " + getMessagesStorage().getLastSeqValue() + " " + tLRPC$Updates.seq);
                                            }
                                        }
                                        if (this.gettingDifference || this.updatesStartWaitTimeSeq == 0 || Math.abs(System.currentTimeMillis() - this.updatesStartWaitTimeSeq) <= 1500) {
                                            if (this.updatesStartWaitTimeSeq == 0) {
                                                this.updatesStartWaitTimeSeq = System.currentTimeMillis();
                                            }
                                            if (BuildVars.LOGS_ENABLED) {
                                                FileLog.d("add TL_updates/Combined to queue");
                                            }
                                            this.updatesQueueSeq.add(tLRPC$Updates);
                                        } else {
                                            arrayList = arrayList2;
                                            i6 = 1;
                                        }
                                    }
                                    arrayList = arrayList2;
                                    i6 = i13;
                                } else {
                                    i6 = i3;
                                    arrayList = null;
                                    z8 = false;
                                }
                                z2 = z8;
                                i5 = 0;
                                getSecretChatHelper().processPendingEncMessages();
                                if (!z) {
                                    for (int i15 = 0; i15 < this.updatesQueueChannels.size(); i15++) {
                                        long keyAt = this.updatesQueueChannels.keyAt(i15);
                                        if (arrayList != null && arrayList.contains(Long.valueOf(keyAt))) {
                                            getChannelDifference(keyAt);
                                        } else {
                                            processChannelsUpdatesQueue(keyAt, 0);
                                        }
                                    }
                                    if (i6 != 0) {
                                        getDifference();
                                    } else {
                                        for (int i16 = 0; i16 < 3; i16++) {
                                            processUpdatesQueue(i16, 0);
                                        }
                                    }
                                }
                                if (z2) {
                                    TLRPC$TL_messages_receivedQueue tLRPC$TL_messages_receivedQueue = new TLRPC$TL_messages_receivedQueue();
                                    tLRPC$TL_messages_receivedQueue.max_qts = getMessagesStorage().getLastQtsValue();
                                    getConnectionsManager().sendRequest(tLRPC$TL_messages_receivedQueue, MessagesController$$ExternalSyntheticLambda344.INSTANCE);
                                }
                                if (i5 != 0) {
                                    AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda21(this));
                                }
                                getMessagesStorage().saveDiffParams(getMessagesStorage().getLastSeqValue(), getMessagesStorage().getLastPtsValue(), getMessagesStorage().getLastDateValue(), getMessagesStorage().getLastQtsValue());
                            }
                        }
                    }
                }
                i3 = 0;
                if (i3 != 0) {
                }
                z2 = z8;
                i5 = 0;
                getSecretChatHelper().processPendingEncMessages();
                if (!z) {
                }
                if (z2) {
                }
                if (i5 != 0) {
                }
                getMessagesStorage().saveDiffParams(getMessagesStorage().getLastSeqValue(), getMessagesStorage().getLastPtsValue(), getMessagesStorage().getLastDateValue(), getMessagesStorage().getLastQtsValue());
            } else if (tLRPC$Updates instanceof TLRPC$TL_updatesTooLong) {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("need get diff TL_updatesTooLong");
                }
            } else if (tLRPC$Updates instanceof UserActionUpdatesSeq) {
                getMessagesStorage().setLastSeqValue(tLRPC$Updates.seq);
            } else if (tLRPC$Updates instanceof UserActionUpdatesPts) {
                long j6 = tLRPC$Updates.chat_id;
                if (j6 != 0) {
                    this.channelsPts.put(j6, tLRPC$Updates.pts);
                    getMessagesStorage().saveChannelPts(tLRPC$Updates.chat_id, tLRPC$Updates.pts);
                } else {
                    getMessagesStorage().setLastPtsValue(tLRPC$Updates.pts);
                }
            }
            z2 = false;
            arrayList = null;
            getSecretChatHelper().processPendingEncMessages();
            if (!z) {
            }
            if (z2) {
            }
            if (i5 != 0) {
            }
            getMessagesStorage().saveDiffParams(getMessagesStorage().getLastSeqValue(), getMessagesStorage().getLastPtsValue(), getMessagesStorage().getLastDateValue(), getMessagesStorage().getLastQtsValue());
        }
        z2 = false;
        arrayList = null;
        i6 = 0;
        getSecretChatHelper().processPendingEncMessages();
        if (!z) {
        }
        if (z2) {
        }
        if (i5 != 0) {
        }
        getMessagesStorage().saveDiffParams(getMessagesStorage().getLastSeqValue(), getMessagesStorage().getLastPtsValue(), getMessagesStorage().getLastDateValue(), getMessagesStorage().getLastQtsValue());
    }

    public /* synthetic */ void lambda$processUpdates$302(boolean z, long j, ArrayList arrayList) {
        if (z) {
            getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_USER_PRINT));
        }
        updateInterfaceWithMessages(j, arrayList, false);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    public /* synthetic */ void lambda$processUpdates$303(boolean z, TLRPC$Updates tLRPC$Updates, ArrayList arrayList) {
        if (z) {
            getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_USER_PRINT));
        }
        updateInterfaceWithMessages(-tLRPC$Updates.chat_id, arrayList, false);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
    }

    public /* synthetic */ void lambda$processUpdates$304(ArrayList arrayList) {
        getNotificationsController().processNewMessages(arrayList, true, false, null);
    }

    public /* synthetic */ void lambda$processUpdates$305(ArrayList arrayList) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda110(this, arrayList));
    }

    public /* synthetic */ void lambda$processUpdates$307() {
        getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(UPDATE_MASK_STATUS));
    }

    private boolean applyFoldersUpdates(ArrayList<TLRPC$TL_updateFolderPeers> arrayList) {
        if (arrayList == null) {
            return false;
        }
        int size = arrayList.size();
        int i = 0;
        boolean z = false;
        while (i < size) {
            TLRPC$TL_updateFolderPeers tLRPC$TL_updateFolderPeers = arrayList.get(i);
            int size2 = tLRPC$TL_updateFolderPeers.folder_peers.size();
            for (int i2 = 0; i2 < size2; i2++) {
                TLRPC$TL_folderPeer tLRPC$TL_folderPeer = tLRPC$TL_updateFolderPeers.folder_peers.get(i2);
                TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(DialogObject.getPeerDialogId(tLRPC$TL_folderPeer.peer));
                if (tLRPC$Dialog != null) {
                    int i3 = tLRPC$Dialog.folder_id;
                    int i4 = tLRPC$TL_folderPeer.folder_id;
                    if (i3 != i4) {
                        tLRPC$Dialog.pinned = false;
                        tLRPC$Dialog.pinnedNum = 0;
                        tLRPC$Dialog.folder_id = i4;
                        ensureFolderDialogExists(i4, null);
                    }
                }
            }
            getMessagesStorage().setDialogsFolderId(arrayList.get(i).folder_peers, null, 0L, 0);
            i++;
            z = true;
        }
        return z;
    }

    /* JADX WARN: Code restructure failed: missing block: B:988:0x148d, code lost:
        if (r0.action.user_id == r31) goto L883;
     */
    /* JADX WARN: Removed duplicated region for block: B:1020:0x1512  */
    /* JADX WARN: Removed duplicated region for block: B:1021:0x1518  */
    /* JADX WARN: Removed duplicated region for block: B:1025:0x1523  */
    /* JADX WARN: Removed duplicated region for block: B:1036:0x1578  */
    /* JADX WARN: Removed duplicated region for block: B:1060:0x15dc  */
    /* JADX WARN: Removed duplicated region for block: B:1064:0x15e9  */
    /* JADX WARN: Removed duplicated region for block: B:1067:0x1609  */
    /* JADX WARN: Removed duplicated region for block: B:1069:0x160e  */
    /* JADX WARN: Removed duplicated region for block: B:1073:0x1617  */
    /* JADX WARN: Removed duplicated region for block: B:1074:0x161e  */
    /* JADX WARN: Removed duplicated region for block: B:1077:0x1629  */
    /* JADX WARN: Removed duplicated region for block: B:1080:0x163c  */
    /* JADX WARN: Removed duplicated region for block: B:1090:0x1656  */
    /* JADX WARN: Removed duplicated region for block: B:1091:0x165c  */
    /* JADX WARN: Removed duplicated region for block: B:1152:0x186b  */
    /* JADX WARN: Removed duplicated region for block: B:1157:0x1892  */
    /* JADX WARN: Removed duplicated region for block: B:1162:0x18be  */
    /* JADX WARN: Removed duplicated region for block: B:1167:0x18e5  */
    /* JADX WARN: Removed duplicated region for block: B:1172:0x190b  */
    /* JADX WARN: Removed duplicated region for block: B:1201:0x1451 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:864:0x125d  */
    /* JADX WARN: Removed duplicated region for block: B:896:0x1323  */
    /* JADX WARN: Removed duplicated region for block: B:905:0x134e  */
    /* JADX WARN: Removed duplicated region for block: B:907:0x1352  */
    /* JADX WARN: Removed duplicated region for block: B:941:0x13c4  */
    /* JADX WARN: Removed duplicated region for block: B:978:0x145b  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public boolean processUpdateArray(ArrayList<TLRPC$Update> arrayList, ArrayList<TLRPC$User> arrayList2, ArrayList<TLRPC$Chat> arrayList3, boolean z, int i) {
        ConcurrentHashMap<Long, TLRPC$User> concurrentHashMap;
        ConcurrentHashMap<Long, TLRPC$Chat> concurrentHashMap2;
        LongSparseArray longSparseArray;
        LongSparseArray<SparseIntArray> longSparseArray2;
        LongSparseArray<SparseIntArray> longSparseArray3;
        boolean z2;
        LongSparseArray<ArrayList<Integer>> longSparseArray4;
        LongSparseIntArray longSparseIntArray;
        LongSparseArray longSparseArray5;
        LongSparseArray<SparseIntArray> longSparseArray6;
        LongSparseArray<ArrayList<Integer>> longSparseArray7;
        int i2;
        long j;
        long j2;
        ConcurrentHashMap<Long, TLRPC$User> concurrentHashMap3;
        ArrayList arrayList4;
        LongSparseArray longSparseArray8;
        LongSparseArray longSparseArray9;
        LongSparseIntArray longSparseIntArray2;
        ArrayList<Long> arrayList5;
        LongSparseArray<SparseIntArray> longSparseArray10;
        LongSparseArray longSparseArray11;
        LongSparseArray<SparseIntArray> longSparseArray12;
        ArrayList arrayList6;
        ArrayList arrayList7;
        LongSparseIntArray longSparseIntArray3;
        LongSparseArray longSparseArray13;
        long j3;
        TLRPC$Message tLRPC$Message;
        long j4;
        TLRPC$Chat tLRPC$Chat;
        TLRPC$MessageAction tLRPC$MessageAction;
        boolean z3;
        long j5;
        MessageObject messageObject;
        int i3;
        ArrayList arrayList8;
        int i4;
        ImageLoader.MessageThumb generateMessageThumb;
        boolean z4;
        TLRPC$UserStatus tLRPC$UserStatus;
        long j6;
        ArrayList arrayList9;
        ArrayList arrayList10;
        long j7;
        int i5;
        long j8;
        TLRPC$SendMessageAction tLRPC$SendMessageAction;
        boolean z5;
        LongSparseArray longSparseArray14;
        long j9;
        ArrayList arrayList11;
        SparseIntArray sparseIntArray;
        long j10;
        ConcurrentHashMap<Long, TLRPC$User> concurrentHashMap4;
        LongSparseArray<TLRPC$WebPage> longSparseArray15;
        ArrayList arrayList12;
        TLRPC$Message tLRPC$Message2;
        LongSparseIntArray longSparseIntArray4;
        ConcurrentHashMap<Long, TLRPC$User> concurrentHashMap5;
        LongSparseIntArray longSparseIntArray5;
        ArrayList arrayList13;
        ArrayList arrayList14;
        ArrayList arrayList15;
        String str;
        TLRPC$TL_updateEncryptedChatTyping tLRPC$TL_updateEncryptedChatTyping;
        boolean z6;
        TLRPC$TL_updateNewEncryptedMessage tLRPC$TL_updateNewEncryptedMessage;
        LongSparseArray longSparseArray16;
        ArrayList<Long> arrayList16;
        LongSparseArray<SparseIntArray> longSparseArray17;
        LongSparseArray longSparseArray18;
        LongSparseArray<SparseIntArray> longSparseArray19;
        ArrayList arrayList17;
        ArrayList arrayList18;
        TLRPC$User tLRPC$User;
        LongSparseIntArray longSparseIntArray6;
        long j11;
        long j12;
        TLRPC$UserStatus tLRPC$UserStatus2;
        long j13;
        if (arrayList.isEmpty()) {
            if (arrayList2 != null || arrayList3 != null) {
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda121(this, arrayList2, arrayList3));
            }
            return true;
        }
        long currentTimeMillis = System.currentTimeMillis();
        if (arrayList2 != null) {
            concurrentHashMap = new ConcurrentHashMap<>();
            int size = arrayList2.size();
            for (int i6 = 0; i6 < size; i6++) {
                TLRPC$User tLRPC$User2 = arrayList2.get(i6);
                concurrentHashMap.put(Long.valueOf(tLRPC$User2.id), tLRPC$User2);
            }
        } else {
            concurrentHashMap = this.users;
        }
        if (arrayList3 != null) {
            concurrentHashMap2 = new ConcurrentHashMap<>();
            int size2 = arrayList3.size();
            for (int i7 = 0; i7 < size2; i7++) {
                TLRPC$Chat tLRPC$Chat2 = arrayList3.get(i7);
                concurrentHashMap2.put(Long.valueOf(tLRPC$Chat2.id), tLRPC$Chat2);
            }
        } else {
            concurrentHashMap2 = this.chats;
        }
        ConcurrentHashMap<Long, TLRPC$Chat> concurrentHashMap6 = concurrentHashMap2;
        if (arrayList2 != null || arrayList3 != null) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda120(this, arrayList2, arrayList3));
        }
        long clientUserId = getUserConfig().getClientUserId();
        int size3 = arrayList.size();
        long j14 = clientUserId;
        long j15 = currentTimeMillis;
        LongSparseIntArray longSparseIntArray7 = null;
        LongSparseIntArray longSparseIntArray8 = null;
        LongSparseArray longSparseArray20 = null;
        LongSparseArray longSparseArray21 = null;
        LongSparseArray<SparseIntArray> longSparseArray22 = null;
        LongSparseArray<SparseIntArray> longSparseArray23 = null;
        ArrayList<Long> arrayList19 = null;
        LongSparseArray longSparseArray24 = null;
        ArrayList arrayList20 = null;
        LongSparseArray longSparseArray25 = null;
        LongSparseArray<ArrayList<Integer>> longSparseArray26 = null;
        ArrayList arrayList21 = null;
        LongSparseArray longSparseArray27 = null;
        LongSparseIntArray longSparseIntArray9 = null;
        LongSparseArray longSparseArray28 = null;
        ArrayList arrayList22 = null;
        LongSparseArray<SparseArray<TLRPC$MessageReplies>> longSparseArray29 = null;
        ArrayList arrayList23 = null;
        ArrayList arrayList24 = null;
        ArrayList<TLRPC$Message> arrayList25 = null;
        ArrayList<TLRPC$Message> arrayList26 = null;
        LongSparseArray<TLRPC$WebPage> longSparseArray30 = null;
        SparseIntArray sparseIntArray2 = null;
        LongSparseIntArray longSparseIntArray10 = null;
        ArrayList arrayList27 = null;
        int i8 = 0;
        int i9 = 0;
        boolean z7 = false;
        while (i8 < size3) {
            int i10 = size3;
            LongSparseArray<SparseIntArray> longSparseArray31 = longSparseArray22;
            TLRPC$Update tLRPC$Update = arrayList.get(i8);
            if (BuildVars.LOGS_ENABLED) {
                longSparseArray6 = longSparseArray23;
                StringBuilder sb = new StringBuilder();
                longSparseArray5 = longSparseArray24;
                sb.append("process update ");
                sb.append(tLRPC$Update);
                FileLog.d(sb.toString());
            } else {
                longSparseArray6 = longSparseArray23;
                longSparseArray5 = longSparseArray24;
            }
            boolean z8 = tLRPC$Update instanceof TLRPC$TL_updateNewMessage;
            ArrayList arrayList28 = arrayList20;
            if (z8 || (tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) || (tLRPC$Update instanceof TLRPC$TL_updateNewScheduledMessage)) {
                longSparseArray11 = longSparseArray21;
                arrayList5 = arrayList19;
                longSparseArray7 = longSparseArray26;
                i2 = i8;
                longSparseArray10 = longSparseArray31;
                longSparseArray8 = longSparseArray5;
                arrayList4 = arrayList27;
                arrayList6 = arrayList28;
                concurrentHashMap3 = concurrentHashMap;
                longSparseArray13 = longSparseArray25;
                j3 = j15;
                longSparseArray12 = longSparseArray6;
                j2 = j14;
                longSparseIntArray2 = longSparseIntArray8;
                longSparseArray9 = longSparseArray20;
                arrayList7 = arrayList24;
                longSparseIntArray3 = longSparseIntArray7;
                if (z8) {
                    tLRPC$Message = ((TLRPC$TL_updateNewMessage) tLRPC$Update).message;
                } else if (tLRPC$Update instanceof TLRPC$TL_updateNewScheduledMessage) {
                    tLRPC$Message = ((TLRPC$TL_updateNewScheduledMessage) tLRPC$Update).message;
                } else {
                    tLRPC$Message = ((TLRPC$TL_updateNewChannelMessage) tLRPC$Update).message;
                    if (BuildVars.LOGS_ENABLED) {
                        FileLog.d(tLRPC$Update + " channelId = " + tLRPC$Message.peer_id.channel_id);
                    }
                    if (!tLRPC$Message.out) {
                        TLRPC$Peer tLRPC$Peer = tLRPC$Message.from_id;
                        if ((tLRPC$Peer instanceof TLRPC$TL_peerUser) && tLRPC$Peer.user_id == getUserConfig().getClientUserId()) {
                            tLRPC$Message.out = true;
                        }
                    }
                }
                if (!(tLRPC$Message instanceof TLRPC$TL_messageEmpty)) {
                    TLRPC$Peer tLRPC$Peer2 = tLRPC$Message.peer_id;
                    long j16 = tLRPC$Peer2.channel_id;
                    if (j16 == 0) {
                        j16 = tLRPC$Peer2.chat_id;
                        if (j16 == 0) {
                            long j17 = tLRPC$Peer2.user_id;
                            if (j17 != 0) {
                                j4 = j17;
                                j16 = 0;
                            } else {
                                j16 = 0;
                                j4 = 0;
                            }
                            if (j16 == 0) {
                                tLRPC$Chat = concurrentHashMap6.get(Long.valueOf(j16));
                                if (tLRPC$Chat == null || tLRPC$Chat.min) {
                                    tLRPC$Chat = getChat(Long.valueOf(j16));
                                }
                                if (tLRPC$Chat == null || tLRPC$Chat.min) {
                                    tLRPC$Chat = getMessagesStorage().getChatSync(j16);
                                    putChat(tLRPC$Chat, true);
                                }
                            } else {
                                tLRPC$Chat = null;
                            }
                            if (!z) {
                                if (j16 != 0 && tLRPC$Chat == null) {
                                    if (!BuildVars.LOGS_ENABLED) {
                                        return false;
                                    }
                                    FileLog.d("not found chat " + j16);
                                    return false;
                                }
                                int size4 = tLRPC$Message.entities.size() + 3;
                                for (int i11 = 0; i11 < size4; i11++) {
                                    if (i11 != 0) {
                                        if (i11 == 1) {
                                            TLRPC$Peer tLRPC$Peer3 = tLRPC$Message.from_id;
                                            j4 = tLRPC$Peer3 instanceof TLRPC$TL_peerUser ? tLRPC$Peer3.user_id : 0L;
                                            if (tLRPC$Message.post) {
                                                z4 = true;
                                                if (j4 > 0) {
                                                    TLRPC$User tLRPC$User3 = concurrentHashMap3.get(Long.valueOf(j4));
                                                    if (tLRPC$User3 == null || (!z4 && tLRPC$User3.min)) {
                                                        tLRPC$User3 = getUser(Long.valueOf(j4));
                                                    }
                                                    if (tLRPC$User3 == null || (!z4 && tLRPC$User3.min)) {
                                                        TLRPC$User userSync = getMessagesStorage().getUserSync(j4);
                                                        tLRPC$User3 = (userSync == null || z4 || !userSync.min) ? userSync : null;
                                                        putUser(tLRPC$User3, true);
                                                    }
                                                    if (tLRPC$User3 == null) {
                                                        if (!BuildVars.LOGS_ENABLED) {
                                                            return false;
                                                        }
                                                        FileLog.d("not found user " + j4);
                                                        return false;
                                                    } else if (!tLRPC$Message.out && i11 == 1 && (tLRPC$UserStatus = tLRPC$User3.status) != null && tLRPC$UserStatus.expires <= 0 && Math.abs(getConnectionsManager().getCurrentTime() - tLRPC$Message.date) < 30) {
                                                        this.onlinePrivacy.put(Long.valueOf(j4), Integer.valueOf(tLRPC$Message.date));
                                                        i9 |= UPDATE_MASK_STATUS;
                                                    }
                                                }
                                            }
                                        } else {
                                            if (i11 == 2) {
                                                TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader = tLRPC$Message.fwd_from;
                                                if (tLRPC$MessageFwdHeader != null) {
                                                    TLRPC$Peer tLRPC$Peer4 = tLRPC$MessageFwdHeader.from_id;
                                                    if (tLRPC$Peer4 instanceof TLRPC$TL_peerUser) {
                                                        j4 = tLRPC$Peer4.user_id;
                                                        z4 = false;
                                                    }
                                                }
                                                j4 = 0;
                                                z4 = false;
                                            } else {
                                                TLRPC$MessageEntity tLRPC$MessageEntity = tLRPC$Message.entities.get(i11 - 3);
                                                if (tLRPC$MessageEntity instanceof TLRPC$TL_messageEntityMentionName) {
                                                    j4 = ((TLRPC$TL_messageEntityMentionName) tLRPC$MessageEntity).user_id;
                                                    z4 = false;
                                                }
                                                j4 = 0;
                                                z4 = false;
                                            }
                                            if (j4 > 0) {
                                            }
                                        }
                                    }
                                    z4 = false;
                                    if (j4 > 0) {
                                    }
                                }
                            }
                            tLRPC$MessageAction = tLRPC$Message.action;
                            if (tLRPC$MessageAction instanceof TLRPC$TL_messageActionChatDeleteUser) {
                                TLRPC$User tLRPC$User4 = concurrentHashMap3.get(Long.valueOf(tLRPC$MessageAction.user_id));
                                if (tLRPC$User4 != null && tLRPC$User4.bot) {
                                    tLRPC$Message.reply_markup = new TLRPC$TL_replyKeyboardHide();
                                    tLRPC$Message.flags |= 64;
                                } else {
                                    TLRPC$Peer tLRPC$Peer5 = tLRPC$Message.from_id;
                                    if (tLRPC$Peer5 instanceof TLRPC$TL_peerUser) {
                                        if (tLRPC$Peer5.user_id == j2) {
                                        }
                                    }
                                }
                            }
                            ImageLoader.saveMessageThumbs(tLRPC$Message);
                            MessageObject.getDialogId(tLRPC$Message);
                            if ((tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) || tLRPC$Message.reply_to == null || (tLRPC$Message.action instanceof TLRPC$TL_messageActionPinMessage)) {
                                longSparseArray29 = longSparseArray29;
                            } else {
                                LongSparseArray<SparseArray<TLRPC$MessageReplies>> longSparseArray32 = longSparseArray29;
                                LongSparseArray<SparseArray<TLRPC$MessageReplies>> longSparseArray33 = longSparseArray32 == null ? new LongSparseArray<>() : longSparseArray32;
                                SparseArray<TLRPC$MessageReplies> sparseArray = longSparseArray33.get(tLRPC$Message.dialog_id);
                                if (sparseArray == null) {
                                    sparseArray = new SparseArray<>();
                                    longSparseArray33.put(tLRPC$Message.dialog_id, sparseArray);
                                }
                                TLRPC$TL_messageReplyHeader tLRPC$TL_messageReplyHeader = tLRPC$Message.reply_to;
                                int i12 = tLRPC$TL_messageReplyHeader.reply_to_top_id;
                                if (i12 == 0) {
                                    i12 = tLRPC$TL_messageReplyHeader.reply_to_msg_id;
                                }
                                TLRPC$MessageReplies tLRPC$MessageReplies = sparseArray.get(i12);
                                if (tLRPC$MessageReplies == null) {
                                    tLRPC$MessageReplies = new TLRPC$TL_messageReplies();
                                    sparseArray.put(i12, tLRPC$MessageReplies);
                                }
                                TLRPC$Peer tLRPC$Peer6 = tLRPC$Message.from_id;
                                if (tLRPC$Peer6 != null) {
                                    tLRPC$MessageReplies.recent_repliers.add(0, tLRPC$Peer6);
                                }
                                tLRPC$MessageReplies.replies++;
                                longSparseArray29 = longSparseArray33;
                            }
                            if (this.createdDialogIds.contains(Long.valueOf(tLRPC$Message.dialog_id)) && tLRPC$Message.grouped_id == 0 && (generateMessageThumb = ImageLoader.generateMessageThumb(tLRPC$Message)) != null) {
                                ArrayList arrayList29 = arrayList23 != null ? new ArrayList() : arrayList23;
                                arrayList29.add(generateMessageThumb);
                                arrayList23 = arrayList29;
                            }
                            if (!(tLRPC$Update instanceof TLRPC$TL_updateNewScheduledMessage)) {
                                ArrayList<TLRPC$Message> arrayList30 = arrayList25 == null ? new ArrayList<>() : arrayList25;
                                arrayList30.add(tLRPC$Message);
                                boolean contains = this.createdScheduledDialogIds.contains(Long.valueOf(tLRPC$Message.dialog_id));
                                j = j3;
                                MessageObject messageObject2 = new MessageObject(this.currentAccount, tLRPC$Message, concurrentHashMap3, concurrentHashMap6, contains, contains);
                                messageObject2.scheduled = true;
                                LongSparseArray longSparseArray34 = longSparseArray28 == null ? new LongSparseArray() : longSparseArray28;
                                ArrayList arrayList31 = (ArrayList) longSparseArray34.get(tLRPC$Message.dialog_id);
                                if (arrayList31 == null) {
                                    arrayList31 = new ArrayList();
                                    longSparseArray34.put(tLRPC$Message.dialog_id, arrayList31);
                                }
                                arrayList31.add(messageObject2);
                                arrayList25 = arrayList30;
                                longSparseArray28 = longSparseArray34;
                                longSparseArray25 = longSparseArray13;
                            } else {
                                j = j3;
                                ArrayList<TLRPC$Message> arrayList32 = arrayList26 == null ? new ArrayList<>() : arrayList26;
                                arrayList32.add(tLRPC$Message);
                                ConcurrentHashMap<Long, Integer> concurrentHashMap7 = tLRPC$Message.out ? this.dialogs_read_outbox_max : this.dialogs_read_inbox_max;
                                Integer num = concurrentHashMap7.get(Long.valueOf(tLRPC$Message.dialog_id));
                                if (num == null) {
                                    num = Integer.valueOf(getMessagesStorage().getDialogReadMax(tLRPC$Message.out, tLRPC$Message.dialog_id));
                                    concurrentHashMap7.put(Long.valueOf(tLRPC$Message.dialog_id), num);
                                }
                                if (num.intValue() < tLRPC$Message.id && (tLRPC$Chat == null || !ChatObject.isNotInChat(tLRPC$Chat))) {
                                    TLRPC$MessageAction tLRPC$MessageAction2 = tLRPC$Message.action;
                                    if (!(tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChatMigrateTo) && !(tLRPC$MessageAction2 instanceof TLRPC$TL_messageActionChannelCreate)) {
                                        z3 = true;
                                        tLRPC$Message.unread = z3;
                                        j5 = tLRPC$Message.dialog_id;
                                        if (j5 == j2) {
                                            if (!tLRPC$Message.from_scheduled) {
                                                tLRPC$Message.unread = false;
                                            }
                                            tLRPC$Message.media_unread = false;
                                            tLRPC$Message.out = true;
                                        }
                                        boolean contains2 = this.createdDialogIds.contains(Long.valueOf(j5));
                                        messageObject = new MessageObject(this.currentAccount, tLRPC$Message, concurrentHashMap3, concurrentHashMap6, contains2, contains2);
                                        i3 = messageObject.type;
                                        if (i3 != 11) {
                                            i4 = UPDATE_MASK_CHAT_AVATAR;
                                        } else {
                                            if (i3 == 10) {
                                                i4 = UPDATE_MASK_CHAT_NAME;
                                            }
                                            longSparseArray25 = longSparseArray13 == null ? new LongSparseArray() : longSparseArray13;
                                            arrayList8 = (ArrayList) longSparseArray25.get(tLRPC$Message.dialog_id);
                                            if (arrayList8 == null) {
                                                arrayList8 = new ArrayList();
                                                longSparseArray25.put(tLRPC$Message.dialog_id, arrayList8);
                                            }
                                            arrayList8.add(messageObject);
                                            if ((messageObject.isOut() || messageObject.messageOwner.from_scheduled) && messageObject.isUnread() && (tLRPC$Chat == null || (!ChatObject.isNotInChat(tLRPC$Chat) && !tLRPC$Chat.min))) {
                                                ArrayList arrayList33 = arrayList7 == null ? new ArrayList() : arrayList7;
                                                arrayList33.add(messageObject);
                                                arrayList7 = arrayList33;
                                            }
                                            arrayList26 = arrayList32;
                                        }
                                        i9 |= i4;
                                        if (longSparseArray13 == null) {
                                        }
                                        arrayList8 = (ArrayList) longSparseArray25.get(tLRPC$Message.dialog_id);
                                        if (arrayList8 == null) {
                                        }
                                        arrayList8.add(messageObject);
                                        if (messageObject.isOut()) {
                                        }
                                        if (arrayList7 == null) {
                                        }
                                        arrayList33.add(messageObject);
                                        arrayList7 = arrayList33;
                                        arrayList26 = arrayList32;
                                    }
                                }
                                z3 = false;
                                tLRPC$Message.unread = z3;
                                j5 = tLRPC$Message.dialog_id;
                                if (j5 == j2) {
                                }
                                boolean contains22 = this.createdDialogIds.contains(Long.valueOf(j5));
                                messageObject = new MessageObject(this.currentAccount, tLRPC$Message, concurrentHashMap3, concurrentHashMap6, contains22, contains22);
                                i3 = messageObject.type;
                                if (i3 != 11) {
                                }
                                i9 |= i4;
                                if (longSparseArray13 == null) {
                                }
                                arrayList8 = (ArrayList) longSparseArray25.get(tLRPC$Message.dialog_id);
                                if (arrayList8 == null) {
                                }
                                arrayList8.add(messageObject);
                                if (messageObject.isOut()) {
                                }
                                if (arrayList7 == null) {
                                }
                                arrayList33.add(messageObject);
                                arrayList7 = arrayList33;
                                arrayList26 = arrayList32;
                            }
                            longSparseIntArray8 = longSparseIntArray2;
                            longSparseArray20 = longSparseArray9;
                            longSparseIntArray7 = longSparseIntArray3;
                            arrayList24 = arrayList7;
                            arrayList20 = arrayList6;
                            longSparseArray23 = longSparseArray12;
                            longSparseArray21 = longSparseArray11;
                            longSparseArray22 = longSparseArray10;
                            arrayList19 = arrayList5;
                            longSparseArray24 = longSparseArray8;
                            arrayList27 = arrayList4;
                            i8 = i2 + 1;
                            concurrentHashMap = concurrentHashMap3;
                            size3 = i10;
                            j14 = j2;
                            j15 = j;
                            longSparseArray26 = longSparseArray7;
                        }
                    }
                    j4 = 0;
                    if (j16 == 0) {
                    }
                    if (!z) {
                    }
                    tLRPC$MessageAction = tLRPC$Message.action;
                    if (tLRPC$MessageAction instanceof TLRPC$TL_messageActionChatDeleteUser) {
                    }
                    ImageLoader.saveMessageThumbs(tLRPC$Message);
                    MessageObject.getDialogId(tLRPC$Message);
                    if (tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) {
                    }
                    longSparseArray29 = longSparseArray29;
                    if (this.createdDialogIds.contains(Long.valueOf(tLRPC$Message.dialog_id))) {
                        if (arrayList23 != null) {
                        }
                        arrayList29.add(generateMessageThumb);
                        arrayList23 = arrayList29;
                    }
                    if (!(tLRPC$Update instanceof TLRPC$TL_updateNewScheduledMessage)) {
                    }
                    longSparseIntArray8 = longSparseIntArray2;
                    longSparseArray20 = longSparseArray9;
                    longSparseIntArray7 = longSparseIntArray3;
                    arrayList24 = arrayList7;
                    arrayList20 = arrayList6;
                    longSparseArray23 = longSparseArray12;
                    longSparseArray21 = longSparseArray11;
                    longSparseArray22 = longSparseArray10;
                    arrayList19 = arrayList5;
                    longSparseArray24 = longSparseArray8;
                    arrayList27 = arrayList4;
                    i8 = i2 + 1;
                    concurrentHashMap = concurrentHashMap3;
                    size3 = i10;
                    j14 = j2;
                    j15 = j;
                    longSparseArray26 = longSparseArray7;
                }
                longSparseIntArray8 = longSparseIntArray2;
                longSparseArray20 = longSparseArray9;
                j = j3;
                longSparseArray25 = longSparseArray13;
                longSparseIntArray7 = longSparseIntArray3;
                arrayList24 = arrayList7;
                arrayList20 = arrayList6;
                longSparseArray23 = longSparseArray12;
                longSparseArray21 = longSparseArray11;
                longSparseArray22 = longSparseArray10;
                arrayList19 = arrayList5;
            } else {
                if (tLRPC$Update instanceof TLRPC$TL_updateReadMessagesContents) {
                    TLRPC$TL_updateReadMessagesContents tLRPC$TL_updateReadMessagesContents = (TLRPC$TL_updateReadMessagesContents) tLRPC$Update;
                    if (longSparseArray26 == null) {
                        longSparseArray26 = new LongSparseArray<>();
                    }
                    ArrayList<Integer> arrayList34 = longSparseArray26.get(0L);
                    if (arrayList34 == null) {
                        arrayList34 = new ArrayList<>();
                        longSparseArray26.put(0L, arrayList34);
                    }
                    arrayList34.addAll(tLRPC$TL_updateReadMessagesContents.messages);
                } else if (tLRPC$Update instanceof TLRPC$TL_updateChannelReadMessagesContents) {
                    TLRPC$TL_updateChannelReadMessagesContents tLRPC$TL_updateChannelReadMessagesContents = (TLRPC$TL_updateChannelReadMessagesContents) tLRPC$Update;
                    if (longSparseArray26 == null) {
                        longSparseArray26 = new LongSparseArray<>();
                    }
                    long j18 = -tLRPC$TL_updateChannelReadMessagesContents.channel_id;
                    ArrayList<Integer> arrayList35 = longSparseArray26.get(j18);
                    if (arrayList35 == null) {
                        arrayList35 = new ArrayList<>();
                        longSparseArray26.put(j18, arrayList35);
                    }
                    arrayList35.addAll(tLRPC$TL_updateChannelReadMessagesContents.messages);
                } else {
                    if (tLRPC$Update instanceof TLRPC$TL_updateReadHistoryInbox) {
                        TLRPC$TL_updateReadHistoryInbox tLRPC$TL_updateReadHistoryInbox = (TLRPC$TL_updateReadHistoryInbox) tLRPC$Update;
                        if (longSparseIntArray7 == null) {
                            longSparseIntArray7 = new LongSparseIntArray();
                        }
                        TLRPC$Peer tLRPC$Peer7 = tLRPC$TL_updateReadHistoryInbox.peer;
                        long j19 = tLRPC$Peer7.chat_id;
                        if (j19 != 0) {
                            longSparseIntArray7.put(-j19, tLRPC$TL_updateReadHistoryInbox.max_id);
                            j13 = -tLRPC$TL_updateReadHistoryInbox.peer.chat_id;
                        } else {
                            longSparseIntArray7.put(tLRPC$Peer7.user_id, tLRPC$TL_updateReadHistoryInbox.max_id);
                            j13 = tLRPC$TL_updateReadHistoryInbox.peer.user_id;
                        }
                        LongSparseIntArray longSparseIntArray11 = longSparseIntArray7;
                        Integer num2 = this.dialogs_read_inbox_max.get(Long.valueOf(j13));
                        if (num2 == null) {
                            num2 = Integer.valueOf(getMessagesStorage().getDialogReadMax(false, j13));
                        }
                        this.dialogs_read_inbox_max.put(Long.valueOf(j13), Integer.valueOf(Math.max(num2.intValue(), tLRPC$TL_updateReadHistoryInbox.max_id)));
                        longSparseArray7 = longSparseArray26;
                        i2 = i8;
                        longSparseArray23 = longSparseArray6;
                        longSparseArray22 = longSparseArray31;
                        longSparseArray24 = longSparseArray5;
                        longSparseIntArray7 = longSparseIntArray11;
                    } else if (tLRPC$Update instanceof TLRPC$TL_updateReadHistoryOutbox) {
                        TLRPC$TL_updateReadHistoryOutbox tLRPC$TL_updateReadHistoryOutbox = (TLRPC$TL_updateReadHistoryOutbox) tLRPC$Update;
                        if (longSparseIntArray8 == null) {
                            longSparseIntArray8 = new LongSparseIntArray();
                        }
                        TLRPC$Peer tLRPC$Peer8 = tLRPC$TL_updateReadHistoryOutbox.peer;
                        long j20 = tLRPC$Peer8.chat_id;
                        if (j20 != 0) {
                            longSparseIntArray8.put(-j20, tLRPC$TL_updateReadHistoryOutbox.max_id);
                            j11 = -tLRPC$TL_updateReadHistoryOutbox.peer.chat_id;
                            longSparseIntArray6 = longSparseIntArray8;
                        } else {
                            longSparseIntArray8.put(tLRPC$Peer8.user_id, tLRPC$TL_updateReadHistoryOutbox.max_id);
                            long j21 = tLRPC$TL_updateReadHistoryOutbox.peer.user_id;
                            TLRPC$User user = getUser(Long.valueOf(j21));
                            if (user == null || (tLRPC$UserStatus2 = user.status) == null || tLRPC$UserStatus2.expires > 0) {
                                longSparseIntArray6 = longSparseIntArray8;
                            } else {
                                longSparseIntArray6 = longSparseIntArray8;
                                if (Math.abs(getConnectionsManager().getCurrentTime() - i) < 30) {
                                    j12 = j21;
                                    this.onlinePrivacy.put(Long.valueOf(tLRPC$TL_updateReadHistoryOutbox.peer.user_id), Integer.valueOf(i));
                                    i9 |= UPDATE_MASK_STATUS;
                                    j11 = j12;
                                }
                            }
                            j12 = j21;
                            j11 = j12;
                        }
                        Integer num3 = this.dialogs_read_outbox_max.get(Long.valueOf(j11));
                        if (num3 == null) {
                            num3 = Integer.valueOf(getMessagesStorage().getDialogReadMax(true, j11));
                        }
                        this.dialogs_read_outbox_max.put(Long.valueOf(j11), Integer.valueOf(Math.max(num3.intValue(), tLRPC$TL_updateReadHistoryOutbox.max_id)));
                        longSparseArray7 = longSparseArray26;
                        i2 = i8;
                        longSparseArray23 = longSparseArray6;
                        longSparseArray22 = longSparseArray31;
                        longSparseArray24 = longSparseArray5;
                        longSparseIntArray8 = longSparseIntArray6;
                    } else if (tLRPC$Update instanceof TLRPC$TL_updateDeleteMessages) {
                        TLRPC$TL_updateDeleteMessages tLRPC$TL_updateDeleteMessages = (TLRPC$TL_updateDeleteMessages) tLRPC$Update;
                        if (longSparseArray20 == null) {
                            longSparseArray20 = new LongSparseArray();
                        }
                        ArrayList arrayList36 = (ArrayList) longSparseArray20.get(0L);
                        if (arrayList36 == null) {
                            arrayList36 = new ArrayList();
                            longSparseArray20.put(0L, arrayList36);
                        }
                        arrayList36.addAll(tLRPC$TL_updateDeleteMessages.messages);
                    } else {
                        if (tLRPC$Update instanceof TLRPC$TL_updateDeleteScheduledMessages) {
                            TLRPC$TL_updateDeleteScheduledMessages tLRPC$TL_updateDeleteScheduledMessages = (TLRPC$TL_updateDeleteScheduledMessages) tLRPC$Update;
                            if (longSparseArray21 == null) {
                                longSparseArray21 = new LongSparseArray();
                            }
                            long peerId = MessageObject.getPeerId(tLRPC$TL_updateDeleteScheduledMessages.peer);
                            longSparseArray7 = longSparseArray26;
                            i2 = i8;
                            ArrayList arrayList37 = (ArrayList) longSparseArray21.get(MessageObject.getPeerId(tLRPC$TL_updateDeleteScheduledMessages.peer));
                            if (arrayList37 == null) {
                                arrayList37 = new ArrayList();
                                longSparseArray21.put(peerId, arrayList37);
                            }
                            arrayList37.addAll(tLRPC$TL_updateDeleteScheduledMessages.messages);
                            concurrentHashMap3 = concurrentHashMap;
                        } else {
                            longSparseArray7 = longSparseArray26;
                            i2 = i8;
                            boolean z9 = tLRPC$Update instanceof TLRPC$TL_updateUserTyping;
                            if (z9 || (tLRPC$Update instanceof TLRPC$TL_updateChatUserTyping) || (tLRPC$Update instanceof TLRPC$TL_updateChannelUserTyping)) {
                                longSparseArray11 = longSparseArray21;
                                concurrentHashMap3 = concurrentHashMap;
                                arrayList5 = arrayList19;
                                longSparseArray13 = longSparseArray25;
                                arrayList9 = arrayList24;
                                j6 = j15;
                                longSparseArray10 = longSparseArray31;
                                longSparseArray8 = longSparseArray5;
                                arrayList4 = arrayList27;
                                arrayList10 = arrayList28;
                                longSparseIntArray3 = longSparseIntArray7;
                                longSparseArray12 = longSparseArray6;
                                j2 = j14;
                                longSparseIntArray2 = longSparseIntArray8;
                                longSparseArray9 = longSparseArray20;
                                if (tLRPC$Update instanceof TLRPC$TL_updateChannelUserTyping) {
                                    TLRPC$TL_updateChannelUserTyping tLRPC$TL_updateChannelUserTyping = (TLRPC$TL_updateChannelUserTyping) tLRPC$Update;
                                    TLRPC$Peer tLRPC$Peer9 = tLRPC$TL_updateChannelUserTyping.from_id;
                                    j8 = tLRPC$Peer9.user_id;
                                    if (j8 == 0) {
                                        long j22 = tLRPC$Peer9.channel_id;
                                        j8 = j22 != 0 ? -j22 : -tLRPC$Peer9.chat_id;
                                    }
                                    j7 = tLRPC$TL_updateChannelUserTyping.channel_id;
                                    tLRPC$SendMessageAction = tLRPC$TL_updateChannelUserTyping.action;
                                    i5 = tLRPC$TL_updateChannelUserTyping.top_msg_id;
                                } else if (z9) {
                                    TLRPC$TL_updateUserTyping tLRPC$TL_updateUserTyping = (TLRPC$TL_updateUserTyping) tLRPC$Update;
                                    j8 = tLRPC$TL_updateUserTyping.user_id;
                                    tLRPC$SendMessageAction = tLRPC$TL_updateUserTyping.action;
                                    if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageEmojiInteraction) {
                                        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda183(this, tLRPC$TL_updateUserTyping));
                                        arrayList6 = arrayList10;
                                        arrayList7 = arrayList9;
                                        j3 = j6;
                                        longSparseIntArray8 = longSparseIntArray2;
                                        longSparseArray20 = longSparseArray9;
                                        j = j3;
                                        longSparseArray25 = longSparseArray13;
                                        longSparseIntArray7 = longSparseIntArray3;
                                        arrayList24 = arrayList7;
                                        arrayList20 = arrayList6;
                                        longSparseArray23 = longSparseArray12;
                                        longSparseArray21 = longSparseArray11;
                                        longSparseArray22 = longSparseArray10;
                                        arrayList19 = arrayList5;
                                    } else {
                                        i5 = 0;
                                        j7 = 0;
                                    }
                                } else {
                                    TLRPC$TL_updateChatUserTyping tLRPC$TL_updateChatUserTyping = (TLRPC$TL_updateChatUserTyping) tLRPC$Update;
                                    long j23 = tLRPC$TL_updateChatUserTyping.chat_id;
                                    TLRPC$Peer tLRPC$Peer10 = tLRPC$TL_updateChatUserTyping.from_id;
                                    long j24 = tLRPC$Peer10.user_id;
                                    if (j24 == 0) {
                                        long j25 = tLRPC$Peer10.channel_id;
                                        if (j25 == 0) {
                                            j25 = tLRPC$Peer10.chat_id;
                                        }
                                        j24 = -j25;
                                    }
                                    TLRPC$SendMessageAction tLRPC$SendMessageAction2 = tLRPC$TL_updateChatUserTyping.action;
                                    if (tLRPC$SendMessageAction2 instanceof TLRPC$TL_sendMessageEmojiInteraction) {
                                        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda178(this, tLRPC$TL_updateChatUserTyping));
                                        arrayList6 = arrayList10;
                                        arrayList7 = arrayList9;
                                        j3 = j6;
                                        longSparseIntArray8 = longSparseIntArray2;
                                        longSparseArray20 = longSparseArray9;
                                        j = j3;
                                        longSparseArray25 = longSparseArray13;
                                        longSparseIntArray7 = longSparseIntArray3;
                                        arrayList24 = arrayList7;
                                        arrayList20 = arrayList6;
                                        longSparseArray23 = longSparseArray12;
                                        longSparseArray21 = longSparseArray11;
                                        longSparseArray22 = longSparseArray10;
                                        arrayList19 = arrayList5;
                                    } else {
                                        i5 = 0;
                                        tLRPC$SendMessageAction = tLRPC$SendMessageAction2;
                                        j8 = j24;
                                        j7 = j23;
                                    }
                                }
                                long j26 = -j7;
                                if (j26 == 0) {
                                    j26 = j8;
                                }
                                if (tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageHistoryImportAction) {
                                    LongSparseIntArray longSparseIntArray12 = longSparseIntArray9 == null ? new LongSparseIntArray() : longSparseIntArray9;
                                    longSparseIntArray12.put(j26, ((TLRPC$TL_sendMessageHistoryImportAction) tLRPC$SendMessageAction).progress);
                                    longSparseIntArray9 = longSparseIntArray12;
                                } else if (j8 != getUserConfig().getClientUserId()) {
                                    if (!(tLRPC$SendMessageAction instanceof TLRPC$TL_speakingInGroupCallAction)) {
                                        ConcurrentHashMap<Integer, ArrayList<PrintingUser>> concurrentHashMap8 = this.printingUsers.get(Long.valueOf(j26));
                                        ArrayList<PrintingUser> arrayList38 = concurrentHashMap8 != null ? concurrentHashMap8.get(Integer.valueOf(i5)) : null;
                                        if (!(tLRPC$SendMessageAction instanceof TLRPC$TL_sendMessageCancelAction)) {
                                            arrayList6 = arrayList10;
                                            arrayList7 = arrayList9;
                                            if (concurrentHashMap8 == null) {
                                                concurrentHashMap8 = new ConcurrentHashMap<>();
                                                this.printingUsers.put(Long.valueOf(j26), concurrentHashMap8);
                                            }
                                            if (arrayList38 == null) {
                                                arrayList38 = new ArrayList<>();
                                                concurrentHashMap8.put(Integer.valueOf(i5), arrayList38);
                                            }
                                            Iterator<PrintingUser> it = arrayList38.iterator();
                                            while (true) {
                                                if (!it.hasNext()) {
                                                    j3 = j6;
                                                    z5 = false;
                                                    break;
                                                }
                                                PrintingUser next = it.next();
                                                if (next.userId == j8) {
                                                    j3 = j6;
                                                    next.lastTime = j3;
                                                    if (next.action.getClass() != tLRPC$SendMessageAction.getClass()) {
                                                        z7 = true;
                                                    }
                                                    next.action = tLRPC$SendMessageAction;
                                                    z5 = true;
                                                }
                                            }
                                            if (!z5) {
                                                PrintingUser printingUser = new PrintingUser();
                                                printingUser.userId = j8;
                                                printingUser.lastTime = j3;
                                                printingUser.action = tLRPC$SendMessageAction;
                                                arrayList38.add(printingUser);
                                                z7 = true;
                                            }
                                            if (Math.abs(getConnectionsManager().getCurrentTime() - i) < 30) {
                                            }
                                            longSparseIntArray8 = longSparseIntArray2;
                                            longSparseArray20 = longSparseArray9;
                                            j = j3;
                                            longSparseArray25 = longSparseArray13;
                                            longSparseIntArray7 = longSparseIntArray3;
                                            arrayList24 = arrayList7;
                                            arrayList20 = arrayList6;
                                            longSparseArray23 = longSparseArray12;
                                            longSparseArray21 = longSparseArray11;
                                            longSparseArray22 = longSparseArray10;
                                            arrayList19 = arrayList5;
                                        } else if (arrayList38 != null) {
                                            int size5 = arrayList38.size();
                                            int i13 = 0;
                                            while (true) {
                                                if (i13 >= size5) {
                                                    arrayList6 = arrayList10;
                                                    arrayList7 = arrayList9;
                                                    break;
                                                }
                                                arrayList6 = arrayList10;
                                                arrayList7 = arrayList9;
                                                if (arrayList38.get(i13).userId == j8) {
                                                    arrayList38.remove(i13);
                                                    z7 = true;
                                                    break;
                                                }
                                                i13++;
                                                arrayList9 = arrayList7;
                                                arrayList10 = arrayList6;
                                            }
                                            if (arrayList38.isEmpty()) {
                                                concurrentHashMap8.remove(Integer.valueOf(i5));
                                                if (concurrentHashMap8.isEmpty()) {
                                                    this.printingUsers.remove(Long.valueOf(j26));
                                                }
                                            }
                                            j3 = j6;
                                            if (Math.abs(getConnectionsManager().getCurrentTime() - i) < 30) {
                                                this.onlinePrivacy.put(Long.valueOf(j8), Integer.valueOf(i));
                                            }
                                            longSparseIntArray8 = longSparseIntArray2;
                                            longSparseArray20 = longSparseArray9;
                                            j = j3;
                                            longSparseArray25 = longSparseArray13;
                                            longSparseIntArray7 = longSparseIntArray3;
                                            arrayList24 = arrayList7;
                                            arrayList20 = arrayList6;
                                            longSparseArray23 = longSparseArray12;
                                            longSparseArray21 = longSparseArray11;
                                            longSparseArray22 = longSparseArray10;
                                            arrayList19 = arrayList5;
                                        }
                                    } else if (j7 != 0) {
                                        LongSparseArray longSparseArray35 = longSparseArray27 == null ? new LongSparseArray() : longSparseArray27;
                                        ArrayList arrayList39 = (ArrayList) longSparseArray35.get(j7);
                                        if (arrayList39 == null) {
                                            arrayList39 = new ArrayList();
                                            longSparseArray35.put(j7, arrayList39);
                                        }
                                        arrayList39.add(Long.valueOf(j8));
                                        longSparseArray27 = longSparseArray35;
                                    }
                                    arrayList6 = arrayList10;
                                    arrayList7 = arrayList9;
                                    j3 = j6;
                                    if (Math.abs(getConnectionsManager().getCurrentTime() - i) < 30) {
                                    }
                                    longSparseIntArray8 = longSparseIntArray2;
                                    longSparseArray20 = longSparseArray9;
                                    j = j3;
                                    longSparseArray25 = longSparseArray13;
                                    longSparseIntArray7 = longSparseIntArray3;
                                    arrayList24 = arrayList7;
                                    arrayList20 = arrayList6;
                                    longSparseArray23 = longSparseArray12;
                                    longSparseArray21 = longSparseArray11;
                                    longSparseArray22 = longSparseArray10;
                                    arrayList19 = arrayList5;
                                }
                                arrayList6 = arrayList10;
                                arrayList7 = arrayList9;
                                j3 = j6;
                                longSparseIntArray8 = longSparseIntArray2;
                                longSparseArray20 = longSparseArray9;
                                j = j3;
                                longSparseArray25 = longSparseArray13;
                                longSparseIntArray7 = longSparseIntArray3;
                                arrayList24 = arrayList7;
                                arrayList20 = arrayList6;
                                longSparseArray23 = longSparseArray12;
                                longSparseArray21 = longSparseArray11;
                                longSparseArray22 = longSparseArray10;
                                arrayList19 = arrayList5;
                            } else if (tLRPC$Update instanceof TLRPC$TL_updateChatParticipants) {
                                TLRPC$TL_updateChatParticipants tLRPC$TL_updateChatParticipants = (TLRPC$TL_updateChatParticipants) tLRPC$Update;
                                i9 |= UPDATE_MASK_CHAT_MEMBERS;
                                ArrayList arrayList40 = arrayList22 == null ? new ArrayList() : arrayList22;
                                arrayList40.add(tLRPC$TL_updateChatParticipants.participants);
                                concurrentHashMap3 = concurrentHashMap;
                                arrayList22 = arrayList40;
                            } else {
                                if (tLRPC$Update instanceof TLRPC$TL_updateUserStatus) {
                                    i9 |= UPDATE_MASK_STATUS;
                                    arrayList18 = arrayList21 == null ? new ArrayList() : arrayList21;
                                    arrayList18.add(tLRPC$Update);
                                } else if (tLRPC$Update instanceof TLRPC$TL_updateUserName) {
                                    i9 |= UPDATE_MASK_NAME;
                                    arrayList18 = arrayList21 == null ? new ArrayList() : arrayList21;
                                    arrayList18.add(tLRPC$Update);
                                } else if (tLRPC$Update instanceof TLRPC$TL_updateUserPhoto) {
                                    i9 |= UPDATE_MASK_AVATAR;
                                    getMessagesStorage().clearUserPhotos(((TLRPC$TL_updateUserPhoto) tLRPC$Update).user_id);
                                    arrayList18 = arrayList21 == null ? new ArrayList() : arrayList21;
                                    arrayList18.add(tLRPC$Update);
                                } else if (tLRPC$Update instanceof TLRPC$TL_updateUserPhone) {
                                    i9 |= UPDATE_MASK_PHONE;
                                    arrayList18 = arrayList21 == null ? new ArrayList() : arrayList21;
                                    arrayList18.add(tLRPC$Update);
                                } else if (tLRPC$Update instanceof TLRPC$TL_updatePeerSettings) {
                                    TLRPC$TL_updatePeerSettings tLRPC$TL_updatePeerSettings = (TLRPC$TL_updatePeerSettings) tLRPC$Update;
                                    if (arrayList19 == null) {
                                        arrayList19 = new ArrayList<>();
                                    }
                                    TLRPC$Peer tLRPC$Peer11 = tLRPC$TL_updatePeerSettings.peer;
                                    if ((tLRPC$Peer11 instanceof TLRPC$TL_peerUser) && (tLRPC$User = concurrentHashMap.get(Long.valueOf(tLRPC$Peer11.user_id))) != null) {
                                        if (tLRPC$User.contact) {
                                            int indexOf = arrayList19.indexOf(Long.valueOf(-tLRPC$TL_updatePeerSettings.peer.user_id));
                                            if (indexOf != -1) {
                                                arrayList19.remove(indexOf);
                                            }
                                            if (!arrayList19.contains(Long.valueOf(tLRPC$TL_updatePeerSettings.peer.user_id))) {
                                                arrayList19.add(Long.valueOf(tLRPC$TL_updatePeerSettings.peer.user_id));
                                            }
                                        } else {
                                            int indexOf2 = arrayList19.indexOf(Long.valueOf(tLRPC$TL_updatePeerSettings.peer.user_id));
                                            if (indexOf2 != -1) {
                                                arrayList19.remove(indexOf2);
                                            }
                                            if (!arrayList19.contains(Long.valueOf(tLRPC$TL_updatePeerSettings.peer.user_id))) {
                                                arrayList19.add(Long.valueOf(-tLRPC$TL_updatePeerSettings.peer.user_id));
                                            }
                                        }
                                    }
                                    arrayList18 = arrayList21 == null ? new ArrayList() : arrayList21;
                                    arrayList18.add(tLRPC$Update);
                                } else if (tLRPC$Update instanceof TLRPC$TL_updateNewEncryptedMessage) {
                                    ArrayList<TLRPC$Message> decryptMessage = getSecretChatHelper().decryptMessage(((TLRPC$TL_updateNewEncryptedMessage) tLRPC$Update).message);
                                    if (decryptMessage == null || decryptMessage.isEmpty()) {
                                        longSparseArray18 = longSparseArray21;
                                        arrayList16 = arrayList19;
                                        longSparseArray17 = longSparseArray31;
                                        longSparseArray16 = longSparseArray5;
                                        arrayList17 = arrayList28;
                                        longSparseArray19 = longSparseArray6;
                                    } else {
                                        long makeEncryptedDialogId = DialogObject.makeEncryptedDialogId(tLRPC$TL_updateNewEncryptedMessage.message.chat_id);
                                        LongSparseArray longSparseArray36 = longSparseArray25 == null ? new LongSparseArray() : longSparseArray25;
                                        ArrayList arrayList41 = (ArrayList) longSparseArray36.get(makeEncryptedDialogId);
                                        if (arrayList41 == null) {
                                            arrayList41 = new ArrayList();
                                            longSparseArray36.put(makeEncryptedDialogId, arrayList41);
                                        }
                                        ArrayList arrayList42 = arrayList41;
                                        int size6 = decryptMessage.size();
                                        int i14 = 0;
                                        while (i14 < size6) {
                                            LongSparseArray longSparseArray37 = longSparseArray21;
                                            TLRPC$Message tLRPC$Message3 = decryptMessage.get(i14);
                                            ImageLoader.saveMessageThumbs(tLRPC$Message3);
                                            if (arrayList26 == null) {
                                                arrayList26 = new ArrayList<>();
                                            }
                                            ArrayList<TLRPC$Message> arrayList43 = decryptMessage;
                                            ArrayList<TLRPC$Message> arrayList44 = arrayList26;
                                            arrayList44.add(tLRPC$Message3);
                                            int i15 = i14;
                                            int i16 = size6;
                                            boolean contains3 = this.createdDialogIds.contains(Long.valueOf(makeEncryptedDialogId));
                                            LongSparseArray longSparseArray38 = longSparseArray36;
                                            LongSparseArray<SparseIntArray> longSparseArray39 = longSparseArray31;
                                            LongSparseArray<SparseIntArray> longSparseArray40 = longSparseArray6;
                                            ArrayList<Long> arrayList45 = arrayList19;
                                            long j27 = makeEncryptedDialogId;
                                            LongSparseArray longSparseArray41 = longSparseArray5;
                                            ArrayList arrayList46 = arrayList28;
                                            ArrayList arrayList47 = arrayList42;
                                            MessageObject messageObject3 = new MessageObject(this.currentAccount, tLRPC$Message3, concurrentHashMap, concurrentHashMap6, contains3, contains3);
                                            arrayList47.add(messageObject3);
                                            ArrayList arrayList48 = arrayList24 == null ? new ArrayList() : arrayList24;
                                            arrayList48.add(messageObject3);
                                            arrayList24 = arrayList48;
                                            i14 = i15 + 1;
                                            arrayList42 = arrayList47;
                                            size6 = i16;
                                            decryptMessage = arrayList43;
                                            longSparseArray6 = longSparseArray40;
                                            longSparseArray36 = longSparseArray38;
                                            arrayList26 = arrayList44;
                                            longSparseArray31 = longSparseArray39;
                                            arrayList19 = arrayList45;
                                            makeEncryptedDialogId = j27;
                                            longSparseArray5 = longSparseArray41;
                                            arrayList28 = arrayList46;
                                            longSparseArray21 = longSparseArray37;
                                        }
                                        longSparseArray18 = longSparseArray21;
                                        arrayList16 = arrayList19;
                                        longSparseArray17 = longSparseArray31;
                                        longSparseArray16 = longSparseArray5;
                                        arrayList17 = arrayList28;
                                        longSparseArray19 = longSparseArray6;
                                        longSparseArray25 = longSparseArray36;
                                    }
                                    arrayList20 = arrayList17;
                                    concurrentHashMap3 = concurrentHashMap;
                                    j = j15;
                                    longSparseArray23 = longSparseArray19;
                                    longSparseArray21 = longSparseArray18;
                                    longSparseArray22 = longSparseArray17;
                                    arrayList19 = arrayList16;
                                    longSparseArray24 = longSparseArray16;
                                    j2 = j14;
                                    i8 = i2 + 1;
                                    concurrentHashMap = concurrentHashMap3;
                                    size3 = i10;
                                    j14 = j2;
                                    j15 = j;
                                    longSparseArray26 = longSparseArray7;
                                } else {
                                    longSparseArray11 = longSparseArray21;
                                    arrayList5 = arrayList19;
                                    longSparseArray10 = longSparseArray31;
                                    longSparseArray8 = longSparseArray5;
                                    arrayList10 = arrayList28;
                                    longSparseArray12 = longSparseArray6;
                                    if (tLRPC$Update instanceof TLRPC$TL_updateEncryptedChatTyping) {
                                        TLRPC$EncryptedChat encryptedChatDB = getEncryptedChatDB(((TLRPC$TL_updateEncryptedChatTyping) tLRPC$Update).chat_id, true);
                                        if (encryptedChatDB != null) {
                                            long makeEncryptedDialogId2 = DialogObject.makeEncryptedDialogId(tLRPC$TL_updateEncryptedChatTyping.chat_id);
                                            ConcurrentHashMap<Integer, ArrayList<PrintingUser>> concurrentHashMap9 = this.printingUsers.get(Long.valueOf(makeEncryptedDialogId2));
                                            if (concurrentHashMap9 == null) {
                                                concurrentHashMap9 = new ConcurrentHashMap<>();
                                                this.printingUsers.put(Long.valueOf(makeEncryptedDialogId2), concurrentHashMap9);
                                            }
                                            ArrayList<PrintingUser> arrayList49 = concurrentHashMap9.get(0);
                                            if (arrayList49 == null) {
                                                arrayList49 = new ArrayList<>();
                                                concurrentHashMap9.put(0, arrayList49);
                                            }
                                            int size7 = arrayList49.size();
                                            int i17 = 0;
                                            while (true) {
                                                if (i17 >= size7) {
                                                    longSparseArray14 = longSparseArray25;
                                                    j9 = j15;
                                                    z6 = false;
                                                    break;
                                                }
                                                PrintingUser printingUser2 = arrayList49.get(i17);
                                                longSparseArray14 = longSparseArray25;
                                                if (printingUser2.userId == encryptedChatDB.user_id) {
                                                    j9 = j15;
                                                    printingUser2.lastTime = j9;
                                                    printingUser2.action = new TLRPC$TL_sendMessageTypingAction();
                                                    z6 = true;
                                                    break;
                                                }
                                                i17++;
                                                longSparseArray25 = longSparseArray14;
                                            }
                                            if (!z6) {
                                                PrintingUser printingUser3 = new PrintingUser();
                                                printingUser3.userId = encryptedChatDB.user_id;
                                                printingUser3.lastTime = j9;
                                                printingUser3.action = new TLRPC$TL_sendMessageTypingAction();
                                                arrayList49.add(printingUser3);
                                                z7 = true;
                                            }
                                            if (Math.abs(getConnectionsManager().getCurrentTime() - i) < 30) {
                                                this.onlinePrivacy.put(Long.valueOf(encryptedChatDB.user_id), Integer.valueOf(i));
                                            }
                                        } else {
                                            longSparseArray14 = longSparseArray25;
                                            j9 = j15;
                                        }
                                        arrayList20 = arrayList10;
                                    } else {
                                        longSparseArray14 = longSparseArray25;
                                        j9 = j15;
                                        if (tLRPC$Update instanceof TLRPC$TL_updateEncryptedMessagesRead) {
                                            TLRPC$TL_updateEncryptedMessagesRead tLRPC$TL_updateEncryptedMessagesRead = (TLRPC$TL_updateEncryptedMessagesRead) tLRPC$Update;
                                            SparseIntArray sparseIntArray3 = sparseIntArray2;
                                            if (sparseIntArray3 == null) {
                                                sparseIntArray3 = new SparseIntArray();
                                            }
                                            sparseIntArray3.put(tLRPC$TL_updateEncryptedMessagesRead.chat_id, tLRPC$TL_updateEncryptedMessagesRead.max_date);
                                            ArrayList arrayList50 = arrayList27;
                                            if (arrayList50 == null) {
                                                arrayList50 = new ArrayList();
                                            }
                                            arrayList50.add(tLRPC$TL_updateEncryptedMessagesRead);
                                            arrayList20 = arrayList10;
                                            arrayList27 = arrayList50;
                                            sparseIntArray2 = sparseIntArray3;
                                        } else {
                                            SparseIntArray sparseIntArray4 = sparseIntArray2;
                                            ArrayList arrayList51 = arrayList27;
                                            if (tLRPC$Update instanceof TLRPC$TL_updateChatParticipantAdd) {
                                                TLRPC$TL_updateChatParticipantAdd tLRPC$TL_updateChatParticipantAdd = (TLRPC$TL_updateChatParticipantAdd) tLRPC$Update;
                                                arrayList11 = arrayList51;
                                                sparseIntArray = sparseIntArray4;
                                                getMessagesStorage().updateChatInfo(tLRPC$TL_updateChatParticipantAdd.chat_id, tLRPC$TL_updateChatParticipantAdd.user_id, 0, tLRPC$TL_updateChatParticipantAdd.inviter_id, tLRPC$TL_updateChatParticipantAdd.version);
                                            } else {
                                                arrayList11 = arrayList51;
                                                sparseIntArray = sparseIntArray4;
                                                if (tLRPC$Update instanceof TLRPC$TL_updateChatParticipantDelete) {
                                                    TLRPC$TL_updateChatParticipantDelete tLRPC$TL_updateChatParticipantDelete = (TLRPC$TL_updateChatParticipantDelete) tLRPC$Update;
                                                    getMessagesStorage().updateChatInfo(tLRPC$TL_updateChatParticipantDelete.chat_id, tLRPC$TL_updateChatParticipantDelete.user_id, 1, 0L, tLRPC$TL_updateChatParticipantDelete.version);
                                                } else if ((tLRPC$Update instanceof TLRPC$TL_updateDcOptions) || (tLRPC$Update instanceof TLRPC$TL_updateConfig)) {
                                                    j6 = j9;
                                                    sparseIntArray2 = sparseIntArray;
                                                    arrayList4 = arrayList11;
                                                    longSparseArray13 = longSparseArray14;
                                                    j2 = j14;
                                                    longSparseIntArray2 = longSparseIntArray8;
                                                    longSparseArray9 = longSparseArray20;
                                                    concurrentHashMap3 = concurrentHashMap;
                                                    arrayList9 = arrayList24;
                                                    longSparseIntArray3 = longSparseIntArray7;
                                                    getConnectionsManager().updateDcSettings();
                                                    arrayList6 = arrayList10;
                                                    arrayList7 = arrayList9;
                                                    j3 = j6;
                                                    longSparseIntArray8 = longSparseIntArray2;
                                                    longSparseArray20 = longSparseArray9;
                                                    j = j3;
                                                    longSparseArray25 = longSparseArray13;
                                                    longSparseIntArray7 = longSparseIntArray3;
                                                    arrayList24 = arrayList7;
                                                    arrayList20 = arrayList6;
                                                    longSparseArray23 = longSparseArray12;
                                                    longSparseArray21 = longSparseArray11;
                                                    longSparseArray22 = longSparseArray10;
                                                    arrayList19 = arrayList5;
                                                } else if (tLRPC$Update instanceof TLRPC$TL_updateEncryption) {
                                                    getSecretChatHelper().processUpdateEncryption((TLRPC$TL_updateEncryption) tLRPC$Update, concurrentHashMap);
                                                } else if (tLRPC$Update instanceof TLRPC$TL_updatePeerBlocked) {
                                                    getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda180(this, (TLRPC$TL_updatePeerBlocked) tLRPC$Update));
                                                } else if (tLRPC$Update instanceof TLRPC$TL_updateNotifySettings) {
                                                    ArrayList arrayList52 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                    arrayList52.add(tLRPC$Update);
                                                    arrayList20 = arrayList10;
                                                    arrayList21 = arrayList52;
                                                    j = j9;
                                                    sparseIntArray2 = sparseIntArray;
                                                    arrayList27 = arrayList11;
                                                    longSparseArray25 = longSparseArray14;
                                                    longSparseArray23 = longSparseArray12;
                                                    longSparseArray21 = longSparseArray11;
                                                    longSparseArray22 = longSparseArray10;
                                                    arrayList19 = arrayList5;
                                                    longSparseArray24 = longSparseArray8;
                                                    j2 = j14;
                                                    concurrentHashMap3 = concurrentHashMap;
                                                    i8 = i2 + 1;
                                                    concurrentHashMap = concurrentHashMap3;
                                                    size3 = i10;
                                                    j14 = j2;
                                                    j15 = j;
                                                    longSparseArray26 = longSparseArray7;
                                                } else {
                                                    if (tLRPC$Update instanceof TLRPC$TL_updateServiceNotification) {
                                                        TLRPC$TL_updateServiceNotification tLRPC$TL_updateServiceNotification = (TLRPC$TL_updateServiceNotification) tLRPC$Update;
                                                        if (tLRPC$TL_updateServiceNotification.popup && (str = tLRPC$TL_updateServiceNotification.message) != null && str.length() > 0) {
                                                            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda182(this, tLRPC$TL_updateServiceNotification));
                                                        }
                                                        if ((tLRPC$TL_updateServiceNotification.flags & 2) != 0) {
                                                            TLRPC$TL_message tLRPC$TL_message = new TLRPC$TL_message();
                                                            int newMessageId = getUserConfig().getNewMessageId();
                                                            tLRPC$TL_message.id = newMessageId;
                                                            tLRPC$TL_message.local_id = newMessageId;
                                                            getUserConfig().saveConfig(false);
                                                            tLRPC$TL_message.unread = true;
                                                            tLRPC$TL_message.flags = 256;
                                                            int i18 = tLRPC$TL_updateServiceNotification.inbox_date;
                                                            if (i18 != 0) {
                                                                tLRPC$TL_message.date = i18;
                                                            } else {
                                                                tLRPC$TL_message.date = (int) (System.currentTimeMillis() / 1000);
                                                            }
                                                            TLRPC$TL_peerUser tLRPC$TL_peerUser = new TLRPC$TL_peerUser();
                                                            tLRPC$TL_message.from_id = tLRPC$TL_peerUser;
                                                            tLRPC$TL_peerUser.user_id = 777000L;
                                                            TLRPC$TL_peerUser tLRPC$TL_peerUser2 = new TLRPC$TL_peerUser();
                                                            tLRPC$TL_message.peer_id = tLRPC$TL_peerUser2;
                                                            tLRPC$TL_peerUser2.user_id = getUserConfig().getClientUserId();
                                                            tLRPC$TL_message.dialog_id = 777000L;
                                                            TLRPC$MessageMedia tLRPC$MessageMedia = tLRPC$TL_updateServiceNotification.media;
                                                            if (tLRPC$MessageMedia != null) {
                                                                tLRPC$TL_message.media = tLRPC$MessageMedia;
                                                                tLRPC$TL_message.flags |= 512;
                                                            }
                                                            tLRPC$TL_message.message = tLRPC$TL_updateServiceNotification.message;
                                                            ArrayList<TLRPC$MessageEntity> arrayList53 = tLRPC$TL_updateServiceNotification.entities;
                                                            if (arrayList53 != null) {
                                                                tLRPC$TL_message.entities = arrayList53;
                                                                tLRPC$TL_message.flags |= 128;
                                                            }
                                                            ArrayList<TLRPC$Message> arrayList54 = arrayList26 == null ? new ArrayList<>() : arrayList26;
                                                            arrayList54.add(tLRPC$TL_message);
                                                            boolean contains4 = this.createdDialogIds.contains(Long.valueOf(tLRPC$TL_message.dialog_id));
                                                            j10 = j9;
                                                            arrayList26 = arrayList54;
                                                            arrayList4 = arrayList11;
                                                            sparseIntArray2 = sparseIntArray;
                                                            concurrentHashMap4 = concurrentHashMap;
                                                            MessageObject messageObject4 = new MessageObject(this.currentAccount, tLRPC$TL_message, concurrentHashMap, concurrentHashMap6, contains4, contains4);
                                                            longSparseArray25 = longSparseArray14 == null ? new LongSparseArray() : longSparseArray14;
                                                            ArrayList arrayList55 = (ArrayList) longSparseArray25.get(tLRPC$TL_message.dialog_id);
                                                            if (arrayList55 == null) {
                                                                arrayList55 = new ArrayList();
                                                                longSparseArray25.put(tLRPC$TL_message.dialog_id, arrayList55);
                                                            }
                                                            arrayList55.add(messageObject4);
                                                            ArrayList arrayList56 = arrayList24;
                                                            if (arrayList56 == null) {
                                                                arrayList56 = new ArrayList();
                                                            }
                                                            arrayList56.add(messageObject4);
                                                            arrayList24 = arrayList56;
                                                        } else {
                                                            j10 = j9;
                                                            sparseIntArray2 = sparseIntArray;
                                                            arrayList4 = arrayList11;
                                                            concurrentHashMap4 = concurrentHashMap;
                                                            longSparseArray25 = longSparseArray14;
                                                        }
                                                        j2 = j14;
                                                        arrayList20 = arrayList10;
                                                    } else {
                                                        j10 = j9;
                                                        sparseIntArray2 = sparseIntArray;
                                                        arrayList4 = arrayList11;
                                                        longSparseArray13 = longSparseArray14;
                                                        concurrentHashMap4 = concurrentHashMap;
                                                        ArrayList arrayList57 = arrayList24;
                                                        if (tLRPC$Update instanceof TLRPC$TL_updateDialogPinned) {
                                                            arrayList15 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                            arrayList15.add(tLRPC$Update);
                                                        } else if (tLRPC$Update instanceof TLRPC$TL_updatePinnedDialogs) {
                                                            arrayList15 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                            arrayList15.add(tLRPC$Update);
                                                        } else {
                                                            if (tLRPC$Update instanceof TLRPC$TL_updateFolderPeers) {
                                                                TLRPC$TL_updateFolderPeers tLRPC$TL_updateFolderPeers = (TLRPC$TL_updateFolderPeers) tLRPC$Update;
                                                                if (arrayList10 == null) {
                                                                    arrayList10 = new ArrayList();
                                                                }
                                                                arrayList20 = arrayList10;
                                                                arrayList20.add(tLRPC$TL_updateFolderPeers);
                                                                j2 = j14;
                                                                arrayList24 = arrayList57;
                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updatePrivacy) {
                                                                arrayList15 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                arrayList15.add(tLRPC$Update);
                                                            } else {
                                                                if (tLRPC$Update instanceof TLRPC$TL_updateWebPage) {
                                                                    TLRPC$TL_updateWebPage tLRPC$TL_updateWebPage = (TLRPC$TL_updateWebPage) tLRPC$Update;
                                                                    longSparseArray15 = longSparseArray30;
                                                                    if (longSparseArray15 == null) {
                                                                        longSparseArray15 = new LongSparseArray<>();
                                                                    }
                                                                    TLRPC$WebPage tLRPC$WebPage = tLRPC$TL_updateWebPage.webpage;
                                                                    longSparseArray15.put(tLRPC$WebPage.id, tLRPC$WebPage);
                                                                } else {
                                                                    longSparseArray15 = longSparseArray30;
                                                                    if (tLRPC$Update instanceof TLRPC$TL_updateChannelWebPage) {
                                                                        TLRPC$TL_updateChannelWebPage tLRPC$TL_updateChannelWebPage = (TLRPC$TL_updateChannelWebPage) tLRPC$Update;
                                                                        if (longSparseArray15 == null) {
                                                                            longSparseArray15 = new LongSparseArray<>();
                                                                        }
                                                                        TLRPC$WebPage tLRPC$WebPage2 = tLRPC$TL_updateChannelWebPage.webpage;
                                                                        longSparseArray15.put(tLRPC$WebPage2.id, tLRPC$WebPage2);
                                                                    } else {
                                                                        if (tLRPC$Update instanceof TLRPC$TL_updateChannelTooLong) {
                                                                            TLRPC$TL_updateChannelTooLong tLRPC$TL_updateChannelTooLong = (TLRPC$TL_updateChannelTooLong) tLRPC$Update;
                                                                            if (BuildVars.LOGS_ENABLED) {
                                                                                FileLog.d(tLRPC$Update + " channelId = " + tLRPC$TL_updateChannelTooLong.channel_id);
                                                                            }
                                                                            int i19 = this.channelsPts.get(tLRPC$TL_updateChannelTooLong.channel_id, 0);
                                                                            if (i19 == 0) {
                                                                                i19 = getMessagesStorage().getChannelPtsSync(tLRPC$TL_updateChannelTooLong.channel_id);
                                                                                if (i19 == 0) {
                                                                                    TLRPC$Chat tLRPC$Chat3 = concurrentHashMap6.get(Long.valueOf(tLRPC$TL_updateChannelTooLong.channel_id));
                                                                                    if (tLRPC$Chat3 == null || tLRPC$Chat3.min) {
                                                                                        tLRPC$Chat3 = getChat(Long.valueOf(tLRPC$TL_updateChannelTooLong.channel_id));
                                                                                    }
                                                                                    if (tLRPC$Chat3 == null || tLRPC$Chat3.min) {
                                                                                        tLRPC$Chat3 = getMessagesStorage().getChatSync(tLRPC$TL_updateChannelTooLong.channel_id);
                                                                                        putChat(tLRPC$Chat3, true);
                                                                                    }
                                                                                    if (tLRPC$Chat3 != null && !tLRPC$Chat3.min) {
                                                                                        loadUnknownChannel(tLRPC$Chat3, 0L);
                                                                                    }
                                                                                } else {
                                                                                    this.channelsPts.put(tLRPC$TL_updateChannelTooLong.channel_id, i19);
                                                                                }
                                                                            }
                                                                            if (i19 != 0) {
                                                                                if ((tLRPC$TL_updateChannelTooLong.flags & 1) != 0) {
                                                                                    if (tLRPC$TL_updateChannelTooLong.pts > i19) {
                                                                                        getChannelDifference(tLRPC$TL_updateChannelTooLong.channel_id);
                                                                                    }
                                                                                } else {
                                                                                    getChannelDifference(tLRPC$TL_updateChannelTooLong.channel_id);
                                                                                }
                                                                            }
                                                                        } else if (tLRPC$Update instanceof TLRPC$TL_updateReadChannelInbox) {
                                                                            TLRPC$TL_updateReadChannelInbox tLRPC$TL_updateReadChannelInbox = (TLRPC$TL_updateReadChannelInbox) tLRPC$Update;
                                                                            if (longSparseIntArray7 == null) {
                                                                                longSparseIntArray7 = new LongSparseIntArray();
                                                                            }
                                                                            long j28 = -tLRPC$TL_updateReadChannelInbox.channel_id;
                                                                            longSparseIntArray7.put(j28, tLRPC$TL_updateReadChannelInbox.max_id);
                                                                            Integer num4 = this.dialogs_read_inbox_max.get(Long.valueOf(j28));
                                                                            if (num4 == null) {
                                                                                num4 = Integer.valueOf(getMessagesStorage().getDialogReadMax(false, j28));
                                                                            }
                                                                            this.dialogs_read_inbox_max.put(Long.valueOf(j28), Integer.valueOf(Math.max(num4.intValue(), tLRPC$TL_updateReadChannelInbox.max_id)));
                                                                        } else if (tLRPC$Update instanceof TLRPC$TL_updateReadChannelOutbox) {
                                                                            TLRPC$TL_updateReadChannelOutbox tLRPC$TL_updateReadChannelOutbox = (TLRPC$TL_updateReadChannelOutbox) tLRPC$Update;
                                                                            if (BuildVars.LOGS_ENABLED) {
                                                                                FileLog.d(tLRPC$Update + " channelId = " + tLRPC$TL_updateReadChannelOutbox.channel_id);
                                                                            }
                                                                            if (longSparseIntArray8 == null) {
                                                                                longSparseIntArray8 = new LongSparseIntArray();
                                                                            }
                                                                            long j29 = -tLRPC$TL_updateReadChannelOutbox.channel_id;
                                                                            longSparseIntArray8.put(j29, tLRPC$TL_updateReadChannelOutbox.max_id);
                                                                            Integer num5 = this.dialogs_read_outbox_max.get(Long.valueOf(j29));
                                                                            if (num5 == null) {
                                                                                num5 = Integer.valueOf(getMessagesStorage().getDialogReadMax(true, j29));
                                                                            }
                                                                            this.dialogs_read_outbox_max.put(Long.valueOf(j29), Integer.valueOf(Math.max(num5.intValue(), tLRPC$TL_updateReadChannelOutbox.max_id)));
                                                                        } else if (tLRPC$Update instanceof TLRPC$TL_updateDeleteChannelMessages) {
                                                                            TLRPC$TL_updateDeleteChannelMessages tLRPC$TL_updateDeleteChannelMessages = (TLRPC$TL_updateDeleteChannelMessages) tLRPC$Update;
                                                                            if (BuildVars.LOGS_ENABLED) {
                                                                                FileLog.d(tLRPC$Update + " channelId = " + tLRPC$TL_updateDeleteChannelMessages.channel_id);
                                                                            }
                                                                            if (longSparseArray20 == null) {
                                                                                longSparseArray20 = new LongSparseArray();
                                                                            }
                                                                            long j30 = -tLRPC$TL_updateDeleteChannelMessages.channel_id;
                                                                            ArrayList arrayList58 = (ArrayList) longSparseArray20.get(j30);
                                                                            if (arrayList58 == null) {
                                                                                arrayList58 = new ArrayList();
                                                                                longSparseArray20.put(j30, arrayList58);
                                                                            }
                                                                            arrayList58.addAll(tLRPC$TL_updateDeleteChannelMessages.messages);
                                                                        } else {
                                                                            if (tLRPC$Update instanceof TLRPC$TL_updateChannel) {
                                                                                if (BuildVars.LOGS_ENABLED) {
                                                                                    FileLog.d(tLRPC$Update + " channelId = " + ((TLRPC$TL_updateChannel) tLRPC$Update).channel_id);
                                                                                }
                                                                                arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                arrayList12.add(tLRPC$Update);
                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateChat) {
                                                                                arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                arrayList12.add(tLRPC$Update);
                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateChannelMessageViews) {
                                                                                TLRPC$TL_updateChannelMessageViews tLRPC$TL_updateChannelMessageViews = (TLRPC$TL_updateChannelMessageViews) tLRPC$Update;
                                                                                if (BuildVars.LOGS_ENABLED) {
                                                                                    FileLog.d(tLRPC$Update + " channelId = " + tLRPC$TL_updateChannelMessageViews.channel_id);
                                                                                }
                                                                                LongSparseArray<SparseIntArray> longSparseArray42 = longSparseArray12 == null ? new LongSparseArray<>() : longSparseArray12;
                                                                                long j31 = -tLRPC$TL_updateChannelMessageViews.channel_id;
                                                                                SparseIntArray sparseIntArray5 = longSparseArray42.get(j31);
                                                                                if (sparseIntArray5 == null) {
                                                                                    sparseIntArray5 = new SparseIntArray();
                                                                                    longSparseArray42.put(j31, sparseIntArray5);
                                                                                }
                                                                                sparseIntArray5.put(tLRPC$TL_updateChannelMessageViews.id, tLRPC$TL_updateChannelMessageViews.views);
                                                                                j2 = j14;
                                                                                arrayList20 = arrayList10;
                                                                                arrayList24 = arrayList57;
                                                                                longSparseArray23 = longSparseArray42;
                                                                                longSparseArray30 = longSparseArray15;
                                                                                longSparseArray25 = longSparseArray13;
                                                                                concurrentHashMap3 = concurrentHashMap4;
                                                                                longSparseArray21 = longSparseArray11;
                                                                                longSparseArray22 = longSparseArray10;
                                                                                arrayList19 = arrayList5;
                                                                                j = j10;
                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateChannelMessageForwards) {
                                                                                TLRPC$TL_updateChannelMessageForwards tLRPC$TL_updateChannelMessageForwards = (TLRPC$TL_updateChannelMessageForwards) tLRPC$Update;
                                                                                if (BuildVars.LOGS_ENABLED) {
                                                                                    FileLog.d(tLRPC$Update + " channelId = " + tLRPC$TL_updateChannelMessageForwards.channel_id);
                                                                                }
                                                                                longSparseArray22 = longSparseArray10 == null ? new LongSparseArray<>() : longSparseArray10;
                                                                                long j32 = -tLRPC$TL_updateChannelMessageForwards.channel_id;
                                                                                SparseIntArray sparseIntArray6 = longSparseArray22.get(j32);
                                                                                if (sparseIntArray6 == null) {
                                                                                    sparseIntArray6 = new SparseIntArray();
                                                                                    longSparseArray22.put(j32, sparseIntArray6);
                                                                                }
                                                                                sparseIntArray6.put(tLRPC$TL_updateChannelMessageForwards.id, tLRPC$TL_updateChannelMessageForwards.forwards);
                                                                                j2 = j14;
                                                                                arrayList20 = arrayList10;
                                                                                arrayList24 = arrayList57;
                                                                                longSparseArray30 = longSparseArray15;
                                                                                longSparseArray25 = longSparseArray13;
                                                                                concurrentHashMap3 = concurrentHashMap4;
                                                                                longSparseArray23 = longSparseArray12;
                                                                                longSparseArray21 = longSparseArray11;
                                                                                arrayList19 = arrayList5;
                                                                                j = j10;
                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateChatParticipantAdmin) {
                                                                                TLRPC$TL_updateChatParticipantAdmin tLRPC$TL_updateChatParticipantAdmin = (TLRPC$TL_updateChatParticipantAdmin) tLRPC$Update;
                                                                                getMessagesStorage().updateChatInfo(tLRPC$TL_updateChatParticipantAdmin.chat_id, tLRPC$TL_updateChatParticipantAdmin.user_id, 2, tLRPC$TL_updateChatParticipantAdmin.is_admin ? 1L : 0L, tLRPC$TL_updateChatParticipantAdmin.version);
                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateChatDefaultBannedRights) {
                                                                                TLRPC$TL_updateChatDefaultBannedRights tLRPC$TL_updateChatDefaultBannedRights = (TLRPC$TL_updateChatDefaultBannedRights) tLRPC$Update;
                                                                                TLRPC$Peer tLRPC$Peer12 = tLRPC$TL_updateChatDefaultBannedRights.peer;
                                                                                long j33 = tLRPC$Peer12.channel_id;
                                                                                if (j33 == 0) {
                                                                                    j33 = tLRPC$Peer12.chat_id;
                                                                                }
                                                                                getMessagesStorage().updateChatDefaultBannedRights(j33, tLRPC$TL_updateChatDefaultBannedRights.default_banned_rights, tLRPC$TL_updateChatDefaultBannedRights.version);
                                                                                arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                arrayList12.add(tLRPC$Update);
                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateStickerSets) {
                                                                                arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                arrayList12.add(tLRPC$Update);
                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateStickerSetsOrder) {
                                                                                arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                arrayList12.add(tLRPC$Update);
                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateNewStickerSet) {
                                                                                arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                arrayList12.add(tLRPC$Update);
                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateDraftMessage) {
                                                                                arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                arrayList12.add(tLRPC$Update);
                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateSavedGifs) {
                                                                                arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                arrayList12.add(tLRPC$Update);
                                                                            } else {
                                                                                boolean z10 = tLRPC$Update instanceof TLRPC$TL_updateEditChannelMessage;
                                                                                if (z10 || (tLRPC$Update instanceof TLRPC$TL_updateEditMessage)) {
                                                                                    LongSparseIntArray longSparseIntArray13 = longSparseIntArray7;
                                                                                    LongSparseIntArray longSparseIntArray14 = longSparseIntArray10;
                                                                                    if (z10) {
                                                                                        tLRPC$Message2 = ((TLRPC$TL_updateEditChannelMessage) tLRPC$Update).message;
                                                                                        TLRPC$Chat tLRPC$Chat4 = concurrentHashMap6.get(Long.valueOf(tLRPC$Message2.peer_id.channel_id));
                                                                                        if (tLRPC$Chat4 == null) {
                                                                                            tLRPC$Chat4 = getChat(Long.valueOf(tLRPC$Message2.peer_id.channel_id));
                                                                                        }
                                                                                        if (tLRPC$Chat4 == null) {
                                                                                            putChat(getMessagesStorage().getChatSync(tLRPC$Message2.peer_id.channel_id), true);
                                                                                        }
                                                                                        j2 = j14;
                                                                                    } else {
                                                                                        tLRPC$Message2 = ((TLRPC$TL_updateEditMessage) tLRPC$Update).message;
                                                                                        j2 = j14;
                                                                                        if (tLRPC$Message2.dialog_id == j2) {
                                                                                            tLRPC$Message2.unread = false;
                                                                                            tLRPC$Message2.media_unread = false;
                                                                                            tLRPC$Message2.out = true;
                                                                                        }
                                                                                    }
                                                                                    if (!tLRPC$Message2.out) {
                                                                                        TLRPC$Peer tLRPC$Peer13 = tLRPC$Message2.from_id;
                                                                                        if ((tLRPC$Peer13 instanceof TLRPC$TL_peerUser) && tLRPC$Peer13.user_id == j2) {
                                                                                            tLRPC$Message2.out = true;
                                                                                        }
                                                                                    }
                                                                                    if (!z) {
                                                                                        int size8 = tLRPC$Message2.entities.size();
                                                                                        int i20 = 0;
                                                                                        while (i20 < size8) {
                                                                                            TLRPC$MessageEntity tLRPC$MessageEntity2 = tLRPC$Message2.entities.get(i20);
                                                                                            if (tLRPC$MessageEntity2 instanceof TLRPC$TL_messageEntityMentionName) {
                                                                                                long j34 = ((TLRPC$TL_messageEntityMentionName) tLRPC$MessageEntity2).user_id;
                                                                                                concurrentHashMap5 = concurrentHashMap4;
                                                                                                TLRPC$User tLRPC$User5 = concurrentHashMap5.get(Long.valueOf(j34));
                                                                                                longSparseIntArray4 = longSparseIntArray8;
                                                                                                if (tLRPC$User5 == null || tLRPC$User5.min) {
                                                                                                    tLRPC$User5 = getUser(Long.valueOf(j34));
                                                                                                }
                                                                                                if (tLRPC$User5 == null || tLRPC$User5.min) {
                                                                                                    TLRPC$User userSync2 = getMessagesStorage().getUserSync(j34);
                                                                                                    tLRPC$User5 = (userSync2 == null || !userSync2.min) ? userSync2 : null;
                                                                                                    putUser(tLRPC$User5, true);
                                                                                                }
                                                                                                if (tLRPC$User5 == null) {
                                                                                                    return false;
                                                                                                }
                                                                                            } else {
                                                                                                longSparseIntArray4 = longSparseIntArray8;
                                                                                                concurrentHashMap5 = concurrentHashMap4;
                                                                                            }
                                                                                            i20++;
                                                                                            longSparseIntArray8 = longSparseIntArray4;
                                                                                            concurrentHashMap4 = concurrentHashMap5;
                                                                                        }
                                                                                    }
                                                                                    LongSparseIntArray longSparseIntArray15 = longSparseIntArray8;
                                                                                    ConcurrentHashMap<Long, TLRPC$User> concurrentHashMap10 = concurrentHashMap4;
                                                                                    MessageObject.getDialogId(tLRPC$Message2);
                                                                                    ConcurrentHashMap<Long, Integer> concurrentHashMap11 = tLRPC$Message2.out ? this.dialogs_read_outbox_max : this.dialogs_read_inbox_max;
                                                                                    Integer num6 = concurrentHashMap11.get(Long.valueOf(tLRPC$Message2.dialog_id));
                                                                                    if (num6 == null) {
                                                                                        num6 = Integer.valueOf(getMessagesStorage().getDialogReadMax(tLRPC$Message2.out, tLRPC$Message2.dialog_id));
                                                                                        concurrentHashMap11.put(Long.valueOf(tLRPC$Message2.dialog_id), num6);
                                                                                    }
                                                                                    tLRPC$Message2.unread = num6.intValue() < tLRPC$Message2.id;
                                                                                    if (tLRPC$Message2.dialog_id == j2) {
                                                                                        tLRPC$Message2.out = true;
                                                                                        tLRPC$Message2.unread = false;
                                                                                        tLRPC$Message2.media_unread = false;
                                                                                    }
                                                                                    if (tLRPC$Message2.out && tLRPC$Message2.message == null) {
                                                                                        tLRPC$Message2.message = "";
                                                                                        tLRPC$Message2.attachPath = "";
                                                                                    }
                                                                                    ImageLoader.saveMessageThumbs(tLRPC$Message2);
                                                                                    boolean contains5 = this.createdDialogIds.contains(Long.valueOf(tLRPC$Message2.dialog_id));
                                                                                    LongSparseArray longSparseArray43 = longSparseArray20;
                                                                                    longSparseArray30 = longSparseArray15;
                                                                                    concurrentHashMap3 = concurrentHashMap10;
                                                                                    longSparseIntArray10 = longSparseIntArray14;
                                                                                    MessageObject messageObject5 = new MessageObject(this.currentAccount, tLRPC$Message2, concurrentHashMap10, concurrentHashMap6, contains5, contains5);
                                                                                    longSparseArray24 = longSparseArray8 == null ? new LongSparseArray() : longSparseArray8;
                                                                                    ArrayList arrayList59 = (ArrayList) longSparseArray24.get(tLRPC$Message2.dialog_id);
                                                                                    if (arrayList59 == null) {
                                                                                        arrayList59 = new ArrayList();
                                                                                        longSparseArray24.put(tLRPC$Message2.dialog_id, arrayList59);
                                                                                    }
                                                                                    arrayList59.add(messageObject5);
                                                                                    longSparseIntArray8 = longSparseIntArray15;
                                                                                    longSparseArray20 = longSparseArray43;
                                                                                    arrayList20 = arrayList10;
                                                                                    longSparseArray25 = longSparseArray13;
                                                                                    longSparseIntArray7 = longSparseIntArray13;
                                                                                    longSparseArray23 = longSparseArray12;
                                                                                    longSparseArray21 = longSparseArray11;
                                                                                    longSparseArray22 = longSparseArray10;
                                                                                    arrayList19 = arrayList5;
                                                                                    j = j10;
                                                                                } else if (tLRPC$Update instanceof TLRPC$TL_updatePinnedChannelMessages) {
                                                                                    TLRPC$TL_updatePinnedChannelMessages tLRPC$TL_updatePinnedChannelMessages = (TLRPC$TL_updatePinnedChannelMessages) tLRPC$Update;
                                                                                    if (BuildVars.LOGS_ENABLED) {
                                                                                        FileLog.d(tLRPC$Update + " channelId = " + tLRPC$TL_updatePinnedChannelMessages.channel_id);
                                                                                    }
                                                                                    getMessagesStorage().updatePinnedMessages(-tLRPC$TL_updatePinnedChannelMessages.channel_id, tLRPC$TL_updatePinnedChannelMessages.messages, tLRPC$TL_updatePinnedChannelMessages.pinned, -1, 0, false, null);
                                                                                } else if (tLRPC$Update instanceof TLRPC$TL_updatePinnedMessages) {
                                                                                    TLRPC$TL_updatePinnedMessages tLRPC$TL_updatePinnedMessages = (TLRPC$TL_updatePinnedMessages) tLRPC$Update;
                                                                                    getMessagesStorage().updatePinnedMessages(MessageObject.getPeerId(tLRPC$TL_updatePinnedMessages.peer), tLRPC$TL_updatePinnedMessages.messages, tLRPC$TL_updatePinnedMessages.pinned, -1, 0, false, null);
                                                                                } else if (tLRPC$Update instanceof TLRPC$TL_updateReadFeaturedStickers) {
                                                                                    arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                    arrayList12.add(tLRPC$Update);
                                                                                } else if (tLRPC$Update instanceof TLRPC$TL_updateReadFeaturedEmojiStickers) {
                                                                                    arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                    arrayList12.add(tLRPC$Update);
                                                                                } else if (tLRPC$Update instanceof TLRPC$TL_updatePhoneCall) {
                                                                                    arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                    arrayList12.add(tLRPC$Update);
                                                                                } else if (tLRPC$Update instanceof TLRPC$TL_updateGroupCallParticipants) {
                                                                                    arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                    arrayList12.add(tLRPC$Update);
                                                                                } else if (tLRPC$Update instanceof TLRPC$TL_updateGroupCall) {
                                                                                    arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                    arrayList12.add(tLRPC$Update);
                                                                                } else if (!(tLRPC$Update instanceof TLRPC$TL_updateGroupCallConnection)) {
                                                                                    if (tLRPC$Update instanceof TLRPC$TL_updateBotCommands) {
                                                                                        arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                        arrayList12.add(tLRPC$Update);
                                                                                    } else if (tLRPC$Update instanceof TLRPC$TL_updatePhoneCallSignalingData) {
                                                                                        arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                        arrayList12.add(tLRPC$Update);
                                                                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateLangPack) {
                                                                                        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda179(this, (TLRPC$TL_updateLangPack) tLRPC$Update));
                                                                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateLangPackTooLong) {
                                                                                        LocaleController.getInstance().reloadCurrentRemoteLocale(this.currentAccount, ((TLRPC$TL_updateLangPackTooLong) tLRPC$Update).lang_code, false);
                                                                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateFavedStickers) {
                                                                                        arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                        arrayList12.add(tLRPC$Update);
                                                                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateContactsReset) {
                                                                                        arrayList12 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                        arrayList12.add(tLRPC$Update);
                                                                                    } else {
                                                                                        if (tLRPC$Update instanceof TLRPC$TL_updateChannelAvailableMessages) {
                                                                                            TLRPC$TL_updateChannelAvailableMessages tLRPC$TL_updateChannelAvailableMessages = (TLRPC$TL_updateChannelAvailableMessages) tLRPC$Update;
                                                                                            longSparseIntArray5 = longSparseIntArray10;
                                                                                            if (longSparseIntArray5 == null) {
                                                                                                longSparseIntArray5 = new LongSparseIntArray();
                                                                                            }
                                                                                            long j35 = -tLRPC$TL_updateChannelAvailableMessages.channel_id;
                                                                                            int i21 = longSparseIntArray5.get(j35, 0);
                                                                                            if (i21 == 0 || i21 < tLRPC$TL_updateChannelAvailableMessages.available_min_id) {
                                                                                                longSparseIntArray5.put(j35, tLRPC$TL_updateChannelAvailableMessages.available_min_id);
                                                                                            }
                                                                                            j2 = j14;
                                                                                            arrayList20 = arrayList10;
                                                                                            arrayList24 = arrayList57;
                                                                                        } else {
                                                                                            longSparseIntArray5 = longSparseIntArray10;
                                                                                            if (tLRPC$Update instanceof TLRPC$TL_updateDialogUnreadMark) {
                                                                                                arrayList14 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                arrayList14.add(tLRPC$Update);
                                                                                            } else {
                                                                                                if (tLRPC$Update instanceof TLRPC$TL_updateMessagePoll) {
                                                                                                    TLRPC$TL_updateMessagePoll tLRPC$TL_updateMessagePoll = (TLRPC$TL_updateMessagePoll) tLRPC$Update;
                                                                                                    if (Math.abs(SystemClock.elapsedRealtime() - getSendMessagesHelper().getVoteSendTime(tLRPC$TL_updateMessagePoll.poll_id)) < 600) {
                                                                                                        j2 = j14;
                                                                                                        longSparseIntArray3 = longSparseIntArray7;
                                                                                                    } else {
                                                                                                        getMessagesStorage().updateMessagePollResults(tLRPC$TL_updateMessagePoll.poll_id, tLRPC$TL_updateMessagePoll.poll, tLRPC$TL_updateMessagePoll.results);
                                                                                                        arrayList14 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                        arrayList14.add(tLRPC$Update);
                                                                                                    }
                                                                                                } else {
                                                                                                    if (tLRPC$Update instanceof TLRPC$TL_updateMessageReactions) {
                                                                                                        TLRPC$TL_updateMessageReactions tLRPC$TL_updateMessageReactions = (TLRPC$TL_updateMessageReactions) tLRPC$Update;
                                                                                                        long peerId2 = MessageObject.getPeerId(tLRPC$TL_updateMessageReactions.peer);
                                                                                                        longSparseIntArray3 = longSparseIntArray7;
                                                                                                        getMessagesStorage().updateMessageReactions(peerId2, tLRPC$TL_updateMessageReactions.msg_id, tLRPC$TL_updateMessageReactions.reactions);
                                                                                                        if (tLRPC$TL_updateMessageReactions.updateUnreadState) {
                                                                                                            SparseBooleanArray sparseBooleanArray = new SparseBooleanArray();
                                                                                                            sparseBooleanArray.put(tLRPC$TL_updateMessageReactions.msg_id, MessageObject.hasUnreadReactions(tLRPC$TL_updateMessageReactions.reactions));
                                                                                                            checkUnreadReactions(peerId2, sparseBooleanArray);
                                                                                                        }
                                                                                                        arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                        arrayList13.add(tLRPC$Update);
                                                                                                    } else {
                                                                                                        longSparseIntArray3 = longSparseIntArray7;
                                                                                                        if (tLRPC$Update instanceof TLRPC$TL_updatePeerLocated) {
                                                                                                            arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                            arrayList13.add(tLRPC$Update);
                                                                                                        } else if (tLRPC$Update instanceof TLRPC$TL_updateTheme) {
                                                                                                            arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                            arrayList13.add(tLRPC$Update);
                                                                                                        } else {
                                                                                                            if (tLRPC$Update instanceof TLRPC$TL_updateGeoLiveViewed) {
                                                                                                                getLocationController().setNewLocationEndWatchTime();
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateDialogFilter) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateDialogFilterOrder) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateDialogFilters) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateWebViewResultSent) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateAttachMenuBots) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateBotMenuButton) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateReadChannelDiscussionInbox) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateReadChannelDiscussionOutbox) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updatePeerHistoryTTL) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updatePendingJoinRequests) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateSavedRingtones) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateTranscribeAudio) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            } else if (tLRPC$Update instanceof TLRPC$TL_updateTranscribedAudio) {
                                                                                                                arrayList13 = arrayList21 == null ? new ArrayList() : arrayList21;
                                                                                                                arrayList13.add(tLRPC$Update);
                                                                                                            }
                                                                                                            j2 = j14;
                                                                                                        }
                                                                                                    }
                                                                                                    j2 = j14;
                                                                                                    arrayList21 = arrayList13;
                                                                                                    arrayList20 = arrayList10;
                                                                                                    longSparseIntArray10 = longSparseIntArray5;
                                                                                                    longSparseArray30 = longSparseArray15;
                                                                                                    longSparseArray25 = longSparseArray13;
                                                                                                    longSparseIntArray7 = longSparseIntArray3;
                                                                                                    concurrentHashMap3 = concurrentHashMap4;
                                                                                                    longSparseArray23 = longSparseArray12;
                                                                                                    longSparseArray21 = longSparseArray11;
                                                                                                    longSparseArray22 = longSparseArray10;
                                                                                                    arrayList19 = arrayList5;
                                                                                                    j = j10;
                                                                                                    longSparseArray24 = longSparseArray8;
                                                                                                }
                                                                                                longSparseIntArray2 = longSparseIntArray8;
                                                                                                longSparseArray9 = longSparseArray20;
                                                                                                arrayList6 = arrayList10;
                                                                                                longSparseIntArray10 = longSparseIntArray5;
                                                                                                longSparseArray30 = longSparseArray15;
                                                                                                concurrentHashMap3 = concurrentHashMap4;
                                                                                                j3 = j10;
                                                                                                arrayList7 = arrayList57;
                                                                                                longSparseIntArray8 = longSparseIntArray2;
                                                                                                longSparseArray20 = longSparseArray9;
                                                                                                j = j3;
                                                                                                longSparseArray25 = longSparseArray13;
                                                                                                longSparseIntArray7 = longSparseIntArray3;
                                                                                                arrayList24 = arrayList7;
                                                                                                arrayList20 = arrayList6;
                                                                                                longSparseArray23 = longSparseArray12;
                                                                                                longSparseArray21 = longSparseArray11;
                                                                                                longSparseArray22 = longSparseArray10;
                                                                                                arrayList19 = arrayList5;
                                                                                            }
                                                                                            j2 = j14;
                                                                                            arrayList20 = arrayList10;
                                                                                            arrayList24 = arrayList57;
                                                                                            arrayList21 = arrayList14;
                                                                                        }
                                                                                        longSparseIntArray10 = longSparseIntArray5;
                                                                                        longSparseArray30 = longSparseArray15;
                                                                                    }
                                                                                }
                                                                                arrayList27 = arrayList4;
                                                                                arrayList24 = arrayList57;
                                                                                i8 = i2 + 1;
                                                                                concurrentHashMap = concurrentHashMap3;
                                                                                size3 = i10;
                                                                                j14 = j2;
                                                                                j15 = j;
                                                                                longSparseArray26 = longSparseArray7;
                                                                            }
                                                                            j2 = j14;
                                                                            arrayList20 = arrayList10;
                                                                            arrayList24 = arrayList57;
                                                                            arrayList21 = arrayList12;
                                                                            longSparseArray30 = longSparseArray15;
                                                                        }
                                                                        j2 = j14;
                                                                        longSparseIntArray3 = longSparseIntArray7;
                                                                        longSparseIntArray2 = longSparseIntArray8;
                                                                        longSparseArray9 = longSparseArray20;
                                                                        arrayList6 = arrayList10;
                                                                        longSparseArray30 = longSparseArray15;
                                                                        concurrentHashMap3 = concurrentHashMap4;
                                                                        j3 = j10;
                                                                        arrayList7 = arrayList57;
                                                                        longSparseIntArray8 = longSparseIntArray2;
                                                                        longSparseArray20 = longSparseArray9;
                                                                        j = j3;
                                                                        longSparseArray25 = longSparseArray13;
                                                                        longSparseIntArray7 = longSparseIntArray3;
                                                                        arrayList24 = arrayList7;
                                                                        arrayList20 = arrayList6;
                                                                        longSparseArray23 = longSparseArray12;
                                                                        longSparseArray21 = longSparseArray11;
                                                                        longSparseArray22 = longSparseArray10;
                                                                        arrayList19 = arrayList5;
                                                                    }
                                                                }
                                                                j2 = j14;
                                                                arrayList20 = arrayList10;
                                                                arrayList24 = arrayList57;
                                                                longSparseArray30 = longSparseArray15;
                                                            }
                                                            longSparseArray25 = longSparseArray13;
                                                        }
                                                        j2 = j14;
                                                        arrayList20 = arrayList10;
                                                        arrayList24 = arrayList57;
                                                        arrayList21 = arrayList15;
                                                        longSparseArray25 = longSparseArray13;
                                                    }
                                                    concurrentHashMap3 = concurrentHashMap4;
                                                    longSparseArray23 = longSparseArray12;
                                                    longSparseArray21 = longSparseArray11;
                                                    longSparseArray22 = longSparseArray10;
                                                    arrayList19 = arrayList5;
                                                    j = j10;
                                                }
                                            }
                                            arrayList6 = arrayList10;
                                            j3 = j9;
                                            sparseIntArray2 = sparseIntArray;
                                            arrayList4 = arrayList11;
                                            longSparseArray13 = longSparseArray14;
                                            j2 = j14;
                                            longSparseIntArray2 = longSparseIntArray8;
                                            longSparseArray9 = longSparseArray20;
                                            concurrentHashMap3 = concurrentHashMap;
                                            arrayList7 = arrayList24;
                                            longSparseIntArray3 = longSparseIntArray7;
                                            longSparseIntArray8 = longSparseIntArray2;
                                            longSparseArray20 = longSparseArray9;
                                            j = j3;
                                            longSparseArray25 = longSparseArray13;
                                            longSparseIntArray7 = longSparseIntArray3;
                                            arrayList24 = arrayList7;
                                            arrayList20 = arrayList6;
                                            longSparseArray23 = longSparseArray12;
                                            longSparseArray21 = longSparseArray11;
                                            longSparseArray22 = longSparseArray10;
                                            arrayList19 = arrayList5;
                                        }
                                    }
                                    j = j9;
                                    longSparseArray25 = longSparseArray14;
                                    longSparseArray23 = longSparseArray12;
                                    longSparseArray21 = longSparseArray11;
                                    longSparseArray22 = longSparseArray10;
                                    arrayList19 = arrayList5;
                                    longSparseArray24 = longSparseArray8;
                                    j2 = j14;
                                    concurrentHashMap3 = concurrentHashMap;
                                    i8 = i2 + 1;
                                    concurrentHashMap = concurrentHashMap3;
                                    size3 = i10;
                                    j14 = j2;
                                    j15 = j;
                                    longSparseArray26 = longSparseArray7;
                                }
                                concurrentHashMap3 = concurrentHashMap;
                                arrayList21 = arrayList18;
                            }
                        }
                        longSparseArray23 = longSparseArray6;
                        longSparseArray22 = longSparseArray31;
                        longSparseArray24 = longSparseArray5;
                        arrayList20 = arrayList28;
                        j = j15;
                        j2 = j14;
                        i8 = i2 + 1;
                        concurrentHashMap = concurrentHashMap3;
                        size3 = i10;
                        j14 = j2;
                        j15 = j;
                        longSparseArray26 = longSparseArray7;
                    }
                    arrayList20 = arrayList28;
                    concurrentHashMap3 = concurrentHashMap;
                    j = j15;
                    j2 = j14;
                    i8 = i2 + 1;
                    concurrentHashMap = concurrentHashMap3;
                    size3 = i10;
                    j14 = j2;
                    j15 = j;
                    longSparseArray26 = longSparseArray7;
                }
                longSparseArray7 = longSparseArray26;
                i2 = i8;
                longSparseArray23 = longSparseArray6;
                longSparseArray22 = longSparseArray31;
                longSparseArray24 = longSparseArray5;
                arrayList20 = arrayList28;
                concurrentHashMap3 = concurrentHashMap;
                j = j15;
                j2 = j14;
                i8 = i2 + 1;
                concurrentHashMap = concurrentHashMap3;
                size3 = i10;
                j14 = j2;
                j15 = j;
                longSparseArray26 = longSparseArray7;
            }
            longSparseArray24 = longSparseArray8;
            arrayList27 = arrayList4;
            i8 = i2 + 1;
            concurrentHashMap = concurrentHashMap3;
            size3 = i10;
            j14 = j2;
            j15 = j;
            longSparseArray26 = longSparseArray7;
        }
        LongSparseIntArray longSparseIntArray16 = longSparseIntArray8;
        LongSparseArray longSparseArray44 = longSparseArray20;
        LongSparseArray longSparseArray45 = longSparseArray21;
        LongSparseArray<SparseIntArray> longSparseArray46 = longSparseArray22;
        LongSparseArray<SparseIntArray> longSparseArray47 = longSparseArray23;
        ArrayList<Long> arrayList60 = arrayList19;
        LongSparseArray longSparseArray48 = longSparseArray24;
        LongSparseArray longSparseArray49 = longSparseArray25;
        LongSparseArray<ArrayList<Integer>> longSparseArray50 = longSparseArray26;
        ArrayList arrayList61 = arrayList24;
        ArrayList arrayList62 = arrayList27;
        LongSparseIntArray longSparseIntArray17 = longSparseIntArray7;
        ConcurrentHashMap<Long, TLRPC$User> concurrentHashMap12 = concurrentHashMap;
        ArrayList arrayList63 = arrayList20;
        LongSparseArray<SparseArray<TLRPC$MessageReplies>> longSparseArray51 = longSparseArray29;
        if (longSparseArray49 != null) {
            int size9 = longSparseArray49.size();
            for (int i22 = 0; i22 < size9; i22++) {
                if (updatePrintingUsersWithNewMessages(longSparseArray49.keyAt(i22), (ArrayList) longSparseArray49.valueAt(i22))) {
                    z7 = true;
                }
            }
        }
        boolean z11 = z7;
        if (z11) {
            updatePrintingStrings();
        }
        if (arrayList60 != null) {
            getContactsController().processContactsUpdates(arrayList60, concurrentHashMap12);
        }
        if (arrayList61 != null) {
            getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda112(this, arrayList61));
        }
        if (arrayList25 != null) {
            getMessagesStorage().putMessages(arrayList25, true, true, false, getDownloadController().getAutodownloadMask(), true);
        }
        if (arrayList26 != null) {
            getStatsController().incrementReceivedItemsCount(ApplicationLoader.getCurrentNetworkType(), 1, arrayList26.size());
            getMessagesStorage().putMessages(arrayList26, true, true, false, getDownloadController().getAutodownloadMask(), false);
        }
        if (longSparseArray48 != null) {
            int size10 = longSparseArray48.size();
            int i23 = 0;
            while (i23 < size10) {
                TLRPC$TL_messages_messages tLRPC$TL_messages_messages = new TLRPC$TL_messages_messages();
                LongSparseArray longSparseArray52 = longSparseArray48;
                ArrayList arrayList64 = (ArrayList) longSparseArray52.valueAt(i23);
                int size11 = arrayList64.size();
                for (int i24 = 0; i24 < size11; i24++) {
                    tLRPC$TL_messages_messages.messages.add(((MessageObject) arrayList64.get(i24)).messageOwner);
                }
                getMessagesStorage().putMessages((TLRPC$messages_Messages) tLRPC$TL_messages_messages, longSparseArray52.keyAt(i23), -2, 0, false, false);
                i23++;
                longSparseArray48 = longSparseArray52;
            }
            longSparseArray = longSparseArray48;
            getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda95(this, longSparseArray));
        } else {
            longSparseArray = longSparseArray48;
        }
        if (longSparseArray47 == null && longSparseArray46 == null && longSparseArray51 == null) {
            longSparseArray2 = longSparseArray47;
            longSparseArray3 = longSparseArray46;
        } else {
            longSparseArray2 = longSparseArray47;
            longSparseArray3 = longSparseArray46;
            getMessagesStorage().putChannelViews(longSparseArray2, longSparseArray3, longSparseArray51, true);
        }
        if (arrayList63 != null) {
            int size12 = arrayList63.size();
            for (int i25 = 0; i25 < size12; i25++) {
                getMessagesStorage().setDialogsFolderId(((TLRPC$TL_updateFolderPeers) arrayList63.get(i25)).folder_peers, null, 0L, 0);
            }
        }
        LongSparseArray<TLRPC$WebPage> longSparseArray53 = longSparseArray30;
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda48(this, i9, arrayList21, longSparseArray27, i, longSparseIntArray9, longSparseArray30, longSparseArray49, arrayList63, longSparseArray28, longSparseArray, z11, arrayList60, arrayList22, longSparseArray2, longSparseArray3, longSparseArray51, arrayList23));
        getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda134(this, longSparseIntArray17, longSparseIntArray16, sparseIntArray2, longSparseArray50, longSparseArray44, longSparseArray45, longSparseIntArray10));
        if (longSparseArray53 != null) {
            getMessagesStorage().putWebPages(longSparseArray53);
        }
        SparseIntArray sparseIntArray7 = sparseIntArray2;
        if (longSparseIntArray17 == null && longSparseIntArray16 == null) {
            longSparseArray4 = longSparseArray50;
            if (sparseIntArray7 == null && longSparseArray4 == null) {
                z2 = true;
                if (longSparseArray4 != null) {
                    int currentTime = getConnectionsManager().getCurrentTime();
                    int size13 = longSparseArray4.size();
                    for (int i26 = 0; i26 < size13; i26++) {
                        getMessagesStorage().markMessagesContentAsRead(longSparseArray4.keyAt(i26), longSparseArray4.valueAt(i26), currentTime);
                    }
                }
                if (longSparseArray44 != null) {
                    int size14 = longSparseArray44.size();
                    for (int i27 = 0; i27 < size14; i27++) {
                        getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda82(this, longSparseArray44.keyAt(i27), (ArrayList) longSparseArray44.valueAt(i27)));
                    }
                }
                if (longSparseArray45 != null) {
                    int size15 = longSparseArray45.size();
                    for (int i28 = 0; i28 < size15; i28++) {
                        getMessagesStorage().markMessagesAsDeleted(longSparseArray45.keyAt(i28), (ArrayList) longSparseArray45.valueAt(i28), true, false, true);
                    }
                }
                longSparseIntArray = longSparseIntArray10;
                if (longSparseIntArray != null) {
                    int size16 = longSparseIntArray.size();
                    for (int i29 = 0; i29 < size16; i29++) {
                        getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda66(this, longSparseIntArray.keyAt(i29), longSparseIntArray.valueAt(i29)));
                    }
                }
                if (arrayList62 != null) {
                    int size17 = arrayList62.size();
                    for (int i30 = 0; i30 < size17; i30++) {
                        TLRPC$TL_updateEncryptedMessagesRead tLRPC$TL_updateEncryptedMessagesRead2 = (TLRPC$TL_updateEncryptedMessagesRead) arrayList62.get(i30);
                        getMessagesStorage().createTaskForSecretChat(tLRPC$TL_updateEncryptedMessagesRead2.chat_id, tLRPC$TL_updateEncryptedMessagesRead2.max_date, tLRPC$TL_updateEncryptedMessagesRead2.date, 1, null);
                    }
                }
                return z2;
            }
        } else {
            longSparseArray4 = longSparseArray50;
        }
        if (longSparseIntArray17 == null && longSparseIntArray16 == null && longSparseArray4 == null) {
            z2 = true;
        } else {
            z2 = true;
            getMessagesStorage().updateDialogsWithReadMessages(longSparseIntArray17, longSparseIntArray16, longSparseArray4, true);
        }
        getMessagesStorage().markMessagesAsRead(longSparseIntArray17, longSparseIntArray16, sparseIntArray7, z2);
        if (longSparseArray4 != null) {
        }
        if (longSparseArray44 != null) {
        }
        if (longSparseArray45 != null) {
        }
        longSparseIntArray = longSparseIntArray10;
        if (longSparseIntArray != null) {
        }
        if (arrayList62 != null) {
        }
        return z2;
    }

    public /* synthetic */ void lambda$processUpdateArray$308(ArrayList arrayList, ArrayList arrayList2) {
        putUsers(arrayList, false);
        putChats(arrayList2, false);
    }

    public /* synthetic */ void lambda$processUpdateArray$309(ArrayList arrayList, ArrayList arrayList2) {
        putUsers(arrayList, false);
        putChats(arrayList2, false);
    }

    public /* synthetic */ void lambda$processUpdateArray$310(TLRPC$TL_updateUserTyping tLRPC$TL_updateUserTyping) {
        getNotificationCenter().postNotificationName(NotificationCenter.onEmojiInteractionsReceived, Long.valueOf(tLRPC$TL_updateUserTyping.user_id), tLRPC$TL_updateUserTyping.action);
    }

    public /* synthetic */ void lambda$processUpdateArray$311(TLRPC$TL_updateChatUserTyping tLRPC$TL_updateChatUserTyping) {
        getNotificationCenter().postNotificationName(NotificationCenter.onEmojiInteractionsReceived, Long.valueOf(-tLRPC$TL_updateChatUserTyping.chat_id), tLRPC$TL_updateChatUserTyping.action);
    }

    public /* synthetic */ void lambda$processUpdateArray$313(TLRPC$TL_updatePeerBlocked tLRPC$TL_updatePeerBlocked) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda181(this, tLRPC$TL_updatePeerBlocked));
    }

    public /* synthetic */ void lambda$processUpdateArray$312(TLRPC$TL_updatePeerBlocked tLRPC$TL_updatePeerBlocked) {
        long peerId = MessageObject.getPeerId(tLRPC$TL_updatePeerBlocked.peer_id);
        if (tLRPC$TL_updatePeerBlocked.blocked) {
            if (this.blockePeers.indexOfKey(peerId) < 0) {
                this.blockePeers.put(peerId, 1);
            }
        } else {
            this.blockePeers.delete(peerId);
        }
        getNotificationCenter().postNotificationName(NotificationCenter.blockedUsersDidLoad, new Object[0]);
    }

    public /* synthetic */ void lambda$processUpdateArray$314(TLRPC$TL_updateServiceNotification tLRPC$TL_updateServiceNotification) {
        getNotificationCenter().postNotificationName(NotificationCenter.needShowAlert, 2, tLRPC$TL_updateServiceNotification.message, tLRPC$TL_updateServiceNotification.type);
    }

    public /* synthetic */ void lambda$processUpdateArray$315(TLRPC$TL_updateLangPack tLRPC$TL_updateLangPack) {
        LocaleController.getInstance().saveRemoteLocaleStringsForCurrentLocale(tLRPC$TL_updateLangPack.difference, this.currentAccount);
    }

    public /* synthetic */ void lambda$processUpdateArray$316(ArrayList arrayList) {
        getNotificationsController().processNewMessages(arrayList, true, false, null);
    }

    public /* synthetic */ void lambda$processUpdateArray$317(ArrayList arrayList) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda105(this, arrayList));
    }

    public /* synthetic */ void lambda$processUpdateArray$318(LongSparseArray longSparseArray) {
        getNotificationsController().processEditedMessages(longSparseArray);
    }

    public /* synthetic */ void lambda$processUpdateArray$319(LongSparseArray longSparseArray) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda96(this, longSparseArray));
    }

    public /* synthetic */ void lambda$processUpdateArray$320(TLRPC$User tLRPC$User) {
        getContactsController().addContactToPhoneBook(tLRPC$User, true);
    }

    public /* synthetic */ void lambda$processUpdateArray$321() {
        getNotificationsController().deleteNotificationChannelGlobal(0);
    }

    public /* synthetic */ void lambda$processUpdateArray$322() {
        getNotificationsController().deleteNotificationChannelGlobal(1);
    }

    public /* synthetic */ void lambda$processUpdateArray$323() {
        getNotificationsController().deleteNotificationChannelGlobal(2);
    }

    public /* synthetic */ void lambda$processUpdateArray$324(TLRPC$TL_updateChannel tLRPC$TL_updateChannel) {
        getChannelDifference(tLRPC$TL_updateChannel.channel_id, 1, 0L, null);
    }

    public /* synthetic */ void lambda$processUpdateArray$325(TLRPC$Chat tLRPC$Chat) {
        getNotificationCenter().postNotificationName(NotificationCenter.channelRightsUpdated, tLRPC$Chat);
    }

    public /* synthetic */ void lambda$processUpdateArray$326(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            processUpdates((TLRPC$Updates) tLObject, false);
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:603:0x0e89  */
    /* JADX WARN: Removed duplicated region for block: B:608:0x0ea5  */
    /* JADX WARN: Removed duplicated region for block: B:646:0x0f88  */
    /* JADX WARN: Removed duplicated region for block: B:648:0x0f96  */
    /* JADX WARN: Removed duplicated region for block: B:650:0x0f9c  */
    /* JADX WARN: Removed duplicated region for block: B:653:0x0fa8  */
    /* JADX WARN: Removed duplicated region for block: B:662:0x0fe4  */
    /* JADX WARN: Removed duplicated region for block: B:665:0x0ffa  */
    /* JADX WARN: Removed duplicated region for block: B:772:? A[RETURN, SYNTHETIC] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$processUpdateArray$327(int i, ArrayList arrayList, LongSparseArray longSparseArray, int i2, LongSparseIntArray longSparseIntArray, LongSparseArray longSparseArray2, LongSparseArray longSparseArray3, ArrayList arrayList2, LongSparseArray longSparseArray4, LongSparseArray longSparseArray5, boolean z, ArrayList arrayList3, ArrayList arrayList4, LongSparseArray longSparseArray6, LongSparseArray longSparseArray7, LongSparseArray longSparseArray8, ArrayList arrayList5) {
        int i3;
        int i4;
        boolean z2;
        boolean z3;
        long j;
        LongSparseArray longSparseArray9;
        int i5;
        MessageObject messageObject;
        long j2;
        boolean z4;
        ArrayList<TLRPC$User> arrayList6;
        int i6;
        int i7;
        ArrayList<TLRPC$User> arrayList7;
        int i8;
        int i9;
        TLRPC$ChatFull tLRPC$ChatFull;
        TLRPC$UserFull tLRPC$UserFull;
        long j3;
        long j4;
        long j5;
        boolean z5;
        TLRPC$TL_inputGroupCall tLRPC$TL_inputGroupCall;
        int i10;
        int i11;
        int i12;
        ChatObject.Call groupCall;
        TLRPC$Dialog tLRPC$Dialog;
        long j6;
        int i13;
        ArrayList<Long> arrayList8;
        long j7;
        ArrayList arrayList9 = arrayList;
        int i14 = 0;
        if (arrayList9 != null) {
            ArrayList<TLRPC$User> arrayList10 = new ArrayList<>();
            ArrayList<TLRPC$User> arrayList11 = new ArrayList<>();
            int size = arrayList.size();
            i3 = i;
            int i15 = 0;
            SharedPreferences.Editor editor = null;
            int i16 = 0;
            boolean z6 = false;
            while (i15 < size) {
                TLRPC$Update tLRPC$Update = (TLRPC$Update) arrayList9.get(i15);
                if (tLRPC$Update instanceof TLRPC$TL_updatePrivacy) {
                    TLRPC$TL_updatePrivacy tLRPC$TL_updatePrivacy = (TLRPC$TL_updatePrivacy) tLRPC$Update;
                    TLRPC$PrivacyKey tLRPC$PrivacyKey = tLRPC$TL_updatePrivacy.key;
                    if (tLRPC$PrivacyKey instanceof TLRPC$TL_privacyKeyStatusTimestamp) {
                        getContactsController().setPrivacyRules(tLRPC$TL_updatePrivacy.rules, i14);
                    } else if (tLRPC$PrivacyKey instanceof TLRPC$TL_privacyKeyChatInvite) {
                        getContactsController().setPrivacyRules(tLRPC$TL_updatePrivacy.rules, 1);
                    } else if (tLRPC$PrivacyKey instanceof TLRPC$TL_privacyKeyPhoneCall) {
                        getContactsController().setPrivacyRules(tLRPC$TL_updatePrivacy.rules, 2);
                    } else if (tLRPC$PrivacyKey instanceof TLRPC$TL_privacyKeyPhoneP2P) {
                        getContactsController().setPrivacyRules(tLRPC$TL_updatePrivacy.rules, 3);
                    } else if (tLRPC$PrivacyKey instanceof TLRPC$TL_privacyKeyProfilePhoto) {
                        getContactsController().setPrivacyRules(tLRPC$TL_updatePrivacy.rules, 4);
                    } else if (tLRPC$PrivacyKey instanceof TLRPC$TL_privacyKeyForwards) {
                        getContactsController().setPrivacyRules(tLRPC$TL_updatePrivacy.rules, 5);
                    } else if (tLRPC$PrivacyKey instanceof TLRPC$TL_privacyKeyPhoneNumber) {
                        getContactsController().setPrivacyRules(tLRPC$TL_updatePrivacy.rules, 6);
                    } else if (tLRPC$PrivacyKey instanceof TLRPC$TL_privacyKeyAddedByPhone) {
                        getContactsController().setPrivacyRules(tLRPC$TL_updatePrivacy.rules, 7);
                    } else if (tLRPC$PrivacyKey instanceof TLRPC$TL_privacyKeyVoiceMessages) {
                        getContactsController().setPrivacyRules(tLRPC$TL_updatePrivacy.rules, 8);
                    }
                    i6 = i15;
                    i7 = size;
                    arrayList6 = arrayList11;
                    arrayList7 = arrayList10;
                } else {
                    if (tLRPC$Update instanceof TLRPC$TL_updateUserStatus) {
                        TLRPC$TL_updateUserStatus tLRPC$TL_updateUserStatus = (TLRPC$TL_updateUserStatus) tLRPC$Update;
                        int i17 = i15;
                        i9 = size;
                        TLRPC$User user = getUser(Long.valueOf(tLRPC$TL_updateUserStatus.user_id));
                        TLRPC$UserStatus tLRPC$UserStatus = tLRPC$TL_updateUserStatus.status;
                        if (tLRPC$UserStatus instanceof TLRPC$TL_userStatusRecently) {
                            tLRPC$UserStatus.expires = -100;
                        } else if (tLRPC$UserStatus instanceof TLRPC$TL_userStatusLastWeek) {
                            tLRPC$UserStatus.expires = -101;
                        } else if (tLRPC$UserStatus instanceof TLRPC$TL_userStatusLastMonth) {
                            tLRPC$UserStatus.expires = -102;
                        }
                        i8 = i17;
                        if (user != null) {
                            user.id = tLRPC$TL_updateUserStatus.user_id;
                            user.status = tLRPC$UserStatus;
                        }
                        TLRPC$TL_user tLRPC$TL_user = new TLRPC$TL_user();
                        tLRPC$TL_user.id = tLRPC$TL_updateUserStatus.user_id;
                        tLRPC$TL_user.status = tLRPC$TL_updateUserStatus.status;
                        arrayList11.add(tLRPC$TL_user);
                        if (tLRPC$TL_updateUserStatus.user_id == getUserConfig().getClientUserId()) {
                            getNotificationsController().setLastOnlineFromOtherDevice(tLRPC$TL_updateUserStatus.status.expires);
                        }
                    } else {
                        i8 = i15;
                        i9 = size;
                        if (tLRPC$Update instanceof TLRPC$TL_updateUserName) {
                            TLRPC$TL_updateUserName tLRPC$TL_updateUserName = (TLRPC$TL_updateUserName) tLRPC$Update;
                            TLRPC$User user2 = getUser(Long.valueOf(tLRPC$TL_updateUserName.user_id));
                            if (user2 != null) {
                                if (!UserObject.isContact(user2)) {
                                    user2.first_name = tLRPC$TL_updateUserName.first_name;
                                    user2.last_name = tLRPC$TL_updateUserName.last_name;
                                }
                                if (!TextUtils.isEmpty(user2.username)) {
                                    this.objectsByUsernames.remove(user2.username);
                                }
                                if (TextUtils.isEmpty(tLRPC$TL_updateUserName.username)) {
                                    this.objectsByUsernames.put(tLRPC$TL_updateUserName.username, user2);
                                }
                                user2.username = tLRPC$TL_updateUserName.username;
                            }
                            TLRPC$TL_user tLRPC$TL_user2 = new TLRPC$TL_user();
                            tLRPC$TL_user2.id = tLRPC$TL_updateUserName.user_id;
                            tLRPC$TL_user2.first_name = tLRPC$TL_updateUserName.first_name;
                            tLRPC$TL_user2.last_name = tLRPC$TL_updateUserName.last_name;
                            tLRPC$TL_user2.username = tLRPC$TL_updateUserName.username;
                            arrayList10.add(tLRPC$TL_user2);
                        } else if (tLRPC$Update instanceof TLRPC$TL_updateDialogPinned) {
                            TLRPC$TL_updateDialogPinned tLRPC$TL_updateDialogPinned = (TLRPC$TL_updateDialogPinned) tLRPC$Update;
                            TLRPC$DialogPeer tLRPC$DialogPeer = tLRPC$TL_updateDialogPinned.peer;
                            long peerDialogId = tLRPC$DialogPeer instanceof TLRPC$TL_dialogPeer ? DialogObject.getPeerDialogId(((TLRPC$TL_dialogPeer) tLRPC$DialogPeer).peer) : 0L;
                            i6 = i8;
                            i7 = i9;
                            arrayList6 = arrayList11;
                            arrayList7 = arrayList10;
                            long j8 = peerDialogId;
                            if (!pinDialog(peerDialogId, tLRPC$TL_updateDialogPinned.pinned, null, -1L)) {
                                getUserConfig().setPinnedDialogsLoaded(tLRPC$TL_updateDialogPinned.folder_id, false);
                                getUserConfig().saveConfig(false);
                                loadPinnedDialogs(tLRPC$TL_updateDialogPinned.folder_id, j8, null);
                            }
                        } else {
                            i7 = i9;
                            arrayList6 = arrayList11;
                            arrayList7 = arrayList10;
                            i6 = i8;
                            if (tLRPC$Update instanceof TLRPC$TL_updatePinnedDialogs) {
                                TLRPC$TL_updatePinnedDialogs tLRPC$TL_updatePinnedDialogs = (TLRPC$TL_updatePinnedDialogs) tLRPC$Update;
                                getUserConfig().setPinnedDialogsLoaded(tLRPC$TL_updatePinnedDialogs.folder_id, false);
                                getUserConfig().saveConfig(false);
                                if ((tLRPC$TL_updatePinnedDialogs.flags & 1) != 0) {
                                    arrayList8 = new ArrayList<>();
                                    ArrayList<TLRPC$DialogPeer> arrayList12 = tLRPC$TL_updatePinnedDialogs.order;
                                    int size2 = arrayList12.size();
                                    for (int i18 = 0; i18 < size2; i18++) {
                                        TLRPC$DialogPeer tLRPC$DialogPeer2 = arrayList12.get(i18);
                                        if (tLRPC$DialogPeer2 instanceof TLRPC$TL_dialogPeer) {
                                            TLRPC$Peer tLRPC$Peer = ((TLRPC$TL_dialogPeer) tLRPC$DialogPeer2).peer;
                                            long j9 = tLRPC$Peer.user_id;
                                            if (j9 != 0) {
                                                j7 = j9;
                                            } else {
                                                long j10 = tLRPC$Peer.chat_id;
                                                j7 = j10 != 0 ? -j10 : -tLRPC$Peer.channel_id;
                                            }
                                        } else {
                                            j7 = 0;
                                        }
                                        arrayList8.add(Long.valueOf(j7));
                                    }
                                } else {
                                    arrayList8 = null;
                                }
                                loadPinnedDialogs(tLRPC$TL_updatePinnedDialogs.folder_id, 0L, arrayList8);
                            } else if (tLRPC$Update instanceof TLRPC$TL_updateUserPhoto) {
                                TLRPC$TL_updateUserPhoto tLRPC$TL_updateUserPhoto = (TLRPC$TL_updateUserPhoto) tLRPC$Update;
                                TLRPC$User user3 = getUser(Long.valueOf(tLRPC$TL_updateUserPhoto.user_id));
                                if (user3 != null) {
                                    user3.photo = tLRPC$TL_updateUserPhoto.photo;
                                }
                                TLRPC$TL_user tLRPC$TL_user3 = new TLRPC$TL_user();
                                tLRPC$TL_user3.id = tLRPC$TL_updateUserPhoto.user_id;
                                tLRPC$TL_user3.photo = tLRPC$TL_updateUserPhoto.photo;
                                arrayList7.add(tLRPC$TL_user3);
                                if (UserObject.isUserSelf(user3)) {
                                    getNotificationCenter().postNotificationName(NotificationCenter.mainUserInfoChanged, new Object[0]);
                                }
                            } else if (tLRPC$Update instanceof TLRPC$TL_updateUserPhone) {
                                TLRPC$TL_updateUserPhone tLRPC$TL_updateUserPhone = (TLRPC$TL_updateUserPhone) tLRPC$Update;
                                TLRPC$User user4 = getUser(Long.valueOf(tLRPC$TL_updateUserPhone.user_id));
                                if (user4 != null) {
                                    user4.phone = tLRPC$TL_updateUserPhone.phone;
                                    Utilities.phoneBookQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda186(this, user4));
                                    if (UserObject.isUserSelf(user4)) {
                                        getNotificationCenter().postNotificationName(NotificationCenter.mainUserInfoChanged, new Object[0]);
                                    }
                                }
                                TLRPC$TL_user tLRPC$TL_user4 = new TLRPC$TL_user();
                                tLRPC$TL_user4.id = tLRPC$TL_updateUserPhone.user_id;
                                tLRPC$TL_user4.phone = tLRPC$TL_updateUserPhone.phone;
                                arrayList7.add(tLRPC$TL_user4);
                            } else {
                                if (tLRPC$Update instanceof TLRPC$TL_updateNotifySettings) {
                                    TLRPC$TL_updateNotifySettings tLRPC$TL_updateNotifySettings = (TLRPC$TL_updateNotifySettings) tLRPC$Update;
                                    if (tLRPC$TL_updateNotifySettings.notify_settings instanceof TLRPC$TL_peerNotifySettings) {
                                        i16 |= DIALOG_FILTER_FLAG_EXCLUDE_MUTED;
                                        SharedPreferences.Editor edit = editor == null ? this.notificationsPreferences.edit() : editor;
                                        int currentTime = getConnectionsManager().getCurrentTime();
                                        TLRPC$NotifyPeer tLRPC$NotifyPeer = tLRPC$TL_updateNotifySettings.peer;
                                        if (tLRPC$NotifyPeer instanceof TLRPC$TL_notifyPeer) {
                                            TLRPC$Peer tLRPC$Peer2 = ((TLRPC$TL_notifyPeer) tLRPC$NotifyPeer).peer;
                                            long j11 = tLRPC$Peer2.user_id;
                                            if (j11 != 0) {
                                                j6 = j11;
                                            } else {
                                                long j12 = tLRPC$Peer2.chat_id;
                                                j6 = j12 != 0 ? -j12 : -tLRPC$Peer2.channel_id;
                                            }
                                            TLRPC$Dialog tLRPC$Dialog2 = this.dialogs_dict.get(j6);
                                            if (tLRPC$Dialog2 != null) {
                                                tLRPC$Dialog2.notify_settings = tLRPC$TL_updateNotifySettings.notify_settings;
                                            }
                                            if ((tLRPC$TL_updateNotifySettings.notify_settings.flags & 2) != 0) {
                                                edit.putBoolean("silent_" + j6, tLRPC$TL_updateNotifySettings.notify_settings.silent);
                                            } else {
                                                edit.remove("silent_" + j6);
                                            }
                                            TLRPC$PeerNotifySettings tLRPC$PeerNotifySettings = tLRPC$TL_updateNotifySettings.notify_settings;
                                            if ((tLRPC$PeerNotifySettings.flags & 4) != 0) {
                                                int i19 = tLRPC$PeerNotifySettings.mute_until;
                                                if (i19 > currentTime) {
                                                    if (i19 > currentTime + 31536000) {
                                                        edit.putInt("notify2_" + j6, 2);
                                                        if (tLRPC$Dialog2 != null) {
                                                            tLRPC$TL_updateNotifySettings.notify_settings.mute_until = Integer.MAX_VALUE;
                                                        }
                                                        i13 = 0;
                                                    } else {
                                                        edit.putInt("notify2_" + j6, 3);
                                                        edit.putInt("notifyuntil_" + j6, tLRPC$TL_updateNotifySettings.notify_settings.mute_until);
                                                        if (tLRPC$Dialog2 != null) {
                                                            tLRPC$TL_updateNotifySettings.notify_settings.mute_until = i19;
                                                        }
                                                        i13 = i19;
                                                    }
                                                    getMessagesStorage().setDialogFlags(j6, (i13 << 32) | 1);
                                                    getNotificationsController().removeNotificationsForDialog(j6);
                                                } else {
                                                    if (tLRPC$Dialog2 != null) {
                                                        tLRPC$PeerNotifySettings.mute_until = 0;
                                                    }
                                                    edit.putInt("notify2_" + j6, 0);
                                                    getMessagesStorage().setDialogFlags(j6, 0L);
                                                }
                                            } else {
                                                if (tLRPC$Dialog2 != null) {
                                                    tLRPC$PeerNotifySettings.mute_until = 0;
                                                }
                                                edit.remove("notify2_" + j6);
                                                getMessagesStorage().setDialogFlags(j6, 0L);
                                            }
                                            applySoundSettings(tLRPC$TL_updateNotifySettings.notify_settings.android_sound, edit, j6, 0, true);
                                        } else if (tLRPC$NotifyPeer instanceof TLRPC$TL_notifyChats) {
                                            TLRPC$PeerNotifySettings tLRPC$PeerNotifySettings2 = tLRPC$TL_updateNotifySettings.notify_settings;
                                            if ((tLRPC$PeerNotifySettings2.flags & 1) != 0) {
                                                edit.putBoolean("EnablePreviewGroup", tLRPC$PeerNotifySettings2.show_previews);
                                            }
                                            if ((tLRPC$TL_updateNotifySettings.notify_settings.flags & 4) != 0) {
                                                int i20 = this.notificationsPreferences.getInt("EnableGroup2", 0);
                                                int i21 = tLRPC$TL_updateNotifySettings.notify_settings.mute_until;
                                                if (i20 != i21) {
                                                    edit.putInt("EnableGroup2", i21);
                                                    edit.putBoolean("overwrite_group", true);
                                                    AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda23(this));
                                                }
                                            }
                                            applySoundSettings(tLRPC$TL_updateNotifySettings.notify_settings.android_sound, edit, 0L, 0, false);
                                        } else if (tLRPC$NotifyPeer instanceof TLRPC$TL_notifyUsers) {
                                            TLRPC$PeerNotifySettings tLRPC$PeerNotifySettings3 = tLRPC$TL_updateNotifySettings.notify_settings;
                                            if ((tLRPC$PeerNotifySettings3.flags & 1) != 0) {
                                                edit.putBoolean("EnablePreviewAll", tLRPC$PeerNotifySettings3.show_previews);
                                            }
                                            TLRPC$PeerNotifySettings tLRPC$PeerNotifySettings4 = tLRPC$TL_updateNotifySettings.notify_settings;
                                            int i22 = tLRPC$PeerNotifySettings4.flags;
                                            applySoundSettings(tLRPC$PeerNotifySettings4.android_sound, edit, 0L, 1, false);
                                            if ((tLRPC$TL_updateNotifySettings.notify_settings.flags & 4) != 0) {
                                                int i23 = this.notificationsPreferences.getInt("EnableAll2", 0);
                                                int i24 = tLRPC$TL_updateNotifySettings.notify_settings.mute_until;
                                                if (i23 != i24) {
                                                    edit.putInt("EnableAll2", i24);
                                                    edit.putBoolean("overwrite_private", true);
                                                    AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda18(this));
                                                }
                                            }
                                        } else if (tLRPC$NotifyPeer instanceof TLRPC$TL_notifyBroadcasts) {
                                            TLRPC$PeerNotifySettings tLRPC$PeerNotifySettings5 = tLRPC$TL_updateNotifySettings.notify_settings;
                                            if ((tLRPC$PeerNotifySettings5.flags & 1) != 0) {
                                                edit.putBoolean("EnablePreviewChannel", tLRPC$PeerNotifySettings5.show_previews);
                                            }
                                            if ((tLRPC$TL_updateNotifySettings.notify_settings.flags & 4) != 0) {
                                                int i25 = this.notificationsPreferences.getInt("EnableChannel2", 0);
                                                int i26 = tLRPC$TL_updateNotifySettings.notify_settings.mute_until;
                                                if (i25 != i26) {
                                                    edit.putInt("EnableChannel2", i26);
                                                    edit.putBoolean("overwrite_channel", true);
                                                    AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda37(this));
                                                }
                                            }
                                            applySoundSettings(tLRPC$TL_updateNotifySettings.notify_settings.android_sound, edit, 0L, 2, false);
                                        }
                                        getMessagesStorage().updateMutedDialogsFiltersCounters();
                                        editor = edit;
                                    }
                                } else {
                                    if (tLRPC$Update instanceof TLRPC$TL_updateChannel) {
                                        TLRPC$TL_updateChannel tLRPC$TL_updateChannel = (TLRPC$TL_updateChannel) tLRPC$Update;
                                        TLRPC$Dialog tLRPC$Dialog3 = this.dialogs_dict.get(-tLRPC$TL_updateChannel.channel_id);
                                        TLRPC$Chat chat = getChat(Long.valueOf(tLRPC$TL_updateChannel.channel_id));
                                        if (chat != null) {
                                            if (tLRPC$Dialog3 == null && (chat instanceof TLRPC$TL_channel) && !chat.left) {
                                                Utilities.stageQueue.postRunnable(new MessagesController$$ExternalSyntheticLambda177(this, tLRPC$TL_updateChannel));
                                            } else if (ChatObject.isNotInChat(chat) && tLRPC$Dialog3 != null && ((tLRPC$Dialog = this.promoDialog) == null || tLRPC$Dialog.id != tLRPC$Dialog3.id)) {
                                                deleteDialog(tLRPC$Dialog3.id, 0);
                                            }
                                            if (((chat instanceof TLRPC$TL_channelForbidden) || chat.kicked) && (groupCall = getGroupCall(chat.id, false)) != null) {
                                                TLRPC$TL_updateGroupCall tLRPC$TL_updateGroupCall = new TLRPC$TL_updateGroupCall();
                                                tLRPC$TL_updateGroupCall.chat_id = chat.id;
                                                TLRPC$TL_groupCallDiscarded tLRPC$TL_groupCallDiscarded = new TLRPC$TL_groupCallDiscarded();
                                                tLRPC$TL_updateGroupCall.call = tLRPC$TL_groupCallDiscarded;
                                                TLRPC$GroupCall tLRPC$GroupCall = groupCall.call;
                                                tLRPC$TL_groupCallDiscarded.id = tLRPC$GroupCall.id;
                                                tLRPC$TL_groupCallDiscarded.access_hash = tLRPC$GroupCall.access_hash;
                                                groupCall.processGroupCallUpdate(tLRPC$TL_updateGroupCall);
                                                if (VoIPService.getSharedInstance() != null) {
                                                    VoIPService.getSharedInstance().onGroupCallUpdated(tLRPC$TL_updateGroupCall.call);
                                                }
                                            }
                                        }
                                        i12 = i3 | UPDATE_MASK_CHAT;
                                        loadFullChat(tLRPC$TL_updateChannel.channel_id, 0, true);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateChat) {
                                        TLRPC$TL_updateChat tLRPC$TL_updateChat = (TLRPC$TL_updateChat) tLRPC$Update;
                                        TLRPC$Chat chat2 = getChat(Long.valueOf(tLRPC$TL_updateChat.chat_id));
                                        if (chat2 != null && ((chat2 instanceof TLRPC$TL_chatForbidden) || chat2.kicked)) {
                                            ChatObject.Call groupCall2 = getGroupCall(chat2.id, false);
                                            if (groupCall2 != null) {
                                                TLRPC$TL_updateGroupCall tLRPC$TL_updateGroupCall2 = new TLRPC$TL_updateGroupCall();
                                                tLRPC$TL_updateGroupCall2.chat_id = chat2.id;
                                                TLRPC$TL_groupCallDiscarded tLRPC$TL_groupCallDiscarded2 = new TLRPC$TL_groupCallDiscarded();
                                                tLRPC$TL_updateGroupCall2.call = tLRPC$TL_groupCallDiscarded2;
                                                TLRPC$GroupCall tLRPC$GroupCall2 = groupCall2.call;
                                                tLRPC$TL_groupCallDiscarded2.id = tLRPC$GroupCall2.id;
                                                tLRPC$TL_groupCallDiscarded2.access_hash = tLRPC$GroupCall2.access_hash;
                                                groupCall2.processGroupCallUpdate(tLRPC$TL_updateGroupCall2);
                                                if (VoIPService.getSharedInstance() != null) {
                                                    VoIPService.getSharedInstance().onGroupCallUpdated(tLRPC$TL_updateGroupCall2.call);
                                                }
                                            }
                                            TLRPC$Dialog tLRPC$Dialog4 = this.dialogs_dict.get(-chat2.id);
                                            if (tLRPC$Dialog4 != null) {
                                                i11 = 0;
                                                deleteDialog(tLRPC$Dialog4.id, 0);
                                                i12 = i3 | UPDATE_MASK_CHAT;
                                                loadFullChat(tLRPC$TL_updateChat.chat_id, i11, true);
                                            }
                                        }
                                        i11 = 0;
                                        i12 = i3 | UPDATE_MASK_CHAT;
                                        loadFullChat(tLRPC$TL_updateChat.chat_id, i11, true);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateChatDefaultBannedRights) {
                                        TLRPC$TL_updateChatDefaultBannedRights tLRPC$TL_updateChatDefaultBannedRights = (TLRPC$TL_updateChatDefaultBannedRights) tLRPC$Update;
                                        TLRPC$Peer tLRPC$Peer3 = tLRPC$TL_updateChatDefaultBannedRights.peer;
                                        long j13 = tLRPC$Peer3.channel_id;
                                        if (j13 == 0) {
                                            j13 = tLRPC$Peer3.chat_id;
                                        }
                                        TLRPC$Chat chat3 = getChat(Long.valueOf(j13));
                                        if (chat3 != null) {
                                            chat3.default_banned_rights = tLRPC$TL_updateChatDefaultBannedRights.default_banned_rights;
                                            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda147(this, chat3));
                                        }
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateBotCommands) {
                                        TLRPC$TL_updateBotCommands tLRPC$TL_updateBotCommands = (TLRPC$TL_updateBotCommands) tLRPC$Update;
                                        getMediaDataController().updateBotInfo(MessageObject.getPeerId(tLRPC$TL_updateBotCommands.peer), tLRPC$TL_updateBotCommands);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateStickerSets) {
                                        TLRPC$TL_updateStickerSets tLRPC$TL_updateStickerSets = (TLRPC$TL_updateStickerSets) tLRPC$Update;
                                        getMediaDataController().loadStickers(0, false, true);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateStickerSetsOrder) {
                                        TLRPC$TL_updateStickerSetsOrder tLRPC$TL_updateStickerSetsOrder = (TLRPC$TL_updateStickerSetsOrder) tLRPC$Update;
                                        if (tLRPC$TL_updateStickerSetsOrder.masks) {
                                            i10 = 1;
                                        } else {
                                            i10 = tLRPC$TL_updateStickerSetsOrder.emojis ? 5 : 0;
                                        }
                                        getMediaDataController().reorderStickers(i10, tLRPC$TL_updateStickerSetsOrder.order);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateFavedStickers) {
                                        getMediaDataController().loadRecents(2, false, false, true);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateContactsReset) {
                                        getContactsController().forceImportContacts();
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateNewStickerSet) {
                                        getMediaDataController().addNewStickerSet(((TLRPC$TL_updateNewStickerSet) tLRPC$Update).stickerset);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateSavedGifs) {
                                        this.emojiPreferences.edit().putLong("lastGifLoadTime", 0L).commit();
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateRecentStickers) {
                                        this.emojiPreferences.edit().putLong("lastStickersLoadTime", 0L).commit();
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateDraftMessage) {
                                        TLRPC$TL_updateDraftMessage tLRPC$TL_updateDraftMessage = (TLRPC$TL_updateDraftMessage) tLRPC$Update;
                                        TLRPC$Peer tLRPC$Peer4 = tLRPC$TL_updateDraftMessage.peer;
                                        long j14 = tLRPC$Peer4.user_id;
                                        if (j14 == 0) {
                                            long j15 = tLRPC$Peer4.channel_id;
                                            j14 = j15 != 0 ? -j15 : -tLRPC$Peer4.chat_id;
                                        }
                                        getMediaDataController().saveDraft(j14, 0, tLRPC$TL_updateDraftMessage.draft, null, true);
                                        z6 = true;
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateReadFeaturedStickers) {
                                        getMediaDataController().markFeaturedStickersAsRead(false, false);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateReadFeaturedEmojiStickers) {
                                        getMediaDataController().markFeaturedStickersAsRead(true, false);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updatePhoneCallSignalingData) {
                                        TLRPC$TL_updatePhoneCallSignalingData tLRPC$TL_updatePhoneCallSignalingData = (TLRPC$TL_updatePhoneCallSignalingData) tLRPC$Update;
                                        VoIPService sharedInstance = VoIPService.getSharedInstance();
                                        if (sharedInstance != null) {
                                            sharedInstance.onSignalingData(tLRPC$TL_updatePhoneCallSignalingData);
                                        }
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateGroupCallParticipants) {
                                        TLRPC$TL_updateGroupCallParticipants tLRPC$TL_updateGroupCallParticipants = (TLRPC$TL_updateGroupCallParticipants) tLRPC$Update;
                                        ChatObject.Call call = this.groupCalls.get(tLRPC$TL_updateGroupCallParticipants.call.id);
                                        if (call != null) {
                                            call.processParticipantsUpdate(tLRPC$TL_updateGroupCallParticipants, false);
                                        }
                                        if (VoIPService.getSharedInstance() != null) {
                                            VoIPService.getSharedInstance().onGroupCallParticipantsUpdate(tLRPC$TL_updateGroupCallParticipants);
                                        }
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateGroupCall) {
                                        TLRPC$TL_updateGroupCall tLRPC$TL_updateGroupCall3 = (TLRPC$TL_updateGroupCall) tLRPC$Update;
                                        ChatObject.Call call2 = this.groupCalls.get(tLRPC$TL_updateGroupCall3.call.id);
                                        if (call2 != null) {
                                            call2.processGroupCallUpdate(tLRPC$TL_updateGroupCall3);
                                            TLRPC$Chat chat4 = getChat(Long.valueOf(call2.chatId));
                                            if (chat4 != null) {
                                                chat4.call_active = tLRPC$TL_updateGroupCall3.call instanceof TLRPC$TL_groupCall;
                                            }
                                        } else {
                                            TLRPC$ChatFull chatFull = getChatFull(tLRPC$TL_updateGroupCall3.chat_id);
                                            if (chatFull != null && ((tLRPC$TL_inputGroupCall = chatFull.call) == null || (tLRPC$TL_inputGroupCall != null && tLRPC$TL_inputGroupCall.id != tLRPC$TL_updateGroupCall3.call.id))) {
                                                loadFullChat(tLRPC$TL_updateGroupCall3.chat_id, 0, true);
                                            }
                                        }
                                        if (VoIPService.getSharedInstance() != null) {
                                            VoIPService.getSharedInstance().onGroupCallUpdated(tLRPC$TL_updateGroupCall3.call);
                                        }
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updatePhoneCall) {
                                        TLRPC$PhoneCall tLRPC$PhoneCall = ((TLRPC$TL_updatePhoneCall) tLRPC$Update).phone_call;
                                        VoIPService sharedInstance2 = VoIPService.getSharedInstance();
                                        if (BuildVars.LOGS_ENABLED) {
                                            FileLog.d("Received call in update: " + tLRPC$PhoneCall);
                                            FileLog.d("call id " + tLRPC$PhoneCall.id);
                                        }
                                        if (tLRPC$PhoneCall instanceof TLRPC$TL_phoneCallRequested) {
                                            if (tLRPC$PhoneCall.date + (this.callRingTimeout / 1000) < getConnectionsManager().getCurrentTime()) {
                                                if (BuildVars.LOGS_ENABLED) {
                                                    FileLog.d("ignoring too old call");
                                                }
                                            } else {
                                                int i27 = Build.VERSION.SDK_INT;
                                                if (i27 < 21 || NotificationManagerCompat.from(ApplicationLoader.applicationContext).areNotificationsEnabled()) {
                                                    z5 = false;
                                                } else if (!ApplicationLoader.mainInterfacePaused && ApplicationLoader.isScreenOn) {
                                                    z5 = true;
                                                } else if (BuildVars.LOGS_ENABLED) {
                                                    FileLog.d("Ignoring incoming call because notifications are disabled in system");
                                                }
                                                TelephonyManager telephonyManager = (TelephonyManager) ApplicationLoader.applicationContext.getSystemService("phone");
                                                if (sharedInstance2 != null || VoIPService.callIShouldHavePutIntoIntent != null || telephonyManager.getCallState() != 0) {
                                                    if (BuildVars.LOGS_ENABLED) {
                                                        FileLog.d("Auto-declining call " + tLRPC$PhoneCall.id + " because there's already active one");
                                                    }
                                                    TLRPC$TL_phone_discardCall tLRPC$TL_phone_discardCall = new TLRPC$TL_phone_discardCall();
                                                    TLRPC$TL_inputPhoneCall tLRPC$TL_inputPhoneCall = new TLRPC$TL_inputPhoneCall();
                                                    tLRPC$TL_phone_discardCall.peer = tLRPC$TL_inputPhoneCall;
                                                    tLRPC$TL_inputPhoneCall.access_hash = tLRPC$PhoneCall.access_hash;
                                                    tLRPC$TL_inputPhoneCall.id = tLRPC$PhoneCall.id;
                                                    tLRPC$TL_phone_discardCall.reason = new TLRPC$TL_phoneCallDiscardReasonBusy();
                                                    getConnectionsManager().sendRequest(tLRPC$TL_phone_discardCall, new MessagesController$$ExternalSyntheticLambda255(this));
                                                } else {
                                                    if (BuildVars.LOGS_ENABLED) {
                                                        FileLog.d("Starting service for call " + tLRPC$PhoneCall.id);
                                                    }
                                                    VoIPService.callIShouldHavePutIntoIntent = tLRPC$PhoneCall;
                                                    Intent intent = new Intent(ApplicationLoader.applicationContext, VoIPService.class);
                                                    intent.putExtra("is_outgoing", false);
                                                    intent.putExtra("user_id", tLRPC$PhoneCall.participant_id == getUserConfig().getClientUserId() ? tLRPC$PhoneCall.admin_id : tLRPC$PhoneCall.participant_id);
                                                    intent.putExtra("account", this.currentAccount);
                                                    intent.putExtra("notifications_disabled", z5);
                                                    if (!z5 && i27 >= 26) {
                                                        try {
                                                            ApplicationLoader.applicationContext.startForegroundService(intent);
                                                        } catch (Throwable th) {
                                                            FileLog.e(th);
                                                        }
                                                    } else {
                                                        ApplicationLoader.applicationContext.startService(intent);
                                                    }
                                                    if (ApplicationLoader.mainInterfacePaused || !ApplicationLoader.isScreenOn) {
                                                        this.ignoreSetOnline = true;
                                                    }
                                                }
                                            }
                                        } else if (sharedInstance2 != null && tLRPC$PhoneCall != null) {
                                            sharedInstance2.onCallUpdated(tLRPC$PhoneCall);
                                        } else if (VoIPService.callIShouldHavePutIntoIntent != null) {
                                            if (BuildVars.LOGS_ENABLED) {
                                                FileLog.d("Updated the call while the service is starting");
                                            }
                                            if (tLRPC$PhoneCall.id == VoIPService.callIShouldHavePutIntoIntent.id) {
                                                VoIPService.callIShouldHavePutIntoIntent = tLRPC$PhoneCall;
                                            }
                                        }
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateDialogUnreadMark) {
                                        TLRPC$TL_updateDialogUnreadMark tLRPC$TL_updateDialogUnreadMark = (TLRPC$TL_updateDialogUnreadMark) tLRPC$Update;
                                        TLRPC$DialogPeer tLRPC$DialogPeer3 = tLRPC$TL_updateDialogUnreadMark.peer;
                                        if (tLRPC$DialogPeer3 instanceof TLRPC$TL_dialogPeer) {
                                            TLRPC$Peer tLRPC$Peer5 = ((TLRPC$TL_dialogPeer) tLRPC$DialogPeer3).peer;
                                            long j16 = tLRPC$Peer5.user_id;
                                            if (j16 != 0) {
                                                j5 = j16;
                                            } else {
                                                long j17 = tLRPC$Peer5.chat_id;
                                                j5 = j17 != 0 ? -j17 : -tLRPC$Peer5.channel_id;
                                            }
                                        } else {
                                            j5 = 0;
                                        }
                                        getMessagesStorage().setDialogUnread(j5, tLRPC$TL_updateDialogUnreadMark.unread);
                                        TLRPC$Dialog tLRPC$Dialog5 = this.dialogs_dict.get(j5);
                                        if (tLRPC$Dialog5 != null) {
                                            boolean z7 = tLRPC$Dialog5.unread_mark;
                                            boolean z8 = tLRPC$TL_updateDialogUnreadMark.unread;
                                            if (z7 != z8) {
                                                tLRPC$Dialog5.unread_mark = z8;
                                                if (tLRPC$Dialog5.unread_count == 0 && !isDialogMuted(j5)) {
                                                    if (tLRPC$Dialog5.unread_mark) {
                                                        this.unreadUnmutedDialogs++;
                                                    } else {
                                                        this.unreadUnmutedDialogs--;
                                                    }
                                                }
                                                i3 |= UPDATE_MASK_READ_DIALOG_MESSAGE;
                                                i16 |= DIALOG_FILTER_FLAG_EXCLUDE_READ;
                                            }
                                        }
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateMessagePoll) {
                                        TLRPC$TL_updateMessagePoll tLRPC$TL_updateMessagePoll = (TLRPC$TL_updateMessagePoll) tLRPC$Update;
                                        getNotificationCenter().postNotificationName(NotificationCenter.didUpdatePollResults, Long.valueOf(tLRPC$TL_updateMessagePoll.poll_id), tLRPC$TL_updateMessagePoll.poll, tLRPC$TL_updateMessagePoll.results);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updatePeerSettings) {
                                        TLRPC$TL_updatePeerSettings tLRPC$TL_updatePeerSettings = (TLRPC$TL_updatePeerSettings) tLRPC$Update;
                                        TLRPC$Peer tLRPC$Peer6 = tLRPC$TL_updatePeerSettings.peer;
                                        if (tLRPC$Peer6 instanceof TLRPC$TL_peerUser) {
                                            j3 = tLRPC$Peer6.user_id;
                                        } else {
                                            if (tLRPC$Peer6 instanceof TLRPC$TL_peerChat) {
                                                j4 = tLRPC$Peer6.chat_id;
                                            } else {
                                                j4 = tLRPC$Peer6.channel_id;
                                            }
                                            j3 = -j4;
                                        }
                                        savePeerSettings(j3, tLRPC$TL_updatePeerSettings.settings, true);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updatePeerLocated) {
                                        getNotificationCenter().postNotificationName(NotificationCenter.newPeopleNearbyAvailable, tLRPC$Update);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateMessageReactions) {
                                        TLRPC$TL_updateMessageReactions tLRPC$TL_updateMessageReactions = (TLRPC$TL_updateMessageReactions) tLRPC$Update;
                                        getNotificationCenter().postNotificationName(NotificationCenter.didUpdateReactions, Long.valueOf(MessageObject.getPeerId(tLRPC$TL_updateMessageReactions.peer)), Integer.valueOf(tLRPC$TL_updateMessageReactions.msg_id), tLRPC$TL_updateMessageReactions.reactions);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateTheme) {
                                        Theme.setThemeUploadInfo(null, null, (TLRPC$TL_theme) ((TLRPC$TL_updateTheme) tLRPC$Update).theme, this.currentAccount, true);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateDialogFilter) {
                                        loadRemoteFilters(true);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateDialogFilterOrder) {
                                        loadRemoteFilters(true);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateDialogFilters) {
                                        loadRemoteFilters(true);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateWebViewResultSent) {
                                        getNotificationCenter().postNotificationName(NotificationCenter.webViewResultSent, Long.valueOf(((TLRPC$TL_updateWebViewResultSent) tLRPC$Update).query_id));
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateAttachMenuBots) {
                                        getMediaDataController().loadAttachMenuBots(false, true);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateBotMenuButton) {
                                        TLRPC$TL_updateBotMenuButton tLRPC$TL_updateBotMenuButton = (TLRPC$TL_updateBotMenuButton) tLRPC$Update;
                                        getNotificationCenter().postNotificationName(NotificationCenter.updateBotMenuButton, Long.valueOf(tLRPC$TL_updateBotMenuButton.bot_id), tLRPC$TL_updateBotMenuButton.button);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateReadChannelDiscussionInbox) {
                                        TLRPC$TL_updateReadChannelDiscussionInbox tLRPC$TL_updateReadChannelDiscussionInbox = (TLRPC$TL_updateReadChannelDiscussionInbox) tLRPC$Update;
                                        getNotificationCenter().postNotificationName(NotificationCenter.threadMessagesRead, Long.valueOf(-tLRPC$TL_updateReadChannelDiscussionInbox.channel_id), Integer.valueOf(tLRPC$TL_updateReadChannelDiscussionInbox.top_msg_id), Integer.valueOf(tLRPC$TL_updateReadChannelDiscussionInbox.read_max_id), 0);
                                        if ((tLRPC$TL_updateReadChannelDiscussionInbox.flags & 1) != 0) {
                                            getMessagesStorage().updateRepliesMaxReadId(tLRPC$TL_updateReadChannelDiscussionInbox.broadcast_id, tLRPC$TL_updateReadChannelDiscussionInbox.broadcast_post, tLRPC$TL_updateReadChannelDiscussionInbox.read_max_id, true);
                                            getNotificationCenter().postNotificationName(NotificationCenter.commentsRead, Long.valueOf(tLRPC$TL_updateReadChannelDiscussionInbox.broadcast_id), Integer.valueOf(tLRPC$TL_updateReadChannelDiscussionInbox.broadcast_post), Integer.valueOf(tLRPC$TL_updateReadChannelDiscussionInbox.read_max_id));
                                        }
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateReadChannelDiscussionOutbox) {
                                        TLRPC$TL_updateReadChannelDiscussionOutbox tLRPC$TL_updateReadChannelDiscussionOutbox = (TLRPC$TL_updateReadChannelDiscussionOutbox) tLRPC$Update;
                                        getNotificationCenter().postNotificationName(NotificationCenter.threadMessagesRead, Long.valueOf(-tLRPC$TL_updateReadChannelDiscussionOutbox.channel_id), Integer.valueOf(tLRPC$TL_updateReadChannelDiscussionOutbox.top_msg_id), 0, Integer.valueOf(tLRPC$TL_updateReadChannelDiscussionOutbox.read_max_id));
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updatePeerHistoryTTL) {
                                        TLRPC$TL_updatePeerHistoryTTL tLRPC$TL_updatePeerHistoryTTL = (TLRPC$TL_updatePeerHistoryTTL) tLRPC$Update;
                                        long peerId = MessageObject.getPeerId(tLRPC$TL_updatePeerHistoryTTL.peer);
                                        if (peerId > 0) {
                                            TLRPC$UserFull userFull = getUserFull(peerId);
                                            if (userFull != null) {
                                                int i28 = tLRPC$TL_updatePeerHistoryTTL.ttl_period;
                                                userFull.ttl_period = i28;
                                                if (i28 == 0) {
                                                    userFull.flags &= -16385;
                                                } else {
                                                    userFull.flags |= 16384;
                                                }
                                            }
                                            tLRPC$UserFull = userFull;
                                            tLRPC$ChatFull = null;
                                        } else {
                                            tLRPC$ChatFull = getChatFull(-peerId);
                                            if (tLRPC$ChatFull != null) {
                                                int i29 = tLRPC$TL_updatePeerHistoryTTL.ttl_period;
                                                tLRPC$ChatFull.ttl_period = i29;
                                                if (tLRPC$ChatFull instanceof TLRPC$TL_channelFull) {
                                                    if (i29 == 0) {
                                                        tLRPC$ChatFull.flags &= -16777217;
                                                    } else {
                                                        tLRPC$ChatFull.flags |= 16777216;
                                                    }
                                                } else if (i29 == 0) {
                                                    tLRPC$ChatFull.flags &= -16385;
                                                } else {
                                                    tLRPC$ChatFull.flags |= 16384;
                                                }
                                            }
                                            tLRPC$UserFull = null;
                                        }
                                        if (tLRPC$ChatFull != null) {
                                            NotificationCenter notificationCenter = getNotificationCenter();
                                            int i30 = NotificationCenter.chatInfoDidLoad;
                                            Boolean bool = Boolean.FALSE;
                                            notificationCenter.postNotificationName(i30, tLRPC$ChatFull, 0, bool, bool);
                                            getMessagesStorage().updateChatInfo(tLRPC$ChatFull, false);
                                        } else if (tLRPC$UserFull != null) {
                                            getNotificationCenter().postNotificationName(NotificationCenter.userInfoDidLoad, Long.valueOf(peerId), tLRPC$UserFull);
                                            getMessagesStorage().updateUserInfo(tLRPC$UserFull, false);
                                        }
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updatePendingJoinRequests) {
                                        getMemberRequestsController().onPendingRequestsUpdated((TLRPC$TL_updatePendingJoinRequests) tLRPC$Update);
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateSavedRingtones) {
                                        getMediaDataController().ringtoneDataStore.lambda$new$0();
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateTranscribeAudio) {
                                        FileLog.e("Received legacy TL_updateTranscribeAudio update");
                                    } else if (tLRPC$Update instanceof TLRPC$TL_updateTranscribedAudio) {
                                        TLRPC$TL_updateTranscribedAudio tLRPC$TL_updateTranscribedAudio = (TLRPC$TL_updateTranscribedAudio) tLRPC$Update;
                                        if (BuildVars.LOGS_ENABLED) {
                                            FileLog.d("Transcription update received, pending=" + tLRPC$TL_updateTranscribedAudio.pending + " id=" + tLRPC$TL_updateTranscribedAudio.transcription_id + " text=" + tLRPC$TL_updateTranscribedAudio.text);
                                        }
                                        if ((!tLRPC$TL_updateTranscribedAudio.pending || !TextUtils.isEmpty(tLRPC$TL_updateTranscribedAudio.text)) && (tLRPC$TL_updateTranscribedAudio.pending || !TranscribeButton.finishTranscription(null, tLRPC$TL_updateTranscribedAudio.transcription_id, tLRPC$TL_updateTranscribedAudio.text))) {
                                            getMessagesStorage().updateMessageVoiceTranscription(DialogObject.getPeerDialogId(tLRPC$TL_updateTranscribedAudio.peer), tLRPC$TL_updateTranscribedAudio.msg_id, tLRPC$TL_updateTranscribedAudio.text, tLRPC$TL_updateTranscribedAudio.transcription_id, !tLRPC$TL_updateTranscribedAudio.pending);
                                            getNotificationCenter().postNotificationName(NotificationCenter.voiceTranscriptionUpdate, null, Long.valueOf(tLRPC$TL_updateTranscribedAudio.transcription_id), tLRPC$TL_updateTranscribedAudio.text, null, Boolean.valueOf(!tLRPC$TL_updateTranscribedAudio.pending));
                                        }
                                    }
                                    i3 = i12;
                                }
                                i15 = i6 + 1;
                                arrayList10 = arrayList7;
                                size = i7;
                                arrayList11 = arrayList6;
                                i14 = 0;
                                arrayList9 = arrayList;
                            }
                        }
                    }
                    i7 = i9;
                    arrayList6 = arrayList11;
                    arrayList7 = arrayList10;
                    i6 = i8;
                }
                i15 = i6 + 1;
                arrayList10 = arrayList7;
                size = i7;
                arrayList11 = arrayList6;
                i14 = 0;
                arrayList9 = arrayList;
            }
            ArrayList<TLRPC$User> arrayList13 = arrayList11;
            ArrayList<TLRPC$User> arrayList14 = arrayList10;
            if (editor != null) {
                editor.commit();
                z4 = false;
                getNotificationCenter().postNotificationName(NotificationCenter.notificationsSettingsUpdated, new Object[0]);
            } else {
                z4 = false;
            }
            getMessagesStorage().updateUsers(arrayList13, true, true, true);
            getMessagesStorage().updateUsers(arrayList14, z4, true, true);
            i4 = i16;
            z2 = z6;
        } else {
            i3 = i;
            z2 = false;
            i4 = 0;
        }
        if (longSparseArray != null) {
            int size3 = longSparseArray.size();
            for (int i31 = 0; i31 < size3; i31++) {
                ChatObject.Call call3 = this.groupCallsByChatId.get(longSparseArray.keyAt(i31));
                if (call3 != null) {
                    call3.processTypingsUpdate(getAccountInstance(), (ArrayList) longSparseArray.valueAt(i31), i2);
                }
            }
        }
        if (longSparseIntArray != null) {
            int size4 = longSparseIntArray.size();
            for (int i32 = 0; i32 < size4; i32++) {
                SendMessagesHelper.ImportingHistory importingHistory = getSendMessagesHelper().getImportingHistory(longSparseIntArray.keyAt(i32));
                if (importingHistory != null) {
                    importingHistory.setImportProgress(longSparseIntArray.valueAt(i32));
                }
            }
        }
        if (longSparseArray2 != null) {
            int i33 = 1;
            getNotificationCenter().postNotificationName(NotificationCenter.didReceivedWebpagesInUpdates, longSparseArray2);
            int i34 = 0;
            int i35 = 2;
            while (i34 < i35) {
                LongSparseArray<ArrayList<MessageObject>> longSparseArray10 = i34 == i33 ? this.reloadingScheduledWebpagesPending : this.reloadingWebpagesPending;
                int size5 = longSparseArray2.size();
                for (int i36 = 0; i36 < size5; i36++) {
                    long keyAt = longSparseArray2.keyAt(i36);
                    ArrayList<MessageObject> arrayList15 = longSparseArray10.get(keyAt);
                    longSparseArray10.remove(keyAt);
                    if (arrayList15 != null) {
                        TLRPC$WebPage tLRPC$WebPage = (TLRPC$WebPage) longSparseArray2.valueAt(i36);
                        ArrayList<TLRPC$Message> arrayList16 = new ArrayList<>();
                        if ((tLRPC$WebPage instanceof TLRPC$TL_webPage) || (tLRPC$WebPage instanceof TLRPC$TL_webPageEmpty)) {
                            int size6 = arrayList15.size();
                            j2 = 0;
                            for (int i37 = 0; i37 < size6; i37++) {
                                arrayList15.get(i37).messageOwner.media.webpage = tLRPC$WebPage;
                                if (i37 == 0) {
                                    j2 = arrayList15.get(i37).getDialogId();
                                    ImageLoader.saveMessageThumbs(arrayList15.get(i37).messageOwner);
                                }
                                arrayList16.add(arrayList15.get(i37).messageOwner);
                            }
                        } else {
                            longSparseArray10.put(tLRPC$WebPage.id, arrayList15);
                            j2 = 0;
                        }
                        if (!arrayList16.isEmpty()) {
                            getMessagesStorage().putMessages(arrayList16, true, true, false, getDownloadController().getAutodownloadMask(), i34 == 1);
                            getNotificationCenter().postNotificationName(NotificationCenter.replaceMessagesObjects, Long.valueOf(j2), arrayList15);
                        }
                    }
                }
                i34++;
                i35 = 2;
                i33 = 1;
            }
        }
        if (i4 != 0) {
            int i38 = 0;
            while (true) {
                DialogFilter[] dialogFilterArr = this.selectedDialogFilter;
                if (i38 >= dialogFilterArr.length) {
                    break;
                }
                if (dialogFilterArr[i38] != null && (dialogFilterArr[i38].flags & i4) != 0) {
                    z2 = true;
                    break;
                }
                i38++;
            }
        }
        if (longSparseArray3 != null) {
            int size7 = longSparseArray3.size();
            boolean z9 = false;
            for (int i39 = 0; i39 < size7; i39++) {
                if (updateInterfaceWithMessages(longSparseArray3.keyAt(i39), (ArrayList) longSparseArray3.valueAt(i39), false)) {
                    z9 = true;
                }
            }
            j = 0;
            if (applyFoldersUpdates(arrayList2) || (!z9 && z2)) {
                sortDialogs(null);
            }
        } else {
            j = 0;
            boolean applyFoldersUpdates = applyFoldersUpdates(arrayList2);
            if (!z2 && !applyFoldersUpdates) {
                longSparseArray9 = longSparseArray4;
                z3 = false;
                if (longSparseArray9 != null) {
                    int size8 = longSparseArray4.size();
                    for (int i40 = 0; i40 < size8; i40++) {
                        updateInterfaceWithMessages(longSparseArray9.keyAt(i40), (ArrayList) longSparseArray9.valueAt(i40), true);
                    }
                }
                if (longSparseArray5 != null) {
                    int size9 = longSparseArray5.size();
                    for (int i41 = 0; i41 < size9; i41++) {
                        long keyAt2 = longSparseArray5.keyAt(i41);
                        ArrayList<MessageObject> arrayList17 = (ArrayList) longSparseArray5.valueAt(i41);
                        int size10 = arrayList17.size();
                        SparseBooleanArray sparseBooleanArray = null;
                        for (int i42 = 0; i42 < size10; i42++) {
                            MessageObject messageObject2 = arrayList17.get(i42);
                            if (keyAt2 > j) {
                                if (sparseBooleanArray == null) {
                                    sparseBooleanArray = new SparseBooleanArray();
                                }
                                sparseBooleanArray.put(messageObject2.getId(), MessageObject.hasUnreadReactions(messageObject2.messageOwner));
                            }
                        }
                        if (keyAt2 > j) {
                            checkUnreadReactions(keyAt2, sparseBooleanArray);
                        }
                        MessageObject messageObject3 = this.dialogMessage.get(keyAt2);
                        if (messageObject3 != null) {
                            int size11 = arrayList17.size();
                            int i43 = 0;
                            while (true) {
                                if (i43 >= size11) {
                                    break;
                                }
                                MessageObject messageObject4 = arrayList17.get(i43);
                                if (messageObject3.getId() == messageObject4.getId()) {
                                    this.dialogMessage.put(keyAt2, messageObject4);
                                    TLRPC$Peer tLRPC$Peer7 = messageObject4.messageOwner.peer_id;
                                    if (tLRPC$Peer7 != null && tLRPC$Peer7.channel_id == j) {
                                        this.dialogMessagesByIds.put(messageObject4.getId(), messageObject4);
                                    }
                                    z3 = true;
                                } else if (messageObject3.getDialogId() == messageObject4.getDialogId() && (messageObject3.messageOwner.action instanceof TLRPC$TL_messageActionPinMessage) && (messageObject = messageObject3.replyMessageObject) != null && messageObject.getId() == messageObject4.getId()) {
                                    messageObject3.replyMessageObject = messageObject4;
                                    messageObject3.generatePinMessageText(null, null);
                                    z3 = true;
                                    break;
                                } else {
                                    i43++;
                                }
                            }
                        }
                        getMediaDataController().loadReplyMessagesForMessages(arrayList17, keyAt2, false, null);
                        getNotificationCenter().postNotificationName(NotificationCenter.replaceMessagesObjects, Long.valueOf(keyAt2), arrayList17, Boolean.FALSE);
                    }
                }
                if (z3) {
                    getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, new Object[0]);
                }
                if (z) {
                    i3 |= UPDATE_MASK_USER_PRINT;
                }
                if (arrayList3 != null) {
                    i3 = i3 | UPDATE_MASK_NAME | UPDATE_MASK_USER_PHONE;
                }
                if (arrayList4 != null) {
                    int size12 = arrayList4.size();
                    for (int i44 = 0; i44 < size12; i44++) {
                        getMessagesStorage().updateChatParticipants((TLRPC$ChatParticipants) arrayList4.get(i44));
                    }
                }
                if (longSparseArray6 != null && longSparseArray7 == null && longSparseArray8 == null) {
                    i5 = 1;
                } else {
                    i5 = 1;
                    getNotificationCenter().postNotificationName(NotificationCenter.didUpdateMessagesViews, longSparseArray6, longSparseArray7, longSparseArray8, Boolean.TRUE);
                }
                if (i3 != 0) {
                    NotificationCenter notificationCenter2 = getNotificationCenter();
                    int i45 = NotificationCenter.updateInterfaces;
                    Object[] objArr = new Object[i5];
                    objArr[0] = Integer.valueOf(i3);
                    notificationCenter2.postNotificationName(i45, objArr);
                }
                if (arrayList5 != null) {
                    return;
                }
                ImageLoader.getInstance().putThumbsToCache(arrayList5);
                return;
            }
            sortDialogs(null);
        }
        longSparseArray9 = longSparseArray4;
        z3 = true;
        if (longSparseArray9 != null) {
        }
        if (longSparseArray5 != null) {
        }
        if (z3) {
        }
        if (z) {
        }
        if (arrayList3 != null) {
        }
        if (arrayList4 != null) {
        }
        if (longSparseArray6 != null) {
        }
        i5 = 1;
        getNotificationCenter().postNotificationName(NotificationCenter.didUpdateMessagesViews, longSparseArray6, longSparseArray7, longSparseArray8, Boolean.TRUE);
        if (i3 != 0) {
        }
        if (arrayList5 != null) {
        }
    }

    public /* synthetic */ void lambda$processUpdateArray$329(LongSparseIntArray longSparseIntArray, LongSparseIntArray longSparseIntArray2, SparseIntArray sparseIntArray, LongSparseArray longSparseArray, LongSparseArray longSparseArray2, LongSparseArray longSparseArray3, LongSparseIntArray longSparseIntArray3) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda135(this, longSparseIntArray, longSparseIntArray2, sparseIntArray, longSparseArray, longSparseArray2, longSparseArray3, longSparseIntArray3));
    }

    /* JADX WARN: Code restructure failed: missing block: B:94:0x026b, code lost:
        if (org.telegram.messenger.ChatObject.isChannel(getChat(java.lang.Long.valueOf(r5))) != false) goto L96;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$processUpdateArray$328(LongSparseIntArray longSparseIntArray, LongSparseIntArray longSparseIntArray2, SparseIntArray sparseIntArray, LongSparseArray longSparseArray, LongSparseArray longSparseArray2, LongSparseArray longSparseArray3, LongSparseIntArray longSparseIntArray3) {
        int i;
        int i2;
        long j;
        long j2;
        int i3;
        MessageObject messageObject;
        int i4;
        MessageObject messageObject2;
        int i5;
        MessageObject messageObject3;
        LongSparseIntArray longSparseIntArray4 = longSparseIntArray;
        if (longSparseIntArray4 == null && longSparseIntArray2 == null) {
            i = 0;
        } else {
            getNotificationCenter().postNotificationName(NotificationCenter.messagesRead, longSparseIntArray4, longSparseIntArray2);
            if (longSparseIntArray4 != null) {
                getNotificationsController().processReadMessages(longSparseIntArray, 0L, 0, 0, false);
                SharedPreferences.Editor edit = this.notificationsPreferences.edit();
                int size = longSparseIntArray.size();
                int i6 = 0;
                i = 0;
                while (i6 < size) {
                    long keyAt = longSparseIntArray4.keyAt(i6);
                    int valueAt = longSparseIntArray4.valueAt(i6);
                    TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(keyAt);
                    int i7 = size;
                    if (tLRPC$Dialog != null && (i5 = tLRPC$Dialog.top_message) > 0 && i5 <= valueAt && (messageObject3 = this.dialogMessage.get(tLRPC$Dialog.id)) != null && !messageObject3.isOut()) {
                        messageObject3.setIsRead();
                        i |= UPDATE_MASK_READ_DIALOG_MESSAGE;
                    }
                    if (keyAt != getUserConfig().getClientUserId()) {
                        edit.remove("diditem" + keyAt);
                        edit.remove("diditemo" + keyAt);
                    }
                    i6++;
                    longSparseIntArray4 = longSparseIntArray;
                    size = i7;
                }
                edit.commit();
            } else {
                i = 0;
            }
            if (longSparseIntArray2 != null) {
                int size2 = longSparseIntArray2.size();
                for (int i8 = 0; i8 < size2; i8++) {
                    long keyAt2 = longSparseIntArray2.keyAt(i8);
                    int valueAt2 = longSparseIntArray2.valueAt(i8);
                    TLRPC$Dialog tLRPC$Dialog2 = this.dialogs_dict.get(keyAt2);
                    if (tLRPC$Dialog2 != null && (i4 = tLRPC$Dialog2.top_message) > 0 && i4 <= valueAt2 && (messageObject2 = this.dialogMessage.get(tLRPC$Dialog2.id)) != null && messageObject2.isOut()) {
                        messageObject2.setIsRead();
                        i = UPDATE_MASK_READ_DIALOG_MESSAGE | i;
                    }
                }
            }
        }
        if (sparseIntArray != null) {
            int size3 = sparseIntArray.size();
            for (int i9 = 0; i9 < size3; i9++) {
                int keyAt3 = sparseIntArray.keyAt(i9);
                int valueAt3 = sparseIntArray.valueAt(i9);
                getNotificationCenter().postNotificationName(NotificationCenter.messagesReadEncrypted, Integer.valueOf(keyAt3), Integer.valueOf(valueAt3));
                long makeEncryptedDialogId = DialogObject.makeEncryptedDialogId(keyAt3);
                if (this.dialogs_dict.get(makeEncryptedDialogId) != null && (messageObject = this.dialogMessage.get(makeEncryptedDialogId)) != null && messageObject.messageOwner.date <= valueAt3) {
                    messageObject.setIsRead();
                    i = UPDATE_MASK_READ_DIALOG_MESSAGE | i;
                }
            }
        }
        if (longSparseArray != null) {
            int size4 = longSparseArray.size();
            for (int i10 = 0; i10 < size4; i10++) {
                getNotificationCenter().postNotificationName(NotificationCenter.messagesReadContent, Long.valueOf(longSparseArray.keyAt(i10)), (ArrayList) longSparseArray.valueAt(i10));
            }
        }
        int i11 = 3;
        if (longSparseArray2 != null) {
            int size5 = longSparseArray2.size();
            int i12 = 0;
            while (i12 < size5) {
                long keyAt4 = longSparseArray2.keyAt(i12);
                ArrayList arrayList = (ArrayList) longSparseArray2.valueAt(i12);
                if (arrayList == null) {
                    i3 = i;
                } else {
                    NotificationCenter notificationCenter = getNotificationCenter();
                    int i13 = NotificationCenter.messagesDeleted;
                    Object[] objArr = new Object[i11];
                    objArr[0] = arrayList;
                    i3 = i;
                    objArr[1] = Long.valueOf(-keyAt4);
                    objArr[2] = Boolean.FALSE;
                    notificationCenter.postNotificationName(i13, objArr);
                    if (keyAt4 == 0) {
                        int size6 = arrayList.size();
                        for (int i14 = 0; i14 < size6; i14++) {
                            MessageObject messageObject4 = this.dialogMessagesByIds.get(((Integer) arrayList.get(i14)).intValue());
                            if (messageObject4 != null) {
                                if (BuildVars.LOGS_ENABLED) {
                                    FileLog.d("mark messages " + messageObject4.getId() + " deleted");
                                }
                                messageObject4.deleted = true;
                            }
                        }
                    } else {
                        MessageObject messageObject5 = this.dialogMessage.get(keyAt4);
                        if (messageObject5 != null) {
                            int size7 = arrayList.size();
                            int i15 = 0;
                            while (true) {
                                if (i15 >= size7) {
                                    break;
                                } else if (messageObject5.getId() == ((Integer) arrayList.get(i15)).intValue()) {
                                    messageObject5.deleted = true;
                                    break;
                                } else {
                                    i15++;
                                }
                            }
                        }
                    }
                }
                i12++;
                i = i3;
                i11 = 3;
            }
            i2 = i;
            j = 0;
            getNotificationsController().removeDeletedMessagesFromNotifications(longSparseArray2);
        } else {
            i2 = i;
            j = 0;
        }
        if (longSparseArray3 != null) {
            int size8 = longSparseArray3.size();
            for (int i16 = 0; i16 < size8; i16++) {
                long keyAt5 = longSparseArray3.keyAt(i16);
                ArrayList arrayList2 = (ArrayList) longSparseArray3.valueAt(i16);
                if (arrayList2 != null) {
                    NotificationCenter notificationCenter2 = getNotificationCenter();
                    int i17 = NotificationCenter.messagesDeleted;
                    Object[] objArr2 = new Object[3];
                    objArr2[0] = arrayList2;
                    if (DialogObject.isChatDialog(keyAt5)) {
                        j2 = -keyAt5;
                    }
                    j2 = j;
                    objArr2[1] = Long.valueOf(j2);
                    objArr2[2] = Boolean.TRUE;
                    notificationCenter2.postNotificationName(i17, objArr2);
                }
            }
        }
        if (longSparseIntArray3 != null) {
            int size9 = longSparseIntArray3.size();
            int i18 = 0;
            while (true) {
                if (i18 >= size9) {
                    break;
                }
                long keyAt6 = longSparseIntArray3.keyAt(i18);
                int valueAt4 = longSparseIntArray3.valueAt(i18);
                long j3 = -keyAt6;
                getNotificationCenter().postNotificationName(NotificationCenter.historyCleared, Long.valueOf(j3), Integer.valueOf(valueAt4));
                MessageObject messageObject6 = this.dialogMessage.get(j3);
                if (messageObject6 != null && messageObject6.getId() <= valueAt4) {
                    messageObject6.deleted = true;
                    break;
                }
                i18++;
            }
            getNotificationsController().removeDeletedHisoryFromNotifications(longSparseIntArray3);
        }
        if (i2 != 0) {
            getNotificationCenter().postNotificationName(NotificationCenter.updateInterfaces, Integer.valueOf(i2));
        }
    }

    public /* synthetic */ void lambda$processUpdateArray$330(long j, ArrayList arrayList) {
        getMessagesStorage().updateDialogsWithDeletedMessages(j, -j, arrayList, getMessagesStorage().markMessagesAsDeleted(j, arrayList, false, true, false), false);
    }

    public /* synthetic */ void lambda$processUpdateArray$331(long j, int i) {
        getMessagesStorage().updateDialogsWithDeletedMessages(j, -j, new ArrayList<>(), getMessagesStorage().markMessagesAsDeleted(j, i, false, true), false);
    }

    public void checkUnreadReactions(long j, SparseBooleanArray sparseBooleanArray) {
        getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda93(this, sparseBooleanArray, j));
    }

    public /* synthetic */ void lambda$checkUnreadReactions$335(SparseBooleanArray sparseBooleanArray, long j) {
        boolean z;
        boolean z2;
        int i;
        ArrayList arrayList = new ArrayList();
        StringBuilder sb = new StringBuilder();
        for (int i2 = 0; i2 < sparseBooleanArray.size(); i2++) {
            int keyAt = sparseBooleanArray.keyAt(i2);
            if (sb.length() > 0) {
                sb.append(", ");
            }
            sb.append(keyAt);
        }
        SparseBooleanArray sparseBooleanArray2 = new SparseBooleanArray();
        try {
            SQLiteCursor queryFinalized = getMessagesStorage().getDatabase().queryFinalized(String.format(Locale.US, "SELECT message_id, state FROM reaction_mentions WHERE message_id IN (%s) AND dialog_id = %d", sb.toString(), Long.valueOf(j)), new Object[0]);
            while (queryFinalized.next()) {
                sparseBooleanArray2.put(queryFinalized.intValue(0), queryFinalized.intValue(1) == 1);
            }
            queryFinalized.dispose();
        } catch (SQLiteException e) {
            e.printStackTrace();
        }
        int i3 = 0;
        int i4 = 0;
        boolean z3 = false;
        boolean z4 = false;
        while (i4 < sparseBooleanArray.size()) {
            int keyAt2 = sparseBooleanArray.keyAt(i4);
            boolean valueAt = sparseBooleanArray.valueAt(i4);
            if (sparseBooleanArray2.indexOfKey(keyAt2) >= 0) {
                if (sparseBooleanArray2.get(keyAt2) != valueAt) {
                    i3 += valueAt ? 1 : -1;
                    z2 = z3;
                    z = true;
                } else {
                    z = z4;
                    z2 = z3;
                }
                i = i3;
            } else {
                i = i3;
                z = z4;
                z2 = true;
            }
            if (valueAt) {
                arrayList.add(Integer.valueOf(keyAt2));
            }
            try {
                SQLitePreparedStatement executeFast = getMessagesStorage().getDatabase().executeFast("REPLACE INTO reaction_mentions VALUES(?, ?, ?)");
                executeFast.requery();
                executeFast.bindInteger(1, keyAt2);
                executeFast.bindInteger(2, valueAt ? 1 : 0);
                executeFast.bindLong(3, j);
                executeFast.step();
                executeFast.dispose();
            } catch (SQLiteException e2) {
                e2.printStackTrace();
            }
            i4++;
            i3 = i;
            z3 = z2;
            z4 = z;
        }
        if (!z3) {
            if (!z4) {
                return;
            }
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda71(this, j, i3, arrayList));
            return;
        }
        TLRPC$TL_messages_getPeerDialogs tLRPC$TL_messages_getPeerDialogs = new TLRPC$TL_messages_getPeerDialogs();
        TLRPC$TL_inputDialogPeer tLRPC$TL_inputDialogPeer = new TLRPC$TL_inputDialogPeer();
        tLRPC$TL_inputDialogPeer.peer = getInputPeer(j);
        tLRPC$TL_messages_getPeerDialogs.peers.add(tLRPC$TL_inputDialogPeer);
        ConnectionsManager.getInstance(this.currentAccount).sendRequest(tLRPC$TL_messages_getPeerDialogs, new MessagesController$$ExternalSyntheticLambda301(this, j, arrayList));
    }

    public /* synthetic */ void lambda$checkUnreadReactions$333(long j, ArrayList arrayList, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            TLRPC$TL_messages_peerDialogs tLRPC$TL_messages_peerDialogs = (TLRPC$TL_messages_peerDialogs) tLObject;
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda70(this, j, tLRPC$TL_messages_peerDialogs.dialogs.size() == 0 ? 0 : tLRPC$TL_messages_peerDialogs.dialogs.get(0).unread_reactions_count, arrayList));
        }
    }

    public /* synthetic */ void lambda$checkUnreadReactions$332(long j, int i, ArrayList arrayList) {
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
        if (tLRPC$Dialog == null) {
            getMessagesStorage().updateDialogUnreadReactions(j, i, false);
            return;
        }
        tLRPC$Dialog.unread_reactions_count = i;
        getMessagesStorage().updateUnreadReactionsCount(j, i);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsUnreadReactionsCounterChanged, Long.valueOf(j), Integer.valueOf(i), arrayList);
    }

    public /* synthetic */ void lambda$checkUnreadReactions$334(long j, int i, ArrayList arrayList) {
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
        if (tLRPC$Dialog == null) {
            getMessagesStorage().updateDialogUnreadReactions(j, i, true);
            return;
        }
        int i2 = tLRPC$Dialog.unread_reactions_count + i;
        tLRPC$Dialog.unread_reactions_count = i2;
        if (i2 < 0) {
            tLRPC$Dialog.unread_reactions_count = 0;
        }
        getMessagesStorage().updateUnreadReactionsCount(j, tLRPC$Dialog.unread_reactions_count);
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsUnreadReactionsCounterChanged, Long.valueOf(j), Integer.valueOf(tLRPC$Dialog.unread_reactions_count), arrayList);
    }

    public boolean isDialogMuted(long j) {
        return isDialogMuted(j, null);
    }

    public boolean isDialogNotificationsSoundEnabled(long j) {
        SharedPreferences sharedPreferences = this.notificationsPreferences;
        return sharedPreferences.getBoolean("sound_enabled_" + j, true);
    }

    public boolean isDialogMuted(long j, TLRPC$Chat tLRPC$Chat) {
        Boolean bool;
        SharedPreferences sharedPreferences = this.notificationsPreferences;
        int i = sharedPreferences.getInt("notify2_" + j, -1);
        boolean z = false;
        if (i == -1) {
            if (tLRPC$Chat != null) {
                if (ChatObject.isChannel(tLRPC$Chat) && !tLRPC$Chat.megagroup) {
                    z = true;
                }
                bool = Boolean.valueOf(z);
            } else {
                bool = null;
            }
            return !getNotificationsController().isGlobalNotificationsEnabled(j, bool);
        } else if (i == 2) {
            return true;
        } else {
            if (i == 3) {
                SharedPreferences sharedPreferences2 = this.notificationsPreferences;
                if (sharedPreferences2.getInt("notifyuntil_" + j, 0) >= getConnectionsManager().getCurrentTime()) {
                    return true;
                }
            }
            return false;
        }
    }

    public void markReactionsAsRead(long j) {
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
        if (tLRPC$Dialog != null) {
            tLRPC$Dialog.unread_reactions_count = 0;
        }
        getMessagesStorage().updateUnreadReactionsCount(j, 0);
        TLRPC$TL_messages_readReactions tLRPC$TL_messages_readReactions = new TLRPC$TL_messages_readReactions();
        tLRPC$TL_messages_readReactions.peer = getInputPeer(j);
        getConnectionsManager().sendRequest(tLRPC$TL_messages_readReactions, MessagesController$$ExternalSyntheticLambda356.INSTANCE);
    }

    public ArrayList<MessageObject> getSponsoredMessages(long j) {
        SponsoredMessagesInfo sponsoredMessagesInfo = this.sponsoredMessages.get(j);
        if (sponsoredMessagesInfo != null && (sponsoredMessagesInfo.loading || Math.abs(SystemClock.elapsedRealtime() - sponsoredMessagesInfo.loadTime) <= 300000)) {
            return sponsoredMessagesInfo.messages;
        }
        TLRPC$Chat chat = getChat(Long.valueOf(-j));
        if (!ChatObject.isChannel(chat)) {
            return null;
        }
        SponsoredMessagesInfo sponsoredMessagesInfo2 = new SponsoredMessagesInfo(this, null);
        sponsoredMessagesInfo2.loading = true;
        this.sponsoredMessages.put(j, sponsoredMessagesInfo2);
        TLRPC$TL_channels_getSponsoredMessages tLRPC$TL_channels_getSponsoredMessages = new TLRPC$TL_channels_getSponsoredMessages();
        tLRPC$TL_channels_getSponsoredMessages.channel = getInputChannel(chat);
        getConnectionsManager().sendRequest(tLRPC$TL_channels_getSponsoredMessages, new MessagesController$$ExternalSyntheticLambda304(this, j, sponsoredMessagesInfo2));
        return null;
    }

    public /* synthetic */ void lambda$getSponsoredMessages$339(long j, SponsoredMessagesInfo sponsoredMessagesInfo, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        ArrayList arrayList = null;
        if (tLObject != null) {
            TLRPC$TL_messages_sponsoredMessages tLRPC$TL_messages_sponsoredMessages = (TLRPC$TL_messages_sponsoredMessages) tLObject;
            if (!tLRPC$TL_messages_sponsoredMessages.messages.isEmpty()) {
                arrayList = new ArrayList();
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda176(this, tLRPC$TL_messages_sponsoredMessages));
                LongSparseArray longSparseArray = new LongSparseArray();
                LongSparseArray longSparseArray2 = new LongSparseArray();
                int i = 0;
                for (int i2 = 0; i2 < tLRPC$TL_messages_sponsoredMessages.users.size(); i2++) {
                    TLRPC$User tLRPC$User = tLRPC$TL_messages_sponsoredMessages.users.get(i2);
                    longSparseArray.put(tLRPC$User.id, tLRPC$User);
                }
                for (int i3 = 0; i3 < tLRPC$TL_messages_sponsoredMessages.chats.size(); i3++) {
                    TLRPC$Chat tLRPC$Chat = tLRPC$TL_messages_sponsoredMessages.chats.get(i3);
                    longSparseArray2.put(tLRPC$Chat.id, tLRPC$Chat);
                }
                int i4 = -10000000;
                int size = tLRPC$TL_messages_sponsoredMessages.messages.size();
                while (i < size) {
                    TLRPC$TL_sponsoredMessage tLRPC$TL_sponsoredMessage = tLRPC$TL_messages_sponsoredMessages.messages.get(i);
                    TLRPC$TL_message tLRPC$TL_message = new TLRPC$TL_message();
                    tLRPC$TL_message.message = tLRPC$TL_sponsoredMessage.message;
                    if (!tLRPC$TL_sponsoredMessage.entities.isEmpty()) {
                        tLRPC$TL_message.entities = tLRPC$TL_sponsoredMessage.entities;
                        tLRPC$TL_message.flags |= 128;
                    }
                    tLRPC$TL_message.peer_id = getPeer(j);
                    tLRPC$TL_message.from_id = tLRPC$TL_sponsoredMessage.from_id;
                    tLRPC$TL_message.flags |= 256;
                    tLRPC$TL_message.date = getConnectionsManager().getCurrentTime();
                    int i5 = i4 - 1;
                    tLRPC$TL_message.id = i4;
                    MessageObject messageObject = new MessageObject(this.currentAccount, (TLRPC$Message) tLRPC$TL_message, (LongSparseArray<TLRPC$User>) longSparseArray, (LongSparseArray<TLRPC$Chat>) longSparseArray2, true, true);
                    messageObject.sponsoredId = tLRPC$TL_sponsoredMessage.random_id;
                    messageObject.botStartParam = tLRPC$TL_sponsoredMessage.start_param;
                    messageObject.sponsoredChannelPost = tLRPC$TL_sponsoredMessage.channel_post;
                    messageObject.sponsoredChatInvite = tLRPC$TL_sponsoredMessage.chat_invite;
                    messageObject.sponsoredChatInviteHash = tLRPC$TL_sponsoredMessage.chat_invite_hash;
                    arrayList.add(messageObject);
                    i++;
                    i4 = i5;
                }
            }
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda118(this, arrayList, j, sponsoredMessagesInfo));
    }

    public /* synthetic */ void lambda$getSponsoredMessages$337(TLRPC$TL_messages_sponsoredMessages tLRPC$TL_messages_sponsoredMessages) {
        putUsers(tLRPC$TL_messages_sponsoredMessages.users, false);
        putChats(tLRPC$TL_messages_sponsoredMessages.chats, false);
    }

    public /* synthetic */ void lambda$getSponsoredMessages$338(ArrayList arrayList, long j, SponsoredMessagesInfo sponsoredMessagesInfo) {
        if (arrayList != null) {
            sponsoredMessagesInfo.loadTime = SystemClock.elapsedRealtime();
            sponsoredMessagesInfo.messages = arrayList;
            getNotificationCenter().postNotificationName(NotificationCenter.didLoadSponsoredMessages, Long.valueOf(j), arrayList);
            return;
        }
        this.sponsoredMessages.remove(j);
    }

    public TLRPC$TL_channels_sendAsPeers getSendAsPeers(long j) {
        SendAsPeersInfo sendAsPeersInfo = this.sendAsPeers.get(j);
        if (sendAsPeersInfo != null && (sendAsPeersInfo.loading || Math.abs(SystemClock.elapsedRealtime() - sendAsPeersInfo.loadTime) <= 300000)) {
            return sendAsPeersInfo.sendAsPeers;
        }
        TLRPC$Chat chat = getChat(Long.valueOf(-j));
        if (chat != null && ChatObject.canSendAsPeers(chat)) {
            SendAsPeersInfo sendAsPeersInfo2 = new SendAsPeersInfo(this, null);
            sendAsPeersInfo2.loading = true;
            this.sendAsPeers.put(j, sendAsPeersInfo2);
            TLRPC$TL_channels_getSendAs tLRPC$TL_channels_getSendAs = new TLRPC$TL_channels_getSendAs();
            tLRPC$TL_channels_getSendAs.peer = getInputPeer(j);
            getConnectionsManager().sendRequest(tLRPC$TL_channels_getSendAs, new MessagesController$$ExternalSyntheticLambda303(this, j, sendAsPeersInfo2));
        }
        return null;
    }

    public /* synthetic */ void lambda$getSendAsPeers$342(long j, SendAsPeersInfo sendAsPeersInfo, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        TLRPC$TL_channels_sendAsPeers tLRPC$TL_channels_sendAsPeers = null;
        if (tLObject != null) {
            TLRPC$TL_channels_sendAsPeers tLRPC$TL_channels_sendAsPeers2 = (TLRPC$TL_channels_sendAsPeers) tLObject;
            if (!tLRPC$TL_channels_sendAsPeers2.peers.isEmpty()) {
                AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda159(this, tLRPC$TL_channels_sendAsPeers2));
                LongSparseArray longSparseArray = new LongSparseArray();
                LongSparseArray longSparseArray2 = new LongSparseArray();
                for (int i = 0; i < tLRPC$TL_channels_sendAsPeers2.users.size(); i++) {
                    TLRPC$User tLRPC$User = tLRPC$TL_channels_sendAsPeers2.users.get(i);
                    longSparseArray.put(tLRPC$User.id, tLRPC$User);
                }
                for (int i2 = 0; i2 < tLRPC$TL_channels_sendAsPeers2.chats.size(); i2++) {
                    TLRPC$Chat tLRPC$Chat = tLRPC$TL_channels_sendAsPeers2.chats.get(i2);
                    longSparseArray2.put(tLRPC$Chat.id, tLRPC$Chat);
                }
                tLRPC$TL_channels_sendAsPeers = tLRPC$TL_channels_sendAsPeers2;
            }
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda160(this, tLRPC$TL_channels_sendAsPeers, j, sendAsPeersInfo));
    }

    public /* synthetic */ void lambda$getSendAsPeers$340(TLRPC$TL_channels_sendAsPeers tLRPC$TL_channels_sendAsPeers) {
        putUsers(tLRPC$TL_channels_sendAsPeers.users, false);
        putChats(tLRPC$TL_channels_sendAsPeers.chats, false);
    }

    public /* synthetic */ void lambda$getSendAsPeers$341(TLRPC$TL_channels_sendAsPeers tLRPC$TL_channels_sendAsPeers, long j, SendAsPeersInfo sendAsPeersInfo) {
        if (tLRPC$TL_channels_sendAsPeers != null) {
            sendAsPeersInfo.loadTime = SystemClock.elapsedRealtime();
            sendAsPeersInfo.sendAsPeers = tLRPC$TL_channels_sendAsPeers;
            getNotificationCenter().postNotificationName(NotificationCenter.didLoadSendAsPeers, Long.valueOf(j), tLRPC$TL_channels_sendAsPeers);
            return;
        }
        this.sendAsPeers.remove(j);
    }

    public CharSequence getPrintingString(long j, int i, boolean z) {
        SparseArray<CharSequence> sparseArray;
        TLRPC$User user;
        TLRPC$UserStatus tLRPC$UserStatus;
        if ((!z || !DialogObject.isUserDialog(j) || (user = getUser(Long.valueOf(j))) == null || (tLRPC$UserStatus = user.status) == null || tLRPC$UserStatus.expires >= 0) && (sparseArray = this.printingStrings.get(j)) != null) {
            return sparseArray.get(i);
        }
        return null;
    }

    public Integer getPrintingStringType(long j, int i) {
        SparseArray<Integer> sparseArray = this.printingStringsTypes.get(j);
        if (sparseArray == null) {
            return null;
        }
        return sparseArray.get(i);
    }

    private boolean updatePrintingUsersWithNewMessages(long j, ArrayList<MessageObject> arrayList) {
        boolean z;
        if (j > 0) {
            if (this.printingUsers.get(Long.valueOf(j)) != null) {
                this.printingUsers.remove(Long.valueOf(j));
                return true;
            }
        } else if (j < 0) {
            ArrayList arrayList2 = new ArrayList();
            Iterator<MessageObject> it = arrayList.iterator();
            while (it.hasNext()) {
                MessageObject next = it.next();
                if (next.isFromUser() && !arrayList2.contains(Long.valueOf(next.messageOwner.from_id.user_id))) {
                    arrayList2.add(Long.valueOf(next.messageOwner.from_id.user_id));
                }
            }
            ConcurrentHashMap<Integer, ArrayList<PrintingUser>> concurrentHashMap = this.printingUsers.get(Long.valueOf(j));
            if (concurrentHashMap != null) {
                ArrayList arrayList3 = null;
                z = false;
                for (Map.Entry<Integer, ArrayList<PrintingUser>> entry : concurrentHashMap.entrySet()) {
                    Integer key = entry.getKey();
                    ArrayList<PrintingUser> value = entry.getValue();
                    int i = 0;
                    while (i < value.size()) {
                        if (arrayList2.contains(Long.valueOf(value.get(i).userId))) {
                            value.remove(i);
                            i--;
                            if (value.isEmpty()) {
                                if (arrayList3 == null) {
                                    arrayList3 = new ArrayList();
                                }
                                arrayList3.add(key);
                            }
                            z = true;
                        }
                        i++;
                    }
                }
                if (arrayList3 != null) {
                    int size = arrayList3.size();
                    for (int i2 = 0; i2 < size; i2++) {
                        concurrentHashMap.remove(arrayList3.get(i2));
                    }
                    if (concurrentHashMap.isEmpty()) {
                        this.printingUsers.remove(Long.valueOf(j));
                    }
                }
            } else {
                z = false;
            }
            if (z) {
                return true;
            }
        }
        return false;
    }

    /* JADX WARN: Code restructure failed: missing block: B:36:0x0090, code lost:
        if (r10.id != r11.messageOwner.action.call.id) goto L38;
     */
    /* JADX WARN: Removed duplicated region for block: B:168:0x03c9  */
    /* JADX WARN: Removed duplicated region for block: B:170:0x03cf  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public boolean updateInterfaceWithMessages(long j, ArrayList<MessageObject> arrayList, boolean z) {
        long j2;
        boolean z2;
        MessageObject messageObject;
        boolean z3;
        long j3;
        boolean z4;
        ChatObject.Call groupCall;
        TLRPC$Chat chat;
        long j4;
        long j5;
        MessageObject messageObject2;
        TLRPC$ChatFull chatFull;
        if (arrayList == null || arrayList.isEmpty()) {
            return false;
        }
        boolean isEncryptedDialog = DialogObject.isEncryptedDialog(j);
        long j6 = 0;
        if (!z) {
            long j7 = 0;
            int i = 0;
            MessageObject messageObject3 = null;
            boolean z5 = false;
            z2 = false;
            while (i < arrayList.size()) {
                MessageObject messageObject4 = arrayList.get(i);
                if (messageObject3 == null || ((!isEncryptedDialog && messageObject4.getId() > messageObject3.getId()) || (((isEncryptedDialog || (messageObject4.getId() < 0 && messageObject3.getId() < 0)) && messageObject4.getId() < messageObject3.getId()) || messageObject4.messageOwner.date > messageObject3.messageOwner.date))) {
                    long j8 = j7;
                    long j9 = messageObject4.messageOwner.peer_id.channel_id;
                    if (j9 != j6) {
                        j7 = j9;
                        messageObject3 = messageObject4;
                    } else {
                        messageObject3 = messageObject4;
                        j7 = j8;
                    }
                }
                TLRPC$Message tLRPC$Message = messageObject4.messageOwner;
                if (!(tLRPC$Message.action instanceof TLRPC$TL_messageActionGroupCall) || (chatFull = getChatFull(tLRPC$Message.peer_id.channel_id)) == null) {
                    messageObject2 = messageObject3;
                    j5 = j7;
                } else {
                    TLRPC$TL_inputGroupCall tLRPC$TL_inputGroupCall = chatFull.call;
                    if (tLRPC$TL_inputGroupCall != null) {
                        messageObject2 = messageObject3;
                        j5 = j7;
                    } else {
                        messageObject2 = messageObject3;
                        j5 = j7;
                    }
                    loadFullChat(messageObject4.messageOwner.peer_id.channel_id, 0, true);
                }
                if (!z5 && !messageObject4.isOut()) {
                    z5 = true;
                }
                if (messageObject4.isOut() && !messageObject4.isSending() && !messageObject4.isForwarded()) {
                    if (messageObject4.isNewGif()) {
                        if (MessageObject.isDocumentHasAttachedStickers(messageObject4.messageOwner.media.document) ? getMessagesController().saveGifsWithStickers : true) {
                            MediaDataController mediaDataController = getMediaDataController();
                            TLRPC$Message tLRPC$Message2 = messageObject4.messageOwner;
                            mediaDataController.addRecentGif(tLRPC$Message2.media.document, tLRPC$Message2.date, true);
                        }
                    } else if (!messageObject4.isAnimatedEmoji() && (messageObject4.isSticker() || messageObject4.isAnimatedSticker())) {
                        MediaDataController mediaDataController2 = getMediaDataController();
                        TLRPC$Message tLRPC$Message3 = messageObject4.messageOwner;
                        mediaDataController2.addRecentSticker(0, messageObject4, tLRPC$Message3.media.document, tLRPC$Message3.date, false);
                    }
                }
                if (messageObject4.isOut() && messageObject4.isSent()) {
                    z2 = true;
                }
                i++;
                messageObject3 = messageObject2;
                j7 = j5;
                j6 = 0;
            }
            j2 = j7;
            messageObject = messageObject3;
        } else {
            messageObject = null;
            z2 = false;
            j2 = 0;
        }
        getMediaDataController().loadReplyMessagesForMessages(arrayList, j, z, null);
        getNotificationCenter().postNotificationName(NotificationCenter.didReceiveNewMessages, Long.valueOf(j), arrayList, Boolean.valueOf(z));
        if (messageObject == null || z) {
            return false;
        }
        TLRPC$TL_dialog tLRPC$TL_dialog = (TLRPC$TL_dialog) this.dialogs_dict.get(j);
        if (messageObject.messageOwner.action instanceof TLRPC$TL_messageActionChatMigrateTo) {
            if (tLRPC$TL_dialog != null) {
                this.allDialogs.remove(tLRPC$TL_dialog);
                this.dialogsServerOnly.remove(tLRPC$TL_dialog);
                this.dialogsCanAddUsers.remove(tLRPC$TL_dialog);
                this.dialogsMyGroups.remove(tLRPC$TL_dialog);
                this.dialogsMyChannels.remove(tLRPC$TL_dialog);
                this.dialogsChannelsOnly.remove(tLRPC$TL_dialog);
                this.dialogsGroupsOnly.remove(tLRPC$TL_dialog);
                int i2 = 0;
                while (true) {
                    DialogFilter[] dialogFilterArr = this.selectedDialogFilter;
                    if (i2 >= dialogFilterArr.length) {
                        break;
                    }
                    if (dialogFilterArr[i2] != null) {
                        dialogFilterArr[i2].dialogs.remove(tLRPC$TL_dialog);
                    }
                    i2++;
                }
                this.dialogsUsersOnly.remove(tLRPC$TL_dialog);
                this.dialogsForBlock.remove(tLRPC$TL_dialog);
                this.dialogsForward.remove(tLRPC$TL_dialog);
                this.dialogs_dict.remove(tLRPC$TL_dialog.id);
                this.dialogs_read_inbox_max.remove(Long.valueOf(tLRPC$TL_dialog.id));
                this.dialogs_read_outbox_max.remove(Long.valueOf(tLRPC$TL_dialog.id));
                int i3 = this.nextDialogsCacheOffset.get(tLRPC$TL_dialog.folder_id, 0);
                if (i3 > 0) {
                    this.nextDialogsCacheOffset.put(tLRPC$TL_dialog.folder_id, i3 - 1);
                }
                this.dialogMessage.remove(tLRPC$TL_dialog.id);
                ArrayList<TLRPC$Dialog> arrayList2 = this.dialogsByFolder.get(tLRPC$TL_dialog.folder_id);
                if (arrayList2 != null) {
                    arrayList2.remove(tLRPC$TL_dialog);
                }
                MessageObject messageObject5 = this.dialogMessagesByIds.get(tLRPC$TL_dialog.top_message);
                if (messageObject5 != null) {
                    j4 = 0;
                    if (messageObject5.messageOwner.peer_id.channel_id == 0) {
                        this.dialogMessagesByIds.remove(tLRPC$TL_dialog.top_message);
                    }
                } else {
                    j4 = 0;
                }
                if (messageObject5 != null) {
                    long j10 = messageObject5.messageOwner.random_id;
                    if (j10 != j4) {
                        this.dialogMessagesByRandomIds.remove(j10);
                    }
                }
                z4 = false;
                tLRPC$TL_dialog.top_message = 0;
                getNotificationsController().removeNotificationsForDialog(tLRPC$TL_dialog.id);
                getNotificationCenter().postNotificationName(NotificationCenter.needReloadRecentDialogsSearch, new Object[0]);
            } else {
                z4 = false;
            }
            if (!DialogObject.isChatDialog(j) || (groupCall = getGroupCall(-j, z4)) == null || (chat = getChat(Long.valueOf(messageObject.messageOwner.action.channel_id))) == null) {
                return false;
            }
            groupCall.migrateToChat(chat);
            return false;
        }
        if (tLRPC$TL_dialog == null) {
            TLRPC$Chat chat2 = getChat(Long.valueOf(j2));
            if (j2 != 0 && chat2 == null) {
                return false;
            }
            if (chat2 != null && (ChatObject.isNotInChat(chat2) || chat2.min)) {
                return false;
            }
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("not found dialog with id " + j + " dictCount = " + this.dialogs_dict.size() + " allCount = " + this.allDialogs.size());
            }
            TLRPC$TL_dialog tLRPC$TL_dialog2 = new TLRPC$TL_dialog();
            tLRPC$TL_dialog2.id = j;
            int id = messageObject.getId();
            tLRPC$TL_dialog2.top_message = id;
            tLRPC$TL_dialog2.last_message_date = messageObject.messageOwner.date;
            tLRPC$TL_dialog2.flags = ChatObject.isChannel(chat2) ? 1 : 0;
            this.dialogs_dict.put(j, tLRPC$TL_dialog2);
            this.allDialogs.add(tLRPC$TL_dialog2);
            this.dialogMessage.put(j, messageObject);
            if (messageObject.messageOwner.peer_id.channel_id == 0) {
                this.dialogMessagesByIds.put(messageObject.getId(), messageObject);
                long j11 = messageObject.messageOwner.random_id;
                if (j11 != 0) {
                    this.dialogMessagesByRandomIds.put(j11, messageObject);
                }
            }
            getMessagesStorage().getDialogFolderId(j, new MessagesController$$ExternalSyntheticLambda229(this, tLRPC$TL_dialog2, id, j));
        } else if ((tLRPC$TL_dialog.top_message <= 0 || messageObject.getId() <= 0 || messageObject.getId() <= tLRPC$TL_dialog.top_message) && ((tLRPC$TL_dialog.top_message >= 0 || messageObject.getId() >= 0 || messageObject.getId() >= tLRPC$TL_dialog.top_message) && this.dialogMessage.indexOfKey(j) >= 0 && tLRPC$TL_dialog.top_message >= 0 && tLRPC$TL_dialog.last_message_date > messageObject.messageOwner.date)) {
            z3 = false;
            if (z3) {
                sortDialogs(null);
            }
            if (z2) {
                getMediaDataController().increasePeerRaiting(j);
            }
            return z3;
        } else {
            MessageObject messageObject6 = this.dialogMessagesByIds.get(tLRPC$TL_dialog.top_message);
            if (messageObject6 != null) {
                j3 = 0;
                if (messageObject6.messageOwner.peer_id.channel_id == 0) {
                    this.dialogMessagesByIds.remove(tLRPC$TL_dialog.top_message);
                }
            } else {
                j3 = 0;
            }
            if (messageObject6 != null) {
                long j12 = messageObject6.messageOwner.random_id;
                if (j12 != j3) {
                    this.dialogMessagesByRandomIds.remove(j12);
                }
            }
            tLRPC$TL_dialog.top_message = messageObject.getId();
            tLRPC$TL_dialog.last_message_date = messageObject.messageOwner.date;
            this.dialogMessage.put(j, messageObject);
            if (messageObject.messageOwner.peer_id.channel_id == 0) {
                this.dialogMessagesByIds.put(messageObject.getId(), messageObject);
                long j13 = messageObject.messageOwner.random_id;
                if (j13 != 0) {
                    this.dialogMessagesByRandomIds.put(j13, messageObject);
                }
            }
        }
        z3 = true;
        if (z3) {
        }
        if (z2) {
        }
        return z3;
    }

    public /* synthetic */ void lambda$updateInterfaceWithMessages$343(TLRPC$Dialog tLRPC$Dialog, int i, long j, int i2) {
        if (i2 == -1) {
            if (i <= 0 || DialogObject.isEncryptedDialog(j)) {
                return;
            }
            loadUnknownDialog(getInputPeer(j), 0L);
        } else if (i2 == 0) {
        } else {
            tLRPC$Dialog.folder_id = i2;
            sortDialogs(null);
            getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, Boolean.TRUE);
        }
    }

    public void addDialogAction(long j, boolean z) {
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
        if (tLRPC$Dialog == null) {
            return;
        }
        if (z) {
            this.clearingHistoryDialogs.put(j, tLRPC$Dialog);
        } else {
            this.deletingDialogs.put(j, tLRPC$Dialog);
            this.allDialogs.remove(tLRPC$Dialog);
            sortDialogs(null);
        }
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, Boolean.TRUE);
    }

    public void removeDialogAction(long j, boolean z, boolean z2) {
        TLRPC$Dialog tLRPC$Dialog = this.dialogs_dict.get(j);
        if (tLRPC$Dialog == null) {
            return;
        }
        if (z) {
            this.clearingHistoryDialogs.remove(j);
        } else {
            this.deletingDialogs.remove(j);
            if (!z2) {
                this.allDialogs.add(tLRPC$Dialog);
                sortDialogs(null);
            }
        }
        if (z2) {
            return;
        }
        getNotificationCenter().postNotificationName(NotificationCenter.dialogsNeedReload, Boolean.TRUE);
    }

    public boolean isClearingDialog(long j) {
        return this.clearingHistoryDialogs.get(j) != null;
    }

    /* JADX WARN: Can't wrap try/catch for region: R(21:2|(2:3|(3:5|(2:7|181)(1:182)|8)(1:180))|9|(4:12|(2:14|184)(1:185)|15|10)|183|16|(15:20|(2:21|(3:23|(1:187)(3:25|(3:27|(4:29|(1:33)|34|(2:36|188)(1:190))(1:189)|37)|186)|38)(0))|39|41|(2:43|(1:49))|50|(6:52|(2:54|(4:58|(2:60|(4:62|(1:(2:92|(1:94)(1:95))(1:91))|(3:104|(1:106)|103)(2:99|(1:101))|(2:140|(1:142)(1:143)))(2:108|(1:(3:116|(2:126|(1:128)(1:129))|130)(5:115|158|160|192|161))(2:131|(2:133|(1:135)))))|136|(3:138|140|(0)(0)))(2:193|161))|144|(1:150)|151|(4:159|160|192|161)(5:157|158|160|192|161))|191|162|(1:166)|(1:170)|197|(4:173|(2:175|195)(1:196)|176|171)|194|177)(0)|178|39|41|(0)|50|(0)|191|162|(2:164|166)|(2:168|170)|197|(1:171)|194|177) */
    /* JADX WARN: Code restructure failed: missing block: B:102:0x01a1, code lost:
        if (org.telegram.messenger.ChatObject.hasAdminRights(r12) == false) goto L103;
     */
    /* JADX WARN: Code restructure failed: missing block: B:107:0x01b7, code lost:
        if (org.telegram.messenger.ChatObject.canPost(r12) != false) goto L136;
     */
    /* JADX WARN: Removed duplicated region for block: B:142:0x022b  */
    /* JADX WARN: Removed duplicated region for block: B:143:0x0232  */
    /* JADX WARN: Removed duplicated region for block: B:173:0x02b6  */
    /* JADX WARN: Removed duplicated region for block: B:43:0x00df  */
    /* JADX WARN: Removed duplicated region for block: B:52:0x0100  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void sortDialogs(LongSparseArray<TLRPC$Chat> longSparseArray) {
        TLRPC$Dialog tLRPC$Dialog;
        int size;
        int i;
        boolean z;
        TLRPC$Dialog tLRPC$Dialog2;
        TLRPC$User currentUser;
        boolean z2;
        TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights;
        TLRPC$Chat tLRPC$Chat;
        boolean z3;
        boolean z4;
        boolean z5;
        TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights2;
        TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights3;
        TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights;
        TLRPC$Chat chat;
        TLRPC$EncryptedChat encryptedChat;
        this.dialogsServerOnly.clear();
        this.dialogsCanAddUsers.clear();
        this.dialogsMyGroups.clear();
        this.dialogsMyChannels.clear();
        this.dialogsChannelsOnly.clear();
        this.dialogsGroupsOnly.clear();
        int i2 = 0;
        while (true) {
            DialogFilter[] dialogFilterArr = this.selectedDialogFilter;
            if (i2 >= dialogFilterArr.length) {
                break;
            }
            if (dialogFilterArr[i2] != null) {
                dialogFilterArr[i2].dialogs.clear();
            }
            i2++;
        }
        this.dialogsUsersOnly.clear();
        this.dialogsForBlock.clear();
        this.dialogsForward.clear();
        for (int i3 = 0; i3 < this.dialogsByFolder.size(); i3++) {
            ArrayList<TLRPC$Dialog> valueAt = this.dialogsByFolder.valueAt(i3);
            if (valueAt != null) {
                valueAt.clear();
            }
        }
        this.unreadUnmutedDialogs = 0;
        long clientUserId = getUserConfig().getClientUserId();
        DialogFilter[] dialogFilterArr2 = this.selectedDialogFilter;
        int i4 = 1;
        if (dialogFilterArr2[0] != null || dialogFilterArr2[1] != null) {
            int i5 = 0;
            while (true) {
                DialogFilter[] dialogFilterArr3 = this.selectedDialogFilter;
                if (i5 < dialogFilterArr3.length) {
                    DialogFilter dialogFilter = dialogFilterArr3[i5];
                    this.sortingDialogFilter = dialogFilter;
                    if (dialogFilter != null) {
                        Collections.sort(this.allDialogs, this.dialogDateComparator);
                        ArrayList<TLRPC$Dialog> arrayList = this.sortingDialogFilter.dialogs;
                        int size2 = this.allDialogs.size();
                        for (int i6 = 0; i6 < size2; i6++) {
                            TLRPC$Dialog tLRPC$Dialog3 = this.allDialogs.get(i6);
                            if (tLRPC$Dialog3 instanceof TLRPC$TL_dialog) {
                                long j = tLRPC$Dialog3.id;
                                if (DialogObject.isEncryptedDialog(j) && (encryptedChat = getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(j)))) != null) {
                                    j = encryptedChat.user_id;
                                }
                                if (this.sortingDialogFilter.includesDialog(getAccountInstance(), j, tLRPC$Dialog3)) {
                                    arrayList.add(tLRPC$Dialog3);
                                }
                            }
                        }
                    }
                    i5++;
                }
            }
            Collections.sort(this.allDialogs, this.dialogComparator);
            this.isLeftPromoChannel = true;
            tLRPC$Dialog = this.promoDialog;
            if (tLRPC$Dialog != null) {
                long j2 = tLRPC$Dialog.id;
                if (j2 < 0 && (chat = getChat(Long.valueOf(-j2))) != null && !chat.left) {
                    this.isLeftPromoChannel = false;
                }
            }
            size = this.allDialogs.size();
            i = 0;
            z = false;
            while (i < size) {
                TLRPC$Dialog tLRPC$Dialog4 = this.allDialogs.get(i);
                if (tLRPC$Dialog4 instanceof TLRPC$TL_dialog) {
                    MessageObject messageObject = this.dialogMessage.get(tLRPC$Dialog4.id);
                    if (messageObject == null || messageObject.messageOwner.date >= this.dialogsLoadedTillDate) {
                        if (!DialogObject.isEncryptedDialog(tLRPC$Dialog4.id)) {
                            this.dialogsServerOnly.add(tLRPC$Dialog4);
                            if (DialogObject.isChannel(tLRPC$Dialog4)) {
                                TLRPC$Chat chat2 = getChat(Long.valueOf(-tLRPC$Dialog4.id));
                                if (chat2 != null && ((z3 = chat2.creator) || (((z5 = chat2.megagroup) && (((tLRPC$TL_chatAdminRights3 = chat2.admin_rights) != null && (tLRPC$TL_chatAdminRights3.post_messages || tLRPC$TL_chatAdminRights3.add_admins)) || (tLRPC$TL_chatBannedRights = chat2.default_banned_rights) == null || !tLRPC$TL_chatBannedRights.invite_users)) || (!z5 && (tLRPC$TL_chatAdminRights2 = chat2.admin_rights) != null && tLRPC$TL_chatAdminRights2.add_admins)))) {
                                    if (z3 || (((z4 = chat2.megagroup) && chat2.admin_rights != null) || (!z4 && chat2.admin_rights != null))) {
                                        if (chat2.megagroup) {
                                            this.dialogsMyGroups.add(tLRPC$Dialog4);
                                        } else {
                                            this.dialogsMyChannels.add(tLRPC$Dialog4);
                                        }
                                    } else {
                                        this.dialogsCanAddUsers.add(tLRPC$Dialog4);
                                    }
                                }
                                if (chat2 != null && chat2.megagroup) {
                                    this.dialogsGroupsOnly.add(tLRPC$Dialog4);
                                    if (chat2.gigagroup) {
                                    }
                                } else {
                                    this.dialogsChannelsOnly.add(tLRPC$Dialog4);
                                    if (ChatObject.hasAdminRights(chat2)) {
                                    }
                                    z2 = false;
                                }
                                if (z2 && tLRPC$Dialog4.folder_id == 0) {
                                    if (tLRPC$Dialog4.id != clientUserId) {
                                        this.dialogsForward.add(0, tLRPC$Dialog4);
                                        z = true;
                                    } else {
                                        this.dialogsForward.add(tLRPC$Dialog4);
                                    }
                                }
                            } else {
                                long j3 = tLRPC$Dialog4.id;
                                if (j3 < 0) {
                                    if (longSparseArray != null && (tLRPC$Chat = longSparseArray.get(-j3)) != null && tLRPC$Chat.migrated_to != null) {
                                        this.allDialogs.remove(i);
                                        i--;
                                        size--;
                                        i4 = 1;
                                        i += i4;
                                    } else {
                                        TLRPC$Chat chat3 = getChat(Long.valueOf(-tLRPC$Dialog4.id));
                                        if (chat3 != null && (((tLRPC$TL_chatAdminRights = chat3.admin_rights) != null && (tLRPC$TL_chatAdminRights.add_admins || tLRPC$TL_chatAdminRights.invite_users)) || chat3.creator)) {
                                            if (chat3.creator) {
                                                this.dialogsMyGroups.add(tLRPC$Dialog4);
                                            } else {
                                                this.dialogsCanAddUsers.add(tLRPC$Dialog4);
                                            }
                                        }
                                        this.dialogsGroupsOnly.add(tLRPC$Dialog4);
                                    }
                                } else if (j3 != clientUserId) {
                                    this.dialogsUsersOnly.add(tLRPC$Dialog4);
                                    if (!UserObject.isReplyUser(tLRPC$Dialog4.id)) {
                                        this.dialogsForBlock.add(tLRPC$Dialog4);
                                    }
                                }
                            }
                        }
                        z2 = true;
                        if (z2) {
                            if (tLRPC$Dialog4.id != clientUserId) {
                            }
                        }
                    } else {
                        i += i4;
                    }
                }
                if ((tLRPC$Dialog4.unread_count != 0 || tLRPC$Dialog4.unread_mark) && !isDialogMuted(tLRPC$Dialog4.id)) {
                    this.unreadUnmutedDialogs++;
                }
                TLRPC$Dialog tLRPC$Dialog5 = this.promoDialog;
                if (tLRPC$Dialog5 != null && tLRPC$Dialog4.id == tLRPC$Dialog5.id && this.isLeftPromoChannel) {
                    this.allDialogs.remove(i);
                    i--;
                    size--;
                    i4 = 1;
                    i += i4;
                } else {
                    addDialogToItsFolder(-1, tLRPC$Dialog4);
                    i4 = 1;
                    i += i4;
                }
            }
            tLRPC$Dialog2 = this.promoDialog;
            if (tLRPC$Dialog2 != null && this.isLeftPromoChannel) {
                this.allDialogs.add(0, tLRPC$Dialog2);
                addDialogToItsFolder(-2, this.promoDialog);
            }
            if (!z && (currentUser = getUserConfig().getCurrentUser()) != null) {
                TLRPC$TL_dialog tLRPC$TL_dialog = new TLRPC$TL_dialog();
                tLRPC$TL_dialog.id = currentUser.id;
                tLRPC$TL_dialog.notify_settings = new TLRPC$TL_peerNotifySettings();
                TLRPC$TL_peerUser tLRPC$TL_peerUser = new TLRPC$TL_peerUser();
                tLRPC$TL_dialog.peer = tLRPC$TL_peerUser;
                tLRPC$TL_peerUser.user_id = currentUser.id;
                this.dialogsForward.add(0, tLRPC$TL_dialog);
            }
            for (int i7 = 0; i7 < this.dialogsByFolder.size(); i7++) {
                int keyAt = this.dialogsByFolder.keyAt(i7);
                if (this.dialogsByFolder.valueAt(i7).isEmpty()) {
                    this.dialogsByFolder.remove(keyAt);
                }
            }
        }
        Collections.sort(this.allDialogs, this.dialogComparator);
        this.isLeftPromoChannel = true;
        tLRPC$Dialog = this.promoDialog;
        if (tLRPC$Dialog != null) {
        }
        size = this.allDialogs.size();
        i = 0;
        z = false;
        while (i < size) {
        }
        tLRPC$Dialog2 = this.promoDialog;
        if (tLRPC$Dialog2 != null) {
            this.allDialogs.add(0, tLRPC$Dialog2);
            addDialogToItsFolder(-2, this.promoDialog);
        }
        if (!z) {
            TLRPC$TL_dialog tLRPC$TL_dialog2 = new TLRPC$TL_dialog();
            tLRPC$TL_dialog2.id = currentUser.id;
            tLRPC$TL_dialog2.notify_settings = new TLRPC$TL_peerNotifySettings();
            TLRPC$TL_peerUser tLRPC$TL_peerUser2 = new TLRPC$TL_peerUser();
            tLRPC$TL_dialog2.peer = tLRPC$TL_peerUser2;
            tLRPC$TL_peerUser2.user_id = currentUser.id;
            this.dialogsForward.add(0, tLRPC$TL_dialog2);
        }
        while (i7 < this.dialogsByFolder.size()) {
        }
    }

    private void addDialogToItsFolder(int i, TLRPC$Dialog tLRPC$Dialog) {
        int i2 = tLRPC$Dialog instanceof TLRPC$TL_dialogFolder ? 0 : tLRPC$Dialog.folder_id;
        ArrayList<TLRPC$Dialog> arrayList = this.dialogsByFolder.get(i2);
        if (arrayList == null) {
            arrayList = new ArrayList<>();
            this.dialogsByFolder.put(i2, arrayList);
        }
        if (i == -1) {
            arrayList.add(tLRPC$Dialog);
        } else if (i == -2) {
            if (arrayList.isEmpty() || !(arrayList.get(0) instanceof TLRPC$TL_dialogFolder)) {
                arrayList.add(0, tLRPC$Dialog);
            } else {
                arrayList.add(1, tLRPC$Dialog);
            }
        } else {
            arrayList.add(i, tLRPC$Dialog);
        }
    }

    public static String getRestrictionReason(ArrayList<TLRPC$TL_restrictionReason> arrayList) {
        if (arrayList.isEmpty()) {
            return null;
        }
        int size = arrayList.size();
        for (int i = 0; i < size; i++) {
            TLRPC$TL_restrictionReason tLRPC$TL_restrictionReason = arrayList.get(i);
            if ("all".equals(tLRPC$TL_restrictionReason.platform) || (!BuildVars.isStandaloneApp() && !BuildVars.isBetaApp() && "android".equals(tLRPC$TL_restrictionReason.platform))) {
                return tLRPC$TL_restrictionReason.text;
            }
        }
        return null;
    }

    private static void showCantOpenAlert(BaseFragment baseFragment, String str) {
        if (baseFragment == null || baseFragment.getParentActivity() == null) {
            return;
        }
        AlertDialog.Builder builder = new AlertDialog.Builder(baseFragment.getParentActivity());
        builder.setTitle(LocaleController.getString("AppName", 2131624384));
        builder.setPositiveButton(LocaleController.getString("OK", 2131627127), null);
        builder.setMessage(str);
        baseFragment.showDialog(builder.create());
    }

    public boolean checkCanOpenChat(Bundle bundle, BaseFragment baseFragment) {
        return checkCanOpenChat(bundle, baseFragment, null);
    }

    /* JADX WARN: Multi-variable type inference failed */
    public boolean checkCanOpenChat(Bundle bundle, BaseFragment baseFragment, MessageObject messageObject) {
        TLRPC$Chat tLRPC$Chat;
        String str;
        TLRPC$TL_messages_getMessages tLRPC$TL_messages_getMessages;
        if (bundle != null && baseFragment != null) {
            long j = bundle.getLong("user_id", 0L);
            long j2 = bundle.getLong("chat_id", 0L);
            int i = bundle.getInt("message_id", 0);
            TLRPC$User tLRPC$User = null;
            if (j != 0) {
                tLRPC$User = getUser(Long.valueOf(j));
                tLRPC$Chat = null;
            } else {
                tLRPC$Chat = j2 != 0 ? getChat(Long.valueOf(j2)) : null;
            }
            if (tLRPC$User == null && tLRPC$Chat == null) {
                return true;
            }
            if (tLRPC$Chat != null) {
                str = getRestrictionReason(tLRPC$Chat.restriction_reason);
            } else {
                str = getRestrictionReason(tLRPC$User.restriction_reason);
            }
            if (str != null) {
                showCantOpenAlert(baseFragment, str);
                return false;
            } else if (i != 0 && messageObject != null && tLRPC$Chat != null && tLRPC$Chat.access_hash == 0) {
                long dialogId = messageObject.getDialogId();
                if (!DialogObject.isEncryptedDialog(dialogId)) {
                    AlertDialog alertDialog = new AlertDialog(baseFragment.getParentActivity(), 3);
                    if (dialogId < 0) {
                        tLRPC$Chat = getChat(Long.valueOf(-dialogId));
                    }
                    if (dialogId > 0 || !ChatObject.isChannel(tLRPC$Chat)) {
                        TLRPC$TL_messages_getMessages tLRPC$TL_messages_getMessages2 = new TLRPC$TL_messages_getMessages();
                        tLRPC$TL_messages_getMessages2.id.add(Integer.valueOf(messageObject.getId()));
                        tLRPC$TL_messages_getMessages = tLRPC$TL_messages_getMessages2;
                    } else {
                        TLRPC$Chat chat = getChat(Long.valueOf(-dialogId));
                        TLRPC$TL_channels_getMessages tLRPC$TL_channels_getMessages = new TLRPC$TL_channels_getMessages();
                        tLRPC$TL_channels_getMessages.channel = getInputChannel(chat);
                        tLRPC$TL_channels_getMessages.id.add(Integer.valueOf(messageObject.getId()));
                        tLRPC$TL_messages_getMessages = tLRPC$TL_channels_getMessages;
                    }
                    alertDialog.setOnCancelListener(new MessagesController$$ExternalSyntheticLambda3(this, getConnectionsManager().sendRequest(tLRPC$TL_messages_getMessages, new MessagesController$$ExternalSyntheticLambda329(this, alertDialog, baseFragment, bundle)), baseFragment));
                    baseFragment.setVisibleDialog(alertDialog);
                    alertDialog.show();
                    return false;
                }
            }
        }
        return true;
    }

    public /* synthetic */ void lambda$checkCanOpenChat$345(AlertDialog alertDialog, BaseFragment baseFragment, Bundle bundle, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda204(this, alertDialog, tLObject, baseFragment, bundle));
        }
    }

    public /* synthetic */ void lambda$checkCanOpenChat$344(AlertDialog alertDialog, TLObject tLObject, BaseFragment baseFragment, Bundle bundle) {
        try {
            alertDialog.dismiss();
        } catch (Exception e) {
            FileLog.e(e);
        }
        TLRPC$messages_Messages tLRPC$messages_Messages = (TLRPC$messages_Messages) tLObject;
        putUsers(tLRPC$messages_Messages.users, false);
        putChats(tLRPC$messages_Messages.chats, false);
        getMessagesStorage().putUsersAndChats(tLRPC$messages_Messages.users, tLRPC$messages_Messages.chats, true, true);
        baseFragment.presentFragment(new ChatActivity(bundle), true);
    }

    public /* synthetic */ void lambda$checkCanOpenChat$346(int i, BaseFragment baseFragment, DialogInterface dialogInterface) {
        getConnectionsManager().cancelRequest(i, true);
        baseFragment.setVisibleDialog(null);
    }

    public static void openChatOrProfileWith(TLRPC$User tLRPC$User, TLRPC$Chat tLRPC$Chat, BaseFragment baseFragment, int i, boolean z) {
        String str;
        if ((tLRPC$User == null && tLRPC$Chat == null) || baseFragment == null) {
            return;
        }
        if (tLRPC$Chat != null) {
            str = getRestrictionReason(tLRPC$Chat.restriction_reason);
        } else {
            str = getRestrictionReason(tLRPC$User.restriction_reason);
            if (i != 3 && tLRPC$User.bot) {
                i = 1;
                z = true;
            }
        }
        if (str != null) {
            showCantOpenAlert(baseFragment, str);
            return;
        }
        Bundle bundle = new Bundle();
        if (tLRPC$Chat != null) {
            bundle.putLong("chat_id", tLRPC$Chat.id);
        } else {
            bundle.putLong("user_id", tLRPC$User.id);
        }
        if (i == 0) {
            baseFragment.presentFragment(new ProfileActivity(bundle));
        } else if (i == 2) {
            baseFragment.presentFragment(new ChatActivity(bundle), true, true);
        } else {
            baseFragment.presentFragment(new ChatActivity(bundle), z);
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:17:0x002b  */
    /* JADX WARN: Removed duplicated region for block: B:18:0x002f  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void openByUserName(String str, BaseFragment baseFragment, int i) {
        TLRPC$Chat tLRPC$Chat;
        TLRPC$User tLRPC$User;
        if (str == null || baseFragment == null) {
            return;
        }
        TLObject userOrChat = getUserOrChat(str);
        if (userOrChat instanceof TLRPC$User) {
            tLRPC$User = (TLRPC$User) userOrChat;
            if (!tLRPC$User.min) {
                tLRPC$Chat = null;
                if (tLRPC$User == null) {
                    openChatOrProfileWith(tLRPC$User, null, baseFragment, i, false);
                    return;
                } else if (tLRPC$Chat != null) {
                    openChatOrProfileWith(null, tLRPC$Chat, baseFragment, 1, false);
                    return;
                } else if (baseFragment.getParentActivity() == null) {
                    return;
                } else {
                    AlertDialog[] alertDialogArr = {new AlertDialog(baseFragment.getParentActivity(), 3)};
                    TLRPC$TL_contacts_resolveUsername tLRPC$TL_contacts_resolveUsername = new TLRPC$TL_contacts_resolveUsername();
                    tLRPC$TL_contacts_resolveUsername.username = str;
                    AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda213(this, alertDialogArr, getConnectionsManager().sendRequest(tLRPC$TL_contacts_resolveUsername, new MessagesController$$ExternalSyntheticLambda340(this, alertDialogArr, baseFragment, i)), baseFragment), 500L);
                    return;
                }
            }
            tLRPC$User = null;
            tLRPC$Chat = null;
            if (tLRPC$User == null) {
            }
        } else {
            if (userOrChat instanceof TLRPC$Chat) {
                TLRPC$Chat tLRPC$Chat2 = (TLRPC$Chat) userOrChat;
                if (!tLRPC$Chat2.min) {
                    tLRPC$Chat = tLRPC$Chat2;
                    tLRPC$User = null;
                    if (tLRPC$User == null) {
                    }
                }
            }
            tLRPC$User = null;
            tLRPC$Chat = null;
            if (tLRPC$User == null) {
            }
        }
    }

    public /* synthetic */ void lambda$openByUserName$348(AlertDialog[] alertDialogArr, BaseFragment baseFragment, int i, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda214(this, alertDialogArr, baseFragment, tLRPC$TL_error, tLObject, i));
    }

    public /* synthetic */ void lambda$openByUserName$347(AlertDialog[] alertDialogArr, BaseFragment baseFragment, TLRPC$TL_error tLRPC$TL_error, TLObject tLObject, int i) {
        try {
            alertDialogArr[0].dismiss();
        } catch (Exception unused) {
        }
        alertDialogArr[0] = null;
        baseFragment.setVisibleDialog(null);
        if (tLRPC$TL_error == null) {
            TLRPC$TL_contacts_resolvedPeer tLRPC$TL_contacts_resolvedPeer = (TLRPC$TL_contacts_resolvedPeer) tLObject;
            putUsers(tLRPC$TL_contacts_resolvedPeer.users, false);
            putChats(tLRPC$TL_contacts_resolvedPeer.chats, false);
            getMessagesStorage().putUsersAndChats(tLRPC$TL_contacts_resolvedPeer.users, tLRPC$TL_contacts_resolvedPeer.chats, false, true);
            if (!tLRPC$TL_contacts_resolvedPeer.chats.isEmpty()) {
                openChatOrProfileWith(null, tLRPC$TL_contacts_resolvedPeer.chats.get(0), baseFragment, 1, false);
            } else if (tLRPC$TL_contacts_resolvedPeer.users.isEmpty()) {
            } else {
                openChatOrProfileWith(tLRPC$TL_contacts_resolvedPeer.users.get(0), null, baseFragment, i, false);
            }
        } else if (baseFragment.getParentActivity() == null) {
        } else {
            try {
                BulletinFactory.of(baseFragment).createErrorBulletin(LocaleController.getString("NoUsernameFound", 2131626929)).show();
            } catch (Exception e) {
                FileLog.e(e);
            }
        }
    }

    public /* synthetic */ void lambda$openByUserName$350(AlertDialog[] alertDialogArr, int i, BaseFragment baseFragment) {
        if (alertDialogArr[0] == null) {
            return;
        }
        alertDialogArr[0].setOnCancelListener(new MessagesController$$ExternalSyntheticLambda2(this, i));
        baseFragment.showDialog(alertDialogArr[0]);
    }

    public /* synthetic */ void lambda$openByUserName$349(int i, DialogInterface dialogInterface) {
        getConnectionsManager().cancelRequest(i, true);
    }

    public void ensureMessagesLoaded(long j, int i, MessagesLoadedCallback messagesLoadedCallback) {
        int i2;
        SharedPreferences notificationsSettings = getNotificationsSettings(this.currentAccount);
        if (i == 0) {
            i2 = notificationsSettings.getInt("diditem" + j, 0);
        } else {
            i2 = i;
        }
        int generateClassGuid = ConnectionsManager.generateClassGuid();
        long j2 = DialogObject.isChatDialog(j) ? -j : 0L;
        if (j2 != 0 && getMessagesController().getChat(Long.valueOf(j2)) == null) {
            MessagesStorage messagesStorage = getMessagesStorage();
            messagesStorage.getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda132(this, messagesStorage, j2, j, i2, messagesLoadedCallback));
            return;
        }
        int i3 = AndroidUtilities.isTablet() ? 30 : 20;
        AnonymousClass1 anonymousClass1 = new AnonymousClass1(generateClassGuid, i3, i2, j, messagesLoadedCallback);
        getNotificationCenter().addObserver(anonymousClass1, NotificationCenter.messagesDidLoadWithoutProcess);
        getNotificationCenter().addObserver(anonymousClass1, NotificationCenter.loadingMessagesFailed);
        if (i2 != 0) {
            loadMessagesInternal(j, 0L, true, i3, i2, 0, true, 0, generateClassGuid, 3, 0, 0, 0, -1, 0, 0, 0, false, 0, true, false);
        } else {
            loadMessagesInternal(j, 0L, true, i3, i2, 0, true, 0, generateClassGuid, 2, 0, 0, 0, -1, 0, 0, 0, false, 0, true, false);
        }
    }

    public /* synthetic */ void lambda$ensureMessagesLoaded$352(MessagesStorage messagesStorage, long j, long j2, int i, MessagesLoadedCallback messagesLoadedCallback) {
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda150(this, messagesStorage.getChat(j), j2, i, messagesLoadedCallback));
    }

    public /* synthetic */ void lambda$ensureMessagesLoaded$351(TLRPC$Chat tLRPC$Chat, long j, int i, MessagesLoadedCallback messagesLoadedCallback) {
        if (tLRPC$Chat != null) {
            getMessagesController().putChat(tLRPC$Chat, true);
            ensureMessagesLoaded(j, i, messagesLoadedCallback);
        } else if (messagesLoadedCallback == null) {
        } else {
            messagesLoadedCallback.onError();
        }
    }

    /* renamed from: org.telegram.messenger.MessagesController$1 */
    /* loaded from: classes.dex */
    public class AnonymousClass1 implements NotificationCenter.NotificationCenterDelegate {
        final /* synthetic */ MessagesLoadedCallback val$callback;
        final /* synthetic */ int val$classGuid;
        final /* synthetic */ int val$count;
        final /* synthetic */ long val$dialogId;
        final /* synthetic */ int val$finalMessageId;

        AnonymousClass1(int i, int i2, int i3, long j, MessagesLoadedCallback messagesLoadedCallback) {
            MessagesController.this = r1;
            this.val$classGuid = i;
            this.val$count = i2;
            this.val$finalMessageId = i3;
            this.val$dialogId = j;
            this.val$callback = messagesLoadedCallback;
        }

        @Override // org.telegram.messenger.NotificationCenter.NotificationCenterDelegate
        public void didReceivedNotification(int i, int i2, Object... objArr) {
            int i3 = NotificationCenter.messagesDidLoadWithoutProcess;
            if (i == i3 && ((Integer) objArr[0]).intValue() == this.val$classGuid) {
                int intValue = ((Integer) objArr[1]).intValue();
                boolean booleanValue = ((Boolean) objArr[2]).booleanValue();
                boolean booleanValue2 = ((Boolean) objArr[3]).booleanValue();
                int intValue2 = ((Integer) objArr[4]).intValue();
                int i4 = this.val$count;
                if (intValue < i4 / 2 && !booleanValue2 && booleanValue) {
                    int i5 = this.val$finalMessageId;
                    if (i5 != 0) {
                        MessagesController.this.loadMessagesInternal(this.val$dialogId, 0L, false, i4, i5, 0, false, 0, this.val$classGuid, 3, intValue2, 0, 0, -1, 0, 0, 0, false, 0, true, false);
                        return;
                    } else {
                        MessagesController.this.loadMessagesInternal(this.val$dialogId, 0L, false, i4, i5, 0, false, 0, this.val$classGuid, 2, intValue2, 0, 0, -1, 0, 0, 0, false, 0, true, false);
                        return;
                    }
                }
                MessagesController.this.getNotificationCenter().removeObserver(this, i3);
                MessagesController.this.getNotificationCenter().removeObserver(this, NotificationCenter.loadingMessagesFailed);
                MessagesLoadedCallback messagesLoadedCallback = this.val$callback;
                if (messagesLoadedCallback == null) {
                    return;
                }
                messagesLoadedCallback.onMessagesLoaded(booleanValue);
                return;
            }
            int i6 = NotificationCenter.loadingMessagesFailed;
            if (i != i6 || ((Integer) objArr[0]).intValue() != this.val$classGuid) {
                return;
            }
            MessagesController.this.getNotificationCenter().removeObserver(this, i3);
            MessagesController.this.getNotificationCenter().removeObserver(this, i6);
            MessagesLoadedCallback messagesLoadedCallback2 = this.val$callback;
            if (messagesLoadedCallback2 == null) {
                return;
            }
            messagesLoadedCallback2.onError();
        }
    }

    public int getChatPendingRequestsOnClosed(long j) {
        SharedPreferences sharedPreferences = this.mainPreferences;
        return sharedPreferences.getInt("chatPendingRequests" + j, 0);
    }

    public void setChatPendingRequestsOnClose(long j, int i) {
        SharedPreferences.Editor edit = this.mainPreferences.edit();
        edit.putInt("chatPendingRequests" + j, i).apply();
    }

    public void deleteMessagesRange(long j, long j2, int i, int i2, boolean z, Runnable runnable) {
        TLRPC$TL_messages_deleteHistory tLRPC$TL_messages_deleteHistory = new TLRPC$TL_messages_deleteHistory();
        tLRPC$TL_messages_deleteHistory.peer = getInputPeer(j);
        tLRPC$TL_messages_deleteHistory.flags = 12;
        tLRPC$TL_messages_deleteHistory.min_date = i;
        tLRPC$TL_messages_deleteHistory.max_date = i2;
        tLRPC$TL_messages_deleteHistory.revoke = z;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_deleteHistory, new MessagesController$$ExternalSyntheticLambda291(this, j, i, i2, j2, runnable));
    }

    public /* synthetic */ void lambda$deleteMessagesRange$356(long j, int i, int i2, long j2, Runnable runnable, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_messages_affectedHistory tLRPC$TL_messages_affectedHistory = (TLRPC$TL_messages_affectedHistory) tLObject;
            processNewDifferenceParams(-1, tLRPC$TL_messages_affectedHistory.pts, -1, tLRPC$TL_messages_affectedHistory.pts_count);
            getMessagesStorage().getStorageQueue().postRunnable(new MessagesController$$ExternalSyntheticLambda67(this, j, i, i2, j2, runnable));
            return;
        }
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda8(runnable));
    }

    public /* synthetic */ void lambda$deleteMessagesRange$354(long j, int i, int i2, long j2, Runnable runnable) {
        ArrayList<Integer> cachedMessagesInRange = getMessagesStorage().getCachedMessagesInRange(j, i, i2);
        getMessagesStorage().markMessagesAsDeleted(j, cachedMessagesInRange, false, true, false);
        getMessagesStorage().updateDialogsWithDeletedMessages(j, 0L, cachedMessagesInRange, null, false);
        AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda117(this, cachedMessagesInRange, j2, runnable));
    }

    public /* synthetic */ void lambda$deleteMessagesRange$353(ArrayList arrayList, long j, Runnable runnable) {
        getNotificationCenter().postNotificationName(NotificationCenter.messagesDeleted, arrayList, Long.valueOf(j), Boolean.FALSE);
        runnable.run();
    }

    public void setChatReactions(long j, List<String> list) {
        TLRPC$TL_messages_setChatAvailableReactions tLRPC$TL_messages_setChatAvailableReactions = new TLRPC$TL_messages_setChatAvailableReactions();
        tLRPC$TL_messages_setChatAvailableReactions.peer = getInputPeer(-j);
        tLRPC$TL_messages_setChatAvailableReactions.available_reactions.addAll(list);
        getConnectionsManager().sendRequest(tLRPC$TL_messages_setChatAvailableReactions, new MessagesController$$ExternalSyntheticLambda302(this, j, list));
    }

    public /* synthetic */ void lambda$setChatReactions$358(long j, List list, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            processUpdates((TLRPC$Updates) tLObject, false);
            TLRPC$ChatFull chatFull = getChatFull(j);
            if (chatFull != null) {
                if (chatFull instanceof TLRPC$TL_chatFull) {
                    chatFull.flags |= 262144;
                }
                if (chatFull instanceof TLRPC$TL_channelFull) {
                    chatFull.flags |= 1073741824;
                }
                chatFull.available_reactions = new ArrayList<>(list);
                getMessagesStorage().updateChatInfo(chatFull, false);
            }
            AndroidUtilities.runOnUIThread(new MessagesController$$ExternalSyntheticLambda58(this, j));
        }
    }

    public /* synthetic */ void lambda$setChatReactions$357(long j) {
        getNotificationCenter().postNotificationName(NotificationCenter.chatAvailableReactionsUpdated, Long.valueOf(j));
    }

    public void checkIsInChat(TLRPC$Chat tLRPC$Chat, TLRPC$User tLRPC$User, IsInChatCheckedCallback isInChatCheckedCallback) {
        TLRPC$ChatParticipant tLRPC$ChatParticipant;
        ArrayList<TLRPC$ChatParticipant> arrayList;
        boolean z = false;
        if (tLRPC$Chat == null || tLRPC$User == null) {
            if (isInChatCheckedCallback == null) {
                return;
            }
            isInChatCheckedCallback.run(false, null, null);
        } else if (tLRPC$Chat.megagroup || ChatObject.isChannel(tLRPC$Chat)) {
            TLRPC$TL_channels_getParticipant tLRPC$TL_channels_getParticipant = new TLRPC$TL_channels_getParticipant();
            tLRPC$TL_channels_getParticipant.channel = getInputChannel(tLRPC$Chat.id);
            tLRPC$TL_channels_getParticipant.participant = getInputPeer(tLRPC$User);
            getConnectionsManager().sendRequest(tLRPC$TL_channels_getParticipant, new MessagesController$$ExternalSyntheticLambda231(isInChatCheckedCallback));
        } else {
            TLRPC$ChatFull chatFull = getChatFull(tLRPC$Chat.id);
            if (chatFull == null) {
                if (isInChatCheckedCallback == null) {
                    return;
                }
                isInChatCheckedCallback.run(false, null, null);
                return;
            }
            TLRPC$ChatParticipants tLRPC$ChatParticipants = chatFull.participants;
            if (tLRPC$ChatParticipants != null && (arrayList = tLRPC$ChatParticipants.participants) != null) {
                int size = arrayList.size();
                for (int i = 0; i < size; i++) {
                    tLRPC$ChatParticipant = chatFull.participants.participants.get(i);
                    if (tLRPC$ChatParticipant != null && tLRPC$ChatParticipant.user_id == tLRPC$User.id) {
                        break;
                    }
                }
            }
            tLRPC$ChatParticipant = null;
            if (isInChatCheckedCallback == null) {
                return;
            }
            if (tLRPC$ChatParticipant != null) {
                z = true;
            }
            TLRPC$ChatParticipants tLRPC$ChatParticipants2 = chatFull.participants;
            isInChatCheckedCallback.run(z, (tLRPC$ChatParticipants2 == null || tLRPC$ChatParticipants2.admin_id != tLRPC$User.id) ? null : ChatRightsEditActivity.emptyAdminRights(true), null);
        }
    }

    public static /* synthetic */ void lambda$checkIsInChat$359(IsInChatCheckedCallback isInChatCheckedCallback, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (isInChatCheckedCallback != null) {
            String str = null;
            TLRPC$ChannelParticipant tLRPC$ChannelParticipant = tLObject instanceof TLRPC$TL_channels_channelParticipant ? ((TLRPC$TL_channels_channelParticipant) tLObject).participant : null;
            boolean z = tLRPC$TL_error == null && tLRPC$ChannelParticipant != null && !tLRPC$ChannelParticipant.left;
            TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights = tLRPC$ChannelParticipant != null ? tLRPC$ChannelParticipant.admin_rights : null;
            if (tLRPC$ChannelParticipant != null) {
                str = tLRPC$ChannelParticipant.rank;
            }
            isInChatCheckedCallback.run(z, tLRPC$TL_chatAdminRights, str);
        }
    }

    private void applySoundSettings(TLRPC$NotificationSound tLRPC$NotificationSound, SharedPreferences.Editor editor, long j, int i, boolean z) {
        String str;
        String str2;
        String str3;
        if (tLRPC$NotificationSound == null) {
            return;
        }
        if (j != 0) {
            str = "sound_" + j;
            str3 = "sound_path_" + j;
            str2 = "sound_document_id_" + j;
        } else if (i == 0) {
            str = "GroupSound";
            str2 = "GroupSoundDocId";
            str3 = "GroupSoundPath";
        } else if (i == 1) {
            str = "GlobalSound";
            str2 = "GlobalSoundDocId";
            str3 = "GlobalSoundPath";
        } else {
            str = "ChannelSound";
            str2 = "ChannelSoundDocId";
            str3 = "ChannelSoundPath";
        }
        if (tLRPC$NotificationSound instanceof TLRPC$TL_notificationSoundDefault) {
            editor.putString(str, "Default");
            editor.putString(str3, "Default");
            editor.remove(str2);
        } else if (tLRPC$NotificationSound instanceof TLRPC$TL_notificationSoundNone) {
            editor.putString(str, "NoSound");
            editor.putString(str3, "NoSound");
            editor.remove(str2);
        } else if (tLRPC$NotificationSound instanceof TLRPC$TL_notificationSoundLocal) {
            TLRPC$TL_notificationSoundLocal tLRPC$TL_notificationSoundLocal = (TLRPC$TL_notificationSoundLocal) tLRPC$NotificationSound;
            editor.putString(str, tLRPC$TL_notificationSoundLocal.title);
            editor.putString(str3, tLRPC$TL_notificationSoundLocal.data);
            editor.remove(str2);
        } else if (!(tLRPC$NotificationSound instanceof TLRPC$TL_notificationSoundRingtone)) {
        } else {
            TLRPC$TL_notificationSoundRingtone tLRPC$TL_notificationSoundRingtone = (TLRPC$TL_notificationSoundRingtone) tLRPC$NotificationSound;
            editor.putLong(str2, tLRPC$TL_notificationSoundRingtone.id);
            getMediaDataController().checkRingtones();
            if (z && j != 0) {
                editor.putBoolean("custom_" + j, true);
            }
            getMediaDataController().ringtoneDataStore.getDocument(tLRPC$TL_notificationSoundRingtone.id);
        }
    }
}
