package org.telegram.messenger.video;

import android.annotation.TargetApi;
import android.media.MediaCodec;
import android.media.MediaCrypto;
import android.media.MediaExtractor;
import android.media.MediaFormat;
import android.os.Build;
import android.view.Surface;
import java.io.File;
import java.io.IOException;
import java.nio.ByteBuffer;
import java.util.ArrayList;
import org.telegram.messenger.AndroidUtilities;
import org.telegram.messenger.BuildVars;
import org.telegram.messenger.FileLog;
import org.telegram.messenger.MediaController;
import org.telegram.messenger.R;
import org.telegram.messenger.SharedConfig;
import org.telegram.messenger.Utilities;
import org.telegram.messenger.VideoEditedInfo;
import org.telegram.messenger.video.audio_input.AudioInput;
import org.telegram.messenger.video.audio_input.BlankAudioInput;
import org.telegram.messenger.video.audio_input.GeneralAudioInput;
import org.telegram.ui.Components.RLottieDrawable;
import org.telegram.ui.Stories.recorder.StoryEntry;
/* loaded from: classes3.dex */
public class MediaCodecVideoConvertor {
    private static final int MEDIACODEC_TIMEOUT_DEFAULT = 2500;
    private static final int MEDIACODEC_TIMEOUT_INCREASED = 22000;
    private static final int PROCESSOR_TYPE_INTEL = 2;
    private static final int PROCESSOR_TYPE_MTK = 3;
    private static final int PROCESSOR_TYPE_OTHER = 0;
    private static final int PROCESSOR_TYPE_QCOM = 1;
    private static final int PROCESSOR_TYPE_SEC = 4;
    private static final int PROCESSOR_TYPE_TI = 5;
    private MediaController.VideoConvertorListener callback;
    private long endPresentationTime;
    private MediaExtractor extractor;
    private MP4Builder mediaMuxer;
    private String outputMimeType;

    public boolean convertVideo(ConvertVideoParams convertVideoParams) {
        this.callback = convertVideoParams.callback;
        return convertVideoInternal(convertVideoParams, false, 0);
    }

    public long getLastFrameTimestamp() {
        return this.endPresentationTime;
    }

    /* JADX WARN: Can't wrap try/catch for region: R(24:575|(8:576|577|578|579|580|581|(1:1544)(6:584|585|586|587|588|589)|590)|(2:592|(3:594|595|(18:618|(74:620|621|622|623|(3:625|626|627)(2:1526|1527)|628|629|(5:631|(1:633)(2:1513|(1:1515)(1:1516))|634|(2:636|637)(1:1512)|638)(3:1517|(1:1519)(1:1521)|1520)|(2:1507|1508)|640|(1:642)(1:1506)|643|(1:645)(2:1493|(2:1495|1496)(61:1497|1498|(1:1492)(4:650|(2:655|656)|1491|656)|(58:1484|1485|(2:1477|1478)|660|661|662|(5:1464|1465|1466|1467|1468)(1:664)|665|666|(1:670)|671|672|(8:674|(1:676)(1:1459)|677|(1:679)(1:1458)|680|(1:682)|683|(45:1457|688|(3:690|691|(46:694|(1:696)(1:1446)|697|698|699|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(3:1387|1388|(28:1391|(1:1393)(1:1396)|1394|717|718|(3:721|722|(2:724|(22:726|727|728|729|730|731|732|733|(2:1333|1334)(1:735)|736|737|(13:1275|1276|1277|1278|(2:1280|1281)(1:1322)|1314|(6:1316|1284|(1:1286)|(1:(8:1289|1290|1291|(1:1293)|1294|(1:1296)(1:1299)|1297|1298)(6:1304|(1:1306)|1307|(1:1309)|1310|1311))(1:1313)|1312|1298)|1283|1284|(0)|(0)(0)|1312|1298)(4:739|740|(3:742|743|744)(1:1273)|745)|(1:747)(1:1272)|748|749|750|(2:(7:780|781|(2:1255|1256)|783|(5:1172|1173|1174|(5:1176|1177|1178|(4:1180|(1:1182)(1:1198)|1183|(1:1185)(1:1197))(1:1199)|1186)(3:1205|(2:1247|(1:1249))(10:1210|1211|(3:1213|1214|(2:1216|1217))(1:1243)|1218|(1:1220)|1221|(1:1223)(1:1242)|1224|(1:1241)(2:1230|(1:1240)(3:1234|(1:1236)|1237))|1238)|1239)|(3:1188|1189|(2:1191|1192)))(1:785)|786|(1:(10:791|792|793|(1:795)(1:1166)|796|797|798|(1:800)(4:1025|(4:1150|1151|(1:1153)|1154)(2:1027|(3:1029|(1:1066)(7:1032|1033|1034|1035|(3:1037|1038|(7:1040|1041|1042|(1:1044)(1:1053)|(1:1046)(1:1052)|1047|1048))(1:1060)|1059|1048)|1049)(2:1067|(4:1069|1070|(1:1072)(1:1146)|(8:1074|1075|(4:1084|1085|1086|(5:(1:1108)(2:1091|1092)|(1:1107)(1:1096)|1097|(1:1106)(3:1101|(1:1103)|1104)|1105)(2:1109|(10:1111|(3:1115|(2:1121|(2:1123|1124)(1:1130))|1131)|1136|1125|(1:1128)|1129|1079|(1:1081)(1:1083)|1082|1051)))(1:1077)|1078|1079|(0)(0)|1082|1051)(3:1143|1144|1145))(3:1147|1148|1149)))|1050|1051)|(2:802|803)(5:(5:811|812|(1:814)(2:815|(2:817|(3:1007|1008|(1:1010))(1:(22:820|(1:822)(1:1003)|823|824|(1:1002)(2:828|829)|830|(3:964|965|(6:967|968|969|970|971|(16:973|(3:984|985|986)(5:975|976|977|978|979)|980|834|(2:836|(11:841|842|(1:844)(1:961)|845|(2:849|(9:855|856|(1:858)|859|(1:861)(3:951|(1:955)|956)|(9:870|871|872|(1:874)|875|876|877|(7:879|880|881|882|883|884|885)(1:940)|886)(1:863)|864|(3:866|(1:868)|869)|808)(3:851|(1:853)|854))|960|(0)(0)|(0)(0)|864|(0)|808))(1:963)|962|842|(0)(0)|845|(3:847|849|(0)(0))|960|(0)(0)|(0)(0)|864|(0)|808)(15:991|833|834|(0)(0)|962|842|(0)(0)|845|(0)|960|(0)(0)|(0)(0)|864|(0)|808)))|832|833|834|(0)(0)|962|842|(0)(0)|845|(0)|960|(0)(0)|(0)(0)|864|(0)|808)(3:1004|1005|1006))))|809|810)(1:806)|807|808|809|810)|804)))|790)|755|756|757|(1:759)|761)))|1356|(5:1358|1359|1360|1361|(28:1363|(1:1365)(1:1378)|1366|1367|1368|(1:1370)(1:1375)|1371|1372|1373|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761)(1:1379))|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))|716|717|718|(3:721|722|(0))|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))(1:1454)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))(1:1460)|687|688|(0)(0)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761)|658|(0)|660|661|662|(0)(0)|665|666|(2:668|670)|671|672|(0)(0)|687|688|(0)(0)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))|646|(1:648)|1492|(0)|658|(0)|660|661|662|(0)(0)|665|666|(0)|671|672|(0)(0)|687|688|(0)(0)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761)(1:1532)|(2:774|775)|(1:764)|(1:766)|(1:768)|769|770|70|(1:72)|73|(2:111|112)|(2:107|108)|(2:103|104)|(2:99|100)|(2:95|96)|79|(2:81|82)(2:84|(3:91|(1:93)|94)(2:89|90)))(20:598|599|600|601|602|603|(1:610)(1:606)|607|608|609|70|(0)|73|(0)|(0)|(0)|(0)|(0)|79|(0)(0))))(1:1537)|1535|595|(0)|618|(0)(0)|(0)|(0)|(0)|(0)|769|770|70|(0)|73|(0)|(0)|(0)|(0)|(0)|79|(0)(0)) */
    /* JADX WARN: Can't wrap try/catch for region: R(25:(1:645)(2:1493|(2:1495|1496)(61:1497|1498|(1:1492)(4:650|(2:655|656)|1491|656)|(58:1484|1485|(2:1477|1478)|660|661|662|(5:1464|1465|1466|1467|1468)(1:664)|665|666|(1:670)|671|672|(8:674|(1:676)(1:1459)|677|(1:679)(1:1458)|680|(1:682)|683|(45:1457|688|(3:690|691|(46:694|(1:696)(1:1446)|697|698|699|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(3:1387|1388|(28:1391|(1:1393)(1:1396)|1394|717|718|(3:721|722|(2:724|(22:726|727|728|729|730|731|732|733|(2:1333|1334)(1:735)|736|737|(13:1275|1276|1277|1278|(2:1280|1281)(1:1322)|1314|(6:1316|1284|(1:1286)|(1:(8:1289|1290|1291|(1:1293)|1294|(1:1296)(1:1299)|1297|1298)(6:1304|(1:1306)|1307|(1:1309)|1310|1311))(1:1313)|1312|1298)|1283|1284|(0)|(0)(0)|1312|1298)(4:739|740|(3:742|743|744)(1:1273)|745)|(1:747)(1:1272)|748|749|750|(2:(7:780|781|(2:1255|1256)|783|(5:1172|1173|1174|(5:1176|1177|1178|(4:1180|(1:1182)(1:1198)|1183|(1:1185)(1:1197))(1:1199)|1186)(3:1205|(2:1247|(1:1249))(10:1210|1211|(3:1213|1214|(2:1216|1217))(1:1243)|1218|(1:1220)|1221|(1:1223)(1:1242)|1224|(1:1241)(2:1230|(1:1240)(3:1234|(1:1236)|1237))|1238)|1239)|(3:1188|1189|(2:1191|1192)))(1:785)|786|(1:(10:791|792|793|(1:795)(1:1166)|796|797|798|(1:800)(4:1025|(4:1150|1151|(1:1153)|1154)(2:1027|(3:1029|(1:1066)(7:1032|1033|1034|1035|(3:1037|1038|(7:1040|1041|1042|(1:1044)(1:1053)|(1:1046)(1:1052)|1047|1048))(1:1060)|1059|1048)|1049)(2:1067|(4:1069|1070|(1:1072)(1:1146)|(8:1074|1075|(4:1084|1085|1086|(5:(1:1108)(2:1091|1092)|(1:1107)(1:1096)|1097|(1:1106)(3:1101|(1:1103)|1104)|1105)(2:1109|(10:1111|(3:1115|(2:1121|(2:1123|1124)(1:1130))|1131)|1136|1125|(1:1128)|1129|1079|(1:1081)(1:1083)|1082|1051)))(1:1077)|1078|1079|(0)(0)|1082|1051)(3:1143|1144|1145))(3:1147|1148|1149)))|1050|1051)|(2:802|803)(5:(5:811|812|(1:814)(2:815|(2:817|(3:1007|1008|(1:1010))(1:(22:820|(1:822)(1:1003)|823|824|(1:1002)(2:828|829)|830|(3:964|965|(6:967|968|969|970|971|(16:973|(3:984|985|986)(5:975|976|977|978|979)|980|834|(2:836|(11:841|842|(1:844)(1:961)|845|(2:849|(9:855|856|(1:858)|859|(1:861)(3:951|(1:955)|956)|(9:870|871|872|(1:874)|875|876|877|(7:879|880|881|882|883|884|885)(1:940)|886)(1:863)|864|(3:866|(1:868)|869)|808)(3:851|(1:853)|854))|960|(0)(0)|(0)(0)|864|(0)|808))(1:963)|962|842|(0)(0)|845|(3:847|849|(0)(0))|960|(0)(0)|(0)(0)|864|(0)|808)(15:991|833|834|(0)(0)|962|842|(0)(0)|845|(0)|960|(0)(0)|(0)(0)|864|(0)|808)))|832|833|834|(0)(0)|962|842|(0)(0)|845|(0)|960|(0)(0)|(0)(0)|864|(0)|808)(3:1004|1005|1006))))|809|810)(1:806)|807|808|809|810)|804)))|790)|755|756|757|(1:759)|761)))|1356|(5:1358|1359|1360|1361|(28:1363|(1:1365)(1:1378)|1366|1367|1368|(1:1370)(1:1375)|1371|1372|1373|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761)(1:1379))|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))|716|717|718|(3:721|722|(0))|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))(1:1454)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))(1:1460)|687|688|(0)(0)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761)|658|(0)|660|661|662|(0)(0)|665|666|(2:668|670)|671|672|(0)(0)|687|688|(0)(0)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761) */
    /* JADX WARN: Can't wrap try/catch for region: R(37:(2:13|(1:15)(2:569|(1:571)(1:572)))(1:(1:574))|(4:17|18|19|(30:21|22|23|24|(2:523|524)|26|27|28|29|30|31|32|33|34|35|36|37|(3:482|483|(12:485|40|41|42|44|45|46|(2:469|470)(1:48)|49|(4:51|52|53|54)(1:467)|55|(2:(5:189|190|(2:446|447)|192|(1:(9:197|(1:199)(1:445)|200|201|202|(1:204)(3:268|(4:433|434|(1:436)|437)(19:270|(5:272|(1:274)|275|(1:315)(7:278|279|280|281|(2:283|(8:285|286|287|288|(1:290)(1:298)|(1:292)(1:297)|293|294))(1:308)|307|294)|295)(2:316|(4:318|319|(1:321)(1:429)|(10:323|324|(6:339|340|341|(5:(1:384)(3:346|347|348)|(2:352|353)|354|355|(1:371)(6:359|360|(1:362)|363|364|365))(2:385|(2:387|(6:389|(3:393|(2:399|(2:401|402)(1:408))|409)|414|403|(1:406)|407)(1:416)))|(2:207|208)(3:(7:211|212|213|214|215|216|(1:218))(1:267)|219|220)|209)(1:326)|327|328|(1:330)(1:333)|331|332|(0)(0)|209)(3:426|427|428))(3:430|431|432))|302|225|226|227|(1:255)(1:230)|231|232|233|234|235|236|237|238|239|240|241|242)|296)|205|(0)(0)|209)))(2:58|59)|196)))|39|40|41|42|44|45|46|(0)(0)|49|(0)(0)|55|(7:(0)|189|190|(0)|192|(10:(0)|197|(0)(0)|200|201|202|(0)(0)|205|(0)(0)|209)|196)))(1:568)|535|536|537|(4:539|(1:541)(1:553)|542|543)(1:554)|544|(4:546|(1:548)|549|550)|22|23|24|(0)|26|27|28|29|30|31|32|33|34|35|36|37|(0)|39|40|41|42|44|45|46|(0)(0)|49|(0)(0)|55|(7:(0)|189|190|(0)|192|(10:(0)|197|(0)(0)|200|201|202|(0)(0)|205|(0)(0)|209)|196)) */
    /* JADX WARN: Can't wrap try/catch for region: R(64:620|(11:621|622|623|(3:625|626|627)(2:1526|1527)|628|629|(5:631|(1:633)(2:1513|(1:1515)(1:1516))|634|(2:636|637)(1:1512)|638)(3:1517|(1:1519)(1:1521)|1520)|(2:1507|1508)|640|(1:642)(1:1506)|643)|(1:645)(2:1493|(2:1495|1496)(61:1497|1498|(1:1492)(4:650|(2:655|656)|1491|656)|(58:1484|1485|(2:1477|1478)|660|661|662|(5:1464|1465|1466|1467|1468)(1:664)|665|666|(1:670)|671|672|(8:674|(1:676)(1:1459)|677|(1:679)(1:1458)|680|(1:682)|683|(45:1457|688|(3:690|691|(46:694|(1:696)(1:1446)|697|698|699|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(3:1387|1388|(28:1391|(1:1393)(1:1396)|1394|717|718|(3:721|722|(2:724|(22:726|727|728|729|730|731|732|733|(2:1333|1334)(1:735)|736|737|(13:1275|1276|1277|1278|(2:1280|1281)(1:1322)|1314|(6:1316|1284|(1:1286)|(1:(8:1289|1290|1291|(1:1293)|1294|(1:1296)(1:1299)|1297|1298)(6:1304|(1:1306)|1307|(1:1309)|1310|1311))(1:1313)|1312|1298)|1283|1284|(0)|(0)(0)|1312|1298)(4:739|740|(3:742|743|744)(1:1273)|745)|(1:747)(1:1272)|748|749|750|(2:(7:780|781|(2:1255|1256)|783|(5:1172|1173|1174|(5:1176|1177|1178|(4:1180|(1:1182)(1:1198)|1183|(1:1185)(1:1197))(1:1199)|1186)(3:1205|(2:1247|(1:1249))(10:1210|1211|(3:1213|1214|(2:1216|1217))(1:1243)|1218|(1:1220)|1221|(1:1223)(1:1242)|1224|(1:1241)(2:1230|(1:1240)(3:1234|(1:1236)|1237))|1238)|1239)|(3:1188|1189|(2:1191|1192)))(1:785)|786|(1:(10:791|792|793|(1:795)(1:1166)|796|797|798|(1:800)(4:1025|(4:1150|1151|(1:1153)|1154)(2:1027|(3:1029|(1:1066)(7:1032|1033|1034|1035|(3:1037|1038|(7:1040|1041|1042|(1:1044)(1:1053)|(1:1046)(1:1052)|1047|1048))(1:1060)|1059|1048)|1049)(2:1067|(4:1069|1070|(1:1072)(1:1146)|(8:1074|1075|(4:1084|1085|1086|(5:(1:1108)(2:1091|1092)|(1:1107)(1:1096)|1097|(1:1106)(3:1101|(1:1103)|1104)|1105)(2:1109|(10:1111|(3:1115|(2:1121|(2:1123|1124)(1:1130))|1131)|1136|1125|(1:1128)|1129|1079|(1:1081)(1:1083)|1082|1051)))(1:1077)|1078|1079|(0)(0)|1082|1051)(3:1143|1144|1145))(3:1147|1148|1149)))|1050|1051)|(2:802|803)(5:(5:811|812|(1:814)(2:815|(2:817|(3:1007|1008|(1:1010))(1:(22:820|(1:822)(1:1003)|823|824|(1:1002)(2:828|829)|830|(3:964|965|(6:967|968|969|970|971|(16:973|(3:984|985|986)(5:975|976|977|978|979)|980|834|(2:836|(11:841|842|(1:844)(1:961)|845|(2:849|(9:855|856|(1:858)|859|(1:861)(3:951|(1:955)|956)|(9:870|871|872|(1:874)|875|876|877|(7:879|880|881|882|883|884|885)(1:940)|886)(1:863)|864|(3:866|(1:868)|869)|808)(3:851|(1:853)|854))|960|(0)(0)|(0)(0)|864|(0)|808))(1:963)|962|842|(0)(0)|845|(3:847|849|(0)(0))|960|(0)(0)|(0)(0)|864|(0)|808)(15:991|833|834|(0)(0)|962|842|(0)(0)|845|(0)|960|(0)(0)|(0)(0)|864|(0)|808)))|832|833|834|(0)(0)|962|842|(0)(0)|845|(0)|960|(0)(0)|(0)(0)|864|(0)|808)(3:1004|1005|1006))))|809|810)(1:806)|807|808|809|810)|804)))|790)|755|756|757|(1:759)|761)))|1356|(5:1358|1359|1360|1361|(28:1363|(1:1365)(1:1378)|1366|1367|1368|(1:1370)(1:1375)|1371|1372|1373|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761)(1:1379))|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))|716|717|718|(3:721|722|(0))|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))(1:1454)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))(1:1460)|687|688|(0)(0)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761)|658|(0)|660|661|662|(0)(0)|665|666|(2:668|670)|671|672|(0)(0)|687|688|(0)(0)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))|646|(1:648)|1492|(0)|658|(0)|660|661|662|(0)(0)|665|666|(0)|671|672|(0)(0)|687|688|(0)(0)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761) */
    /* JADX WARN: Can't wrap try/catch for region: R(74:620|621|622|623|(3:625|626|627)(2:1526|1527)|628|629|(5:631|(1:633)(2:1513|(1:1515)(1:1516))|634|(2:636|637)(1:1512)|638)(3:1517|(1:1519)(1:1521)|1520)|(2:1507|1508)|640|(1:642)(1:1506)|643|(1:645)(2:1493|(2:1495|1496)(61:1497|1498|(1:1492)(4:650|(2:655|656)|1491|656)|(58:1484|1485|(2:1477|1478)|660|661|662|(5:1464|1465|1466|1467|1468)(1:664)|665|666|(1:670)|671|672|(8:674|(1:676)(1:1459)|677|(1:679)(1:1458)|680|(1:682)|683|(45:1457|688|(3:690|691|(46:694|(1:696)(1:1446)|697|698|699|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(3:1387|1388|(28:1391|(1:1393)(1:1396)|1394|717|718|(3:721|722|(2:724|(22:726|727|728|729|730|731|732|733|(2:1333|1334)(1:735)|736|737|(13:1275|1276|1277|1278|(2:1280|1281)(1:1322)|1314|(6:1316|1284|(1:1286)|(1:(8:1289|1290|1291|(1:1293)|1294|(1:1296)(1:1299)|1297|1298)(6:1304|(1:1306)|1307|(1:1309)|1310|1311))(1:1313)|1312|1298)|1283|1284|(0)|(0)(0)|1312|1298)(4:739|740|(3:742|743|744)(1:1273)|745)|(1:747)(1:1272)|748|749|750|(2:(7:780|781|(2:1255|1256)|783|(5:1172|1173|1174|(5:1176|1177|1178|(4:1180|(1:1182)(1:1198)|1183|(1:1185)(1:1197))(1:1199)|1186)(3:1205|(2:1247|(1:1249))(10:1210|1211|(3:1213|1214|(2:1216|1217))(1:1243)|1218|(1:1220)|1221|(1:1223)(1:1242)|1224|(1:1241)(2:1230|(1:1240)(3:1234|(1:1236)|1237))|1238)|1239)|(3:1188|1189|(2:1191|1192)))(1:785)|786|(1:(10:791|792|793|(1:795)(1:1166)|796|797|798|(1:800)(4:1025|(4:1150|1151|(1:1153)|1154)(2:1027|(3:1029|(1:1066)(7:1032|1033|1034|1035|(3:1037|1038|(7:1040|1041|1042|(1:1044)(1:1053)|(1:1046)(1:1052)|1047|1048))(1:1060)|1059|1048)|1049)(2:1067|(4:1069|1070|(1:1072)(1:1146)|(8:1074|1075|(4:1084|1085|1086|(5:(1:1108)(2:1091|1092)|(1:1107)(1:1096)|1097|(1:1106)(3:1101|(1:1103)|1104)|1105)(2:1109|(10:1111|(3:1115|(2:1121|(2:1123|1124)(1:1130))|1131)|1136|1125|(1:1128)|1129|1079|(1:1081)(1:1083)|1082|1051)))(1:1077)|1078|1079|(0)(0)|1082|1051)(3:1143|1144|1145))(3:1147|1148|1149)))|1050|1051)|(2:802|803)(5:(5:811|812|(1:814)(2:815|(2:817|(3:1007|1008|(1:1010))(1:(22:820|(1:822)(1:1003)|823|824|(1:1002)(2:828|829)|830|(3:964|965|(6:967|968|969|970|971|(16:973|(3:984|985|986)(5:975|976|977|978|979)|980|834|(2:836|(11:841|842|(1:844)(1:961)|845|(2:849|(9:855|856|(1:858)|859|(1:861)(3:951|(1:955)|956)|(9:870|871|872|(1:874)|875|876|877|(7:879|880|881|882|883|884|885)(1:940)|886)(1:863)|864|(3:866|(1:868)|869)|808)(3:851|(1:853)|854))|960|(0)(0)|(0)(0)|864|(0)|808))(1:963)|962|842|(0)(0)|845|(3:847|849|(0)(0))|960|(0)(0)|(0)(0)|864|(0)|808)(15:991|833|834|(0)(0)|962|842|(0)(0)|845|(0)|960|(0)(0)|(0)(0)|864|(0)|808)))|832|833|834|(0)(0)|962|842|(0)(0)|845|(0)|960|(0)(0)|(0)(0)|864|(0)|808)(3:1004|1005|1006))))|809|810)(1:806)|807|808|809|810)|804)))|790)|755|756|757|(1:759)|761)))|1356|(5:1358|1359|1360|1361|(28:1363|(1:1365)(1:1378)|1366|1367|1368|(1:1370)(1:1375)|1371|1372|1373|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761)(1:1379))|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))|716|717|718|(3:721|722|(0))|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))(1:1454)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))(1:1460)|687|688|(0)(0)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761)|658|(0)|660|661|662|(0)(0)|665|666|(2:668|670)|671|672|(0)(0)|687|688|(0)(0)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761))|646|(1:648)|1492|(0)|658|(0)|660|661|662|(0)(0)|665|666|(0)|671|672|(0)(0)|687|688|(0)(0)|1447|700|701|703|704|705|706|707|708|709|710|711|712|713|714|(0)|716|717|718|(0)|1356|(0)|728|729|730|731|732|733|(0)(0)|736|737|(0)(0)|(0)(0)|748|749|750|(9:(0)|780|781|(0)|783|(0)(0)|786|(11:(0)|791|792|793|(0)(0)|796|797|798|(0)(0)|(0)(0)|804)|790)|755|756|757|(0)|761) */
    /* JADX WARN: Code restructure failed: missing block: B:1147:0x170d, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1148:0x170e, code lost:
        r54 = r9;
        r6 = r11;
        r7 = r19;
        r11 = r80;
        r1 = r0;
        r25 = r6;
        r19 = r8;
        r6 = r56;
        r12 = r77;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1151:0x173c, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1152:0x173d, code lost:
        r6 = r11;
        r7 = r19;
        r11 = r80;
        r1 = r0;
        r25 = r6;
        r19 = r8;
        r6 = r56;
        r12 = r77;
        r8 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1153:0x1751, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1154:0x1752, code lost:
        r6 = r11;
        r7 = r19;
        r11 = r80;
        r1 = r88;
        r2 = r90;
        r3 = r0;
        r8 = r6;
        r15 = r33;
        r6 = r56;
        r5 = "x";
        r14 = r78;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1155:0x1769, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1156:0x176a, code lost:
        r6 = r11;
        r7 = r19;
        r11 = r80;
        r1 = r0;
        r25 = r6;
        r6 = r56;
        r12 = r77;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1157:0x177b, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1158:0x177c, code lost:
        r7 = r50;
        r14 = r8;
        r18 = r6;
        r11 = r80;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1159:0x1784, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1160:0x1785, code lost:
        r7 = r50;
        r14 = r8;
        r18 = r6;
        r11 = r80;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1161:0x178d, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1162:0x178e, code lost:
        r7 = r50;
        r14 = r8;
        r11 = r5;
        r78 = r33;
        r33 = r15;
        r18 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1163:0x1798, code lost:
        r1 = r88;
        r2 = r90;
        r3 = r0;
        r84 = r14;
        r15 = r33;
        r6 = r56;
        r5 = "x";
        r14 = r78;
        r8 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1165:0x17ad, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1166:0x17ae, code lost:
        r7 = r50;
        r14 = r8;
        r11 = r5;
        r78 = r33;
        r33 = r15;
        r18 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1167:0x17b8, code lost:
        r1 = r0;
        r84 = r14;
        r6 = r56;
        r12 = r77;
        r8 = -5;
        r19 = null;
        r25 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1169:0x17c8, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1170:0x17c9, code lost:
        r7 = r50;
        r11 = r5;
        r78 = r33;
        r33 = r15;
        r18 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1171:0x17d3, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1172:0x17d4, code lost:
        r7 = r50;
        r11 = r5;
        r78 = r33;
        r33 = r15;
        r18 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1173:0x17de, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1174:0x17df, code lost:
        r11 = r5;
        r78 = r33;
        r7 = r50;
        r33 = r15;
        r18 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1175:0x17e9, code lost:
        r1 = r88;
        r2 = r90;
        r3 = r0;
        r15 = r33;
        r6 = r56;
        r5 = "x";
        r14 = r78;
        r8 = null;
        r12 = -5;
        r47 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1176:0x17fc, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1177:0x17fd, code lost:
        r11 = r5;
        r78 = r33;
        r7 = r50;
        r33 = r15;
        r18 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1178:0x1807, code lost:
        r1 = r0;
        r6 = r56;
        r12 = r77;
        r8 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1179:0x180f, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1180:0x1810, code lost:
        r11 = r5;
        r7 = r50;
        r18 = r6;
        r1 = r88;
        r2 = r90;
        r3 = r0;
        r15 = r15;
        r6 = r56;
        r5 = "x";
        r14 = r33;
        r8 = null;
        r12 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1181:0x182b, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1182:0x182c, code lost:
        r11 = r5;
        r78 = r33;
        r7 = r50;
        r33 = r15;
        r18 = r6;
        r1 = r0;
        r6 = r56;
        r8 = -5;
        r12 = false;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1183:0x183d, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1184:0x183e, code lost:
        r11 = r5;
        r78 = r33;
        r7 = r50;
        r1 = r88;
        r2 = r90;
        r3 = r0;
        r15 = r15;
        r6 = r56;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1185:0x1850, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1186:0x1851, code lost:
        r11 = r5;
        r78 = r33;
        r7 = r50;
        r33 = r15;
        r1 = r0;
        r6 = r56;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1187:0x185e, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1191:0x1871, code lost:
        r5 = "x";
        r14 = r78;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1192:0x1877, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1193:0x1878, code lost:
        r71 = r2;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1194:0x187a, code lost:
        r11 = r5;
        r78 = r33;
        r7 = r50;
        r33 = r15;
        r1 = r0;
        r6 = r14;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1209:0x18d2, code lost:
        r2 = r90;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1210:0x18d4, code lost:
        if (r2 == false) goto L896;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1211:0x18d6, code lost:
        r79 = true;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1212:0x18d9, code lost:
        r2 = r90;
     */
    /* JADX WARN: Code restructure failed: missing block: B:247:0x057b, code lost:
        throw new java.lang.RuntimeException("unsupported!!");
     */
    /* JADX WARN: Code restructure failed: missing block: B:302:0x06b2, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:303:0x06b3, code lost:
        r2 = r90;
        r7 = r1;
        r15 = r10;
        r8 = r11;
        r1 = r13;
        r84 = r2;
        r60 = r9;
        r18 = r35;
        r77 = r36;
        r5 = "x";
        r32 = r10;
        r12 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:305:0x06d1, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:306:0x06d2, code lost:
        r26 = r6;
        r15 = r10;
        r8 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:307:0x06d9, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:308:0x06da, code lost:
        r2 = r90;
        r7 = r1;
        r11 = r6;
        r15 = r10;
        r1 = r13;
        r84 = r2;
     */
    /* JADX WARN: Code restructure failed: missing block: B:309:0x06e4, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:310:0x06e5, code lost:
        r26 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:311:0x06e9, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:312:0x06ea, code lost:
        r35 = r15;
        r2 = r90;
        r7 = r1;
        r15 = r10;
        r1 = r13;
        r84 = r2;
        r11 = r5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:313:0x06f8, code lost:
        r60 = r9;
        r18 = r35;
        r77 = r36;
        r6 = r37;
        r5 = "x";
        r32 = r10;
        r8 = null;
        r12 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:315:0x070d, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:316:0x070e, code lost:
        r26 = r5;
        r35 = r15;
     */
    /* JADX WARN: Code restructure failed: missing block: B:317:0x0713, code lost:
        r15 = r10;
        r8 = -5;
        r11 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:318:0x0717, code lost:
        r25 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:320:0x071c, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:321:0x071d, code lost:
        r2 = r90;
        r7 = r1;
        r14 = r3;
        r15 = r10;
        r1 = r13;
        r11 = r5;
        r60 = r9;
        r18 = r15;
        r77 = r36;
        r6 = r37;
     */
    /* JADX WARN: Code restructure failed: missing block: B:322:0x0732, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:324:0x0734, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:325:0x0735, code lost:
        r2 = r90;
        r7 = r1;
        r14 = r3;
        r15 = r10;
        r1 = r13;
        r11 = r5;
        r60 = r9;
        r18 = r15;
        r77 = r36;
     */
    /* JADX WARN: Code restructure failed: missing block: B:326:0x0749, code lost:
        r5 = "x";
        r32 = r10;
        r8 = null;
        r12 = -5;
        r47 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:327:0x0753, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:328:0x0754, code lost:
        r37 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:329:0x0756, code lost:
        r26 = r5;
        r35 = r15;
        r14 = r3;
        r15 = r10;
        r2 = null;
        r8 = -5;
        r11 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:331:0x0764, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:332:0x0765, code lost:
        r2 = r90;
        r7 = r1;
        r14 = r3;
        r15 = r10;
        r1 = r13;
        r11 = r5;
        r60 = r9;
        r18 = r15;
        r5 = "x";
        r32 = r10;
        r8 = null;
        r12 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:333:0x077e, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:334:0x077f, code lost:
        r37 = r6;
        r26 = r5;
        r35 = r15;
        r14 = r3;
        r15 = r10;
        r2 = null;
        r8 = -5;
        r11 = null;
        r25 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:335:0x078e, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:336:0x078f, code lost:
        r2 = r90;
        r7 = r1;
        r14 = r3;
        r15 = r10;
        r1 = r13;
        r60 = r9;
        r11 = r5;
        r5 = "x";
        r32 = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:337:0x07a0, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:338:0x07a1, code lost:
        r37 = r6;
        r26 = r5;
        r14 = r3;
        r15 = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:339:0x07a8, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:346:0x07c8, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:347:0x07c9, code lost:
        r37 = r6;
        r26 = r5;
        r14 = r3;
        r15 = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:352:0x07dc, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:355:0x07ed, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:356:0x07ee, code lost:
        r37 = r6;
        r26 = r5;
        r3 = r0;
        r1 = null;
        r2 = null;
        r8 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:448:0x0a3d, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:449:0x0a3e, code lost:
        r2 = r90;
        r3 = r0;
        r1 = r13;
        r11 = r15;
        r6 = r3;
     */
    /* JADX WARN: Code restructure failed: missing block: B:622:0x0d7c, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:680:0x0ea4, code lost:
        if (r1.getString(r9).equals(org.telegram.messenger.MediaController.AUDIO_MIME_TYPE) == false) goto L1314;
     */
    /* JADX WARN: Code restructure failed: missing block: B:717:0x0f56, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:730:0x0fa0, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:731:0x0fa1, code lost:
        r1 = r0;
        r54 = r9;
     */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:100:0x0325 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:1034:0x1501 A[Catch: all -> 0x1515, Exception -> 0x1517, TryCatch #35 {Exception -> 0x1517, blocks: (B:1007:0x1487, B:1012:0x1495, B:1018:0x14b3, B:1034:0x1501, B:1036:0x150a, B:1056:0x1536, B:1058:0x153a, B:1079:0x15a5, B:1073:0x1590, B:1060:0x155a, B:1062:0x1563, B:1017:0x14b0), top: B:1395:0x1487 }] */
    /* JADX WARN: Removed duplicated region for block: B:1044:0x151a  */
    /* JADX WARN: Removed duplicated region for block: B:1048:0x1521  */
    /* JADX WARN: Removed duplicated region for block: B:1049:0x1526  */
    /* JADX WARN: Removed duplicated region for block: B:1052:0x152e  */
    /* JADX WARN: Removed duplicated region for block: B:1060:0x155a A[Catch: Exception -> 0x1517, all -> 0x1568, TryCatch #35 {Exception -> 0x1517, blocks: (B:1007:0x1487, B:1012:0x1495, B:1018:0x14b3, B:1034:0x1501, B:1036:0x150a, B:1056:0x1536, B:1058:0x153a, B:1079:0x15a5, B:1073:0x1590, B:1060:0x155a, B:1062:0x1563, B:1017:0x14b0), top: B:1395:0x1487 }] */
    /* JADX WARN: Removed duplicated region for block: B:1068:0x1583  */
    /* JADX WARN: Removed duplicated region for block: B:1069:0x1586  */
    /* JADX WARN: Removed duplicated region for block: B:1097:0x15dd  */
    /* JADX WARN: Removed duplicated region for block: B:1100:0x15e9 A[Catch: all -> 0x1693, Exception -> 0x169d, TryCatch #148 {Exception -> 0x169d, all -> 0x1693, blocks: (B:1090:0x15c9, B:1098:0x15e3, B:1100:0x15e9, B:1102:0x15ed, B:1103:0x15f2, B:1108:0x1600, B:1109:0x161d, B:1119:0x1655, B:1120:0x1675, B:1121:0x1676, B:1122:0x1692), top: B:1547:0x15c9 }] */
    /* JADX WARN: Removed duplicated region for block: B:114:0x036c A[ADDED_TO_REGION, EDGE_INSN: B:114:0x036c->B:1590:0x036f ?: BREAK  ] */
    /* JADX WARN: Removed duplicated region for block: B:119:0x037b  */
    /* JADX WARN: Removed duplicated region for block: B:1209:0x18d2  */
    /* JADX WARN: Removed duplicated region for block: B:120:0x0386  */
    /* JADX WARN: Removed duplicated region for block: B:1212:0x18d9  */
    /* JADX WARN: Removed duplicated region for block: B:1224:0x1923 A[Catch: all -> 0x192f, TRY_LEAVE, TryCatch #11 {all -> 0x192f, blocks: (B:1222:0x191a, B:1224:0x1923), top: B:1370:0x191a }] */
    /* JADX WARN: Removed duplicated region for block: B:1241:0x1975  */
    /* JADX WARN: Removed duplicated region for block: B:1247:0x19a5 A[Catch: all -> 0x1998, TryCatch #90 {all -> 0x1998, blocks: (B:1243:0x1993, B:1247:0x19a5, B:1249:0x19ac, B:1251:0x19b6, B:1252:0x19b9), top: B:1432:0x1993 }] */
    /* JADX WARN: Removed duplicated region for block: B:1249:0x19ac A[Catch: all -> 0x1998, TryCatch #90 {all -> 0x1998, blocks: (B:1243:0x1993, B:1247:0x19a5, B:1249:0x19ac, B:1251:0x19b6, B:1252:0x19b9), top: B:1432:0x1993 }] */
    /* JADX WARN: Removed duplicated region for block: B:124:0x0393  */
    /* JADX WARN: Removed duplicated region for block: B:1251:0x19b6 A[Catch: all -> 0x1998, TryCatch #90 {all -> 0x1998, blocks: (B:1243:0x1993, B:1247:0x19a5, B:1249:0x19ac, B:1251:0x19b6, B:1252:0x19b9), top: B:1432:0x1993 }] */
    /* JADX WARN: Removed duplicated region for block: B:1256:0x19c9  */
    /* JADX WARN: Removed duplicated region for block: B:126:0x03a7  */
    /* JADX WARN: Removed duplicated region for block: B:1293:0x1a71  */
    /* JADX WARN: Removed duplicated region for block: B:1316:0x1aaa  */
    /* JADX WARN: Removed duplicated region for block: B:1318:0x1ab6  */
    /* JADX WARN: Removed duplicated region for block: B:1364:0x19ea A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1368:0x19f1 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1376:0x19e3 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1388:0x033c A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1392:0x0841 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1394:0x0e3e A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1399:0x19f8 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1407:0x0b71 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1409:0x1536 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1412:0x1a99 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1419:0x1aa0 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1421:0x1a78 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1430:0x0297 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1432:0x1993 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1448:0x1a8b A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1456:0x1a92 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1458:0x19d0 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1483:0x0b40 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1508:0x0234 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1512:0x0cd1 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1516:0x0fed A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1518:0x0b49 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1524:0x159b A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1528:0x0e88 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1543:0x1022 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1558:0x01a7 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:267:0x05cb  */
    /* JADX WARN: Removed duplicated region for block: B:269:0x05dd  */
    /* JADX WARN: Removed duplicated region for block: B:360:0x0802 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:377:0x0862 A[Catch: all -> 0x0846, TryCatch #33 {all -> 0x0846, blocks: (B:373:0x0841, B:377:0x0862, B:379:0x0868, B:381:0x0871, B:382:0x0874), top: B:1392:0x0841 }] */
    /* JADX WARN: Removed duplicated region for block: B:379:0x0868 A[Catch: all -> 0x0846, TryCatch #33 {all -> 0x0846, blocks: (B:373:0x0841, B:377:0x0862, B:379:0x0868, B:381:0x0871, B:382:0x0874), top: B:1392:0x0841 }] */
    /* JADX WARN: Removed duplicated region for block: B:381:0x0871 A[Catch: all -> 0x0846, TryCatch #33 {all -> 0x0846, blocks: (B:373:0x0841, B:377:0x0862, B:379:0x0868, B:381:0x0871, B:382:0x0874), top: B:1392:0x0841 }] */
    /* JADX WARN: Removed duplicated region for block: B:441:0x0a21  */
    /* JADX WARN: Removed duplicated region for block: B:536:0x0bb5  */
    /* JADX WARN: Removed duplicated region for block: B:539:0x0bce A[Catch: Exception -> 0x0b98, all -> 0x0b9b, TRY_ENTER, TryCatch #93 {all -> 0x0b9b, blocks: (B:523:0x0b71, B:525:0x0b78, B:539:0x0bce, B:541:0x0bd4, B:545:0x0bf0, B:547:0x0bf8, B:549:0x0c04, B:551:0x0c0c, B:553:0x0c18, B:555:0x0c20, B:567:0x0c3d), top: B:1407:0x0b71 }] */
    /* JADX WARN: Removed duplicated region for block: B:545:0x0bf0 A[Catch: Exception -> 0x0b98, all -> 0x0b9b, TRY_ENTER, TryCatch #93 {all -> 0x0b9b, blocks: (B:523:0x0b71, B:525:0x0b78, B:539:0x0bce, B:541:0x0bd4, B:545:0x0bf0, B:547:0x0bf8, B:549:0x0c04, B:551:0x0c0c, B:553:0x0c18, B:555:0x0c20, B:567:0x0c3d), top: B:1407:0x0b71 }] */
    /* JADX WARN: Removed duplicated region for block: B:563:0x0c30  */
    /* JADX WARN: Removed duplicated region for block: B:567:0x0c3d A[Catch: Exception -> 0x0b98, all -> 0x0b9b, TRY_LEAVE, TryCatch #93 {all -> 0x0b9b, blocks: (B:523:0x0b71, B:525:0x0b78, B:539:0x0bce, B:541:0x0bd4, B:545:0x0bf0, B:547:0x0bf8, B:549:0x0c04, B:551:0x0c0c, B:553:0x0c18, B:555:0x0c20, B:567:0x0c3d), top: B:1407:0x0b71 }] */
    /* JADX WARN: Removed duplicated region for block: B:581:0x0c66  */
    /* JADX WARN: Removed duplicated region for block: B:612:0x0d26 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:615:0x0d2e A[Catch: all -> 0x0d7f, Exception -> 0x0d89, TRY_LEAVE, TryCatch #143 {Exception -> 0x0d89, all -> 0x0d7f, blocks: (B:613:0x0d28, B:615:0x0d2e), top: B:1556:0x0d28 }] */
    /* JADX WARN: Removed duplicated region for block: B:630:0x0db1  */
    /* JADX WARN: Removed duplicated region for block: B:671:0x0e71  */
    /* JADX WARN: Removed duplicated region for block: B:689:0x0ec4  */
    /* JADX WARN: Removed duplicated region for block: B:691:0x0ec7  */
    /* JADX WARN: Removed duplicated region for block: B:714:0x0f4a  */
    /* JADX WARN: Removed duplicated region for block: B:724:0x0f6f  */
    /* JADX WARN: Removed duplicated region for block: B:735:0x0fad  */
    /* JADX WARN: Removed duplicated region for block: B:736:0x0faf  */
    /* JADX WARN: Removed duplicated region for block: B:740:0x0fcd A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:834:0x119d  */
    /* JADX WARN: Removed duplicated region for block: B:837:0x11b7 A[ADDED_TO_REGION, EDGE_INSN: B:837:0x11b7->B:1605:0x11ba ?: BREAK  ] */
    /* JADX WARN: Removed duplicated region for block: B:843:0x11d8  */
    /* JADX WARN: Removed duplicated region for block: B:844:0x11e7  */
    /* JADX WARN: Removed duplicated region for block: B:848:0x11f8  */
    /* JADX WARN: Removed duplicated region for block: B:849:0x120b  */
    /* JADX WARN: Removed duplicated region for block: B:89:0x02c4  */
    /* JADX WARN: Removed duplicated region for block: B:92:0x02e7 A[Catch: all -> 0x029c, Exception -> 0x02bb, TRY_ENTER, TRY_LEAVE, TryCatch #88 {Exception -> 0x02bb, blocks: (B:82:0x0297, B:92:0x02e7), top: B:1430:0x0297 }] */
    /* JADX WARN: Removed duplicated region for block: B:965:0x13ce  */
    /* JADX WARN: Removed duplicated region for block: B:966:0x13d0  */
    /* JADX WARN: Removed duplicated region for block: B:969:0x13dc  */
    /* JADX WARN: Removed duplicated region for block: B:971:0x13f6  */
    /* JADX WARN: Removed duplicated region for block: B:97:0x0314  */
    /* JADX WARN: Type inference failed for: r11v149 */
    /* JADX WARN: Type inference failed for: r11v221 */
    /* JADX WARN: Type inference failed for: r11v71 */
    /* JADX WARN: Type inference failed for: r11v72 */
    /* JADX WARN: Type inference failed for: r11v74 */
    /* JADX WARN: Type inference failed for: r19v18, types: [android.media.MediaCodec] */
    /* JADX WARN: Type inference failed for: r19v56 */
    /* JADX WARN: Type inference failed for: r19v57 */
    /* JADX WARN: Type inference failed for: r3v1, types: [long] */
    /* JADX WARN: Type inference failed for: r5v55, types: [android.media.MediaExtractor] */
    /* JADX WARN: Type inference failed for: r7v52 */
    /* JADX WARN: Type inference failed for: r7v61 */
    /* JADX WARN: Type inference failed for: r7v63 */
    /* JADX WARN: Type inference failed for: r7v76, types: [org.telegram.messenger.video.MP4Builder] */
    /* JADX WARN: Type inference failed for: r9v40, types: [boolean] */
    @TargetApi(18)
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private boolean convertVideoInternal(ConvertVideoParams convertVideoParams, boolean z, int i) {
        boolean z2;
        File file;
        MediaCodecVideoConvertor mediaCodecVideoConvertor;
        int i2;
        boolean z3;
        int i3;
        String str;
        Throwable th;
        boolean z4;
        MediaCodec mediaCodec;
        String str2;
        int i4;
        OutputSurface outputSurface;
        MediaCodec mediaCodec2;
        boolean z5;
        InputSurface inputSurface;
        MediaExtractor mediaExtractor;
        MP4Builder mP4Builder;
        String str3;
        boolean z6;
        boolean z7;
        MediaCodec.BufferInfo bufferInfo;
        Mp4Movie mp4Movie;
        long j;
        float f;
        long j2;
        String str4;
        String str5;
        String str6;
        int findTrack;
        int i5;
        String str7;
        int i6;
        int i7;
        boolean z8;
        int i8;
        int i9;
        int i10;
        MediaCodec mediaCodec3;
        MediaCodec mediaCodec4;
        AudioRecoder audioRecoder;
        MediaCodec mediaCodec5;
        OutputSurface outputSurface2;
        int i11;
        int i12;
        int i13;
        int i14;
        int i15;
        int i16;
        Exception exc;
        int i17;
        boolean z9;
        MediaCodec mediaCodec6;
        OutputSurface outputSurface3;
        int i18;
        MediaCodec mediaCodec7;
        long j3;
        int i19;
        long j4;
        MediaFormat trackFormat;
        int i20;
        int i21;
        String str8;
        long j5;
        Object obj;
        long j6;
        long j7;
        int i22;
        int i23;
        int i24;
        MediaCodec createByCodecName;
        MediaCodec mediaCodec8;
        StringBuilder sb;
        MediaFormat createVideoFormat;
        int i25;
        String str9;
        Mp4Movie mp4Movie2;
        int i26;
        int i27;
        boolean z10;
        int i28;
        int i29;
        String name;
        int i30;
        InputSurface inputSurface2;
        OutputSurface outputSurface4;
        int i31;
        ArrayList<VideoEditedInfo.MediaEntity> arrayList;
        char c;
        OutputSurface outputSurface5;
        int i32;
        long j8;
        Object obj2;
        int i33;
        boolean z11;
        long j9;
        long j10;
        MediaCodec.BufferInfo bufferInfo2;
        long j11;
        MediaFormat mediaFormat;
        MediaCodec.BufferInfo bufferInfo3;
        boolean z12;
        int i34;
        ?? r19;
        ByteBuffer[] inputBuffers;
        ByteBuffer[] outputBuffers;
        String str10;
        boolean z13;
        boolean z14;
        long j12;
        int i35;
        AudioRecoder audioRecoder2;
        int i36;
        ByteBuffer byteBuffer;
        int i37;
        boolean z15;
        int i38;
        int i39;
        boolean z16;
        long j13;
        boolean z17;
        boolean z18;
        boolean z19;
        int i40;
        MediaCodec mediaCodec9;
        int i41;
        ByteBuffer[] byteBufferArr;
        ByteBuffer[] byteBufferArr2;
        int i42;
        MediaCodec.BufferInfo bufferInfo4;
        int i43;
        boolean z20;
        int i44;
        MediaController.VideoConvertorListener videoConvertorListener;
        ByteBuffer inputBuffer;
        boolean z21;
        int i45;
        long j14;
        int i46;
        MediaCodec mediaCodec10;
        boolean z22;
        long j15;
        int i47;
        int dequeueOutputBuffer;
        int i48;
        boolean z23;
        long j16;
        String str11;
        int i49;
        int i50;
        int i51;
        ByteBuffer outputBuffer;
        ByteBuffer byteBuffer2;
        ByteBuffer byteBuffer3;
        boolean z24;
        boolean z25;
        MediaController.VideoConvertorListener videoConvertorListener2;
        int i52;
        long j17;
        boolean z26;
        boolean z27;
        ByteBuffer[] byteBufferArr3;
        boolean z28;
        boolean z29;
        long j18;
        long j19;
        boolean z30;
        long j20;
        boolean z31;
        InputSurface inputSurface3;
        ArrayList<VideoEditedInfo.MediaEntity> arrayList2;
        int i53;
        int i54;
        long j21;
        boolean z32;
        MediaExtractor mediaExtractor2;
        MP4Builder mP4Builder2;
        MediaController.CropState cropState;
        Exception exc2;
        int i55;
        int i56;
        MediaCodec mediaCodec11;
        InputSurface inputSurface4;
        OutputSurface outputSurface6;
        AudioRecoder audioRecoder3;
        String str12;
        boolean z33;
        float f2;
        boolean z34;
        int i57;
        String str13;
        int i58;
        Throwable th2;
        OutputSurface outputSurface7;
        MediaController.CropState cropState2;
        int i59;
        ByteBuffer[] outputBuffers2;
        boolean z35;
        int i60;
        AudioRecoder audioRecoder4;
        boolean z36;
        boolean z37;
        int i61;
        boolean z38;
        boolean z39;
        int i62;
        boolean z40;
        long j22;
        int dequeueOutputBuffer2;
        int i63;
        InputSurface inputSurface5;
        int i64;
        OutputSurface outputSurface8;
        String str14;
        int i65;
        ByteBuffer outputBuffer2;
        int i66;
        ByteBuffer byteBuffer4;
        ByteBuffer byteBuffer5;
        MediaController.VideoConvertorListener videoConvertorListener3;
        InputSurface inputSurface6;
        int i67;
        MediaCodecVideoConvertor mediaCodecVideoConvertor2 = this;
        String str15 = convertVideoParams.videoPath;
        File file2 = convertVideoParams.cacheFile;
        int i68 = convertVideoParams.rotationValue;
        boolean z41 = convertVideoParams.isSecret;
        int i69 = convertVideoParams.originalWidth;
        int i70 = convertVideoParams.originalHeight;
        int i71 = convertVideoParams.resultWidth;
        int i72 = convertVideoParams.resultHeight;
        int i73 = convertVideoParams.framerate;
        int i74 = convertVideoParams.bitrate;
        int i75 = convertVideoParams.originalBitrate;
        ?? r3 = convertVideoParams.startTime;
        long j23 = convertVideoParams.endTime;
        long j24 = convertVideoParams.avatarStartTime;
        boolean z42 = convertVideoParams.needCompress;
        long j25 = convertVideoParams.duration;
        MediaController.SavedFilterState savedFilterState = convertVideoParams.savedFilterState;
        String str16 = convertVideoParams.paintPath;
        String str17 = convertVideoParams.blurPath;
        ArrayList<VideoEditedInfo.MediaEntity> arrayList3 = convertVideoParams.mediaEntities;
        boolean z43 = convertVideoParams.isPhoto;
        MediaController.CropState cropState3 = convertVideoParams.cropState;
        boolean z44 = convertVideoParams.isRound;
        Integer num = convertVideoParams.gradientTopColor;
        Integer num2 = convertVideoParams.gradientBottomColor;
        boolean z45 = convertVideoParams.muted;
        boolean z46 = convertVideoParams.isStory;
        StoryEntry.HDRInfo hDRInfo = convertVideoParams.hdrInfo;
        FileLog.d("convertVideoInternal original=" + i69 + "x" + i70 + "  result=" + i71 + "x" + i72 + " " + j24);
        long currentTimeMillis = System.currentTimeMillis();
        boolean z47 = j24 >= 0;
        mediaCodecVideoConvertor2.outputMimeType = z46 ? "video/hevc" : MediaController.VIDEO_MIME_TYPE;
        try {
            bufferInfo = new MediaCodec.BufferInfo();
            mp4Movie = new Mp4Movie();
            mp4Movie.setCacheFile(file2);
            j = j24;
            mp4Movie.setRotation(0);
            mp4Movie.setSize(i71, i72);
            f = ((float) j25) / 1000.0f;
            j2 = j25 * 1000;
            mediaCodecVideoConvertor2.endPresentationTime = j2;
            checkConversionCanceled();
            str4 = "csd-0";
            str5 = "prepend-sps-pps-to-idr-frames";
        } catch (Throwable th3) {
            th = th3;
            z2 = z;
            file = file2;
            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
            i2 = i71;
            z3 = z42;
            i3 = i73;
            str = "x";
        }
        if (z43) {
            if (z47) {
                i74 = f <= 2000.0f ? 2600000 : f <= 5000.0f ? 2200000 : 1560000;
            } else if (i74 <= 0) {
                i74 = 921600;
            }
            if (cropState3 != null) {
                cropState = cropState3;
                try {
                } catch (Exception e) {
                    exc2 = e;
                    i55 = i74;
                    i56 = i73;
                    mediaCodec11 = null;
                    inputSurface4 = null;
                    i11 = -5;
                    outputSurface6 = null;
                    audioRecoder3 = null;
                    str12 = null;
                    z33 = false;
                    try {
                        if (exc2 instanceof IllegalStateException) {
                        }
                        try {
                            StringBuilder sb2 = new StringBuilder();
                            sb2.append("bitrate: ");
                            i74 = i55;
                            try {
                                sb2.append(i74);
                                sb2.append(" framerate: ");
                                i57 = i56;
                                try {
                                    sb2.append(i57);
                                    sb2.append(" size: ");
                                    sb2.append(i72);
                                    str13 = "x";
                                    try {
                                        sb2.append(str13);
                                        sb2.append(i71);
                                        FileLog.e(sb2.toString());
                                        FileLog.e(exc2);
                                        z6 = z34;
                                        i58 = i72;
                                        z7 = true;
                                        outputSurface2 = outputSurface6;
                                        if (outputSurface2 != null) {
                                        }
                                        if (inputSurface4 != null) {
                                        }
                                        if (mediaCodec11 != null) {
                                        }
                                        if (audioRecoder3 != null) {
                                        }
                                        checkConversionCanceled();
                                        mediaCodec4 = mediaCodec11;
                                        inputSurface = inputSurface4;
                                        i5 = i58;
                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                        z3 = z42;
                                        str2 = str12;
                                        z4 = z33;
                                        file = file2;
                                        mediaCodec5 = null;
                                        z2 = z;
                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                        if (mP4Builder2 != null) {
                                        }
                                        if (mediaCodec4 != null) {
                                        }
                                        if (mediaCodec5 != null) {
                                        }
                                        if (outputSurface2 != null) {
                                        }
                                        if (inputSurface != null) {
                                        }
                                        str3 = str2;
                                        i72 = i5;
                                    } catch (Throwable th4) {
                                        th = th4;
                                        inputSurface = inputSurface4;
                                        z5 = z34;
                                        z3 = z42;
                                        str2 = str12;
                                        z4 = z33;
                                        file = file2;
                                        mediaCodec = null;
                                        z2 = z;
                                        i4 = i11;
                                        outputSurface = outputSurface6;
                                        i3 = i57;
                                        str = str13;
                                        mediaCodec2 = mediaCodec11;
                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                        try {
                                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                            FileLog.e(th);
                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor != null) {
                                            }
                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (mediaCodec != null) {
                                            }
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            str3 = str2;
                                            z6 = z5;
                                            z7 = true;
                                            if (z6) {
                                            }
                                        } catch (Throwable th5) {
                                            MediaExtractor mediaExtractor3 = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor3 != null) {
                                                mediaExtractor3.release();
                                            }
                                            MP4Builder mP4Builder3 = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder3 != null) {
                                                try {
                                                    mP4Builder3.finishMovie();
                                                    mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.mediaMuxer.getLastFrameTimestamp(i4);
                                                } catch (Throwable th6) {
                                                    FileLog.e(th6);
                                                }
                                            }
                                            if (mediaCodec2 != null) {
                                                try {
                                                    mediaCodec2.release();
                                                } catch (Exception unused) {
                                                }
                                            }
                                            if (mediaCodec != null) {
                                                try {
                                                    mediaCodec.release();
                                                } catch (Exception unused2) {
                                                }
                                            }
                                            if (outputSurface != null) {
                                                try {
                                                    outputSurface.release();
                                                } catch (Exception unused3) {
                                                }
                                            }
                                            if (inputSurface != null) {
                                                try {
                                                    inputSurface.release();
                                                } catch (Exception unused4) {
                                                }
                                            }
                                            throw th5;
                                        }
                                    }
                                } catch (Throwable th7) {
                                    th = th7;
                                    mediaCodec2 = mediaCodec11;
                                    inputSurface = inputSurface4;
                                    z5 = z34;
                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                    z3 = z42;
                                    str2 = str12;
                                    z4 = z33;
                                    file = file2;
                                    mediaCodec = null;
                                    z2 = z;
                                    i4 = i11;
                                    outputSurface = outputSurface6;
                                    i3 = i57;
                                    str = "x";
                                }
                            } catch (Throwable th8) {
                                th = th8;
                                th = th;
                                mediaCodec2 = mediaCodec11;
                                inputSurface = inputSurface4;
                                z5 = z34;
                                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                z3 = z42;
                                str2 = str12;
                                z4 = z33;
                                str = "x";
                                file = file2;
                                mediaCodec = null;
                                z2 = z;
                                i4 = i11;
                                outputSurface = outputSurface6;
                                i3 = i56;
                                FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                str3 = str2;
                                z6 = z5;
                                z7 = true;
                                if (z6) {
                                }
                            }
                        } catch (Throwable th9) {
                            th = th9;
                            i74 = i55;
                        }
                    } catch (Throwable th10) {
                        i74 = i55;
                        th = th10;
                        mediaCodec2 = mediaCodec11;
                        inputSurface = inputSurface4;
                        i4 = i11;
                        outputSurface = outputSurface6;
                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                        i3 = i56;
                        z3 = z42;
                        str2 = str12;
                        z4 = z33;
                        str = "x";
                        file = file2;
                        mediaCodec = null;
                        z5 = false;
                        z2 = z;
                    }
                    if (z6) {
                    }
                } catch (Throwable th11) {
                    th = th11;
                    z2 = z;
                    th = th;
                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                    z3 = z42;
                    i3 = i73;
                    str = "x";
                    file = file2;
                    mediaCodec2 = null;
                    outputSurface = null;
                    i4 = -5;
                    str2 = null;
                    mediaCodec = null;
                    z4 = false;
                    z5 = false;
                    inputSurface = null;
                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                    FileLog.e(th);
                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor != null) {
                    }
                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                    if (mP4Builder != null) {
                    }
                    if (mediaCodec2 != null) {
                    }
                    if (mediaCodec != null) {
                    }
                    if (outputSurface != null) {
                    }
                    if (inputSurface != null) {
                    }
                    str3 = str2;
                    z6 = z5;
                    z7 = true;
                    if (z6) {
                    }
                }
                if (cropState.useMatrix != null) {
                    f2 = f;
                    i58 = i72;
                    int i76 = i71;
                    if (BuildVars.LOGS_ENABLED) {
                        try {
                            FileLog.d("create photo encoder " + i76 + " " + i58 + " duration = " + j25);
                        } catch (Exception e2) {
                            e = e2;
                            i72 = i58;
                            i55 = i74;
                            i71 = i76;
                            i56 = i73;
                            mediaCodec11 = null;
                            inputSurface4 = null;
                            i11 = -5;
                            outputSurface6 = null;
                            audioRecoder3 = null;
                            str12 = null;
                            z33 = false;
                            exc2 = e;
                            if (exc2 instanceof IllegalStateException) {
                            }
                            StringBuilder sb22 = new StringBuilder();
                            sb22.append("bitrate: ");
                            i74 = i55;
                            sb22.append(i74);
                            sb22.append(" framerate: ");
                            i57 = i56;
                            sb22.append(i57);
                            sb22.append(" size: ");
                            sb22.append(i72);
                            str13 = "x";
                            sb22.append(str13);
                            sb22.append(i71);
                            FileLog.e(sb22.toString());
                            FileLog.e(exc2);
                            z6 = z34;
                            i58 = i72;
                            z7 = true;
                            outputSurface2 = outputSurface6;
                            if (outputSurface2 != null) {
                            }
                            if (inputSurface4 != null) {
                            }
                            if (mediaCodec11 != null) {
                            }
                            if (audioRecoder3 != null) {
                            }
                            checkConversionCanceled();
                            mediaCodec4 = mediaCodec11;
                            inputSurface = inputSurface4;
                            i5 = i58;
                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                            z3 = z42;
                            str2 = str12;
                            z4 = z33;
                            file = file2;
                            mediaCodec5 = null;
                            z2 = z;
                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor2 != null) {
                            }
                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder2 != null) {
                            }
                            if (mediaCodec4 != null) {
                            }
                            if (mediaCodec5 != null) {
                            }
                            if (outputSurface2 != null) {
                            }
                            if (inputSurface != null) {
                            }
                            str3 = str2;
                            i72 = i5;
                            if (z6) {
                            }
                        } catch (Throwable th12) {
                            th2 = th12;
                            z2 = z;
                            i72 = i58;
                            i71 = i76;
                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                            z3 = z42;
                            i3 = i73;
                            str = "x";
                            file = file2;
                            mediaCodec2 = null;
                            outputSurface = null;
                            i4 = -5;
                            str2 = null;
                            mediaCodec = null;
                            z4 = false;
                            z5 = false;
                            inputSurface = null;
                            th = th2;
                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                            FileLog.e(th);
                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor != null) {
                            }
                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface != null) {
                            }
                            str3 = str2;
                            z6 = z5;
                            z7 = true;
                            if (z6) {
                            }
                        }
                    }
                    mediaCodec11 = createEncoderForMimeType();
                    MediaFormat createVideoFormat2 = MediaFormat.createVideoFormat(mediaCodecVideoConvertor2.outputMimeType, i76, i58);
                    createVideoFormat2.setInteger("color-format", 2130708361);
                    createVideoFormat2.setInteger("bitrate", i74);
                    createVideoFormat2.setInteger("frame-rate", 30);
                    createVideoFormat2.setInteger("i-frame-interval", 1);
                    String name2 = mediaCodec11.getName();
                    z33 = "c2.qti.avc.encoder".equalsIgnoreCase(name2);
                    StringBuilder sb3 = new StringBuilder();
                    i55 = i74;
                    sb3.append("selected encoder ");
                    sb3.append(name2);
                    FileLog.d(sb3.toString());
                    mediaCodec11.configure(createVideoFormat2, (Surface) null, (MediaCrypto) null, 1);
                    inputSurface4 = new InputSurface(mediaCodec11.createInputSurface());
                    inputSurface4.makeCurrent();
                    mediaCodec11.start();
                    if (cropState != null) {
                        try {
                        } catch (Exception e3) {
                            i72 = i58;
                            i56 = i73;
                            i11 = -5;
                            outputSurface6 = null;
                            audioRecoder3 = null;
                            exc2 = e3;
                            str12 = name2;
                            i71 = i76;
                        } catch (Throwable th13) {
                            mediaCodec2 = mediaCodec11;
                            inputSurface = inputSurface4;
                            i72 = i58;
                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                            str2 = name2;
                            z3 = z42;
                            i3 = i73;
                            z4 = z33;
                            i74 = i55;
                            str = "x";
                            file = file2;
                            outputSurface = null;
                            i4 = -5;
                            mediaCodec = null;
                            z5 = false;
                            z2 = z;
                            th = th13;
                            i71 = i76;
                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                            FileLog.e(th);
                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor != null) {
                            }
                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface != null) {
                            }
                            str3 = str2;
                            z6 = z5;
                            z7 = true;
                            if (z6) {
                            }
                        }
                        if (cropState.useMatrix != null) {
                            cropState2 = cropState;
                            i59 = i73;
                            outputSurface6 = outputSurface7;
                            str12 = name2;
                            outputSurface7 = new OutputSurface(savedFilterState, str15, str16, str17, arrayList3, cropState2, i76, i58, i69, i70, i68, i59, true, num, num2, null, convertVideoParams);
                            if (Build.VERSION.SDK_INT < 21) {
                                try {
                                    try {
                                        outputBuffers2 = mediaCodec11.getOutputBuffers();
                                    } catch (Exception e4) {
                                        e = e4;
                                        i72 = i58;
                                        i56 = i59;
                                        i71 = i76;
                                        i11 = -5;
                                        audioRecoder3 = null;
                                        exc2 = e;
                                        if (exc2 instanceof IllegalStateException) {
                                        }
                                        StringBuilder sb222 = new StringBuilder();
                                        sb222.append("bitrate: ");
                                        i74 = i55;
                                        sb222.append(i74);
                                        sb222.append(" framerate: ");
                                        i57 = i56;
                                        sb222.append(i57);
                                        sb222.append(" size: ");
                                        sb222.append(i72);
                                        str13 = "x";
                                        sb222.append(str13);
                                        sb222.append(i71);
                                        FileLog.e(sb222.toString());
                                        FileLog.e(exc2);
                                        z6 = z34;
                                        i58 = i72;
                                        z7 = true;
                                        outputSurface2 = outputSurface6;
                                        if (outputSurface2 != null) {
                                        }
                                        if (inputSurface4 != null) {
                                        }
                                        if (mediaCodec11 != null) {
                                        }
                                        if (audioRecoder3 != null) {
                                        }
                                        checkConversionCanceled();
                                        mediaCodec4 = mediaCodec11;
                                        inputSurface = inputSurface4;
                                        i5 = i58;
                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                        z3 = z42;
                                        str2 = str12;
                                        z4 = z33;
                                        file = file2;
                                        mediaCodec5 = null;
                                        z2 = z;
                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                        if (mP4Builder2 != null) {
                                        }
                                        if (mediaCodec4 != null) {
                                        }
                                        if (mediaCodec5 != null) {
                                        }
                                        if (outputSurface2 != null) {
                                        }
                                        if (inputSurface != null) {
                                        }
                                        str3 = str2;
                                        i72 = i5;
                                        if (z6) {
                                        }
                                    }
                                } catch (Throwable th14) {
                                    th = th14;
                                    mediaCodec2 = mediaCodec11;
                                    inputSurface = inputSurface4;
                                    i72 = i58;
                                    i71 = i76;
                                    outputSurface = outputSurface6;
                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                    z3 = z42;
                                    str2 = str12;
                                    z4 = z33;
                                    str = "x";
                                    file = file2;
                                    i4 = -5;
                                    mediaCodec = null;
                                    z5 = false;
                                    z2 = z;
                                    th = th;
                                    i3 = i59;
                                    i74 = i55;
                                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                    FileLog.e(th);
                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                    if (mP4Builder != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface != null) {
                                    }
                                    str3 = str2;
                                    z6 = z5;
                                    z7 = true;
                                    if (z6) {
                                    }
                                }
                            } else {
                                outputBuffers2 = null;
                            }
                            checkConversionCanceled();
                            ByteBuffer[] byteBufferArr4 = outputBuffers2;
                            mediaCodecVideoConvertor2.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z41, mediaCodecVideoConvertor2.outputMimeType.equals("video/hevc"));
                            if (convertVideoParams.soundInfos.isEmpty()) {
                                z35 = true;
                                i60 = -1;
                                i4 = -5;
                                audioRecoder4 = null;
                            } else {
                                ArrayList arrayList4 = new ArrayList();
                                arrayList4.add(new BlankAudioInput(j2));
                                applyAudioInputs(convertVideoParams.soundInfos, arrayList4);
                                audioRecoder4 = new AudioRecoder(arrayList4, j2);
                                try {
                                    i60 = mediaCodecVideoConvertor2.mediaMuxer.addTrack(audioRecoder4.format, true);
                                    z35 = false;
                                    i4 = -5;
                                } catch (Exception e5) {
                                    e = e5;
                                    i56 = i59;
                                    i71 = i76;
                                    audioRecoder3 = audioRecoder4;
                                    i11 = -5;
                                    i72 = i58;
                                    exc2 = e;
                                    if (exc2 instanceof IllegalStateException) {
                                    }
                                    StringBuilder sb2222 = new StringBuilder();
                                    sb2222.append("bitrate: ");
                                    i74 = i55;
                                    sb2222.append(i74);
                                    sb2222.append(" framerate: ");
                                    i57 = i56;
                                    sb2222.append(i57);
                                    sb2222.append(" size: ");
                                    sb2222.append(i72);
                                    str13 = "x";
                                    sb2222.append(str13);
                                    sb2222.append(i71);
                                    FileLog.e(sb2222.toString());
                                    FileLog.e(exc2);
                                    z6 = z34;
                                    i58 = i72;
                                    z7 = true;
                                    outputSurface2 = outputSurface6;
                                    if (outputSurface2 != null) {
                                        try {
                                            outputSurface2.release();
                                            outputSurface2 = null;
                                        } catch (Throwable th15) {
                                            th2 = th15;
                                            inputSurface = inputSurface4;
                                            i3 = i57;
                                            str = str13;
                                            i4 = i11;
                                            outputSurface = outputSurface2;
                                            z3 = z42;
                                            str2 = str12;
                                            z4 = z33;
                                            z5 = z6;
                                            file = file2;
                                            mediaCodec = null;
                                            z2 = z;
                                            mediaCodec2 = mediaCodec11;
                                            i72 = i58;
                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                            th = th2;
                                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                            FileLog.e(th);
                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor != null) {
                                            }
                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (mediaCodec != null) {
                                            }
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            str3 = str2;
                                            z6 = z5;
                                            z7 = true;
                                            if (z6) {
                                            }
                                        }
                                    }
                                    if (inputSurface4 != null) {
                                        inputSurface4.release();
                                        inputSurface4 = null;
                                    }
                                    if (mediaCodec11 != null) {
                                        mediaCodec11.stop();
                                        mediaCodec11.release();
                                        mediaCodec11 = null;
                                    }
                                    if (audioRecoder3 != null) {
                                        audioRecoder3.release();
                                    }
                                    checkConversionCanceled();
                                    mediaCodec4 = mediaCodec11;
                                    inputSurface = inputSurface4;
                                    i5 = i58;
                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                    z3 = z42;
                                    str2 = str12;
                                    z4 = z33;
                                    file = file2;
                                    mediaCodec5 = null;
                                    z2 = z;
                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor2 != null) {
                                    }
                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                    if (mP4Builder2 != null) {
                                    }
                                    if (mediaCodec4 != null) {
                                    }
                                    if (mediaCodec5 != null) {
                                    }
                                    if (outputSurface2 != null) {
                                    }
                                    if (inputSurface != null) {
                                    }
                                    str3 = str2;
                                    i72 = i5;
                                    if (z6) {
                                    }
                                }
                            }
                            z36 = false;
                            long j26 = 0;
                            z37 = false;
                            int i77 = 0;
                            i61 = 0;
                            boolean z48 = true;
                            loop0: while (true) {
                                if (!z36 && z35) {
                                    i57 = i59;
                                    i71 = i76;
                                    i11 = i4;
                                    audioRecoder3 = audioRecoder4;
                                    i74 = i55;
                                    str13 = "x";
                                    z7 = false;
                                    z6 = false;
                                    break;
                                }
                                try {
                                    try {
                                        checkConversionCanceled();
                                        if (audioRecoder4 != null) {
                                            try {
                                                try {
                                                    z35 = audioRecoder4.step(mediaCodecVideoConvertor2.mediaMuxer, i60);
                                                } catch (Throwable th16) {
                                                    th = th16;
                                                    mediaCodec2 = mediaCodec11;
                                                    inputSurface = inputSurface4;
                                                    i72 = i58;
                                                    i71 = i76;
                                                    outputSurface = outputSurface6;
                                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                    z3 = z42;
                                                    str2 = str12;
                                                    z4 = z33;
                                                    str = "x";
                                                    file = file2;
                                                    mediaCodec = null;
                                                    z5 = false;
                                                    z2 = z;
                                                    th = th;
                                                    i3 = i59;
                                                    i74 = i55;
                                                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                    FileLog.e(th);
                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor != null) {
                                                    }
                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder != null) {
                                                    }
                                                    if (mediaCodec2 != null) {
                                                    }
                                                    if (mediaCodec != null) {
                                                    }
                                                    if (outputSurface != null) {
                                                    }
                                                    if (inputSurface != null) {
                                                    }
                                                    str3 = str2;
                                                    z6 = z5;
                                                    z7 = true;
                                                    if (z6) {
                                                    }
                                                }
                                            } catch (Exception e6) {
                                                e = e6;
                                                i56 = i59;
                                                i71 = i76;
                                                i11 = i4;
                                                audioRecoder3 = audioRecoder4;
                                                i72 = i58;
                                                exc2 = e;
                                                if (exc2 instanceof IllegalStateException) {
                                                }
                                                StringBuilder sb22222 = new StringBuilder();
                                                sb22222.append("bitrate: ");
                                                i74 = i55;
                                                sb22222.append(i74);
                                                sb22222.append(" framerate: ");
                                                i57 = i56;
                                                sb22222.append(i57);
                                                sb22222.append(" size: ");
                                                sb22222.append(i72);
                                                str13 = "x";
                                                sb22222.append(str13);
                                                sb22222.append(i71);
                                                FileLog.e(sb22222.toString());
                                                FileLog.e(exc2);
                                                z6 = z34;
                                                i58 = i72;
                                                z7 = true;
                                                outputSurface2 = outputSurface6;
                                                if (outputSurface2 != null) {
                                                }
                                                if (inputSurface4 != null) {
                                                }
                                                if (mediaCodec11 != null) {
                                                }
                                                if (audioRecoder3 != null) {
                                                }
                                                checkConversionCanceled();
                                                mediaCodec4 = mediaCodec11;
                                                inputSurface = inputSurface4;
                                                i5 = i58;
                                                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                z3 = z42;
                                                str2 = str12;
                                                z4 = z33;
                                                file = file2;
                                                mediaCodec5 = null;
                                                z2 = z;
                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor2 != null) {
                                                }
                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                if (mP4Builder2 != null) {
                                                }
                                                if (mediaCodec4 != null) {
                                                }
                                                if (mediaCodec5 != null) {
                                                }
                                                if (outputSurface2 != null) {
                                                }
                                                if (inputSurface != null) {
                                                }
                                                str3 = str2;
                                                i72 = i5;
                                                if (z6) {
                                                }
                                            }
                                        }
                                        z38 = !z37;
                                        z39 = true;
                                        int i78 = i61;
                                        boolean z49 = z35;
                                        i62 = i78;
                                    } catch (Exception e7) {
                                        e = e7;
                                        i56 = i59;
                                        audioRecoder3 = audioRecoder4;
                                    }
                                    while (true) {
                                        if (!z38 || z39) {
                                            checkConversionCanceled();
                                            if (z) {
                                                audioRecoder3 = audioRecoder4;
                                                z40 = z36;
                                                j22 = 22000;
                                            } else {
                                                audioRecoder3 = audioRecoder4;
                                                z40 = z36;
                                                j22 = 2500;
                                            }
                                            try {
                                                dequeueOutputBuffer2 = mediaCodec11.dequeueOutputBuffer(bufferInfo, j22);
                                            } catch (Exception e8) {
                                                e = e8;
                                                i56 = i59;
                                                i71 = i76;
                                                i11 = i4;
                                                i72 = i58;
                                                exc2 = e;
                                                if (exc2 instanceof IllegalStateException) {
                                                }
                                                StringBuilder sb222222 = new StringBuilder();
                                                sb222222.append("bitrate: ");
                                                i74 = i55;
                                                sb222222.append(i74);
                                                sb222222.append(" framerate: ");
                                                i57 = i56;
                                                sb222222.append(i57);
                                                sb222222.append(" size: ");
                                                sb222222.append(i72);
                                                str13 = "x";
                                                sb222222.append(str13);
                                                sb222222.append(i71);
                                                FileLog.e(sb222222.toString());
                                                FileLog.e(exc2);
                                                z6 = z34;
                                                i58 = i72;
                                                z7 = true;
                                                outputSurface2 = outputSurface6;
                                                if (outputSurface2 != null) {
                                                }
                                                if (inputSurface4 != null) {
                                                }
                                                if (mediaCodec11 != null) {
                                                }
                                                if (audioRecoder3 != null) {
                                                }
                                                checkConversionCanceled();
                                                mediaCodec4 = mediaCodec11;
                                                inputSurface = inputSurface4;
                                                i5 = i58;
                                                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                z3 = z42;
                                                str2 = str12;
                                                z4 = z33;
                                                file = file2;
                                                mediaCodec5 = null;
                                                z2 = z;
                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor2 != null) {
                                                }
                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                if (mP4Builder2 != null) {
                                                }
                                                if (mediaCodec4 != null) {
                                                }
                                                if (mediaCodec5 != null) {
                                                }
                                                if (outputSurface2 != null) {
                                                }
                                                if (inputSurface != null) {
                                                }
                                                str3 = str2;
                                                i72 = i5;
                                                if (z6) {
                                                }
                                            }
                                            if (dequeueOutputBuffer2 == -1) {
                                                inputSurface5 = inputSurface4;
                                                i64 = i62;
                                                i63 = i60;
                                                outputSurface8 = outputSurface6;
                                                z36 = z40;
                                                str14 = str4;
                                                i65 = -1;
                                                z39 = false;
                                            } else {
                                                if (dequeueOutputBuffer2 == -3) {
                                                    try {
                                                        i63 = i60;
                                                        if (Build.VERSION.SDK_INT < 21) {
                                                            byteBufferArr4 = mediaCodec11.getOutputBuffers();
                                                        }
                                                        inputSurface5 = inputSurface4;
                                                        i64 = i62;
                                                        outputSurface8 = outputSurface6;
                                                        z36 = z40;
                                                        str14 = str4;
                                                    } catch (Exception e9) {
                                                        e = e9;
                                                        i72 = i58;
                                                        i56 = i59;
                                                        i71 = i76;
                                                        i11 = i4;
                                                        exc2 = e;
                                                        if (exc2 instanceof IllegalStateException) {
                                                        }
                                                        StringBuilder sb2222222 = new StringBuilder();
                                                        sb2222222.append("bitrate: ");
                                                        i74 = i55;
                                                        sb2222222.append(i74);
                                                        sb2222222.append(" framerate: ");
                                                        i57 = i56;
                                                        sb2222222.append(i57);
                                                        sb2222222.append(" size: ");
                                                        sb2222222.append(i72);
                                                        str13 = "x";
                                                        sb2222222.append(str13);
                                                        sb2222222.append(i71);
                                                        FileLog.e(sb2222222.toString());
                                                        FileLog.e(exc2);
                                                        z6 = z34;
                                                        i58 = i72;
                                                        z7 = true;
                                                        outputSurface2 = outputSurface6;
                                                        if (outputSurface2 != null) {
                                                        }
                                                        if (inputSurface4 != null) {
                                                        }
                                                        if (mediaCodec11 != null) {
                                                        }
                                                        if (audioRecoder3 != null) {
                                                        }
                                                        checkConversionCanceled();
                                                        mediaCodec4 = mediaCodec11;
                                                        inputSurface = inputSurface4;
                                                        i5 = i58;
                                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                        z3 = z42;
                                                        str2 = str12;
                                                        z4 = z33;
                                                        file = file2;
                                                        mediaCodec5 = null;
                                                        z2 = z;
                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                        if (mediaExtractor2 != null) {
                                                        }
                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                        if (mP4Builder2 != null) {
                                                        }
                                                        if (mediaCodec4 != null) {
                                                        }
                                                        if (mediaCodec5 != null) {
                                                        }
                                                        if (outputSurface2 != null) {
                                                        }
                                                        if (inputSurface != null) {
                                                        }
                                                        str3 = str2;
                                                        i72 = i5;
                                                        if (z6) {
                                                        }
                                                    }
                                                } else {
                                                    i63 = i60;
                                                    if (dequeueOutputBuffer2 == -2) {
                                                        MediaFormat outputFormat = mediaCodec11.getOutputFormat();
                                                        if (BuildVars.LOGS_ENABLED) {
                                                            FileLog.d("photo encoder new format " + outputFormat);
                                                        }
                                                        if (i4 != -5 || outputFormat == null) {
                                                            str14 = str4;
                                                        } else {
                                                            i4 = mediaCodecVideoConvertor2.mediaMuxer.addTrack(outputFormat, false);
                                                            String str18 = str5;
                                                            try {
                                                                if (outputFormat.containsKey(str18)) {
                                                                    str5 = str18;
                                                                    if (outputFormat.getInteger(str18) == 1) {
                                                                        str14 = str4;
                                                                        ByteBuffer byteBuffer6 = outputFormat.getByteBuffer(str14);
                                                                        i67 = i4;
                                                                        try {
                                                                            ByteBuffer byteBuffer7 = outputFormat.getByteBuffer("csd-1");
                                                                            i77 = (byteBuffer6 == null ? 0 : byteBuffer6.limit()) + (byteBuffer7 == null ? 0 : byteBuffer7.limit());
                                                                            i4 = i67;
                                                                        } catch (Exception e10) {
                                                                            e = e10;
                                                                            i72 = i58;
                                                                            i56 = i59;
                                                                            i71 = i76;
                                                                            i11 = i67;
                                                                            exc2 = e;
                                                                            if (exc2 instanceof IllegalStateException) {
                                                                            }
                                                                            StringBuilder sb22222222 = new StringBuilder();
                                                                            sb22222222.append("bitrate: ");
                                                                            i74 = i55;
                                                                            sb22222222.append(i74);
                                                                            sb22222222.append(" framerate: ");
                                                                            i57 = i56;
                                                                            sb22222222.append(i57);
                                                                            sb22222222.append(" size: ");
                                                                            sb22222222.append(i72);
                                                                            str13 = "x";
                                                                            sb22222222.append(str13);
                                                                            sb22222222.append(i71);
                                                                            FileLog.e(sb22222222.toString());
                                                                            FileLog.e(exc2);
                                                                            z6 = z34;
                                                                            i58 = i72;
                                                                            z7 = true;
                                                                            outputSurface2 = outputSurface6;
                                                                            if (outputSurface2 != null) {
                                                                            }
                                                                            if (inputSurface4 != null) {
                                                                            }
                                                                            if (mediaCodec11 != null) {
                                                                            }
                                                                            if (audioRecoder3 != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            mediaCodec4 = mediaCodec11;
                                                                            inputSurface = inputSurface4;
                                                                            i5 = i58;
                                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                            z3 = z42;
                                                                            str2 = str12;
                                                                            z4 = z33;
                                                                            file = file2;
                                                                            mediaCodec5 = null;
                                                                            z2 = z;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder2 != null) {
                                                                            }
                                                                            if (mediaCodec4 != null) {
                                                                            }
                                                                            if (mediaCodec5 != null) {
                                                                            }
                                                                            if (outputSurface2 != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            str3 = str2;
                                                                            i72 = i5;
                                                                            if (z6) {
                                                                            }
                                                                        } catch (Throwable th17) {
                                                                            th = th17;
                                                                            mediaCodec2 = mediaCodec11;
                                                                            inputSurface = inputSurface4;
                                                                            i72 = i58;
                                                                            i71 = i76;
                                                                            outputSurface = outputSurface6;
                                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                            i4 = i67;
                                                                            z3 = z42;
                                                                            str2 = str12;
                                                                            z4 = z33;
                                                                            str = "x";
                                                                            file = file2;
                                                                            mediaCodec = null;
                                                                            z5 = false;
                                                                            z2 = z;
                                                                            th = th;
                                                                            i3 = i59;
                                                                            i74 = i55;
                                                                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            str3 = str2;
                                                                            z6 = z5;
                                                                            z7 = true;
                                                                            if (z6) {
                                                                            }
                                                                        }
                                                                    }
                                                                } else {
                                                                    str5 = str18;
                                                                }
                                                                i67 = i4;
                                                                str14 = str4;
                                                                i4 = i67;
                                                            } catch (Exception e11) {
                                                                e = e11;
                                                                i67 = i4;
                                                            } catch (Throwable th18) {
                                                                th = th18;
                                                                mediaCodec2 = mediaCodec11;
                                                                inputSurface = inputSurface4;
                                                                i72 = i58;
                                                                i71 = i76;
                                                                outputSurface = outputSurface6;
                                                                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                z3 = z42;
                                                                str2 = str12;
                                                                z4 = z33;
                                                                str = "x";
                                                                file = file2;
                                                                mediaCodec = null;
                                                                z5 = false;
                                                                z2 = z;
                                                                th = th;
                                                                i3 = i59;
                                                                i74 = i55;
                                                                FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                FileLog.e(th);
                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor != null) {
                                                                }
                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                if (mP4Builder != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (mediaCodec != null) {
                                                                }
                                                                if (outputSurface != null) {
                                                                }
                                                                if (inputSurface != null) {
                                                                }
                                                                str3 = str2;
                                                                z6 = z5;
                                                                z7 = true;
                                                                if (z6) {
                                                                }
                                                            }
                                                        }
                                                        inputSurface5 = inputSurface4;
                                                        i64 = i62;
                                                        outputSurface8 = outputSurface6;
                                                        z36 = z40;
                                                    } else {
                                                        str14 = str4;
                                                        if (dequeueOutputBuffer2 < 0) {
                                                            throw new RuntimeException("unexpected result from encoder.dequeueOutputBuffer: " + dequeueOutputBuffer2);
                                                        }
                                                        if (Build.VERSION.SDK_INT < 21) {
                                                            outputBuffer2 = byteBufferArr4[dequeueOutputBuffer2];
                                                        } else {
                                                            outputBuffer2 = mediaCodec11.getOutputBuffer(dequeueOutputBuffer2);
                                                        }
                                                        if (outputBuffer2 == null) {
                                                            throw new RuntimeException("encoderOutputBuffer " + dequeueOutputBuffer2 + " was null");
                                                        }
                                                        int i79 = bufferInfo.size;
                                                        i56 = i59;
                                                        try {
                                                            if (i79 > 1) {
                                                                try {
                                                                    int i80 = bufferInfo.flags;
                                                                    if ((i80 & 2) != 0) {
                                                                        inputSurface5 = inputSurface4;
                                                                        i64 = i62;
                                                                        outputSurface8 = outputSurface6;
                                                                        i66 = dequeueOutputBuffer2;
                                                                        if (i4 == -5) {
                                                                            if (mediaCodecVideoConvertor2.outputMimeType.equals("video/hevc")) {
                                                                                break loop0;
                                                                            }
                                                                            int i81 = bufferInfo.size;
                                                                            byte[] bArr = new byte[i81];
                                                                            outputBuffer2.limit(bufferInfo.offset + i81);
                                                                            outputBuffer2.position(bufferInfo.offset);
                                                                            outputBuffer2.get(bArr);
                                                                            byte b = 1;
                                                                            int i82 = bufferInfo.size - 1;
                                                                            while (i82 >= 0 && i82 > 3) {
                                                                                if (bArr[i82] == b && bArr[i82 - 1] == 0 && bArr[i82 - 2] == 0) {
                                                                                    int i83 = i82 - 3;
                                                                                    if (bArr[i83] == 0) {
                                                                                        byteBuffer4 = ByteBuffer.allocate(i83);
                                                                                        byteBuffer5 = ByteBuffer.allocate(bufferInfo.size - i83);
                                                                                        byteBuffer4.put(bArr, 0, i83).position(0);
                                                                                        byteBuffer5.put(bArr, i83, bufferInfo.size - i83).position(0);
                                                                                        break;
                                                                                    }
                                                                                }
                                                                                i82--;
                                                                                b = 1;
                                                                            }
                                                                            byteBuffer4 = null;
                                                                            byteBuffer5 = null;
                                                                            MediaFormat createVideoFormat3 = MediaFormat.createVideoFormat(mediaCodecVideoConvertor2.outputMimeType, i76, i58);
                                                                            if (byteBuffer4 != null && byteBuffer5 != null) {
                                                                                createVideoFormat3.setByteBuffer(str14, byteBuffer4);
                                                                                createVideoFormat3.setByteBuffer("csd-1", byteBuffer5);
                                                                            }
                                                                            i4 = mediaCodecVideoConvertor2.mediaMuxer.addTrack(createVideoFormat3, false);
                                                                        }
                                                                    } else {
                                                                        if (i77 == 0 || (i80 & 1) == 0) {
                                                                            inputSurface5 = inputSurface4;
                                                                        } else {
                                                                            inputSurface5 = inputSurface4;
                                                                            try {
                                                                                bufferInfo.offset += i77;
                                                                                bufferInfo.size = i79 - i77;
                                                                            } catch (Exception e12) {
                                                                                e = e12;
                                                                                i72 = i58;
                                                                                i71 = i76;
                                                                                i11 = i4;
                                                                                inputSurface4 = inputSurface5;
                                                                                exc2 = e;
                                                                                if (exc2 instanceof IllegalStateException) {
                                                                                }
                                                                                StringBuilder sb222222222 = new StringBuilder();
                                                                                sb222222222.append("bitrate: ");
                                                                                i74 = i55;
                                                                                sb222222222.append(i74);
                                                                                sb222222222.append(" framerate: ");
                                                                                i57 = i56;
                                                                                sb222222222.append(i57);
                                                                                sb222222222.append(" size: ");
                                                                                sb222222222.append(i72);
                                                                                str13 = "x";
                                                                                sb222222222.append(str13);
                                                                                sb222222222.append(i71);
                                                                                FileLog.e(sb222222222.toString());
                                                                                FileLog.e(exc2);
                                                                                z6 = z34;
                                                                                i58 = i72;
                                                                                z7 = true;
                                                                                outputSurface2 = outputSurface6;
                                                                                if (outputSurface2 != null) {
                                                                                }
                                                                                if (inputSurface4 != null) {
                                                                                }
                                                                                if (mediaCodec11 != null) {
                                                                                }
                                                                                if (audioRecoder3 != null) {
                                                                                }
                                                                                checkConversionCanceled();
                                                                                mediaCodec4 = mediaCodec11;
                                                                                inputSurface = inputSurface4;
                                                                                i5 = i58;
                                                                                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                z3 = z42;
                                                                                str2 = str12;
                                                                                z4 = z33;
                                                                                file = file2;
                                                                                mediaCodec5 = null;
                                                                                z2 = z;
                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                if (mediaExtractor2 != null) {
                                                                                }
                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                if (mP4Builder2 != null) {
                                                                                }
                                                                                if (mediaCodec4 != null) {
                                                                                }
                                                                                if (mediaCodec5 != null) {
                                                                                }
                                                                                if (outputSurface2 != null) {
                                                                                }
                                                                                if (inputSurface != null) {
                                                                                }
                                                                                str3 = str2;
                                                                                i72 = i5;
                                                                                if (z6) {
                                                                                }
                                                                            } catch (Throwable th19) {
                                                                                th2 = th19;
                                                                                z2 = z;
                                                                                mediaCodec2 = mediaCodec11;
                                                                                i72 = i58;
                                                                                i71 = i76;
                                                                                outputSurface = outputSurface6;
                                                                                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                i3 = i56;
                                                                                inputSurface = inputSurface5;
                                                                                z3 = z42;
                                                                                str2 = str12;
                                                                                z4 = z33;
                                                                                i74 = i55;
                                                                                str = "x";
                                                                                file = file2;
                                                                                mediaCodec = null;
                                                                                z5 = false;
                                                                                th = th2;
                                                                                FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                FileLog.e(th);
                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                if (mediaExtractor != null) {
                                                                                }
                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                if (mP4Builder != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (mediaCodec != null) {
                                                                                }
                                                                                if (outputSurface != null) {
                                                                                }
                                                                                if (inputSurface != null) {
                                                                                }
                                                                                str3 = str2;
                                                                                z6 = z5;
                                                                                z7 = true;
                                                                                if (z6) {
                                                                                }
                                                                            }
                                                                        }
                                                                        if (z48 && (i80 & 1) != 0) {
                                                                            cutOfNalData(mediaCodecVideoConvertor2.outputMimeType, outputBuffer2, bufferInfo);
                                                                            z48 = false;
                                                                        }
                                                                        try {
                                                                            int i84 = i62;
                                                                            long writeSampleData = mediaCodecVideoConvertor2.mediaMuxer.writeSampleData(i4, outputBuffer2, bufferInfo, true);
                                                                            if (writeSampleData == 0 || (videoConvertorListener3 = mediaCodecVideoConvertor2.callback) == null) {
                                                                                outputSurface8 = outputSurface6;
                                                                                i66 = dequeueOutputBuffer2;
                                                                                i64 = i84;
                                                                            } else {
                                                                                i66 = dequeueOutputBuffer2;
                                                                                i64 = i84;
                                                                                long j27 = bufferInfo.presentationTimeUs;
                                                                                if (j27 <= j26) {
                                                                                    j27 = j26;
                                                                                }
                                                                                outputSurface8 = outputSurface6;
                                                                                try {
                                                                                    videoConvertorListener3.didWriteData(writeSampleData, ((((float) j27) / 1000.0f) / 1000.0f) / f2);
                                                                                    j26 = j27;
                                                                                } catch (Exception e13) {
                                                                                    e = e13;
                                                                                    i72 = i58;
                                                                                    i71 = i76;
                                                                                    i11 = i4;
                                                                                    inputSurface4 = inputSurface5;
                                                                                    outputSurface6 = outputSurface8;
                                                                                } catch (Throwable th20) {
                                                                                    th2 = th20;
                                                                                    z2 = z;
                                                                                    mediaCodec2 = mediaCodec11;
                                                                                    i72 = i58;
                                                                                    i71 = i76;
                                                                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                    i3 = i56;
                                                                                    inputSurface = inputSurface5;
                                                                                    outputSurface = outputSurface8;
                                                                                    z3 = z42;
                                                                                    str2 = str12;
                                                                                    z4 = z33;
                                                                                    i74 = i55;
                                                                                    str = "x";
                                                                                    file = file2;
                                                                                    mediaCodec = null;
                                                                                    z5 = false;
                                                                                    th = th2;
                                                                                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                    FileLog.e(th);
                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                    if (mediaExtractor != null) {
                                                                                    }
                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                    if (mP4Builder != null) {
                                                                                    }
                                                                                    if (mediaCodec2 != null) {
                                                                                    }
                                                                                    if (mediaCodec != null) {
                                                                                    }
                                                                                    if (outputSurface != null) {
                                                                                    }
                                                                                    if (inputSurface != null) {
                                                                                    }
                                                                                    str3 = str2;
                                                                                    z6 = z5;
                                                                                    z7 = true;
                                                                                    if (z6) {
                                                                                    }
                                                                                }
                                                                            }
                                                                        } catch (Exception e14) {
                                                                            e = e14;
                                                                            i72 = i58;
                                                                            i71 = i76;
                                                                            i11 = i4;
                                                                            inputSurface4 = inputSurface5;
                                                                            exc2 = e;
                                                                            if (exc2 instanceof IllegalStateException) {
                                                                            }
                                                                            StringBuilder sb2222222222 = new StringBuilder();
                                                                            sb2222222222.append("bitrate: ");
                                                                            i74 = i55;
                                                                            sb2222222222.append(i74);
                                                                            sb2222222222.append(" framerate: ");
                                                                            i57 = i56;
                                                                            sb2222222222.append(i57);
                                                                            sb2222222222.append(" size: ");
                                                                            sb2222222222.append(i72);
                                                                            str13 = "x";
                                                                            sb2222222222.append(str13);
                                                                            sb2222222222.append(i71);
                                                                            FileLog.e(sb2222222222.toString());
                                                                            FileLog.e(exc2);
                                                                            z6 = z34;
                                                                            i58 = i72;
                                                                            z7 = true;
                                                                            outputSurface2 = outputSurface6;
                                                                            if (outputSurface2 != null) {
                                                                            }
                                                                            if (inputSurface4 != null) {
                                                                            }
                                                                            if (mediaCodec11 != null) {
                                                                            }
                                                                            if (audioRecoder3 != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            mediaCodec4 = mediaCodec11;
                                                                            inputSurface = inputSurface4;
                                                                            i5 = i58;
                                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                            z3 = z42;
                                                                            str2 = str12;
                                                                            z4 = z33;
                                                                            file = file2;
                                                                            mediaCodec5 = null;
                                                                            z2 = z;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder2 != null) {
                                                                            }
                                                                            if (mediaCodec4 != null) {
                                                                            }
                                                                            if (mediaCodec5 != null) {
                                                                            }
                                                                            if (outputSurface2 != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            str3 = str2;
                                                                            i72 = i5;
                                                                            if (z6) {
                                                                            }
                                                                        } catch (Throwable th21) {
                                                                            th2 = th21;
                                                                            outputSurface8 = outputSurface6;
                                                                            z2 = z;
                                                                            mediaCodec2 = mediaCodec11;
                                                                            i72 = i58;
                                                                            i71 = i76;
                                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                            i3 = i56;
                                                                            inputSurface = inputSurface5;
                                                                            outputSurface = outputSurface8;
                                                                            z3 = z42;
                                                                            str2 = str12;
                                                                            z4 = z33;
                                                                            i74 = i55;
                                                                            str = "x";
                                                                            file = file2;
                                                                            mediaCodec = null;
                                                                            z5 = false;
                                                                            th = th2;
                                                                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            str3 = str2;
                                                                            z6 = z5;
                                                                            z7 = true;
                                                                            if (z6) {
                                                                            }
                                                                        }
                                                                    }
                                                                    if (i66 != i65) {
                                                                        str4 = str14;
                                                                        audioRecoder4 = audioRecoder3;
                                                                        i59 = i56;
                                                                        i60 = i63;
                                                                        i62 = i64;
                                                                        inputSurface4 = inputSurface5;
                                                                        outputSurface6 = outputSurface8;
                                                                    } else {
                                                                        if (z37) {
                                                                            inputSurface6 = inputSurface5;
                                                                            outputSurface6 = outputSurface8;
                                                                            i62 = i64;
                                                                        } else {
                                                                            int i85 = i64;
                                                                            long j28 = (i85 / 30.0f) * 1000.0f * 1000.0f * 1000.0f;
                                                                            outputSurface6 = outputSurface8;
                                                                            try {
                                                                                outputSurface6.drawImage(j28);
                                                                                inputSurface6 = inputSurface5;
                                                                            } catch (Exception e15) {
                                                                                e = e15;
                                                                                inputSurface6 = inputSurface5;
                                                                            } catch (Throwable th22) {
                                                                                th2 = th22;
                                                                                inputSurface6 = inputSurface5;
                                                                            }
                                                                            try {
                                                                                inputSurface6.setPresentationTime(j28);
                                                                                inputSurface6.swapBuffers();
                                                                                i62 = i85 + 1;
                                                                                if (i62 >= 30.0f * f2) {
                                                                                    mediaCodec11.signalEndOfInputStream();
                                                                                    z37 = true;
                                                                                    z38 = false;
                                                                                }
                                                                            } catch (Exception e16) {
                                                                                e = e16;
                                                                                i71 = i76;
                                                                                i11 = i4;
                                                                                inputSurface4 = inputSurface6;
                                                                                i72 = i58;
                                                                                exc2 = e;
                                                                                if (exc2 instanceof IllegalStateException) {
                                                                                }
                                                                                StringBuilder sb22222222222 = new StringBuilder();
                                                                                sb22222222222.append("bitrate: ");
                                                                                i74 = i55;
                                                                                sb22222222222.append(i74);
                                                                                sb22222222222.append(" framerate: ");
                                                                                i57 = i56;
                                                                                sb22222222222.append(i57);
                                                                                sb22222222222.append(" size: ");
                                                                                sb22222222222.append(i72);
                                                                                str13 = "x";
                                                                                sb22222222222.append(str13);
                                                                                sb22222222222.append(i71);
                                                                                FileLog.e(sb22222222222.toString());
                                                                                FileLog.e(exc2);
                                                                                z6 = z34;
                                                                                i58 = i72;
                                                                                z7 = true;
                                                                                outputSurface2 = outputSurface6;
                                                                                if (outputSurface2 != null) {
                                                                                }
                                                                                if (inputSurface4 != null) {
                                                                                }
                                                                                if (mediaCodec11 != null) {
                                                                                }
                                                                                if (audioRecoder3 != null) {
                                                                                }
                                                                                checkConversionCanceled();
                                                                                mediaCodec4 = mediaCodec11;
                                                                                inputSurface = inputSurface4;
                                                                                i5 = i58;
                                                                                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                z3 = z42;
                                                                                str2 = str12;
                                                                                z4 = z33;
                                                                                file = file2;
                                                                                mediaCodec5 = null;
                                                                                z2 = z;
                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                if (mediaExtractor2 != null) {
                                                                                }
                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                if (mP4Builder2 != null) {
                                                                                }
                                                                                if (mediaCodec4 != null) {
                                                                                }
                                                                                if (mediaCodec5 != null) {
                                                                                }
                                                                                if (outputSurface2 != null) {
                                                                                }
                                                                                if (inputSurface != null) {
                                                                                }
                                                                                str3 = str2;
                                                                                i72 = i5;
                                                                                if (z6) {
                                                                                }
                                                                            } catch (Throwable th23) {
                                                                                th2 = th23;
                                                                                z2 = z;
                                                                                mediaCodec2 = mediaCodec11;
                                                                                i71 = i76;
                                                                                outputSurface = outputSurface6;
                                                                                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                inputSurface = inputSurface6;
                                                                                i3 = i56;
                                                                                z3 = z42;
                                                                                str2 = str12;
                                                                                z4 = z33;
                                                                                i74 = i55;
                                                                                str = "x";
                                                                                file = file2;
                                                                                mediaCodec = null;
                                                                                z5 = false;
                                                                                i72 = i58;
                                                                                th = th2;
                                                                                FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                FileLog.e(th);
                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                if (mediaExtractor != null) {
                                                                                }
                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                if (mP4Builder != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (mediaCodec != null) {
                                                                                }
                                                                                if (outputSurface != null) {
                                                                                }
                                                                                if (inputSurface != null) {
                                                                                }
                                                                                str3 = str2;
                                                                                z6 = z5;
                                                                                z7 = true;
                                                                                if (z6) {
                                                                                }
                                                                            }
                                                                        }
                                                                        str4 = str14;
                                                                        inputSurface4 = inputSurface6;
                                                                        audioRecoder4 = audioRecoder3;
                                                                        i59 = i56;
                                                                        i60 = i63;
                                                                    }
                                                                } catch (Exception e17) {
                                                                    e = e17;
                                                                    i72 = i58;
                                                                    i71 = i76;
                                                                    i11 = i4;
                                                                    exc2 = e;
                                                                    if (exc2 instanceof IllegalStateException) {
                                                                    }
                                                                    StringBuilder sb222222222222 = new StringBuilder();
                                                                    sb222222222222.append("bitrate: ");
                                                                    i74 = i55;
                                                                    sb222222222222.append(i74);
                                                                    sb222222222222.append(" framerate: ");
                                                                    i57 = i56;
                                                                    sb222222222222.append(i57);
                                                                    sb222222222222.append(" size: ");
                                                                    sb222222222222.append(i72);
                                                                    str13 = "x";
                                                                    sb222222222222.append(str13);
                                                                    sb222222222222.append(i71);
                                                                    FileLog.e(sb222222222222.toString());
                                                                    FileLog.e(exc2);
                                                                    z6 = z34;
                                                                    i58 = i72;
                                                                    z7 = true;
                                                                    outputSurface2 = outputSurface6;
                                                                    if (outputSurface2 != null) {
                                                                    }
                                                                    if (inputSurface4 != null) {
                                                                    }
                                                                    if (mediaCodec11 != null) {
                                                                    }
                                                                    if (audioRecoder3 != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    mediaCodec4 = mediaCodec11;
                                                                    inputSurface = inputSurface4;
                                                                    i5 = i58;
                                                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                    z3 = z42;
                                                                    str2 = str12;
                                                                    z4 = z33;
                                                                    file = file2;
                                                                    mediaCodec5 = null;
                                                                    z2 = z;
                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                    if (mediaExtractor2 != null) {
                                                                    }
                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                    if (mP4Builder2 != null) {
                                                                    }
                                                                    if (mediaCodec4 != null) {
                                                                    }
                                                                    if (mediaCodec5 != null) {
                                                                    }
                                                                    if (outputSurface2 != null) {
                                                                    }
                                                                    if (inputSurface != null) {
                                                                    }
                                                                    str3 = str2;
                                                                    i72 = i5;
                                                                    if (z6) {
                                                                    }
                                                                } catch (Throwable th24) {
                                                                    th2 = th24;
                                                                    inputSurface5 = inputSurface4;
                                                                }
                                                            } else {
                                                                inputSurface5 = inputSurface4;
                                                                i64 = i62;
                                                                outputSurface8 = outputSurface6;
                                                                i66 = dequeueOutputBuffer2;
                                                            }
                                                            boolean z50 = (bufferInfo.flags & 4) != 0;
                                                            mediaCodec11.releaseOutputBuffer(i66, false);
                                                            z36 = z50;
                                                            i65 = -1;
                                                            if (i66 != i65) {
                                                            }
                                                        } catch (Exception e18) {
                                                            e = e18;
                                                            inputSurface6 = inputSurface5;
                                                            outputSurface6 = outputSurface8;
                                                            i71 = i76;
                                                            i11 = i4;
                                                            inputSurface4 = inputSurface6;
                                                            i72 = i58;
                                                            exc2 = e;
                                                            if (exc2 instanceof IllegalStateException) {
                                                            }
                                                            StringBuilder sb2222222222222 = new StringBuilder();
                                                            sb2222222222222.append("bitrate: ");
                                                            i74 = i55;
                                                            sb2222222222222.append(i74);
                                                            sb2222222222222.append(" framerate: ");
                                                            i57 = i56;
                                                            sb2222222222222.append(i57);
                                                            sb2222222222222.append(" size: ");
                                                            sb2222222222222.append(i72);
                                                            str13 = "x";
                                                            sb2222222222222.append(str13);
                                                            sb2222222222222.append(i71);
                                                            FileLog.e(sb2222222222222.toString());
                                                            FileLog.e(exc2);
                                                            z6 = z34;
                                                            i58 = i72;
                                                            z7 = true;
                                                            outputSurface2 = outputSurface6;
                                                            if (outputSurface2 != null) {
                                                            }
                                                            if (inputSurface4 != null) {
                                                            }
                                                            if (mediaCodec11 != null) {
                                                            }
                                                            if (audioRecoder3 != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            mediaCodec4 = mediaCodec11;
                                                            inputSurface = inputSurface4;
                                                            i5 = i58;
                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                            z3 = z42;
                                                            str2 = str12;
                                                            z4 = z33;
                                                            file = file2;
                                                            mediaCodec5 = null;
                                                            z2 = z;
                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder2 != null) {
                                                            }
                                                            if (mediaCodec4 != null) {
                                                            }
                                                            if (mediaCodec5 != null) {
                                                            }
                                                            if (outputSurface2 != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            str3 = str2;
                                                            i72 = i5;
                                                            if (z6) {
                                                            }
                                                        } catch (Throwable th25) {
                                                            th2 = th25;
                                                            inputSurface6 = inputSurface5;
                                                            outputSurface6 = outputSurface8;
                                                            z2 = z;
                                                            mediaCodec2 = mediaCodec11;
                                                            i71 = i76;
                                                            outputSurface = outputSurface6;
                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                            inputSurface = inputSurface6;
                                                            i3 = i56;
                                                            z3 = z42;
                                                            str2 = str12;
                                                            z4 = z33;
                                                            i74 = i55;
                                                            str = "x";
                                                            file = file2;
                                                            mediaCodec = null;
                                                            z5 = false;
                                                            i72 = i58;
                                                            th = th2;
                                                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                            FileLog.e(th);
                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            str3 = str2;
                                                            z6 = z5;
                                                            z7 = true;
                                                            if (z6) {
                                                            }
                                                        }
                                                    }
                                                    exc2 = e;
                                                    z34 = ((exc2 instanceof IllegalStateException) || z) ? false : true;
                                                    StringBuilder sb22222222222222 = new StringBuilder();
                                                    sb22222222222222.append("bitrate: ");
                                                    i74 = i55;
                                                    sb22222222222222.append(i74);
                                                    sb22222222222222.append(" framerate: ");
                                                    i57 = i56;
                                                    sb22222222222222.append(i57);
                                                    sb22222222222222.append(" size: ");
                                                    sb22222222222222.append(i72);
                                                    str13 = "x";
                                                    sb22222222222222.append(str13);
                                                    sb22222222222222.append(i71);
                                                    FileLog.e(sb22222222222222.toString());
                                                    FileLog.e(exc2);
                                                    z6 = z34;
                                                    i58 = i72;
                                                    z7 = true;
                                                }
                                                i65 = -1;
                                            }
                                            i56 = i59;
                                            i66 = dequeueOutputBuffer2;
                                            if (i66 != i65) {
                                            }
                                        }
                                    }
                                } catch (Throwable th26) {
                                    th2 = th26;
                                    InputSurface inputSurface7 = inputSurface4;
                                    z2 = z;
                                    mediaCodec2 = mediaCodec11;
                                    i71 = i76;
                                    outputSurface = outputSurface6;
                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                    inputSurface = inputSurface7;
                                    z3 = z42;
                                    str2 = str12;
                                    z4 = z33;
                                    str = "x";
                                    file = file2;
                                    mediaCodec = null;
                                    z5 = false;
                                    i72 = i58;
                                    i3 = i59;
                                    i74 = i55;
                                    th = th2;
                                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                    FileLog.e(th);
                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                    if (mP4Builder != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface != null) {
                                    }
                                    str3 = str2;
                                    z6 = z5;
                                    z7 = true;
                                    if (z6) {
                                    }
                                }
                                i61 = i62;
                                z35 = z49;
                            }
                        }
                    }
                    i59 = i73;
                    cropState2 = null;
                    outputSurface6 = outputSurface7;
                    str12 = name2;
                    outputSurface7 = new OutputSurface(savedFilterState, str15, str16, str17, arrayList3, cropState2, i76, i58, i69, i70, i68, i59, true, num, num2, null, convertVideoParams);
                    if (Build.VERSION.SDK_INT < 21) {
                    }
                    checkConversionCanceled();
                    ByteBuffer[] byteBufferArr42 = outputBuffers2;
                    mediaCodecVideoConvertor2.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z41, mediaCodecVideoConvertor2.outputMimeType.equals("video/hevc"));
                    if (convertVideoParams.soundInfos.isEmpty()) {
                    }
                    z36 = false;
                    long j262 = 0;
                    z37 = false;
                    int i772 = 0;
                    i61 = 0;
                    boolean z482 = true;
                    loop0: while (true) {
                        if (!z36) {
                        }
                        checkConversionCanceled();
                        if (audioRecoder4 != null) {
                        }
                        z38 = !z37;
                        z39 = true;
                        int i782 = i61;
                        boolean z492 = z35;
                        i62 = i782;
                        while (true) {
                            if (!z38) {
                            }
                            checkConversionCanceled();
                            if (z) {
                            }
                            dequeueOutputBuffer2 = mediaCodec11.dequeueOutputBuffer(bufferInfo, j22);
                            if (dequeueOutputBuffer2 == -1) {
                            }
                            i56 = i59;
                            i66 = dequeueOutputBuffer2;
                            if (i66 != i65) {
                            }
                        }
                        i61 = i62;
                        z35 = z492;
                    }
                }
            } else {
                cropState = cropState3;
            }
            if (i71 % 16 != 0) {
                if (BuildVars.LOGS_ENABLED) {
                    StringBuilder sb4 = new StringBuilder();
                    f2 = f;
                    sb4.append("changing width from ");
                    sb4.append(i71);
                    sb4.append(" to ");
                    sb4.append(Math.round(i71 / 16.0f) * 16);
                    FileLog.d(sb4.toString());
                } else {
                    f2 = f;
                }
                i71 = Math.round(i71 / 16.0f) * 16;
            } else {
                f2 = f;
            }
            if (i72 % 16 != 0) {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("changing height from " + i72 + " to " + (Math.round(i72 / 16.0f) * 16));
                }
                i72 = Math.round(i72 / 16.0f) * 16;
            }
            i58 = i72;
            int i762 = i71;
            if (BuildVars.LOGS_ENABLED) {
            }
            mediaCodec11 = createEncoderForMimeType();
            MediaFormat createVideoFormat22 = MediaFormat.createVideoFormat(mediaCodecVideoConvertor2.outputMimeType, i762, i58);
            createVideoFormat22.setInteger("color-format", 2130708361);
            createVideoFormat22.setInteger("bitrate", i74);
            createVideoFormat22.setInteger("frame-rate", 30);
            createVideoFormat22.setInteger("i-frame-interval", 1);
            String name22 = mediaCodec11.getName();
            z33 = "c2.qti.avc.encoder".equalsIgnoreCase(name22);
            StringBuilder sb32 = new StringBuilder();
            i55 = i74;
            sb32.append("selected encoder ");
            sb32.append(name22);
            FileLog.d(sb32.toString());
            mediaCodec11.configure(createVideoFormat22, (Surface) null, (MediaCrypto) null, 1);
            inputSurface4 = new InputSurface(mediaCodec11.createInputSurface());
            inputSurface4.makeCurrent();
            mediaCodec11.start();
            if (cropState != null) {
            }
            i59 = i73;
            cropState2 = null;
            outputSurface6 = outputSurface7;
            str12 = name22;
            outputSurface7 = new OutputSurface(savedFilterState, str15, str16, str17, arrayList3, cropState2, i762, i58, i69, i70, i68, i59, true, num, num2, null, convertVideoParams);
            if (Build.VERSION.SDK_INT < 21) {
            }
            checkConversionCanceled();
            ByteBuffer[] byteBufferArr422 = outputBuffers2;
            mediaCodecVideoConvertor2.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z41, mediaCodecVideoConvertor2.outputMimeType.equals("video/hevc"));
            if (convertVideoParams.soundInfos.isEmpty()) {
            }
            z36 = false;
            long j2622 = 0;
            z37 = false;
            int i7722 = 0;
            i61 = 0;
            boolean z4822 = true;
            loop0: while (true) {
                if (!z36) {
                }
                checkConversionCanceled();
                if (audioRecoder4 != null) {
                }
                z38 = !z37;
                z39 = true;
                int i7822 = i61;
                boolean z4922 = z35;
                i62 = i7822;
                while (true) {
                    if (!z38) {
                    }
                    checkConversionCanceled();
                    if (z) {
                    }
                    dequeueOutputBuffer2 = mediaCodec11.dequeueOutputBuffer(bufferInfo, j22);
                    if (dequeueOutputBuffer2 == -1) {
                    }
                    i56 = i59;
                    i66 = dequeueOutputBuffer2;
                    if (i66 != i65) {
                    }
                }
                i61 = i62;
                z35 = z4922;
            }
        } else {
            file = null;
            try {
                MediaExtractor mediaExtractor4 = new MediaExtractor();
                mediaCodecVideoConvertor2.extractor = mediaExtractor4;
                str6 = str4;
                mediaExtractor4.setDataSource(str15);
                try {
                    findTrack = MediaController.findTrack(mediaCodecVideoConvertor2.extractor, false);
                    if (i74 == -1 || z45) {
                        i5 = i72;
                        str7 = str5;
                        i6 = -1;
                    } else {
                        try {
                            i5 = i72;
                        } catch (Throwable th27) {
                            z2 = z;
                            th = th27;
                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                            str = "x";
                            mediaCodec2 = null;
                            outputSurface = null;
                            str2 = null;
                            mediaCodec = null;
                            inputSurface = null;
                            z3 = z42;
                            i3 = i73;
                            file = file2;
                            i4 = -5;
                            z4 = false;
                            z5 = false;
                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                            FileLog.e(th);
                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor != null) {
                            }
                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface != null) {
                            }
                            str3 = str2;
                            z6 = z5;
                            z7 = true;
                            if (z6) {
                            }
                        }
                        try {
                            i6 = MediaController.findTrack(mediaCodecVideoConvertor2.extractor, true);
                            str7 = str5;
                        } catch (Throwable th28) {
                            z2 = z;
                            th = th28;
                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                            str = "x";
                            mediaCodec2 = null;
                            outputSurface = null;
                            str2 = null;
                            mediaCodec = null;
                            inputSurface = null;
                            i72 = i5;
                            z3 = z42;
                            i3 = i73;
                            file = file2;
                            i4 = -5;
                            z4 = false;
                            z5 = false;
                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                            FileLog.e(th);
                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor != null) {
                            }
                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface != null) {
                            }
                            str3 = str2;
                            z6 = z5;
                            z7 = true;
                            if (z6) {
                            }
                        }
                    }
                } catch (Throwable th29) {
                    th = th29;
                    z2 = z;
                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                    i2 = i71;
                    str = "x";
                    z3 = z42;
                    i3 = i73;
                    file = file2;
                    th = th;
                    i71 = i2;
                    mediaCodec2 = null;
                    outputSurface = null;
                    i4 = -5;
                    str2 = null;
                    mediaCodec = null;
                    z4 = false;
                    z5 = false;
                    inputSurface = null;
                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                    FileLog.e(th);
                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor != null) {
                    }
                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                    if (mP4Builder != null) {
                    }
                    if (mediaCodec2 != null) {
                    }
                    if (mediaCodec != null) {
                    }
                    if (outputSurface != null) {
                    }
                    if (inputSurface != null) {
                    }
                    str3 = str2;
                    z6 = z5;
                    z7 = true;
                    if (z6) {
                    }
                }
            } catch (Throwable th30) {
                th = th30;
                z2 = z;
                i3 = i73;
                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                i2 = i71;
                str = "x";
                z3 = z42;
            }
            if (findTrack >= 0) {
                i7 = i6;
                if (!mediaCodecVideoConvertor2.extractor.getTrackFormat(findTrack).getString("mime").equals(MediaController.VIDEO_MIME_TYPE)) {
                    z8 = true;
                    if (!z42 || z8) {
                        long j29 = j23;
                        z3 = z42;
                        file = file2;
                        if (findTrack < 0) {
                            try {
                                long j30 = (1000 / i73) * 1000;
                                if (i73 < 30) {
                                    j3 = j30;
                                    try {
                                        i19 = 1000 / (i73 + 5);
                                    } catch (Exception e19) {
                                        exc = e19;
                                        i14 = findTrack;
                                        i3 = i73;
                                        i74 = i74;
                                        i15 = i5;
                                        mediaCodec2 = null;
                                        i17 = -5;
                                        z9 = false;
                                        mediaCodec6 = null;
                                        outputSurface3 = null;
                                        audioRecoder = null;
                                        inputSurface = null;
                                        i16 = i71;
                                        str2 = null;
                                        try {
                                            if (exc instanceof IllegalStateException) {
                                            }
                                            z5 = false;
                                            try {
                                                StringBuilder sb5 = new StringBuilder();
                                                sb5.append("bitrate: ");
                                                sb5.append(i74);
                                                sb5.append(" framerate: ");
                                                sb5.append(i3);
                                                sb5.append(" size: ");
                                                i9 = i15;
                                                try {
                                                    sb5.append(i9);
                                                    str = "x";
                                                    try {
                                                        sb5.append(str);
                                                        i8 = i16;
                                                        try {
                                                            sb5.append(i8);
                                                            FileLog.e(sb5.toString());
                                                            FileLog.e(exc);
                                                            mediaCodecVideoConvertor = this;
                                                            i18 = i17;
                                                            z4 = z9;
                                                            mediaCodec7 = mediaCodec6;
                                                            z7 = true;
                                                            mediaCodec4 = mediaCodec2;
                                                            try {
                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                if (mediaCodec7 != null) {
                                                                }
                                                                mediaCodec3 = mediaCodec7;
                                                                i10 = i18;
                                                                outputSurface = outputSurface3;
                                                                if (outputSurface != null) {
                                                                }
                                                                if (inputSurface != null) {
                                                                }
                                                                if (mediaCodec4 != null) {
                                                                }
                                                                if (audioRecoder != null) {
                                                                }
                                                                checkConversionCanceled();
                                                                mediaCodec5 = mediaCodec3;
                                                                i5 = i9;
                                                                outputSurface2 = outputSurface;
                                                                i11 = i10;
                                                                z6 = z5;
                                                                i71 = i8;
                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor2 != null) {
                                                                }
                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                if (mP4Builder2 != null) {
                                                                }
                                                                if (mediaCodec4 != null) {
                                                                }
                                                                if (mediaCodec5 != null) {
                                                                }
                                                                if (outputSurface2 != null) {
                                                                }
                                                                if (inputSurface != null) {
                                                                }
                                                                str3 = str2;
                                                                i72 = i5;
                                                            } catch (Throwable th31) {
                                                                th = th31;
                                                                i72 = i9;
                                                                mediaCodec = mediaCodec7;
                                                                i71 = i8;
                                                                i4 = i18;
                                                                mediaCodec2 = mediaCodec4;
                                                                outputSurface = outputSurface3;
                                                                FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                FileLog.e(th);
                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor != null) {
                                                                    mediaExtractor.release();
                                                                }
                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                if (mP4Builder != null) {
                                                                    try {
                                                                        mP4Builder.finishMovie();
                                                                        mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.mediaMuxer.getLastFrameTimestamp(i4);
                                                                    } catch (Throwable th32) {
                                                                        FileLog.e(th32);
                                                                    }
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                    try {
                                                                        mediaCodec2.release();
                                                                    } catch (Exception unused5) {
                                                                    }
                                                                }
                                                                if (mediaCodec != null) {
                                                                    try {
                                                                        mediaCodec.release();
                                                                    } catch (Exception unused6) {
                                                                    }
                                                                }
                                                                if (outputSurface != null) {
                                                                    try {
                                                                        outputSurface.release();
                                                                    } catch (Exception unused7) {
                                                                    }
                                                                }
                                                                if (inputSurface != null) {
                                                                    try {
                                                                        inputSurface.release();
                                                                    } catch (Exception unused8) {
                                                                    }
                                                                }
                                                                str3 = str2;
                                                                z6 = z5;
                                                                z7 = true;
                                                                if (z6) {
                                                                }
                                                            }
                                                        } catch (Throwable th33) {
                                                            th = th33;
                                                            mediaCodecVideoConvertor = this;
                                                            th = th;
                                                            i72 = i9;
                                                            i71 = i8;
                                                            z4 = z9;
                                                            mediaCodec = mediaCodec6;
                                                            i4 = i17;
                                                            outputSurface = outputSurface3;
                                                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                            FileLog.e(th);
                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            str3 = str2;
                                                            z6 = z5;
                                                            z7 = true;
                                                            if (z6) {
                                                            }
                                                        }
                                                    } catch (Throwable th34) {
                                                        th = th34;
                                                        mediaCodecVideoConvertor = this;
                                                        i8 = i16;
                                                    }
                                                } catch (Throwable th35) {
                                                    th = th35;
                                                    mediaCodecVideoConvertor = this;
                                                    i8 = i16;
                                                    str = "x";
                                                }
                                            } catch (Throwable th36) {
                                                th = th36;
                                                mediaCodecVideoConvertor = this;
                                                i8 = i16;
                                                str = "x";
                                                i9 = i15;
                                            }
                                        } catch (Throwable th37) {
                                            mediaCodecVideoConvertor = this;
                                            z2 = z;
                                            str = "x";
                                            th = th37;
                                            i72 = i15;
                                            i71 = i16;
                                            z4 = z9;
                                            mediaCodec = mediaCodec6;
                                            z5 = false;
                                        }
                                        if (z6) {
                                        }
                                    }
                                } else {
                                    j3 = j30;
                                    i19 = 1000 / (i73 + 1);
                                }
                                j4 = i19 * 1000;
                                mediaCodecVideoConvertor2.extractor.selectTrack(findTrack);
                                trackFormat = mediaCodecVideoConvertor2.extractor.getTrackFormat(findTrack);
                                if (z47) {
                                    int i86 = f <= 2000.0f ? 2600000 : f <= 5000.0f ? 2200000 : 1560000;
                                    i20 = i75;
                                    if (i20 >= 15000000) {
                                        str8 = "OMX.google.h264.encoder";
                                        i21 = i86;
                                    } else {
                                        i21 = i86;
                                        str8 = null;
                                    }
                                    j = 0;
                                } else {
                                    i20 = i75;
                                    i21 = i74 <= 0 ? 921600 : i74;
                                    str8 = null;
                                }
                                if (i20 > 0) {
                                    try {
                                        try {
                                            i21 = Math.min(i20, i21);
                                        } catch (Exception e20) {
                                            exc = e20;
                                            i14 = findTrack;
                                            i74 = i21;
                                            i3 = i73;
                                            i15 = i5;
                                            mediaCodec2 = null;
                                            i17 = -5;
                                            z9 = false;
                                            mediaCodec6 = null;
                                            outputSurface3 = null;
                                            audioRecoder = null;
                                            inputSurface = null;
                                            i16 = i71;
                                            str2 = null;
                                            if (exc instanceof IllegalStateException) {
                                            }
                                            z5 = false;
                                            StringBuilder sb52 = new StringBuilder();
                                            sb52.append("bitrate: ");
                                            sb52.append(i74);
                                            sb52.append(" framerate: ");
                                            sb52.append(i3);
                                            sb52.append(" size: ");
                                            i9 = i15;
                                            sb52.append(i9);
                                            str = "x";
                                            sb52.append(str);
                                            i8 = i16;
                                            sb52.append(i8);
                                            FileLog.e(sb52.toString());
                                            FileLog.e(exc);
                                            mediaCodecVideoConvertor = this;
                                            i18 = i17;
                                            z4 = z9;
                                            mediaCodec7 = mediaCodec6;
                                            z7 = true;
                                            mediaCodec4 = mediaCodec2;
                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                            if (mediaCodec7 != null) {
                                            }
                                            mediaCodec3 = mediaCodec7;
                                            i10 = i18;
                                            outputSurface = outputSurface3;
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            if (mediaCodec4 != null) {
                                            }
                                            if (audioRecoder != null) {
                                            }
                                            checkConversionCanceled();
                                            mediaCodec5 = mediaCodec3;
                                            i5 = i9;
                                            outputSurface2 = outputSurface;
                                            i11 = i10;
                                            z6 = z5;
                                            i71 = i8;
                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor2 != null) {
                                            }
                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder2 != null) {
                                            }
                                            if (mediaCodec4 != null) {
                                            }
                                            if (mediaCodec5 != null) {
                                            }
                                            if (outputSurface2 != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            str3 = str2;
                                            i72 = i5;
                                            if (z6) {
                                            }
                                        }
                                    } catch (Throwable th38) {
                                        z2 = z;
                                        th = th38;
                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                        i74 = i21;
                                        i3 = i73;
                                        i71 = i71;
                                        i72 = i5;
                                        str = "x";
                                        mediaCodec2 = null;
                                        outputSurface = null;
                                        i4 = -5;
                                        str2 = null;
                                        mediaCodec = null;
                                        z4 = false;
                                        z5 = false;
                                        inputSurface = null;
                                        FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                        FileLog.e(th);
                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                        if (mP4Builder != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface != null) {
                                        }
                                        str3 = str2;
                                        z6 = z5;
                                        z7 = true;
                                        if (z6) {
                                        }
                                    }
                                }
                                j5 = j >= 0 ? -1L : j;
                            } catch (Exception e21) {
                                i14 = findTrack;
                                i3 = i73;
                                i15 = i5;
                                i16 = i71;
                                exc = e21;
                                i74 = i74;
                            } catch (Throwable th39) {
                                i3 = i73;
                                i12 = i5;
                                i13 = i71;
                                mediaCodecVideoConvertor = this;
                                z2 = z;
                                th = th39;
                                i74 = i74;
                            }
                            try {
                                try {
                                    try {
                                        if (j5 >= 0) {
                                            obj = "video/hevc";
                                            mediaCodecVideoConvertor2.extractor.seekTo(j5, 0);
                                            j7 = r3;
                                            j6 = j5;
                                        } else {
                                            obj = "video/hevc";
                                            j6 = j5;
                                            if (r3 > 0) {
                                                mediaCodecVideoConvertor2.extractor.seekTo(r3, 0);
                                                j7 = r3;
                                            } else {
                                                try {
                                                    j7 = r3;
                                                    mediaCodecVideoConvertor2.extractor.seekTo(0L, 0);
                                                    if (cropState3 == null && cropState3.useMatrix == null) {
                                                        i22 = i68;
                                                        if (i22 != 90 && i22 != 270) {
                                                            i53 = cropState3.transformWidth;
                                                            i54 = cropState3.transformHeight;
                                                            int i87 = i54;
                                                            i23 = i53;
                                                            i24 = i87;
                                                        }
                                                        i53 = cropState3.transformHeight;
                                                        i54 = cropState3.transformWidth;
                                                        int i872 = i54;
                                                        i23 = i53;
                                                        i24 = i872;
                                                    } else {
                                                        i22 = i68;
                                                        i23 = i71;
                                                        i24 = i5;
                                                    }
                                                } catch (Exception e22) {
                                                    i14 = findTrack;
                                                    i3 = i73;
                                                    i15 = i5;
                                                    i16 = i71;
                                                    exc = e22;
                                                    i74 = i21;
                                                    mediaCodec2 = null;
                                                    i17 = -5;
                                                    z9 = false;
                                                    str2 = null;
                                                    mediaCodec6 = null;
                                                    outputSurface3 = null;
                                                    audioRecoder = null;
                                                    inputSurface = null;
                                                    if (exc instanceof IllegalStateException) {
                                                    }
                                                    z5 = false;
                                                    StringBuilder sb522 = new StringBuilder();
                                                    sb522.append("bitrate: ");
                                                    sb522.append(i74);
                                                    sb522.append(" framerate: ");
                                                    sb522.append(i3);
                                                    sb522.append(" size: ");
                                                    i9 = i15;
                                                    sb522.append(i9);
                                                    str = "x";
                                                    sb522.append(str);
                                                    i8 = i16;
                                                    sb522.append(i8);
                                                    FileLog.e(sb522.toString());
                                                    FileLog.e(exc);
                                                    mediaCodecVideoConvertor = this;
                                                    i18 = i17;
                                                    z4 = z9;
                                                    mediaCodec7 = mediaCodec6;
                                                    z7 = true;
                                                    mediaCodec4 = mediaCodec2;
                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                    if (mediaCodec7 != null) {
                                                    }
                                                    mediaCodec3 = mediaCodec7;
                                                    i10 = i18;
                                                    outputSurface = outputSurface3;
                                                    if (outputSurface != null) {
                                                    }
                                                    if (inputSurface != null) {
                                                    }
                                                    if (mediaCodec4 != null) {
                                                    }
                                                    if (audioRecoder != null) {
                                                    }
                                                    checkConversionCanceled();
                                                    mediaCodec5 = mediaCodec3;
                                                    i5 = i9;
                                                    outputSurface2 = outputSurface;
                                                    i11 = i10;
                                                    z6 = z5;
                                                    i71 = i8;
                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor2 != null) {
                                                    }
                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder2 != null) {
                                                    }
                                                    if (mediaCodec4 != null) {
                                                    }
                                                    if (mediaCodec5 != null) {
                                                    }
                                                    if (outputSurface2 != null) {
                                                    }
                                                    if (inputSurface != null) {
                                                    }
                                                    str3 = str2;
                                                    i72 = i5;
                                                    if (z6) {
                                                    }
                                                } catch (Throwable th40) {
                                                    i3 = i73;
                                                    i12 = i5;
                                                    i13 = i71;
                                                    mediaCodecVideoConvertor = this;
                                                    z2 = z;
                                                    th = th40;
                                                    i74 = i21;
                                                    i71 = i13;
                                                    str = "x";
                                                    i72 = i12;
                                                    mediaCodec2 = null;
                                                    outputSurface = null;
                                                    i4 = -5;
                                                    str2 = null;
                                                    mediaCodec = null;
                                                    z4 = false;
                                                    z5 = false;
                                                    inputSurface = null;
                                                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                    FileLog.e(th);
                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor != null) {
                                                    }
                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder != null) {
                                                    }
                                                    if (mediaCodec2 != null) {
                                                    }
                                                    if (mediaCodec != null) {
                                                    }
                                                    if (outputSurface != null) {
                                                    }
                                                    if (inputSurface != null) {
                                                    }
                                                    str3 = str2;
                                                    z6 = z5;
                                                    z7 = true;
                                                    if (z6) {
                                                    }
                                                }
                                                if (str8 != null) {
                                                    try {
                                                        createByCodecName = MediaCodec.createByCodecName(str8);
                                                    } catch (Exception unused9) {
                                                    }
                                                    if (createByCodecName == null) {
                                                        try {
                                                            createByCodecName = createEncoderForMimeType();
                                                        } catch (Exception e23) {
                                                            exc = e23;
                                                            i14 = findTrack;
                                                            i74 = i21;
                                                            i3 = i73;
                                                            mediaCodec2 = createByCodecName;
                                                            i15 = i5;
                                                            i17 = -5;
                                                            z9 = false;
                                                            mediaCodec6 = null;
                                                            outputSurface3 = null;
                                                            audioRecoder = null;
                                                            inputSurface = null;
                                                            i16 = i71;
                                                            str2 = null;
                                                            if (exc instanceof IllegalStateException) {
                                                            }
                                                            z5 = false;
                                                            StringBuilder sb5222 = new StringBuilder();
                                                            sb5222.append("bitrate: ");
                                                            sb5222.append(i74);
                                                            sb5222.append(" framerate: ");
                                                            sb5222.append(i3);
                                                            sb5222.append(" size: ");
                                                            i9 = i15;
                                                            sb5222.append(i9);
                                                            str = "x";
                                                            sb5222.append(str);
                                                            i8 = i16;
                                                            sb5222.append(i8);
                                                            FileLog.e(sb5222.toString());
                                                            FileLog.e(exc);
                                                            mediaCodecVideoConvertor = this;
                                                            i18 = i17;
                                                            z4 = z9;
                                                            mediaCodec7 = mediaCodec6;
                                                            z7 = true;
                                                            mediaCodec4 = mediaCodec2;
                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                            if (mediaCodec7 != null) {
                                                            }
                                                            mediaCodec3 = mediaCodec7;
                                                            i10 = i18;
                                                            outputSurface = outputSurface3;
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            if (mediaCodec4 != null) {
                                                            }
                                                            if (audioRecoder != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            mediaCodec5 = mediaCodec3;
                                                            i5 = i9;
                                                            outputSurface2 = outputSurface;
                                                            i11 = i10;
                                                            z6 = z5;
                                                            i71 = i8;
                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder2 != null) {
                                                            }
                                                            if (mediaCodec4 != null) {
                                                            }
                                                            if (mediaCodec5 != null) {
                                                            }
                                                            if (outputSurface2 != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            str3 = str2;
                                                            i72 = i5;
                                                            if (z6) {
                                                            }
                                                        } catch (Throwable th41) {
                                                            z2 = z;
                                                            th = th41;
                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                            i74 = i21;
                                                            i3 = i73;
                                                            mediaCodec2 = createByCodecName;
                                                            i71 = i71;
                                                            i72 = i5;
                                                            str = "x";
                                                            outputSurface = null;
                                                            i4 = -5;
                                                            str2 = null;
                                                            mediaCodec = null;
                                                            z4 = false;
                                                            z5 = false;
                                                            inputSurface = null;
                                                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                            FileLog.e(th);
                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            str3 = str2;
                                                            z6 = z5;
                                                            z7 = true;
                                                            if (z6) {
                                                            }
                                                        }
                                                    }
                                                    mediaCodec8 = createByCodecName;
                                                    if (BuildVars.LOGS_ENABLED) {
                                                        try {
                                                            try {
                                                                sb = new StringBuilder();
                                                                i14 = findTrack;
                                                            } catch (Exception e24) {
                                                                exc = e24;
                                                                i14 = findTrack;
                                                                i74 = i21;
                                                                i3 = i73;
                                                                i15 = i5;
                                                                mediaCodec2 = mediaCodec8;
                                                                i17 = -5;
                                                                z9 = false;
                                                                mediaCodec6 = null;
                                                                outputSurface3 = null;
                                                                audioRecoder = null;
                                                                inputSurface = null;
                                                                i16 = i71;
                                                                str2 = null;
                                                                if (exc instanceof IllegalStateException) {
                                                                }
                                                                z5 = false;
                                                                StringBuilder sb52222 = new StringBuilder();
                                                                sb52222.append("bitrate: ");
                                                                sb52222.append(i74);
                                                                sb52222.append(" framerate: ");
                                                                sb52222.append(i3);
                                                                sb52222.append(" size: ");
                                                                i9 = i15;
                                                                sb52222.append(i9);
                                                                str = "x";
                                                                sb52222.append(str);
                                                                i8 = i16;
                                                                sb52222.append(i8);
                                                                FileLog.e(sb52222.toString());
                                                                FileLog.e(exc);
                                                                mediaCodecVideoConvertor = this;
                                                                i18 = i17;
                                                                z4 = z9;
                                                                mediaCodec7 = mediaCodec6;
                                                                z7 = true;
                                                                mediaCodec4 = mediaCodec2;
                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                if (mediaCodec7 != null) {
                                                                }
                                                                mediaCodec3 = mediaCodec7;
                                                                i10 = i18;
                                                                outputSurface = outputSurface3;
                                                                if (outputSurface != null) {
                                                                }
                                                                if (inputSurface != null) {
                                                                }
                                                                if (mediaCodec4 != null) {
                                                                }
                                                                if (audioRecoder != null) {
                                                                }
                                                                checkConversionCanceled();
                                                                mediaCodec5 = mediaCodec3;
                                                                i5 = i9;
                                                                outputSurface2 = outputSurface;
                                                                i11 = i10;
                                                                z6 = z5;
                                                                i71 = i8;
                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor2 != null) {
                                                                }
                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                if (mP4Builder2 != null) {
                                                                }
                                                                if (mediaCodec4 != null) {
                                                                }
                                                                if (mediaCodec5 != null) {
                                                                }
                                                                if (outputSurface2 != null) {
                                                                }
                                                                if (inputSurface != null) {
                                                                }
                                                                str3 = str2;
                                                                i72 = i5;
                                                                if (z6) {
                                                                }
                                                            }
                                                        } catch (Throwable th42) {
                                                            z2 = z;
                                                            th = th42;
                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                            i74 = i21;
                                                            i3 = i73;
                                                            i71 = i71;
                                                            i72 = i5;
                                                            mediaCodec2 = mediaCodec8;
                                                            str = "x";
                                                            outputSurface = null;
                                                            i4 = -5;
                                                            str2 = null;
                                                            mediaCodec = null;
                                                            z4 = false;
                                                            z5 = false;
                                                            inputSurface = null;
                                                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                            FileLog.e(th);
                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            str3 = str2;
                                                            z6 = z5;
                                                            z7 = true;
                                                            if (z6) {
                                                            }
                                                        }
                                                        try {
                                                            sb.append("create encoder with w = ");
                                                            sb.append(i23);
                                                            sb.append(" h = ");
                                                            sb.append(i24);
                                                            sb.append(" bitrate = ");
                                                            sb.append(i21);
                                                            FileLog.d(sb.toString());
                                                        } catch (Exception e25) {
                                                            exc = e25;
                                                            i74 = i21;
                                                            i3 = i73;
                                                            i15 = i5;
                                                            mediaCodec2 = mediaCodec8;
                                                            i17 = -5;
                                                            z9 = false;
                                                            mediaCodec6 = null;
                                                            outputSurface3 = null;
                                                            audioRecoder = null;
                                                            inputSurface = null;
                                                            i16 = i71;
                                                            str2 = null;
                                                            if (exc instanceof IllegalStateException) {
                                                            }
                                                            z5 = false;
                                                            StringBuilder sb522222 = new StringBuilder();
                                                            sb522222.append("bitrate: ");
                                                            sb522222.append(i74);
                                                            sb522222.append(" framerate: ");
                                                            sb522222.append(i3);
                                                            sb522222.append(" size: ");
                                                            i9 = i15;
                                                            sb522222.append(i9);
                                                            str = "x";
                                                            sb522222.append(str);
                                                            i8 = i16;
                                                            sb522222.append(i8);
                                                            FileLog.e(sb522222.toString());
                                                            FileLog.e(exc);
                                                            mediaCodecVideoConvertor = this;
                                                            i18 = i17;
                                                            z4 = z9;
                                                            mediaCodec7 = mediaCodec6;
                                                            z7 = true;
                                                            mediaCodec4 = mediaCodec2;
                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                            if (mediaCodec7 != null) {
                                                            }
                                                            mediaCodec3 = mediaCodec7;
                                                            i10 = i18;
                                                            outputSurface = outputSurface3;
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            if (mediaCodec4 != null) {
                                                            }
                                                            if (audioRecoder != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            mediaCodec5 = mediaCodec3;
                                                            i5 = i9;
                                                            outputSurface2 = outputSurface;
                                                            i11 = i10;
                                                            z6 = z5;
                                                            i71 = i8;
                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder2 != null) {
                                                            }
                                                            if (mediaCodec4 != null) {
                                                            }
                                                            if (mediaCodec5 != null) {
                                                            }
                                                            if (outputSurface2 != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            str3 = str2;
                                                            i72 = i5;
                                                            if (z6) {
                                                            }
                                                        }
                                                    } else {
                                                        i14 = findTrack;
                                                    }
                                                    createVideoFormat = MediaFormat.createVideoFormat(mediaCodecVideoConvertor2.outputMimeType, i23, i24);
                                                    createVideoFormat.setInteger("color-format", 2130708361);
                                                    createVideoFormat.setInteger("bitrate", i21);
                                                    if (z47 && Build.VERSION.SDK_INT >= 21) {
                                                        createVideoFormat.setInteger("bitrate-mode", 2);
                                                    }
                                                    createVideoFormat.setInteger("max-bitrate", i21);
                                                    createVideoFormat.setInteger("frame-rate", i73);
                                                    createVideoFormat.setInteger("i-frame-interval", 1);
                                                    i25 = Build.VERSION.SDK_INT;
                                                    if (i25 >= 24) {
                                                        if (trackFormat.containsKey("color-transfer")) {
                                                            i27 = trackFormat.getInteger("color-transfer");
                                                            str9 = "mime";
                                                        } else {
                                                            str9 = "mime";
                                                            i27 = 0;
                                                        }
                                                        if (trackFormat.containsKey("color-standard")) {
                                                            i26 = trackFormat.getInteger("color-standard");
                                                            mp4Movie2 = mp4Movie;
                                                        } else {
                                                            mp4Movie2 = mp4Movie;
                                                            i26 = 0;
                                                        }
                                                        if (trackFormat.containsKey("color-range")) {
                                                            trackFormat.getInteger("color-range");
                                                        }
                                                        if ((i27 == 6 || i27 == 7) && i26 == 6) {
                                                            z10 = true;
                                                            if (i25 >= 23) {
                                                                i28 = i24;
                                                                if (Math.min(i24, i23) <= 480 && !z47) {
                                                                    i74 = i21 > 921600 ? 921600 : i21;
                                                                    try {
                                                                        createVideoFormat.setInteger("bitrate", i74);
                                                                        i29 = i74;
                                                                        name = mediaCodec8.getName();
                                                                        z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                                        FileLog.d("selected encoder " + name);
                                                                        mediaCodec8.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                                        i30 = i23;
                                                                        inputSurface2 = new InputSurface(mediaCodec8.createInputSurface());
                                                                        inputSurface2.makeCurrent();
                                                                        mediaCodec8.start();
                                                                        i15 = i5;
                                                                        i31 = i73;
                                                                        i16 = i71;
                                                                        str2 = str17;
                                                                        arrayList = arrayList3;
                                                                        outputSurface4 = new OutputSurface(savedFilterState, null, str16, str2, arrayList, cropState3, i16, i15, i69, i70, i22, i73, false, num, num2, hDRInfo, convertVideoParams);
                                                                    } catch (Exception e26) {
                                                                        exc = e26;
                                                                        i3 = i73;
                                                                        i15 = i5;
                                                                        mediaCodec2 = mediaCodec8;
                                                                        i17 = -5;
                                                                        z9 = false;
                                                                        mediaCodec6 = null;
                                                                        outputSurface3 = null;
                                                                        audioRecoder = null;
                                                                        inputSurface = null;
                                                                        i16 = i71;
                                                                        str2 = null;
                                                                        if (exc instanceof IllegalStateException) {
                                                                        }
                                                                        z5 = false;
                                                                        StringBuilder sb5222222 = new StringBuilder();
                                                                        sb5222222.append("bitrate: ");
                                                                        sb5222222.append(i74);
                                                                        sb5222222.append(" framerate: ");
                                                                        sb5222222.append(i3);
                                                                        sb5222222.append(" size: ");
                                                                        i9 = i15;
                                                                        sb5222222.append(i9);
                                                                        str = "x";
                                                                        sb5222222.append(str);
                                                                        i8 = i16;
                                                                        sb5222222.append(i8);
                                                                        FileLog.e(sb5222222.toString());
                                                                        FileLog.e(exc);
                                                                        mediaCodecVideoConvertor = this;
                                                                        i18 = i17;
                                                                        z4 = z9;
                                                                        mediaCodec7 = mediaCodec6;
                                                                        z7 = true;
                                                                        mediaCodec4 = mediaCodec2;
                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                        if (mediaCodec7 != null) {
                                                                        }
                                                                        mediaCodec3 = mediaCodec7;
                                                                        i10 = i18;
                                                                        outputSurface = outputSurface3;
                                                                        if (outputSurface != null) {
                                                                        }
                                                                        if (inputSurface != null) {
                                                                        }
                                                                        if (mediaCodec4 != null) {
                                                                        }
                                                                        if (audioRecoder != null) {
                                                                        }
                                                                        checkConversionCanceled();
                                                                        mediaCodec5 = mediaCodec3;
                                                                        i5 = i9;
                                                                        outputSurface2 = outputSurface;
                                                                        i11 = i10;
                                                                        z6 = z5;
                                                                        i71 = i8;
                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                        if (mediaExtractor2 != null) {
                                                                        }
                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                        if (mP4Builder2 != null) {
                                                                        }
                                                                        if (mediaCodec4 != null) {
                                                                        }
                                                                        if (mediaCodec5 != null) {
                                                                        }
                                                                        if (outputSurface2 != null) {
                                                                        }
                                                                        if (inputSurface != null) {
                                                                        }
                                                                        str3 = str2;
                                                                        i72 = i5;
                                                                        if (z6) {
                                                                        }
                                                                    } catch (Throwable th43) {
                                                                        z2 = z;
                                                                        th = th43;
                                                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                        i3 = i73;
                                                                        i71 = i71;
                                                                        i72 = i5;
                                                                        mediaCodec2 = mediaCodec8;
                                                                        str = "x";
                                                                        outputSurface = null;
                                                                        i4 = -5;
                                                                        str2 = null;
                                                                        mediaCodec = null;
                                                                        z4 = false;
                                                                        z5 = false;
                                                                        inputSurface = null;
                                                                        FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                        FileLog.e(th);
                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                        if (mediaExtractor != null) {
                                                                        }
                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                        if (mP4Builder != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        if (outputSurface != null) {
                                                                        }
                                                                        if (inputSurface != null) {
                                                                        }
                                                                        str3 = str2;
                                                                        z6 = z5;
                                                                        z7 = true;
                                                                        if (z6) {
                                                                        }
                                                                    }
                                                                    if (hDRInfo == null) {
                                                                        try {
                                                                        } catch (Exception e27) {
                                                                            exc = e27;
                                                                            mediaCodec2 = mediaCodec8;
                                                                            outputSurface3 = outputSurface4;
                                                                            inputSurface = inputSurface2;
                                                                            str2 = name;
                                                                            i74 = i29;
                                                                            z9 = z4;
                                                                            i3 = i31;
                                                                            i17 = -5;
                                                                            mediaCodec6 = null;
                                                                            audioRecoder = null;
                                                                            if (exc instanceof IllegalStateException) {
                                                                            }
                                                                            z5 = false;
                                                                            StringBuilder sb52222222 = new StringBuilder();
                                                                            sb52222222.append("bitrate: ");
                                                                            sb52222222.append(i74);
                                                                            sb52222222.append(" framerate: ");
                                                                            sb52222222.append(i3);
                                                                            sb52222222.append(" size: ");
                                                                            i9 = i15;
                                                                            sb52222222.append(i9);
                                                                            str = "x";
                                                                            sb52222222.append(str);
                                                                            i8 = i16;
                                                                            sb52222222.append(i8);
                                                                            FileLog.e(sb52222222.toString());
                                                                            FileLog.e(exc);
                                                                            mediaCodecVideoConvertor = this;
                                                                            i18 = i17;
                                                                            z4 = z9;
                                                                            mediaCodec7 = mediaCodec6;
                                                                            z7 = true;
                                                                            mediaCodec4 = mediaCodec2;
                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                            if (mediaCodec7 != null) {
                                                                            }
                                                                            mediaCodec3 = mediaCodec7;
                                                                            i10 = i18;
                                                                            outputSurface = outputSurface3;
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            if (mediaCodec4 != null) {
                                                                            }
                                                                            if (audioRecoder != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            mediaCodec5 = mediaCodec3;
                                                                            i5 = i9;
                                                                            outputSurface2 = outputSurface;
                                                                            i11 = i10;
                                                                            z6 = z5;
                                                                            i71 = i8;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder2 != null) {
                                                                            }
                                                                            if (mediaCodec4 != null) {
                                                                            }
                                                                            if (mediaCodec5 != null) {
                                                                            }
                                                                            if (outputSurface2 != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            str3 = str2;
                                                                            i72 = i5;
                                                                            if (z6) {
                                                                            }
                                                                        } catch (Throwable th44) {
                                                                            z2 = z;
                                                                            th = th44;
                                                                            mediaCodec2 = mediaCodec8;
                                                                            inputSurface = inputSurface2;
                                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                            i71 = i16;
                                                                            str2 = name;
                                                                            str = "x";
                                                                            i72 = i15;
                                                                            i3 = i31;
                                                                            i4 = -5;
                                                                            mediaCodec = null;
                                                                            z5 = false;
                                                                            outputSurface = outputSurface4;
                                                                            i74 = i29;
                                                                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            str3 = str2;
                                                                            z6 = z5;
                                                                            z7 = true;
                                                                            if (z6) {
                                                                            }
                                                                        }
                                                                        if (outputSurface4.supportsEXTYUV() && z10) {
                                                                            StoryEntry.HDRInfo hDRInfo2 = new StoryEntry.HDRInfo();
                                                                            hDRInfo2.colorTransfer = i27;
                                                                            hDRInfo2.colorStandard = i26;
                                                                            if (i25 >= 24) {
                                                                                c = 3;
                                                                                createVideoFormat.setInteger("color-transfer", 3);
                                                                            } else {
                                                                                c = 3;
                                                                            }
                                                                            hDRInfo = hDRInfo2;
                                                                            outputSurface5 = c;
                                                                            if (i25 >= 24 && hDRInfo != null) {
                                                                                try {
                                                                                } catch (Exception e28) {
                                                                                    e = e28;
                                                                                    arrayList = mediaCodec8;
                                                                                    outputSurface5 = outputSurface4;
                                                                                    inputSurface = inputSurface2;
                                                                                    str2 = name;
                                                                                    exc = e;
                                                                                    outputSurface3 = outputSurface5;
                                                                                    mediaCodec2 = arrayList;
                                                                                    i74 = i29;
                                                                                    z9 = z4;
                                                                                    i3 = i31;
                                                                                    i17 = -5;
                                                                                    mediaCodec6 = null;
                                                                                    audioRecoder = null;
                                                                                    if (exc instanceof IllegalStateException) {
                                                                                    }
                                                                                    z5 = false;
                                                                                    StringBuilder sb522222222 = new StringBuilder();
                                                                                    sb522222222.append("bitrate: ");
                                                                                    sb522222222.append(i74);
                                                                                    sb522222222.append(" framerate: ");
                                                                                    sb522222222.append(i3);
                                                                                    sb522222222.append(" size: ");
                                                                                    i9 = i15;
                                                                                    sb522222222.append(i9);
                                                                                    str = "x";
                                                                                    sb522222222.append(str);
                                                                                    i8 = i16;
                                                                                    sb522222222.append(i8);
                                                                                    FileLog.e(sb522222222.toString());
                                                                                    FileLog.e(exc);
                                                                                    mediaCodecVideoConvertor = this;
                                                                                    i18 = i17;
                                                                                    z4 = z9;
                                                                                    mediaCodec7 = mediaCodec6;
                                                                                    z7 = true;
                                                                                    mediaCodec4 = mediaCodec2;
                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                    if (mediaCodec7 != null) {
                                                                                    }
                                                                                    mediaCodec3 = mediaCodec7;
                                                                                    i10 = i18;
                                                                                    outputSurface = outputSurface3;
                                                                                    if (outputSurface != null) {
                                                                                    }
                                                                                    if (inputSurface != null) {
                                                                                    }
                                                                                    if (mediaCodec4 != null) {
                                                                                    }
                                                                                    if (audioRecoder != null) {
                                                                                    }
                                                                                    checkConversionCanceled();
                                                                                    mediaCodec5 = mediaCodec3;
                                                                                    i5 = i9;
                                                                                    outputSurface2 = outputSurface;
                                                                                    i11 = i10;
                                                                                    z6 = z5;
                                                                                    i71 = i8;
                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                    if (mediaExtractor2 != null) {
                                                                                    }
                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                    if (mP4Builder2 != null) {
                                                                                    }
                                                                                    if (mediaCodec4 != null) {
                                                                                    }
                                                                                    if (mediaCodec5 != null) {
                                                                                    }
                                                                                    if (outputSurface2 != null) {
                                                                                    }
                                                                                    if (inputSurface != null) {
                                                                                    }
                                                                                    str3 = str2;
                                                                                    i72 = i5;
                                                                                    if (z6) {
                                                                                    }
                                                                                } catch (Throwable th45) {
                                                                                    th = th45;
                                                                                    arrayList = mediaCodec8;
                                                                                    outputSurface5 = outputSurface4;
                                                                                    inputSurface = inputSurface2;
                                                                                    str2 = name;
                                                                                    z2 = z;
                                                                                    th = th;
                                                                                    outputSurface = outputSurface5;
                                                                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                    mediaCodec2 = arrayList;
                                                                                    i71 = i16;
                                                                                    i74 = i29;
                                                                                    str = "x";
                                                                                    i72 = i15;
                                                                                    i3 = i31;
                                                                                    i4 = -5;
                                                                                    mediaCodec = null;
                                                                                    z5 = false;
                                                                                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                    FileLog.e(th);
                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                    if (mediaExtractor != null) {
                                                                                    }
                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                    if (mP4Builder != null) {
                                                                                    }
                                                                                    if (mediaCodec2 != null) {
                                                                                    }
                                                                                    if (mediaCodec != null) {
                                                                                    }
                                                                                    if (outputSurface != null) {
                                                                                    }
                                                                                    if (inputSurface != null) {
                                                                                    }
                                                                                    str3 = str2;
                                                                                    z6 = z5;
                                                                                    z7 = true;
                                                                                    if (z6) {
                                                                                    }
                                                                                }
                                                                                if (hDRInfo.getHDRType() != 0) {
                                                                                    if (outputSurface4.supportsEXTYUV()) {
                                                                                        i32 = i7;
                                                                                        j10 = j3;
                                                                                        outputSurface5 = outputSurface4;
                                                                                        str2 = name;
                                                                                        j8 = j25;
                                                                                        obj2 = obj;
                                                                                        mediaFormat = trackFormat;
                                                                                        inputSurface = inputSurface2;
                                                                                        i33 = i30;
                                                                                        j9 = j6;
                                                                                        bufferInfo2 = bufferInfo;
                                                                                        j11 = j7;
                                                                                        arrayList2 = mediaCodec8;
                                                                                        z11 = z41;
                                                                                        outputSurface5.changeFragmentShader(hdrFragmentShader(i69, i70, i16, i15, true, hDRInfo), hdrFragmentShader(i69, i70, i16, i15, false, hDRInfo), true);
                                                                                        bufferInfo3 = bufferInfo2;
                                                                                        i34 = 0;
                                                                                        z12 = true;
                                                                                        r19 = arrayList2;
                                                                                        mediaCodec7 = mediaCodecVideoConvertor2.getDecoderByFormat(mediaFormat);
                                                                                        mediaCodec7.configure(mediaFormat, outputSurface5.getSurface(), (MediaCrypto) null, i34);
                                                                                        mediaCodec7.start();
                                                                                        if (i25 >= 21) {
                                                                                            try {
                                                                                                try {
                                                                                                    inputBuffers = mediaCodec7.getInputBuffers();
                                                                                                    outputBuffers = r19.getOutputBuffers();
                                                                                                } catch (Throwable th46) {
                                                                                                    th = th46;
                                                                                                    z2 = z;
                                                                                                    th = th;
                                                                                                    mediaCodec = mediaCodec7;
                                                                                                    outputSurface = outputSurface5;
                                                                                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                                    mediaCodec2 = r19;
                                                                                                    i71 = i16;
                                                                                                    i74 = i29;
                                                                                                    str = "x";
                                                                                                    i72 = i15;
                                                                                                    i3 = i31;
                                                                                                    i4 = -5;
                                                                                                    z5 = false;
                                                                                                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                    FileLog.e(th);
                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                    if (mediaExtractor != null) {
                                                                                                    }
                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                    if (mP4Builder != null) {
                                                                                                    }
                                                                                                    if (mediaCodec2 != null) {
                                                                                                    }
                                                                                                    if (mediaCodec != null) {
                                                                                                    }
                                                                                                    if (outputSurface != null) {
                                                                                                    }
                                                                                                    if (inputSurface != null) {
                                                                                                    }
                                                                                                    str3 = str2;
                                                                                                    z6 = z5;
                                                                                                    z7 = true;
                                                                                                    if (z6) {
                                                                                                    }
                                                                                                }
                                                                                            } catch (Exception e29) {
                                                                                                exc = e29;
                                                                                                audioRecoder = null;
                                                                                                outputSurface3 = outputSurface5;
                                                                                                mediaCodec2 = r19;
                                                                                                i74 = i29;
                                                                                                z9 = z4;
                                                                                                i3 = i31;
                                                                                                mediaCodec6 = mediaCodec7;
                                                                                                i17 = -5;
                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                }
                                                                                                z5 = false;
                                                                                                StringBuilder sb5222222222 = new StringBuilder();
                                                                                                sb5222222222.append("bitrate: ");
                                                                                                sb5222222222.append(i74);
                                                                                                sb5222222222.append(" framerate: ");
                                                                                                sb5222222222.append(i3);
                                                                                                sb5222222222.append(" size: ");
                                                                                                i9 = i15;
                                                                                                sb5222222222.append(i9);
                                                                                                str = "x";
                                                                                                sb5222222222.append(str);
                                                                                                i8 = i16;
                                                                                                sb5222222222.append(i8);
                                                                                                FileLog.e(sb5222222222.toString());
                                                                                                FileLog.e(exc);
                                                                                                mediaCodecVideoConvertor = this;
                                                                                                i18 = i17;
                                                                                                z4 = z9;
                                                                                                mediaCodec7 = mediaCodec6;
                                                                                                z7 = true;
                                                                                                mediaCodec4 = mediaCodec2;
                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                if (mediaCodec7 != null) {
                                                                                                }
                                                                                                mediaCodec3 = mediaCodec7;
                                                                                                i10 = i18;
                                                                                                outputSurface = outputSurface3;
                                                                                                if (outputSurface != null) {
                                                                                                }
                                                                                                if (inputSurface != null) {
                                                                                                }
                                                                                                if (mediaCodec4 != null) {
                                                                                                }
                                                                                                if (audioRecoder != null) {
                                                                                                }
                                                                                                checkConversionCanceled();
                                                                                                mediaCodec5 = mediaCodec3;
                                                                                                i5 = i9;
                                                                                                outputSurface2 = outputSurface;
                                                                                                i11 = i10;
                                                                                                z6 = z5;
                                                                                                i71 = i8;
                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                if (mediaExtractor2 != null) {
                                                                                                }
                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                if (mP4Builder2 != null) {
                                                                                                }
                                                                                                if (mediaCodec4 != null) {
                                                                                                }
                                                                                                if (mediaCodec5 != null) {
                                                                                                }
                                                                                                if (outputSurface2 != null) {
                                                                                                }
                                                                                                if (inputSurface != null) {
                                                                                                }
                                                                                                str3 = str2;
                                                                                                i72 = i5;
                                                                                                if (z6) {
                                                                                                }
                                                                                            }
                                                                                        } else {
                                                                                            inputBuffers = null;
                                                                                            outputBuffers = null;
                                                                                        }
                                                                                        ?? mP4Builder4 = new MP4Builder();
                                                                                        ?? equals = mediaCodecVideoConvertor2.outputMimeType.equals(obj2);
                                                                                        mediaCodecVideoConvertor2.mediaMuxer = mP4Builder4.createMovie(mp4Movie2, z11, equals);
                                                                                        if (i32 < 0) {
                                                                                            try {
                                                                                                MediaFormat trackFormat2 = mediaCodecVideoConvertor2.extractor.getTrackFormat(i32);
                                                                                                if (convertVideoParams.soundInfos.isEmpty()) {
                                                                                                    str10 = str9;
                                                                                                } else {
                                                                                                    str10 = str9;
                                                                                                }
                                                                                                if (!trackFormat2.getString(str10).equals("audio/mpeg")) {
                                                                                                    z13 = false;
                                                                                                    if (trackFormat2.getString(str10).equals("audio/unknown")) {
                                                                                                        i32 = -1;
                                                                                                    }
                                                                                                    if (i32 >= 0) {
                                                                                                        z14 = z13;
                                                                                                        j12 = j11;
                                                                                                        i35 = -5;
                                                                                                        audioRecoder2 = null;
                                                                                                    } else if (z13) {
                                                                                                        int addTrack = mediaCodecVideoConvertor2.mediaMuxer.addTrack(trackFormat2, z12);
                                                                                                        mediaCodecVideoConvertor2.extractor.selectTrack(i32);
                                                                                                        try {
                                                                                                            i38 = trackFormat2.getInteger("max-input-size");
                                                                                                        } catch (Exception e30) {
                                                                                                            FileLog.e(e30);
                                                                                                            i38 = 0;
                                                                                                        }
                                                                                                        if (i38 <= 0) {
                                                                                                            i38 = 65536;
                                                                                                        }
                                                                                                        byteBuffer = ByteBuffer.allocateDirect(i38);
                                                                                                        j12 = j11;
                                                                                                        if (j12 > 0) {
                                                                                                            mediaCodecVideoConvertor2.extractor.seekTo(j12, 0);
                                                                                                            i39 = addTrack;
                                                                                                            z14 = z13;
                                                                                                        } else {
                                                                                                            i39 = addTrack;
                                                                                                            z14 = z13;
                                                                                                            mediaCodecVideoConvertor2.extractor.seekTo(0L, 0);
                                                                                                        }
                                                                                                        i36 = i38;
                                                                                                        i35 = i39;
                                                                                                        audioRecoder2 = null;
                                                                                                        i37 = i36;
                                                                                                        z15 = z14;
                                                                                                    } else {
                                                                                                        z14 = z13;
                                                                                                        j12 = j11;
                                                                                                        ArrayList arrayList5 = new ArrayList();
                                                                                                        GeneralAudioInput generalAudioInput = new GeneralAudioInput(str15, i32);
                                                                                                        if (j29 > 0) {
                                                                                                            generalAudioInput.setEndTimeUs(j29);
                                                                                                        }
                                                                                                        if (j12 > 0) {
                                                                                                            generalAudioInput.setStartTimeUs(j12);
                                                                                                        }
                                                                                                        arrayList5.add(generalAudioInput);
                                                                                                        applyAudioInputs(convertVideoParams.soundInfos, arrayList5);
                                                                                                        j29 = j29;
                                                                                                        audioRecoder2 = new AudioRecoder(arrayList5, j8);
                                                                                                        i35 = mediaCodecVideoConvertor2.mediaMuxer.addTrack(audioRecoder2.format, true);
                                                                                                    }
                                                                                                    i36 = 0;
                                                                                                    byteBuffer = null;
                                                                                                    i37 = i36;
                                                                                                    z15 = z14;
                                                                                                }
                                                                                                z13 = true;
                                                                                                if (trackFormat2.getString(str10).equals("audio/unknown")) {
                                                                                                }
                                                                                                if (i32 >= 0) {
                                                                                                }
                                                                                                i36 = 0;
                                                                                                byteBuffer = null;
                                                                                                i37 = i36;
                                                                                                z15 = z14;
                                                                                            } catch (Exception e31) {
                                                                                                e = e31;
                                                                                                exc = e;
                                                                                                outputSurface3 = outputSurface5;
                                                                                                mediaCodec2 = r19;
                                                                                                i74 = i29;
                                                                                                z9 = z4;
                                                                                                i3 = i31;
                                                                                                audioRecoder = null;
                                                                                                mediaCodec6 = mediaCodec7;
                                                                                                i17 = -5;
                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                }
                                                                                                z5 = false;
                                                                                                StringBuilder sb52222222222 = new StringBuilder();
                                                                                                sb52222222222.append("bitrate: ");
                                                                                                sb52222222222.append(i74);
                                                                                                sb52222222222.append(" framerate: ");
                                                                                                sb52222222222.append(i3);
                                                                                                sb52222222222.append(" size: ");
                                                                                                i9 = i15;
                                                                                                sb52222222222.append(i9);
                                                                                                str = "x";
                                                                                                sb52222222222.append(str);
                                                                                                i8 = i16;
                                                                                                sb52222222222.append(i8);
                                                                                                FileLog.e(sb52222222222.toString());
                                                                                                FileLog.e(exc);
                                                                                                mediaCodecVideoConvertor = this;
                                                                                                i18 = i17;
                                                                                                z4 = z9;
                                                                                                mediaCodec7 = mediaCodec6;
                                                                                                z7 = true;
                                                                                                mediaCodec4 = mediaCodec2;
                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                if (mediaCodec7 != null) {
                                                                                                }
                                                                                                mediaCodec3 = mediaCodec7;
                                                                                                i10 = i18;
                                                                                                outputSurface = outputSurface3;
                                                                                                if (outputSurface != null) {
                                                                                                }
                                                                                                if (inputSurface != null) {
                                                                                                }
                                                                                                if (mediaCodec4 != null) {
                                                                                                }
                                                                                                if (audioRecoder != null) {
                                                                                                }
                                                                                                checkConversionCanceled();
                                                                                                mediaCodec5 = mediaCodec3;
                                                                                                i5 = i9;
                                                                                                outputSurface2 = outputSurface;
                                                                                                i11 = i10;
                                                                                                z6 = z5;
                                                                                                i71 = i8;
                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                if (mediaExtractor2 != null) {
                                                                                                }
                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                if (mP4Builder2 != null) {
                                                                                                }
                                                                                                if (mediaCodec4 != null) {
                                                                                                }
                                                                                                if (mediaCodec5 != null) {
                                                                                                }
                                                                                                if (outputSurface2 != null) {
                                                                                                }
                                                                                                if (inputSurface != null) {
                                                                                                }
                                                                                                str3 = str2;
                                                                                                i72 = i5;
                                                                                                if (z6) {
                                                                                                }
                                                                                            } catch (Throwable th47) {
                                                                                                th = th47;
                                                                                                z2 = z;
                                                                                                th = th;
                                                                                                mediaCodec = mediaCodec7;
                                                                                                outputSurface = outputSurface5;
                                                                                                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                                mediaCodec2 = r19;
                                                                                                i71 = i16;
                                                                                                i74 = i29;
                                                                                                str = "x";
                                                                                                i72 = i15;
                                                                                                i3 = i31;
                                                                                                i4 = -5;
                                                                                                z5 = false;
                                                                                                FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                FileLog.e(th);
                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                if (mediaExtractor != null) {
                                                                                                }
                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                if (mP4Builder != null) {
                                                                                                }
                                                                                                if (mediaCodec2 != null) {
                                                                                                }
                                                                                                if (mediaCodec != null) {
                                                                                                }
                                                                                                if (outputSurface != null) {
                                                                                                }
                                                                                                if (inputSurface != null) {
                                                                                                }
                                                                                                str3 = str2;
                                                                                                z6 = z5;
                                                                                                z7 = true;
                                                                                                if (z6) {
                                                                                                }
                                                                                            }
                                                                                        } else {
                                                                                            long j31 = j8;
                                                                                            j12 = j11;
                                                                                            if (convertVideoParams.soundInfos.isEmpty()) {
                                                                                                i35 = -5;
                                                                                                audioRecoder2 = null;
                                                                                                i37 = 0;
                                                                                                z15 = true;
                                                                                            } else {
                                                                                                ArrayList arrayList6 = new ArrayList();
                                                                                                arrayList6.add(new BlankAudioInput(j31));
                                                                                                applyAudioInputs(convertVideoParams.soundInfos, arrayList6);
                                                                                                audioRecoder2 = new AudioRecoder(arrayList6, j31);
                                                                                                i35 = mediaCodecVideoConvertor2.mediaMuxer.addTrack(audioRecoder2.format, true);
                                                                                                i37 = 0;
                                                                                                z15 = false;
                                                                                            }
                                                                                            byteBuffer = null;
                                                                                        }
                                                                                        z16 = audioRecoder2 != null;
                                                                                        checkConversionCanceled();
                                                                                        ByteBuffer byteBuffer8 = byteBuffer;
                                                                                        j13 = -2147483648L;
                                                                                        long j32 = -1;
                                                                                        long j33 = -1;
                                                                                        long j34 = 0;
                                                                                        long j35 = 0;
                                                                                        z17 = false;
                                                                                        z18 = false;
                                                                                        z19 = false;
                                                                                        int i88 = 0;
                                                                                        boolean z51 = true;
                                                                                        i40 = i37;
                                                                                        i18 = -5;
                                                                                        mediaCodec9 = r19;
                                                                                        while (true) {
                                                                                            if (z17 || (!z15 && !z16)) {
                                                                                                try {
                                                                                                    checkConversionCanceled();
                                                                                                    if (audioRecoder2 != null) {
                                                                                                        try {
                                                                                                            z16 = audioRecoder2.step(mediaCodecVideoConvertor2.mediaMuxer, i35);
                                                                                                        } catch (Exception e32) {
                                                                                                            exc = e32;
                                                                                                            audioRecoder = audioRecoder2;
                                                                                                            outputSurface3 = outputSurface5;
                                                                                                            mediaCodec2 = mediaCodec9;
                                                                                                            i74 = i29;
                                                                                                            z9 = z4;
                                                                                                            i3 = i31;
                                                                                                            mediaCodec6 = mediaCodec7;
                                                                                                            i17 = i18;
                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                            }
                                                                                                            z5 = false;
                                                                                                            StringBuilder sb522222222222 = new StringBuilder();
                                                                                                            sb522222222222.append("bitrate: ");
                                                                                                            sb522222222222.append(i74);
                                                                                                            sb522222222222.append(" framerate: ");
                                                                                                            sb522222222222.append(i3);
                                                                                                            sb522222222222.append(" size: ");
                                                                                                            i9 = i15;
                                                                                                            sb522222222222.append(i9);
                                                                                                            str = "x";
                                                                                                            sb522222222222.append(str);
                                                                                                            i8 = i16;
                                                                                                            sb522222222222.append(i8);
                                                                                                            FileLog.e(sb522222222222.toString());
                                                                                                            FileLog.e(exc);
                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                            i18 = i17;
                                                                                                            z4 = z9;
                                                                                                            mediaCodec7 = mediaCodec6;
                                                                                                            z7 = true;
                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                            if (mediaCodec7 != null) {
                                                                                                            }
                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                            i10 = i18;
                                                                                                            outputSurface = outputSurface3;
                                                                                                            if (outputSurface != null) {
                                                                                                            }
                                                                                                            if (inputSurface != null) {
                                                                                                            }
                                                                                                            if (mediaCodec4 != null) {
                                                                                                            }
                                                                                                            if (audioRecoder != null) {
                                                                                                            }
                                                                                                            checkConversionCanceled();
                                                                                                            mediaCodec5 = mediaCodec3;
                                                                                                            i5 = i9;
                                                                                                            outputSurface2 = outputSurface;
                                                                                                            i11 = i10;
                                                                                                            z6 = z5;
                                                                                                            i71 = i8;
                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                            if (mediaExtractor2 != null) {
                                                                                                            }
                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                            if (mP4Builder2 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec4 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec5 != null) {
                                                                                                            }
                                                                                                            if (outputSurface2 != null) {
                                                                                                            }
                                                                                                            if (inputSurface != null) {
                                                                                                            }
                                                                                                            str3 = str2;
                                                                                                            i72 = i5;
                                                                                                            if (z6) {
                                                                                                            }
                                                                                                        } catch (Throwable th48) {
                                                                                                            z2 = z;
                                                                                                            th = th48;
                                                                                                            mediaCodec = mediaCodec7;
                                                                                                            i4 = i18;
                                                                                                            outputSurface = outputSurface5;
                                                                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                                            mediaCodec2 = mediaCodec9;
                                                                                                            i71 = i16;
                                                                                                            i74 = i29;
                                                                                                            str = "x";
                                                                                                            i72 = i15;
                                                                                                            i3 = i31;
                                                                                                            z5 = false;
                                                                                                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                            FileLog.e(th);
                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                            if (mediaExtractor != null) {
                                                                                                            }
                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                            if (mP4Builder != null) {
                                                                                                            }
                                                                                                            if (mediaCodec2 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec != null) {
                                                                                                            }
                                                                                                            if (outputSurface != null) {
                                                                                                            }
                                                                                                            if (inputSurface != null) {
                                                                                                            }
                                                                                                            str3 = str2;
                                                                                                            z6 = z5;
                                                                                                            z7 = true;
                                                                                                            if (z6) {
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                    boolean z52 = z16;
                                                                                                    if (z18) {
                                                                                                        try {
                                                                                                            int sampleTrackIndex = mediaCodecVideoConvertor2.extractor.getSampleTrackIndex();
                                                                                                            byteBufferArr = outputBuffers;
                                                                                                            int i89 = i14;
                                                                                                            if (sampleTrackIndex == i89) {
                                                                                                                audioRecoder = audioRecoder2;
                                                                                                                i41 = i18;
                                                                                                                try {
                                                                                                                    try {
                                                                                                                        int dequeueInputBuffer = mediaCodec7.dequeueInputBuffer(2500L);
                                                                                                                        if (dequeueInputBuffer >= 0) {
                                                                                                                            if (Build.VERSION.SDK_INT < 21) {
                                                                                                                                inputBuffer = inputBuffers[dequeueInputBuffer];
                                                                                                                            } else {
                                                                                                                                inputBuffer = mediaCodec7.getInputBuffer(dequeueInputBuffer);
                                                                                                                            }
                                                                                                                            byteBufferArr2 = inputBuffers;
                                                                                                                            int readSampleData = mediaCodecVideoConvertor2.extractor.readSampleData(inputBuffer, 0);
                                                                                                                            if (readSampleData < 0) {
                                                                                                                                mediaCodec7.queueInputBuffer(dequeueInputBuffer, 0, 0, 0L, 4);
                                                                                                                                z18 = true;
                                                                                                                            } else {
                                                                                                                                mediaCodec7.queueInputBuffer(dequeueInputBuffer, 0, readSampleData, mediaCodecVideoConvertor2.extractor.getSampleTime(), 0);
                                                                                                                                mediaCodecVideoConvertor2.extractor.advance();
                                                                                                                            }
                                                                                                                        } else {
                                                                                                                            byteBufferArr2 = inputBuffers;
                                                                                                                        }
                                                                                                                        i42 = i32;
                                                                                                                        i14 = i89;
                                                                                                                        bufferInfo4 = bufferInfo3;
                                                                                                                        z20 = false;
                                                                                                                        i43 = i35;
                                                                                                                    } catch (Throwable th49) {
                                                                                                                        th = th49;
                                                                                                                        z2 = z;
                                                                                                                        th = th;
                                                                                                                        mediaCodec = mediaCodec7;
                                                                                                                        outputSurface = outputSurface5;
                                                                                                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                                                        mediaCodec2 = mediaCodec9;
                                                                                                                        i71 = i16;
                                                                                                                        i74 = i29;
                                                                                                                        str = "x";
                                                                                                                        i4 = i41;
                                                                                                                        i72 = i15;
                                                                                                                        i3 = i31;
                                                                                                                        z5 = false;
                                                                                                                        FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                                        FileLog.e(th);
                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                        if (mediaExtractor != null) {
                                                                                                                        }
                                                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                        if (mP4Builder != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec != null) {
                                                                                                                        }
                                                                                                                        if (outputSurface != null) {
                                                                                                                        }
                                                                                                                        if (inputSurface != null) {
                                                                                                                        }
                                                                                                                        str3 = str2;
                                                                                                                        z6 = z5;
                                                                                                                        z7 = true;
                                                                                                                        if (z6) {
                                                                                                                        }
                                                                                                                    }
                                                                                                                } catch (Exception e33) {
                                                                                                                    exc = e33;
                                                                                                                    i14 = i89;
                                                                                                                    outputSurface3 = outputSurface5;
                                                                                                                    mediaCodec2 = mediaCodec9;
                                                                                                                    i74 = i29;
                                                                                                                    z9 = z4;
                                                                                                                    i3 = i31;
                                                                                                                    mediaCodec6 = mediaCodec7;
                                                                                                                    i17 = i41;
                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                    }
                                                                                                                    z5 = false;
                                                                                                                    StringBuilder sb5222222222222 = new StringBuilder();
                                                                                                                    sb5222222222222.append("bitrate: ");
                                                                                                                    sb5222222222222.append(i74);
                                                                                                                    sb5222222222222.append(" framerate: ");
                                                                                                                    sb5222222222222.append(i3);
                                                                                                                    sb5222222222222.append(" size: ");
                                                                                                                    i9 = i15;
                                                                                                                    sb5222222222222.append(i9);
                                                                                                                    str = "x";
                                                                                                                    sb5222222222222.append(str);
                                                                                                                    i8 = i16;
                                                                                                                    sb5222222222222.append(i8);
                                                                                                                    FileLog.e(sb5222222222222.toString());
                                                                                                                    FileLog.e(exc);
                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                    i18 = i17;
                                                                                                                    z4 = z9;
                                                                                                                    mediaCodec7 = mediaCodec6;
                                                                                                                    z7 = true;
                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                    }
                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                    i10 = i18;
                                                                                                                    outputSurface = outputSurface3;
                                                                                                                    if (outputSurface != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                    }
                                                                                                                    if (audioRecoder != null) {
                                                                                                                    }
                                                                                                                    checkConversionCanceled();
                                                                                                                    mediaCodec5 = mediaCodec3;
                                                                                                                    i5 = i9;
                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                    i11 = i10;
                                                                                                                    z6 = z5;
                                                                                                                    i71 = i8;
                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                    }
                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec5 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    str3 = str2;
                                                                                                                    i72 = i5;
                                                                                                                    if (z6) {
                                                                                                                    }
                                                                                                                }
                                                                                                            } else {
                                                                                                                byteBufferArr2 = inputBuffers;
                                                                                                                audioRecoder = audioRecoder2;
                                                                                                                i41 = i18;
                                                                                                                if (z15 && i32 != -1 && sampleTrackIndex == i32) {
                                                                                                                    try {
                                                                                                                        int i90 = Build.VERSION.SDK_INT;
                                                                                                                        if (i90 >= 28) {
                                                                                                                            long sampleSize = mediaCodecVideoConvertor2.extractor.getSampleSize();
                                                                                                                            i14 = i89;
                                                                                                                            if (sampleSize > i40) {
                                                                                                                                i40 = (int) (sampleSize + 1024);
                                                                                                                                byteBuffer8 = ByteBuffer.allocateDirect(i40);
                                                                                                                            }
                                                                                                                        } else {
                                                                                                                            i14 = i89;
                                                                                                                        }
                                                                                                                        ByteBuffer byteBuffer9 = byteBuffer8;
                                                                                                                        bufferInfo4 = bufferInfo3;
                                                                                                                        bufferInfo4.size = mediaCodecVideoConvertor2.extractor.readSampleData(byteBuffer9, 0);
                                                                                                                        if (i90 < 21) {
                                                                                                                            byteBuffer9.position(0);
                                                                                                                            byteBuffer9.limit(bufferInfo4.size);
                                                                                                                        }
                                                                                                                        if (bufferInfo4.size >= 0) {
                                                                                                                            i42 = i32;
                                                                                                                            bufferInfo4.presentationTimeUs = mediaCodecVideoConvertor2.extractor.getSampleTime();
                                                                                                                            mediaCodecVideoConvertor2.extractor.advance();
                                                                                                                        } else {
                                                                                                                            i42 = i32;
                                                                                                                            bufferInfo4.size = 0;
                                                                                                                            z18 = true;
                                                                                                                        }
                                                                                                                        if (bufferInfo4.size <= 0 || (j29 >= 0 && bufferInfo4.presentationTimeUs >= j29)) {
                                                                                                                            i43 = i35;
                                                                                                                            i44 = i40;
                                                                                                                        } else {
                                                                                                                            bufferInfo4.offset = 0;
                                                                                                                            bufferInfo4.flags = mediaCodecVideoConvertor2.extractor.getSampleFlags();
                                                                                                                            i44 = i40;
                                                                                                                            long writeSampleData2 = mediaCodecVideoConvertor2.mediaMuxer.writeSampleData(i35, byteBuffer9, bufferInfo4, false);
                                                                                                                            if (writeSampleData2 == 0 || (videoConvertorListener = mediaCodecVideoConvertor2.callback) == null) {
                                                                                                                                i43 = i35;
                                                                                                                            } else {
                                                                                                                                long j36 = bufferInfo4.presentationTimeUs;
                                                                                                                                if (j36 - j12 > j34) {
                                                                                                                                    j34 = j36 - j12;
                                                                                                                                }
                                                                                                                                long j37 = j34;
                                                                                                                                i43 = i35;
                                                                                                                                videoConvertorListener.didWriteData(writeSampleData2, (((float) j37) / 1000.0f) / f);
                                                                                                                                j34 = j37;
                                                                                                                            }
                                                                                                                        }
                                                                                                                        byteBuffer8 = byteBuffer9;
                                                                                                                        i40 = i44;
                                                                                                                    } catch (Exception e34) {
                                                                                                                        e = e34;
                                                                                                                        i14 = i89;
                                                                                                                        exc = e;
                                                                                                                        outputSurface3 = outputSurface5;
                                                                                                                        mediaCodec2 = mediaCodec9;
                                                                                                                        i74 = i29;
                                                                                                                        z9 = z4;
                                                                                                                        i3 = i31;
                                                                                                                        mediaCodec6 = mediaCodec7;
                                                                                                                        i17 = i41;
                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                        }
                                                                                                                        z5 = false;
                                                                                                                        StringBuilder sb52222222222222 = new StringBuilder();
                                                                                                                        sb52222222222222.append("bitrate: ");
                                                                                                                        sb52222222222222.append(i74);
                                                                                                                        sb52222222222222.append(" framerate: ");
                                                                                                                        sb52222222222222.append(i3);
                                                                                                                        sb52222222222222.append(" size: ");
                                                                                                                        i9 = i15;
                                                                                                                        sb52222222222222.append(i9);
                                                                                                                        str = "x";
                                                                                                                        sb52222222222222.append(str);
                                                                                                                        i8 = i16;
                                                                                                                        sb52222222222222.append(i8);
                                                                                                                        FileLog.e(sb52222222222222.toString());
                                                                                                                        FileLog.e(exc);
                                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                                        i18 = i17;
                                                                                                                        z4 = z9;
                                                                                                                        mediaCodec7 = mediaCodec6;
                                                                                                                        z7 = true;
                                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                        }
                                                                                                                        mediaCodec3 = mediaCodec7;
                                                                                                                        i10 = i18;
                                                                                                                        outputSurface = outputSurface3;
                                                                                                                        if (outputSurface != null) {
                                                                                                                        }
                                                                                                                        if (inputSurface != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                        }
                                                                                                                        if (audioRecoder != null) {
                                                                                                                        }
                                                                                                                        checkConversionCanceled();
                                                                                                                        mediaCodec5 = mediaCodec3;
                                                                                                                        i5 = i9;
                                                                                                                        outputSurface2 = outputSurface;
                                                                                                                        i11 = i10;
                                                                                                                        z6 = z5;
                                                                                                                        i71 = i8;
                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                        }
                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec5 != null) {
                                                                                                                        }
                                                                                                                        if (outputSurface2 != null) {
                                                                                                                        }
                                                                                                                        if (inputSurface != null) {
                                                                                                                        }
                                                                                                                        str3 = str2;
                                                                                                                        i72 = i5;
                                                                                                                        if (z6) {
                                                                                                                        }
                                                                                                                    }
                                                                                                                } else {
                                                                                                                    i42 = i32;
                                                                                                                    i14 = i89;
                                                                                                                    bufferInfo4 = bufferInfo3;
                                                                                                                    i43 = i35;
                                                                                                                    if (sampleTrackIndex == -1) {
                                                                                                                        z20 = true;
                                                                                                                    }
                                                                                                                }
                                                                                                                z20 = false;
                                                                                                            }
                                                                                                            if (z20) {
                                                                                                                try {
                                                                                                                    int dequeueInputBuffer2 = mediaCodec7.dequeueInputBuffer(2500L);
                                                                                                                    if (dequeueInputBuffer2 >= 0) {
                                                                                                                        mediaCodec7.queueInputBuffer(dequeueInputBuffer2, 0, 0, 0L, 4);
                                                                                                                        z18 = true;
                                                                                                                    }
                                                                                                                } catch (Exception e35) {
                                                                                                                    e = e35;
                                                                                                                    exc = e;
                                                                                                                    outputSurface3 = outputSurface5;
                                                                                                                    mediaCodec2 = mediaCodec9;
                                                                                                                    i74 = i29;
                                                                                                                    z9 = z4;
                                                                                                                    i3 = i31;
                                                                                                                    mediaCodec6 = mediaCodec7;
                                                                                                                    i17 = i41;
                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                    }
                                                                                                                    z5 = false;
                                                                                                                    StringBuilder sb522222222222222 = new StringBuilder();
                                                                                                                    sb522222222222222.append("bitrate: ");
                                                                                                                    sb522222222222222.append(i74);
                                                                                                                    sb522222222222222.append(" framerate: ");
                                                                                                                    sb522222222222222.append(i3);
                                                                                                                    sb522222222222222.append(" size: ");
                                                                                                                    i9 = i15;
                                                                                                                    sb522222222222222.append(i9);
                                                                                                                    str = "x";
                                                                                                                    sb522222222222222.append(str);
                                                                                                                    i8 = i16;
                                                                                                                    sb522222222222222.append(i8);
                                                                                                                    FileLog.e(sb522222222222222.toString());
                                                                                                                    FileLog.e(exc);
                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                    i18 = i17;
                                                                                                                    z4 = z9;
                                                                                                                    mediaCodec7 = mediaCodec6;
                                                                                                                    z7 = true;
                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                    }
                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                    i10 = i18;
                                                                                                                    outputSurface = outputSurface3;
                                                                                                                    if (outputSurface != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                    }
                                                                                                                    if (audioRecoder != null) {
                                                                                                                    }
                                                                                                                    checkConversionCanceled();
                                                                                                                    mediaCodec5 = mediaCodec3;
                                                                                                                    i5 = i9;
                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                    i11 = i10;
                                                                                                                    z6 = z5;
                                                                                                                    i71 = i8;
                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                    }
                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec5 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    str3 = str2;
                                                                                                                    i72 = i5;
                                                                                                                    if (z6) {
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        } catch (Exception e36) {
                                                                                                            e = e36;
                                                                                                            audioRecoder = audioRecoder2;
                                                                                                            i41 = i18;
                                                                                                        } catch (Throwable th50) {
                                                                                                            th = th50;
                                                                                                            i41 = i18;
                                                                                                        }
                                                                                                    } else {
                                                                                                        i42 = i32;
                                                                                                        byteBufferArr2 = inputBuffers;
                                                                                                        byteBufferArr = outputBuffers;
                                                                                                        audioRecoder = audioRecoder2;
                                                                                                        i41 = i18;
                                                                                                        bufferInfo4 = bufferInfo3;
                                                                                                        i43 = i35;
                                                                                                    }
                                                                                                    z21 = !z19;
                                                                                                    i45 = i40;
                                                                                                    j14 = j13;
                                                                                                    outputBuffers = byteBufferArr;
                                                                                                    i46 = i41;
                                                                                                    boolean z53 = true;
                                                                                                    mediaCodec10 = mediaCodec9;
                                                                                                    while (true) {
                                                                                                        if (!z21 || z53) {
                                                                                                            try {
                                                                                                                checkConversionCanceled();
                                                                                                                boolean z54 = z21;
                                                                                                                if (z) {
                                                                                                                    z22 = z53;
                                                                                                                    j15 = 2500;
                                                                                                                    MediaCodec mediaCodec12 = mediaCodec10;
                                                                                                                    i47 = i42;
                                                                                                                    mediaCodec2 = mediaCodec12;
                                                                                                                } else {
                                                                                                                    z22 = z53;
                                                                                                                    j15 = 22000;
                                                                                                                    MediaCodec mediaCodec13 = mediaCodec10;
                                                                                                                    i47 = i42;
                                                                                                                    mediaCodec2 = mediaCodec13;
                                                                                                                }
                                                                                                                try {
                                                                                                                    dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo4, j15);
                                                                                                                    if (dequeueOutputBuffer != -1) {
                                                                                                                        i48 = i45;
                                                                                                                        outputSurface3 = outputSurface5;
                                                                                                                        z23 = z15;
                                                                                                                        j16 = j14;
                                                                                                                        str11 = str6;
                                                                                                                        i49 = i28;
                                                                                                                        i50 = i33;
                                                                                                                        i51 = -1;
                                                                                                                        z22 = false;
                                                                                                                    } else {
                                                                                                                        if (dequeueOutputBuffer == -3) {
                                                                                                                            try {
                                                                                                                                i48 = i45;
                                                                                                                                if (Build.VERSION.SDK_INT < 21) {
                                                                                                                                    outputBuffers = mediaCodec2.getOutputBuffers();
                                                                                                                                }
                                                                                                                                outputSurface3 = outputSurface5;
                                                                                                                                z23 = z15;
                                                                                                                                j16 = j14;
                                                                                                                                str11 = str6;
                                                                                                                            } catch (Exception e37) {
                                                                                                                                e = e37;
                                                                                                                                mediaCodec6 = mediaCodec7;
                                                                                                                                outputSurface3 = outputSurface5;
                                                                                                                                i74 = i29;
                                                                                                                                z9 = z4;
                                                                                                                                i3 = i31;
                                                                                                                                i17 = i46;
                                                                                                                                exc = e;
                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                }
                                                                                                                                z5 = false;
                                                                                                                                StringBuilder sb5222222222222222 = new StringBuilder();
                                                                                                                                sb5222222222222222.append("bitrate: ");
                                                                                                                                sb5222222222222222.append(i74);
                                                                                                                                sb5222222222222222.append(" framerate: ");
                                                                                                                                sb5222222222222222.append(i3);
                                                                                                                                sb5222222222222222.append(" size: ");
                                                                                                                                i9 = i15;
                                                                                                                                sb5222222222222222.append(i9);
                                                                                                                                str = "x";
                                                                                                                                sb5222222222222222.append(str);
                                                                                                                                i8 = i16;
                                                                                                                                sb5222222222222222.append(i8);
                                                                                                                                FileLog.e(sb5222222222222222.toString());
                                                                                                                                FileLog.e(exc);
                                                                                                                                mediaCodecVideoConvertor = this;
                                                                                                                                i18 = i17;
                                                                                                                                z4 = z9;
                                                                                                                                mediaCodec7 = mediaCodec6;
                                                                                                                                z7 = true;
                                                                                                                                mediaCodec4 = mediaCodec2;
                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                if (mediaCodec7 != null) {
                                                                                                                                }
                                                                                                                                mediaCodec3 = mediaCodec7;
                                                                                                                                i10 = i18;
                                                                                                                                outputSurface = outputSurface3;
                                                                                                                                if (outputSurface != null) {
                                                                                                                                }
                                                                                                                                if (inputSurface != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec4 != null) {
                                                                                                                                }
                                                                                                                                if (audioRecoder != null) {
                                                                                                                                }
                                                                                                                                checkConversionCanceled();
                                                                                                                                mediaCodec5 = mediaCodec3;
                                                                                                                                i5 = i9;
                                                                                                                                outputSurface2 = outputSurface;
                                                                                                                                i11 = i10;
                                                                                                                                z6 = z5;
                                                                                                                                i71 = i8;
                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                }
                                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                if (mP4Builder2 != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec4 != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec5 != null) {
                                                                                                                                }
                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                }
                                                                                                                                if (inputSurface != null) {
                                                                                                                                }
                                                                                                                                str3 = str2;
                                                                                                                                i72 = i5;
                                                                                                                                if (z6) {
                                                                                                                                }
                                                                                                                            } catch (Throwable th51) {
                                                                                                                                z2 = z;
                                                                                                                                th = th51;
                                                                                                                                i4 = i46;
                                                                                                                                mediaCodec = mediaCodec7;
                                                                                                                                outputSurface = outputSurface5;
                                                                                                                                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                                                                i71 = i16;
                                                                                                                                i74 = i29;
                                                                                                                                str = "x";
                                                                                                                                i72 = i15;
                                                                                                                                i3 = i31;
                                                                                                                                z5 = false;
                                                                                                                                FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                                                FileLog.e(th);
                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                }
                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                if (mP4Builder != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec != null) {
                                                                                                                                }
                                                                                                                                if (outputSurface != null) {
                                                                                                                                }
                                                                                                                                if (inputSurface != null) {
                                                                                                                                }
                                                                                                                                str3 = str2;
                                                                                                                                z6 = z5;
                                                                                                                                z7 = true;
                                                                                                                                if (z6) {
                                                                                                                                }
                                                                                                                            }
                                                                                                                        } else {
                                                                                                                            i48 = i45;
                                                                                                                            if (dequeueOutputBuffer == -2) {
                                                                                                                                MediaFormat outputFormat2 = mediaCodec2.getOutputFormat();
                                                                                                                                if (i46 != -5 || outputFormat2 == null) {
                                                                                                                                    z23 = z15;
                                                                                                                                    str11 = str6;
                                                                                                                                } else {
                                                                                                                                    z23 = z15;
                                                                                                                                    int addTrack2 = mediaCodecVideoConvertor2.mediaMuxer.addTrack(outputFormat2, false);
                                                                                                                                    String str19 = str7;
                                                                                                                                    try {
                                                                                                                                        if (outputFormat2.containsKey(str19)) {
                                                                                                                                            i52 = addTrack2;
                                                                                                                                            if (outputFormat2.getInteger(str19) == 1) {
                                                                                                                                                str11 = str6;
                                                                                                                                                try {
                                                                                                                                                    ByteBuffer byteBuffer10 = outputFormat2.getByteBuffer(str11);
                                                                                                                                                    str7 = str19;
                                                                                                                                                    ByteBuffer byteBuffer11 = outputFormat2.getByteBuffer("csd-1");
                                                                                                                                                    i88 = (byteBuffer10 == null ? 0 : byteBuffer10.limit()) + (byteBuffer11 == null ? 0 : byteBuffer11.limit());
                                                                                                                                                    i46 = i52;
                                                                                                                                                } catch (Exception e38) {
                                                                                                                                                    e = e38;
                                                                                                                                                    exc = e;
                                                                                                                                                    mediaCodec6 = mediaCodec7;
                                                                                                                                                    outputSurface3 = outputSurface5;
                                                                                                                                                    i17 = i52;
                                                                                                                                                    i74 = i29;
                                                                                                                                                    z9 = z4;
                                                                                                                                                    i3 = i31;
                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                    }
                                                                                                                                                    z5 = false;
                                                                                                                                                    StringBuilder sb52222222222222222 = new StringBuilder();
                                                                                                                                                    sb52222222222222222.append("bitrate: ");
                                                                                                                                                    sb52222222222222222.append(i74);
                                                                                                                                                    sb52222222222222222.append(" framerate: ");
                                                                                                                                                    sb52222222222222222.append(i3);
                                                                                                                                                    sb52222222222222222.append(" size: ");
                                                                                                                                                    i9 = i15;
                                                                                                                                                    sb52222222222222222.append(i9);
                                                                                                                                                    str = "x";
                                                                                                                                                    sb52222222222222222.append(str);
                                                                                                                                                    i8 = i16;
                                                                                                                                                    sb52222222222222222.append(i8);
                                                                                                                                                    FileLog.e(sb52222222222222222.toString());
                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                                                    i18 = i17;
                                                                                                                                                    z4 = z9;
                                                                                                                                                    mediaCodec7 = mediaCodec6;
                                                                                                                                                    z7 = true;
                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                    }
                                                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                                                    i10 = i18;
                                                                                                                                                    outputSurface = outputSurface3;
                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                    }
                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                    }
                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                    mediaCodec5 = mediaCodec3;
                                                                                                                                                    i5 = i9;
                                                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                                                    i11 = i10;
                                                                                                                                                    z6 = z5;
                                                                                                                                                    i71 = i8;
                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                    }
                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec5 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                    }
                                                                                                                                                    str3 = str2;
                                                                                                                                                    i72 = i5;
                                                                                                                                                    if (z6) {
                                                                                                                                                    }
                                                                                                                                                } catch (Throwable th52) {
                                                                                                                                                    th = th52;
                                                                                                                                                    z2 = z;
                                                                                                                                                    th = th;
                                                                                                                                                    mediaCodec = mediaCodec7;
                                                                                                                                                    outputSurface = outputSurface5;
                                                                                                                                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                                                                                    i4 = i52;
                                                                                                                                                    i71 = i16;
                                                                                                                                                    i74 = i29;
                                                                                                                                                    str = "x";
                                                                                                                                                    i72 = i15;
                                                                                                                                                    i3 = i31;
                                                                                                                                                    z5 = false;
                                                                                                                                                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                                                                    FileLog.e(th);
                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                    }
                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                    }
                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                    }
                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                    }
                                                                                                                                                    str3 = str2;
                                                                                                                                                    z6 = z5;
                                                                                                                                                    z7 = true;
                                                                                                                                                    if (z6) {
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                        } else {
                                                                                                                                            i52 = addTrack2;
                                                                                                                                        }
                                                                                                                                        str7 = str19;
                                                                                                                                        str11 = str6;
                                                                                                                                        i46 = i52;
                                                                                                                                    } catch (Exception e39) {
                                                                                                                                        e = e39;
                                                                                                                                        i52 = addTrack2;
                                                                                                                                    } catch (Throwable th53) {
                                                                                                                                        th = th53;
                                                                                                                                        i52 = addTrack2;
                                                                                                                                    }
                                                                                                                                }
                                                                                                                                outputSurface3 = outputSurface5;
                                                                                                                                j16 = j14;
                                                                                                                            } else {
                                                                                                                                z23 = z15;
                                                                                                                                str11 = str6;
                                                                                                                                if (dequeueOutputBuffer < 0) {
                                                                                                                                    throw new RuntimeException("unexpected result from encoder.dequeueOutputBuffer: " + dequeueOutputBuffer);
                                                                                                                                }
                                                                                                                                if (Build.VERSION.SDK_INT < 21) {
                                                                                                                                    outputBuffer = outputBuffers[dequeueOutputBuffer];
                                                                                                                                } else {
                                                                                                                                    outputBuffer = mediaCodec2.getOutputBuffer(dequeueOutputBuffer);
                                                                                                                                }
                                                                                                                                if (outputBuffer == null) {
                                                                                                                                    throw new RuntimeException("encoderOutputBuffer " + dequeueOutputBuffer + " was null");
                                                                                                                                }
                                                                                                                                int i91 = bufferInfo4.size;
                                                                                                                                ByteBuffer[] byteBufferArr5 = outputBuffers;
                                                                                                                                if (i91 > 1) {
                                                                                                                                    try {
                                                                                                                                        int i92 = bufferInfo4.flags;
                                                                                                                                        if ((i92 & 2) == 0) {
                                                                                                                                            if (i88 == 0 || (i92 & 1) == 0) {
                                                                                                                                                outputSurface3 = outputSurface5;
                                                                                                                                            } else {
                                                                                                                                                outputSurface3 = outputSurface5;
                                                                                                                                                bufferInfo4.offset += i88;
                                                                                                                                                bufferInfo4.size = i91 - i88;
                                                                                                                                            }
                                                                                                                                            if (!z51 || (i92 & 1) == 0) {
                                                                                                                                                z24 = z51;
                                                                                                                                            } else {
                                                                                                                                                cutOfNalData(mediaCodecVideoConvertor2.outputMimeType, outputBuffer, bufferInfo4);
                                                                                                                                                z24 = false;
                                                                                                                                            }
                                                                                                                                            j16 = j14;
                                                                                                                                            long writeSampleData3 = mediaCodecVideoConvertor2.mediaMuxer.writeSampleData(i46, outputBuffer, bufferInfo4, true);
                                                                                                                                            if (writeSampleData3 == 0 || (videoConvertorListener2 = mediaCodecVideoConvertor2.callback) == null) {
                                                                                                                                                z25 = z24;
                                                                                                                                            } else {
                                                                                                                                                boolean z55 = z24;
                                                                                                                                                long j38 = bufferInfo4.presentationTimeUs;
                                                                                                                                                if (j38 - j12 > j34) {
                                                                                                                                                    j34 = j38 - j12;
                                                                                                                                                }
                                                                                                                                                long j39 = j34;
                                                                                                                                                z25 = z55;
                                                                                                                                                videoConvertorListener2.didWriteData(writeSampleData3, (((float) j39) / 1000.0f) / f);
                                                                                                                                                j34 = j39;
                                                                                                                                            }
                                                                                                                                            z51 = z25;
                                                                                                                                        } else {
                                                                                                                                            outputSurface3 = outputSurface5;
                                                                                                                                            j16 = j14;
                                                                                                                                            if (i46 == -5) {
                                                                                                                                                byte[] bArr2 = new byte[i91];
                                                                                                                                                outputBuffer.limit(bufferInfo4.offset + i91);
                                                                                                                                                outputBuffer.position(bufferInfo4.offset);
                                                                                                                                                outputBuffer.get(bArr2);
                                                                                                                                                byte b2 = 1;
                                                                                                                                                int i93 = bufferInfo4.size - 1;
                                                                                                                                                while (i93 >= 0 && i93 > 3) {
                                                                                                                                                    if (bArr2[i93] == b2 && bArr2[i93 - 1] == 0 && bArr2[i93 - 2] == 0) {
                                                                                                                                                        int i94 = i93 - 3;
                                                                                                                                                        if (bArr2[i94] == 0) {
                                                                                                                                                            byteBuffer2 = ByteBuffer.allocate(i94);
                                                                                                                                                            byteBuffer3 = ByteBuffer.allocate(bufferInfo4.size - i94);
                                                                                                                                                            byteBuffer2.put(bArr2, 0, i94).position(0);
                                                                                                                                                            byteBuffer3.put(bArr2, i94, bufferInfo4.size - i94).position(0);
                                                                                                                                                            break;
                                                                                                                                                        }
                                                                                                                                                    }
                                                                                                                                                    i93--;
                                                                                                                                                    b2 = 1;
                                                                                                                                                }
                                                                                                                                                byteBuffer2 = null;
                                                                                                                                                byteBuffer3 = null;
                                                                                                                                                i49 = i28;
                                                                                                                                                i50 = i33;
                                                                                                                                                MediaFormat createVideoFormat4 = MediaFormat.createVideoFormat(mediaCodecVideoConvertor2.outputMimeType, i50, i49);
                                                                                                                                                if (byteBuffer2 != null && byteBuffer3 != null) {
                                                                                                                                                    createVideoFormat4.setByteBuffer(str11, byteBuffer2);
                                                                                                                                                    createVideoFormat4.setByteBuffer("csd-1", byteBuffer3);
                                                                                                                                                }
                                                                                                                                                i46 = mediaCodecVideoConvertor2.mediaMuxer.addTrack(createVideoFormat4, false);
                                                                                                                                                boolean z56 = (bufferInfo4.flags & 4) == 0;
                                                                                                                                                mediaCodec2.releaseOutputBuffer(dequeueOutputBuffer, false);
                                                                                                                                                z17 = z56;
                                                                                                                                                outputBuffers = byteBufferArr5;
                                                                                                                                                i51 = -1;
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    } catch (Exception e40) {
                                                                                                                                        e = e40;
                                                                                                                                        outputSurface3 = outputSurface5;
                                                                                                                                        mediaCodec6 = mediaCodec7;
                                                                                                                                        i74 = i29;
                                                                                                                                        z9 = z4;
                                                                                                                                        i3 = i31;
                                                                                                                                        i17 = i46;
                                                                                                                                        exc = e;
                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                        }
                                                                                                                                        z5 = false;
                                                                                                                                        StringBuilder sb522222222222222222 = new StringBuilder();
                                                                                                                                        sb522222222222222222.append("bitrate: ");
                                                                                                                                        sb522222222222222222.append(i74);
                                                                                                                                        sb522222222222222222.append(" framerate: ");
                                                                                                                                        sb522222222222222222.append(i3);
                                                                                                                                        sb522222222222222222.append(" size: ");
                                                                                                                                        i9 = i15;
                                                                                                                                        sb522222222222222222.append(i9);
                                                                                                                                        str = "x";
                                                                                                                                        sb522222222222222222.append(str);
                                                                                                                                        i8 = i16;
                                                                                                                                        sb522222222222222222.append(i8);
                                                                                                                                        FileLog.e(sb522222222222222222.toString());
                                                                                                                                        FileLog.e(exc);
                                                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                                                        i18 = i17;
                                                                                                                                        z4 = z9;
                                                                                                                                        mediaCodec7 = mediaCodec6;
                                                                                                                                        z7 = true;
                                                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                                        }
                                                                                                                                        mediaCodec3 = mediaCodec7;
                                                                                                                                        i10 = i18;
                                                                                                                                        outputSurface = outputSurface3;
                                                                                                                                        if (outputSurface != null) {
                                                                                                                                        }
                                                                                                                                        if (inputSurface != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                                        }
                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                        }
                                                                                                                                        checkConversionCanceled();
                                                                                                                                        mediaCodec5 = mediaCodec3;
                                                                                                                                        i5 = i9;
                                                                                                                                        outputSurface2 = outputSurface;
                                                                                                                                        i11 = i10;
                                                                                                                                        z6 = z5;
                                                                                                                                        i71 = i8;
                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                        }
                                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec5 != null) {
                                                                                                                                        }
                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                        }
                                                                                                                                        if (inputSurface != null) {
                                                                                                                                        }
                                                                                                                                        str3 = str2;
                                                                                                                                        i72 = i5;
                                                                                                                                        if (z6) {
                                                                                                                                        }
                                                                                                                                    } catch (Throwable th54) {
                                                                                                                                        th = th54;
                                                                                                                                        outputSurface3 = outputSurface5;
                                                                                                                                        z2 = z;
                                                                                                                                        th = th;
                                                                                                                                        i4 = i46;
                                                                                                                                        mediaCodec = mediaCodec7;
                                                                                                                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                                                                        outputSurface = outputSurface3;
                                                                                                                                        i71 = i16;
                                                                                                                                        i74 = i29;
                                                                                                                                        str = "x";
                                                                                                                                        i72 = i15;
                                                                                                                                        i3 = i31;
                                                                                                                                        z5 = false;
                                                                                                                                        FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                                                        FileLog.e(th);
                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                        }
                                                                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                        if (mP4Builder != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                        }
                                                                                                                                        if (outputSurface != null) {
                                                                                                                                        }
                                                                                                                                        if (inputSurface != null) {
                                                                                                                                        }
                                                                                                                                        str3 = str2;
                                                                                                                                        z6 = z5;
                                                                                                                                        z7 = true;
                                                                                                                                        if (z6) {
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                } else {
                                                                                                                                    outputSurface3 = outputSurface5;
                                                                                                                                    j16 = j14;
                                                                                                                                }
                                                                                                                                i49 = i28;
                                                                                                                                i50 = i33;
                                                                                                                                if ((bufferInfo4.flags & 4) == 0) {
                                                                                                                                }
                                                                                                                                mediaCodec2.releaseOutputBuffer(dequeueOutputBuffer, false);
                                                                                                                                z17 = z56;
                                                                                                                                outputBuffers = byteBufferArr5;
                                                                                                                                i51 = -1;
                                                                                                                            }
                                                                                                                        }
                                                                                                                        i49 = i28;
                                                                                                                        i50 = i33;
                                                                                                                        i51 = -1;
                                                                                                                    }
                                                                                                                    if (dequeueOutputBuffer == i51) {
                                                                                                                        str6 = str11;
                                                                                                                        i33 = i50;
                                                                                                                        i28 = i49;
                                                                                                                        z21 = z54;
                                                                                                                        z53 = z22;
                                                                                                                        i45 = i48;
                                                                                                                        z15 = z23;
                                                                                                                        outputSurface5 = outputSurface3;
                                                                                                                        j14 = j16;
                                                                                                                    } else {
                                                                                                                        if (z19) {
                                                                                                                            j17 = j12;
                                                                                                                        } else {
                                                                                                                            try {
                                                                                                                                j17 = j12;
                                                                                                                                int dequeueOutputBuffer3 = mediaCodec7.dequeueOutputBuffer(bufferInfo4, 2500L);
                                                                                                                                if (dequeueOutputBuffer3 == i51) {
                                                                                                                                    byteBufferArr3 = outputBuffers;
                                                                                                                                    i33 = i50;
                                                                                                                                    i28 = i49;
                                                                                                                                    outputSurface4 = outputSurface3;
                                                                                                                                    j20 = j16;
                                                                                                                                    i3 = i31;
                                                                                                                                    inputSurface3 = inputSurface;
                                                                                                                                    z21 = false;
                                                                                                                                } else if (dequeueOutputBuffer3 != -3) {
                                                                                                                                    if (dequeueOutputBuffer3 == -2) {
                                                                                                                                        try {
                                                                                                                                            MediaFormat outputFormat3 = mediaCodec7.getOutputFormat();
                                                                                                                                            if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                FileLog.d("newFormat = " + outputFormat3);
                                                                                                                                            }
                                                                                                                                        } catch (Exception e41) {
                                                                                                                                            e = e41;
                                                                                                                                            mediaCodec6 = mediaCodec7;
                                                                                                                                            i74 = i29;
                                                                                                                                            z9 = z4;
                                                                                                                                            i3 = i31;
                                                                                                                                            i17 = i46;
                                                                                                                                            exc = e;
                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                            }
                                                                                                                                            z5 = false;
                                                                                                                                            StringBuilder sb5222222222222222222 = new StringBuilder();
                                                                                                                                            sb5222222222222222222.append("bitrate: ");
                                                                                                                                            sb5222222222222222222.append(i74);
                                                                                                                                            sb5222222222222222222.append(" framerate: ");
                                                                                                                                            sb5222222222222222222.append(i3);
                                                                                                                                            sb5222222222222222222.append(" size: ");
                                                                                                                                            i9 = i15;
                                                                                                                                            sb5222222222222222222.append(i9);
                                                                                                                                            str = "x";
                                                                                                                                            sb5222222222222222222.append(str);
                                                                                                                                            i8 = i16;
                                                                                                                                            sb5222222222222222222.append(i8);
                                                                                                                                            FileLog.e(sb5222222222222222222.toString());
                                                                                                                                            FileLog.e(exc);
                                                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                                                            i18 = i17;
                                                                                                                                            z4 = z9;
                                                                                                                                            mediaCodec7 = mediaCodec6;
                                                                                                                                            z7 = true;
                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                                            }
                                                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                                                            i10 = i18;
                                                                                                                                            outputSurface = outputSurface3;
                                                                                                                                            if (outputSurface != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                                            }
                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                            }
                                                                                                                                            checkConversionCanceled();
                                                                                                                                            mediaCodec5 = mediaCodec3;
                                                                                                                                            i5 = i9;
                                                                                                                                            outputSurface2 = outputSurface;
                                                                                                                                            i11 = i10;
                                                                                                                                            z6 = z5;
                                                                                                                                            i71 = i8;
                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                            }
                                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec5 != null) {
                                                                                                                                            }
                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface != null) {
                                                                                                                                            }
                                                                                                                                            str3 = str2;
                                                                                                                                            i72 = i5;
                                                                                                                                            if (z6) {
                                                                                                                                            }
                                                                                                                                        } catch (Throwable th55) {
                                                                                                                                            th = th55;
                                                                                                                                            z2 = z;
                                                                                                                                            th = th;
                                                                                                                                            i4 = i46;
                                                                                                                                            mediaCodec = mediaCodec7;
                                                                                                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                                                                            outputSurface = outputSurface3;
                                                                                                                                            i71 = i16;
                                                                                                                                            i74 = i29;
                                                                                                                                            str = "x";
                                                                                                                                            i72 = i15;
                                                                                                                                            i3 = i31;
                                                                                                                                            z5 = false;
                                                                                                                                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                                                            FileLog.e(th);
                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                            }
                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                            }
                                                                                                                                            if (outputSurface != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface != null) {
                                                                                                                                            }
                                                                                                                                            str3 = str2;
                                                                                                                                            z6 = z5;
                                                                                                                                            z7 = true;
                                                                                                                                            if (z6) {
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    } else if (dequeueOutputBuffer3 < 0) {
                                                                                                                                        throw new RuntimeException("unexpected result from decoder.dequeueOutputBuffer: " + dequeueOutputBuffer3);
                                                                                                                                    } else {
                                                                                                                                        boolean z57 = bufferInfo4.size != 0;
                                                                                                                                        long j40 = bufferInfo4.presentationTimeUs;
                                                                                                                                        if (j29 <= 0 || j40 < j29) {
                                                                                                                                            z26 = z57;
                                                                                                                                            z27 = z18;
                                                                                                                                        } else {
                                                                                                                                            bufferInfo4.flags |= 4;
                                                                                                                                            z27 = true;
                                                                                                                                            z26 = false;
                                                                                                                                            z19 = true;
                                                                                                                                        }
                                                                                                                                        if (j9 >= 0) {
                                                                                                                                            try {
                                                                                                                                                if ((bufferInfo4.flags & 4) != 0) {
                                                                                                                                                    i3 = i31;
                                                                                                                                                    try {
                                                                                                                                                        try {
                                                                                                                                                            byteBufferArr3 = outputBuffers;
                                                                                                                                                            if (Math.abs(j9 - j17) > MediaController.VIDEO_BITRATE_480 / i3) {
                                                                                                                                                                if (j17 > 0) {
                                                                                                                                                                    try {
                                                                                                                                                                        i33 = i50;
                                                                                                                                                                        i28 = i49;
                                                                                                                                                                        mediaCodecVideoConvertor2.extractor.seekTo(j17, 0);
                                                                                                                                                                        j17 = j17;
                                                                                                                                                                    } catch (Throwable th56) {
                                                                                                                                                                        th = th56;
                                                                                                                                                                        z2 = z;
                                                                                                                                                                        th = th;
                                                                                                                                                                        i4 = i46;
                                                                                                                                                                        mediaCodec = mediaCodec7;
                                                                                                                                                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                                                                                                        outputSurface = outputSurface3;
                                                                                                                                                                        i71 = i16;
                                                                                                                                                                        i74 = i29;
                                                                                                                                                                        str = "x";
                                                                                                                                                                        i72 = i15;
                                                                                                                                                                        z5 = false;
                                                                                                                                                                        FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                                                                                        FileLog.e(th);
                                                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                                                        }
                                                                                                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                        if (mP4Builder != null) {
                                                                                                                                                                        }
                                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                                        }
                                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                                        }
                                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                                        }
                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                        }
                                                                                                                                                                        str3 = str2;
                                                                                                                                                                        z6 = z5;
                                                                                                                                                                        z7 = true;
                                                                                                                                                                        if (z6) {
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                } else {
                                                                                                                                                                    i33 = i50;
                                                                                                                                                                    i28 = i49;
                                                                                                                                                                    try {
                                                                                                                                                                        mediaCodecVideoConvertor2.extractor.seekTo(0L, 0);
                                                                                                                                                                    } catch (Exception e42) {
                                                                                                                                                                        e = e42;
                                                                                                                                                                        mediaCodec6 = mediaCodec7;
                                                                                                                                                                        i74 = i29;
                                                                                                                                                                        z9 = z4;
                                                                                                                                                                        i17 = i46;
                                                                                                                                                                        exc = e;
                                                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                                                        }
                                                                                                                                                                        z5 = false;
                                                                                                                                                                        StringBuilder sb52222222222222222222 = new StringBuilder();
                                                                                                                                                                        sb52222222222222222222.append("bitrate: ");
                                                                                                                                                                        sb52222222222222222222.append(i74);
                                                                                                                                                                        sb52222222222222222222.append(" framerate: ");
                                                                                                                                                                        sb52222222222222222222.append(i3);
                                                                                                                                                                        sb52222222222222222222.append(" size: ");
                                                                                                                                                                        i9 = i15;
                                                                                                                                                                        sb52222222222222222222.append(i9);
                                                                                                                                                                        str = "x";
                                                                                                                                                                        sb52222222222222222222.append(str);
                                                                                                                                                                        i8 = i16;
                                                                                                                                                                        sb52222222222222222222.append(i8);
                                                                                                                                                                        FileLog.e(sb52222222222222222222.toString());
                                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                                                                                        i18 = i17;
                                                                                                                                                                        z4 = z9;
                                                                                                                                                                        mediaCodec7 = mediaCodec6;
                                                                                                                                                                        z7 = true;
                                                                                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                                                                        }
                                                                                                                                                                        mediaCodec3 = mediaCodec7;
                                                                                                                                                                        i10 = i18;
                                                                                                                                                                        outputSurface = outputSurface3;
                                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                                        }
                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                        }
                                                                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                                                                        }
                                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                                        }
                                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                                        mediaCodec5 = mediaCodec3;
                                                                                                                                                                        i5 = i9;
                                                                                                                                                                        outputSurface2 = outputSurface;
                                                                                                                                                                        i11 = i10;
                                                                                                                                                                        z6 = z5;
                                                                                                                                                                        i71 = i8;
                                                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                                        }
                                                                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                                                                        }
                                                                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                                                                        }
                                                                                                                                                                        if (mediaCodec5 != null) {
                                                                                                                                                                        }
                                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                                        }
                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                        }
                                                                                                                                                                        str3 = str2;
                                                                                                                                                                        i72 = i5;
                                                                                                                                                                        if (z6) {
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                }
                                                                                                                                                                j35 = j16 + j10;
                                                                                                                                                                bufferInfo4.flags &= -5;
                                                                                                                                                                mediaCodec7.flush();
                                                                                                                                                                j29 = j9;
                                                                                                                                                                j9 = -1;
                                                                                                                                                                z28 = true;
                                                                                                                                                                z27 = false;
                                                                                                                                                                z26 = false;
                                                                                                                                                                z19 = false;
                                                                                                                                                                if (j32 > 0) {
                                                                                                                                                                    z29 = z28;
                                                                                                                                                                    if (bufferInfo4.presentationTimeUs - j32 < j4 && (bufferInfo4.flags & 4) == 0) {
                                                                                                                                                                        j18 = 0;
                                                                                                                                                                        z26 = false;
                                                                                                                                                                        if (j9 < j18) {
                                                                                                                                                                            z18 = z27;
                                                                                                                                                                            j19 = j9;
                                                                                                                                                                        } else {
                                                                                                                                                                            z18 = z27;
                                                                                                                                                                            j19 = j17;
                                                                                                                                                                        }
                                                                                                                                                                        if (j19 > j18 && j33 == -1) {
                                                                                                                                                                            if (j40 >= j19) {
                                                                                                                                                                                try {
                                                                                                                                                                                    if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                                                        FileLog.d("drop frame startTime = " + j19 + " present time = " + bufferInfo4.presentationTimeUs);
                                                                                                                                                                                    }
                                                                                                                                                                                    z30 = false;
                                                                                                                                                                                    if (z29) {
                                                                                                                                                                                        j33 = -1;
                                                                                                                                                                                    } else {
                                                                                                                                                                                        if (j9 == -1 && j35 != 0) {
                                                                                                                                                                                            bufferInfo4.presentationTimeUs += j35;
                                                                                                                                                                                        }
                                                                                                                                                                                        mediaCodec7.releaseOutputBuffer(dequeueOutputBuffer3, z30);
                                                                                                                                                                                    }
                                                                                                                                                                                    if (z30) {
                                                                                                                                                                                        try {
                                                                                                                                                                                            long j41 = bufferInfo4.presentationTimeUs;
                                                                                                                                                                                            j20 = j16;
                                                                                                                                                                                            if (j9 >= 0) {
                                                                                                                                                                                                j20 = Math.max(j20, j41);
                                                                                                                                                                                            }
                                                                                                                                                                                            try {
                                                                                                                                                                                                outputSurface3.awaitNewImage();
                                                                                                                                                                                                z31 = false;
                                                                                                                                                                                            } catch (Exception e43) {
                                                                                                                                                                                                FileLog.e(e43);
                                                                                                                                                                                                z31 = true;
                                                                                                                                                                                            }
                                                                                                                                                                                            if (z31) {
                                                                                                                                                                                                outputSurface4 = outputSurface3;
                                                                                                                                                                                                inputSurface3 = inputSurface;
                                                                                                                                                                                            } else {
                                                                                                                                                                                                outputSurface4 = outputSurface3;
                                                                                                                                                                                                try {
                                                                                                                                                                                                    outputSurface4.drawImage(bufferInfo4.presentationTimeUs * 1000);
                                                                                                                                                                                                    inputSurface3 = inputSurface;
                                                                                                                                                                                                    try {
                                                                                                                                                                                                        inputSurface3.setPresentationTime(bufferInfo4.presentationTimeUs * 1000);
                                                                                                                                                                                                        inputSurface3.swapBuffers();
                                                                                                                                                                                                    } catch (Exception e44) {
                                                                                                                                                                                                        e = e44;
                                                                                                                                                                                                        outputSurface3 = outputSurface4;
                                                                                                                                                                                                        mediaCodec6 = mediaCodec7;
                                                                                                                                                                                                        inputSurface = inputSurface3;
                                                                                                                                                                                                        i74 = i29;
                                                                                                                                                                                                        z9 = z4;
                                                                                                                                                                                                        i17 = i46;
                                                                                                                                                                                                        exc = e;
                                                                                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        z5 = false;
                                                                                                                                                                                                        StringBuilder sb522222222222222222222 = new StringBuilder();
                                                                                                                                                                                                        sb522222222222222222222.append("bitrate: ");
                                                                                                                                                                                                        sb522222222222222222222.append(i74);
                                                                                                                                                                                                        sb522222222222222222222.append(" framerate: ");
                                                                                                                                                                                                        sb522222222222222222222.append(i3);
                                                                                                                                                                                                        sb522222222222222222222.append(" size: ");
                                                                                                                                                                                                        i9 = i15;
                                                                                                                                                                                                        sb522222222222222222222.append(i9);
                                                                                                                                                                                                        str = "x";
                                                                                                                                                                                                        sb522222222222222222222.append(str);
                                                                                                                                                                                                        i8 = i16;
                                                                                                                                                                                                        sb522222222222222222222.append(i8);
                                                                                                                                                                                                        FileLog.e(sb522222222222222222222.toString());
                                                                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                                                                                                                        i18 = i17;
                                                                                                                                                                                                        z4 = z9;
                                                                                                                                                                                                        mediaCodec7 = mediaCodec6;
                                                                                                                                                                                                        z7 = true;
                                                                                                                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                        i10 = i18;
                                                                                                                                                                                                        outputSurface = outputSurface3;
                                                                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                                                                        mediaCodec5 = mediaCodec3;
                                                                                                                                                                                                        i5 = i9;
                                                                                                                                                                                                        outputSurface2 = outputSurface;
                                                                                                                                                                                                        i11 = i10;
                                                                                                                                                                                                        z6 = z5;
                                                                                                                                                                                                        i71 = i8;
                                                                                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec5 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        str3 = str2;
                                                                                                                                                                                                        i72 = i5;
                                                                                                                                                                                                        if (z6) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                    } catch (Throwable th57) {
                                                                                                                                                                                                        z2 = z;
                                                                                                                                                                                                        th = th57;
                                                                                                                                                                                                        i4 = i46;
                                                                                                                                                                                                        mediaCodec = mediaCodec7;
                                                                                                                                                                                                        inputSurface = inputSurface3;
                                                                                                                                                                                                        i71 = i16;
                                                                                                                                                                                                        str = "x";
                                                                                                                                                                                                        i72 = i15;
                                                                                                                                                                                                        z5 = false;
                                                                                                                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                                                                                                                        outputSurface = outputSurface4;
                                                                                                                                                                                                        i74 = i29;
                                                                                                                                                                                                        FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                                                                                                                        FileLog.e(th);
                                                                                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                        if (mP4Builder != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        str3 = str2;
                                                                                                                                                                                                        z6 = z5;
                                                                                                                                                                                                        z7 = true;
                                                                                                                                                                                                        if (z6) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                    }
                                                                                                                                                                                                } catch (Exception e45) {
                                                                                                                                                                                                    e = e45;
                                                                                                                                                                                                    outputSurface3 = outputSurface4;
                                                                                                                                                                                                    mediaCodec6 = mediaCodec7;
                                                                                                                                                                                                    i74 = i29;
                                                                                                                                                                                                    z9 = z4;
                                                                                                                                                                                                    i17 = i46;
                                                                                                                                                                                                    exc = e;
                                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    z5 = false;
                                                                                                                                                                                                    StringBuilder sb5222222222222222222222 = new StringBuilder();
                                                                                                                                                                                                    sb5222222222222222222222.append("bitrate: ");
                                                                                                                                                                                                    sb5222222222222222222222.append(i74);
                                                                                                                                                                                                    sb5222222222222222222222.append(" framerate: ");
                                                                                                                                                                                                    sb5222222222222222222222.append(i3);
                                                                                                                                                                                                    sb5222222222222222222222.append(" size: ");
                                                                                                                                                                                                    i9 = i15;
                                                                                                                                                                                                    sb5222222222222222222222.append(i9);
                                                                                                                                                                                                    str = "x";
                                                                                                                                                                                                    sb5222222222222222222222.append(str);
                                                                                                                                                                                                    i8 = i16;
                                                                                                                                                                                                    sb5222222222222222222222.append(i8);
                                                                                                                                                                                                    FileLog.e(sb5222222222222222222222.toString());
                                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                                                                                                    i18 = i17;
                                                                                                                                                                                                    z4 = z9;
                                                                                                                                                                                                    mediaCodec7 = mediaCodec6;
                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                    i10 = i18;
                                                                                                                                                                                                    outputSurface = outputSurface3;
                                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                                    mediaCodec5 = mediaCodec3;
                                                                                                                                                                                                    i5 = i9;
                                                                                                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                                                                                                    i11 = i10;
                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                    i71 = i8;
                                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec5 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                    i72 = i5;
                                                                                                                                                                                                    if (z6) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                } catch (Throwable th58) {
                                                                                                                                                                                                    th = th58;
                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                    th = th;
                                                                                                                                                                                                    i4 = i46;
                                                                                                                                                                                                    mediaCodec = mediaCodec7;
                                                                                                                                                                                                    i71 = i16;
                                                                                                                                                                                                    str = "x";
                                                                                                                                                                                                    i72 = i15;
                                                                                                                                                                                                    z5 = false;
                                                                                                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                                                                                                    outputSurface = outputSurface4;
                                                                                                                                                                                                    i74 = i29;
                                                                                                                                                                                                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                    if (z6) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                }
                                                                                                                                                                                            }
                                                                                                                                                                                            j32 = j41;
                                                                                                                                                                                        } catch (Exception e46) {
                                                                                                                                                                                            e = e46;
                                                                                                                                                                                            mediaCodec6 = mediaCodec7;
                                                                                                                                                                                            i74 = i29;
                                                                                                                                                                                            z9 = z4;
                                                                                                                                                                                            i17 = i46;
                                                                                                                                                                                            exc = e;
                                                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                                                            }
                                                                                                                                                                                            z5 = false;
                                                                                                                                                                                            StringBuilder sb52222222222222222222222 = new StringBuilder();
                                                                                                                                                                                            sb52222222222222222222222.append("bitrate: ");
                                                                                                                                                                                            sb52222222222222222222222.append(i74);
                                                                                                                                                                                            sb52222222222222222222222.append(" framerate: ");
                                                                                                                                                                                            sb52222222222222222222222.append(i3);
                                                                                                                                                                                            sb52222222222222222222222.append(" size: ");
                                                                                                                                                                                            i9 = i15;
                                                                                                                                                                                            sb52222222222222222222222.append(i9);
                                                                                                                                                                                            str = "x";
                                                                                                                                                                                            sb52222222222222222222222.append(str);
                                                                                                                                                                                            i8 = i16;
                                                                                                                                                                                            sb52222222222222222222222.append(i8);
                                                                                                                                                                                            FileLog.e(sb52222222222222222222222.toString());
                                                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                                                                                                            i18 = i17;
                                                                                                                                                                                            z4 = z9;
                                                                                                                                                                                            mediaCodec7 = mediaCodec6;
                                                                                                                                                                                            z7 = true;
                                                                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                                                                                                            i10 = i18;
                                                                                                                                                                                            outputSurface = outputSurface3;
                                                                                                                                                                                            if (outputSurface != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                                                            mediaCodec5 = mediaCodec3;
                                                                                                                                                                                            i5 = i9;
                                                                                                                                                                                            outputSurface2 = outputSurface;
                                                                                                                                                                                            i11 = i10;
                                                                                                                                                                                            z6 = z5;
                                                                                                                                                                                            i71 = i8;
                                                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (mediaCodec5 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                            i72 = i5;
                                                                                                                                                                                            if (z6) {
                                                                                                                                                                                            }
                                                                                                                                                                                        } catch (Throwable th59) {
                                                                                                                                                                                            th = th59;
                                                                                                                                                                                            outputSurface4 = outputSurface3;
                                                                                                                                                                                        }
                                                                                                                                                                                    } else {
                                                                                                                                                                                        outputSurface4 = outputSurface3;
                                                                                                                                                                                        j20 = j16;
                                                                                                                                                                                        inputSurface3 = inputSurface;
                                                                                                                                                                                    }
                                                                                                                                                                                    if ((bufferInfo4.flags & 4) != 0) {
                                                                                                                                                                                        if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                                                            FileLog.d("decoder stream end");
                                                                                                                                                                                        }
                                                                                                                                                                                        mediaCodec2.signalEndOfInputStream();
                                                                                                                                                                                        z21 = false;
                                                                                                                                                                                    }
                                                                                                                                                                                    z21 = z54;
                                                                                                                                                                                } catch (Throwable th60) {
                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                    th = th60;
                                                                                                                                                                                    i4 = i46;
                                                                                                                                                                                    mediaCodec = mediaCodec7;
                                                                                                                                                                                    outputSurface = outputSurface3;
                                                                                                                                                                                    i71 = i16;
                                                                                                                                                                                    i74 = i29;
                                                                                                                                                                                    str = "x";
                                                                                                                                                                                    i72 = i15;
                                                                                                                                                                                    z5 = false;
                                                                                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                                                                                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                    if (z6) {
                                                                                                                                                                                    }
                                                                                                                                                                                }
                                                                                                                                                                            } else {
                                                                                                                                                                                long j42 = bufferInfo4.presentationTimeUs;
                                                                                                                                                                                if (j16 != -2147483648L) {
                                                                                                                                                                                    j35 -= j42;
                                                                                                                                                                                }
                                                                                                                                                                                j33 = j42;
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                        z30 = z26;
                                                                                                                                                                        if (z29) {
                                                                                                                                                                        }
                                                                                                                                                                        if (z30) {
                                                                                                                                                                        }
                                                                                                                                                                        if ((bufferInfo4.flags & 4) != 0) {
                                                                                                                                                                        }
                                                                                                                                                                        z21 = z54;
                                                                                                                                                                    }
                                                                                                                                                                } else {
                                                                                                                                                                    z29 = z28;
                                                                                                                                                                }
                                                                                                                                                                j18 = 0;
                                                                                                                                                                if (j9 < j18) {
                                                                                                                                                                }
                                                                                                                                                                if (j19 > j18) {
                                                                                                                                                                    if (j40 >= j19) {
                                                                                                                                                                    }
                                                                                                                                                                }
                                                                                                                                                                z30 = z26;
                                                                                                                                                                if (z29) {
                                                                                                                                                                }
                                                                                                                                                                if (z30) {
                                                                                                                                                                }
                                                                                                                                                                if ((bufferInfo4.flags & 4) != 0) {
                                                                                                                                                                }
                                                                                                                                                                z21 = z54;
                                                                                                                                                            } else {
                                                                                                                                                                i33 = i50;
                                                                                                                                                                i28 = i49;
                                                                                                                                                                z28 = false;
                                                                                                                                                                if (j32 > 0) {
                                                                                                                                                                }
                                                                                                                                                                j18 = 0;
                                                                                                                                                                if (j9 < j18) {
                                                                                                                                                                }
                                                                                                                                                                if (j19 > j18) {
                                                                                                                                                                }
                                                                                                                                                                z30 = z26;
                                                                                                                                                                if (z29) {
                                                                                                                                                                }
                                                                                                                                                                if (z30) {
                                                                                                                                                                }
                                                                                                                                                                if ((bufferInfo4.flags & 4) != 0) {
                                                                                                                                                                }
                                                                                                                                                                z21 = z54;
                                                                                                                                                            }
                                                                                                                                                        } catch (Exception e47) {
                                                                                                                                                            e = e47;
                                                                                                                                                        }
                                                                                                                                                    } catch (Throwable th61) {
                                                                                                                                                        th = th61;
                                                                                                                                                        z2 = z;
                                                                                                                                                        th = th;
                                                                                                                                                        i4 = i46;
                                                                                                                                                        mediaCodec = mediaCodec7;
                                                                                                                                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                                                                                        outputSurface = outputSurface3;
                                                                                                                                                        i71 = i16;
                                                                                                                                                        i74 = i29;
                                                                                                                                                        str = "x";
                                                                                                                                                        i72 = i15;
                                                                                                                                                        z5 = false;
                                                                                                                                                        FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                                                                        FileLog.e(th);
                                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                                        }
                                                                                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                        if (mP4Builder != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                        }
                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                        }
                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                        }
                                                                                                                                                        str3 = str2;
                                                                                                                                                        z6 = z5;
                                                                                                                                                        z7 = true;
                                                                                                                                                        if (z6) {
                                                                                                                                                        }
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                            } catch (Exception e48) {
                                                                                                                                                e = e48;
                                                                                                                                                i3 = i31;
                                                                                                                                            } catch (Throwable th62) {
                                                                                                                                                th = th62;
                                                                                                                                                i3 = i31;
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                        byteBufferArr3 = outputBuffers;
                                                                                                                                        i33 = i50;
                                                                                                                                        i28 = i49;
                                                                                                                                        i3 = i31;
                                                                                                                                        z28 = false;
                                                                                                                                        if (j32 > 0) {
                                                                                                                                        }
                                                                                                                                        j18 = 0;
                                                                                                                                        if (j9 < j18) {
                                                                                                                                        }
                                                                                                                                        if (j19 > j18) {
                                                                                                                                        }
                                                                                                                                        z30 = z26;
                                                                                                                                        if (z29) {
                                                                                                                                        }
                                                                                                                                        if (z30) {
                                                                                                                                        }
                                                                                                                                        if ((bufferInfo4.flags & 4) != 0) {
                                                                                                                                        }
                                                                                                                                        z21 = z54;
                                                                                                                                    }
                                                                                                                                }
                                                                                                                                str6 = str11;
                                                                                                                                i31 = i3;
                                                                                                                                inputSurface = inputSurface3;
                                                                                                                                z53 = z22;
                                                                                                                                i45 = i48;
                                                                                                                                j12 = j17;
                                                                                                                                outputSurface5 = outputSurface4;
                                                                                                                                j14 = j20;
                                                                                                                                z15 = z23;
                                                                                                                                outputBuffers = byteBufferArr3;
                                                                                                                                mediaCodecVideoConvertor2 = this;
                                                                                                                            } catch (Exception e49) {
                                                                                                                                e = e49;
                                                                                                                                i3 = i31;
                                                                                                                            } catch (Throwable th63) {
                                                                                                                                th = th63;
                                                                                                                                outputSurface4 = outputSurface3;
                                                                                                                                i3 = i31;
                                                                                                                                z2 = z;
                                                                                                                                th = th;
                                                                                                                                i4 = i46;
                                                                                                                                mediaCodec = mediaCodec7;
                                                                                                                                i71 = i16;
                                                                                                                                str = "x";
                                                                                                                                i72 = i15;
                                                                                                                                z5 = false;
                                                                                                                                mediaCodecVideoConvertor = this;
                                                                                                                                outputSurface = outputSurface4;
                                                                                                                                i74 = i29;
                                                                                                                                FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                                                FileLog.e(th);
                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                }
                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                if (mP4Builder != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec != null) {
                                                                                                                                }
                                                                                                                                if (outputSurface != null) {
                                                                                                                                }
                                                                                                                                if (inputSurface != null) {
                                                                                                                                }
                                                                                                                                str3 = str2;
                                                                                                                                z6 = z5;
                                                                                                                                z7 = true;
                                                                                                                                if (z6) {
                                                                                                                                }
                                                                                                                            }
                                                                                                                        }
                                                                                                                        byteBufferArr3 = outputBuffers;
                                                                                                                        i33 = i50;
                                                                                                                        i28 = i49;
                                                                                                                        outputSurface4 = outputSurface3;
                                                                                                                        j20 = j16;
                                                                                                                        i3 = i31;
                                                                                                                        inputSurface3 = inputSurface;
                                                                                                                        z21 = z54;
                                                                                                                        str6 = str11;
                                                                                                                        i31 = i3;
                                                                                                                        inputSurface = inputSurface3;
                                                                                                                        z53 = z22;
                                                                                                                        i45 = i48;
                                                                                                                        j12 = j17;
                                                                                                                        outputSurface5 = outputSurface4;
                                                                                                                        j14 = j20;
                                                                                                                        z15 = z23;
                                                                                                                        outputBuffers = byteBufferArr3;
                                                                                                                        mediaCodecVideoConvertor2 = this;
                                                                                                                    }
                                                                                                                    int i95 = i47;
                                                                                                                    mediaCodec10 = mediaCodec2;
                                                                                                                    i42 = i95;
                                                                                                                } catch (Exception e50) {
                                                                                                                    e = e50;
                                                                                                                    outputSurface4 = outputSurface5;
                                                                                                                    i3 = i31;
                                                                                                                    outputSurface3 = outputSurface4;
                                                                                                                    mediaCodec6 = mediaCodec7;
                                                                                                                    i74 = i29;
                                                                                                                    z9 = z4;
                                                                                                                    i17 = i46;
                                                                                                                    exc = e;
                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                    }
                                                                                                                    z5 = false;
                                                                                                                    StringBuilder sb522222222222222222222222 = new StringBuilder();
                                                                                                                    sb522222222222222222222222.append("bitrate: ");
                                                                                                                    sb522222222222222222222222.append(i74);
                                                                                                                    sb522222222222222222222222.append(" framerate: ");
                                                                                                                    sb522222222222222222222222.append(i3);
                                                                                                                    sb522222222222222222222222.append(" size: ");
                                                                                                                    i9 = i15;
                                                                                                                    sb522222222222222222222222.append(i9);
                                                                                                                    str = "x";
                                                                                                                    sb522222222222222222222222.append(str);
                                                                                                                    i8 = i16;
                                                                                                                    sb522222222222222222222222.append(i8);
                                                                                                                    FileLog.e(sb522222222222222222222222.toString());
                                                                                                                    FileLog.e(exc);
                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                    i18 = i17;
                                                                                                                    z4 = z9;
                                                                                                                    mediaCodec7 = mediaCodec6;
                                                                                                                    z7 = true;
                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                    }
                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                    i10 = i18;
                                                                                                                    outputSurface = outputSurface3;
                                                                                                                    if (outputSurface != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                    }
                                                                                                                    if (audioRecoder != null) {
                                                                                                                    }
                                                                                                                    checkConversionCanceled();
                                                                                                                    mediaCodec5 = mediaCodec3;
                                                                                                                    i5 = i9;
                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                    i11 = i10;
                                                                                                                    z6 = z5;
                                                                                                                    i71 = i8;
                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                    }
                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec5 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    str3 = str2;
                                                                                                                    i72 = i5;
                                                                                                                    if (z6) {
                                                                                                                    }
                                                                                                                } catch (Throwable th64) {
                                                                                                                    th = th64;
                                                                                                                    outputSurface4 = outputSurface5;
                                                                                                                }
                                                                                                            } catch (Exception e51) {
                                                                                                                e = e51;
                                                                                                                outputSurface4 = outputSurface5;
                                                                                                                mediaCodec2 = mediaCodec10;
                                                                                                            } catch (Throwable th65) {
                                                                                                                th = th65;
                                                                                                                outputSurface4 = outputSurface5;
                                                                                                                mediaCodec2 = mediaCodec10;
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                } catch (Exception e52) {
                                                                                                    audioRecoder = audioRecoder2;
                                                                                                    OutputSurface outputSurface9 = outputSurface5;
                                                                                                    mediaCodec2 = mediaCodec9;
                                                                                                    i3 = i31;
                                                                                                    exc = e52;
                                                                                                    outputSurface3 = outputSurface9;
                                                                                                    mediaCodec6 = mediaCodec7;
                                                                                                    i74 = i29;
                                                                                                    i17 = i18;
                                                                                                    z9 = z4;
                                                                                                } catch (Throwable th66) {
                                                                                                    outputSurface4 = outputSurface5;
                                                                                                    mediaCodec2 = mediaCodec9;
                                                                                                    i3 = i31;
                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                    z2 = z;
                                                                                                    th = th66;
                                                                                                    mediaCodec = mediaCodec7;
                                                                                                    i71 = i16;
                                                                                                    str = "x";
                                                                                                    i4 = i18;
                                                                                                    i72 = i15;
                                                                                                    z5 = false;
                                                                                                    outputSurface = outputSurface4;
                                                                                                    i74 = i29;
                                                                                                    FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                                    FileLog.e(th);
                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                    if (mediaExtractor != null) {
                                                                                                    }
                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                    if (mP4Builder != null) {
                                                                                                    }
                                                                                                    if (mediaCodec2 != null) {
                                                                                                    }
                                                                                                    if (mediaCodec != null) {
                                                                                                    }
                                                                                                    if (outputSurface != null) {
                                                                                                    }
                                                                                                    if (inputSurface != null) {
                                                                                                    }
                                                                                                    str3 = str2;
                                                                                                    z6 = z5;
                                                                                                    z7 = true;
                                                                                                    if (z6) {
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            i32 = i42;
                                                                                            j13 = j14;
                                                                                            z16 = z52;
                                                                                            inputBuffers = byteBufferArr2;
                                                                                            i40 = i45;
                                                                                            audioRecoder2 = audioRecoder;
                                                                                            MediaCodec.BufferInfo bufferInfo5 = bufferInfo4;
                                                                                            i18 = i46;
                                                                                            i35 = i43;
                                                                                            bufferInfo3 = bufferInfo5;
                                                                                            mediaCodec9 = mediaCodec10;
                                                                                        }
                                                                                        z2 = z;
                                                                                        audioRecoder = audioRecoder2;
                                                                                        outputSurface3 = outputSurface5;
                                                                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                        i8 = i16;
                                                                                        i74 = i29;
                                                                                        str = "x";
                                                                                        i9 = i15;
                                                                                        i3 = i31;
                                                                                        z7 = false;
                                                                                        z5 = false;
                                                                                        mediaCodec4 = mediaCodec9;
                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                        if (mediaCodec7 != null) {
                                                                                            mediaCodec7.stop();
                                                                                            mediaCodec7.release();
                                                                                        }
                                                                                        mediaCodec3 = mediaCodec7;
                                                                                        i10 = i18;
                                                                                        outputSurface = outputSurface3;
                                                                                    }
                                                                                }
                                                                            }
                                                                            arrayList = mediaCodec8;
                                                                            outputSurface5 = outputSurface4;
                                                                            inputSurface = inputSurface2;
                                                                            i32 = i7;
                                                                            str2 = name;
                                                                            j8 = j25;
                                                                            obj2 = obj;
                                                                            i33 = i30;
                                                                            z11 = z41;
                                                                            j9 = j6;
                                                                            j10 = j3;
                                                                            bufferInfo2 = bufferInfo;
                                                                            j11 = j7;
                                                                            mediaFormat = trackFormat;
                                                                            arrayList2 = arrayList;
                                                                            if (!z44) {
                                                                                try {
                                                                                } catch (Exception e53) {
                                                                                    e = e53;
                                                                                    i15 = i15;
                                                                                    exc = e;
                                                                                    outputSurface3 = outputSurface5;
                                                                                    mediaCodec2 = arrayList;
                                                                                    i74 = i29;
                                                                                    z9 = z4;
                                                                                    i3 = i31;
                                                                                    i17 = -5;
                                                                                    mediaCodec6 = null;
                                                                                    audioRecoder = null;
                                                                                    if (exc instanceof IllegalStateException) {
                                                                                    }
                                                                                    z5 = false;
                                                                                    StringBuilder sb5222222222222222222222222 = new StringBuilder();
                                                                                    sb5222222222222222222222222.append("bitrate: ");
                                                                                    sb5222222222222222222222222.append(i74);
                                                                                    sb5222222222222222222222222.append(" framerate: ");
                                                                                    sb5222222222222222222222222.append(i3);
                                                                                    sb5222222222222222222222222.append(" size: ");
                                                                                    i9 = i15;
                                                                                    sb5222222222222222222222222.append(i9);
                                                                                    str = "x";
                                                                                    sb5222222222222222222222222.append(str);
                                                                                    i8 = i16;
                                                                                    sb5222222222222222222222222.append(i8);
                                                                                    FileLog.e(sb5222222222222222222222222.toString());
                                                                                    FileLog.e(exc);
                                                                                    mediaCodecVideoConvertor = this;
                                                                                    i18 = i17;
                                                                                    z4 = z9;
                                                                                    mediaCodec7 = mediaCodec6;
                                                                                    z7 = true;
                                                                                    mediaCodec4 = mediaCodec2;
                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                    if (mediaCodec7 != null) {
                                                                                    }
                                                                                    mediaCodec3 = mediaCodec7;
                                                                                    i10 = i18;
                                                                                    outputSurface = outputSurface3;
                                                                                    if (outputSurface != null) {
                                                                                    }
                                                                                    if (inputSurface != null) {
                                                                                    }
                                                                                    if (mediaCodec4 != null) {
                                                                                    }
                                                                                    if (audioRecoder != null) {
                                                                                    }
                                                                                    checkConversionCanceled();
                                                                                    mediaCodec5 = mediaCodec3;
                                                                                    i5 = i9;
                                                                                    outputSurface2 = outputSurface;
                                                                                    i11 = i10;
                                                                                    z6 = z5;
                                                                                    i71 = i8;
                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                    if (mediaExtractor2 != null) {
                                                                                    }
                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                    if (mP4Builder2 != null) {
                                                                                    }
                                                                                    if (mediaCodec4 != null) {
                                                                                    }
                                                                                    if (mediaCodec5 != null) {
                                                                                    }
                                                                                    if (outputSurface2 != null) {
                                                                                    }
                                                                                    if (inputSurface != null) {
                                                                                    }
                                                                                    str3 = str2;
                                                                                    i72 = i5;
                                                                                    if (z6) {
                                                                                    }
                                                                                } catch (Throwable th67) {
                                                                                    th = th67;
                                                                                    i15 = i15;
                                                                                }
                                                                                if (Math.max(i15, i15) / Math.max(i70, i69) < 0.9f) {
                                                                                    i15 = i15;
                                                                                    bufferInfo3 = bufferInfo2;
                                                                                    z12 = true;
                                                                                    try {
                                                                                        String createFragmentShader = createFragmentShader(i69, i70, i16, i15, true, z46 ? 0 : 3);
                                                                                        int i96 = z46 ? 0 : 3;
                                                                                        i34 = 0;
                                                                                        outputSurface5.changeFragmentShader(createFragmentShader, createFragmentShader(i69, i70, i16, i15, false, i96), false);
                                                                                        r19 = arrayList;
                                                                                        mediaCodec7 = mediaCodecVideoConvertor2.getDecoderByFormat(mediaFormat);
                                                                                        mediaCodec7.configure(mediaFormat, outputSurface5.getSurface(), (MediaCrypto) null, i34);
                                                                                        mediaCodec7.start();
                                                                                        if (i25 >= 21) {
                                                                                        }
                                                                                        ?? mP4Builder42 = new MP4Builder();
                                                                                        ?? equals2 = mediaCodecVideoConvertor2.outputMimeType.equals(obj2);
                                                                                        mediaCodecVideoConvertor2.mediaMuxer = mP4Builder42.createMovie(mp4Movie2, z11, equals2);
                                                                                        if (i32 < 0) {
                                                                                        }
                                                                                        if (audioRecoder2 != null) {
                                                                                        }
                                                                                        checkConversionCanceled();
                                                                                        ByteBuffer byteBuffer82 = byteBuffer;
                                                                                        j13 = -2147483648L;
                                                                                        long j322 = -1;
                                                                                        long j332 = -1;
                                                                                        long j342 = 0;
                                                                                        long j352 = 0;
                                                                                        z17 = false;
                                                                                        z18 = false;
                                                                                        z19 = false;
                                                                                        int i882 = 0;
                                                                                        boolean z512 = true;
                                                                                        i40 = i37;
                                                                                        i18 = -5;
                                                                                        mediaCodec9 = r19;
                                                                                        while (true) {
                                                                                            if (z17) {
                                                                                            }
                                                                                            checkConversionCanceled();
                                                                                            if (audioRecoder2 != null) {
                                                                                            }
                                                                                            boolean z522 = z16;
                                                                                            if (z18) {
                                                                                            }
                                                                                            z21 = !z19;
                                                                                            i45 = i40;
                                                                                            j14 = j13;
                                                                                            outputBuffers = byteBufferArr;
                                                                                            i46 = i41;
                                                                                            boolean z532 = true;
                                                                                            mediaCodec10 = mediaCodec9;
                                                                                            while (true) {
                                                                                                if (!z21) {
                                                                                                }
                                                                                                checkConversionCanceled();
                                                                                                boolean z542 = z21;
                                                                                                if (z) {
                                                                                                }
                                                                                                dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo4, j15);
                                                                                                if (dequeueOutputBuffer != -1) {
                                                                                                }
                                                                                                if (dequeueOutputBuffer == i51) {
                                                                                                }
                                                                                                int i952 = i47;
                                                                                                mediaCodec10 = mediaCodec2;
                                                                                                i42 = i952;
                                                                                            }
                                                                                            i32 = i42;
                                                                                            j13 = j14;
                                                                                            z16 = z522;
                                                                                            inputBuffers = byteBufferArr2;
                                                                                            i40 = i45;
                                                                                            audioRecoder2 = audioRecoder;
                                                                                            MediaCodec.BufferInfo bufferInfo52 = bufferInfo4;
                                                                                            i18 = i46;
                                                                                            i35 = i43;
                                                                                            bufferInfo3 = bufferInfo52;
                                                                                            mediaCodec9 = mediaCodec10;
                                                                                        }
                                                                                        z2 = z;
                                                                                        audioRecoder = audioRecoder2;
                                                                                        outputSurface3 = outputSurface5;
                                                                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                        i8 = i16;
                                                                                        i74 = i29;
                                                                                        str = "x";
                                                                                        i9 = i15;
                                                                                        i3 = i31;
                                                                                        z7 = false;
                                                                                        z5 = false;
                                                                                        mediaCodec4 = mediaCodec9;
                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                        if (mediaCodec7 != null) {
                                                                                        }
                                                                                        mediaCodec3 = mediaCodec7;
                                                                                        i10 = i18;
                                                                                        outputSurface = outputSurface3;
                                                                                    } catch (Throwable th68) {
                                                                                        th = th68;
                                                                                        z2 = z;
                                                                                        th = th;
                                                                                        outputSurface = outputSurface5;
                                                                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                                        mediaCodec2 = arrayList;
                                                                                        i71 = i16;
                                                                                        i74 = i29;
                                                                                        str = "x";
                                                                                        i72 = i15;
                                                                                        i3 = i31;
                                                                                        i4 = -5;
                                                                                        mediaCodec = null;
                                                                                        z5 = false;
                                                                                        FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                                                                        FileLog.e(th);
                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                        if (mediaExtractor != null) {
                                                                                        }
                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                        if (mP4Builder != null) {
                                                                                        }
                                                                                        if (mediaCodec2 != null) {
                                                                                        }
                                                                                        if (mediaCodec != null) {
                                                                                        }
                                                                                        if (outputSurface != null) {
                                                                                        }
                                                                                        if (inputSurface != null) {
                                                                                        }
                                                                                        str3 = str2;
                                                                                        z6 = z5;
                                                                                        z7 = true;
                                                                                        if (z6) {
                                                                                        }
                                                                                    }
                                                                                } else {
                                                                                    i15 = i15;
                                                                                    arrayList2 = arrayList;
                                                                                }
                                                                            }
                                                                            bufferInfo3 = bufferInfo2;
                                                                            i34 = 0;
                                                                            z12 = true;
                                                                            r19 = arrayList2;
                                                                            mediaCodec7 = mediaCodecVideoConvertor2.getDecoderByFormat(mediaFormat);
                                                                            mediaCodec7.configure(mediaFormat, outputSurface5.getSurface(), (MediaCrypto) null, i34);
                                                                            mediaCodec7.start();
                                                                            if (i25 >= 21) {
                                                                            }
                                                                            ?? mP4Builder422 = new MP4Builder();
                                                                            ?? equals22 = mediaCodecVideoConvertor2.outputMimeType.equals(obj2);
                                                                            mediaCodecVideoConvertor2.mediaMuxer = mP4Builder422.createMovie(mp4Movie2, z11, equals22);
                                                                            if (i32 < 0) {
                                                                            }
                                                                            if (audioRecoder2 != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            ByteBuffer byteBuffer822 = byteBuffer;
                                                                            j13 = -2147483648L;
                                                                            long j3222 = -1;
                                                                            long j3322 = -1;
                                                                            long j3422 = 0;
                                                                            long j3522 = 0;
                                                                            z17 = false;
                                                                            z18 = false;
                                                                            z19 = false;
                                                                            int i8822 = 0;
                                                                            boolean z5122 = true;
                                                                            i40 = i37;
                                                                            i18 = -5;
                                                                            mediaCodec9 = r19;
                                                                            while (true) {
                                                                                if (z17) {
                                                                                }
                                                                                checkConversionCanceled();
                                                                                if (audioRecoder2 != null) {
                                                                                }
                                                                                boolean z5222 = z16;
                                                                                if (z18) {
                                                                                }
                                                                                z21 = !z19;
                                                                                i45 = i40;
                                                                                j14 = j13;
                                                                                outputBuffers = byteBufferArr;
                                                                                i46 = i41;
                                                                                boolean z5322 = true;
                                                                                mediaCodec10 = mediaCodec9;
                                                                                while (true) {
                                                                                    if (!z21) {
                                                                                    }
                                                                                    checkConversionCanceled();
                                                                                    boolean z5422 = z21;
                                                                                    if (z) {
                                                                                    }
                                                                                    dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo4, j15);
                                                                                    if (dequeueOutputBuffer != -1) {
                                                                                    }
                                                                                    if (dequeueOutputBuffer == i51) {
                                                                                    }
                                                                                    int i9522 = i47;
                                                                                    mediaCodec10 = mediaCodec2;
                                                                                    i42 = i9522;
                                                                                }
                                                                                i32 = i42;
                                                                                j13 = j14;
                                                                                z16 = z5222;
                                                                                inputBuffers = byteBufferArr2;
                                                                                i40 = i45;
                                                                                audioRecoder2 = audioRecoder;
                                                                                MediaCodec.BufferInfo bufferInfo522 = bufferInfo4;
                                                                                i18 = i46;
                                                                                i35 = i43;
                                                                                bufferInfo3 = bufferInfo522;
                                                                                mediaCodec9 = mediaCodec10;
                                                                            }
                                                                            z2 = z;
                                                                            audioRecoder = audioRecoder2;
                                                                            outputSurface3 = outputSurface5;
                                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                            i8 = i16;
                                                                            i74 = i29;
                                                                            str = "x";
                                                                            i9 = i15;
                                                                            i3 = i31;
                                                                            z7 = false;
                                                                            z5 = false;
                                                                            mediaCodec4 = mediaCodec9;
                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                            if (mediaCodec7 != null) {
                                                                            }
                                                                            mediaCodec3 = mediaCodec7;
                                                                            i10 = i18;
                                                                            outputSurface = outputSurface3;
                                                                        }
                                                                    }
                                                                    outputSurface5 = 3;
                                                                    if (i25 >= 24) {
                                                                        if (hDRInfo.getHDRType() != 0) {
                                                                        }
                                                                    }
                                                                    arrayList = mediaCodec8;
                                                                    outputSurface5 = outputSurface4;
                                                                    inputSurface = inputSurface2;
                                                                    i32 = i7;
                                                                    str2 = name;
                                                                    j8 = j25;
                                                                    obj2 = obj;
                                                                    i33 = i30;
                                                                    z11 = z41;
                                                                    j9 = j6;
                                                                    j10 = j3;
                                                                    bufferInfo2 = bufferInfo;
                                                                    j11 = j7;
                                                                    mediaFormat = trackFormat;
                                                                    arrayList2 = arrayList;
                                                                    if (!z44) {
                                                                    }
                                                                    bufferInfo3 = bufferInfo2;
                                                                    i34 = 0;
                                                                    z12 = true;
                                                                    r19 = arrayList2;
                                                                    mediaCodec7 = mediaCodecVideoConvertor2.getDecoderByFormat(mediaFormat);
                                                                    mediaCodec7.configure(mediaFormat, outputSurface5.getSurface(), (MediaCrypto) null, i34);
                                                                    mediaCodec7.start();
                                                                    if (i25 >= 21) {
                                                                    }
                                                                    ?? mP4Builder4222 = new MP4Builder();
                                                                    ?? equals222 = mediaCodecVideoConvertor2.outputMimeType.equals(obj2);
                                                                    mediaCodecVideoConvertor2.mediaMuxer = mP4Builder4222.createMovie(mp4Movie2, z11, equals222);
                                                                    if (i32 < 0) {
                                                                    }
                                                                    if (audioRecoder2 != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    ByteBuffer byteBuffer8222 = byteBuffer;
                                                                    j13 = -2147483648L;
                                                                    long j32222 = -1;
                                                                    long j33222 = -1;
                                                                    long j34222 = 0;
                                                                    long j35222 = 0;
                                                                    z17 = false;
                                                                    z18 = false;
                                                                    z19 = false;
                                                                    int i88222 = 0;
                                                                    boolean z51222 = true;
                                                                    i40 = i37;
                                                                    i18 = -5;
                                                                    mediaCodec9 = r19;
                                                                    while (true) {
                                                                        if (z17) {
                                                                        }
                                                                        checkConversionCanceled();
                                                                        if (audioRecoder2 != null) {
                                                                        }
                                                                        boolean z52222 = z16;
                                                                        if (z18) {
                                                                        }
                                                                        z21 = !z19;
                                                                        i45 = i40;
                                                                        j14 = j13;
                                                                        outputBuffers = byteBufferArr;
                                                                        i46 = i41;
                                                                        boolean z53222 = true;
                                                                        mediaCodec10 = mediaCodec9;
                                                                        while (true) {
                                                                            if (!z21) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            boolean z54222 = z21;
                                                                            if (z) {
                                                                            }
                                                                            dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo4, j15);
                                                                            if (dequeueOutputBuffer != -1) {
                                                                            }
                                                                            if (dequeueOutputBuffer == i51) {
                                                                            }
                                                                            int i95222 = i47;
                                                                            mediaCodec10 = mediaCodec2;
                                                                            i42 = i95222;
                                                                        }
                                                                        i32 = i42;
                                                                        j13 = j14;
                                                                        z16 = z52222;
                                                                        inputBuffers = byteBufferArr2;
                                                                        i40 = i45;
                                                                        audioRecoder2 = audioRecoder;
                                                                        MediaCodec.BufferInfo bufferInfo5222 = bufferInfo4;
                                                                        i18 = i46;
                                                                        i35 = i43;
                                                                        bufferInfo3 = bufferInfo5222;
                                                                        mediaCodec9 = mediaCodec10;
                                                                    }
                                                                    z2 = z;
                                                                    audioRecoder = audioRecoder2;
                                                                    outputSurface3 = outputSurface5;
                                                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                                    i8 = i16;
                                                                    i74 = i29;
                                                                    str = "x";
                                                                    i9 = i15;
                                                                    i3 = i31;
                                                                    z7 = false;
                                                                    z5 = false;
                                                                    mediaCodec4 = mediaCodec9;
                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                    if (mediaCodec7 != null) {
                                                                    }
                                                                    mediaCodec3 = mediaCodec7;
                                                                    i10 = i18;
                                                                    outputSurface = outputSurface3;
                                                                }
                                                            } else {
                                                                i28 = i24;
                                                            }
                                                            i29 = i21;
                                                            name = mediaCodec8.getName();
                                                            z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                            FileLog.d("selected encoder " + name);
                                                            mediaCodec8.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                            i30 = i23;
                                                            inputSurface2 = new InputSurface(mediaCodec8.createInputSurface());
                                                            inputSurface2.makeCurrent();
                                                            mediaCodec8.start();
                                                            i15 = i5;
                                                            i31 = i73;
                                                            i16 = i71;
                                                            str2 = str17;
                                                            arrayList = arrayList3;
                                                            outputSurface4 = new OutputSurface(savedFilterState, null, str16, str2, arrayList, cropState3, i16, i15, i69, i70, i22, i73, false, num, num2, hDRInfo, convertVideoParams);
                                                            if (hDRInfo == null) {
                                                            }
                                                            outputSurface5 = 3;
                                                            if (i25 >= 24) {
                                                            }
                                                            arrayList = mediaCodec8;
                                                            outputSurface5 = outputSurface4;
                                                            inputSurface = inputSurface2;
                                                            i32 = i7;
                                                            str2 = name;
                                                            j8 = j25;
                                                            obj2 = obj;
                                                            i33 = i30;
                                                            z11 = z41;
                                                            j9 = j6;
                                                            j10 = j3;
                                                            bufferInfo2 = bufferInfo;
                                                            j11 = j7;
                                                            mediaFormat = trackFormat;
                                                            arrayList2 = arrayList;
                                                            if (!z44) {
                                                            }
                                                            bufferInfo3 = bufferInfo2;
                                                            i34 = 0;
                                                            z12 = true;
                                                            r19 = arrayList2;
                                                            mediaCodec7 = mediaCodecVideoConvertor2.getDecoderByFormat(mediaFormat);
                                                            mediaCodec7.configure(mediaFormat, outputSurface5.getSurface(), (MediaCrypto) null, i34);
                                                            mediaCodec7.start();
                                                            if (i25 >= 21) {
                                                            }
                                                            ?? mP4Builder42222 = new MP4Builder();
                                                            ?? equals2222 = mediaCodecVideoConvertor2.outputMimeType.equals(obj2);
                                                            mediaCodecVideoConvertor2.mediaMuxer = mP4Builder42222.createMovie(mp4Movie2, z11, equals2222);
                                                            if (i32 < 0) {
                                                            }
                                                            if (audioRecoder2 != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            ByteBuffer byteBuffer82222 = byteBuffer;
                                                            j13 = -2147483648L;
                                                            long j322222 = -1;
                                                            long j332222 = -1;
                                                            long j342222 = 0;
                                                            long j352222 = 0;
                                                            z17 = false;
                                                            z18 = false;
                                                            z19 = false;
                                                            int i882222 = 0;
                                                            boolean z512222 = true;
                                                            i40 = i37;
                                                            i18 = -5;
                                                            mediaCodec9 = r19;
                                                            while (true) {
                                                                if (z17) {
                                                                }
                                                                checkConversionCanceled();
                                                                if (audioRecoder2 != null) {
                                                                }
                                                                boolean z522222 = z16;
                                                                if (z18) {
                                                                }
                                                                z21 = !z19;
                                                                i45 = i40;
                                                                j14 = j13;
                                                                outputBuffers = byteBufferArr;
                                                                i46 = i41;
                                                                boolean z532222 = true;
                                                                mediaCodec10 = mediaCodec9;
                                                                while (true) {
                                                                    if (!z21) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    boolean z542222 = z21;
                                                                    if (z) {
                                                                    }
                                                                    dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo4, j15);
                                                                    if (dequeueOutputBuffer != -1) {
                                                                    }
                                                                    if (dequeueOutputBuffer == i51) {
                                                                    }
                                                                    int i952222 = i47;
                                                                    mediaCodec10 = mediaCodec2;
                                                                    i42 = i952222;
                                                                }
                                                                i32 = i42;
                                                                j13 = j14;
                                                                z16 = z522222;
                                                                inputBuffers = byteBufferArr2;
                                                                i40 = i45;
                                                                audioRecoder2 = audioRecoder;
                                                                MediaCodec.BufferInfo bufferInfo52222 = bufferInfo4;
                                                                i18 = i46;
                                                                i35 = i43;
                                                                bufferInfo3 = bufferInfo52222;
                                                                mediaCodec9 = mediaCodec10;
                                                            }
                                                            z2 = z;
                                                            audioRecoder = audioRecoder2;
                                                            outputSurface3 = outputSurface5;
                                                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                            i8 = i16;
                                                            i74 = i29;
                                                            str = "x";
                                                            i9 = i15;
                                                            i3 = i31;
                                                            z7 = false;
                                                            z5 = false;
                                                            mediaCodec4 = mediaCodec9;
                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                            if (mediaCodec7 != null) {
                                                            }
                                                            mediaCodec3 = mediaCodec7;
                                                            i10 = i18;
                                                            outputSurface = outputSurface3;
                                                        }
                                                    } else {
                                                        str9 = "mime";
                                                        mp4Movie2 = mp4Movie;
                                                        i26 = 0;
                                                        i27 = 0;
                                                    }
                                                    z10 = false;
                                                    if (i25 >= 23) {
                                                    }
                                                    i29 = i21;
                                                    name = mediaCodec8.getName();
                                                    z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                    FileLog.d("selected encoder " + name);
                                                    mediaCodec8.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                    i30 = i23;
                                                    inputSurface2 = new InputSurface(mediaCodec8.createInputSurface());
                                                    inputSurface2.makeCurrent();
                                                    mediaCodec8.start();
                                                    i15 = i5;
                                                    i31 = i73;
                                                    i16 = i71;
                                                    str2 = str17;
                                                    arrayList = arrayList3;
                                                    outputSurface4 = new OutputSurface(savedFilterState, null, str16, str2, arrayList, cropState3, i16, i15, i69, i70, i22, i73, false, num, num2, hDRInfo, convertVideoParams);
                                                    if (hDRInfo == null) {
                                                    }
                                                    outputSurface5 = 3;
                                                    if (i25 >= 24) {
                                                    }
                                                    arrayList = mediaCodec8;
                                                    outputSurface5 = outputSurface4;
                                                    inputSurface = inputSurface2;
                                                    i32 = i7;
                                                    str2 = name;
                                                    j8 = j25;
                                                    obj2 = obj;
                                                    i33 = i30;
                                                    z11 = z41;
                                                    j9 = j6;
                                                    j10 = j3;
                                                    bufferInfo2 = bufferInfo;
                                                    j11 = j7;
                                                    mediaFormat = trackFormat;
                                                    arrayList2 = arrayList;
                                                    if (!z44) {
                                                    }
                                                    bufferInfo3 = bufferInfo2;
                                                    i34 = 0;
                                                    z12 = true;
                                                    r19 = arrayList2;
                                                    mediaCodec7 = mediaCodecVideoConvertor2.getDecoderByFormat(mediaFormat);
                                                    mediaCodec7.configure(mediaFormat, outputSurface5.getSurface(), (MediaCrypto) null, i34);
                                                    mediaCodec7.start();
                                                    if (i25 >= 21) {
                                                    }
                                                    ?? mP4Builder422222 = new MP4Builder();
                                                    ?? equals22222 = mediaCodecVideoConvertor2.outputMimeType.equals(obj2);
                                                    mediaCodecVideoConvertor2.mediaMuxer = mP4Builder422222.createMovie(mp4Movie2, z11, equals22222);
                                                    if (i32 < 0) {
                                                    }
                                                    if (audioRecoder2 != null) {
                                                    }
                                                    checkConversionCanceled();
                                                    ByteBuffer byteBuffer822222 = byteBuffer;
                                                    j13 = -2147483648L;
                                                    long j3222222 = -1;
                                                    long j3322222 = -1;
                                                    long j3422222 = 0;
                                                    long j3522222 = 0;
                                                    z17 = false;
                                                    z18 = false;
                                                    z19 = false;
                                                    int i8822222 = 0;
                                                    boolean z5122222 = true;
                                                    i40 = i37;
                                                    i18 = -5;
                                                    mediaCodec9 = r19;
                                                    while (true) {
                                                        if (z17) {
                                                        }
                                                        checkConversionCanceled();
                                                        if (audioRecoder2 != null) {
                                                        }
                                                        boolean z5222222 = z16;
                                                        if (z18) {
                                                        }
                                                        z21 = !z19;
                                                        i45 = i40;
                                                        j14 = j13;
                                                        outputBuffers = byteBufferArr;
                                                        i46 = i41;
                                                        boolean z5322222 = true;
                                                        mediaCodec10 = mediaCodec9;
                                                        while (true) {
                                                            if (!z21) {
                                                            }
                                                            checkConversionCanceled();
                                                            boolean z5422222 = z21;
                                                            if (z) {
                                                            }
                                                            dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo4, j15);
                                                            if (dequeueOutputBuffer != -1) {
                                                            }
                                                            if (dequeueOutputBuffer == i51) {
                                                            }
                                                            int i9522222 = i47;
                                                            mediaCodec10 = mediaCodec2;
                                                            i42 = i9522222;
                                                        }
                                                        i32 = i42;
                                                        j13 = j14;
                                                        z16 = z5222222;
                                                        inputBuffers = byteBufferArr2;
                                                        i40 = i45;
                                                        audioRecoder2 = audioRecoder;
                                                        MediaCodec.BufferInfo bufferInfo522222 = bufferInfo4;
                                                        i18 = i46;
                                                        i35 = i43;
                                                        bufferInfo3 = bufferInfo522222;
                                                        mediaCodec9 = mediaCodec10;
                                                    }
                                                    z2 = z;
                                                    audioRecoder = audioRecoder2;
                                                    outputSurface3 = outputSurface5;
                                                    mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                    i8 = i16;
                                                    i74 = i29;
                                                    str = "x";
                                                    i9 = i15;
                                                    i3 = i31;
                                                    z7 = false;
                                                    z5 = false;
                                                    mediaCodec4 = mediaCodec9;
                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                    if (mediaCodec7 != null) {
                                                    }
                                                    mediaCodec3 = mediaCodec7;
                                                    i10 = i18;
                                                    outputSurface = outputSurface3;
                                                }
                                                createByCodecName = null;
                                                if (createByCodecName == null) {
                                                }
                                                mediaCodec8 = createByCodecName;
                                                if (BuildVars.LOGS_ENABLED) {
                                                }
                                                createVideoFormat = MediaFormat.createVideoFormat(mediaCodecVideoConvertor2.outputMimeType, i23, i24);
                                                createVideoFormat.setInteger("color-format", 2130708361);
                                                createVideoFormat.setInteger("bitrate", i21);
                                                if (z47) {
                                                    createVideoFormat.setInteger("bitrate-mode", 2);
                                                }
                                                createVideoFormat.setInteger("max-bitrate", i21);
                                                createVideoFormat.setInteger("frame-rate", i73);
                                                createVideoFormat.setInteger("i-frame-interval", 1);
                                                i25 = Build.VERSION.SDK_INT;
                                                if (i25 >= 24) {
                                                }
                                                z10 = false;
                                                if (i25 >= 23) {
                                                }
                                                i29 = i21;
                                                name = mediaCodec8.getName();
                                                z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                FileLog.d("selected encoder " + name);
                                                mediaCodec8.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                i30 = i23;
                                                inputSurface2 = new InputSurface(mediaCodec8.createInputSurface());
                                                inputSurface2.makeCurrent();
                                                mediaCodec8.start();
                                                i15 = i5;
                                                i31 = i73;
                                                i16 = i71;
                                                str2 = str17;
                                                arrayList = arrayList3;
                                                outputSurface4 = new OutputSurface(savedFilterState, null, str16, str2, arrayList, cropState3, i16, i15, i69, i70, i22, i73, false, num, num2, hDRInfo, convertVideoParams);
                                                if (hDRInfo == null) {
                                                }
                                                outputSurface5 = 3;
                                                if (i25 >= 24) {
                                                }
                                                arrayList = mediaCodec8;
                                                outputSurface5 = outputSurface4;
                                                inputSurface = inputSurface2;
                                                i32 = i7;
                                                str2 = name;
                                                j8 = j25;
                                                obj2 = obj;
                                                i33 = i30;
                                                z11 = z41;
                                                j9 = j6;
                                                j10 = j3;
                                                bufferInfo2 = bufferInfo;
                                                j11 = j7;
                                                mediaFormat = trackFormat;
                                                arrayList2 = arrayList;
                                                if (!z44) {
                                                }
                                                bufferInfo3 = bufferInfo2;
                                                i34 = 0;
                                                z12 = true;
                                                r19 = arrayList2;
                                                mediaCodec7 = mediaCodecVideoConvertor2.getDecoderByFormat(mediaFormat);
                                                mediaCodec7.configure(mediaFormat, outputSurface5.getSurface(), (MediaCrypto) null, i34);
                                                mediaCodec7.start();
                                                if (i25 >= 21) {
                                                }
                                                ?? mP4Builder4222222 = new MP4Builder();
                                                ?? equals222222 = mediaCodecVideoConvertor2.outputMimeType.equals(obj2);
                                                mediaCodecVideoConvertor2.mediaMuxer = mP4Builder4222222.createMovie(mp4Movie2, z11, equals222222);
                                                if (i32 < 0) {
                                                }
                                                if (audioRecoder2 != null) {
                                                }
                                                checkConversionCanceled();
                                                ByteBuffer byteBuffer8222222 = byteBuffer;
                                                j13 = -2147483648L;
                                                long j32222222 = -1;
                                                long j33222222 = -1;
                                                long j34222222 = 0;
                                                long j35222222 = 0;
                                                z17 = false;
                                                z18 = false;
                                                z19 = false;
                                                int i88222222 = 0;
                                                boolean z51222222 = true;
                                                i40 = i37;
                                                i18 = -5;
                                                mediaCodec9 = r19;
                                                while (true) {
                                                    if (z17) {
                                                    }
                                                    checkConversionCanceled();
                                                    if (audioRecoder2 != null) {
                                                    }
                                                    boolean z52222222 = z16;
                                                    if (z18) {
                                                    }
                                                    z21 = !z19;
                                                    i45 = i40;
                                                    j14 = j13;
                                                    outputBuffers = byteBufferArr;
                                                    i46 = i41;
                                                    boolean z53222222 = true;
                                                    mediaCodec10 = mediaCodec9;
                                                    while (true) {
                                                        if (!z21) {
                                                        }
                                                        checkConversionCanceled();
                                                        boolean z54222222 = z21;
                                                        if (z) {
                                                        }
                                                        dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo4, j15);
                                                        if (dequeueOutputBuffer != -1) {
                                                        }
                                                        if (dequeueOutputBuffer == i51) {
                                                        }
                                                        int i95222222 = i47;
                                                        mediaCodec10 = mediaCodec2;
                                                        i42 = i95222222;
                                                    }
                                                    i32 = i42;
                                                    j13 = j14;
                                                    z16 = z52222222;
                                                    inputBuffers = byteBufferArr2;
                                                    i40 = i45;
                                                    audioRecoder2 = audioRecoder;
                                                    MediaCodec.BufferInfo bufferInfo5222222 = bufferInfo4;
                                                    i18 = i46;
                                                    i35 = i43;
                                                    bufferInfo3 = bufferInfo5222222;
                                                    mediaCodec9 = mediaCodec10;
                                                }
                                                z2 = z;
                                                audioRecoder = audioRecoder2;
                                                outputSurface3 = outputSurface5;
                                                mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                                i8 = i16;
                                                i74 = i29;
                                                str = "x";
                                                i9 = i15;
                                                i3 = i31;
                                                z7 = false;
                                                z5 = false;
                                                mediaCodec4 = mediaCodec9;
                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                if (mediaCodec7 != null) {
                                                }
                                                mediaCodec3 = mediaCodec7;
                                                i10 = i18;
                                                outputSurface = outputSurface3;
                                            }
                                        }
                                        mediaCodec7.configure(mediaFormat, outputSurface5.getSurface(), (MediaCrypto) null, i34);
                                        mediaCodec7.start();
                                        if (i25 >= 21) {
                                        }
                                        ?? mP4Builder42222222 = new MP4Builder();
                                        ?? equals2222222 = mediaCodecVideoConvertor2.outputMimeType.equals(obj2);
                                        mediaCodecVideoConvertor2.mediaMuxer = mP4Builder42222222.createMovie(mp4Movie2, z11, equals2222222);
                                        if (i32 < 0) {
                                        }
                                        if (audioRecoder2 != null) {
                                        }
                                        checkConversionCanceled();
                                        ByteBuffer byteBuffer82222222 = byteBuffer;
                                        j13 = -2147483648L;
                                        long j322222222 = -1;
                                        long j332222222 = -1;
                                        long j342222222 = 0;
                                        long j352222222 = 0;
                                        z17 = false;
                                        z18 = false;
                                        z19 = false;
                                        int i882222222 = 0;
                                        boolean z512222222 = true;
                                        i40 = i37;
                                        i18 = -5;
                                        mediaCodec9 = r19;
                                        while (true) {
                                            if (z17) {
                                            }
                                            checkConversionCanceled();
                                            if (audioRecoder2 != null) {
                                            }
                                            boolean z522222222 = z16;
                                            if (z18) {
                                            }
                                            z21 = !z19;
                                            i45 = i40;
                                            j14 = j13;
                                            outputBuffers = byteBufferArr;
                                            i46 = i41;
                                            boolean z532222222 = true;
                                            mediaCodec10 = mediaCodec9;
                                            while (true) {
                                                if (!z21) {
                                                }
                                                checkConversionCanceled();
                                                boolean z542222222 = z21;
                                                if (z) {
                                                }
                                                dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo4, j15);
                                                if (dequeueOutputBuffer != -1) {
                                                }
                                                if (dequeueOutputBuffer == i51) {
                                                }
                                                int i952222222 = i47;
                                                mediaCodec10 = mediaCodec2;
                                                i42 = i952222222;
                                            }
                                            i32 = i42;
                                            j13 = j14;
                                            z16 = z522222222;
                                            inputBuffers = byteBufferArr2;
                                            i40 = i45;
                                            audioRecoder2 = audioRecoder;
                                            MediaCodec.BufferInfo bufferInfo52222222 = bufferInfo4;
                                            i18 = i46;
                                            i35 = i43;
                                            bufferInfo3 = bufferInfo52222222;
                                            mediaCodec9 = mediaCodec10;
                                        }
                                        z2 = z;
                                        audioRecoder = audioRecoder2;
                                        outputSurface3 = outputSurface5;
                                        mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                                        i8 = i16;
                                        i74 = i29;
                                        str = "x";
                                        i9 = i15;
                                        i3 = i31;
                                        z7 = false;
                                        z5 = false;
                                        mediaCodec4 = mediaCodec9;
                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                        if (mediaCodec7 != null) {
                                        }
                                        mediaCodec3 = mediaCodec7;
                                        i10 = i18;
                                        outputSurface = outputSurface3;
                                    } catch (Throwable th69) {
                                        outputSurface4 = outputSurface5;
                                        mediaCodec2 = r19;
                                        i3 = i31;
                                        mediaCodecVideoConvertor = this;
                                        z2 = z;
                                        th = th69;
                                        mediaCodec = mediaCodec7;
                                        i71 = i16;
                                        str = "x";
                                        i72 = i15;
                                        i4 = -5;
                                    }
                                    if (i25 >= 24) {
                                    }
                                    arrayList = mediaCodec8;
                                    outputSurface5 = outputSurface4;
                                    inputSurface = inputSurface2;
                                    i32 = i7;
                                    str2 = name;
                                    j8 = j25;
                                    obj2 = obj;
                                    i33 = i30;
                                    z11 = z41;
                                    j9 = j6;
                                    j10 = j3;
                                    bufferInfo2 = bufferInfo;
                                    j11 = j7;
                                    mediaFormat = trackFormat;
                                    arrayList2 = arrayList;
                                    if (!z44) {
                                    }
                                    bufferInfo3 = bufferInfo2;
                                    i34 = 0;
                                    z12 = true;
                                    r19 = arrayList2;
                                    mediaCodec7 = mediaCodecVideoConvertor2.getDecoderByFormat(mediaFormat);
                                } catch (Throwable th70) {
                                    th = th70;
                                }
                                if (BuildVars.LOGS_ENABLED) {
                                }
                                createVideoFormat = MediaFormat.createVideoFormat(mediaCodecVideoConvertor2.outputMimeType, i23, i24);
                                createVideoFormat.setInteger("color-format", 2130708361);
                                createVideoFormat.setInteger("bitrate", i21);
                                if (z47) {
                                }
                                createVideoFormat.setInteger("max-bitrate", i21);
                                createVideoFormat.setInteger("frame-rate", i73);
                                createVideoFormat.setInteger("i-frame-interval", 1);
                                i25 = Build.VERSION.SDK_INT;
                                if (i25 >= 24) {
                                }
                                z10 = false;
                                if (i25 >= 23) {
                                }
                                i29 = i21;
                                name = mediaCodec8.getName();
                                z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                FileLog.d("selected encoder " + name);
                                mediaCodec8.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                i30 = i23;
                                inputSurface2 = new InputSurface(mediaCodec8.createInputSurface());
                                inputSurface2.makeCurrent();
                                mediaCodec8.start();
                                i15 = i5;
                                i31 = i73;
                                i16 = i71;
                                str2 = str17;
                                arrayList = arrayList3;
                                outputSurface4 = new OutputSurface(savedFilterState, null, str16, str2, arrayList, cropState3, i16, i15, i69, i70, i22, i73, false, num, num2, hDRInfo, convertVideoParams);
                                if (hDRInfo == null) {
                                }
                                outputSurface5 = 3;
                            } catch (Throwable th71) {
                                i3 = i73;
                                int i97 = i5;
                                mediaCodec2 = mediaCodec8;
                                mediaCodecVideoConvertor = this;
                                z2 = z;
                                th = th71;
                                i74 = i21;
                                i71 = i71;
                            }
                            if (cropState3 == null) {
                            }
                            i22 = i68;
                            i23 = i71;
                            i24 = i5;
                            if (str8 != null) {
                            }
                            createByCodecName = null;
                            if (createByCodecName == null) {
                            }
                            mediaCodec8 = createByCodecName;
                        } else {
                            z2 = z;
                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                            i3 = i73;
                            i8 = i71;
                            i9 = i5;
                            str = "x";
                            i10 = -5;
                            i74 = i74;
                            mediaCodec3 = null;
                            outputSurface = null;
                            z7 = false;
                            str2 = null;
                            mediaCodec4 = null;
                            audioRecoder = null;
                            z4 = false;
                            z5 = false;
                            inputSurface = null;
                        }
                        if (outputSurface != null) {
                            try {
                                outputSurface.release();
                                outputSurface = null;
                            } catch (Throwable th72) {
                                mediaCodec = mediaCodec3;
                                i72 = i9;
                                i4 = i10;
                                mediaCodec2 = mediaCodec4;
                                th = th72;
                                i71 = i8;
                                FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                str3 = str2;
                                z6 = z5;
                                z7 = true;
                                if (z6) {
                                }
                            }
                        }
                        if (inputSurface != null) {
                            inputSurface.release();
                            inputSurface = null;
                        }
                        if (mediaCodec4 != null) {
                            mediaCodec4.stop();
                            mediaCodec4.release();
                            mediaCodec4 = null;
                        }
                        if (audioRecoder != null) {
                            audioRecoder.release();
                        }
                        checkConversionCanceled();
                        mediaCodec5 = mediaCodec3;
                        i5 = i9;
                        outputSurface2 = outputSurface;
                        i11 = i10;
                        z6 = z5;
                        i71 = i8;
                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor2 != null) {
                            mediaExtractor2.release();
                        }
                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                        if (mP4Builder2 != null) {
                            try {
                                mP4Builder2.finishMovie();
                                mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.mediaMuxer.getLastFrameTimestamp(i11);
                            } catch (Throwable th73) {
                                FileLog.e(th73);
                            }
                        }
                        if (mediaCodec4 != null) {
                            try {
                                mediaCodec4.release();
                            } catch (Exception unused10) {
                            }
                        }
                        if (mediaCodec5 != null) {
                            try {
                                mediaCodec5.release();
                            } catch (Exception unused11) {
                            }
                        }
                        if (outputSurface2 != null) {
                            try {
                                outputSurface2.release();
                            } catch (Exception unused12) {
                            }
                        }
                        if (inputSurface != null) {
                            try {
                                inputSurface.release();
                            } catch (Exception unused13) {
                            }
                        }
                        str3 = str2;
                        i72 = i5;
                        if (z6) {
                            if (z7 && z4 && i < 3) {
                                return mediaCodecVideoConvertor.convertVideoInternal(convertVideoParams, z2, i + 1);
                            }
                            long currentTimeMillis2 = System.currentTimeMillis() - currentTimeMillis;
                            if (BuildVars.LOGS_ENABLED) {
                                FileLog.d("compression completed time=" + currentTimeMillis2 + " needCompress=" + z3 + " w=" + i71 + " h=" + i72 + " bitrate=" + i74 + " file size=" + AndroidUtilities.formatFileSize(file.length()) + " encoder_name=" + str3);
                            }
                            return z7;
                        }
                        return mediaCodecVideoConvertor.convertVideoInternal(convertVideoParams, true, i + 1);
                    }
                    try {
                        try {
                            MP4Builder createMovie = new MP4Builder().createMovie(mp4Movie, z41, false);
                            mediaCodecVideoConvertor2.mediaMuxer = createMovie;
                            MediaExtractor mediaExtractor5 = mediaCodecVideoConvertor2.extractor;
                            if (i74 == -1 || z45) {
                                j21 = j25;
                                z32 = false;
                            } else {
                                j21 = j25;
                                z32 = true;
                            }
                            z3 = z42;
                            file = file2;
                            readAndWriteTracks(mediaExtractor5, createMovie, bufferInfo, r3, j23, j21, file, z32);
                            z2 = z;
                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                            i74 = i74;
                            i71 = i71;
                            i11 = -5;
                            z7 = false;
                            outputSurface2 = null;
                            str2 = null;
                            mediaCodec4 = null;
                            mediaCodec5 = null;
                            z6 = false;
                            z4 = false;
                            inputSurface = null;
                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor2 != null) {
                            }
                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder2 != null) {
                            }
                            if (mediaCodec4 != null) {
                            }
                            if (mediaCodec5 != null) {
                            }
                            if (outputSurface2 != null) {
                            }
                            if (inputSurface != null) {
                            }
                            str3 = str2;
                            i72 = i5;
                        } catch (Throwable th74) {
                            th = th74;
                            z3 = z42;
                            file = file2;
                            z2 = z;
                            th = th;
                            mediaCodecVideoConvertor = mediaCodecVideoConvertor2;
                            str = "x";
                            i72 = i5;
                            i3 = i73;
                            mediaCodec2 = null;
                            outputSurface = null;
                            i4 = -5;
                            str2 = null;
                            mediaCodec = null;
                            z4 = false;
                            z5 = false;
                            inputSurface = null;
                            FileLog.e("bitrate: " + i74 + " framerate: " + i3 + " size: " + i72 + str + i71);
                            FileLog.e(th);
                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor != null) {
                            }
                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface != null) {
                            }
                            str3 = str2;
                            z6 = z5;
                            z7 = true;
                            if (z6) {
                            }
                        }
                    } catch (Throwable th75) {
                        th = th75;
                        z3 = z42;
                        file = file2;
                    }
                    if (z6) {
                    }
                }
            } else {
                i7 = i6;
            }
            z8 = false;
            if (!z42) {
            }
            long j292 = j23;
            z3 = z42;
            file = file2;
            if (findTrack < 0) {
            }
            if (outputSurface != null) {
            }
            if (inputSurface != null) {
            }
            if (mediaCodec4 != null) {
            }
            if (audioRecoder != null) {
            }
            checkConversionCanceled();
            mediaCodec5 = mediaCodec3;
            i5 = i9;
            outputSurface2 = outputSurface;
            i11 = i10;
            z6 = z5;
            i71 = i8;
            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
            if (mediaExtractor2 != null) {
            }
            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
            if (mP4Builder2 != null) {
            }
            if (mediaCodec4 != null) {
            }
            if (mediaCodec5 != null) {
            }
            if (outputSurface2 != null) {
            }
            if (inputSurface != null) {
            }
            str3 = str2;
            i72 = i5;
            if (z6) {
            }
        }
    }

    private static void applyAudioInputs(ArrayList<MixedSoundInfo> arrayList, ArrayList<AudioInput> arrayList2) throws IOException {
        for (int i = 0; i < arrayList.size(); i++) {
            MixedSoundInfo mixedSoundInfo = arrayList.get(i);
            GeneralAudioInput generalAudioInput = new GeneralAudioInput(mixedSoundInfo.audioFile);
            generalAudioInput.setVolume(mixedSoundInfo.volume);
            long j = mixedSoundInfo.startTime;
            if (j > 0) {
                generalAudioInput.setStartOffsetUs(j);
            }
            long j2 = mixedSoundInfo.audioOffset;
            if (j2 > 0) {
                generalAudioInput.setStartTimeUs(j2);
            } else {
                j2 = 0;
            }
            long j3 = mixedSoundInfo.duration;
            if (j3 > 0) {
                generalAudioInput.setEndTimeUs(j2 + j3);
            }
            arrayList2.add(generalAudioInput);
        }
    }

    private MediaCodec createEncoderForMimeType() throws IOException {
        MediaCodec createEncoderByType;
        if (this.outputMimeType.equals("video/hevc") && Build.VERSION.SDK_INT >= 29) {
            String findGoodHevcEncoder = SharedConfig.findGoodHevcEncoder();
            createEncoderByType = findGoodHevcEncoder != null ? MediaCodec.createByCodecName(findGoodHevcEncoder) : null;
        } else {
            this.outputMimeType = MediaController.VIDEO_MIME_TYPE;
            createEncoderByType = MediaCodec.createEncoderByType(MediaController.VIDEO_MIME_TYPE);
        }
        if (createEncoderByType == null && this.outputMimeType.equals("video/hevc")) {
            this.outputMimeType = MediaController.VIDEO_MIME_TYPE;
            return MediaCodec.createEncoderByType(MediaController.VIDEO_MIME_TYPE);
        }
        return createEncoderByType;
    }

    public static void cutOfNalData(String str, ByteBuffer byteBuffer, MediaCodec.BufferInfo bufferInfo) {
        int i = str.equals("video/hevc") ? 3 : 1;
        if (bufferInfo.size > 100) {
            byteBuffer.position(bufferInfo.offset);
            byte[] bArr = new byte[100];
            byteBuffer.get(bArr);
            int i2 = 0;
            for (int i3 = 0; i3 < 96; i3++) {
                if (bArr[i3] == 0 && bArr[i3 + 1] == 0 && bArr[i3 + 2] == 0 && bArr[i3 + 3] == 1 && (i2 = i2 + 1) > i) {
                    bufferInfo.offset += i3;
                    bufferInfo.size -= i3;
                    return;
                }
            }
        }
    }

    private boolean isMediatekAvcEncoder(MediaCodec mediaCodec) {
        return mediaCodec.getName().equals("c2.mtk.avc.encoder");
    }

    /* JADX WARN: Code restructure failed: missing block: B:73:0x0123, code lost:
        if (r9[r6 + 3] != 1) goto L62;
     */
    /* JADX WARN: Removed duplicated region for block: B:119:0x01d0  */
    /* JADX WARN: Removed duplicated region for block: B:121:0x01d5  */
    /* JADX WARN: Removed duplicated region for block: B:126:0x01ec  */
    /* JADX WARN: Removed duplicated region for block: B:127:0x01ee  */
    /* JADX WARN: Removed duplicated region for block: B:57:0x00df  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private long readAndWriteTracks(MediaExtractor mediaExtractor, MP4Builder mP4Builder, MediaCodec.BufferInfo bufferInfo, long j, long j2, long j3, File file, boolean z) throws Exception {
        long j4;
        int i;
        int i2;
        int i3;
        int i4;
        int i5;
        int i6;
        int i7;
        int i8;
        int i9;
        boolean z2;
        int i10;
        int i11;
        boolean z3;
        long j5;
        byte[] array;
        int i12;
        int i13;
        int i14;
        int findTrack = MediaController.findTrack(mediaExtractor, false);
        if (z) {
            j4 = j3;
            i = MediaController.findTrack(mediaExtractor, true);
        } else {
            j4 = j3;
            i = -1;
        }
        float f = ((float) j4) / 1000.0f;
        if (findTrack >= 0) {
            mediaExtractor.selectTrack(findTrack);
            MediaFormat trackFormat = mediaExtractor.getTrackFormat(findTrack);
            i3 = mP4Builder.addTrack(trackFormat, false);
            try {
                i14 = trackFormat.getInteger("max-input-size");
            } catch (Exception e) {
                FileLog.e(e);
                i14 = 0;
            }
            if (j > 0) {
                mediaExtractor.seekTo(j, 0);
            } else {
                mediaExtractor.seekTo(0L, 0);
            }
            i2 = i14;
        } else {
            i2 = 0;
            i3 = -1;
        }
        if (i >= 0) {
            mediaExtractor.selectTrack(i);
            MediaFormat trackFormat2 = mediaExtractor.getTrackFormat(i);
            if (trackFormat2.getString("mime").equals("audio/unknown")) {
                i4 = -1;
                i = -1;
            } else {
                i4 = mP4Builder.addTrack(trackFormat2, true);
                try {
                    i2 = Math.max(trackFormat2.getInteger("max-input-size"), i2);
                } catch (Exception e2) {
                    FileLog.e(e2);
                }
                if (j > 0) {
                    mediaExtractor.seekTo(j, 0);
                } else {
                    mediaExtractor.seekTo(0L, 0);
                }
            }
        } else {
            i4 = -1;
        }
        if (i2 <= 0) {
            i2 = 65536;
        }
        ByteBuffer allocateDirect = ByteBuffer.allocateDirect(i2);
        if (i >= 0 || findTrack >= 0) {
            checkConversionCanceled();
            long j6 = 0;
            long j7 = -1;
            boolean z4 = false;
            while (!z4) {
                checkConversionCanceled();
                int i15 = Build.VERSION.SDK_INT;
                if (i15 >= 28) {
                    long sampleSize = mediaExtractor.getSampleSize();
                    i5 = i;
                    if (sampleSize > i2) {
                        int i16 = (int) (sampleSize + 1024);
                        i2 = i16;
                        allocateDirect = ByteBuffer.allocateDirect(i16);
                    }
                } else {
                    i5 = i;
                }
                bufferInfo.size = mediaExtractor.readSampleData(allocateDirect, 0);
                int sampleTrackIndex = mediaExtractor.getSampleTrackIndex();
                if (sampleTrackIndex == findTrack) {
                    i6 = i5;
                    i8 = i3;
                } else {
                    i6 = i5;
                    if (sampleTrackIndex == i6) {
                        i8 = i4;
                    } else {
                        i7 = -1;
                        i8 = -1;
                        if (i8 == i7) {
                            if (i15 < 21) {
                                allocateDirect.position(0);
                                allocateDirect.limit(bufferInfo.size);
                            }
                            if (sampleTrackIndex != i6 && (array = allocateDirect.array()) != null) {
                                int arrayOffset = allocateDirect.arrayOffset();
                                int limit = arrayOffset + allocateDirect.limit();
                                i9 = i4;
                                int i17 = arrayOffset;
                                int i18 = -1;
                                while (true) {
                                    z2 = z4;
                                    int i19 = limit - 4;
                                    if (i17 > i19) {
                                        break;
                                    }
                                    if (array[i17] == 0 && array[i17 + 1] == 0 && array[i17 + 2] == 0) {
                                        i12 = i2;
                                        i13 = i6;
                                    } else {
                                        i12 = i2;
                                        i13 = i6;
                                    }
                                    if (i17 != i19) {
                                        i17++;
                                        z4 = z2;
                                        i6 = i13;
                                        i2 = i12;
                                    }
                                    if (i18 != -1) {
                                        int i20 = (i17 - i18) - (i17 == i19 ? 0 : 4);
                                        array[i18] = (byte) (i20 >> 24);
                                        array[i18 + 1] = (byte) (i20 >> 16);
                                        array[i18 + 2] = (byte) (i20 >> 8);
                                        array[i18 + 3] = (byte) i20;
                                    }
                                    i18 = i17;
                                    i17++;
                                    z4 = z2;
                                    i6 = i13;
                                    i2 = i12;
                                }
                            } else {
                                i9 = i4;
                                z2 = z4;
                            }
                            i10 = i2;
                            i11 = i6;
                            if (bufferInfo.size >= 0) {
                                bufferInfo.presentationTimeUs = mediaExtractor.getSampleTime();
                                z3 = false;
                            } else {
                                bufferInfo.size = 0;
                                z3 = true;
                            }
                            if (bufferInfo.size > 0 && !z3) {
                                if (sampleTrackIndex == findTrack) {
                                    j5 = 0;
                                    if (j > 0 && j7 == -1) {
                                        j7 = bufferInfo.presentationTimeUs;
                                    }
                                } else {
                                    j5 = 0;
                                }
                                if (j2 < j5 || bufferInfo.presentationTimeUs < j2) {
                                    bufferInfo.offset = 0;
                                    bufferInfo.flags = mediaExtractor.getSampleFlags();
                                    long writeSampleData = mP4Builder.writeSampleData(i8, allocateDirect, bufferInfo, false);
                                    if (writeSampleData != 0) {
                                        MediaController.VideoConvertorListener videoConvertorListener = this.callback;
                                        if (videoConvertorListener != null) {
                                            long j8 = bufferInfo.presentationTimeUs;
                                            long j9 = j8 - j7 > j6 ? j8 - j7 : j6;
                                            videoConvertorListener.didWriteData(writeSampleData, (((float) j9) / 1000.0f) / f);
                                            j6 = j9;
                                            if (!z3) {
                                                mediaExtractor.advance();
                                            }
                                        }
                                        if (!z3) {
                                        }
                                    }
                                } else {
                                    z3 = true;
                                }
                            }
                            if (!z3) {
                            }
                        } else {
                            i9 = i4;
                            z2 = z4;
                            i10 = i2;
                            i11 = i6;
                            if (sampleTrackIndex == -1) {
                                z3 = true;
                            } else {
                                mediaExtractor.advance();
                                z3 = false;
                            }
                        }
                        z4 = !z3 ? true : z2;
                        i4 = i9;
                        i = i11;
                        i2 = i10;
                    }
                }
                i7 = -1;
                if (i8 == i7) {
                }
                if (!z3) {
                }
                i4 = i9;
                i = i11;
                i2 = i10;
            }
            int i21 = i;
            if (findTrack >= 0) {
                mediaExtractor.unselectTrack(findTrack);
            }
            if (i21 >= 0) {
                mediaExtractor.unselectTrack(i21);
            }
            return j7;
        }
        return -1L;
    }

    private void checkConversionCanceled() {
        MediaController.VideoConvertorListener videoConvertorListener = this.callback;
        if (videoConvertorListener != null && videoConvertorListener.checkConversionCanceled()) {
            throw new ConversionCanceledException();
        }
    }

    private static String hdrFragmentShader(int i, int i2, int i3, int i4, boolean z, StoryEntry.HDRInfo hDRInfo) {
        String readRes;
        if (z) {
            if (hDRInfo.getHDRType() == 1) {
                readRes = RLottieDrawable.readRes(null, R.raw.yuv_hlg2rgb);
            } else {
                readRes = RLottieDrawable.readRes(null, R.raw.yuv_pq2rgb);
            }
            String replace = readRes.replace("$dstWidth", i3 + ".0");
            String replace2 = replace.replace("$dstHeight", i4 + ".0");
            return replace2 + "\nin vec2 vTextureCoord;\nout vec4 fragColor;\nvoid main() {\n    fragColor = TEX(vTextureCoord);\n}";
        }
        return "#version 320 es\nprecision mediump float;\nvarying vec2 vTextureCoord;\nuniform sampler2D sTexture;\nout vec4 fragColor;\nvoid main() {\nfragColor = texture(sTexture, vTextureCoord);\n}\n";
    }

    private static String createFragmentShader(int i, int i2, int i3, int i4, boolean z, int i5) {
        int clamp = (int) Utilities.clamp((Math.max(i, i2) / Math.max(i4, i3)) * 0.8f, 2.0f, 1.0f);
        if (clamp > 1 && SharedConfig.deviceIsAverage()) {
            clamp = 1;
        }
        int min = Math.min(i5, clamp);
        FileLog.d("source size " + i + "x" + i2 + "    dest size " + i3 + i4 + "   kernelRadius " + min);
        if (z) {
            return "#extension GL_OES_EGL_image_external : require\nprecision mediump float;\nvarying vec2 vTextureCoord;\nconst float kernel = " + min + ".0;\nconst float pixelSizeX = 1.0 / " + i + ".0;\nconst float pixelSizeY = 1.0 / " + i2 + ".0;\nuniform samplerExternalOES sTexture;\nvoid main() {\nvec3 accumulation = vec3(0);\nvec3 weightsum = vec3(0);\nfor (float x = -kernel; x <= kernel; x++){\n   for (float y = -kernel; y <= kernel; y++){\n       accumulation += texture2D(sTexture, vTextureCoord + vec2(x * pixelSizeX, y * pixelSizeY)).xyz;\n       weightsum += 1.0;\n   }\n}\ngl_FragColor = vec4(accumulation / weightsum, 1.0);\n}\n";
        }
        return "precision mediump float;\nvarying vec2 vTextureCoord;\nconst float kernel = " + min + ".0;\nconst float pixelSizeX = 1.0 / " + i2 + ".0;\nconst float pixelSizeY = 1.0 / " + i + ".0;\nuniform sampler2D sTexture;\nvoid main() {\nvec3 accumulation = vec3(0);\nvec3 weightsum = vec3(0);\nfor (float x = -kernel; x <= kernel; x++){\n   for (float y = -kernel; y <= kernel; y++){\n       accumulation += texture2D(sTexture, vTextureCoord + vec2(x * pixelSizeX, y * pixelSizeY)).xyz;\n       weightsum += 1.0;\n   }\n}\ngl_FragColor = vec4(accumulation / weightsum, 1.0);\n}\n";
    }

    /* loaded from: classes3.dex */
    public class ConversionCanceledException extends RuntimeException {
        public ConversionCanceledException() {
            super("canceled conversion");
        }
    }

    private MediaCodec getDecoderByFormat(MediaFormat mediaFormat) {
        if (mediaFormat == null) {
            throw new RuntimeException("getDecoderByFormat: format is null");
        }
        ArrayList arrayList = new ArrayList();
        String string = mediaFormat.getString("mime");
        arrayList.add(string);
        if ("video/dolby-vision".equals(string)) {
            arrayList.add("video/hevc");
            arrayList.add(MediaController.VIDEO_MIME_TYPE);
        }
        Exception exc = null;
        while (!arrayList.isEmpty()) {
            try {
                String str = (String) arrayList.remove(0);
                mediaFormat.setString("mime", str);
                return MediaCodec.createDecoderByType(str);
            } catch (Exception e) {
                if (exc == null) {
                    exc = e;
                }
            }
        }
        throw new RuntimeException(exc);
    }

    /* loaded from: classes3.dex */
    public static class ConvertVideoParams {
        int account;
        long avatarStartTime;
        String backgroundPath;
        int bitrate;
        String blurPath;
        File cacheFile;
        MediaController.VideoConvertorListener callback;
        MediaController.CropState cropState;
        long duration;
        long endTime;
        int framerate;
        Integer gradientBottomColor;
        Integer gradientTopColor;
        StoryEntry.HDRInfo hdrInfo;
        boolean isDark;
        boolean isPhoto;
        boolean isRound;
        boolean isSecret;
        boolean isStory;
        ArrayList<VideoEditedInfo.MediaEntity> mediaEntities;
        String messagePath;
        String messageVideoMaskPath;
        boolean muted;
        boolean needCompress;
        int originalBitrate;
        int originalHeight;
        int originalWidth;
        String paintPath;
        int resultHeight;
        int resultWidth;
        int rotationValue;
        MediaController.SavedFilterState savedFilterState;
        public ArrayList<MixedSoundInfo> soundInfos = new ArrayList<>();
        long startTime;
        String videoPath;
        long wallpaperPeerId;

        private ConvertVideoParams() {
        }

        public static ConvertVideoParams of(String str, File file, int i, boolean z, int i2, int i3, int i4, int i5, int i6, int i7, int i8, long j, long j2, long j3, boolean z2, long j4, MediaController.VideoConvertorListener videoConvertorListener, VideoEditedInfo videoEditedInfo) {
            ConvertVideoParams convertVideoParams = new ConvertVideoParams();
            convertVideoParams.videoPath = str;
            convertVideoParams.cacheFile = file;
            convertVideoParams.rotationValue = i;
            convertVideoParams.isSecret = z;
            convertVideoParams.originalWidth = i2;
            convertVideoParams.originalHeight = i3;
            convertVideoParams.resultWidth = i4;
            convertVideoParams.resultHeight = i5;
            convertVideoParams.framerate = i6;
            convertVideoParams.bitrate = i7;
            convertVideoParams.originalBitrate = i8;
            convertVideoParams.startTime = j;
            convertVideoParams.endTime = j2;
            convertVideoParams.avatarStartTime = j3;
            convertVideoParams.needCompress = z2;
            convertVideoParams.duration = j4;
            convertVideoParams.savedFilterState = videoEditedInfo.filterState;
            convertVideoParams.paintPath = videoEditedInfo.paintPath;
            convertVideoParams.blurPath = videoEditedInfo.blurPath;
            convertVideoParams.mediaEntities = videoEditedInfo.mediaEntities;
            convertVideoParams.isPhoto = videoEditedInfo.isPhoto;
            convertVideoParams.cropState = videoEditedInfo.cropState;
            convertVideoParams.isRound = videoEditedInfo.roundVideo;
            convertVideoParams.callback = videoConvertorListener;
            convertVideoParams.gradientTopColor = videoEditedInfo.gradientTopColor;
            convertVideoParams.gradientBottomColor = videoEditedInfo.gradientBottomColor;
            convertVideoParams.muted = videoEditedInfo.muted;
            convertVideoParams.isStory = videoEditedInfo.isStory;
            convertVideoParams.hdrInfo = videoEditedInfo.hdrInfo;
            convertVideoParams.isDark = videoEditedInfo.isDark;
            convertVideoParams.wallpaperPeerId = videoEditedInfo.wallpaperPeerId;
            convertVideoParams.account = videoEditedInfo.account;
            convertVideoParams.messagePath = videoEditedInfo.messagePath;
            convertVideoParams.messageVideoMaskPath = videoEditedInfo.messageVideoMaskPath;
            convertVideoParams.backgroundPath = videoEditedInfo.backgroundPath;
            return convertVideoParams;
        }
    }

    /* loaded from: classes3.dex */
    public static class MixedSoundInfo {
        final String audioFile;
        public long audioOffset;
        public long duration;
        public long startTime;
        public float volume = 1.0f;

        public MixedSoundInfo(String str) {
            this.audioFile = str;
        }
    }
}
