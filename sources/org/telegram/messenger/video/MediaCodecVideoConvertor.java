package org.telegram.messenger.video;

import android.annotation.TargetApi;
import android.media.MediaCodec;
import android.media.MediaCrypto;
import android.media.MediaExtractor;
import android.media.MediaFormat;
import android.os.Build;
import android.view.Surface;
import java.io.File;
import java.io.IOException;
import java.nio.ByteBuffer;
import java.util.ArrayList;
import org.telegram.messenger.AndroidUtilities;
import org.telegram.messenger.BuildVars;
import org.telegram.messenger.FileLog;
import org.telegram.messenger.MediaController;
import org.telegram.messenger.R;
import org.telegram.messenger.SharedConfig;
import org.telegram.messenger.Utilities;
import org.telegram.messenger.VideoEditedInfo;
import org.telegram.messenger.video.audio_input.AudioInput;
import org.telegram.messenger.video.audio_input.BlankAudioInput;
import org.telegram.messenger.video.audio_input.GeneralAudioInput;
import org.telegram.ui.Components.RLottieDrawable;
import org.telegram.ui.Stories.recorder.StoryEntry;
/* loaded from: classes3.dex */
public class MediaCodecVideoConvertor {
    private static final int MEDIACODEC_TIMEOUT_DEFAULT = 2500;
    private static final int MEDIACODEC_TIMEOUT_INCREASED = 22000;
    private static final int PROCESSOR_TYPE_INTEL = 2;
    private static final int PROCESSOR_TYPE_MTK = 3;
    private static final int PROCESSOR_TYPE_OTHER = 0;
    private static final int PROCESSOR_TYPE_QCOM = 1;
    private static final int PROCESSOR_TYPE_SEC = 4;
    private static final int PROCESSOR_TYPE_TI = 5;
    private MediaController.VideoConvertorListener callback;
    private long endPresentationTime;
    private MediaExtractor extractor;
    private MP4Builder mediaMuxer;
    private String outputMimeType;

    public boolean convertVideo(ConvertVideoParams convertVideoParams) {
        this.callback = convertVideoParams.callback;
        return convertVideoInternal(convertVideoParams, false, 0);
    }

    public long getLastFrameTimestamp() {
        return this.endPresentationTime;
    }

    /* JADX WARN: Can't wrap try/catch for region: R(23:627|(11:628|629|630|(3:632|633|634)(2:1567|1568)|635|636|(5:638|(1:640)(2:1554|(1:1556)(1:1557))|641|(2:643|644)(1:1553)|645)(3:1558|(1:1560)(1:1562)|1561)|(2:1548|1549)|647|(1:649)(1:1547)|650)|(10:(24:(1:652)(2:1534|(2:1536|1537)(52:1538|1539|(1:1533)(4:657|(2:662|663)|1532|663)|(49:1525|1526|(2:1518|1519)|667|668|669|(5:1504|1505|1506|1507|1508)(1:671)|672|673|(1:677)|678|679|(8:681|(1:683)(1:1498)|684|(1:686)(1:1497)|687|(1:689)|690|(36:1496|695|(3:697|698|(36:701|(1:703)(1:1486)|704|705|706|707|708|709|710|712|713|714|715|716|718|719|(1:1449)(4:722|723|(1:725)(1:1444)|726)|727|728|729|730|731|(3:734|735|(14:737|738|739|740|741|742|743|744|745|746|(2:1390|1391)(1:748)|749|750|(9:1316|1317|1318|(4:1320|1321|(7:1323|(1:1325)|1377|1329|1330|(1:1332)|(1:(13:1335|1336|1337|(1:1339)|1340|1341|(2:1343|1344)(1:1346)|1345|(1:762)(1:1304)|763|764|765|(2:(6:803|804|(2:1288|1289)|(7:807|808|809|810|(5:812|813|814|(4:816|(1:818)(1:1235)|819|(1:821)(1:1234))(1:1236)|822)(4:1244|(2:1246|(1:(10:1249|(2:1251|(1:1253))(1:1277)|1254|(1:1256)|1257|(1:1259)(1:1276)|1260|(2:1266|(4:1270|(1:1272)|1273|1274))|1275|1274))(2:1278|(2:1280|(2:827|828))))|1281|(0))|823|(3:825|827|828))(1:1287)|829|(1:(11:834|835|836|(1:838)(1:1228)|839|840|841|(1:843)(3:1057|(4:1211|1212|(1:1214)|1215)(2:1059|(3:1061|(1:1097)(7:1064|1065|1066|1067|(3:1069|1070|(7:1072|1073|1074|(1:1076)(1:1084)|(1:1078)(1:1083)|1079|1080))(1:1091)|1090|1080)|1081)(3:1098|1099|(4:1101|1102|(1:1104)(1:1200)|(11:1106|1107|(4:1125|1126|1127|(13:(1:1160)(3:1132|1133|1134)|(2:1138|1139)|1140|1141|(1:1151)(4:1145|1146|(1:1148)|1149)|1150|1111|1112|(1:1114)(1:1117)|1115|1116|(2:846|847)(5:(7:850|851|852|853|(1:855)(3:858|(2:863|(3:1039|1040|(1:1042))(1:(22:866|(1:868)(1:1034)|869|870|(2:874|875)|876|(3:1000|1001|(6:1003|1004|1005|1006|1007|(15:1009|(3:1015|1016|1017)(3:1011|1012|1013)|1014|880|(1:999)(1:886)|887|(1:889)(1:998)|890|(2:894|(8:896|(1:898)|899|(1:901)(3:987|(1:991)|992)|(9:910|911|912|(1:914)|915|916|917|(7:919|920|921|922|923|924|925)(1:974)|926)(1:903)|904|(3:906|(1:908)|909)|862)(3:993|(1:995)|996))|997|(0)(0)|(0)(0)|904|(0)|862)(15:1022|879|880|(1:882)|999|887|(0)(0)|890|(3:892|894|(0)(0))|997|(0)(0)|(0)(0)|904|(0)|862)))|878|879|880|(0)|999|887|(0)(0)|890|(0)|997|(0)(0)|(0)(0)|904|(0)|862)(1:1035)))|860)|856|857)(1:1056)|861|862|856|857)|848)(2:1161|(6:1163|(3:1167|(2:1173|(2:1175|1176)(1:1182))|1183)|1188|1177|(1:1180)|1181)(1:1190)))(1:1109)|1110|1111|1112|(0)(0)|1115|1116|(0)(0)|848)(4:1196|1197|1198|1199))(3:1201|1202|1203)))|1082)|844|(0)(0)|848)))|833))(13:1355|(1:1357)|1358|(1:1360)|1361|1362|759|760|(0)(0)|763|764|765|(8:(0)|803|804|(0)|(0)(0)|829|(12:(0)|834|835|836|(0)(0)|839|840|841|(0)(0)|844|(0)(0)|848)|833)))(7:1363|760|(0)(0)|763|764|765|(8:(0)|803|804|(0)|(0)(0)|829|(12:(0)|834|835|836|(0)(0)|839|840|841|(0)(0)|844|(0)(0)|848)|833)))(1:1378)|1326)(1:1379)|1328|1329|1330|(0)|(0)(0))(4:752|753|754|(10:756|757|758|759|760|(0)(0)|763|764|765|(8:(0)|803|804|(0)|(0)(0)|829|(12:(0)|834|835|836|(0)(0)|839|840|841|(0)(0)|844|(0)(0)|848)|833))(7:1306|760|(0)(0)|763|764|765|(8:(0)|803|804|(0)|(0)(0)|829|(12:(0)|834|835|836|(0)(0)|839|840|841|(0)(0)|844|(0)(0)|848)|833)))))|1415|(14:1417|1418|1419|(5:1421|(1:1423)(1:1430)|1424|(1:1426)(1:1429)|1427)|741|742|743|744|745|746|(0)(0)|749|750|(0)(0))|740|741|742|743|744|745|746|(0)(0)|749|750|(0)(0)))(1:1493)|1487|707|708|709|710|712|713|714|715|716|718|719|(0)|1449|727|728|729|730|731|(3:734|735|(0))|1415|(0)|740|741|742|743|744|745|746|(0)(0)|749|750|(0)(0)))(1:1499)|694|695|(0)(0)|1487|707|708|709|710|712|713|714|715|716|718|719|(0)|1449|727|728|729|730|731|(0)|1415|(0)|740|741|742|743|744|745|746|(0)(0)|749|750|(0)(0))|665|(0)|667|668|669|(0)(0)|672|673|(2:675|677)|678|679|(0)(0)|694|695|(0)(0)|1487|707|708|709|710|712|713|714|715|716|718|719|(0)|1449|727|728|729|730|731|(0)|1415|(0)|740|741|742|743|744|745|746|(0)(0)|749|750|(0)(0)))|718|719|(0)|1449|727|728|729|730|731|(0)|1415|(0)|740|741|742|743|744|745|746|(0)(0)|749|750|(0)(0))|707|708|709|710|712|713|714|715|716)|653|(1:655)|1533|(0)|665|(0)|667|668|669|(0)(0)|672|673|(0)|678|679|(0)(0)|694|695|(0)(0)|1487) */
    /* JADX WARN: Can't wrap try/catch for region: R(24:580|(8:581|582|583|584|585|586|(1:1585)(6:591|592|593|594|595|596)|597)|(2:599|(13:601|602|(8:625|(65:627|628|629|630|(3:632|633|634)(2:1567|1568)|635|636|(5:638|(1:640)(2:1554|(1:1556)(1:1557))|641|(2:643|644)(1:1553)|645)(3:1558|(1:1560)(1:1562)|1561)|(2:1548|1549)|647|(1:649)(1:1547)|650|(1:652)(2:1534|(2:1536|1537)(52:1538|1539|(1:1533)(4:657|(2:662|663)|1532|663)|(49:1525|1526|(2:1518|1519)|667|668|669|(5:1504|1505|1506|1507|1508)(1:671)|672|673|(1:677)|678|679|(8:681|(1:683)(1:1498)|684|(1:686)(1:1497)|687|(1:689)|690|(36:1496|695|(3:697|698|(36:701|(1:703)(1:1486)|704|705|706|707|708|709|710|712|713|714|715|716|718|719|(1:1449)(4:722|723|(1:725)(1:1444)|726)|727|728|729|730|731|(3:734|735|(14:737|738|739|740|741|742|743|744|745|746|(2:1390|1391)(1:748)|749|750|(9:1316|1317|1318|(4:1320|1321|(7:1323|(1:1325)|1377|1329|1330|(1:1332)|(1:(13:1335|1336|1337|(1:1339)|1340|1341|(2:1343|1344)(1:1346)|1345|(1:762)(1:1304)|763|764|765|(2:(6:803|804|(2:1288|1289)|(7:807|808|809|810|(5:812|813|814|(4:816|(1:818)(1:1235)|819|(1:821)(1:1234))(1:1236)|822)(4:1244|(2:1246|(1:(10:1249|(2:1251|(1:1253))(1:1277)|1254|(1:1256)|1257|(1:1259)(1:1276)|1260|(2:1266|(4:1270|(1:1272)|1273|1274))|1275|1274))(2:1278|(2:1280|(2:827|828))))|1281|(0))|823|(3:825|827|828))(1:1287)|829|(1:(11:834|835|836|(1:838)(1:1228)|839|840|841|(1:843)(3:1057|(4:1211|1212|(1:1214)|1215)(2:1059|(3:1061|(1:1097)(7:1064|1065|1066|1067|(3:1069|1070|(7:1072|1073|1074|(1:1076)(1:1084)|(1:1078)(1:1083)|1079|1080))(1:1091)|1090|1080)|1081)(3:1098|1099|(4:1101|1102|(1:1104)(1:1200)|(11:1106|1107|(4:1125|1126|1127|(13:(1:1160)(3:1132|1133|1134)|(2:1138|1139)|1140|1141|(1:1151)(4:1145|1146|(1:1148)|1149)|1150|1111|1112|(1:1114)(1:1117)|1115|1116|(2:846|847)(5:(7:850|851|852|853|(1:855)(3:858|(2:863|(3:1039|1040|(1:1042))(1:(22:866|(1:868)(1:1034)|869|870|(2:874|875)|876|(3:1000|1001|(6:1003|1004|1005|1006|1007|(15:1009|(3:1015|1016|1017)(3:1011|1012|1013)|1014|880|(1:999)(1:886)|887|(1:889)(1:998)|890|(2:894|(8:896|(1:898)|899|(1:901)(3:987|(1:991)|992)|(9:910|911|912|(1:914)|915|916|917|(7:919|920|921|922|923|924|925)(1:974)|926)(1:903)|904|(3:906|(1:908)|909)|862)(3:993|(1:995)|996))|997|(0)(0)|(0)(0)|904|(0)|862)(15:1022|879|880|(1:882)|999|887|(0)(0)|890|(3:892|894|(0)(0))|997|(0)(0)|(0)(0)|904|(0)|862)))|878|879|880|(0)|999|887|(0)(0)|890|(0)|997|(0)(0)|(0)(0)|904|(0)|862)(1:1035)))|860)|856|857)(1:1056)|861|862|856|857)|848)(2:1161|(6:1163|(3:1167|(2:1173|(2:1175|1176)(1:1182))|1183)|1188|1177|(1:1180)|1181)(1:1190)))(1:1109)|1110|1111|1112|(0)(0)|1115|1116|(0)(0)|848)(4:1196|1197|1198|1199))(3:1201|1202|1203)))|1082)|844|(0)(0)|848)))|833))(13:1355|(1:1357)|1358|(1:1360)|1361|1362|759|760|(0)(0)|763|764|765|(8:(0)|803|804|(0)|(0)(0)|829|(12:(0)|834|835|836|(0)(0)|839|840|841|(0)(0)|844|(0)(0)|848)|833)))(7:1363|760|(0)(0)|763|764|765|(8:(0)|803|804|(0)|(0)(0)|829|(12:(0)|834|835|836|(0)(0)|839|840|841|(0)(0)|844|(0)(0)|848)|833)))(1:1378)|1326)(1:1379)|1328|1329|1330|(0)|(0)(0))(4:752|753|754|(10:756|757|758|759|760|(0)(0)|763|764|765|(8:(0)|803|804|(0)|(0)(0)|829|(12:(0)|834|835|836|(0)(0)|839|840|841|(0)(0)|844|(0)(0)|848)|833))(7:1306|760|(0)(0)|763|764|765|(8:(0)|803|804|(0)|(0)(0)|829|(12:(0)|834|835|836|(0)(0)|839|840|841|(0)(0)|844|(0)(0)|848)|833)))))|1415|(14:1417|1418|1419|(5:1421|(1:1423)(1:1430)|1424|(1:1426)(1:1429)|1427)|741|742|743|744|745|746|(0)(0)|749|750|(0)(0))|740|741|742|743|744|745|746|(0)(0)|749|750|(0)(0)))(1:1493)|1487|707|708|709|710|712|713|714|715|716|718|719|(0)|1449|727|728|729|730|731|(3:734|735|(0))|1415|(0)|740|741|742|743|744|745|746|(0)(0)|749|750|(0)(0)))(1:1499)|694|695|(0)(0)|1487|707|708|709|710|712|713|714|715|716|718|719|(0)|1449|727|728|729|730|731|(0)|1415|(0)|740|741|742|743|744|745|746|(0)(0)|749|750|(0)(0))|665|(0)|667|668|669|(0)(0)|672|673|(2:675|677)|678|679|(0)(0)|694|695|(0)(0)|1487|707|708|709|710|712|713|714|715|716|718|719|(0)|1449|727|728|729|730|731|(0)|1415|(0)|740|741|742|743|744|745|746|(0)(0)|749|750|(0)(0)))|653|(1:655)|1533|(0)|665|(0)|667|668|669|(0)(0)|672|673|(0)|678|679|(0)(0)|694|695|(0)(0)|1487|707|708|709|710|712|713|714|715|716|718|719|(0)|1449|727|728|729|730|731|(0)|1415|(0)|740|741|742|743|744|745|746|(0)(0)|749|750|(0)(0))(1:1573)|(2:798|799)|(1:779)|(2:781|782)(1:797)|(2:791|792)|784|785)(10:605|606|607|608|609|610|(1:617)(1:613)|614|615|616)|72|(1:74)|75|(2:113|114)|(2:109|110)|(2:105|106)|(2:101|102)|(2:97|98)|81|(2:83|84)(2:86|(3:93|(1:95)|96)(2:91|92))))(1:1578)|1576|602|(0)|625|(0)(0)|(0)|(0)|(0)(0)|(0)|784|785|72|(0)|75|(0)|(0)|(0)|(0)|(0)|81|(0)(0)) */
    /* JADX WARN: Can't wrap try/catch for region: R(37:(2:13|(1:15)(2:574|(1:576)(1:577)))(1:(1:579))|(4:17|18|19|(30:21|22|23|24|(2:529|530)|26|28|29|30|31|32|33|34|35|36|38|39|(3:487|488|(12:490|42|43|44|46|47|48|(2:473|474)(1:50)|51|(4:53|54|55|56)(1:471)|57|(2:(5:191|192|(2:450|451)|194|(1:(9:199|(1:201)(1:449)|202|203|204|(1:206)(3:273|(4:437|438|(1:440)|441)(19:275|(5:277|(1:279)|280|(1:320)(7:283|284|285|286|(2:288|(8:290|291|292|293|(1:295)(1:303)|(1:297)(1:302)|298|299))(1:314)|313|299)|300)(2:321|(4:323|324|(1:326)(1:433)|(10:328|329|(6:344|345|346|(5:(1:388)(3:351|352|353)|(2:357|358)|359|360|(1:375)(6:364|365|(1:367)|368|369|370))(2:389|(2:391|(6:393|(3:397|(2:403|(2:405|406)(1:412))|413)|418|407|(1:410)|411)(1:420)))|(2:209|210)(3:(7:213|214|215|216|217|218|(1:220))(1:272)|221|222)|211)(1:331)|332|333|(1:335)(1:338)|336|337|(0)(0)|211)(3:430|431|432))(3:434|435|436))|307|227|228|229|(1:260)(1:232)|233|234|235|236|237|238|239|240|241|242|243|244)|301)|207|(0)(0)|211)))(2:60|61)|198)))|41|42|43|44|46|47|48|(0)(0)|51|(0)(0)|57|(7:(0)|191|192|(0)|194|(10:(0)|199|(0)(0)|202|203|204|(0)(0)|207|(0)(0)|211)|198)))(1:573)|544|545|546|(4:548|(1:550)(1:562)|551|552)(1:563)|553|(4:555|(1:557)|558|559)|22|23|24|(0)|26|28|29|30|31|32|33|34|35|36|38|39|(0)|41|42|43|44|46|47|48|(0)(0)|51|(0)(0)|57|(7:(0)|191|192|(0)|194|(10:(0)|199|(0)(0)|202|203|204|(0)(0)|207|(0)(0)|211)|198)) */
    /* JADX WARN: Code restructure failed: missing block: B:1115:0x1693, code lost:
        r22 = r1;
        r5 = r52;
        r1 = r79;
        r8 = r89;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1116:0x16b2, code lost:
        throw new java.lang.RuntimeException("unexpected result from decoder.dequeueOutputBuffer: " + r2);
     */
    /* JADX WARN: Code restructure failed: missing block: B:1214:0x1980, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1215:0x1981, code lost:
        r2 = r95;
        r12 = r93;
        r1 = r5;
        r19 = r15;
        r66 = r32;
        r4 = r50;
        r24 = r52;
        r5 = false;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1216:0x1990, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1217:0x1991, code lost:
        r2 = r95;
        r12 = r93;
        r1 = r5;
        r4 = r50;
        r3 = -5;
        r5 = r0;
        r6 = r14;
        r15 = r15;
        r10 = "x";
        r14 = r32;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1218:0x19a7, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1219:0x19a8, code lost:
        r24 = r2;
        r12 = r93;
        r1 = r5;
        r19 = r15;
        r66 = r32;
        r4 = r50;
        r5 = false;
        r2 = r95;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1220:0x19b6, code lost:
        r3 = r0;
        r6 = r14;
     */
    /* JADX WARN: Code restructure failed: missing block: B:249:0x0592, code lost:
        throw new java.lang.RuntimeException("unsupported!!");
     */
    /* JADX WARN: Code restructure failed: missing block: B:304:0x06c7, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:305:0x06c8, code lost:
        r2 = r95;
        r5 = r0;
        r4 = r1;
        r1 = r6;
        r15 = r10;
        r12 = r93;
        r8 = r2;
        r61 = r34;
        r20 = r35;
        r78 = r36;
        r6 = r37;
        r10 = "x";
        r34 = r10;
        r28 = false;
        r47 = null;
        r14 = r3;
        r52 = r11;
     */
    /* JADX WARN: Code restructure failed: missing block: B:306:0x06e5, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:307:0x06e6, code lost:
        r26 = r6;
        r15 = r10;
        r8 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:308:0x06ed, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:309:0x06ee, code lost:
        r2 = r95;
        r5 = r0;
        r4 = r1;
        r1 = r6;
        r15 = r10;
        r12 = r93;
        r8 = r2;
     */
    /* JADX WARN: Code restructure failed: missing block: B:310:0x06f8, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:311:0x06f9, code lost:
        r26 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:312:0x06fd, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:313:0x06fe, code lost:
        r35 = r15;
        r2 = r95;
        r5 = r0;
        r4 = r1;
        r15 = r10;
        r12 = r93;
        r8 = r2;
        r1 = r5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:314:0x070c, code lost:
        r61 = r34;
        r20 = r35;
        r78 = r36;
        r6 = r37;
        r10 = "x";
        r34 = r10;
        r28 = false;
        r47 = null;
        r52 = null;
        r14 = r3;
     */
    /* JADX WARN: Code restructure failed: missing block: B:315:0x071f, code lost:
        r3 = -5;
        r52 = r52;
     */
    /* JADX WARN: Code restructure failed: missing block: B:316:0x0722, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:317:0x0723, code lost:
        r26 = r5;
        r35 = r15;
     */
    /* JADX WARN: Code restructure failed: missing block: B:318:0x0728, code lost:
        r15 = r10;
        r8 = -5;
        r11 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:319:0x072c, code lost:
        r25 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:321:0x0731, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:322:0x0732, code lost:
        r2 = r95;
        r5 = r0;
        r4 = r1;
        r14 = r3;
        r15 = r10;
        r12 = r93;
        r1 = r5;
        r61 = r34;
        r20 = r15;
        r78 = r36;
        r6 = r37;
     */
    /* JADX WARN: Code restructure failed: missing block: B:323:0x0748, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:325:0x074a, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:326:0x074b, code lost:
        r2 = r95;
        r5 = r0;
        r4 = r1;
        r14 = r3;
        r15 = r10;
        r12 = r93;
        r1 = r5;
        r61 = r34;
        r20 = r15;
        r78 = r36;
     */
    /* JADX WARN: Code restructure failed: missing block: B:327:0x0760, code lost:
        r10 = "x";
        r34 = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:330:0x076e, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:331:0x076f, code lost:
        r37 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:332:0x0771, code lost:
        r26 = r5;
        r35 = r15;
        r14 = r3;
        r15 = r10;
        r2 = null;
        r8 = -5;
        r11 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:334:0x077f, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:335:0x0780, code lost:
        r2 = r95;
        r5 = r0;
        r4 = r1;
        r14 = r3;
        r15 = r10;
        r12 = r93;
        r1 = r5;
        r61 = r34;
        r20 = r15;
        r10 = "x";
        r34 = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:337:0x079b, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:338:0x079c, code lost:
        r37 = r6;
        r26 = r5;
        r35 = r15;
        r14 = r3;
        r15 = r10;
        r2 = null;
        r8 = -5;
        r11 = null;
        r25 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:339:0x07ab, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:340:0x07ac, code lost:
        r2 = r95;
        r5 = r0;
        r4 = r1;
        r14 = r3;
        r15 = r10;
        r12 = r93;
        r61 = r34;
        r1 = r5;
        r10 = "x";
        r34 = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:342:0x07c0, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:343:0x07c1, code lost:
        r37 = r6;
        r26 = r5;
        r14 = r3;
        r15 = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:344:0x07c8, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:347:0x07d1, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:348:0x07d2, code lost:
        r37 = r6;
        r26 = r5;
        r14 = r3;
        r15 = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:353:0x07e5, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:358:0x07f7, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:359:0x07f8, code lost:
        r37 = r6;
        r26 = r5;
        r3 = r0;
        r1 = null;
        r2 = null;
        r8 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:456:0x0a30, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:457:0x0a31, code lost:
        r2 = r95;
        r5 = r0;
        r12 = r93;
        r1 = r15;
        r6 = r3;
     */
    /* JADX WARN: Code restructure failed: missing block: B:686:0x0efa, code lost:
        if (r6.getString(r9).equals("audio/mpeg") != false) goto L1377;
     */
    /* JADX WARN: Code restructure failed: missing block: B:755:0x1046, code lost:
        r54 = r9;
        r13 = r19;
        r24 = r52;
        r6 = r57;
        r10 = "x";
        r5 = false;
        r28 = false;
        r9 = r1;
        r52 = r2;
        r1 = r79;
        r2 = r95;
     */
    /* JADX WARN: Finally extract failed */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:101:0x0329 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:1045:0x15a2 A[Catch: all -> 0x15b5, Exception -> 0x15b7, TryCatch #49 {Exception -> 0x15b7, blocks: (B:1021:0x152f, B:1026:0x153f, B:1031:0x1553, B:1045:0x15a2, B:1047:0x15aa, B:1065:0x15d3, B:1067:0x15d7, B:1086:0x162a, B:1080:0x1615, B:1069:0x15f7, B:1071:0x1600, B:1028:0x1549, B:1030:0x1550), top: B:1424:0x152f }] */
    /* JADX WARN: Removed duplicated region for block: B:1057:0x15c2  */
    /* JADX WARN: Removed duplicated region for block: B:1058:0x15c5  */
    /* JADX WARN: Removed duplicated region for block: B:1061:0x15cb  */
    /* JADX WARN: Removed duplicated region for block: B:1065:0x15d3 A[Catch: all -> 0x15b5, Exception -> 0x15b7, TryCatch #49 {Exception -> 0x15b7, blocks: (B:1021:0x152f, B:1026:0x153f, B:1031:0x1553, B:1045:0x15a2, B:1047:0x15aa, B:1065:0x15d3, B:1067:0x15d7, B:1086:0x162a, B:1080:0x1615, B:1069:0x15f7, B:1071:0x1600, B:1028:0x1549, B:1030:0x1550), top: B:1424:0x152f }] */
    /* JADX WARN: Removed duplicated region for block: B:1069:0x15f7 A[Catch: all -> 0x15b5, Exception -> 0x15b7, TryCatch #49 {Exception -> 0x15b7, blocks: (B:1021:0x152f, B:1026:0x153f, B:1031:0x1553, B:1045:0x15a2, B:1047:0x15aa, B:1065:0x15d3, B:1067:0x15d7, B:1086:0x162a, B:1080:0x1615, B:1069:0x15f7, B:1071:0x1600, B:1028:0x1549, B:1030:0x1550), top: B:1424:0x152f }] */
    /* JADX WARN: Removed duplicated region for block: B:1075:0x1608  */
    /* JADX WARN: Removed duplicated region for block: B:1076:0x160b  */
    /* JADX WARN: Removed duplicated region for block: B:1104:0x166e  */
    /* JADX WARN: Removed duplicated region for block: B:1107:0x167c A[Catch: all -> 0x16b3, Exception -> 0x16b9, TryCatch #140 {Exception -> 0x16b9, all -> 0x16b3, blocks: (B:1097:0x1650, B:1105:0x1676, B:1107:0x167c, B:1109:0x1680, B:1110:0x1685, B:1115:0x1693, B:1116:0x16b2), top: B:1603:0x1650 }] */
    /* JADX WARN: Removed duplicated region for block: B:115:0x0373 A[ADDED_TO_REGION, EDGE_INSN: B:115:0x0373->B:1625:0x0376 ?: BREAK  ] */
    /* JADX WARN: Removed duplicated region for block: B:120:0x0382  */
    /* JADX WARN: Removed duplicated region for block: B:121:0x038d  */
    /* JADX WARN: Removed duplicated region for block: B:1236:0x1a0e A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:1248:0x1a56 A[Catch: all -> 0x1a62, TRY_LEAVE, TryCatch #46 {all -> 0x1a62, blocks: (B:1246:0x1a4d, B:1248:0x1a56), top: B:1420:0x1a4d }] */
    /* JADX WARN: Removed duplicated region for block: B:125:0x039a  */
    /* JADX WARN: Removed duplicated region for block: B:1264:0x1a99  */
    /* JADX WARN: Removed duplicated region for block: B:1273:0x1ace A[Catch: all -> 0x1abc, TryCatch #120 {all -> 0x1abc, blocks: (B:1266:0x1ab7, B:1273:0x1ace, B:1275:0x1ad5), top: B:1474:0x1ab7 }] */
    /* JADX WARN: Removed duplicated region for block: B:1275:0x1ad5 A[Catch: all -> 0x1abc, TRY_LEAVE, TryCatch #120 {all -> 0x1abc, blocks: (B:1266:0x1ab7, B:1273:0x1ace, B:1275:0x1ad5), top: B:1474:0x1ab7 }] */
    /* JADX WARN: Removed duplicated region for block: B:1277:0x1ade  */
    /* JADX WARN: Removed duplicated region for block: B:127:0x03ae  */
    /* JADX WARN: Removed duplicated region for block: B:1284:0x1afa  */
    /* JADX WARN: Removed duplicated region for block: B:1321:0x1bb0  */
    /* JADX WARN: Removed duplicated region for block: B:1344:0x1beb  */
    /* JADX WARN: Removed duplicated region for block: B:1346:0x1bf7  */
    /* JADX WARN: Removed duplicated region for block: B:1390:0x1ae2 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1393:0x1bd8 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1397:0x1bdf A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1401:0x0340 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1403:0x1b14 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1408:0x084b A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1428:0x0b6d A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1440:0x0e72 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1444:0x1bca A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1450:0x1bd1 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1457:0x029b A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1474:0x1ab7 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1478:0x1bb7 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1495:0x1b29 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1501:0x1b1b A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1506:0x1b22 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1508:0x1b01 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1512:0x0b39 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1549:0x0238 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1553:0x0b42 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1571:0x1061 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1592:0x1620 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1595:0x01ab A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1611:0x0ec0 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:268:0x05e4  */
    /* JADX WARN: Removed duplicated region for block: B:270:0x05f6  */
    /* JADX WARN: Removed duplicated region for block: B:363:0x080c A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:380:0x086b A[Catch: all -> 0x0850, TryCatch #33 {all -> 0x0850, blocks: (B:376:0x084b, B:380:0x086b, B:382:0x0871, B:384:0x087a, B:385:0x087d), top: B:1408:0x084b }] */
    /* JADX WARN: Removed duplicated region for block: B:382:0x0871 A[Catch: all -> 0x0850, TryCatch #33 {all -> 0x0850, blocks: (B:376:0x084b, B:380:0x086b, B:382:0x0871, B:384:0x087a, B:385:0x087d), top: B:1408:0x084b }] */
    /* JADX WARN: Removed duplicated region for block: B:384:0x087a A[Catch: all -> 0x0850, TryCatch #33 {all -> 0x0850, blocks: (B:376:0x084b, B:380:0x086b, B:382:0x0871, B:384:0x087a, B:385:0x087d), top: B:1408:0x084b }] */
    /* JADX WARN: Removed duplicated region for block: B:449:0x0a14  */
    /* JADX WARN: Removed duplicated region for block: B:545:0x0bc3  */
    /* JADX WARN: Removed duplicated region for block: B:548:0x0bdc A[Catch: Exception -> 0x0b94, all -> 0x0ba6, TRY_ENTER, TryCatch #105 {all -> 0x0ba6, blocks: (B:532:0x0b6d, B:534:0x0b74, B:548:0x0bdc, B:550:0x0be2, B:554:0x0bfe, B:556:0x0c06, B:558:0x0c12, B:560:0x0c1a, B:562:0x0c26, B:564:0x0c2e, B:576:0x0c4b), top: B:1428:0x0b6d }] */
    /* JADX WARN: Removed duplicated region for block: B:554:0x0bfe A[Catch: Exception -> 0x0b94, all -> 0x0ba6, TRY_ENTER, TryCatch #105 {all -> 0x0ba6, blocks: (B:532:0x0b6d, B:534:0x0b74, B:548:0x0bdc, B:550:0x0be2, B:554:0x0bfe, B:556:0x0c06, B:558:0x0c12, B:560:0x0c1a, B:562:0x0c26, B:564:0x0c2e, B:576:0x0c4b), top: B:1428:0x0b6d }] */
    /* JADX WARN: Removed duplicated region for block: B:572:0x0c3e  */
    /* JADX WARN: Removed duplicated region for block: B:576:0x0c4b A[Catch: Exception -> 0x0b94, all -> 0x0ba6, TRY_LEAVE, TryCatch #105 {all -> 0x0ba6, blocks: (B:532:0x0b6d, B:534:0x0b74, B:548:0x0bdc, B:550:0x0be2, B:554:0x0bfe, B:556:0x0c06, B:558:0x0c12, B:560:0x0c1a, B:562:0x0c26, B:564:0x0c2e, B:576:0x0c4b), top: B:1428:0x0b6d }] */
    /* JADX WARN: Removed duplicated region for block: B:590:0x0c77  */
    /* JADX WARN: Removed duplicated region for block: B:599:0x0cb5 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:618:0x0d37 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:621:0x0d3f  */
    /* JADX WARN: Removed duplicated region for block: B:634:0x0de6  */
    /* JADX WARN: Removed duplicated region for block: B:672:0x0ea7  */
    /* JADX WARN: Removed duplicated region for block: B:692:0x0f0f  */
    /* JADX WARN: Removed duplicated region for block: B:694:0x0f12  */
    /* JADX WARN: Removed duplicated region for block: B:719:0x0fa7  */
    /* JADX WARN: Removed duplicated region for block: B:732:0x0fd5  */
    /* JADX WARN: Removed duplicated region for block: B:747:0x101d  */
    /* JADX WARN: Removed duplicated region for block: B:748:0x101f  */
    /* JADX WARN: Removed duplicated region for block: B:752:0x1041 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:765:0x109a  */
    /* JADX WARN: Removed duplicated region for block: B:823:0x11cd  */
    /* JADX WARN: Removed duplicated region for block: B:837:0x1220  */
    /* JADX WARN: Removed duplicated region for block: B:840:0x123f A[ADDED_TO_REGION, EDGE_INSN: B:840:0x123f->B:1640:0x1242 ?: BREAK  ] */
    /* JADX WARN: Removed duplicated region for block: B:846:0x1261  */
    /* JADX WARN: Removed duplicated region for block: B:847:0x1272  */
    /* JADX WARN: Removed duplicated region for block: B:851:0x1285  */
    /* JADX WARN: Removed duplicated region for block: B:853:0x1296  */
    /* JADX WARN: Removed duplicated region for block: B:90:0x02c8  */
    /* JADX WARN: Removed duplicated region for block: B:93:0x02eb A[Catch: all -> 0x02a0, Exception -> 0x02bf, TRY_ENTER, TRY_LEAVE, TryCatch #84 {Exception -> 0x02bf, blocks: (B:82:0x029b, B:93:0x02eb), top: B:1457:0x029b }] */
    /* JADX WARN: Removed duplicated region for block: B:977:0x146d  */
    /* JADX WARN: Removed duplicated region for block: B:978:0x146f  */
    /* JADX WARN: Removed duplicated region for block: B:982:0x147c  */
    /* JADX WARN: Removed duplicated region for block: B:984:0x1495  */
    /* JADX WARN: Removed duplicated region for block: B:98:0x0318  */
    /* JADX WARN: Type inference failed for: r11v142 */
    /* JADX WARN: Type inference failed for: r11v143 */
    /* JADX WARN: Type inference failed for: r11v55 */
    /* JADX WARN: Type inference failed for: r2v14, types: [java.lang.StringBuilder] */
    /* JADX WARN: Type inference failed for: r3v1, types: [long] */
    /* JADX WARN: Type inference failed for: r3v100 */
    /* JADX WARN: Type inference failed for: r3v117 */
    /* JADX WARN: Type inference failed for: r3v97 */
    /* JADX WARN: Type inference failed for: r4v9, types: [boolean] */
    /* JADX WARN: Type inference failed for: r52v4 */
    /* JADX WARN: Type inference failed for: r5v125 */
    /* JADX WARN: Type inference failed for: r5v127 */
    /* JADX WARN: Type inference failed for: r5v133, types: [long] */
    /* JADX WARN: Type inference failed for: r5v154 */
    /* JADX WARN: Type inference failed for: r5v178 */
    /* JADX WARN: Type inference failed for: r5v305 */
    /* JADX WARN: Type inference failed for: r5v306 */
    /* JADX WARN: Type inference failed for: r5v65, types: [android.media.MediaExtractor] */
    /* JADX WARN: Type inference failed for: r7v55, types: [android.media.MediaExtractor] */
    /* JADX WARN: Type inference failed for: r9v107 */
    /* JADX WARN: Type inference failed for: r9v108 */
    /* JADX WARN: Type inference failed for: r9v154 */
    /* JADX WARN: Type inference failed for: r9v155 */
    /* JADX WARN: Type inference failed for: r9v41 */
    @TargetApi(18)
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private boolean convertVideoInternal(ConvertVideoParams convertVideoParams, boolean z, int i) {
        boolean z2;
        MediaCodecVideoConvertor mediaCodecVideoConvertor;
        File file;
        int i2;
        int i3;
        String str;
        Throwable th;
        MediaCodec mediaCodec;
        InputSurface inputSurface;
        String str2;
        boolean z3;
        MediaCodec mediaCodec2;
        OutputSurface outputSurface;
        boolean z4;
        MediaExtractor mediaExtractor;
        MP4Builder mP4Builder;
        int i4;
        String str3;
        boolean z5;
        boolean z6;
        MediaCodec.BufferInfo bufferInfo;
        Mp4Movie mp4Movie;
        long j;
        float f;
        long j2;
        String str4;
        String str5;
        String str6;
        int findTrack;
        int i5;
        String str7;
        int i6;
        int i7;
        boolean z7;
        int i8;
        int i9;
        boolean z8;
        MediaCodec mediaCodec3;
        OutputSurface outputSurface2;
        MediaCodec mediaCodec4;
        AudioRecoder audioRecoder;
        InputSurface inputSurface2;
        OutputSurface outputSurface3;
        Throwable th2;
        MediaCodec mediaCodec5;
        MediaCodec mediaCodec6;
        OutputSurface outputSurface4;
        String str8;
        MediaCodec mediaCodec7;
        InputSurface inputSurface3;
        int i10;
        int i11;
        int i12;
        int i13;
        int i14;
        int i15;
        Exception exc;
        int i16;
        MediaCodec mediaCodec8;
        MediaCodec mediaCodec9;
        int i17;
        MediaCodec mediaCodec10;
        long j3;
        int i18;
        MediaCodec mediaCodec11;
        long j4;
        MediaFormat trackFormat;
        int i19;
        int i20;
        String str9;
        long j5;
        Object obj;
        long j6;
        long j7;
        int i21;
        int i22;
        int i23;
        MediaCodec createByCodecName;
        MediaCodec mediaCodec12;
        StringBuilder sb;
        int i24;
        MediaFormat createVideoFormat;
        int i25;
        String str10;
        Mp4Movie mp4Movie2;
        int i26;
        int i27;
        boolean z9;
        int i28;
        int i29;
        String name;
        int i30;
        int i31;
        int i32;
        int i33;
        InputSurface inputSurface4;
        MediaCodec mediaCodec13;
        OutputSurface outputSurface5;
        StoryEntry.HDRInfo hDRInfo;
        OutputSurface outputSurface6;
        int i34;
        int i35;
        int i36;
        int i37;
        boolean z10;
        float f2;
        MediaCodec.BufferInfo bufferInfo2;
        Object obj2;
        int i38;
        long j8;
        long j9;
        long j10;
        long j11;
        MediaFormat mediaFormat;
        int i39;
        int i40;
        OutputSurface outputSurface7;
        int i41;
        OutputSurface outputSurface8;
        MediaCodec mediaCodec14;
        OutputSurface outputSurface9;
        ByteBuffer[] inputBuffers;
        ByteBuffer[] outputBuffers;
        AudioRecoder audioRecoder2;
        ConvertVideoParams convertVideoParams2;
        String str11;
        boolean z11;
        ByteBuffer[] byteBufferArr;
        long j12;
        boolean z12;
        int i42;
        int i43;
        int i44;
        int i45;
        ByteBuffer byteBuffer;
        long j13;
        boolean z13;
        boolean z14;
        boolean z15;
        boolean z16;
        int i46;
        long j14;
        ?? r5;
        int i47;
        ?? r3;
        MediaCodec mediaCodec15;
        OutputSurface outputSurface10;
        MediaCodec mediaCodec16;
        ByteBuffer[] byteBufferArr2;
        int i48;
        boolean z17;
        int i49;
        int i50;
        MediaCodec.BufferInfo bufferInfo3;
        boolean z18;
        int i51;
        long j15;
        MediaCodec mediaCodec17;
        boolean z19;
        boolean z20;
        long j16;
        int i52;
        int dequeueOutputBuffer;
        MediaCodec mediaCodec18;
        long j17;
        boolean z21;
        String str12;
        int i53;
        int i54;
        ByteBuffer outputBuffer;
        MediaCodec mediaCodec19;
        ByteBuffer byteBuffer2;
        ByteBuffer byteBuffer3;
        MediaCodec mediaCodec20;
        MediaController.VideoConvertorListener videoConvertorListener;
        int i55;
        int i56;
        int i57;
        long j18;
        int i58;
        long j19;
        OutputSurface outputSurface11;
        int i59;
        boolean z22;
        boolean z23;
        long j20;
        long j21;
        long j22;
        boolean z24;
        boolean z25;
        long j23;
        int i60;
        boolean z26;
        int i61;
        ByteBuffer byteBuffer4;
        int i62;
        MediaController.VideoConvertorListener videoConvertorListener2;
        int dequeueInputBuffer;
        ByteBuffer inputBuffer;
        int i63;
        int i64;
        long j24;
        boolean z27;
        MediaExtractor mediaExtractor2;
        MP4Builder mP4Builder2;
        MediaController.CropState cropState;
        Exception exc2;
        int i65;
        int i66;
        InputSurface inputSurface5;
        OutputSurface outputSurface12;
        AudioRecoder audioRecoder3;
        boolean z28;
        float f3;
        boolean z29;
        int i67;
        String str13;
        boolean z30;
        OutputSurface outputSurface13;
        MediaController.CropState cropState2;
        int i68;
        ByteBuffer[] outputBuffers2;
        boolean z31;
        int i69;
        int i70;
        AudioRecoder audioRecoder4;
        boolean z32;
        boolean z33;
        int i71;
        boolean z34;
        boolean z35;
        int i72;
        boolean z36;
        long j25;
        int dequeueOutputBuffer2;
        int i73;
        InputSurface inputSurface6;
        int i74;
        OutputSurface outputSurface14;
        String str14;
        int i75;
        ByteBuffer outputBuffer2;
        int i76;
        ByteBuffer byteBuffer5;
        ByteBuffer byteBuffer6;
        MediaController.VideoConvertorListener videoConvertorListener3;
        InputSurface inputSurface7;
        int i77;
        String str15 = convertVideoParams.videoPath;
        File file2 = convertVideoParams.cacheFile;
        int i78 = convertVideoParams.rotationValue;
        boolean z37 = convertVideoParams.isSecret;
        int i79 = convertVideoParams.originalWidth;
        int i80 = convertVideoParams.originalHeight;
        int i81 = convertVideoParams.resultWidth;
        int i82 = convertVideoParams.resultHeight;
        int i83 = convertVideoParams.framerate;
        int i84 = convertVideoParams.bitrate;
        int i85 = convertVideoParams.originalBitrate;
        ?? r32 = convertVideoParams.startTime;
        long j26 = convertVideoParams.endTime;
        long j27 = convertVideoParams.avatarStartTime;
        boolean z38 = convertVideoParams.needCompress;
        long j28 = convertVideoParams.duration;
        File file3 = z38 ? 1 : 0;
        MediaController.SavedFilterState savedFilterState = convertVideoParams.savedFilterState;
        String str16 = convertVideoParams.paintPath;
        String str17 = convertVideoParams.blurPath;
        ArrayList<VideoEditedInfo.MediaEntity> arrayList = convertVideoParams.mediaEntities;
        boolean z39 = convertVideoParams.isPhoto;
        MediaController.CropState cropState3 = convertVideoParams.cropState;
        boolean z40 = convertVideoParams.isRound;
        Integer num = convertVideoParams.gradientTopColor;
        Integer num2 = convertVideoParams.gradientBottomColor;
        boolean z41 = convertVideoParams.muted;
        float f4 = convertVideoParams.volume;
        boolean z42 = convertVideoParams.isStory;
        StoryEntry.HDRInfo hDRInfo2 = convertVideoParams.hdrInfo;
        FileLog.d("convertVideoInternal original=" + i79 + "x" + i80 + "  result=" + i81 + "x" + i82 + " " + j27);
        long currentTimeMillis = System.currentTimeMillis();
        boolean z43 = j27 >= 0;
        this.outputMimeType = z42 ? "video/hevc" : MediaController.VIDEO_MIME_TYPE;
        try {
            bufferInfo = new MediaCodec.BufferInfo();
            mp4Movie = new Mp4Movie();
            mp4Movie.setCacheFile(file2);
            j = j27;
            mp4Movie.setRotation(0);
            mp4Movie.setSize(i81, i82);
            f = ((float) j28) / 1000.0f;
            j2 = j28 * 1000;
            this.endPresentationTime = j2;
            checkConversionCanceled();
            str4 = "csd-0";
            str5 = "prepend-sps-pps-to-idr-frames";
        } catch (Throwable th3) {
            th = th3;
            z2 = z;
            mediaCodecVideoConvertor = this;
            file = file3;
            i2 = i83;
            i3 = -5;
            file3 = file2;
            str = "x";
        }
        if (z39) {
            if (z43) {
                i84 = f <= 2000.0f ? 2600000 : f <= 5000.0f ? 2200000 : 1560000;
            } else if (i84 <= 0) {
                i84 = 921600;
            }
            if (cropState3 != null) {
                cropState = cropState3;
                try {
                } catch (Exception e) {
                    exc2 = e;
                    i65 = i84;
                    i66 = i83;
                    mediaCodec7 = null;
                    inputSurface5 = null;
                    i10 = -5;
                    outputSurface12 = null;
                    audioRecoder3 = null;
                    str8 = null;
                    z28 = false;
                    try {
                        if (exc2 instanceof IllegalStateException) {
                        }
                        try {
                            StringBuilder sb2 = new StringBuilder();
                            sb2.append("bitrate: ");
                            i84 = i65;
                            try {
                                sb2.append(i84);
                                sb2.append(" framerate: ");
                                i67 = i66;
                                try {
                                    sb2.append(i67);
                                    sb2.append(" size: ");
                                    sb2.append(i82);
                                    str13 = "x";
                                    try {
                                        sb2.append(str13);
                                        sb2.append(i81);
                                        FileLog.e(sb2.toString());
                                        FileLog.e(exc2);
                                        z5 = z29;
                                        i4 = i82;
                                        z30 = true;
                                        outputSurface4 = outputSurface12;
                                        if (outputSurface4 != null) {
                                        }
                                        if (inputSurface5 != null) {
                                        }
                                        if (mediaCodec7 != null) {
                                        }
                                        if (audioRecoder3 != null) {
                                        }
                                        checkConversionCanceled();
                                        inputSurface3 = inputSurface5;
                                        z6 = z30;
                                        mediaCodecVideoConvertor = this;
                                        file = file3;
                                        z4 = z28;
                                        file3 = file2;
                                        mediaCodec6 = null;
                                        z2 = z;
                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                        if (mP4Builder2 != null) {
                                        }
                                        if (mediaCodec7 != null) {
                                        }
                                        if (mediaCodec6 != null) {
                                        }
                                        if (outputSurface4 != null) {
                                        }
                                        if (inputSurface3 != null) {
                                        }
                                        str3 = str8;
                                    } catch (Throwable th4) {
                                        th = th4;
                                        mediaCodec = mediaCodec7;
                                        i2 = i67;
                                        str = str13;
                                        i3 = i10;
                                        z3 = z29;
                                        mediaCodecVideoConvertor = this;
                                        file = file3;
                                        str2 = str8;
                                        z4 = z28;
                                        file3 = file2;
                                        mediaCodec2 = null;
                                        th = th;
                                        inputSurface = inputSurface5;
                                        outputSurface7 = outputSurface12;
                                        z2 = z;
                                        outputSurface = outputSurface7;
                                        try {
                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                            FileLog.e(th);
                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor != null) {
                                            }
                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder != null) {
                                            }
                                            if (mediaCodec != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            i4 = i82;
                                            str3 = str2;
                                            z5 = z3;
                                            z6 = true;
                                            if (z5) {
                                            }
                                        } catch (Throwable th5) {
                                            MediaExtractor mediaExtractor3 = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor3 != null) {
                                                mediaExtractor3.release();
                                            }
                                            MP4Builder mP4Builder3 = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder3 != null) {
                                                try {
                                                    mP4Builder3.finishMovie();
                                                    mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.mediaMuxer.getLastFrameTimestamp(i3);
                                                } catch (Throwable th6) {
                                                    FileLog.e(th6);
                                                }
                                            }
                                            if (mediaCodec != null) {
                                                try {
                                                    mediaCodec.release();
                                                } catch (Exception unused) {
                                                }
                                            }
                                            if (mediaCodec2 != null) {
                                                try {
                                                    mediaCodec2.release();
                                                } catch (Exception unused2) {
                                                }
                                            }
                                            if (outputSurface != null) {
                                                try {
                                                    outputSurface.release();
                                                } catch (Exception unused3) {
                                                }
                                            }
                                            if (inputSurface != null) {
                                                try {
                                                    inputSurface.release();
                                                } catch (Exception unused4) {
                                                }
                                            }
                                            throw th5;
                                        }
                                    }
                                } catch (Throwable th7) {
                                    th = th7;
                                    mediaCodec = mediaCodec7;
                                    i2 = i67;
                                    i3 = i10;
                                    z3 = z29;
                                    mediaCodecVideoConvertor = this;
                                    file = file3;
                                    str2 = str8;
                                    z4 = z28;
                                    str = "x";
                                }
                            } catch (Throwable th8) {
                                th = th8;
                                th = th;
                                mediaCodec = mediaCodec7;
                                i3 = i10;
                                z3 = z29;
                                mediaCodecVideoConvertor = this;
                                i2 = i66;
                                file = file3;
                                str2 = str8;
                                z4 = z28;
                                str = "x";
                                file3 = file2;
                                mediaCodec2 = null;
                                inputSurface = inputSurface5;
                                outputSurface7 = outputSurface12;
                                z2 = z;
                                outputSurface = outputSurface7;
                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i4 = i82;
                                str3 = str2;
                                z5 = z3;
                                z6 = true;
                                if (z5) {
                                }
                            }
                        } catch (Throwable th9) {
                            th = th9;
                            i84 = i65;
                        }
                    } catch (Throwable th10) {
                        i84 = i65;
                        th = th10;
                        mediaCodec = mediaCodec7;
                        i3 = i10;
                        mediaCodecVideoConvertor = this;
                        i2 = i66;
                        file = file3;
                        str2 = str8;
                        z4 = z28;
                        str = "x";
                        file3 = file2;
                        z3 = false;
                    }
                    if (z5) {
                    }
                } catch (Throwable th11) {
                    th = th11;
                    z2 = z;
                    th = th;
                    mediaCodecVideoConvertor = this;
                    file = file3;
                    i2 = i83;
                    str = "x";
                    file3 = file2;
                    i3 = -5;
                    mediaCodec = null;
                    inputSurface = null;
                    str2 = null;
                    z3 = false;
                    mediaCodec2 = null;
                    outputSurface = null;
                    z4 = false;
                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                    FileLog.e(th);
                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor != null) {
                    }
                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                    if (mP4Builder != null) {
                    }
                    if (mediaCodec != null) {
                    }
                    if (mediaCodec2 != null) {
                    }
                    if (outputSurface != null) {
                    }
                    if (inputSurface != null) {
                    }
                    i4 = i82;
                    str3 = str2;
                    z5 = z3;
                    z6 = true;
                    if (z5) {
                    }
                }
                if (cropState.useMatrix != null) {
                    f3 = f;
                    i4 = i82;
                    int i86 = i81;
                    if (BuildVars.LOGS_ENABLED) {
                        try {
                            FileLog.d("create photo encoder " + i86 + " " + i4 + " duration = " + j28);
                        } catch (Exception e2) {
                            e = e2;
                            i82 = i4;
                            i65 = i84;
                            i81 = i86;
                            i66 = i83;
                            mediaCodec7 = null;
                            inputSurface5 = null;
                            i10 = -5;
                            outputSurface12 = null;
                            audioRecoder3 = null;
                            str8 = null;
                            z28 = false;
                            exc2 = e;
                            if (exc2 instanceof IllegalStateException) {
                            }
                            StringBuilder sb22 = new StringBuilder();
                            sb22.append("bitrate: ");
                            i84 = i65;
                            sb22.append(i84);
                            sb22.append(" framerate: ");
                            i67 = i66;
                            sb22.append(i67);
                            sb22.append(" size: ");
                            sb22.append(i82);
                            str13 = "x";
                            sb22.append(str13);
                            sb22.append(i81);
                            FileLog.e(sb22.toString());
                            FileLog.e(exc2);
                            z5 = z29;
                            i4 = i82;
                            z30 = true;
                            outputSurface4 = outputSurface12;
                            if (outputSurface4 != null) {
                            }
                            if (inputSurface5 != null) {
                            }
                            if (mediaCodec7 != null) {
                            }
                            if (audioRecoder3 != null) {
                            }
                            checkConversionCanceled();
                            inputSurface3 = inputSurface5;
                            z6 = z30;
                            mediaCodecVideoConvertor = this;
                            file = file3;
                            z4 = z28;
                            file3 = file2;
                            mediaCodec6 = null;
                            z2 = z;
                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor2 != null) {
                            }
                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder2 != null) {
                            }
                            if (mediaCodec7 != null) {
                            }
                            if (mediaCodec6 != null) {
                            }
                            if (outputSurface4 != null) {
                            }
                            if (inputSurface3 != null) {
                            }
                            str3 = str8;
                            if (z5) {
                            }
                        } catch (Throwable th12) {
                            th = th12;
                            z2 = z;
                            th = th;
                            i82 = i4;
                            i81 = i86;
                            mediaCodecVideoConvertor = this;
                            file = file3;
                            i2 = i83;
                            str = "x";
                            file3 = file2;
                            i3 = -5;
                            mediaCodec = null;
                            inputSurface = null;
                            str2 = null;
                            z3 = false;
                            mediaCodec2 = null;
                            outputSurface = null;
                            z4 = false;
                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                            FileLog.e(th);
                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor != null) {
                            }
                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface != null) {
                            }
                            i4 = i82;
                            str3 = str2;
                            z5 = z3;
                            z6 = true;
                            if (z5) {
                            }
                        }
                    }
                    mediaCodec7 = createEncoderForMimeType();
                    MediaFormat createVideoFormat2 = MediaFormat.createVideoFormat(this.outputMimeType, i86, i4);
                    createVideoFormat2.setInteger("color-format", 2130708361);
                    createVideoFormat2.setInteger("bitrate", i84);
                    createVideoFormat2.setInteger("frame-rate", 30);
                    createVideoFormat2.setInteger("i-frame-interval", 1);
                    String name2 = mediaCodec7.getName();
                    z28 = "c2.qti.avc.encoder".equalsIgnoreCase(name2);
                    StringBuilder sb3 = new StringBuilder();
                    i65 = i84;
                    sb3.append("selected encoder ");
                    sb3.append(name2);
                    FileLog.d(sb3.toString());
                    mediaCodec7.configure(createVideoFormat2, (Surface) null, (MediaCrypto) null, 1);
                    inputSurface5 = new InputSurface(mediaCodec7.createInputSurface());
                    inputSurface5.makeCurrent();
                    mediaCodec7.start();
                    if (cropState != null) {
                        try {
                        } catch (Exception e3) {
                            i82 = i4;
                            i66 = i83;
                            i10 = -5;
                            outputSurface12 = null;
                            audioRecoder3 = null;
                            exc2 = e3;
                            str8 = name2;
                            i81 = i86;
                        } catch (Throwable th13) {
                            th = th13;
                            mediaCodec = mediaCodec7;
                            inputSurface = inputSurface5;
                            i82 = i4;
                            mediaCodecVideoConvertor = this;
                            str2 = name2;
                            file = file3;
                            i2 = i83;
                            z4 = z28;
                            i84 = i65;
                            file3 = file2;
                            i3 = -5;
                            z3 = false;
                            mediaCodec2 = null;
                            outputSurface = null;
                            z2 = z;
                            i81 = i86;
                            str = "x";
                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                            FileLog.e(th);
                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor != null) {
                            }
                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface != null) {
                            }
                            i4 = i82;
                            str3 = str2;
                            z5 = z3;
                            z6 = true;
                            if (z5) {
                            }
                        }
                        if (cropState.useMatrix != null) {
                            cropState2 = cropState;
                            i68 = i83;
                            outputSurface12 = outputSurface13;
                            str8 = name2;
                            outputSurface13 = new OutputSurface(savedFilterState, str15, str16, str17, arrayList, cropState2, i86, i4, i79, i80, i78, i68, true, num, num2, null, convertVideoParams);
                            if (Build.VERSION.SDK_INT < 21) {
                                try {
                                    try {
                                        outputBuffers2 = mediaCodec7.getOutputBuffers();
                                    } catch (Exception e4) {
                                        e = e4;
                                        i82 = i4;
                                        i66 = i68;
                                        i81 = i86;
                                        i10 = -5;
                                        audioRecoder3 = null;
                                        exc2 = e;
                                        if (exc2 instanceof IllegalStateException) {
                                        }
                                        StringBuilder sb222 = new StringBuilder();
                                        sb222.append("bitrate: ");
                                        i84 = i65;
                                        sb222.append(i84);
                                        sb222.append(" framerate: ");
                                        i67 = i66;
                                        sb222.append(i67);
                                        sb222.append(" size: ");
                                        sb222.append(i82);
                                        str13 = "x";
                                        sb222.append(str13);
                                        sb222.append(i81);
                                        FileLog.e(sb222.toString());
                                        FileLog.e(exc2);
                                        z5 = z29;
                                        i4 = i82;
                                        z30 = true;
                                        outputSurface4 = outputSurface12;
                                        if (outputSurface4 != null) {
                                        }
                                        if (inputSurface5 != null) {
                                        }
                                        if (mediaCodec7 != null) {
                                        }
                                        if (audioRecoder3 != null) {
                                        }
                                        checkConversionCanceled();
                                        inputSurface3 = inputSurface5;
                                        z6 = z30;
                                        mediaCodecVideoConvertor = this;
                                        file = file3;
                                        z4 = z28;
                                        file3 = file2;
                                        mediaCodec6 = null;
                                        z2 = z;
                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                        if (mP4Builder2 != null) {
                                        }
                                        if (mediaCodec7 != null) {
                                        }
                                        if (mediaCodec6 != null) {
                                        }
                                        if (outputSurface4 != null) {
                                        }
                                        if (inputSurface3 != null) {
                                        }
                                        str3 = str8;
                                        if (z5) {
                                        }
                                    }
                                } catch (Throwable th14) {
                                    th = th14;
                                    mediaCodec = mediaCodec7;
                                    inputSurface = inputSurface5;
                                    i82 = i4;
                                    i2 = i68;
                                    i81 = i86;
                                    mediaCodecVideoConvertor = this;
                                    file = file3;
                                    str2 = str8;
                                    z4 = z28;
                                    i84 = i65;
                                    str = "x";
                                    file3 = file2;
                                    i3 = -5;
                                    z3 = false;
                                    mediaCodec2 = null;
                                    z2 = z;
                                    outputSurface = outputSurface12;
                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                    FileLog.e(th);
                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                    if (mP4Builder != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface != null) {
                                    }
                                    i4 = i82;
                                    str3 = str2;
                                    z5 = z3;
                                    z6 = true;
                                    if (z5) {
                                    }
                                }
                            } else {
                                outputBuffers2 = null;
                            }
                            checkConversionCanceled();
                            ByteBuffer[] byteBufferArr3 = outputBuffers2;
                            this.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z37, this.outputMimeType.equals("video/hevc"));
                            if (convertVideoParams.soundInfos.isEmpty()) {
                                z31 = true;
                                i69 = -1;
                                i70 = -5;
                                audioRecoder4 = null;
                            } else {
                                ArrayList arrayList2 = new ArrayList();
                                arrayList2.add(new BlankAudioInput(j2));
                                applyAudioInputs(convertVideoParams.soundInfos, arrayList2);
                                audioRecoder4 = new AudioRecoder(arrayList2, j2);
                                try {
                                    i69 = this.mediaMuxer.addTrack(audioRecoder4.format, true);
                                    z31 = false;
                                    i70 = -5;
                                } catch (Exception e5) {
                                    e = e5;
                                    i66 = i68;
                                    i81 = i86;
                                    audioRecoder3 = audioRecoder4;
                                    i10 = -5;
                                    i82 = i4;
                                    exc2 = e;
                                    if (exc2 instanceof IllegalStateException) {
                                    }
                                    StringBuilder sb2222 = new StringBuilder();
                                    sb2222.append("bitrate: ");
                                    i84 = i65;
                                    sb2222.append(i84);
                                    sb2222.append(" framerate: ");
                                    i67 = i66;
                                    sb2222.append(i67);
                                    sb2222.append(" size: ");
                                    sb2222.append(i82);
                                    str13 = "x";
                                    sb2222.append(str13);
                                    sb2222.append(i81);
                                    FileLog.e(sb2222.toString());
                                    FileLog.e(exc2);
                                    z5 = z29;
                                    i4 = i82;
                                    z30 = true;
                                    outputSurface4 = outputSurface12;
                                    if (outputSurface4 != null) {
                                        try {
                                            outputSurface4.release();
                                            outputSurface4 = null;
                                        } catch (Throwable th15) {
                                            mediaCodec = mediaCodec7;
                                            i2 = i67;
                                            str = str13;
                                            mediaCodecVideoConvertor = this;
                                            file = file3;
                                            str2 = str8;
                                            z4 = z28;
                                            z3 = z5;
                                            file3 = file2;
                                            mediaCodec2 = null;
                                            th = th15;
                                            outputSurface7 = outputSurface4;
                                            i82 = i4;
                                            i3 = i10;
                                            inputSurface = inputSurface5;
                                            z2 = z;
                                            outputSurface = outputSurface7;
                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                            FileLog.e(th);
                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor != null) {
                                            }
                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder != null) {
                                            }
                                            if (mediaCodec != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            i4 = i82;
                                            str3 = str2;
                                            z5 = z3;
                                            z6 = true;
                                            if (z5) {
                                            }
                                        }
                                    }
                                    if (inputSurface5 != null) {
                                        inputSurface5.release();
                                        inputSurface5 = null;
                                    }
                                    if (mediaCodec7 != null) {
                                        mediaCodec7.stop();
                                        mediaCodec7.release();
                                        mediaCodec7 = null;
                                    }
                                    if (audioRecoder3 != null) {
                                        audioRecoder3.release();
                                    }
                                    checkConversionCanceled();
                                    inputSurface3 = inputSurface5;
                                    z6 = z30;
                                    mediaCodecVideoConvertor = this;
                                    file = file3;
                                    z4 = z28;
                                    file3 = file2;
                                    mediaCodec6 = null;
                                    z2 = z;
                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor2 != null) {
                                    }
                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                    if (mP4Builder2 != null) {
                                    }
                                    if (mediaCodec7 != null) {
                                    }
                                    if (mediaCodec6 != null) {
                                    }
                                    if (outputSurface4 != null) {
                                    }
                                    if (inputSurface3 != null) {
                                    }
                                    str3 = str8;
                                    if (z5) {
                                    }
                                }
                            }
                            z32 = false;
                            long j29 = 0;
                            z33 = false;
                            int i87 = 0;
                            i71 = 0;
                            boolean z44 = true;
                            loop0: while (true) {
                                if (!z32 && z31) {
                                    i67 = i68;
                                    i81 = i86;
                                    i10 = i70;
                                    audioRecoder3 = audioRecoder4;
                                    i84 = i65;
                                    str13 = "x";
                                    z30 = false;
                                    z5 = false;
                                    break;
                                }
                                try {
                                    try {
                                        checkConversionCanceled();
                                        if (audioRecoder4 != null) {
                                            try {
                                                try {
                                                    z31 = audioRecoder4.step(this.mediaMuxer, i69);
                                                } catch (Throwable th16) {
                                                    th = th16;
                                                    mediaCodec = mediaCodec7;
                                                    inputSurface = inputSurface5;
                                                    i82 = i4;
                                                    i2 = i68;
                                                    i81 = i86;
                                                    i3 = i70;
                                                    mediaCodecVideoConvertor = this;
                                                    file = file3;
                                                    str2 = str8;
                                                    z4 = z28;
                                                    i84 = i65;
                                                    str = "x";
                                                    file3 = file2;
                                                    z3 = false;
                                                    mediaCodec2 = null;
                                                    z2 = z;
                                                    outputSurface = outputSurface12;
                                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                    FileLog.e(th);
                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor != null) {
                                                    }
                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder != null) {
                                                    }
                                                    if (mediaCodec != null) {
                                                    }
                                                    if (mediaCodec2 != null) {
                                                    }
                                                    if (outputSurface != null) {
                                                    }
                                                    if (inputSurface != null) {
                                                    }
                                                    i4 = i82;
                                                    str3 = str2;
                                                    z5 = z3;
                                                    z6 = true;
                                                    if (z5) {
                                                    }
                                                }
                                            } catch (Exception e6) {
                                                e = e6;
                                                i66 = i68;
                                                i81 = i86;
                                                i10 = i70;
                                                audioRecoder3 = audioRecoder4;
                                                i82 = i4;
                                                exc2 = e;
                                                if (exc2 instanceof IllegalStateException) {
                                                }
                                                StringBuilder sb22222 = new StringBuilder();
                                                sb22222.append("bitrate: ");
                                                i84 = i65;
                                                sb22222.append(i84);
                                                sb22222.append(" framerate: ");
                                                i67 = i66;
                                                sb22222.append(i67);
                                                sb22222.append(" size: ");
                                                sb22222.append(i82);
                                                str13 = "x";
                                                sb22222.append(str13);
                                                sb22222.append(i81);
                                                FileLog.e(sb22222.toString());
                                                FileLog.e(exc2);
                                                z5 = z29;
                                                i4 = i82;
                                                z30 = true;
                                                outputSurface4 = outputSurface12;
                                                if (outputSurface4 != null) {
                                                }
                                                if (inputSurface5 != null) {
                                                }
                                                if (mediaCodec7 != null) {
                                                }
                                                if (audioRecoder3 != null) {
                                                }
                                                checkConversionCanceled();
                                                inputSurface3 = inputSurface5;
                                                z6 = z30;
                                                mediaCodecVideoConvertor = this;
                                                file = file3;
                                                z4 = z28;
                                                file3 = file2;
                                                mediaCodec6 = null;
                                                z2 = z;
                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor2 != null) {
                                                }
                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                if (mP4Builder2 != null) {
                                                }
                                                if (mediaCodec7 != null) {
                                                }
                                                if (mediaCodec6 != null) {
                                                }
                                                if (outputSurface4 != null) {
                                                }
                                                if (inputSurface3 != null) {
                                                }
                                                str3 = str8;
                                                if (z5) {
                                                }
                                            }
                                        }
                                        z34 = !z33;
                                        z35 = true;
                                        int i88 = i71;
                                        boolean z45 = z31;
                                        i72 = i88;
                                    } catch (Exception e7) {
                                        e = e7;
                                        i66 = i68;
                                        audioRecoder3 = audioRecoder4;
                                    }
                                    while (true) {
                                        if (!z34 || z35) {
                                            checkConversionCanceled();
                                            if (z) {
                                                audioRecoder3 = audioRecoder4;
                                                z36 = z32;
                                                j25 = 22000;
                                            } else {
                                                audioRecoder3 = audioRecoder4;
                                                z36 = z32;
                                                j25 = 2500;
                                            }
                                            try {
                                                dequeueOutputBuffer2 = mediaCodec7.dequeueOutputBuffer(bufferInfo, j25);
                                            } catch (Exception e8) {
                                                e = e8;
                                                i66 = i68;
                                                i81 = i86;
                                                i10 = i70;
                                                i82 = i4;
                                                exc2 = e;
                                                if (exc2 instanceof IllegalStateException) {
                                                }
                                                StringBuilder sb222222 = new StringBuilder();
                                                sb222222.append("bitrate: ");
                                                i84 = i65;
                                                sb222222.append(i84);
                                                sb222222.append(" framerate: ");
                                                i67 = i66;
                                                sb222222.append(i67);
                                                sb222222.append(" size: ");
                                                sb222222.append(i82);
                                                str13 = "x";
                                                sb222222.append(str13);
                                                sb222222.append(i81);
                                                FileLog.e(sb222222.toString());
                                                FileLog.e(exc2);
                                                z5 = z29;
                                                i4 = i82;
                                                z30 = true;
                                                outputSurface4 = outputSurface12;
                                                if (outputSurface4 != null) {
                                                }
                                                if (inputSurface5 != null) {
                                                }
                                                if (mediaCodec7 != null) {
                                                }
                                                if (audioRecoder3 != null) {
                                                }
                                                checkConversionCanceled();
                                                inputSurface3 = inputSurface5;
                                                z6 = z30;
                                                mediaCodecVideoConvertor = this;
                                                file = file3;
                                                z4 = z28;
                                                file3 = file2;
                                                mediaCodec6 = null;
                                                z2 = z;
                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor2 != null) {
                                                }
                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                if (mP4Builder2 != null) {
                                                }
                                                if (mediaCodec7 != null) {
                                                }
                                                if (mediaCodec6 != null) {
                                                }
                                                if (outputSurface4 != null) {
                                                }
                                                if (inputSurface3 != null) {
                                                }
                                                str3 = str8;
                                                if (z5) {
                                                }
                                            }
                                            if (dequeueOutputBuffer2 == -1) {
                                                inputSurface6 = inputSurface5;
                                                i74 = i72;
                                                i73 = i69;
                                                outputSurface14 = outputSurface12;
                                                z32 = z36;
                                                str14 = str4;
                                                i75 = -1;
                                                z35 = false;
                                            } else {
                                                if (dequeueOutputBuffer2 == -3) {
                                                    try {
                                                        i73 = i69;
                                                        if (Build.VERSION.SDK_INT < 21) {
                                                            byteBufferArr3 = mediaCodec7.getOutputBuffers();
                                                        }
                                                        inputSurface6 = inputSurface5;
                                                        i74 = i72;
                                                        outputSurface14 = outputSurface12;
                                                        z32 = z36;
                                                        str14 = str4;
                                                    } catch (Exception e9) {
                                                        e = e9;
                                                        i82 = i4;
                                                        i66 = i68;
                                                        i81 = i86;
                                                        i10 = i70;
                                                        exc2 = e;
                                                        if (exc2 instanceof IllegalStateException) {
                                                        }
                                                        StringBuilder sb2222222 = new StringBuilder();
                                                        sb2222222.append("bitrate: ");
                                                        i84 = i65;
                                                        sb2222222.append(i84);
                                                        sb2222222.append(" framerate: ");
                                                        i67 = i66;
                                                        sb2222222.append(i67);
                                                        sb2222222.append(" size: ");
                                                        sb2222222.append(i82);
                                                        str13 = "x";
                                                        sb2222222.append(str13);
                                                        sb2222222.append(i81);
                                                        FileLog.e(sb2222222.toString());
                                                        FileLog.e(exc2);
                                                        z5 = z29;
                                                        i4 = i82;
                                                        z30 = true;
                                                        outputSurface4 = outputSurface12;
                                                        if (outputSurface4 != null) {
                                                        }
                                                        if (inputSurface5 != null) {
                                                        }
                                                        if (mediaCodec7 != null) {
                                                        }
                                                        if (audioRecoder3 != null) {
                                                        }
                                                        checkConversionCanceled();
                                                        inputSurface3 = inputSurface5;
                                                        z6 = z30;
                                                        mediaCodecVideoConvertor = this;
                                                        file = file3;
                                                        z4 = z28;
                                                        file3 = file2;
                                                        mediaCodec6 = null;
                                                        z2 = z;
                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                        if (mediaExtractor2 != null) {
                                                        }
                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                        if (mP4Builder2 != null) {
                                                        }
                                                        if (mediaCodec7 != null) {
                                                        }
                                                        if (mediaCodec6 != null) {
                                                        }
                                                        if (outputSurface4 != null) {
                                                        }
                                                        if (inputSurface3 != null) {
                                                        }
                                                        str3 = str8;
                                                        if (z5) {
                                                        }
                                                    }
                                                } else {
                                                    i73 = i69;
                                                    if (dequeueOutputBuffer2 == -2) {
                                                        MediaFormat outputFormat = mediaCodec7.getOutputFormat();
                                                        if (BuildVars.LOGS_ENABLED) {
                                                            FileLog.d("photo encoder new format " + outputFormat);
                                                        }
                                                        if (i70 != -5 || outputFormat == null) {
                                                            str14 = str4;
                                                        } else {
                                                            int addTrack = this.mediaMuxer.addTrack(outputFormat, false);
                                                            String str18 = str5;
                                                            try {
                                                                if (outputFormat.containsKey(str18)) {
                                                                    str5 = str18;
                                                                    if (outputFormat.getInteger(str18) == 1) {
                                                                        str14 = str4;
                                                                        ByteBuffer byteBuffer7 = outputFormat.getByteBuffer(str14);
                                                                        i77 = addTrack;
                                                                        try {
                                                                            ByteBuffer byteBuffer8 = outputFormat.getByteBuffer("csd-1");
                                                                            i87 = (byteBuffer7 == null ? 0 : byteBuffer7.limit()) + (byteBuffer8 == null ? 0 : byteBuffer8.limit());
                                                                            i70 = i77;
                                                                        } catch (Exception e10) {
                                                                            e = e10;
                                                                            i82 = i4;
                                                                            i66 = i68;
                                                                            i81 = i86;
                                                                            i10 = i77;
                                                                            exc2 = e;
                                                                            if (exc2 instanceof IllegalStateException) {
                                                                            }
                                                                            StringBuilder sb22222222 = new StringBuilder();
                                                                            sb22222222.append("bitrate: ");
                                                                            i84 = i65;
                                                                            sb22222222.append(i84);
                                                                            sb22222222.append(" framerate: ");
                                                                            i67 = i66;
                                                                            sb22222222.append(i67);
                                                                            sb22222222.append(" size: ");
                                                                            sb22222222.append(i82);
                                                                            str13 = "x";
                                                                            sb22222222.append(str13);
                                                                            sb22222222.append(i81);
                                                                            FileLog.e(sb22222222.toString());
                                                                            FileLog.e(exc2);
                                                                            z5 = z29;
                                                                            i4 = i82;
                                                                            z30 = true;
                                                                            outputSurface4 = outputSurface12;
                                                                            if (outputSurface4 != null) {
                                                                            }
                                                                            if (inputSurface5 != null) {
                                                                            }
                                                                            if (mediaCodec7 != null) {
                                                                            }
                                                                            if (audioRecoder3 != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            inputSurface3 = inputSurface5;
                                                                            z6 = z30;
                                                                            mediaCodecVideoConvertor = this;
                                                                            file = file3;
                                                                            z4 = z28;
                                                                            file3 = file2;
                                                                            mediaCodec6 = null;
                                                                            z2 = z;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder2 != null) {
                                                                            }
                                                                            if (mediaCodec7 != null) {
                                                                            }
                                                                            if (mediaCodec6 != null) {
                                                                            }
                                                                            if (outputSurface4 != null) {
                                                                            }
                                                                            if (inputSurface3 != null) {
                                                                            }
                                                                            str3 = str8;
                                                                            if (z5) {
                                                                            }
                                                                        } catch (Throwable th17) {
                                                                            th = th17;
                                                                            th = th;
                                                                            mediaCodec = mediaCodec7;
                                                                            inputSurface = inputSurface5;
                                                                            i82 = i4;
                                                                            i2 = i68;
                                                                            i81 = i86;
                                                                            mediaCodecVideoConvertor = this;
                                                                            i3 = i77;
                                                                            file = file3;
                                                                            str2 = str8;
                                                                            z4 = z28;
                                                                            i84 = i65;
                                                                            str = "x";
                                                                            file3 = file2;
                                                                            z3 = false;
                                                                            mediaCodec2 = null;
                                                                            z2 = z;
                                                                            outputSurface = outputSurface12;
                                                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            i4 = i82;
                                                                            str3 = str2;
                                                                            z5 = z3;
                                                                            z6 = true;
                                                                            if (z5) {
                                                                            }
                                                                        }
                                                                    }
                                                                } else {
                                                                    str5 = str18;
                                                                }
                                                                i77 = addTrack;
                                                                str14 = str4;
                                                                i70 = i77;
                                                            } catch (Exception e11) {
                                                                e = e11;
                                                                i77 = addTrack;
                                                            } catch (Throwable th18) {
                                                                th = th18;
                                                                i77 = addTrack;
                                                            }
                                                        }
                                                        inputSurface6 = inputSurface5;
                                                        i74 = i72;
                                                        outputSurface14 = outputSurface12;
                                                        z32 = z36;
                                                    } else {
                                                        str14 = str4;
                                                        if (dequeueOutputBuffer2 < 0) {
                                                            throw new RuntimeException("unexpected result from encoder.dequeueOutputBuffer: " + dequeueOutputBuffer2);
                                                        }
                                                        if (Build.VERSION.SDK_INT < 21) {
                                                            outputBuffer2 = byteBufferArr3[dequeueOutputBuffer2];
                                                        } else {
                                                            outputBuffer2 = mediaCodec7.getOutputBuffer(dequeueOutputBuffer2);
                                                        }
                                                        if (outputBuffer2 == null) {
                                                            throw new RuntimeException("encoderOutputBuffer " + dequeueOutputBuffer2 + " was null");
                                                        }
                                                        int i89 = bufferInfo.size;
                                                        i66 = i68;
                                                        try {
                                                            if (i89 > 1) {
                                                                try {
                                                                    int i90 = bufferInfo.flags;
                                                                    if ((i90 & 2) != 0) {
                                                                        inputSurface6 = inputSurface5;
                                                                        i74 = i72;
                                                                        outputSurface14 = outputSurface12;
                                                                        i76 = dequeueOutputBuffer2;
                                                                        if (i70 == -5) {
                                                                            if (this.outputMimeType.equals("video/hevc")) {
                                                                                break loop0;
                                                                            }
                                                                            int i91 = bufferInfo.size;
                                                                            byte[] bArr = new byte[i91];
                                                                            outputBuffer2.limit(bufferInfo.offset + i91);
                                                                            outputBuffer2.position(bufferInfo.offset);
                                                                            outputBuffer2.get(bArr);
                                                                            byte b = 1;
                                                                            int i92 = bufferInfo.size - 1;
                                                                            while (i92 >= 0 && i92 > 3) {
                                                                                if (bArr[i92] == b && bArr[i92 - 1] == 0 && bArr[i92 - 2] == 0) {
                                                                                    int i93 = i92 - 3;
                                                                                    if (bArr[i93] == 0) {
                                                                                        byteBuffer5 = ByteBuffer.allocate(i93);
                                                                                        byteBuffer6 = ByteBuffer.allocate(bufferInfo.size - i93);
                                                                                        byteBuffer5.put(bArr, 0, i93).position(0);
                                                                                        byteBuffer6.put(bArr, i93, bufferInfo.size - i93).position(0);
                                                                                        break;
                                                                                    }
                                                                                }
                                                                                i92--;
                                                                                b = 1;
                                                                            }
                                                                            byteBuffer5 = null;
                                                                            byteBuffer6 = null;
                                                                            MediaFormat createVideoFormat3 = MediaFormat.createVideoFormat(this.outputMimeType, i86, i4);
                                                                            if (byteBuffer5 != null && byteBuffer6 != null) {
                                                                                createVideoFormat3.setByteBuffer(str14, byteBuffer5);
                                                                                createVideoFormat3.setByteBuffer("csd-1", byteBuffer6);
                                                                            }
                                                                            i70 = this.mediaMuxer.addTrack(createVideoFormat3, false);
                                                                        }
                                                                    } else {
                                                                        if (i87 == 0 || (i90 & 1) == 0) {
                                                                            inputSurface6 = inputSurface5;
                                                                        } else {
                                                                            inputSurface6 = inputSurface5;
                                                                            try {
                                                                                bufferInfo.offset += i87;
                                                                                bufferInfo.size = i89 - i87;
                                                                            } catch (Exception e12) {
                                                                                e = e12;
                                                                                i82 = i4;
                                                                                i81 = i86;
                                                                                i10 = i70;
                                                                                inputSurface5 = inputSurface6;
                                                                                exc2 = e;
                                                                                if (exc2 instanceof IllegalStateException) {
                                                                                }
                                                                                StringBuilder sb222222222 = new StringBuilder();
                                                                                sb222222222.append("bitrate: ");
                                                                                i84 = i65;
                                                                                sb222222222.append(i84);
                                                                                sb222222222.append(" framerate: ");
                                                                                i67 = i66;
                                                                                sb222222222.append(i67);
                                                                                sb222222222.append(" size: ");
                                                                                sb222222222.append(i82);
                                                                                str13 = "x";
                                                                                sb222222222.append(str13);
                                                                                sb222222222.append(i81);
                                                                                FileLog.e(sb222222222.toString());
                                                                                FileLog.e(exc2);
                                                                                z5 = z29;
                                                                                i4 = i82;
                                                                                z30 = true;
                                                                                outputSurface4 = outputSurface12;
                                                                                if (outputSurface4 != null) {
                                                                                }
                                                                                if (inputSurface5 != null) {
                                                                                }
                                                                                if (mediaCodec7 != null) {
                                                                                }
                                                                                if (audioRecoder3 != null) {
                                                                                }
                                                                                checkConversionCanceled();
                                                                                inputSurface3 = inputSurface5;
                                                                                z6 = z30;
                                                                                mediaCodecVideoConvertor = this;
                                                                                file = file3;
                                                                                z4 = z28;
                                                                                file3 = file2;
                                                                                mediaCodec6 = null;
                                                                                z2 = z;
                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                if (mediaExtractor2 != null) {
                                                                                }
                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                if (mP4Builder2 != null) {
                                                                                }
                                                                                if (mediaCodec7 != null) {
                                                                                }
                                                                                if (mediaCodec6 != null) {
                                                                                }
                                                                                if (outputSurface4 != null) {
                                                                                }
                                                                                if (inputSurface3 != null) {
                                                                                }
                                                                                str3 = str8;
                                                                                if (z5) {
                                                                                }
                                                                            } catch (Throwable th19) {
                                                                                z2 = z;
                                                                                th = th19;
                                                                                mediaCodec = mediaCodec7;
                                                                                i82 = i4;
                                                                                i81 = i86;
                                                                                i3 = i70;
                                                                                mediaCodecVideoConvertor = this;
                                                                                i2 = i66;
                                                                                inputSurface = inputSurface6;
                                                                                file = file3;
                                                                                str2 = str8;
                                                                                z4 = z28;
                                                                                i84 = i65;
                                                                                str = "x";
                                                                                file3 = file2;
                                                                                z3 = false;
                                                                                mediaCodec2 = null;
                                                                                outputSurface = outputSurface12;
                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                FileLog.e(th);
                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                if (mediaExtractor != null) {
                                                                                }
                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                if (mP4Builder != null) {
                                                                                }
                                                                                if (mediaCodec != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (outputSurface != null) {
                                                                                }
                                                                                if (inputSurface != null) {
                                                                                }
                                                                                i4 = i82;
                                                                                str3 = str2;
                                                                                z5 = z3;
                                                                                z6 = true;
                                                                                if (z5) {
                                                                                }
                                                                            }
                                                                        }
                                                                        if (z44 && (i90 & 1) != 0) {
                                                                            cutOfNalData(this.outputMimeType, outputBuffer2, bufferInfo);
                                                                            z44 = false;
                                                                        }
                                                                        try {
                                                                            int i94 = i72;
                                                                            long writeSampleData = this.mediaMuxer.writeSampleData(i70, outputBuffer2, bufferInfo, true);
                                                                            if (writeSampleData == 0 || (videoConvertorListener3 = this.callback) == null) {
                                                                                outputSurface14 = outputSurface12;
                                                                                i76 = dequeueOutputBuffer2;
                                                                                i74 = i94;
                                                                            } else {
                                                                                i76 = dequeueOutputBuffer2;
                                                                                i74 = i94;
                                                                                long j30 = bufferInfo.presentationTimeUs;
                                                                                if (j30 <= j29) {
                                                                                    j30 = j29;
                                                                                }
                                                                                outputSurface14 = outputSurface12;
                                                                                try {
                                                                                    videoConvertorListener3.didWriteData(writeSampleData, ((((float) j30) / 1000.0f) / 1000.0f) / f3);
                                                                                    j29 = j30;
                                                                                } catch (Exception e13) {
                                                                                    e = e13;
                                                                                    i82 = i4;
                                                                                    i81 = i86;
                                                                                    i10 = i70;
                                                                                    inputSurface5 = inputSurface6;
                                                                                    outputSurface12 = outputSurface14;
                                                                                } catch (Throwable th20) {
                                                                                    th = th20;
                                                                                    z2 = z;
                                                                                    th = th;
                                                                                    mediaCodec = mediaCodec7;
                                                                                    i82 = i4;
                                                                                    i81 = i86;
                                                                                    i3 = i70;
                                                                                    mediaCodecVideoConvertor = this;
                                                                                    i2 = i66;
                                                                                    inputSurface = inputSurface6;
                                                                                    file = file3;
                                                                                    str2 = str8;
                                                                                    z4 = z28;
                                                                                    i84 = i65;
                                                                                    str = "x";
                                                                                    file3 = file2;
                                                                                    z3 = false;
                                                                                    mediaCodec2 = null;
                                                                                    outputSurface = outputSurface14;
                                                                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                    FileLog.e(th);
                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                    if (mediaExtractor != null) {
                                                                                    }
                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                    if (mP4Builder != null) {
                                                                                    }
                                                                                    if (mediaCodec != null) {
                                                                                    }
                                                                                    if (mediaCodec2 != null) {
                                                                                    }
                                                                                    if (outputSurface != null) {
                                                                                    }
                                                                                    if (inputSurface != null) {
                                                                                    }
                                                                                    i4 = i82;
                                                                                    str3 = str2;
                                                                                    z5 = z3;
                                                                                    z6 = true;
                                                                                    if (z5) {
                                                                                    }
                                                                                }
                                                                            }
                                                                        } catch (Exception e14) {
                                                                            e = e14;
                                                                            i82 = i4;
                                                                            i81 = i86;
                                                                            i10 = i70;
                                                                            inputSurface5 = inputSurface6;
                                                                            exc2 = e;
                                                                            if (exc2 instanceof IllegalStateException) {
                                                                            }
                                                                            StringBuilder sb2222222222 = new StringBuilder();
                                                                            sb2222222222.append("bitrate: ");
                                                                            i84 = i65;
                                                                            sb2222222222.append(i84);
                                                                            sb2222222222.append(" framerate: ");
                                                                            i67 = i66;
                                                                            sb2222222222.append(i67);
                                                                            sb2222222222.append(" size: ");
                                                                            sb2222222222.append(i82);
                                                                            str13 = "x";
                                                                            sb2222222222.append(str13);
                                                                            sb2222222222.append(i81);
                                                                            FileLog.e(sb2222222222.toString());
                                                                            FileLog.e(exc2);
                                                                            z5 = z29;
                                                                            i4 = i82;
                                                                            z30 = true;
                                                                            outputSurface4 = outputSurface12;
                                                                            if (outputSurface4 != null) {
                                                                            }
                                                                            if (inputSurface5 != null) {
                                                                            }
                                                                            if (mediaCodec7 != null) {
                                                                            }
                                                                            if (audioRecoder3 != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            inputSurface3 = inputSurface5;
                                                                            z6 = z30;
                                                                            mediaCodecVideoConvertor = this;
                                                                            file = file3;
                                                                            z4 = z28;
                                                                            file3 = file2;
                                                                            mediaCodec6 = null;
                                                                            z2 = z;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder2 != null) {
                                                                            }
                                                                            if (mediaCodec7 != null) {
                                                                            }
                                                                            if (mediaCodec6 != null) {
                                                                            }
                                                                            if (outputSurface4 != null) {
                                                                            }
                                                                            if (inputSurface3 != null) {
                                                                            }
                                                                            str3 = str8;
                                                                            if (z5) {
                                                                            }
                                                                        } catch (Throwable th21) {
                                                                            th = th21;
                                                                            outputSurface14 = outputSurface12;
                                                                            z2 = z;
                                                                            th = th;
                                                                            mediaCodec = mediaCodec7;
                                                                            i82 = i4;
                                                                            i81 = i86;
                                                                            i3 = i70;
                                                                            mediaCodecVideoConvertor = this;
                                                                            i2 = i66;
                                                                            inputSurface = inputSurface6;
                                                                            file = file3;
                                                                            str2 = str8;
                                                                            z4 = z28;
                                                                            i84 = i65;
                                                                            str = "x";
                                                                            file3 = file2;
                                                                            z3 = false;
                                                                            mediaCodec2 = null;
                                                                            outputSurface = outputSurface14;
                                                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            i4 = i82;
                                                                            str3 = str2;
                                                                            z5 = z3;
                                                                            z6 = true;
                                                                            if (z5) {
                                                                            }
                                                                        }
                                                                    }
                                                                    if (i76 != i75) {
                                                                        str4 = str14;
                                                                        audioRecoder4 = audioRecoder3;
                                                                        i68 = i66;
                                                                        i69 = i73;
                                                                        i72 = i74;
                                                                        inputSurface5 = inputSurface6;
                                                                        outputSurface12 = outputSurface14;
                                                                    } else {
                                                                        if (z33) {
                                                                            inputSurface7 = inputSurface6;
                                                                            outputSurface12 = outputSurface14;
                                                                            i72 = i74;
                                                                        } else {
                                                                            int i95 = i74;
                                                                            long j31 = (i95 / 30.0f) * 1000.0f * 1000.0f * 1000.0f;
                                                                            outputSurface12 = outputSurface14;
                                                                            try {
                                                                                outputSurface12.drawImage(j31);
                                                                                inputSurface7 = inputSurface6;
                                                                            } catch (Exception e15) {
                                                                                e = e15;
                                                                                inputSurface7 = inputSurface6;
                                                                            } catch (Throwable th22) {
                                                                                th = th22;
                                                                                inputSurface7 = inputSurface6;
                                                                            }
                                                                            try {
                                                                                inputSurface7.setPresentationTime(j31);
                                                                                inputSurface7.swapBuffers();
                                                                                i72 = i95 + 1;
                                                                                if (i72 >= 30.0f * f3) {
                                                                                    mediaCodec7.signalEndOfInputStream();
                                                                                    z33 = true;
                                                                                    z34 = false;
                                                                                }
                                                                            } catch (Exception e16) {
                                                                                e = e16;
                                                                                i81 = i86;
                                                                                i10 = i70;
                                                                                inputSurface5 = inputSurface7;
                                                                                i82 = i4;
                                                                                exc2 = e;
                                                                                if (exc2 instanceof IllegalStateException) {
                                                                                }
                                                                                StringBuilder sb22222222222 = new StringBuilder();
                                                                                sb22222222222.append("bitrate: ");
                                                                                i84 = i65;
                                                                                sb22222222222.append(i84);
                                                                                sb22222222222.append(" framerate: ");
                                                                                i67 = i66;
                                                                                sb22222222222.append(i67);
                                                                                sb22222222222.append(" size: ");
                                                                                sb22222222222.append(i82);
                                                                                str13 = "x";
                                                                                sb22222222222.append(str13);
                                                                                sb22222222222.append(i81);
                                                                                FileLog.e(sb22222222222.toString());
                                                                                FileLog.e(exc2);
                                                                                z5 = z29;
                                                                                i4 = i82;
                                                                                z30 = true;
                                                                                outputSurface4 = outputSurface12;
                                                                                if (outputSurface4 != null) {
                                                                                }
                                                                                if (inputSurface5 != null) {
                                                                                }
                                                                                if (mediaCodec7 != null) {
                                                                                }
                                                                                if (audioRecoder3 != null) {
                                                                                }
                                                                                checkConversionCanceled();
                                                                                inputSurface3 = inputSurface5;
                                                                                z6 = z30;
                                                                                mediaCodecVideoConvertor = this;
                                                                                file = file3;
                                                                                z4 = z28;
                                                                                file3 = file2;
                                                                                mediaCodec6 = null;
                                                                                z2 = z;
                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                if (mediaExtractor2 != null) {
                                                                                }
                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                if (mP4Builder2 != null) {
                                                                                }
                                                                                if (mediaCodec7 != null) {
                                                                                }
                                                                                if (mediaCodec6 != null) {
                                                                                }
                                                                                if (outputSurface4 != null) {
                                                                                }
                                                                                if (inputSurface3 != null) {
                                                                                }
                                                                                str3 = str8;
                                                                                if (z5) {
                                                                                }
                                                                            } catch (Throwable th23) {
                                                                                th = th23;
                                                                                z2 = z;
                                                                                th = th;
                                                                                mediaCodec = mediaCodec7;
                                                                                i81 = i86;
                                                                                inputSurface = inputSurface7;
                                                                                i2 = i66;
                                                                                file = file3;
                                                                                str2 = str8;
                                                                                z4 = z28;
                                                                                i84 = i65;
                                                                                str = "x";
                                                                                file3 = file2;
                                                                                z3 = false;
                                                                                mediaCodec2 = null;
                                                                                i82 = i4;
                                                                                outputSurface = outputSurface12;
                                                                                i3 = i70;
                                                                                mediaCodecVideoConvertor = this;
                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                FileLog.e(th);
                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                if (mediaExtractor != null) {
                                                                                }
                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                if (mP4Builder != null) {
                                                                                }
                                                                                if (mediaCodec != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (outputSurface != null) {
                                                                                }
                                                                                if (inputSurface != null) {
                                                                                }
                                                                                i4 = i82;
                                                                                str3 = str2;
                                                                                z5 = z3;
                                                                                z6 = true;
                                                                                if (z5) {
                                                                                }
                                                                            }
                                                                        }
                                                                        str4 = str14;
                                                                        inputSurface5 = inputSurface7;
                                                                        audioRecoder4 = audioRecoder3;
                                                                        i68 = i66;
                                                                        i69 = i73;
                                                                    }
                                                                } catch (Exception e17) {
                                                                    e = e17;
                                                                    i82 = i4;
                                                                    i81 = i86;
                                                                    i10 = i70;
                                                                    exc2 = e;
                                                                    if (exc2 instanceof IllegalStateException) {
                                                                    }
                                                                    StringBuilder sb222222222222 = new StringBuilder();
                                                                    sb222222222222.append("bitrate: ");
                                                                    i84 = i65;
                                                                    sb222222222222.append(i84);
                                                                    sb222222222222.append(" framerate: ");
                                                                    i67 = i66;
                                                                    sb222222222222.append(i67);
                                                                    sb222222222222.append(" size: ");
                                                                    sb222222222222.append(i82);
                                                                    str13 = "x";
                                                                    sb222222222222.append(str13);
                                                                    sb222222222222.append(i81);
                                                                    FileLog.e(sb222222222222.toString());
                                                                    FileLog.e(exc2);
                                                                    z5 = z29;
                                                                    i4 = i82;
                                                                    z30 = true;
                                                                    outputSurface4 = outputSurface12;
                                                                    if (outputSurface4 != null) {
                                                                    }
                                                                    if (inputSurface5 != null) {
                                                                    }
                                                                    if (mediaCodec7 != null) {
                                                                    }
                                                                    if (audioRecoder3 != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    inputSurface3 = inputSurface5;
                                                                    z6 = z30;
                                                                    mediaCodecVideoConvertor = this;
                                                                    file = file3;
                                                                    z4 = z28;
                                                                    file3 = file2;
                                                                    mediaCodec6 = null;
                                                                    z2 = z;
                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                    if (mediaExtractor2 != null) {
                                                                    }
                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                    if (mP4Builder2 != null) {
                                                                    }
                                                                    if (mediaCodec7 != null) {
                                                                    }
                                                                    if (mediaCodec6 != null) {
                                                                    }
                                                                    if (outputSurface4 != null) {
                                                                    }
                                                                    if (inputSurface3 != null) {
                                                                    }
                                                                    str3 = str8;
                                                                    if (z5) {
                                                                    }
                                                                } catch (Throwable th24) {
                                                                    th = th24;
                                                                    inputSurface6 = inputSurface5;
                                                                }
                                                            } else {
                                                                inputSurface6 = inputSurface5;
                                                                i74 = i72;
                                                                outputSurface14 = outputSurface12;
                                                                i76 = dequeueOutputBuffer2;
                                                            }
                                                            boolean z46 = (bufferInfo.flags & 4) != 0;
                                                            mediaCodec7.releaseOutputBuffer(i76, false);
                                                            z32 = z46;
                                                            i75 = -1;
                                                            if (i76 != i75) {
                                                            }
                                                        } catch (Exception e18) {
                                                            e = e18;
                                                            inputSurface7 = inputSurface6;
                                                            outputSurface12 = outputSurface14;
                                                            i81 = i86;
                                                            i10 = i70;
                                                            inputSurface5 = inputSurface7;
                                                            i82 = i4;
                                                            exc2 = e;
                                                            if (exc2 instanceof IllegalStateException) {
                                                            }
                                                            StringBuilder sb2222222222222 = new StringBuilder();
                                                            sb2222222222222.append("bitrate: ");
                                                            i84 = i65;
                                                            sb2222222222222.append(i84);
                                                            sb2222222222222.append(" framerate: ");
                                                            i67 = i66;
                                                            sb2222222222222.append(i67);
                                                            sb2222222222222.append(" size: ");
                                                            sb2222222222222.append(i82);
                                                            str13 = "x";
                                                            sb2222222222222.append(str13);
                                                            sb2222222222222.append(i81);
                                                            FileLog.e(sb2222222222222.toString());
                                                            FileLog.e(exc2);
                                                            z5 = z29;
                                                            i4 = i82;
                                                            z30 = true;
                                                            outputSurface4 = outputSurface12;
                                                            if (outputSurface4 != null) {
                                                            }
                                                            if (inputSurface5 != null) {
                                                            }
                                                            if (mediaCodec7 != null) {
                                                            }
                                                            if (audioRecoder3 != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            inputSurface3 = inputSurface5;
                                                            z6 = z30;
                                                            mediaCodecVideoConvertor = this;
                                                            file = file3;
                                                            z4 = z28;
                                                            file3 = file2;
                                                            mediaCodec6 = null;
                                                            z2 = z;
                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder2 != null) {
                                                            }
                                                            if (mediaCodec7 != null) {
                                                            }
                                                            if (mediaCodec6 != null) {
                                                            }
                                                            if (outputSurface4 != null) {
                                                            }
                                                            if (inputSurface3 != null) {
                                                            }
                                                            str3 = str8;
                                                            if (z5) {
                                                            }
                                                        } catch (Throwable th25) {
                                                            th = th25;
                                                            inputSurface7 = inputSurface6;
                                                            outputSurface12 = outputSurface14;
                                                            z2 = z;
                                                            th = th;
                                                            mediaCodec = mediaCodec7;
                                                            i81 = i86;
                                                            inputSurface = inputSurface7;
                                                            i2 = i66;
                                                            file = file3;
                                                            str2 = str8;
                                                            z4 = z28;
                                                            i84 = i65;
                                                            str = "x";
                                                            file3 = file2;
                                                            z3 = false;
                                                            mediaCodec2 = null;
                                                            i82 = i4;
                                                            outputSurface = outputSurface12;
                                                            i3 = i70;
                                                            mediaCodecVideoConvertor = this;
                                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                            FileLog.e(th);
                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            i4 = i82;
                                                            str3 = str2;
                                                            z5 = z3;
                                                            z6 = true;
                                                            if (z5) {
                                                            }
                                                        }
                                                    }
                                                    exc2 = e;
                                                    z29 = ((exc2 instanceof IllegalStateException) || z) ? false : true;
                                                    StringBuilder sb22222222222222 = new StringBuilder();
                                                    sb22222222222222.append("bitrate: ");
                                                    i84 = i65;
                                                    sb22222222222222.append(i84);
                                                    sb22222222222222.append(" framerate: ");
                                                    i67 = i66;
                                                    sb22222222222222.append(i67);
                                                    sb22222222222222.append(" size: ");
                                                    sb22222222222222.append(i82);
                                                    str13 = "x";
                                                    sb22222222222222.append(str13);
                                                    sb22222222222222.append(i81);
                                                    FileLog.e(sb22222222222222.toString());
                                                    FileLog.e(exc2);
                                                    z5 = z29;
                                                    i4 = i82;
                                                    z30 = true;
                                                }
                                                i75 = -1;
                                            }
                                            i66 = i68;
                                            i76 = dequeueOutputBuffer2;
                                            if (i76 != i75) {
                                            }
                                        }
                                    }
                                } catch (Throwable th26) {
                                    InputSurface inputSurface8 = inputSurface5;
                                    z2 = z;
                                    th = th26;
                                    mediaCodec = mediaCodec7;
                                    i2 = i68;
                                    i81 = i86;
                                    inputSurface = inputSurface8;
                                }
                                i71 = i72;
                                z31 = z45;
                            }
                        }
                    }
                    i68 = i83;
                    cropState2 = null;
                    outputSurface12 = outputSurface13;
                    str8 = name2;
                    outputSurface13 = new OutputSurface(savedFilterState, str15, str16, str17, arrayList, cropState2, i86, i4, i79, i80, i78, i68, true, num, num2, null, convertVideoParams);
                    if (Build.VERSION.SDK_INT < 21) {
                    }
                    checkConversionCanceled();
                    ByteBuffer[] byteBufferArr32 = outputBuffers2;
                    this.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z37, this.outputMimeType.equals("video/hevc"));
                    if (convertVideoParams.soundInfos.isEmpty()) {
                    }
                    z32 = false;
                    long j292 = 0;
                    z33 = false;
                    int i872 = 0;
                    i71 = 0;
                    boolean z442 = true;
                    loop0: while (true) {
                        if (!z32) {
                        }
                        checkConversionCanceled();
                        if (audioRecoder4 != null) {
                        }
                        z34 = !z33;
                        z35 = true;
                        int i882 = i71;
                        boolean z452 = z31;
                        i72 = i882;
                        while (true) {
                            if (!z34) {
                            }
                            checkConversionCanceled();
                            if (z) {
                            }
                            dequeueOutputBuffer2 = mediaCodec7.dequeueOutputBuffer(bufferInfo, j25);
                            if (dequeueOutputBuffer2 == -1) {
                            }
                            i66 = i68;
                            i76 = dequeueOutputBuffer2;
                            if (i76 != i75) {
                            }
                        }
                        i71 = i72;
                        z31 = z452;
                    }
                }
            } else {
                cropState = cropState3;
            }
            if (i81 % 16 != 0) {
                if (BuildVars.LOGS_ENABLED) {
                    StringBuilder sb4 = new StringBuilder();
                    f3 = f;
                    sb4.append("changing width from ");
                    sb4.append(i81);
                    sb4.append(" to ");
                    sb4.append(Math.round(i81 / 16.0f) * 16);
                    FileLog.d(sb4.toString());
                } else {
                    f3 = f;
                }
                i81 = Math.round(i81 / 16.0f) * 16;
            } else {
                f3 = f;
            }
            if (i82 % 16 != 0) {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("changing height from " + i82 + " to " + (Math.round(i82 / 16.0f) * 16));
                }
                i82 = Math.round(i82 / 16.0f) * 16;
            }
            i4 = i82;
            int i862 = i81;
            if (BuildVars.LOGS_ENABLED) {
            }
            mediaCodec7 = createEncoderForMimeType();
            MediaFormat createVideoFormat22 = MediaFormat.createVideoFormat(this.outputMimeType, i862, i4);
            createVideoFormat22.setInteger("color-format", 2130708361);
            createVideoFormat22.setInteger("bitrate", i84);
            createVideoFormat22.setInteger("frame-rate", 30);
            createVideoFormat22.setInteger("i-frame-interval", 1);
            String name22 = mediaCodec7.getName();
            z28 = "c2.qti.avc.encoder".equalsIgnoreCase(name22);
            StringBuilder sb32 = new StringBuilder();
            i65 = i84;
            sb32.append("selected encoder ");
            sb32.append(name22);
            FileLog.d(sb32.toString());
            mediaCodec7.configure(createVideoFormat22, (Surface) null, (MediaCrypto) null, 1);
            inputSurface5 = new InputSurface(mediaCodec7.createInputSurface());
            inputSurface5.makeCurrent();
            mediaCodec7.start();
            if (cropState != null) {
            }
            i68 = i83;
            cropState2 = null;
            outputSurface12 = outputSurface13;
            str8 = name22;
            outputSurface13 = new OutputSurface(savedFilterState, str15, str16, str17, arrayList, cropState2, i862, i4, i79, i80, i78, i68, true, num, num2, null, convertVideoParams);
            if (Build.VERSION.SDK_INT < 21) {
            }
            checkConversionCanceled();
            ByteBuffer[] byteBufferArr322 = outputBuffers2;
            this.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z37, this.outputMimeType.equals("video/hevc"));
            if (convertVideoParams.soundInfos.isEmpty()) {
            }
            z32 = false;
            long j2922 = 0;
            z33 = false;
            int i8722 = 0;
            i71 = 0;
            boolean z4422 = true;
            loop0: while (true) {
                if (!z32) {
                }
                checkConversionCanceled();
                if (audioRecoder4 != null) {
                }
                z34 = !z33;
                z35 = true;
                int i8822 = i71;
                boolean z4522 = z31;
                i72 = i8822;
                while (true) {
                    if (!z34) {
                    }
                    checkConversionCanceled();
                    if (z) {
                    }
                    dequeueOutputBuffer2 = mediaCodec7.dequeueOutputBuffer(bufferInfo, j25);
                    if (dequeueOutputBuffer2 == -1) {
                    }
                    i66 = i68;
                    i76 = dequeueOutputBuffer2;
                    if (i76 != i75) {
                    }
                }
                i71 = i72;
                z31 = z4522;
            }
        } else {
            try {
                MediaExtractor mediaExtractor4 = new MediaExtractor();
                this.extractor = mediaExtractor4;
                str6 = str4;
                mediaExtractor4.setDataSource(str15);
                try {
                    findTrack = MediaController.findTrack(this.extractor, false);
                    if (i84 == -1 || z41 || f4 <= 0.0f) {
                        i5 = i82;
                        str7 = str5;
                        i6 = -1;
                    } else {
                        try {
                            i5 = i82;
                        } catch (Throwable th27) {
                            z2 = z;
                            th = th27;
                            mediaCodecVideoConvertor = this;
                            str = "x";
                            mediaCodec = null;
                            inputSurface = null;
                            str2 = null;
                            mediaCodec2 = null;
                            file = file3;
                            i2 = i83;
                            file3 = file2;
                            i3 = -5;
                            z3 = false;
                            z4 = false;
                            outputSurface = mediaCodec2;
                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                            FileLog.e(th);
                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor != null) {
                                mediaExtractor.release();
                            }
                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder != null) {
                                try {
                                    mP4Builder.finishMovie();
                                    mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.mediaMuxer.getLastFrameTimestamp(i3);
                                } catch (Throwable th28) {
                                    FileLog.e(th28);
                                }
                            }
                            if (mediaCodec != null) {
                                try {
                                    mediaCodec.release();
                                } catch (Exception unused5) {
                                }
                            }
                            if (mediaCodec2 != null) {
                                try {
                                    mediaCodec2.release();
                                } catch (Exception unused6) {
                                }
                            }
                            if (outputSurface != null) {
                                try {
                                    outputSurface.release();
                                } catch (Exception unused7) {
                                }
                            }
                            if (inputSurface != null) {
                                try {
                                    inputSurface.release();
                                } catch (Exception unused8) {
                                }
                            }
                            i4 = i82;
                            str3 = str2;
                            z5 = z3;
                            z6 = true;
                            if (z5) {
                            }
                        }
                        try {
                            i6 = MediaController.findTrack(this.extractor, true);
                            str7 = str5;
                        } catch (Throwable th29) {
                            z2 = z;
                            th = th29;
                            mediaCodecVideoConvertor = this;
                            str = "x";
                            mediaCodec = null;
                            inputSurface = null;
                            str2 = null;
                            mediaCodec2 = null;
                            i82 = i5;
                            file = file3;
                            i2 = i83;
                            file3 = file2;
                            i3 = -5;
                            z3 = false;
                            z4 = false;
                            outputSurface = mediaCodec2;
                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                            FileLog.e(th);
                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor != null) {
                            }
                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface != null) {
                            }
                            i4 = i82;
                            str3 = str2;
                            z5 = z3;
                            z6 = true;
                            if (z5) {
                            }
                        }
                    }
                } catch (Throwable th30) {
                    th = th30;
                    z2 = z;
                    mediaCodecVideoConvertor = this;
                    str = "x";
                    file = file3;
                    i2 = i83;
                    file3 = file2;
                    i3 = -5;
                    th = th;
                    mediaCodec = null;
                    inputSurface = null;
                    str2 = null;
                    z3 = false;
                    mediaCodec2 = null;
                    outputSurface = null;
                    z4 = false;
                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                    FileLog.e(th);
                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor != null) {
                    }
                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                    if (mP4Builder != null) {
                    }
                    if (mediaCodec != null) {
                    }
                    if (mediaCodec2 != null) {
                    }
                    if (outputSurface != null) {
                    }
                    if (inputSurface != null) {
                    }
                    i4 = i82;
                    str3 = str2;
                    z5 = z3;
                    z6 = true;
                    if (z5) {
                    }
                }
            } catch (Throwable th31) {
                th = th31;
                z2 = z;
                i2 = i83;
                mediaCodecVideoConvertor = this;
                str = "x";
                file = file3;
                file3 = file2;
                i3 = -5;
            }
            if (findTrack >= 0) {
                i7 = i6;
                if (!this.extractor.getTrackFormat(findTrack).getString("mime").equals(MediaController.VIDEO_MIME_TYPE)) {
                    z7 = true;
                    if (file3 == null || z7) {
                        long j32 = j26;
                        file = file3;
                        file3 = file2;
                        if (findTrack < 0) {
                            long j33 = -2147483648L;
                            try {
                                long j34 = (1000 / i83) * 1000;
                                if (i83 < 30) {
                                    j3 = j34;
                                    try {
                                        i18 = 1000 / (i83 + 5);
                                    } catch (Exception e19) {
                                        exc = e19;
                                        i13 = findTrack;
                                        mediaCodecVideoConvertor = this;
                                        i2 = i83;
                                        i84 = i84;
                                        i14 = i81;
                                        i15 = i5;
                                        mediaCodec = null;
                                        z8 = false;
                                        i16 = -5;
                                        mediaCodec11 = null;
                                        str2 = null;
                                        outputSurface3 = null;
                                        audioRecoder = null;
                                        z4 = false;
                                        inputSurface2 = null;
                                        z2 = z;
                                        mediaCodec9 = mediaCodec11;
                                        try {
                                            if (exc instanceof IllegalStateException) {
                                            }
                                            try {
                                                StringBuilder sb5 = new StringBuilder();
                                                sb5.append("bitrate: ");
                                                sb5.append(i84);
                                                sb5.append(" framerate: ");
                                                sb5.append(i2);
                                                sb5.append(" size: ");
                                                i9 = i15;
                                                try {
                                                    sb5.append(i9);
                                                    str = "x";
                                                    try {
                                                        sb5.append(str);
                                                        i8 = i14;
                                                        try {
                                                            sb5.append(i8);
                                                            FileLog.e(sb5.toString());
                                                            FileLog.e(exc);
                                                            mediaCodec4 = mediaCodec;
                                                            z6 = true;
                                                            MediaCodec mediaCodec21 = mediaCodec9;
                                                            i17 = i16;
                                                            mediaCodec10 = mediaCodec21;
                                                            try {
                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                if (mediaCodec10 != null) {
                                                                }
                                                                mediaCodec3 = mediaCodec10;
                                                                i3 = i17;
                                                                outputSurface2 = outputSurface3;
                                                                if (outputSurface2 != null) {
                                                                }
                                                                if (inputSurface2 != null) {
                                                                }
                                                                if (mediaCodec4 == null) {
                                                                }
                                                                if (audioRecoder != null) {
                                                                }
                                                                checkConversionCanceled();
                                                                mediaCodec6 = mediaCodec3;
                                                                z5 = z8;
                                                                outputSurface4 = outputSurface2;
                                                                i81 = i8;
                                                                str8 = str2;
                                                                mediaCodec7 = mediaCodec5;
                                                                inputSurface3 = inputSurface2;
                                                                i10 = i3;
                                                                i4 = i9;
                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor2 != null) {
                                                                }
                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                if (mP4Builder2 != null) {
                                                                }
                                                                if (mediaCodec7 != null) {
                                                                }
                                                                if (mediaCodec6 != null) {
                                                                }
                                                                if (outputSurface4 != null) {
                                                                }
                                                                if (inputSurface3 != null) {
                                                                }
                                                                str3 = str8;
                                                            } catch (Throwable th32) {
                                                                th2 = th32;
                                                                z3 = z8;
                                                                mediaCodec2 = mediaCodec10;
                                                                i82 = i9;
                                                                i3 = i17;
                                                                i81 = i8;
                                                                mediaCodec = mediaCodec4;
                                                                inputSurface = inputSurface2;
                                                                th = th2;
                                                                outputSurface = outputSurface3;
                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                FileLog.e(th);
                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor != null) {
                                                                }
                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                if (mP4Builder != null) {
                                                                }
                                                                if (mediaCodec != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (outputSurface != null) {
                                                                }
                                                                if (inputSurface != null) {
                                                                }
                                                                i4 = i82;
                                                                str3 = str2;
                                                                z5 = z3;
                                                                z6 = true;
                                                                if (z5) {
                                                                }
                                                            }
                                                        } catch (Throwable th33) {
                                                            th2 = th33;
                                                            z3 = z8;
                                                            i3 = i16;
                                                            i82 = i9;
                                                            mediaCodec2 = mediaCodec9;
                                                            i81 = i8;
                                                            inputSurface = inputSurface2;
                                                            th = th2;
                                                            outputSurface = outputSurface3;
                                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                            FileLog.e(th);
                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            i4 = i82;
                                                            str3 = str2;
                                                            z5 = z3;
                                                            z6 = true;
                                                            if (z5) {
                                                            }
                                                        }
                                                    } catch (Throwable th34) {
                                                        th2 = th34;
                                                        i8 = i14;
                                                    }
                                                } catch (Throwable th35) {
                                                    th2 = th35;
                                                    i8 = i14;
                                                    str = "x";
                                                }
                                            } catch (Throwable th36) {
                                                th2 = th36;
                                                i8 = i14;
                                                str = "x";
                                                i9 = i15;
                                            }
                                        } catch (Throwable th37) {
                                            str = "x";
                                            th = th37;
                                            i3 = i16;
                                            i82 = i15;
                                            mediaCodec2 = mediaCodec9;
                                            i81 = i14;
                                            inputSurface = inputSurface2;
                                            z3 = false;
                                            outputSurface = outputSurface3;
                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                            FileLog.e(th);
                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor != null) {
                                            }
                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder != null) {
                                            }
                                            if (mediaCodec != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            i4 = i82;
                                            str3 = str2;
                                            z5 = z3;
                                            z6 = true;
                                            if (z5) {
                                            }
                                        }
                                        if (z5) {
                                        }
                                    }
                                } else {
                                    j3 = j34;
                                    i18 = 1000 / (i83 + 1);
                                }
                                j4 = i18 * 1000;
                                this.extractor.selectTrack(findTrack);
                                trackFormat = this.extractor.getTrackFormat(findTrack);
                                if (z43) {
                                    int i96 = f <= 2000.0f ? 2600000 : f <= 5000.0f ? 2200000 : 1560000;
                                    i19 = i85;
                                    if (i19 >= 15000000) {
                                        str9 = "OMX.google.h264.encoder";
                                        i20 = i96;
                                    } else {
                                        i20 = i96;
                                        str9 = null;
                                    }
                                    j = 0;
                                } else {
                                    i19 = i85;
                                    i20 = i84 <= 0 ? 921600 : i84;
                                    str9 = null;
                                }
                                if (i19 > 0) {
                                    try {
                                        try {
                                            i20 = Math.min(i19, i20);
                                        } catch (Exception e20) {
                                            exc = e20;
                                            i13 = findTrack;
                                            mediaCodecVideoConvertor = this;
                                            i84 = i20;
                                            i2 = i83;
                                            i14 = i81;
                                            i15 = i5;
                                            mediaCodec = null;
                                            z8 = false;
                                            i16 = -5;
                                            mediaCodec11 = null;
                                            str2 = null;
                                            outputSurface3 = null;
                                            audioRecoder = null;
                                            z4 = false;
                                            inputSurface2 = null;
                                            z2 = z;
                                            mediaCodec9 = mediaCodec11;
                                            if (exc instanceof IllegalStateException) {
                                            }
                                            StringBuilder sb52 = new StringBuilder();
                                            sb52.append("bitrate: ");
                                            sb52.append(i84);
                                            sb52.append(" framerate: ");
                                            sb52.append(i2);
                                            sb52.append(" size: ");
                                            i9 = i15;
                                            sb52.append(i9);
                                            str = "x";
                                            sb52.append(str);
                                            i8 = i14;
                                            sb52.append(i8);
                                            FileLog.e(sb52.toString());
                                            FileLog.e(exc);
                                            mediaCodec4 = mediaCodec;
                                            z6 = true;
                                            MediaCodec mediaCodec212 = mediaCodec9;
                                            i17 = i16;
                                            mediaCodec10 = mediaCodec212;
                                            mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                            if (mediaCodec10 != null) {
                                            }
                                            mediaCodec3 = mediaCodec10;
                                            i3 = i17;
                                            outputSurface2 = outputSurface3;
                                            if (outputSurface2 != null) {
                                            }
                                            if (inputSurface2 != null) {
                                            }
                                            if (mediaCodec4 == null) {
                                            }
                                            if (audioRecoder != null) {
                                            }
                                            checkConversionCanceled();
                                            mediaCodec6 = mediaCodec3;
                                            z5 = z8;
                                            outputSurface4 = outputSurface2;
                                            i81 = i8;
                                            str8 = str2;
                                            mediaCodec7 = mediaCodec5;
                                            inputSurface3 = inputSurface2;
                                            i10 = i3;
                                            i4 = i9;
                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor2 != null) {
                                            }
                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder2 != null) {
                                            }
                                            if (mediaCodec7 != null) {
                                            }
                                            if (mediaCodec6 != null) {
                                            }
                                            if (outputSurface4 != null) {
                                            }
                                            if (inputSurface3 != null) {
                                            }
                                            str3 = str8;
                                            if (z5) {
                                            }
                                        }
                                    } catch (Throwable th38) {
                                        z2 = z;
                                        th = th38;
                                        mediaCodecVideoConvertor = this;
                                        i84 = i20;
                                        i2 = i83;
                                        i81 = i81;
                                        i82 = i5;
                                        str = "x";
                                        i3 = -5;
                                        mediaCodec = null;
                                        inputSurface = null;
                                        str2 = null;
                                        z3 = false;
                                        mediaCodec2 = null;
                                        outputSurface = null;
                                        z4 = false;
                                        FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                        FileLog.e(th);
                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                        if (mP4Builder != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface != null) {
                                        }
                                        i4 = i82;
                                        str3 = str2;
                                        z5 = z3;
                                        z6 = true;
                                        if (z5) {
                                        }
                                    }
                                }
                                j5 = j >= 0 ? -1L : j;
                            } catch (Exception e21) {
                                i13 = findTrack;
                                mediaCodecVideoConvertor = this;
                                i2 = i83;
                                i14 = i81;
                                i15 = i5;
                                z8 = false;
                                z2 = z;
                                exc = e21;
                                i84 = i84;
                            } catch (Throwable th39) {
                                z2 = z;
                                mediaCodecVideoConvertor = this;
                                i2 = i83;
                                i11 = i81;
                                i12 = i5;
                                i3 = -5;
                                th = th39;
                                i84 = i84;
                            }
                            try {
                                try {
                                    try {
                                        try {
                                            try {
                                                try {
                                                    try {
                                                        try {
                                                            try {
                                                                try {
                                                                    try {
                                                                        if (j5 >= 0) {
                                                                            obj = "video/hevc";
                                                                            this.extractor.seekTo(j5, 0);
                                                                            j7 = r32;
                                                                            j6 = j5;
                                                                        } else {
                                                                            obj = "video/hevc";
                                                                            j6 = j5;
                                                                            if (r32 > 0) {
                                                                                this.extractor.seekTo(r32, 0);
                                                                                j7 = r32;
                                                                            } else {
                                                                                try {
                                                                                    j7 = r32;
                                                                                    this.extractor.seekTo(0L, 0);
                                                                                    if (cropState3 == null && cropState3.useMatrix == null) {
                                                                                        i21 = i78;
                                                                                        if (i21 != 90 && i21 != 270) {
                                                                                            i63 = cropState3.transformWidth;
                                                                                            i64 = cropState3.transformHeight;
                                                                                            int i97 = i64;
                                                                                            i22 = i63;
                                                                                            i23 = i97;
                                                                                        }
                                                                                        i63 = cropState3.transformHeight;
                                                                                        i64 = cropState3.transformWidth;
                                                                                        int i972 = i64;
                                                                                        i22 = i63;
                                                                                        i23 = i972;
                                                                                    } else {
                                                                                        i21 = i78;
                                                                                        i22 = i81;
                                                                                        i23 = i5;
                                                                                    }
                                                                                    if (str9 != null) {
                                                                                        try {
                                                                                            createByCodecName = MediaCodec.createByCodecName(str9);
                                                                                        } catch (Exception unused9) {
                                                                                        }
                                                                                        if (createByCodecName == null) {
                                                                                            try {
                                                                                                createByCodecName = createEncoderForMimeType();
                                                                                            } catch (Exception e22) {
                                                                                                exc = e22;
                                                                                                i13 = findTrack;
                                                                                                mediaCodecVideoConvertor = this;
                                                                                                i84 = i20;
                                                                                                i2 = i83;
                                                                                                mediaCodec = createByCodecName;
                                                                                                i14 = i81;
                                                                                                i15 = i5;
                                                                                                z8 = false;
                                                                                                i16 = -5;
                                                                                                mediaCodec11 = null;
                                                                                                str2 = null;
                                                                                                outputSurface3 = null;
                                                                                                audioRecoder = null;
                                                                                                z4 = false;
                                                                                                inputSurface2 = null;
                                                                                                z2 = z;
                                                                                                mediaCodec9 = mediaCodec11;
                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                }
                                                                                                StringBuilder sb522 = new StringBuilder();
                                                                                                sb522.append("bitrate: ");
                                                                                                sb522.append(i84);
                                                                                                sb522.append(" framerate: ");
                                                                                                sb522.append(i2);
                                                                                                sb522.append(" size: ");
                                                                                                i9 = i15;
                                                                                                sb522.append(i9);
                                                                                                str = "x";
                                                                                                sb522.append(str);
                                                                                                i8 = i14;
                                                                                                sb522.append(i8);
                                                                                                FileLog.e(sb522.toString());
                                                                                                FileLog.e(exc);
                                                                                                mediaCodec4 = mediaCodec;
                                                                                                z6 = true;
                                                                                                MediaCodec mediaCodec2122 = mediaCodec9;
                                                                                                i17 = i16;
                                                                                                mediaCodec10 = mediaCodec2122;
                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                if (mediaCodec10 != null) {
                                                                                                }
                                                                                                mediaCodec3 = mediaCodec10;
                                                                                                i3 = i17;
                                                                                                outputSurface2 = outputSurface3;
                                                                                                if (outputSurface2 != null) {
                                                                                                }
                                                                                                if (inputSurface2 != null) {
                                                                                                }
                                                                                                if (mediaCodec4 == null) {
                                                                                                }
                                                                                                if (audioRecoder != null) {
                                                                                                }
                                                                                                checkConversionCanceled();
                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                z5 = z8;
                                                                                                outputSurface4 = outputSurface2;
                                                                                                i81 = i8;
                                                                                                str8 = str2;
                                                                                                mediaCodec7 = mediaCodec5;
                                                                                                inputSurface3 = inputSurface2;
                                                                                                i10 = i3;
                                                                                                i4 = i9;
                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                if (mediaExtractor2 != null) {
                                                                                                }
                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                if (mP4Builder2 != null) {
                                                                                                }
                                                                                                if (mediaCodec7 != null) {
                                                                                                }
                                                                                                if (mediaCodec6 != null) {
                                                                                                }
                                                                                                if (outputSurface4 != null) {
                                                                                                }
                                                                                                if (inputSurface3 != null) {
                                                                                                }
                                                                                                str3 = str8;
                                                                                                if (z5) {
                                                                                                }
                                                                                            } catch (Throwable th40) {
                                                                                                z2 = z;
                                                                                                th = th40;
                                                                                                mediaCodecVideoConvertor = this;
                                                                                                i84 = i20;
                                                                                                i2 = i83;
                                                                                                mediaCodec = createByCodecName;
                                                                                                i81 = i81;
                                                                                                i82 = i5;
                                                                                                str = "x";
                                                                                                i3 = -5;
                                                                                                inputSurface = null;
                                                                                                str2 = null;
                                                                                                z3 = false;
                                                                                                mediaCodec2 = null;
                                                                                                outputSurface = null;
                                                                                                z4 = false;
                                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                FileLog.e(th);
                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                if (mediaExtractor != null) {
                                                                                                }
                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                if (mP4Builder != null) {
                                                                                                }
                                                                                                if (mediaCodec != null) {
                                                                                                }
                                                                                                if (mediaCodec2 != null) {
                                                                                                }
                                                                                                if (outputSurface != null) {
                                                                                                }
                                                                                                if (inputSurface != null) {
                                                                                                }
                                                                                                i4 = i82;
                                                                                                str3 = str2;
                                                                                                z5 = z3;
                                                                                                z6 = true;
                                                                                                if (z5) {
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        mediaCodec12 = createByCodecName;
                                                                                        if (BuildVars.LOGS_ENABLED) {
                                                                                            try {
                                                                                                try {
                                                                                                    sb = new StringBuilder();
                                                                                                    i24 = findTrack;
                                                                                                } catch (Exception e23) {
                                                                                                    exc = e23;
                                                                                                    i13 = findTrack;
                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                    i84 = i20;
                                                                                                    i2 = i83;
                                                                                                    i14 = i81;
                                                                                                    i15 = i5;
                                                                                                    mediaCodec = mediaCodec12;
                                                                                                    z8 = false;
                                                                                                    i16 = -5;
                                                                                                    mediaCodec11 = null;
                                                                                                    str2 = null;
                                                                                                    outputSurface3 = null;
                                                                                                    audioRecoder = null;
                                                                                                    z4 = false;
                                                                                                    inputSurface2 = null;
                                                                                                    z2 = z;
                                                                                                    mediaCodec9 = mediaCodec11;
                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                    }
                                                                                                    StringBuilder sb5222 = new StringBuilder();
                                                                                                    sb5222.append("bitrate: ");
                                                                                                    sb5222.append(i84);
                                                                                                    sb5222.append(" framerate: ");
                                                                                                    sb5222.append(i2);
                                                                                                    sb5222.append(" size: ");
                                                                                                    i9 = i15;
                                                                                                    sb5222.append(i9);
                                                                                                    str = "x";
                                                                                                    sb5222.append(str);
                                                                                                    i8 = i14;
                                                                                                    sb5222.append(i8);
                                                                                                    FileLog.e(sb5222.toString());
                                                                                                    FileLog.e(exc);
                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                    z6 = true;
                                                                                                    MediaCodec mediaCodec21222 = mediaCodec9;
                                                                                                    i17 = i16;
                                                                                                    mediaCodec10 = mediaCodec21222;
                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                    if (mediaCodec10 != null) {
                                                                                                    }
                                                                                                    mediaCodec3 = mediaCodec10;
                                                                                                    i3 = i17;
                                                                                                    outputSurface2 = outputSurface3;
                                                                                                    if (outputSurface2 != null) {
                                                                                                    }
                                                                                                    if (inputSurface2 != null) {
                                                                                                    }
                                                                                                    if (mediaCodec4 == null) {
                                                                                                    }
                                                                                                    if (audioRecoder != null) {
                                                                                                    }
                                                                                                    checkConversionCanceled();
                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                    z5 = z8;
                                                                                                    outputSurface4 = outputSurface2;
                                                                                                    i81 = i8;
                                                                                                    str8 = str2;
                                                                                                    mediaCodec7 = mediaCodec5;
                                                                                                    inputSurface3 = inputSurface2;
                                                                                                    i10 = i3;
                                                                                                    i4 = i9;
                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                    if (mediaExtractor2 != null) {
                                                                                                    }
                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                    if (mP4Builder2 != null) {
                                                                                                    }
                                                                                                    if (mediaCodec7 != null) {
                                                                                                    }
                                                                                                    if (mediaCodec6 != null) {
                                                                                                    }
                                                                                                    if (outputSurface4 != null) {
                                                                                                    }
                                                                                                    if (inputSurface3 != null) {
                                                                                                    }
                                                                                                    str3 = str8;
                                                                                                    if (z5) {
                                                                                                    }
                                                                                                }
                                                                                            } catch (Throwable th41) {
                                                                                                z2 = z;
                                                                                                th = th41;
                                                                                                mediaCodecVideoConvertor = this;
                                                                                                i84 = i20;
                                                                                                i2 = i83;
                                                                                                i81 = i81;
                                                                                                i82 = i5;
                                                                                                mediaCodec = mediaCodec12;
                                                                                                str = "x";
                                                                                                i3 = -5;
                                                                                                inputSurface = null;
                                                                                                str2 = null;
                                                                                                z3 = false;
                                                                                                mediaCodec2 = null;
                                                                                                outputSurface = null;
                                                                                                z4 = false;
                                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                FileLog.e(th);
                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                if (mediaExtractor != null) {
                                                                                                }
                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                if (mP4Builder != null) {
                                                                                                }
                                                                                                if (mediaCodec != null) {
                                                                                                }
                                                                                                if (mediaCodec2 != null) {
                                                                                                }
                                                                                                if (outputSurface != null) {
                                                                                                }
                                                                                                if (inputSurface != null) {
                                                                                                }
                                                                                                i4 = i82;
                                                                                                str3 = str2;
                                                                                                z5 = z3;
                                                                                                z6 = true;
                                                                                                if (z5) {
                                                                                                }
                                                                                            }
                                                                                            try {
                                                                                                sb.append("create encoder with w = ");
                                                                                                sb.append(i22);
                                                                                                sb.append(" h = ");
                                                                                                sb.append(i23);
                                                                                                sb.append(" bitrate = ");
                                                                                                sb.append(i20);
                                                                                                FileLog.d(sb.toString());
                                                                                            } catch (Exception e24) {
                                                                                                z2 = z;
                                                                                                exc = e24;
                                                                                                mediaCodecVideoConvertor = this;
                                                                                                i84 = i20;
                                                                                                i2 = i83;
                                                                                                i14 = i81;
                                                                                                i15 = i5;
                                                                                                mediaCodec = mediaCodec12;
                                                                                                i13 = i24;
                                                                                                z8 = false;
                                                                                                i16 = -5;
                                                                                                mediaCodec8 = null;
                                                                                                str2 = null;
                                                                                                outputSurface3 = null;
                                                                                                audioRecoder = null;
                                                                                                z4 = false;
                                                                                                inputSurface2 = null;
                                                                                                mediaCodec9 = mediaCodec8;
                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                }
                                                                                                StringBuilder sb52222 = new StringBuilder();
                                                                                                sb52222.append("bitrate: ");
                                                                                                sb52222.append(i84);
                                                                                                sb52222.append(" framerate: ");
                                                                                                sb52222.append(i2);
                                                                                                sb52222.append(" size: ");
                                                                                                i9 = i15;
                                                                                                sb52222.append(i9);
                                                                                                str = "x";
                                                                                                sb52222.append(str);
                                                                                                i8 = i14;
                                                                                                sb52222.append(i8);
                                                                                                FileLog.e(sb52222.toString());
                                                                                                FileLog.e(exc);
                                                                                                mediaCodec4 = mediaCodec;
                                                                                                z6 = true;
                                                                                                MediaCodec mediaCodec212222 = mediaCodec9;
                                                                                                i17 = i16;
                                                                                                mediaCodec10 = mediaCodec212222;
                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                if (mediaCodec10 != null) {
                                                                                                }
                                                                                                mediaCodec3 = mediaCodec10;
                                                                                                i3 = i17;
                                                                                                outputSurface2 = outputSurface3;
                                                                                                if (outputSurface2 != null) {
                                                                                                }
                                                                                                if (inputSurface2 != null) {
                                                                                                }
                                                                                                if (mediaCodec4 == null) {
                                                                                                }
                                                                                                if (audioRecoder != null) {
                                                                                                }
                                                                                                checkConversionCanceled();
                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                z5 = z8;
                                                                                                outputSurface4 = outputSurface2;
                                                                                                i81 = i8;
                                                                                                str8 = str2;
                                                                                                mediaCodec7 = mediaCodec5;
                                                                                                inputSurface3 = inputSurface2;
                                                                                                i10 = i3;
                                                                                                i4 = i9;
                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                if (mediaExtractor2 != null) {
                                                                                                }
                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                if (mP4Builder2 != null) {
                                                                                                }
                                                                                                if (mediaCodec7 != null) {
                                                                                                }
                                                                                                if (mediaCodec6 != null) {
                                                                                                }
                                                                                                if (outputSurface4 != null) {
                                                                                                }
                                                                                                if (inputSurface3 != null) {
                                                                                                }
                                                                                                str3 = str8;
                                                                                                if (z5) {
                                                                                                }
                                                                                            }
                                                                                        } else {
                                                                                            i24 = findTrack;
                                                                                        }
                                                                                        createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i22, i23);
                                                                                        createVideoFormat.setInteger("color-format", 2130708361);
                                                                                        createVideoFormat.setInteger("bitrate", i20);
                                                                                        if (z43 && Build.VERSION.SDK_INT >= 21) {
                                                                                            createVideoFormat.setInteger("bitrate-mode", 2);
                                                                                        }
                                                                                        createVideoFormat.setInteger("max-bitrate", i20);
                                                                                        createVideoFormat.setInteger("frame-rate", i83);
                                                                                        createVideoFormat.setInteger("i-frame-interval", 1);
                                                                                        i25 = Build.VERSION.SDK_INT;
                                                                                        if (i25 >= 24) {
                                                                                            if (trackFormat.containsKey("color-transfer")) {
                                                                                                i27 = trackFormat.getInteger("color-transfer");
                                                                                                str10 = "mime";
                                                                                            } else {
                                                                                                str10 = "mime";
                                                                                                i27 = 0;
                                                                                            }
                                                                                            if (trackFormat.containsKey("color-standard")) {
                                                                                                i26 = trackFormat.getInteger("color-standard");
                                                                                                mp4Movie2 = mp4Movie;
                                                                                            } else {
                                                                                                mp4Movie2 = mp4Movie;
                                                                                                i26 = 0;
                                                                                            }
                                                                                            if (trackFormat.containsKey("color-range")) {
                                                                                                trackFormat.getInteger("color-range");
                                                                                            }
                                                                                            if ((i27 == 6 || i27 == 7) && i26 == 6) {
                                                                                                z9 = true;
                                                                                                if (i25 >= 23) {
                                                                                                    i28 = i23;
                                                                                                    if (Math.min(i23, i22) <= 480 && !z43) {
                                                                                                        i84 = i20 > 921600 ? 921600 : i20;
                                                                                                        try {
                                                                                                            createVideoFormat.setInteger("bitrate", i84);
                                                                                                            i29 = i84;
                                                                                                            name = mediaCodec12.getName();
                                                                                                            z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                                                                            FileLog.d("selected encoder " + name);
                                                                                                            mediaCodec12.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                                                                            int i98 = i22;
                                                                                                            inputSurface = new InputSurface(mediaCodec12.createInputSurface());
                                                                                                            inputSurface.makeCurrent();
                                                                                                            mediaCodec12.start();
                                                                                                            if (hDRInfo2 == null || !z9) {
                                                                                                                hDRInfo = hDRInfo2;
                                                                                                            } else {
                                                                                                                try {
                                                                                                                    StoryEntry.HDRInfo hDRInfo3 = new StoryEntry.HDRInfo();
                                                                                                                    hDRInfo3.colorTransfer = i27;
                                                                                                                    hDRInfo3.colorStandard = i26;
                                                                                                                    if (i25 >= 24) {
                                                                                                                        createVideoFormat.setInteger("color-transfer", 3);
                                                                                                                    }
                                                                                                                    hDRInfo = hDRInfo3;
                                                                                                                } catch (Exception e25) {
                                                                                                                    z2 = z;
                                                                                                                    exc = e25;
                                                                                                                    mediaCodec = mediaCodec12;
                                                                                                                    inputSurface2 = inputSurface;
                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                    mediaCodec9 = null;
                                                                                                                    audioRecoder = null;
                                                                                                                    i2 = i83;
                                                                                                                    i14 = i81;
                                                                                                                    i15 = i5;
                                                                                                                    str2 = name;
                                                                                                                    i13 = i24;
                                                                                                                    i84 = i29;
                                                                                                                    z8 = false;
                                                                                                                    i16 = -5;
                                                                                                                    outputSurface3 = null;
                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                    }
                                                                                                                    StringBuilder sb522222 = new StringBuilder();
                                                                                                                    sb522222.append("bitrate: ");
                                                                                                                    sb522222.append(i84);
                                                                                                                    sb522222.append(" framerate: ");
                                                                                                                    sb522222.append(i2);
                                                                                                                    sb522222.append(" size: ");
                                                                                                                    i9 = i15;
                                                                                                                    sb522222.append(i9);
                                                                                                                    str = "x";
                                                                                                                    sb522222.append(str);
                                                                                                                    i8 = i14;
                                                                                                                    sb522222.append(i8);
                                                                                                                    FileLog.e(sb522222.toString());
                                                                                                                    FileLog.e(exc);
                                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                                    z6 = true;
                                                                                                                    MediaCodec mediaCodec2122222 = mediaCodec9;
                                                                                                                    i17 = i16;
                                                                                                                    mediaCodec10 = mediaCodec2122222;
                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                    if (mediaCodec10 != null) {
                                                                                                                    }
                                                                                                                    mediaCodec3 = mediaCodec10;
                                                                                                                    i3 = i17;
                                                                                                                    outputSurface2 = outputSurface3;
                                                                                                                    if (outputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                    }
                                                                                                                    if (audioRecoder != null) {
                                                                                                                    }
                                                                                                                    checkConversionCanceled();
                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                    z5 = z8;
                                                                                                                    outputSurface4 = outputSurface2;
                                                                                                                    i81 = i8;
                                                                                                                    str8 = str2;
                                                                                                                    mediaCodec7 = mediaCodec5;
                                                                                                                    inputSurface3 = inputSurface2;
                                                                                                                    i10 = i3;
                                                                                                                    i4 = i9;
                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                    }
                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface4 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface3 != null) {
                                                                                                                    }
                                                                                                                    str3 = str8;
                                                                                                                    if (z5) {
                                                                                                                    }
                                                                                                                } catch (Throwable th42) {
                                                                                                                    th2 = th42;
                                                                                                                    z2 = z;
                                                                                                                    mediaCodec = mediaCodec12;
                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                    mediaCodec2 = null;
                                                                                                                    outputSurface3 = null;
                                                                                                                    i2 = i83;
                                                                                                                    i81 = i81;
                                                                                                                    i82 = i5;
                                                                                                                    str2 = name;
                                                                                                                    i84 = i29;
                                                                                                                    str = "x";
                                                                                                                    i3 = -5;
                                                                                                                    z3 = false;
                                                                                                                    th = th2;
                                                                                                                    outputSurface = outputSurface3;
                                                                                                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                    FileLog.e(th);
                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor != null) {
                                                                                                                    }
                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                    if (mP4Builder != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    i4 = i82;
                                                                                                                    str3 = str2;
                                                                                                                    z5 = z3;
                                                                                                                    z6 = true;
                                                                                                                    if (z5) {
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                            i34 = i5;
                                                                                                            mediaCodecVideoConvertor = null;
                                                                                                            i35 = i83;
                                                                                                            i13 = i80;
                                                                                                            outputSurface6 = new OutputSurface(savedFilterState, null, str16, str17, arrayList, cropState3, i81, i34, i79, i13, i21, i83, false, num, num2, hDRInfo, convertVideoParams);
                                                                                                            if (i25 >= 24 && hDRInfo != null) {
                                                                                                                try {
                                                                                                                    if (hDRInfo.getHDRType() != 0) {
                                                                                                                        mediaCodec4 = mediaCodec12;
                                                                                                                        i37 = i7;
                                                                                                                        f2 = f4;
                                                                                                                        j9 = j28;
                                                                                                                        j10 = j3;
                                                                                                                        i14 = i81;
                                                                                                                        str2 = name;
                                                                                                                        mediaFormat = trackFormat;
                                                                                                                        i39 = i28;
                                                                                                                        obj2 = obj;
                                                                                                                        inputSurface2 = inputSurface;
                                                                                                                        bufferInfo2 = bufferInfo;
                                                                                                                        i38 = i98;
                                                                                                                        j8 = j6;
                                                                                                                        j11 = j7;
                                                                                                                        i36 = i34;
                                                                                                                        z10 = z37;
                                                                                                                        try {
                                                                                                                            outputSurface6.changeFragmentShader(hdrFragmentShader(i79, i80, i81, i34, true, hDRInfo), hdrFragmentShader(i79, i80, i14, i36, false, hDRInfo), false);
                                                                                                                            i40 = i36;
                                                                                                                            MediaFormat mediaFormat2 = mediaFormat;
                                                                                                                            mediaCodec10 = getDecoderByFormat(mediaFormat2);
                                                                                                                            mediaCodec10.configure(mediaFormat2, outputSurface6.getSurface(), (MediaCrypto) null, 0);
                                                                                                                            mediaCodec10.start();
                                                                                                                            if (i25 < 21) {
                                                                                                                                try {
                                                                                                                                    try {
                                                                                                                                        inputBuffers = mediaCodec10.getInputBuffers();
                                                                                                                                        outputBuffers = mediaCodec4.getOutputBuffers();
                                                                                                                                    } catch (Throwable th43) {
                                                                                                                                        th = th43;
                                                                                                                                        i82 = i40;
                                                                                                                                        outputSurface7 = outputSurface6;
                                                                                                                                        mediaCodec2 = mediaCodec10;
                                                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                                                        mediaCodec = mediaCodec4;
                                                                                                                                        i81 = i14;
                                                                                                                                        i84 = i29;
                                                                                                                                        str = "x";
                                                                                                                                        i2 = i35;
                                                                                                                                        inputSurface = inputSurface2;
                                                                                                                                        i3 = -5;
                                                                                                                                        z3 = false;
                                                                                                                                        z2 = z;
                                                                                                                                        outputSurface = outputSurface7;
                                                                                                                                        FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                        FileLog.e(th);
                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                        }
                                                                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                        if (mP4Builder != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                        }
                                                                                                                                        if (outputSurface != null) {
                                                                                                                                        }
                                                                                                                                        if (inputSurface != null) {
                                                                                                                                        }
                                                                                                                                        i4 = i82;
                                                                                                                                        str3 = str2;
                                                                                                                                        z5 = z3;
                                                                                                                                        z6 = true;
                                                                                                                                        if (z5) {
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                } catch (Exception e26) {
                                                                                                                                    exc = e26;
                                                                                                                                    i15 = i40;
                                                                                                                                    audioRecoder = null;
                                                                                                                                    mediaCodec11 = mediaCodec10;
                                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                                    mediaCodec = mediaCodec4;
                                                                                                                                    i13 = i24;
                                                                                                                                    i84 = i29;
                                                                                                                                    i2 = i35;
                                                                                                                                    z8 = false;
                                                                                                                                    i16 = -5;
                                                                                                                                    outputSurface3 = outputSurface6;
                                                                                                                                    z2 = z;
                                                                                                                                    mediaCodec9 = mediaCodec11;
                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                    }
                                                                                                                                    StringBuilder sb5222222 = new StringBuilder();
                                                                                                                                    sb5222222.append("bitrate: ");
                                                                                                                                    sb5222222.append(i84);
                                                                                                                                    sb5222222.append(" framerate: ");
                                                                                                                                    sb5222222.append(i2);
                                                                                                                                    sb5222222.append(" size: ");
                                                                                                                                    i9 = i15;
                                                                                                                                    sb5222222.append(i9);
                                                                                                                                    str = "x";
                                                                                                                                    sb5222222.append(str);
                                                                                                                                    i8 = i14;
                                                                                                                                    sb5222222.append(i8);
                                                                                                                                    FileLog.e(sb5222222.toString());
                                                                                                                                    FileLog.e(exc);
                                                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                                                    z6 = true;
                                                                                                                                    MediaCodec mediaCodec21222222 = mediaCodec9;
                                                                                                                                    i17 = i16;
                                                                                                                                    mediaCodec10 = mediaCodec21222222;
                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                    if (mediaCodec10 != null) {
                                                                                                                                    }
                                                                                                                                    mediaCodec3 = mediaCodec10;
                                                                                                                                    i3 = i17;
                                                                                                                                    outputSurface2 = outputSurface3;
                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                    }
                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                                    }
                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                    }
                                                                                                                                    checkConversionCanceled();
                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                    z5 = z8;
                                                                                                                                    outputSurface4 = outputSurface2;
                                                                                                                                    i81 = i8;
                                                                                                                                    str8 = str2;
                                                                                                                                    mediaCodec7 = mediaCodec5;
                                                                                                                                    inputSurface3 = inputSurface2;
                                                                                                                                    i10 = i3;
                                                                                                                                    i4 = i9;
                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                    }
                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                    }
                                                                                                                                    if (outputSurface4 != null) {
                                                                                                                                    }
                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                    }
                                                                                                                                    str3 = str8;
                                                                                                                                    if (z5) {
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            } else {
                                                                                                                                inputBuffers = null;
                                                                                                                                outputBuffers = null;
                                                                                                                            }
                                                                                                                            audioRecoder2 = mp4Movie2;
                                                                                                                            this.mediaMuxer = new MP4Builder().createMovie(audioRecoder2, z10, this.outputMimeType.equals(obj2));
                                                                                                                            if (i37 >= 0) {
                                                                                                                                try {
                                                                                                                                    MediaFormat trackFormat2 = this.extractor.getTrackFormat(i37);
                                                                                                                                    try {
                                                                                                                                        if (Math.abs(f2 - 1.0f) < 0.001f) {
                                                                                                                                            convertVideoParams2 = convertVideoParams;
                                                                                                                                            if (convertVideoParams2.soundInfos.isEmpty()) {
                                                                                                                                                str11 = str10;
                                                                                                                                                if (!trackFormat2.getString(str11).equals(MediaController.AUDIO_MIME_TYPE)) {
                                                                                                                                                }
                                                                                                                                                z11 = true;
                                                                                                                                                if (trackFormat2.getString(str11).equals("audio/unknown")) {
                                                                                                                                                    i37 = -1;
                                                                                                                                                }
                                                                                                                                                if (i37 >= 0) {
                                                                                                                                                    byteBufferArr = outputBuffers;
                                                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                                                    j12 = j11;
                                                                                                                                                    z12 = z11;
                                                                                                                                                    i42 = -5;
                                                                                                                                                    audioRecoder2 = null;
                                                                                                                                                    i44 = 0;
                                                                                                                                                    byteBuffer = null;
                                                                                                                                                    j13 = j12;
                                                                                                                                                    if (audioRecoder2 == null) {
                                                                                                                                                    }
                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                    ByteBuffer byteBuffer9 = byteBuffer;
                                                                                                                                                    ByteBuffer[] byteBufferArr4 = byteBufferArr;
                                                                                                                                                    long j35 = -1;
                                                                                                                                                    long j36 = -1;
                                                                                                                                                    i17 = -5;
                                                                                                                                                    z14 = false;
                                                                                                                                                    z15 = false;
                                                                                                                                                    z16 = false;
                                                                                                                                                    long j37 = 0;
                                                                                                                                                    long j38 = 0;
                                                                                                                                                    int i99 = 0;
                                                                                                                                                    boolean z47 = true;
                                                                                                                                                    int i100 = i44;
                                                                                                                                                    boolean z48 = z13;
                                                                                                                                                    i46 = i100;
                                                                                                                                                    j14 = j13;
                                                                                                                                                    loop3: while (true) {
                                                                                                                                                        if (z14) {
                                                                                                                                                        }
                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                        if (audioRecoder2 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (z15) {
                                                                                                                                                        }
                                                                                                                                                        z18 = !z16;
                                                                                                                                                        i51 = i46;
                                                                                                                                                        j15 = j33;
                                                                                                                                                        i2 = i47;
                                                                                                                                                        boolean z49 = true;
                                                                                                                                                        r5 = j14;
                                                                                                                                                        mediaCodec15 = i50;
                                                                                                                                                        while (true) {
                                                                                                                                                            if (!z18) {
                                                                                                                                                            }
                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                            if (z) {
                                                                                                                                                            }
                                                                                                                                                            dequeueOutputBuffer = mediaCodec.dequeueOutputBuffer(bufferInfo3, j16);
                                                                                                                                                            if (dequeueOutputBuffer == -1) {
                                                                                                                                                            }
                                                                                                                                                            i55 = -1;
                                                                                                                                                            mediaCodec13 = mediaCodec10;
                                                                                                                                                            if (dequeueOutputBuffer != i55) {
                                                                                                                                                            }
                                                                                                                                                            int i101 = i52;
                                                                                                                                                            mediaCodec4 = mediaCodec;
                                                                                                                                                            i51 = i101;
                                                                                                                                                            r5 = r5;
                                                                                                                                                            mediaCodec15 = i59;
                                                                                                                                                        }
                                                                                                                                                        j33 = j15;
                                                                                                                                                        bufferInfo2 = bufferInfo3;
                                                                                                                                                        outputSurface6 = outputSurface3;
                                                                                                                                                        audioRecoder2 = audioRecoder;
                                                                                                                                                        inputBuffers = byteBufferArr2;
                                                                                                                                                        i37 = i49;
                                                                                                                                                        z12 = z17;
                                                                                                                                                        i46 = i51;
                                                                                                                                                        i24 = mediaCodec15;
                                                                                                                                                        i42 = i48;
                                                                                                                                                        i17 = i2;
                                                                                                                                                        i40 = i15;
                                                                                                                                                        j14 = r5;
                                                                                                                                                    }
                                                                                                                                                } else if (z11) {
                                                                                                                                                    int addTrack2 = this.mediaMuxer.addTrack(trackFormat2, true);
                                                                                                                                                    this.extractor.selectTrack(i37);
                                                                                                                                                    try {
                                                                                                                                                        i43 = trackFormat2.getInteger("max-input-size");
                                                                                                                                                    } catch (Exception e27) {
                                                                                                                                                        FileLog.e(e27);
                                                                                                                                                        i43 = 0;
                                                                                                                                                    }
                                                                                                                                                    if (i43 <= 0) {
                                                                                                                                                        i43 = 65536;
                                                                                                                                                    }
                                                                                                                                                    ByteBuffer allocateDirect = ByteBuffer.allocateDirect(i43);
                                                                                                                                                    i44 = i43;
                                                                                                                                                    long j39 = j11;
                                                                                                                                                    if (j39 > 0) {
                                                                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                                                                        i45 = addTrack2;
                                                                                                                                                        z12 = z11;
                                                                                                                                                        mediaCodecVideoConvertor.extractor.seekTo(j39, 0);
                                                                                                                                                        byteBufferArr = outputBuffers;
                                                                                                                                                        byteBuffer = allocateDirect;
                                                                                                                                                    } else {
                                                                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                                                                        i45 = addTrack2;
                                                                                                                                                        z12 = z11;
                                                                                                                                                        byteBufferArr = outputBuffers;
                                                                                                                                                        byteBuffer = allocateDirect;
                                                                                                                                                        mediaCodecVideoConvertor.extractor.seekTo(0L, 0);
                                                                                                                                                    }
                                                                                                                                                    i42 = i45;
                                                                                                                                                    audioRecoder2 = null;
                                                                                                                                                    j13 = j39;
                                                                                                                                                    z13 = audioRecoder2 == null;
                                                                                                                                                    try {
                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                        ByteBuffer byteBuffer92 = byteBuffer;
                                                                                                                                                        ByteBuffer[] byteBufferArr42 = byteBufferArr;
                                                                                                                                                        long j352 = -1;
                                                                                                                                                        long j362 = -1;
                                                                                                                                                        i17 = -5;
                                                                                                                                                        z14 = false;
                                                                                                                                                        z15 = false;
                                                                                                                                                        z16 = false;
                                                                                                                                                        long j372 = 0;
                                                                                                                                                        long j382 = 0;
                                                                                                                                                        int i992 = 0;
                                                                                                                                                        boolean z472 = true;
                                                                                                                                                        int i1002 = i44;
                                                                                                                                                        boolean z482 = z13;
                                                                                                                                                        i46 = i1002;
                                                                                                                                                        j14 = j13;
                                                                                                                                                        loop3: while (true) {
                                                                                                                                                            if (z14 || (!z12 && !z482)) {
                                                                                                                                                                try {
                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                    if (audioRecoder2 != null) {
                                                                                                                                                                        try {
                                                                                                                                                                            z482 = audioRecoder2.step(mediaCodecVideoConvertor.mediaMuxer, i42);
                                                                                                                                                                        } catch (Exception e28) {
                                                                                                                                                                            exc = e28;
                                                                                                                                                                            i15 = i40;
                                                                                                                                                                            audioRecoder = audioRecoder2;
                                                                                                                                                                            mediaCodec = mediaCodec4;
                                                                                                                                                                            i13 = i24;
                                                                                                                                                                            i84 = i29;
                                                                                                                                                                            i2 = i35;
                                                                                                                                                                            z8 = false;
                                                                                                                                                                            outputSurface3 = outputSurface6;
                                                                                                                                                                            z2 = z;
                                                                                                                                                                            int i102 = i17;
                                                                                                                                                                            mediaCodec9 = mediaCodec10;
                                                                                                                                                                            i16 = i102;
                                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                                            }
                                                                                                                                                                            StringBuilder sb52222222 = new StringBuilder();
                                                                                                                                                                            sb52222222.append("bitrate: ");
                                                                                                                                                                            sb52222222.append(i84);
                                                                                                                                                                            sb52222222.append(" framerate: ");
                                                                                                                                                                            sb52222222.append(i2);
                                                                                                                                                                            sb52222222.append(" size: ");
                                                                                                                                                                            i9 = i15;
                                                                                                                                                                            sb52222222.append(i9);
                                                                                                                                                                            str = "x";
                                                                                                                                                                            sb52222222.append(str);
                                                                                                                                                                            i8 = i14;
                                                                                                                                                                            sb52222222.append(i8);
                                                                                                                                                                            FileLog.e(sb52222222.toString());
                                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                                            mediaCodec4 = mediaCodec;
                                                                                                                                                                            z6 = true;
                                                                                                                                                                            MediaCodec mediaCodec212222222 = mediaCodec9;
                                                                                                                                                                            i17 = i16;
                                                                                                                                                                            mediaCodec10 = mediaCodec212222222;
                                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                            if (mediaCodec10 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            mediaCodec3 = mediaCodec10;
                                                                                                                                                                            i3 = i17;
                                                                                                                                                                            outputSurface2 = outputSurface3;
                                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec4 == null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                                            }
                                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                                                                            z5 = z8;
                                                                                                                                                                            outputSurface4 = outputSurface2;
                                                                                                                                                                            i81 = i8;
                                                                                                                                                                            str8 = str2;
                                                                                                                                                                            mediaCodec7 = mediaCodec5;
                                                                                                                                                                            inputSurface3 = inputSurface2;
                                                                                                                                                                            i10 = i3;
                                                                                                                                                                            i4 = i9;
                                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (outputSurface4 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (inputSurface3 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            str3 = str8;
                                                                                                                                                                            if (z5) {
                                                                                                                                                                            }
                                                                                                                                                                        } catch (Throwable th44) {
                                                                                                                                                                            th = th44;
                                                                                                                                                                            i82 = i40;
                                                                                                                                                                            outputSurface7 = outputSurface6;
                                                                                                                                                                            mediaCodec2 = mediaCodec10;
                                                                                                                                                                            i3 = i17;
                                                                                                                                                                            mediaCodec = mediaCodec4;
                                                                                                                                                                            i81 = i14;
                                                                                                                                                                            i84 = i29;
                                                                                                                                                                            str = "x";
                                                                                                                                                                            i2 = i35;
                                                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                                                            z3 = false;
                                                                                                                                                                            z2 = z;
                                                                                                                                                                            outputSurface = outputSurface7;
                                                                                                                                                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                            FileLog.e(th);
                                                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                                                            }
                                                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (outputSurface != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                                            }
                                                                                                                                                                            i4 = i82;
                                                                                                                                                                            str3 = str2;
                                                                                                                                                                            z5 = z3;
                                                                                                                                                                            z6 = true;
                                                                                                                                                                            if (z5) {
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                    if (z15) {
                                                                                                                                                                        i15 = i40;
                                                                                                                                                                        byteBufferArr2 = inputBuffers;
                                                                                                                                                                        i48 = i42;
                                                                                                                                                                        audioRecoder = audioRecoder2;
                                                                                                                                                                        i47 = i17;
                                                                                                                                                                        z17 = z12;
                                                                                                                                                                        i49 = i37;
                                                                                                                                                                        i50 = i24;
                                                                                                                                                                        bufferInfo3 = bufferInfo2;
                                                                                                                                                                        outputSurface3 = outputSurface6;
                                                                                                                                                                    } else {
                                                                                                                                                                        audioRecoder = audioRecoder2;
                                                                                                                                                                        try {
                                                                                                                                                                            int sampleTrackIndex = mediaCodecVideoConvertor.extractor.getSampleTrackIndex();
                                                                                                                                                                            i47 = i17;
                                                                                                                                                                            i50 = i24;
                                                                                                                                                                            if (sampleTrackIndex == i50) {
                                                                                                                                                                                i15 = i40;
                                                                                                                                                                                outputSurface3 = outputSurface6;
                                                                                                                                                                                try {
                                                                                                                                                                                    int dequeueInputBuffer2 = mediaCodec10.dequeueInputBuffer(2500L);
                                                                                                                                                                                    if (dequeueInputBuffer2 >= 0) {
                                                                                                                                                                                        if (Build.VERSION.SDK_INT < 21) {
                                                                                                                                                                                            inputBuffer = inputBuffers[dequeueInputBuffer2];
                                                                                                                                                                                        } else {
                                                                                                                                                                                            inputBuffer = mediaCodec10.getInputBuffer(dequeueInputBuffer2);
                                                                                                                                                                                        }
                                                                                                                                                                                        byteBufferArr2 = inputBuffers;
                                                                                                                                                                                        i13 = mediaCodecVideoConvertor.extractor.readSampleData(inputBuffer, 0);
                                                                                                                                                                                        if (i13 < 0) {
                                                                                                                                                                                            i13 = 0;
                                                                                                                                                                                            mediaCodec10.queueInputBuffer(dequeueInputBuffer2, 0, 0, 0L, 4);
                                                                                                                                                                                            z15 = true;
                                                                                                                                                                                        } else {
                                                                                                                                                                                            mediaCodec10.queueInputBuffer(dequeueInputBuffer2, 0, i13, mediaCodecVideoConvertor.extractor.getSampleTime(), 0);
                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.advance();
                                                                                                                                                                                        }
                                                                                                                                                                                    } else {
                                                                                                                                                                                        byteBufferArr2 = inputBuffers;
                                                                                                                                                                                    }
                                                                                                                                                                                    i48 = i42;
                                                                                                                                                                                    z17 = z12;
                                                                                                                                                                                    i49 = i37;
                                                                                                                                                                                    bufferInfo3 = bufferInfo2;
                                                                                                                                                                                } catch (Exception e29) {
                                                                                                                                                                                    e = e29;
                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                    exc = e;
                                                                                                                                                                                    i13 = i50;
                                                                                                                                                                                    mediaCodec = mediaCodec4;
                                                                                                                                                                                    i84 = i29;
                                                                                                                                                                                    i2 = i35;
                                                                                                                                                                                    z8 = false;
                                                                                                                                                                                    mediaCodec9 = mediaCodec10;
                                                                                                                                                                                    i16 = i47;
                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                    }
                                                                                                                                                                                    StringBuilder sb522222222 = new StringBuilder();
                                                                                                                                                                                    sb522222222.append("bitrate: ");
                                                                                                                                                                                    sb522222222.append(i84);
                                                                                                                                                                                    sb522222222.append(" framerate: ");
                                                                                                                                                                                    sb522222222.append(i2);
                                                                                                                                                                                    sb522222222.append(" size: ");
                                                                                                                                                                                    i9 = i15;
                                                                                                                                                                                    sb522222222.append(i9);
                                                                                                                                                                                    str = "x";
                                                                                                                                                                                    sb522222222.append(str);
                                                                                                                                                                                    i8 = i14;
                                                                                                                                                                                    sb522222222.append(i8);
                                                                                                                                                                                    FileLog.e(sb522222222.toString());
                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                                                                                                    z6 = true;
                                                                                                                                                                                    MediaCodec mediaCodec2122222222 = mediaCodec9;
                                                                                                                                                                                    i17 = i16;
                                                                                                                                                                                    mediaCodec10 = mediaCodec2122222222;
                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                    if (mediaCodec10 != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    mediaCodec3 = mediaCodec10;
                                                                                                                                                                                    i3 = i17;
                                                                                                                                                                                    outputSurface2 = outputSurface3;
                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                                                                    z5 = z8;
                                                                                                                                                                                    outputSurface4 = outputSurface2;
                                                                                                                                                                                    i81 = i8;
                                                                                                                                                                                    str8 = str2;
                                                                                                                                                                                    mediaCodec7 = mediaCodec5;
                                                                                                                                                                                    inputSurface3 = inputSurface2;
                                                                                                                                                                                    i10 = i3;
                                                                                                                                                                                    i4 = i9;
                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (outputSurface4 != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    str3 = str8;
                                                                                                                                                                                    if (z5) {
                                                                                                                                                                                    }
                                                                                                                                                                                } catch (Throwable th45) {
                                                                                                                                                                                    th = th45;
                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                    th = th;
                                                                                                                                                                                    mediaCodec2 = mediaCodec10;
                                                                                                                                                                                    mediaCodec = mediaCodec4;
                                                                                                                                                                                    i81 = i14;
                                                                                                                                                                                    i84 = i29;
                                                                                                                                                                                    str = "x";
                                                                                                                                                                                    i3 = i47;
                                                                                                                                                                                    i82 = i15;
                                                                                                                                                                                    i2 = i35;
                                                                                                                                                                                    inputSurface = inputSurface2;
                                                                                                                                                                                    z3 = false;
                                                                                                                                                                                    outputSurface = outputSurface3;
                                                                                                                                                                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                    }
                                                                                                                                                                                    i4 = i82;
                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                    z5 = z3;
                                                                                                                                                                                    z6 = true;
                                                                                                                                                                                    if (z5) {
                                                                                                                                                                                    }
                                                                                                                                                                                }
                                                                                                                                                                            } else {
                                                                                                                                                                                i15 = i40;
                                                                                                                                                                                outputSurface3 = outputSurface6;
                                                                                                                                                                                byteBufferArr2 = inputBuffers;
                                                                                                                                                                                if (z12) {
                                                                                                                                                                                    i60 = -1;
                                                                                                                                                                                    if (i37 == -1) {
                                                                                                                                                                                        i48 = i42;
                                                                                                                                                                                        z17 = z12;
                                                                                                                                                                                        i49 = i37;
                                                                                                                                                                                        bufferInfo3 = bufferInfo2;
                                                                                                                                                                                        if (sampleTrackIndex == i60) {
                                                                                                                                                                                            z26 = true;
                                                                                                                                                                                            if (z26 && (dequeueInputBuffer = mediaCodec10.dequeueInputBuffer(2500L)) >= 0) {
                                                                                                                                                                                                i13 = 0;
                                                                                                                                                                                                mediaCodec10.queueInputBuffer(dequeueInputBuffer, 0, 0, 0L, 4);
                                                                                                                                                                                                z15 = true;
                                                                                                                                                                                            }
                                                                                                                                                                                        }
                                                                                                                                                                                    } else if (sampleTrackIndex == i37) {
                                                                                                                                                                                        int i103 = Build.VERSION.SDK_INT;
                                                                                                                                                                                        if (i103 >= 28) {
                                                                                                                                                                                            long sampleSize = mediaCodecVideoConvertor.extractor.getSampleSize();
                                                                                                                                                                                            z17 = z12;
                                                                                                                                                                                            i49 = i37;
                                                                                                                                                                                            if (sampleSize > i46) {
                                                                                                                                                                                                i46 = (int) (sampleSize + 1024);
                                                                                                                                                                                                byteBuffer92 = ByteBuffer.allocateDirect(i46);
                                                                                                                                                                                            }
                                                                                                                                                                                        } else {
                                                                                                                                                                                            z17 = z12;
                                                                                                                                                                                            i49 = i37;
                                                                                                                                                                                        }
                                                                                                                                                                                        ByteBuffer byteBuffer10 = byteBuffer92;
                                                                                                                                                                                        bufferInfo3 = bufferInfo2;
                                                                                                                                                                                        bufferInfo3.size = mediaCodecVideoConvertor.extractor.readSampleData(byteBuffer10, 0);
                                                                                                                                                                                        if (i103 < 21) {
                                                                                                                                                                                            byteBuffer10.position(0);
                                                                                                                                                                                            byteBuffer10.limit(bufferInfo3.size);
                                                                                                                                                                                        }
                                                                                                                                                                                        if (bufferInfo3.size >= 0) {
                                                                                                                                                                                            i61 = i46;
                                                                                                                                                                                            bufferInfo3.presentationTimeUs = mediaCodecVideoConvertor.extractor.getSampleTime();
                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.advance();
                                                                                                                                                                                        } else {
                                                                                                                                                                                            i61 = i46;
                                                                                                                                                                                            bufferInfo3.size = 0;
                                                                                                                                                                                            z15 = true;
                                                                                                                                                                                        }
                                                                                                                                                                                        if (bufferInfo3.size > 0 && (j32 < 0 || bufferInfo3.presentationTimeUs < j32)) {
                                                                                                                                                                                            bufferInfo3.offset = 0;
                                                                                                                                                                                            bufferInfo3.flags = mediaCodecVideoConvertor.extractor.getSampleFlags();
                                                                                                                                                                                            long writeSampleData2 = mediaCodecVideoConvertor.mediaMuxer.writeSampleData(i42, byteBuffer10, bufferInfo3, false);
                                                                                                                                                                                            if (writeSampleData2 != 0 && (videoConvertorListener2 = mediaCodecVideoConvertor.callback) != null) {
                                                                                                                                                                                                byteBuffer4 = byteBuffer10;
                                                                                                                                                                                                i62 = i61;
                                                                                                                                                                                                long j40 = bufferInfo3.presentationTimeUs;
                                                                                                                                                                                                i13 = ((j40 - j14) > j372 ? 1 : ((j40 - j14) == j372 ? 0 : -1));
                                                                                                                                                                                                if (i13 > 0) {
                                                                                                                                                                                                    j372 = j40 - j14;
                                                                                                                                                                                                }
                                                                                                                                                                                                long j41 = j372;
                                                                                                                                                                                                i48 = i42;
                                                                                                                                                                                                videoConvertorListener2.didWriteData(writeSampleData2, (((float) j41) / 1000.0f) / f);
                                                                                                                                                                                                j372 = j41;
                                                                                                                                                                                                byteBuffer92 = byteBuffer4;
                                                                                                                                                                                                i46 = i62;
                                                                                                                                                                                            }
                                                                                                                                                                                        }
                                                                                                                                                                                        byteBuffer4 = byteBuffer10;
                                                                                                                                                                                        i62 = i61;
                                                                                                                                                                                        i48 = i42;
                                                                                                                                                                                        byteBuffer92 = byteBuffer4;
                                                                                                                                                                                        i46 = i62;
                                                                                                                                                                                    }
                                                                                                                                                                                }
                                                                                                                                                                                i48 = i42;
                                                                                                                                                                                z17 = z12;
                                                                                                                                                                                i49 = i37;
                                                                                                                                                                                bufferInfo3 = bufferInfo2;
                                                                                                                                                                                i60 = -1;
                                                                                                                                                                                if (sampleTrackIndex == i60) {
                                                                                                                                                                                }
                                                                                                                                                                            }
                                                                                                                                                                            z26 = false;
                                                                                                                                                                            if (z26) {
                                                                                                                                                                                i13 = 0;
                                                                                                                                                                                mediaCodec10.queueInputBuffer(dequeueInputBuffer, 0, 0, 0L, 4);
                                                                                                                                                                                z15 = true;
                                                                                                                                                                            }
                                                                                                                                                                        } catch (Exception e30) {
                                                                                                                                                                            e = e30;
                                                                                                                                                                            i15 = i40;
                                                                                                                                                                            i47 = i17;
                                                                                                                                                                            i50 = i24;
                                                                                                                                                                            outputSurface3 = outputSurface6;
                                                                                                                                                                        } catch (Throwable th46) {
                                                                                                                                                                            th = th46;
                                                                                                                                                                            i15 = i40;
                                                                                                                                                                            outputSurface3 = outputSurface6;
                                                                                                                                                                            i47 = i17;
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                    z18 = !z16;
                                                                                                                                                                    i51 = i46;
                                                                                                                                                                    j15 = j33;
                                                                                                                                                                    i2 = i47;
                                                                                                                                                                    boolean z492 = true;
                                                                                                                                                                    r5 = j14;
                                                                                                                                                                    mediaCodec15 = i50;
                                                                                                                                                                    while (true) {
                                                                                                                                                                        if (!z18 || z492) {
                                                                                                                                                                            try {
                                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                                if (z) {
                                                                                                                                                                                    z19 = z18;
                                                                                                                                                                                    z20 = z492;
                                                                                                                                                                                    j16 = 22000;
                                                                                                                                                                                    MediaCodec mediaCodec22 = mediaCodec4;
                                                                                                                                                                                    i52 = i51;
                                                                                                                                                                                    mediaCodec = mediaCodec22;
                                                                                                                                                                                } else {
                                                                                                                                                                                    z19 = z18;
                                                                                                                                                                                    z20 = z492;
                                                                                                                                                                                    j16 = 2500;
                                                                                                                                                                                    MediaCodec mediaCodec23 = mediaCodec4;
                                                                                                                                                                                    i52 = i51;
                                                                                                                                                                                    mediaCodec = mediaCodec23;
                                                                                                                                                                                }
                                                                                                                                                                            } catch (Exception e31) {
                                                                                                                                                                                e = e31;
                                                                                                                                                                                i47 = i2;
                                                                                                                                                                                i13 = mediaCodec15;
                                                                                                                                                                                mediaCodec = mediaCodec4;
                                                                                                                                                                            } catch (Throwable th47) {
                                                                                                                                                                                th2 = th47;
                                                                                                                                                                                i47 = i2;
                                                                                                                                                                                mediaCodec17 = mediaCodec10;
                                                                                                                                                                                mediaCodec = mediaCodec4;
                                                                                                                                                                            }
                                                                                                                                                                            try {
                                                                                                                                                                                dequeueOutputBuffer = mediaCodec.dequeueOutputBuffer(bufferInfo3, j16);
                                                                                                                                                                                if (dequeueOutputBuffer == -1) {
                                                                                                                                                                                    j17 = j15;
                                                                                                                                                                                    i13 = mediaCodec15;
                                                                                                                                                                                    z21 = z482;
                                                                                                                                                                                    str12 = str6;
                                                                                                                                                                                    i53 = i39;
                                                                                                                                                                                    i54 = i38;
                                                                                                                                                                                    z492 = false;
                                                                                                                                                                                } else {
                                                                                                                                                                                    if (dequeueOutputBuffer == -3) {
                                                                                                                                                                                        try {
                                                                                                                                                                                            try {
                                                                                                                                                                                                if (Build.VERSION.SDK_INT < 21) {
                                                                                                                                                                                                    byteBufferArr42 = mediaCodec.getOutputBuffers();
                                                                                                                                                                                                }
                                                                                                                                                                                                j17 = j15;
                                                                                                                                                                                                i13 = mediaCodec15;
                                                                                                                                                                                                z21 = z482;
                                                                                                                                                                                                z492 = z20;
                                                                                                                                                                                                str12 = str6;
                                                                                                                                                                                            } catch (Exception e32) {
                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                exc = e32;
                                                                                                                                                                                                i13 = mediaCodec15;
                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                z8 = false;
                                                                                                                                                                                                mediaCodec18 = mediaCodec10;
                                                                                                                                                                                                i16 = i2;
                                                                                                                                                                                                i2 = i35;
                                                                                                                                                                                                mediaCodec9 = mediaCodec18;
                                                                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                }
                                                                                                                                                                                                StringBuilder sb5222222222 = new StringBuilder();
                                                                                                                                                                                                sb5222222222.append("bitrate: ");
                                                                                                                                                                                                sb5222222222.append(i84);
                                                                                                                                                                                                sb5222222222.append(" framerate: ");
                                                                                                                                                                                                sb5222222222.append(i2);
                                                                                                                                                                                                sb5222222222.append(" size: ");
                                                                                                                                                                                                i9 = i15;
                                                                                                                                                                                                sb5222222222.append(i9);
                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                sb5222222222.append(str);
                                                                                                                                                                                                i8 = i14;
                                                                                                                                                                                                sb5222222222.append(i8);
                                                                                                                                                                                                FileLog.e(sb5222222222.toString());
                                                                                                                                                                                                FileLog.e(exc);
                                                                                                                                                                                                mediaCodec4 = mediaCodec;
                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                MediaCodec mediaCodec21222222222 = mediaCodec9;
                                                                                                                                                                                                i17 = i16;
                                                                                                                                                                                                mediaCodec10 = mediaCodec21222222222;
                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                                if (mediaCodec10 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                mediaCodec3 = mediaCodec10;
                                                                                                                                                                                                i3 = i17;
                                                                                                                                                                                                outputSurface2 = outputSurface3;
                                                                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec4 == null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                z5 = z8;
                                                                                                                                                                                                outputSurface4 = outputSurface2;
                                                                                                                                                                                                i81 = i8;
                                                                                                                                                                                                str8 = str2;
                                                                                                                                                                                                mediaCodec7 = mediaCodec5;
                                                                                                                                                                                                inputSurface3 = inputSurface2;
                                                                                                                                                                                                i10 = i3;
                                                                                                                                                                                                i4 = i9;
                                                                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                if (mP4Builder2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec7 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (outputSurface4 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                str3 = str8;
                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                }
                                                                                                                                                                                            }
                                                                                                                                                                                        } catch (Throwable th48) {
                                                                                                                                                                                            z2 = z;
                                                                                                                                                                                            th = th48;
                                                                                                                                                                                            i3 = i2;
                                                                                                                                                                                            mediaCodec2 = mediaCodec10;
                                                                                                                                                                                            i81 = i14;
                                                                                                                                                                                            i84 = i29;
                                                                                                                                                                                            str = "x";
                                                                                                                                                                                            i82 = i15;
                                                                                                                                                                                            i2 = i35;
                                                                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                                                                            z3 = false;
                                                                                                                                                                                            outputSurface = outputSurface3;
                                                                                                                                                                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                            FileLog.e(th);
                                                                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (outputSurface != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            i4 = i82;
                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                            z5 = z3;
                                                                                                                                                                                            z6 = true;
                                                                                                                                                                                            if (z5) {
                                                                                                                                                                                            }
                                                                                                                                                                                        }
                                                                                                                                                                                    } else {
                                                                                                                                                                                        r3 = -2;
                                                                                                                                                                                        if (dequeueOutputBuffer == -2) {
                                                                                                                                                                                            MediaFormat outputFormat2 = mediaCodec.getOutputFormat();
                                                                                                                                                                                            if (i2 != -5 || outputFormat2 == null) {
                                                                                                                                                                                                z21 = z482;
                                                                                                                                                                                                str12 = str6;
                                                                                                                                                                                            } else {
                                                                                                                                                                                                z21 = z482;
                                                                                                                                                                                                int addTrack3 = mediaCodecVideoConvertor.mediaMuxer.addTrack(outputFormat2, false);
                                                                                                                                                                                                String str19 = str7;
                                                                                                                                                                                                try {
                                                                                                                                                                                                    if (outputFormat2.containsKey(str19)) {
                                                                                                                                                                                                        i56 = addTrack3;
                                                                                                                                                                                                        if (outputFormat2.getInteger(str19) == 1) {
                                                                                                                                                                                                            str12 = str6;
                                                                                                                                                                                                            try {
                                                                                                                                                                                                                ByteBuffer byteBuffer11 = outputFormat2.getByteBuffer(str12);
                                                                                                                                                                                                                str7 = str19;
                                                                                                                                                                                                                ByteBuffer byteBuffer12 = outputFormat2.getByteBuffer("csd-1");
                                                                                                                                                                                                                i992 = (byteBuffer11 == null ? 0 : byteBuffer11.limit()) + (byteBuffer12 == null ? 0 : byteBuffer12.limit());
                                                                                                                                                                                                                i2 = i56;
                                                                                                                                                                                                            } catch (Exception e33) {
                                                                                                                                                                                                                e = e33;
                                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                                exc = e;
                                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                                i2 = i35;
                                                                                                                                                                                                                z8 = false;
                                                                                                                                                                                                                int i104 = mediaCodec15;
                                                                                                                                                                                                                mediaCodec9 = mediaCodec10;
                                                                                                                                                                                                                i16 = i56;
                                                                                                                                                                                                                i13 = i104;
                                                                                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                StringBuilder sb52222222222 = new StringBuilder();
                                                                                                                                                                                                                sb52222222222.append("bitrate: ");
                                                                                                                                                                                                                sb52222222222.append(i84);
                                                                                                                                                                                                                sb52222222222.append(" framerate: ");
                                                                                                                                                                                                                sb52222222222.append(i2);
                                                                                                                                                                                                                sb52222222222.append(" size: ");
                                                                                                                                                                                                                i9 = i15;
                                                                                                                                                                                                                sb52222222222.append(i9);
                                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                                sb52222222222.append(str);
                                                                                                                                                                                                                i8 = i14;
                                                                                                                                                                                                                sb52222222222.append(i8);
                                                                                                                                                                                                                FileLog.e(sb52222222222.toString());
                                                                                                                                                                                                                FileLog.e(exc);
                                                                                                                                                                                                                mediaCodec4 = mediaCodec;
                                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                                MediaCodec mediaCodec212222222222 = mediaCodec9;
                                                                                                                                                                                                                i17 = i16;
                                                                                                                                                                                                                mediaCodec10 = mediaCodec212222222222;
                                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                                                if (mediaCodec10 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                mediaCodec3 = mediaCodec10;
                                                                                                                                                                                                                i3 = i17;
                                                                                                                                                                                                                outputSurface2 = outputSurface3;
                                                                                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (mediaCodec4 == null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                                z5 = z8;
                                                                                                                                                                                                                outputSurface4 = outputSurface2;
                                                                                                                                                                                                                i81 = i8;
                                                                                                                                                                                                                str8 = str2;
                                                                                                                                                                                                                mediaCodec7 = mediaCodec5;
                                                                                                                                                                                                                inputSurface3 = inputSurface2;
                                                                                                                                                                                                                i10 = i3;
                                                                                                                                                                                                                i4 = i9;
                                                                                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                if (mP4Builder2 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (mediaCodec7 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (outputSurface4 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                str3 = str8;
                                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                            } catch (Throwable th49) {
                                                                                                                                                                                                                th = th49;
                                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                                th = th;
                                                                                                                                                                                                                mediaCodec2 = mediaCodec10;
                                                                                                                                                                                                                i81 = i14;
                                                                                                                                                                                                                i3 = i56;
                                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                                i82 = i15;
                                                                                                                                                                                                                i2 = i35;
                                                                                                                                                                                                                inputSurface = inputSurface2;
                                                                                                                                                                                                                z3 = false;
                                                                                                                                                                                                                outputSurface = outputSurface3;
                                                                                                                                                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                if (mP4Builder != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                i4 = i82;
                                                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                                                z5 = z3;
                                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                            }
                                                                                                                                                                                                        }
                                                                                                                                                                                                    } else {
                                                                                                                                                                                                        i56 = addTrack3;
                                                                                                                                                                                                    }
                                                                                                                                                                                                    str7 = str19;
                                                                                                                                                                                                    str12 = str6;
                                                                                                                                                                                                    i2 = i56;
                                                                                                                                                                                                } catch (Exception e34) {
                                                                                                                                                                                                    e = e34;
                                                                                                                                                                                                    i56 = addTrack3;
                                                                                                                                                                                                } catch (Throwable th50) {
                                                                                                                                                                                                    th = th50;
                                                                                                                                                                                                    i56 = addTrack3;
                                                                                                                                                                                                }
                                                                                                                                                                                            }
                                                                                                                                                                                            j17 = j15;
                                                                                                                                                                                            i13 = mediaCodec15;
                                                                                                                                                                                            z492 = z20;
                                                                                                                                                                                        } else {
                                                                                                                                                                                            z21 = z482;
                                                                                                                                                                                            str12 = str6;
                                                                                                                                                                                            try {
                                                                                                                                                                                                if (dequeueOutputBuffer < 0) {
                                                                                                                                                                                                    throw new RuntimeException("unexpected result from encoder.dequeueOutputBuffer: " + dequeueOutputBuffer);
                                                                                                                                                                                                }
                                                                                                                                                                                                if (Build.VERSION.SDK_INT < 21) {
                                                                                                                                                                                                    outputBuffer = byteBufferArr42[dequeueOutputBuffer];
                                                                                                                                                                                                } else {
                                                                                                                                                                                                    outputBuffer = mediaCodec.getOutputBuffer(dequeueOutputBuffer);
                                                                                                                                                                                                }
                                                                                                                                                                                                if (outputBuffer == null) {
                                                                                                                                                                                                    throw new RuntimeException("encoderOutputBuffer " + dequeueOutputBuffer + " was null");
                                                                                                                                                                                                }
                                                                                                                                                                                                int i105 = bufferInfo3.size;
                                                                                                                                                                                                try {
                                                                                                                                                                                                    if (i105 > 1) {
                                                                                                                                                                                                        try {
                                                                                                                                                                                                            try {
                                                                                                                                                                                                                int i106 = bufferInfo3.flags;
                                                                                                                                                                                                                if ((i106 & 2) == 0) {
                                                                                                                                                                                                                    if (i992 == 0 || (i106 & 1) == 0) {
                                                                                                                                                                                                                        i13 = mediaCodec15;
                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                        i13 = mediaCodec15;
                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                            bufferInfo3.offset += i992;
                                                                                                                                                                                                                            bufferInfo3.size = i105 - i992;
                                                                                                                                                                                                                        } catch (Exception e35) {
                                                                                                                                                                                                                            z2 = z;
                                                                                                                                                                                                                            exc = e35;
                                                                                                                                                                                                                            mediaCodec18 = mediaCodec10;
                                                                                                                                                                                                                            i84 = i29;
                                                                                                                                                                                                                            z8 = false;
                                                                                                                                                                                                                            i16 = i2;
                                                                                                                                                                                                                            i2 = i35;
                                                                                                                                                                                                                            mediaCodec9 = mediaCodec18;
                                                                                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            StringBuilder sb522222222222 = new StringBuilder();
                                                                                                                                                                                                                            sb522222222222.append("bitrate: ");
                                                                                                                                                                                                                            sb522222222222.append(i84);
                                                                                                                                                                                                                            sb522222222222.append(" framerate: ");
                                                                                                                                                                                                                            sb522222222222.append(i2);
                                                                                                                                                                                                                            sb522222222222.append(" size: ");
                                                                                                                                                                                                                            i9 = i15;
                                                                                                                                                                                                                            sb522222222222.append(i9);
                                                                                                                                                                                                                            str = "x";
                                                                                                                                                                                                                            sb522222222222.append(str);
                                                                                                                                                                                                                            i8 = i14;
                                                                                                                                                                                                                            sb522222222222.append(i8);
                                                                                                                                                                                                                            FileLog.e(sb522222222222.toString());
                                                                                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                                                                                            mediaCodec4 = mediaCodec;
                                                                                                                                                                                                                            z6 = true;
                                                                                                                                                                                                                            MediaCodec mediaCodec2122222222222 = mediaCodec9;
                                                                                                                                                                                                                            i17 = i16;
                                                                                                                                                                                                                            mediaCodec10 = mediaCodec2122222222222;
                                                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                                                            if (mediaCodec10 != null) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            mediaCodec3 = mediaCodec10;
                                                                                                                                                                                                                            i3 = i17;
                                                                                                                                                                                                                            outputSurface2 = outputSurface3;
                                                                                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            if (mediaCodec4 == null) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                                            z5 = z8;
                                                                                                                                                                                                                            outputSurface4 = outputSurface2;
                                                                                                                                                                                                                            i81 = i8;
                                                                                                                                                                                                                            str8 = str2;
                                                                                                                                                                                                                            mediaCodec7 = mediaCodec5;
                                                                                                                                                                                                                            inputSurface3 = inputSurface2;
                                                                                                                                                                                                                            i10 = i3;
                                                                                                                                                                                                                            i4 = i9;
                                                                                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            if (outputSurface4 != null) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            if (inputSurface3 != null) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            str3 = str8;
                                                                                                                                                                                                                            if (z5) {
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (z472 && (i106 & 1) != 0) {
                                                                                                                                                                                                                        cutOfNalData(mediaCodecVideoConvertor.outputMimeType, outputBuffer, bufferInfo3);
                                                                                                                                                                                                                        z472 = false;
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    try {
                                                                                                                                                                                                                        j17 = j15;
                                                                                                                                                                                                                        long writeSampleData3 = mediaCodecVideoConvertor.mediaMuxer.writeSampleData(i2, outputBuffer, bufferInfo3, true);
                                                                                                                                                                                                                        if (writeSampleData3 == 0 || (videoConvertorListener = mediaCodecVideoConvertor.callback) == null) {
                                                                                                                                                                                                                            mediaCodec20 = mediaCodec10;
                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                            mediaCodec20 = mediaCodec10;
                                                                                                                                                                                                                            long j42 = bufferInfo3.presentationTimeUs;
                                                                                                                                                                                                                            if (j42 - r5 > j372) {
                                                                                                                                                                                                                                j372 = j42 - r5;
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            long j43 = j372;
                                                                                                                                                                                                                            videoConvertorListener.didWriteData(writeSampleData3, (((float) j43) / 1000.0f) / f);
                                                                                                                                                                                                                            j372 = j43;
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        i16 = i2;
                                                                                                                                                                                                                        i53 = i39;
                                                                                                                                                                                                                        i54 = i38;
                                                                                                                                                                                                                        mediaCodec13 = mediaCodec20;
                                                                                                                                                                                                                        boolean z50 = (bufferInfo3.flags & 4) == 0;
                                                                                                                                                                                                                        mediaCodec.releaseOutputBuffer(dequeueOutputBuffer, false);
                                                                                                                                                                                                                        z14 = z50;
                                                                                                                                                                                                                        i2 = i16;
                                                                                                                                                                                                                        z492 = z20;
                                                                                                                                                                                                                        i55 = -1;
                                                                                                                                                                                                                        if (dequeueOutputBuffer != i55) {
                                                                                                                                                                                                                            i38 = i54;
                                                                                                                                                                                                                            i39 = i53;
                                                                                                                                                                                                                            mediaCodec10 = mediaCodec13;
                                                                                                                                                                                                                            str6 = str12;
                                                                                                                                                                                                                            z18 = z19;
                                                                                                                                                                                                                            z482 = z21;
                                                                                                                                                                                                                            i59 = i13;
                                                                                                                                                                                                                            j15 = j17;
                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                            if (z16) {
                                                                                                                                                                                                                                i57 = i2;
                                                                                                                                                                                                                                j18 = r5;
                                                                                                                                                                                                                                i38 = i54;
                                                                                                                                                                                                                                i58 = i53;
                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                i58 = i53;
                                                                                                                                                                                                                                try {
                                                                                                                                                                                                                                    int dequeueOutputBuffer3 = mediaCodec13.dequeueOutputBuffer(bufferInfo3, 2500L);
                                                                                                                                                                                                                                    if (dequeueOutputBuffer3 == -1) {
                                                                                                                                                                                                                                        i57 = i2;
                                                                                                                                                                                                                                        j18 = r5;
                                                                                                                                                                                                                                        i38 = i54;
                                                                                                                                                                                                                                        str6 = str12;
                                                                                                                                                                                                                                        j19 = j17;
                                                                                                                                                                                                                                        outputSurface11 = outputSurface3;
                                                                                                                                                                                                                                        i2 = i35;
                                                                                                                                                                                                                                        inputSurface = inputSurface2;
                                                                                                                                                                                                                                        z18 = false;
                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                        if (dequeueOutputBuffer3 != -3) {
                                                                                                                                                                                                                                            if (dequeueOutputBuffer3 != -2) {
                                                                                                                                                                                                                                                if (dequeueOutputBuffer3 < 0) {
                                                                                                                                                                                                                                                    break loop3;
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                boolean z51 = bufferInfo3.size != 0;
                                                                                                                                                                                                                                                long j44 = bufferInfo3.presentationTimeUs;
                                                                                                                                                                                                                                                if (j32 > 0 && j44 >= j32) {
                                                                                                                                                                                                                                                    bufferInfo3.flags |= 4;
                                                                                                                                                                                                                                                    z51 = false;
                                                                                                                                                                                                                                                    z15 = true;
                                                                                                                                                                                                                                                    z16 = true;
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (j8 >= 0) {
                                                                                                                                                                                                                                                    try {
                                                                                                                                                                                                                                                        if ((bufferInfo3.flags & 4) != 0) {
                                                                                                                                                                                                                                                            i57 = i2;
                                                                                                                                                                                                                                                            i2 = i35;
                                                                                                                                                                                                                                                            try {
                                                                                                                                                                                                                                                                try {
                                                                                                                                                                                                                                                                    i38 = i54;
                                                                                                                                                                                                                                                                    z22 = z51;
                                                                                                                                                                                                                                                                    if (Math.abs(j8 - r5) > MediaController.VIDEO_BITRATE_480 / i2) {
                                                                                                                                                                                                                                                                        if (r5 > 0) {
                                                                                                                                                                                                                                                                            try {
                                                                                                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.seekTo(r5, 0);
                                                                                                                                                                                                                                                                                j18 = r5;
                                                                                                                                                                                                                                                                            } catch (Throwable th51) {
                                                                                                                                                                                                                                                                                th = th51;
                                                                                                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                                                                                                th = th;
                                                                                                                                                                                                                                                                                mediaCodec2 = mediaCodec13;
                                                                                                                                                                                                                                                                                i81 = i14;
                                                                                                                                                                                                                                                                                i3 = i57;
                                                                                                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                                                                                                i82 = i15;
                                                                                                                                                                                                                                                                                inputSurface = inputSurface2;
                                                                                                                                                                                                                                                                                z3 = false;
                                                                                                                                                                                                                                                                                outputSurface = outputSurface3;
                                                                                                                                                                                                                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                if (mP4Builder != null) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                i4 = i82;
                                                                                                                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                                                                                                                z5 = z3;
                                                                                                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                            j18 = r5;
                                                                                                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.seekTo(0L, 0);
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        j382 = j17 + j10;
                                                                                                                                                                                                                                                                        bufferInfo3.flags &= -5;
                                                                                                                                                                                                                                                                        mediaCodec13.flush();
                                                                                                                                                                                                                                                                        j32 = j8;
                                                                                                                                                                                                                                                                        j8 = -1;
                                                                                                                                                                                                                                                                        z23 = true;
                                                                                                                                                                                                                                                                        j20 = 0;
                                                                                                                                                                                                                                                                        z22 = false;
                                                                                                                                                                                                                                                                        z15 = false;
                                                                                                                                                                                                                                                                        z16 = false;
                                                                                                                                                                                                                                                                        if (j362 > j20 || bufferInfo3.presentationTimeUs - j362 >= j4 || (bufferInfo3.flags & 4) != 0) {
                                                                                                                                                                                                                                                                            j21 = 0;
                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                            j21 = 0;
                                                                                                                                                                                                                                                                            z22 = false;
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        str6 = str12;
                                                                                                                                                                                                                                                                        j22 = j8 >= j21 ? j8 : j18;
                                                                                                                                                                                                                                                                        if (j22 > j21 && j352 == -1) {
                                                                                                                                                                                                                                                                            if (j44 >= j22) {
                                                                                                                                                                                                                                                                                if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                                                                                                                                                    FileLog.d("drop frame startTime = " + j22 + " present time = " + bufferInfo3.presentationTimeUs);
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                z24 = false;
                                                                                                                                                                                                                                                                                if (z23) {
                                                                                                                                                                                                                                                                                    if (j8 == -1 && j382 != 0) {
                                                                                                                                                                                                                                                                                        bufferInfo3.presentationTimeUs += j382;
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    mediaCodec13.releaseOutputBuffer(dequeueOutputBuffer3, z24);
                                                                                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                                                                                    j352 = -1;
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                if (z24) {
                                                                                                                                                                                                                                                                                    j19 = j17;
                                                                                                                                                                                                                                                                                    outputSurface11 = outputSurface3;
                                                                                                                                                                                                                                                                                    inputSurface = inputSurface2;
                                                                                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                                                                                    try {
                                                                                                                                                                                                                                                                                        long j45 = bufferInfo3.presentationTimeUs;
                                                                                                                                                                                                                                                                                        j19 = j17;
                                                                                                                                                                                                                                                                                        if (j8 >= 0) {
                                                                                                                                                                                                                                                                                            j19 = Math.max(j19, j45);
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                                                                                            outputSurface3.awaitNewImage();
                                                                                                                                                                                                                                                                                            z25 = false;
                                                                                                                                                                                                                                                                                        } catch (Exception e36) {
                                                                                                                                                                                                                                                                                            FileLog.e(e36);
                                                                                                                                                                                                                                                                                            z25 = true;
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (z25) {
                                                                                                                                                                                                                                                                                            j23 = j45;
                                                                                                                                                                                                                                                                                            outputSurface11 = outputSurface3;
                                                                                                                                                                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                            j23 = j45;
                                                                                                                                                                                                                                                                                            outputSurface11 = outputSurface3;
                                                                                                                                                                                                                                                                                            try {
                                                                                                                                                                                                                                                                                                outputSurface11.drawImage(bufferInfo3.presentationTimeUs * 1000);
                                                                                                                                                                                                                                                                                                inputSurface = inputSurface2;
                                                                                                                                                                                                                                                                                            } catch (Exception e37) {
                                                                                                                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                                                                                                                exc = e37;
                                                                                                                                                                                                                                                                                                outputSurface3 = outputSurface11;
                                                                                                                                                                                                                                                                                                i16 = i57;
                                                                                                                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                                                                                                                z8 = false;
                                                                                                                                                                                                                                                                                                mediaCodec9 = mediaCodec13;
                                                                                                                                                                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                StringBuilder sb5222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                                                sb5222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                                                sb5222222222222.append(i84);
                                                                                                                                                                                                                                                                                                sb5222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                                                sb5222222222222.append(i2);
                                                                                                                                                                                                                                                                                                sb5222222222222.append(" size: ");
                                                                                                                                                                                                                                                                                                i9 = i15;
                                                                                                                                                                                                                                                                                                sb5222222222222.append(i9);
                                                                                                                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                                                                                                                sb5222222222222.append(str);
                                                                                                                                                                                                                                                                                                i8 = i14;
                                                                                                                                                                                                                                                                                                sb5222222222222.append(i8);
                                                                                                                                                                                                                                                                                                FileLog.e(sb5222222222222.toString());
                                                                                                                                                                                                                                                                                                FileLog.e(exc);
                                                                                                                                                                                                                                                                                                mediaCodec4 = mediaCodec;
                                                                                                                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                                                                                                                MediaCodec mediaCodec21222222222222 = mediaCodec9;
                                                                                                                                                                                                                                                                                                i17 = i16;
                                                                                                                                                                                                                                                                                                mediaCodec10 = mediaCodec21222222222222;
                                                                                                                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                                                                                                                                if (mediaCodec10 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                mediaCodec3 = mediaCodec10;
                                                                                                                                                                                                                                                                                                i3 = i17;
                                                                                                                                                                                                                                                                                                outputSurface2 = outputSurface3;
                                                                                                                                                                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec4 == null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                                                                                                                z5 = z8;
                                                                                                                                                                                                                                                                                                outputSurface4 = outputSurface2;
                                                                                                                                                                                                                                                                                                i81 = i8;
                                                                                                                                                                                                                                                                                                str8 = str2;
                                                                                                                                                                                                                                                                                                mediaCodec7 = mediaCodec5;
                                                                                                                                                                                                                                                                                                inputSurface3 = inputSurface2;
                                                                                                                                                                                                                                                                                                i10 = i3;
                                                                                                                                                                                                                                                                                                i4 = i9;
                                                                                                                                                                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (outputSurface4 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                str3 = str8;
                                                                                                                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                            } catch (Throwable th52) {
                                                                                                                                                                                                                                                                                                th2 = th52;
                                                                                                                                                                                                                                                                                                inputSurface = inputSurface2;
                                                                                                                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                                                                                                                outputSurface3 = outputSurface11;
                                                                                                                                                                                                                                                                                                mediaCodec2 = mediaCodec13;
                                                                                                                                                                                                                                                                                                i81 = i14;
                                                                                                                                                                                                                                                                                                i3 = i57;
                                                                                                                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                                                                                                                i82 = i15;
                                                                                                                                                                                                                                                                                                z3 = false;
                                                                                                                                                                                                                                                                                                th = th2;
                                                                                                                                                                                                                                                                                                outputSurface = outputSurface3;
                                                                                                                                                                                                                                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                if (mP4Builder != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                i4 = i82;
                                                                                                                                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                                                                                                                                z5 = z3;
                                                                                                                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            try {
                                                                                                                                                                                                                                                                                                inputSurface.setPresentationTime(bufferInfo3.presentationTimeUs * 1000);
                                                                                                                                                                                                                                                                                                inputSurface.swapBuffers();
                                                                                                                                                                                                                                                                                            } catch (Exception e38) {
                                                                                                                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                                                                                                                exc = e38;
                                                                                                                                                                                                                                                                                                outputSurface3 = outputSurface11;
                                                                                                                                                                                                                                                                                                inputSurface2 = inputSurface;
                                                                                                                                                                                                                                                                                                i16 = i57;
                                                                                                                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                                                                                                                z8 = false;
                                                                                                                                                                                                                                                                                                mediaCodec9 = mediaCodec13;
                                                                                                                                                                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                StringBuilder sb52222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                                                sb52222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                                                sb52222222222222.append(i84);
                                                                                                                                                                                                                                                                                                sb52222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                                                sb52222222222222.append(i2);
                                                                                                                                                                                                                                                                                                sb52222222222222.append(" size: ");
                                                                                                                                                                                                                                                                                                i9 = i15;
                                                                                                                                                                                                                                                                                                sb52222222222222.append(i9);
                                                                                                                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                                                                                                                sb52222222222222.append(str);
                                                                                                                                                                                                                                                                                                i8 = i14;
                                                                                                                                                                                                                                                                                                sb52222222222222.append(i8);
                                                                                                                                                                                                                                                                                                FileLog.e(sb52222222222222.toString());
                                                                                                                                                                                                                                                                                                FileLog.e(exc);
                                                                                                                                                                                                                                                                                                mediaCodec4 = mediaCodec;
                                                                                                                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                                                                                                                MediaCodec mediaCodec212222222222222 = mediaCodec9;
                                                                                                                                                                                                                                                                                                i17 = i16;
                                                                                                                                                                                                                                                                                                mediaCodec10 = mediaCodec212222222222222;
                                                                                                                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                                                                                                                                if (mediaCodec10 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                mediaCodec3 = mediaCodec10;
                                                                                                                                                                                                                                                                                                i3 = i17;
                                                                                                                                                                                                                                                                                                outputSurface2 = outputSurface3;
                                                                                                                                                                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec4 == null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                                                                                                                z5 = z8;
                                                                                                                                                                                                                                                                                                outputSurface4 = outputSurface2;
                                                                                                                                                                                                                                                                                                i81 = i8;
                                                                                                                                                                                                                                                                                                str8 = str2;
                                                                                                                                                                                                                                                                                                mediaCodec7 = mediaCodec5;
                                                                                                                                                                                                                                                                                                inputSurface3 = inputSurface2;
                                                                                                                                                                                                                                                                                                i10 = i3;
                                                                                                                                                                                                                                                                                                i4 = i9;
                                                                                                                                                                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (outputSurface4 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                str3 = str8;
                                                                                                                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                            } catch (Throwable th53) {
                                                                                                                                                                                                                                                                                                th2 = th53;
                                                                                                                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                                                                                                                outputSurface3 = outputSurface11;
                                                                                                                                                                                                                                                                                                mediaCodec2 = mediaCodec13;
                                                                                                                                                                                                                                                                                                i81 = i14;
                                                                                                                                                                                                                                                                                                i3 = i57;
                                                                                                                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                                                                                                                i82 = i15;
                                                                                                                                                                                                                                                                                                z3 = false;
                                                                                                                                                                                                                                                                                                th = th2;
                                                                                                                                                                                                                                                                                                outputSurface = outputSurface3;
                                                                                                                                                                                                                                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                if (mP4Builder != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                i4 = i82;
                                                                                                                                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                                                                                                                                z5 = z3;
                                                                                                                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        j362 = j23;
                                                                                                                                                                                                                                                                                    } catch (Exception e39) {
                                                                                                                                                                                                                                                                                        e = e39;
                                                                                                                                                                                                                                                                                        z2 = z;
                                                                                                                                                                                                                                                                                        exc = e;
                                                                                                                                                                                                                                                                                        i16 = i57;
                                                                                                                                                                                                                                                                                        i84 = i29;
                                                                                                                                                                                                                                                                                        z8 = false;
                                                                                                                                                                                                                                                                                        mediaCodec9 = mediaCodec13;
                                                                                                                                                                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        StringBuilder sb522222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                                        sb522222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                                        sb522222222222222.append(i84);
                                                                                                                                                                                                                                                                                        sb522222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                                        sb522222222222222.append(i2);
                                                                                                                                                                                                                                                                                        sb522222222222222.append(" size: ");
                                                                                                                                                                                                                                                                                        i9 = i15;
                                                                                                                                                                                                                                                                                        sb522222222222222.append(i9);
                                                                                                                                                                                                                                                                                        str = "x";
                                                                                                                                                                                                                                                                                        sb522222222222222.append(str);
                                                                                                                                                                                                                                                                                        i8 = i14;
                                                                                                                                                                                                                                                                                        sb522222222222222.append(i8);
                                                                                                                                                                                                                                                                                        FileLog.e(sb522222222222222.toString());
                                                                                                                                                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                                                                                                                                                        mediaCodec4 = mediaCodec;
                                                                                                                                                                                                                                                                                        z6 = true;
                                                                                                                                                                                                                                                                                        MediaCodec mediaCodec2122222222222222 = mediaCodec9;
                                                                                                                                                                                                                                                                                        i17 = i16;
                                                                                                                                                                                                                                                                                        mediaCodec10 = mediaCodec2122222222222222;
                                                                                                                                                                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                                                                                                                        if (mediaCodec10 != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        mediaCodec3 = mediaCodec10;
                                                                                                                                                                                                                                                                                        i3 = i17;
                                                                                                                                                                                                                                                                                        outputSurface2 = outputSurface3;
                                                                                                                                                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (mediaCodec4 == null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                                                                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                                                                                                        z5 = z8;
                                                                                                                                                                                                                                                                                        outputSurface4 = outputSurface2;
                                                                                                                                                                                                                                                                                        i81 = i8;
                                                                                                                                                                                                                                                                                        str8 = str2;
                                                                                                                                                                                                                                                                                        mediaCodec7 = mediaCodec5;
                                                                                                                                                                                                                                                                                        inputSurface3 = inputSurface2;
                                                                                                                                                                                                                                                                                        i10 = i3;
                                                                                                                                                                                                                                                                                        i4 = i9;
                                                                                                                                                                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (outputSurface4 != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (inputSurface3 != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        str3 = str8;
                                                                                                                                                                                                                                                                                        if (z5) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                    } catch (Throwable th54) {
                                                                                                                                                                                                                                                                                        th2 = th54;
                                                                                                                                                                                                                                                                                        inputSurface = inputSurface2;
                                                                                                                                                                                                                                                                                        z2 = z;
                                                                                                                                                                                                                                                                                        mediaCodec2 = mediaCodec13;
                                                                                                                                                                                                                                                                                        i81 = i14;
                                                                                                                                                                                                                                                                                        i3 = i57;
                                                                                                                                                                                                                                                                                        i84 = i29;
                                                                                                                                                                                                                                                                                        str = "x";
                                                                                                                                                                                                                                                                                        i82 = i15;
                                                                                                                                                                                                                                                                                        z3 = false;
                                                                                                                                                                                                                                                                                        th = th2;
                                                                                                                                                                                                                                                                                        outputSurface = outputSurface3;
                                                                                                                                                                                                                                                                                        FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                                                                                                                        FileLog.e(th);
                                                                                                                                                                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                        if (mP4Builder != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        i4 = i82;
                                                                                                                                                                                                                                                                                        str3 = str2;
                                                                                                                                                                                                                                                                                        z5 = z3;
                                                                                                                                                                                                                                                                                        z6 = true;
                                                                                                                                                                                                                                                                                        if (z5) {
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                if ((bufferInfo3.flags & 4) != 0) {
                                                                                                                                                                                                                                                                                    if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                                                                                                                                                        FileLog.d("decoder stream end");
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    mediaCodec.signalEndOfInputStream();
                                                                                                                                                                                                                                                                                    z18 = false;
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                z18 = z19;
                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                long j46 = bufferInfo3.presentationTimeUs;
                                                                                                                                                                                                                                                                                if (j17 != -2147483648L) {
                                                                                                                                                                                                                                                                                    j382 -= j46;
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                j352 = j46;
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        z24 = z22;
                                                                                                                                                                                                                                                                        if (z23) {
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        if (z24) {
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        if ((bufferInfo3.flags & 4) != 0) {
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        z18 = z19;
                                                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                                                        j18 = r5;
                                                                                                                                                                                                                                                                        z23 = false;
                                                                                                                                                                                                                                                                        j20 = 0;
                                                                                                                                                                                                                                                                        if (j362 > j20) {
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        j21 = 0;
                                                                                                                                                                                                                                                                        str6 = str12;
                                                                                                                                                                                                                                                                        if (j8 >= j21) {
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        if (j22 > j21) {
                                                                                                                                                                                                                                                                            if (j44 >= j22) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        z24 = z22;
                                                                                                                                                                                                                                                                        if (z23) {
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        if (z24) {
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        if ((bufferInfo3.flags & 4) != 0) {
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        z18 = z19;
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                } catch (Exception e40) {
                                                                                                                                                                                                                                                                    e = e40;
                                                                                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                                                                                    exc = e;
                                                                                                                                                                                                                                                                    i16 = i57;
                                                                                                                                                                                                                                                                    i84 = i29;
                                                                                                                                                                                                                                                                    z8 = false;
                                                                                                                                                                                                                                                                    mediaCodec9 = mediaCodec13;
                                                                                                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                        z8 = true;
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    StringBuilder sb5222222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                    sb5222222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                    sb5222222222222222.append(i84);
                                                                                                                                                                                                                                                                    sb5222222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                    sb5222222222222222.append(i2);
                                                                                                                                                                                                                                                                    sb5222222222222222.append(" size: ");
                                                                                                                                                                                                                                                                    i9 = i15;
                                                                                                                                                                                                                                                                    sb5222222222222222.append(i9);
                                                                                                                                                                                                                                                                    str = "x";
                                                                                                                                                                                                                                                                    sb5222222222222222.append(str);
                                                                                                                                                                                                                                                                    i8 = i14;
                                                                                                                                                                                                                                                                    sb5222222222222222.append(i8);
                                                                                                                                                                                                                                                                    FileLog.e(sb5222222222222222.toString());
                                                                                                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                                                                                                                                                                                    z6 = true;
                                                                                                                                                                                                                                                                    MediaCodec mediaCodec21222222222222222 = mediaCodec9;
                                                                                                                                                                                                                                                                    i17 = i16;
                                                                                                                                                                                                                                                                    mediaCodec10 = mediaCodec21222222222222222;
                                                                                                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                                                                                                    if (mediaCodec10 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    mediaCodec3 = mediaCodec10;
                                                                                                                                                                                                                                                                    i3 = i17;
                                                                                                                                                                                                                                                                    outputSurface2 = outputSurface3;
                                                                                                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                                                                                    z5 = z8;
                                                                                                                                                                                                                                                                    outputSurface4 = outputSurface2;
                                                                                                                                                                                                                                                                    i81 = i8;
                                                                                                                                                                                                                                                                    str8 = str2;
                                                                                                                                                                                                                                                                    mediaCodec7 = mediaCodec5;
                                                                                                                                                                                                                                                                    inputSurface3 = inputSurface2;
                                                                                                                                                                                                                                                                    i10 = i3;
                                                                                                                                                                                                                                                                    i4 = i9;
                                                                                                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (outputSurface4 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    str3 = str8;
                                                                                                                                                                                                                                                                    if (z5) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                            } catch (Throwable th55) {
                                                                                                                                                                                                                                                                th = th55;
                                                                                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                                                                                th = th;
                                                                                                                                                                                                                                                                mediaCodec2 = mediaCodec13;
                                                                                                                                                                                                                                                                i81 = i14;
                                                                                                                                                                                                                                                                i3 = i57;
                                                                                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                                                                                i82 = i15;
                                                                                                                                                                                                                                                                inputSurface = inputSurface2;
                                                                                                                                                                                                                                                                z3 = false;
                                                                                                                                                                                                                                                                outputSurface = outputSurface3;
                                                                                                                                                                                                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                if (mP4Builder != null) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                i4 = i82;
                                                                                                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                                                                                                z5 = z3;
                                                                                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                    } catch (Exception e41) {
                                                                                                                                                                                                                                                        e = e41;
                                                                                                                                                                                                                                                        i57 = i2;
                                                                                                                                                                                                                                                        i2 = i35;
                                                                                                                                                                                                                                                    } catch (Throwable th56) {
                                                                                                                                                                                                                                                        th = th56;
                                                                                                                                                                                                                                                        i57 = i2;
                                                                                                                                                                                                                                                        i2 = i35;
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                i57 = i2;
                                                                                                                                                                                                                                                j18 = r5;
                                                                                                                                                                                                                                                i38 = i54;
                                                                                                                                                                                                                                                z22 = z51;
                                                                                                                                                                                                                                                i2 = i35;
                                                                                                                                                                                                                                                z23 = false;
                                                                                                                                                                                                                                                j20 = 0;
                                                                                                                                                                                                                                                if (j362 > j20) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                j21 = 0;
                                                                                                                                                                                                                                                str6 = str12;
                                                                                                                                                                                                                                                if (j8 >= j21) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (j22 > j21) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                z24 = z22;
                                                                                                                                                                                                                                                if (z23) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (z24) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if ((bufferInfo3.flags & 4) != 0) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                z18 = z19;
                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                try {
                                                                                                                                                                                                                                                    MediaFormat outputFormat3 = mediaCodec13.getOutputFormat();
                                                                                                                                                                                                                                                    if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                                                                                                                        FileLog.d("newFormat = " + outputFormat3);
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                } catch (Exception e42) {
                                                                                                                                                                                                                                                    e = e42;
                                                                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                                                                    exc = e;
                                                                                                                                                                                                                                                    i16 = i2;
                                                                                                                                                                                                                                                    i84 = i29;
                                                                                                                                                                                                                                                    i2 = i35;
                                                                                                                                                                                                                                                    z8 = false;
                                                                                                                                                                                                                                                    mediaCodec9 = mediaCodec13;
                                                                                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    StringBuilder sb52222222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                    sb52222222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                    sb52222222222222222.append(i84);
                                                                                                                                                                                                                                                    sb52222222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                    sb52222222222222222.append(i2);
                                                                                                                                                                                                                                                    sb52222222222222222.append(" size: ");
                                                                                                                                                                                                                                                    i9 = i15;
                                                                                                                                                                                                                                                    sb52222222222222222.append(i9);
                                                                                                                                                                                                                                                    str = "x";
                                                                                                                                                                                                                                                    sb52222222222222222.append(str);
                                                                                                                                                                                                                                                    i8 = i14;
                                                                                                                                                                                                                                                    sb52222222222222222.append(i8);
                                                                                                                                                                                                                                                    FileLog.e(sb52222222222222222.toString());
                                                                                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                                                                                                                                                                    z6 = true;
                                                                                                                                                                                                                                                    MediaCodec mediaCodec212222222222222222 = mediaCodec9;
                                                                                                                                                                                                                                                    i17 = i16;
                                                                                                                                                                                                                                                    mediaCodec10 = mediaCodec212222222222222222;
                                                                                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                                                                                    if (mediaCodec10 != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    mediaCodec3 = mediaCodec10;
                                                                                                                                                                                                                                                    i3 = i17;
                                                                                                                                                                                                                                                    outputSurface2 = outputSurface3;
                                                                                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                                                                    z5 = z8;
                                                                                                                                                                                                                                                    outputSurface4 = outputSurface2;
                                                                                                                                                                                                                                                    i81 = i8;
                                                                                                                                                                                                                                                    str8 = str2;
                                                                                                                                                                                                                                                    mediaCodec7 = mediaCodec5;
                                                                                                                                                                                                                                                    inputSurface3 = inputSurface2;
                                                                                                                                                                                                                                                    i10 = i3;
                                                                                                                                                                                                                                                    i4 = i9;
                                                                                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    if (outputSurface4 != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    str3 = str8;
                                                                                                                                                                                                                                                    if (z5) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                } catch (Throwable th57) {
                                                                                                                                                                                                                                                    th = th57;
                                                                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                                                                    th = th;
                                                                                                                                                                                                                                                    i3 = i2;
                                                                                                                                                                                                                                                    mediaCodec2 = mediaCodec13;
                                                                                                                                                                                                                                                    i81 = i14;
                                                                                                                                                                                                                                                    i84 = i29;
                                                                                                                                                                                                                                                    str = "x";
                                                                                                                                                                                                                                                    i82 = i15;
                                                                                                                                                                                                                                                    i2 = i35;
                                                                                                                                                                                                                                                    inputSurface = inputSurface2;
                                                                                                                                                                                                                                                    z3 = false;
                                                                                                                                                                                                                                                    outputSurface = outputSurface3;
                                                                                                                                                                                                                                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    i4 = i82;
                                                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                                                    z5 = z3;
                                                                                                                                                                                                                                                    z6 = true;
                                                                                                                                                                                                                                                    if (z5) {
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        i57 = i2;
                                                                                                                                                                                                                                        j18 = r5;
                                                                                                                                                                                                                                        i38 = i54;
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    i35 = i2;
                                                                                                                                                                                                                                    outputSurface3 = outputSurface11;
                                                                                                                                                                                                                                    inputSurface2 = inputSurface;
                                                                                                                                                                                                                                    mediaCodec10 = mediaCodec13;
                                                                                                                                                                                                                                    j15 = j19;
                                                                                                                                                                                                                                    i2 = i57;
                                                                                                                                                                                                                                    z482 = z21;
                                                                                                                                                                                                                                    i59 = i13;
                                                                                                                                                                                                                                    i39 = i58;
                                                                                                                                                                                                                                    r5 = j18;
                                                                                                                                                                                                                                } catch (Exception e43) {
                                                                                                                                                                                                                                    e = e43;
                                                                                                                                                                                                                                    i57 = i2;
                                                                                                                                                                                                                                    i2 = i35;
                                                                                                                                                                                                                                } catch (Throwable th58) {
                                                                                                                                                                                                                                    th2 = th58;
                                                                                                                                                                                                                                    i57 = i2;
                                                                                                                                                                                                                                    i2 = i35;
                                                                                                                                                                                                                                }
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            str6 = str12;
                                                                                                                                                                                                                            j19 = j17;
                                                                                                                                                                                                                            outputSurface11 = outputSurface3;
                                                                                                                                                                                                                            i2 = i35;
                                                                                                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                                                                                                            z18 = z19;
                                                                                                                                                                                                                            i35 = i2;
                                                                                                                                                                                                                            outputSurface3 = outputSurface11;
                                                                                                                                                                                                                            inputSurface2 = inputSurface;
                                                                                                                                                                                                                            mediaCodec10 = mediaCodec13;
                                                                                                                                                                                                                            j15 = j19;
                                                                                                                                                                                                                            i2 = i57;
                                                                                                                                                                                                                            z482 = z21;
                                                                                                                                                                                                                            i59 = i13;
                                                                                                                                                                                                                            i39 = i58;
                                                                                                                                                                                                                            r5 = j18;
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        int i1012 = i52;
                                                                                                                                                                                                                        mediaCodec4 = mediaCodec;
                                                                                                                                                                                                                        i51 = i1012;
                                                                                                                                                                                                                        r5 = r5;
                                                                                                                                                                                                                        mediaCodec15 = i59;
                                                                                                                                                                                                                    } catch (Exception e44) {
                                                                                                                                                                                                                        e = e44;
                                                                                                                                                                                                                        mediaCodec13 = mediaCodec10;
                                                                                                                                                                                                                        z2 = z;
                                                                                                                                                                                                                        exc = e;
                                                                                                                                                                                                                        i16 = i2;
                                                                                                                                                                                                                        i84 = i29;
                                                                                                                                                                                                                        i2 = i35;
                                                                                                                                                                                                                        z8 = false;
                                                                                                                                                                                                                        mediaCodec9 = mediaCodec13;
                                                                                                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        StringBuilder sb522222222222222222 = new StringBuilder();
                                                                                                                                                                                                                        sb522222222222222222.append("bitrate: ");
                                                                                                                                                                                                                        sb522222222222222222.append(i84);
                                                                                                                                                                                                                        sb522222222222222222.append(" framerate: ");
                                                                                                                                                                                                                        sb522222222222222222.append(i2);
                                                                                                                                                                                                                        sb522222222222222222.append(" size: ");
                                                                                                                                                                                                                        i9 = i15;
                                                                                                                                                                                                                        sb522222222222222222.append(i9);
                                                                                                                                                                                                                        str = "x";
                                                                                                                                                                                                                        sb522222222222222222.append(str);
                                                                                                                                                                                                                        i8 = i14;
                                                                                                                                                                                                                        sb522222222222222222.append(i8);
                                                                                                                                                                                                                        FileLog.e(sb522222222222222222.toString());
                                                                                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                                                                                        mediaCodec4 = mediaCodec;
                                                                                                                                                                                                                        z6 = true;
                                                                                                                                                                                                                        MediaCodec mediaCodec2122222222222222222 = mediaCodec9;
                                                                                                                                                                                                                        i17 = i16;
                                                                                                                                                                                                                        mediaCodec10 = mediaCodec2122222222222222222;
                                                                                                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                                                        if (mediaCodec10 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        mediaCodec3 = mediaCodec10;
                                                                                                                                                                                                                        i3 = i17;
                                                                                                                                                                                                                        outputSurface2 = outputSurface3;
                                                                                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (mediaCodec4 == null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                                        z5 = z8;
                                                                                                                                                                                                                        outputSurface4 = outputSurface2;
                                                                                                                                                                                                                        i81 = i8;
                                                                                                                                                                                                                        str8 = str2;
                                                                                                                                                                                                                        mediaCodec7 = mediaCodec5;
                                                                                                                                                                                                                        inputSurface3 = inputSurface2;
                                                                                                                                                                                                                        i10 = i3;
                                                                                                                                                                                                                        i4 = i9;
                                                                                                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (outputSurface4 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (inputSurface3 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        str3 = str8;
                                                                                                                                                                                                                        if (z5) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                    j17 = j15;
                                                                                                                                                                                                                    i13 = mediaCodec15;
                                                                                                                                                                                                                    mediaCodec19 = mediaCodec10;
                                                                                                                                                                                                                    if (i2 == -5) {
                                                                                                                                                                                                                        byte[] bArr2 = new byte[i105];
                                                                                                                                                                                                                        outputBuffer.limit(bufferInfo3.offset + i105);
                                                                                                                                                                                                                        outputBuffer.position(bufferInfo3.offset);
                                                                                                                                                                                                                        outputBuffer.get(bArr2);
                                                                                                                                                                                                                        byte b2 = 1;
                                                                                                                                                                                                                        int i107 = bufferInfo3.size - 1;
                                                                                                                                                                                                                        while (i107 >= 0 && i107 > 3) {
                                                                                                                                                                                                                            if (bArr2[i107] == b2 && bArr2[i107 - 1] == 0 && bArr2[i107 - 2] == 0) {
                                                                                                                                                                                                                                int i108 = i107 - 3;
                                                                                                                                                                                                                                if (bArr2[i108] == 0) {
                                                                                                                                                                                                                                    ByteBuffer allocate = ByteBuffer.allocate(i108);
                                                                                                                                                                                                                                    byteBuffer3 = ByteBuffer.allocate(bufferInfo3.size - i108);
                                                                                                                                                                                                                                    allocate.put(bArr2, 0, i108).position(0);
                                                                                                                                                                                                                                    byteBuffer3.put(bArr2, i108, bufferInfo3.size - i108).position(0);
                                                                                                                                                                                                                                    byteBuffer2 = allocate;
                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                }
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            i107--;
                                                                                                                                                                                                                            b2 = 1;
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        byteBuffer2 = null;
                                                                                                                                                                                                                        byteBuffer3 = null;
                                                                                                                                                                                                                        i53 = i39;
                                                                                                                                                                                                                        i54 = i38;
                                                                                                                                                                                                                        MediaFormat createVideoFormat4 = MediaFormat.createVideoFormat(mediaCodecVideoConvertor.outputMimeType, i54, i53);
                                                                                                                                                                                                                        if (byteBuffer2 != null && byteBuffer3 != null) {
                                                                                                                                                                                                                            createVideoFormat4.setByteBuffer(str12, byteBuffer2);
                                                                                                                                                                                                                            createVideoFormat4.setByteBuffer("csd-1", byteBuffer3);
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        i2 = mediaCodecVideoConvertor.mediaMuxer.addTrack(createVideoFormat4, false);
                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                        i53 = i39;
                                                                                                                                                                                                                        i54 = i38;
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                }
                                                                                                                                                                                                            } catch (Throwable th59) {
                                                                                                                                                                                                                th = th59;
                                                                                                                                                                                                                mediaCodec13 = mediaCodec10;
                                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                                th = th;
                                                                                                                                                                                                                i3 = i2;
                                                                                                                                                                                                                mediaCodec2 = mediaCodec13;
                                                                                                                                                                                                                i81 = i14;
                                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                                i82 = i15;
                                                                                                                                                                                                                i2 = i35;
                                                                                                                                                                                                                inputSurface = inputSurface2;
                                                                                                                                                                                                                z3 = false;
                                                                                                                                                                                                                outputSurface = outputSurface3;
                                                                                                                                                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                if (mP4Builder != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                i4 = i82;
                                                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                                                z5 = z3;
                                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                            }
                                                                                                                                                                                                        } catch (Exception e45) {
                                                                                                                                                                                                            e = e45;
                                                                                                                                                                                                            i13 = mediaCodec15;
                                                                                                                                                                                                        }
                                                                                                                                                                                                    } else {
                                                                                                                                                                                                        j17 = j15;
                                                                                                                                                                                                        i13 = mediaCodec15;
                                                                                                                                                                                                        i53 = i39;
                                                                                                                                                                                                        i54 = i38;
                                                                                                                                                                                                        mediaCodec19 = mediaCodec10;
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if ((bufferInfo3.flags & 4) == 0) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    mediaCodec.releaseOutputBuffer(dequeueOutputBuffer, false);
                                                                                                                                                                                                    z14 = z50;
                                                                                                                                                                                                    i2 = i16;
                                                                                                                                                                                                    z492 = z20;
                                                                                                                                                                                                    i55 = -1;
                                                                                                                                                                                                    if (dequeueOutputBuffer != i55) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    int i10122 = i52;
                                                                                                                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                                                                                                                    i51 = i10122;
                                                                                                                                                                                                    r5 = r5;
                                                                                                                                                                                                    mediaCodec15 = i59;
                                                                                                                                                                                                } catch (Exception e46) {
                                                                                                                                                                                                    e = e46;
                                                                                                                                                                                                    i2 = i35;
                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                    i84 = i29;
                                                                                                                                                                                                    z8 = false;
                                                                                                                                                                                                    outputSurface3 = outputSurface3;
                                                                                                                                                                                                    exc = e;
                                                                                                                                                                                                    mediaCodec9 = mediaCodec13;
                                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    StringBuilder sb5222222222222222222 = new StringBuilder();
                                                                                                                                                                                                    sb5222222222222222222.append("bitrate: ");
                                                                                                                                                                                                    sb5222222222222222222.append(i84);
                                                                                                                                                                                                    sb5222222222222222222.append(" framerate: ");
                                                                                                                                                                                                    sb5222222222222222222.append(i2);
                                                                                                                                                                                                    sb5222222222222222222.append(" size: ");
                                                                                                                                                                                                    i9 = i15;
                                                                                                                                                                                                    sb5222222222222222222.append(i9);
                                                                                                                                                                                                    str = "x";
                                                                                                                                                                                                    sb5222222222222222222.append(str);
                                                                                                                                                                                                    i8 = i14;
                                                                                                                                                                                                    sb5222222222222222222.append(i8);
                                                                                                                                                                                                    FileLog.e(sb5222222222222222222.toString());
                                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                                                                                                                    z6 = true;
                                                                                                                                                                                                    MediaCodec mediaCodec21222222222222222222 = mediaCodec9;
                                                                                                                                                                                                    i17 = i16;
                                                                                                                                                                                                    mediaCodec10 = mediaCodec21222222222222222222;
                                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                                    if (mediaCodec10 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    mediaCodec3 = mediaCodec10;
                                                                                                                                                                                                    i3 = i17;
                                                                                                                                                                                                    outputSurface2 = outputSurface3;
                                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                    z5 = z8;
                                                                                                                                                                                                    outputSurface4 = outputSurface2;
                                                                                                                                                                                                    i81 = i8;
                                                                                                                                                                                                    str8 = str2;
                                                                                                                                                                                                    mediaCodec7 = mediaCodec5;
                                                                                                                                                                                                    inputSurface3 = inputSurface2;
                                                                                                                                                                                                    i10 = i3;
                                                                                                                                                                                                    i4 = i9;
                                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (outputSurface4 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    str3 = str8;
                                                                                                                                                                                                    if (z5) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                } catch (Throwable th60) {
                                                                                                                                                                                                    i2 = i35;
                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                    mediaCodec2 = mediaCodec13;
                                                                                                                                                                                                    i81 = i14;
                                                                                                                                                                                                    i84 = i29;
                                                                                                                                                                                                    str = "x";
                                                                                                                                                                                                    i82 = i15;
                                                                                                                                                                                                    z3 = false;
                                                                                                                                                                                                    th = th60;
                                                                                                                                                                                                    int i109 = i16;
                                                                                                                                                                                                    inputSurface = inputSurface2;
                                                                                                                                                                                                    i3 = i109;
                                                                                                                                                                                                    outputSurface = outputSurface3;
                                                                                                                                                                                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    i4 = i82;
                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                    z5 = z3;
                                                                                                                                                                                                    z6 = true;
                                                                                                                                                                                                    if (z5) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                }
                                                                                                                                                                                                i16 = i2;
                                                                                                                                                                                                mediaCodec13 = mediaCodec19;
                                                                                                                                                                                            } catch (Exception e47) {
                                                                                                                                                                                                e = e47;
                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                inputSurface2 = -2;
                                                                                                                                                                                                outputSurface10 = r5;
                                                                                                                                                                                                mediaCodec13 = mediaCodec15;
                                                                                                                                                                                                outputSurface3 = outputSurface10;
                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                i16 = i47;
                                                                                                                                                                                                z8 = false;
                                                                                                                                                                                                outputSurface3 = outputSurface3;
                                                                                                                                                                                                exc = e;
                                                                                                                                                                                                mediaCodec9 = mediaCodec13;
                                                                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                }
                                                                                                                                                                                                StringBuilder sb52222222222222222222 = new StringBuilder();
                                                                                                                                                                                                sb52222222222222222222.append("bitrate: ");
                                                                                                                                                                                                sb52222222222222222222.append(i84);
                                                                                                                                                                                                sb52222222222222222222.append(" framerate: ");
                                                                                                                                                                                                sb52222222222222222222.append(i2);
                                                                                                                                                                                                sb52222222222222222222.append(" size: ");
                                                                                                                                                                                                i9 = i15;
                                                                                                                                                                                                sb52222222222222222222.append(i9);
                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                sb52222222222222222222.append(str);
                                                                                                                                                                                                i8 = i14;
                                                                                                                                                                                                sb52222222222222222222.append(i8);
                                                                                                                                                                                                FileLog.e(sb52222222222222222222.toString());
                                                                                                                                                                                                FileLog.e(exc);
                                                                                                                                                                                                mediaCodec4 = mediaCodec;
                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                MediaCodec mediaCodec212222222222222222222 = mediaCodec9;
                                                                                                                                                                                                i17 = i16;
                                                                                                                                                                                                mediaCodec10 = mediaCodec212222222222222222222;
                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                                if (mediaCodec10 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                mediaCodec3 = mediaCodec10;
                                                                                                                                                                                                i3 = i17;
                                                                                                                                                                                                outputSurface2 = outputSurface3;
                                                                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec4 == null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                z5 = z8;
                                                                                                                                                                                                outputSurface4 = outputSurface2;
                                                                                                                                                                                                i81 = i8;
                                                                                                                                                                                                str8 = str2;
                                                                                                                                                                                                mediaCodec7 = mediaCodec5;
                                                                                                                                                                                                inputSurface3 = inputSurface2;
                                                                                                                                                                                                i10 = i3;
                                                                                                                                                                                                i4 = i9;
                                                                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                if (mP4Builder2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec7 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (outputSurface4 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                str3 = str8;
                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                }
                                                                                                                                                                                            } catch (Throwable th61) {
                                                                                                                                                                                                th2 = th61;
                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                inputSurface = r3;
                                                                                                                                                                                                outputSurface3 = r5;
                                                                                                                                                                                                mediaCodec16 = mediaCodec15;
                                                                                                                                                                                                mediaCodec2 = mediaCodec16;
                                                                                                                                                                                                i81 = i14;
                                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                                str = "x";
                                                                                                                                                                                                i3 = i47;
                                                                                                                                                                                                i82 = i15;
                                                                                                                                                                                                z3 = false;
                                                                                                                                                                                                th = th2;
                                                                                                                                                                                                outputSurface = outputSurface3;
                                                                                                                                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                if (mP4Builder != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                i4 = i82;
                                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                                z5 = z3;
                                                                                                                                                                                                z6 = true;
                                                                                                                                                                                                if (z5) {
                                                                                                                                                                                                }
                                                                                                                                                                                            }
                                                                                                                                                                                        }
                                                                                                                                                                                    }
                                                                                                                                                                                    i53 = i39;
                                                                                                                                                                                    i54 = i38;
                                                                                                                                                                                }
                                                                                                                                                                                i55 = -1;
                                                                                                                                                                                mediaCodec13 = mediaCodec10;
                                                                                                                                                                                if (dequeueOutputBuffer != i55) {
                                                                                                                                                                                }
                                                                                                                                                                                int i101222 = i52;
                                                                                                                                                                                mediaCodec4 = mediaCodec;
                                                                                                                                                                                i51 = i101222;
                                                                                                                                                                                r5 = r5;
                                                                                                                                                                                mediaCodec15 = i59;
                                                                                                                                                                            } catch (Exception e48) {
                                                                                                                                                                                e = e48;
                                                                                                                                                                                i47 = i2;
                                                                                                                                                                                i13 = mediaCodec15;
                                                                                                                                                                                i2 = i35;
                                                                                                                                                                                mediaCodec13 = mediaCodec10;
                                                                                                                                                                                z2 = z;
                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                i16 = i47;
                                                                                                                                                                                z8 = false;
                                                                                                                                                                                outputSurface3 = outputSurface3;
                                                                                                                                                                                exc = e;
                                                                                                                                                                                mediaCodec9 = mediaCodec13;
                                                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                                                }
                                                                                                                                                                                StringBuilder sb522222222222222222222 = new StringBuilder();
                                                                                                                                                                                sb522222222222222222222.append("bitrate: ");
                                                                                                                                                                                sb522222222222222222222.append(i84);
                                                                                                                                                                                sb522222222222222222222.append(" framerate: ");
                                                                                                                                                                                sb522222222222222222222.append(i2);
                                                                                                                                                                                sb522222222222222222222.append(" size: ");
                                                                                                                                                                                i9 = i15;
                                                                                                                                                                                sb522222222222222222222.append(i9);
                                                                                                                                                                                str = "x";
                                                                                                                                                                                sb522222222222222222222.append(str);
                                                                                                                                                                                i8 = i14;
                                                                                                                                                                                sb522222222222222222222.append(i8);
                                                                                                                                                                                FileLog.e(sb522222222222222222222.toString());
                                                                                                                                                                                FileLog.e(exc);
                                                                                                                                                                                mediaCodec4 = mediaCodec;
                                                                                                                                                                                z6 = true;
                                                                                                                                                                                MediaCodec mediaCodec2122222222222222222222 = mediaCodec9;
                                                                                                                                                                                i17 = i16;
                                                                                                                                                                                mediaCodec10 = mediaCodec2122222222222222222222;
                                                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                                                                if (mediaCodec10 != null) {
                                                                                                                                                                                }
                                                                                                                                                                                mediaCodec3 = mediaCodec10;
                                                                                                                                                                                i3 = i17;
                                                                                                                                                                                outputSurface2 = outputSurface3;
                                                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (mediaCodec4 == null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                                                }
                                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                                                z5 = z8;
                                                                                                                                                                                outputSurface4 = outputSurface2;
                                                                                                                                                                                i81 = i8;
                                                                                                                                                                                str8 = str2;
                                                                                                                                                                                mediaCodec7 = mediaCodec5;
                                                                                                                                                                                inputSurface3 = inputSurface2;
                                                                                                                                                                                i10 = i3;
                                                                                                                                                                                i4 = i9;
                                                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                                                }
                                                                                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                if (mP4Builder2 != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (mediaCodec7 != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (outputSurface4 != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                                                }
                                                                                                                                                                                str3 = str8;
                                                                                                                                                                                if (z5) {
                                                                                                                                                                                }
                                                                                                                                                                            } catch (Throwable th62) {
                                                                                                                                                                                th2 = th62;
                                                                                                                                                                                i47 = i2;
                                                                                                                                                                                mediaCodec17 = mediaCodec10;
                                                                                                                                                                                i2 = i35;
                                                                                                                                                                                z2 = z;
                                                                                                                                                                                inputSurface = inputSurface2;
                                                                                                                                                                                mediaCodec16 = mediaCodec17;
                                                                                                                                                                                mediaCodec2 = mediaCodec16;
                                                                                                                                                                                i81 = i14;
                                                                                                                                                                                i84 = i29;
                                                                                                                                                                                str = "x";
                                                                                                                                                                                i3 = i47;
                                                                                                                                                                                i82 = i15;
                                                                                                                                                                                z3 = false;
                                                                                                                                                                                th = th2;
                                                                                                                                                                                outputSurface = outputSurface3;
                                                                                                                                                                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                }
                                                                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                if (mP4Builder != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                }
                                                                                                                                                                                i4 = i82;
                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                z5 = z3;
                                                                                                                                                                                z6 = true;
                                                                                                                                                                                if (z5) {
                                                                                                                                                                                }
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                } catch (Exception e49) {
                                                                                                                                                                    e = e49;
                                                                                                                                                                    i15 = i40;
                                                                                                                                                                    outputSurface10 = outputSurface6;
                                                                                                                                                                    audioRecoder = audioRecoder2;
                                                                                                                                                                    i47 = i17;
                                                                                                                                                                    mediaCodec = mediaCodec4;
                                                                                                                                                                    i13 = i24;
                                                                                                                                                                    i2 = i35;
                                                                                                                                                                    mediaCodec13 = mediaCodec10;
                                                                                                                                                                    z2 = z;
                                                                                                                                                                } catch (Throwable th63) {
                                                                                                                                                                    th2 = th63;
                                                                                                                                                                    i15 = i40;
                                                                                                                                                                    r5 = outputSurface6;
                                                                                                                                                                    i47 = i17;
                                                                                                                                                                    mediaCodec = mediaCodec4;
                                                                                                                                                                    i2 = i35;
                                                                                                                                                                    r3 = inputSurface2;
                                                                                                                                                                    mediaCodec15 = mediaCodec10;
                                                                                                                                                                }
                                                                                                                                                            }
                                                                                                                                                            j33 = j15;
                                                                                                                                                            bufferInfo2 = bufferInfo3;
                                                                                                                                                            outputSurface6 = outputSurface3;
                                                                                                                                                            audioRecoder2 = audioRecoder;
                                                                                                                                                            inputBuffers = byteBufferArr2;
                                                                                                                                                            i37 = i49;
                                                                                                                                                            z12 = z17;
                                                                                                                                                            i46 = i51;
                                                                                                                                                            i24 = mediaCodec15;
                                                                                                                                                            i42 = i48;
                                                                                                                                                            i17 = i2;
                                                                                                                                                            i40 = i15;
                                                                                                                                                            j14 = r5;
                                                                                                                                                        }
                                                                                                                                                    } catch (Exception e50) {
                                                                                                                                                        e = e50;
                                                                                                                                                        i15 = i40;
                                                                                                                                                        mediaCodec13 = mediaCodec10;
                                                                                                                                                        audioRecoder = audioRecoder2;
                                                                                                                                                        mediaCodec = mediaCodec4;
                                                                                                                                                        i13 = i24;
                                                                                                                                                        i2 = i35;
                                                                                                                                                        z2 = z;
                                                                                                                                                        outputSurface3 = outputSurface6;
                                                                                                                                                        i84 = i29;
                                                                                                                                                        z8 = false;
                                                                                                                                                        i16 = -5;
                                                                                                                                                    }
                                                                                                                                                } else {
                                                                                                                                                    byteBufferArr = outputBuffers;
                                                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                                                    j12 = j11;
                                                                                                                                                    z12 = z11;
                                                                                                                                                    ArrayList arrayList3 = new ArrayList();
                                                                                                                                                    GeneralAudioInput generalAudioInput = new GeneralAudioInput(str15, i37);
                                                                                                                                                    if (j32 > 0) {
                                                                                                                                                        generalAudioInput.setEndTimeUs(j32);
                                                                                                                                                    }
                                                                                                                                                    i13 = (j12 > 0L ? 1 : (j12 == 0L ? 0 : -1));
                                                                                                                                                    if (i13 > 0) {
                                                                                                                                                        generalAudioInput.setStartTimeUs(j12);
                                                                                                                                                    }
                                                                                                                                                    generalAudioInput.setVolume(f2);
                                                                                                                                                    arrayList3.add(generalAudioInput);
                                                                                                                                                    applyAudioInputs(convertVideoParams2.soundInfos, arrayList3);
                                                                                                                                                    j32 = j32;
                                                                                                                                                    AudioRecoder audioRecoder5 = new AudioRecoder(arrayList3, j9);
                                                                                                                                                    i42 = mediaCodecVideoConvertor.mediaMuxer.addTrack(audioRecoder5.format, true);
                                                                                                                                                    audioRecoder2 = audioRecoder5;
                                                                                                                                                    i44 = 0;
                                                                                                                                                    byteBuffer = null;
                                                                                                                                                    j13 = j12;
                                                                                                                                                    if (audioRecoder2 == null) {
                                                                                                                                                    }
                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                    ByteBuffer byteBuffer922 = byteBuffer;
                                                                                                                                                    ByteBuffer[] byteBufferArr422 = byteBufferArr;
                                                                                                                                                    long j3522 = -1;
                                                                                                                                                    long j3622 = -1;
                                                                                                                                                    i17 = -5;
                                                                                                                                                    z14 = false;
                                                                                                                                                    z15 = false;
                                                                                                                                                    z16 = false;
                                                                                                                                                    long j3722 = 0;
                                                                                                                                                    long j3822 = 0;
                                                                                                                                                    int i9922 = 0;
                                                                                                                                                    boolean z4722 = true;
                                                                                                                                                    int i10022 = i44;
                                                                                                                                                    boolean z4822 = z13;
                                                                                                                                                    i46 = i10022;
                                                                                                                                                    j14 = j13;
                                                                                                                                                    loop3: while (true) {
                                                                                                                                                        if (z14) {
                                                                                                                                                        }
                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                        if (audioRecoder2 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (z15) {
                                                                                                                                                        }
                                                                                                                                                        z18 = !z16;
                                                                                                                                                        i51 = i46;
                                                                                                                                                        j15 = j33;
                                                                                                                                                        i2 = i47;
                                                                                                                                                        boolean z4922 = true;
                                                                                                                                                        r5 = j14;
                                                                                                                                                        mediaCodec15 = i50;
                                                                                                                                                        while (true) {
                                                                                                                                                            if (!z18) {
                                                                                                                                                            }
                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                            if (z) {
                                                                                                                                                            }
                                                                                                                                                            dequeueOutputBuffer = mediaCodec.dequeueOutputBuffer(bufferInfo3, j16);
                                                                                                                                                            if (dequeueOutputBuffer == -1) {
                                                                                                                                                            }
                                                                                                                                                            i55 = -1;
                                                                                                                                                            mediaCodec13 = mediaCodec10;
                                                                                                                                                            if (dequeueOutputBuffer != i55) {
                                                                                                                                                            }
                                                                                                                                                            int i1012222 = i52;
                                                                                                                                                            mediaCodec4 = mediaCodec;
                                                                                                                                                            i51 = i1012222;
                                                                                                                                                            r5 = r5;
                                                                                                                                                            mediaCodec15 = i59;
                                                                                                                                                        }
                                                                                                                                                        j33 = j15;
                                                                                                                                                        bufferInfo2 = bufferInfo3;
                                                                                                                                                        outputSurface6 = outputSurface3;
                                                                                                                                                        audioRecoder2 = audioRecoder;
                                                                                                                                                        inputBuffers = byteBufferArr2;
                                                                                                                                                        i37 = i49;
                                                                                                                                                        z12 = z17;
                                                                                                                                                        i46 = i51;
                                                                                                                                                        i24 = mediaCodec15;
                                                                                                                                                        i42 = i48;
                                                                                                                                                        i17 = i2;
                                                                                                                                                        i40 = i15;
                                                                                                                                                        j14 = r5;
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                            } else {
                                                                                                                                                str11 = str10;
                                                                                                                                            }
                                                                                                                                        } else {
                                                                                                                                            convertVideoParams2 = convertVideoParams;
                                                                                                                                            str11 = str10;
                                                                                                                                        }
                                                                                                                                        if (trackFormat2.getString(str11).equals("audio/unknown")) {
                                                                                                                                        }
                                                                                                                                        if (i37 >= 0) {
                                                                                                                                        }
                                                                                                                                    } catch (Exception e51) {
                                                                                                                                        e = e51;
                                                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                                                        exc = e;
                                                                                                                                        i15 = i40;
                                                                                                                                        mediaCodec11 = mediaCodec10;
                                                                                                                                        mediaCodec = mediaCodec4;
                                                                                                                                        i13 = i24;
                                                                                                                                        i84 = i29;
                                                                                                                                        i2 = i35;
                                                                                                                                        z8 = false;
                                                                                                                                        i16 = -5;
                                                                                                                                        audioRecoder = null;
                                                                                                                                        outputSurface3 = outputSurface6;
                                                                                                                                        z2 = z;
                                                                                                                                        mediaCodec9 = mediaCodec11;
                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                        }
                                                                                                                                        StringBuilder sb5222222222222222222222 = new StringBuilder();
                                                                                                                                        sb5222222222222222222222.append("bitrate: ");
                                                                                                                                        sb5222222222222222222222.append(i84);
                                                                                                                                        sb5222222222222222222222.append(" framerate: ");
                                                                                                                                        sb5222222222222222222222.append(i2);
                                                                                                                                        sb5222222222222222222222.append(" size: ");
                                                                                                                                        i9 = i15;
                                                                                                                                        sb5222222222222222222222.append(i9);
                                                                                                                                        str = "x";
                                                                                                                                        sb5222222222222222222222.append(str);
                                                                                                                                        i8 = i14;
                                                                                                                                        sb5222222222222222222222.append(i8);
                                                                                                                                        FileLog.e(sb5222222222222222222222.toString());
                                                                                                                                        FileLog.e(exc);
                                                                                                                                        mediaCodec4 = mediaCodec;
                                                                                                                                        z6 = true;
                                                                                                                                        MediaCodec mediaCodec21222222222222222222222 = mediaCodec9;
                                                                                                                                        i17 = i16;
                                                                                                                                        mediaCodec10 = mediaCodec21222222222222222222222;
                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                        if (mediaCodec10 != null) {
                                                                                                                                        }
                                                                                                                                        mediaCodec3 = mediaCodec10;
                                                                                                                                        i3 = i17;
                                                                                                                                        outputSurface2 = outputSurface3;
                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                        }
                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec4 == null) {
                                                                                                                                        }
                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                        }
                                                                                                                                        checkConversionCanceled();
                                                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                                                        z5 = z8;
                                                                                                                                        outputSurface4 = outputSurface2;
                                                                                                                                        i81 = i8;
                                                                                                                                        str8 = str2;
                                                                                                                                        mediaCodec7 = mediaCodec5;
                                                                                                                                        inputSurface3 = inputSurface2;
                                                                                                                                        i10 = i3;
                                                                                                                                        i4 = i9;
                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                        }
                                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                        }
                                                                                                                                        if (outputSurface4 != null) {
                                                                                                                                        }
                                                                                                                                        if (inputSurface3 != null) {
                                                                                                                                        }
                                                                                                                                        str3 = str8;
                                                                                                                                        if (z5) {
                                                                                                                                        }
                                                                                                                                    } catch (Throwable th64) {
                                                                                                                                        th = th64;
                                                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                                                        th = th;
                                                                                                                                        i82 = i40;
                                                                                                                                        outputSurface7 = outputSurface6;
                                                                                                                                        mediaCodec2 = mediaCodec10;
                                                                                                                                        mediaCodec = mediaCodec4;
                                                                                                                                        i81 = i14;
                                                                                                                                        i84 = i29;
                                                                                                                                        str = "x";
                                                                                                                                        i2 = i35;
                                                                                                                                        inputSurface = inputSurface2;
                                                                                                                                        i3 = -5;
                                                                                                                                        z3 = false;
                                                                                                                                        z2 = z;
                                                                                                                                        outputSurface = outputSurface7;
                                                                                                                                        FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                        FileLog.e(th);
                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                        }
                                                                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                        if (mP4Builder != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                        }
                                                                                                                                        if (outputSurface != null) {
                                                                                                                                        }
                                                                                                                                        if (inputSurface != null) {
                                                                                                                                        }
                                                                                                                                        i4 = i82;
                                                                                                                                        str3 = str2;
                                                                                                                                        z5 = z3;
                                                                                                                                        z6 = true;
                                                                                                                                        if (z5) {
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                    z11 = false;
                                                                                                                                } catch (Exception e52) {
                                                                                                                                    e = e52;
                                                                                                                                } catch (Throwable th65) {
                                                                                                                                    th = th65;
                                                                                                                                }
                                                                                                                            } else {
                                                                                                                                byteBufferArr = outputBuffers;
                                                                                                                                mediaCodecVideoConvertor = this;
                                                                                                                                long j47 = j9;
                                                                                                                                j12 = j11;
                                                                                                                                try {
                                                                                                                                    try {
                                                                                                                                        if (!convertVideoParams.soundInfos.isEmpty()) {
                                                                                                                                            ArrayList arrayList4 = new ArrayList();
                                                                                                                                            arrayList4.add(new BlankAudioInput(j47));
                                                                                                                                            applyAudioInputs(convertVideoParams.soundInfos, arrayList4);
                                                                                                                                            AudioRecoder audioRecoder6 = new AudioRecoder(arrayList4, j47);
                                                                                                                                            i42 = mediaCodecVideoConvertor.mediaMuxer.addTrack(audioRecoder6.format, true);
                                                                                                                                            z12 = false;
                                                                                                                                            audioRecoder2 = audioRecoder6;
                                                                                                                                            i44 = 0;
                                                                                                                                            byteBuffer = null;
                                                                                                                                            j13 = j12;
                                                                                                                                            if (audioRecoder2 == null) {
                                                                                                                                            }
                                                                                                                                            checkConversionCanceled();
                                                                                                                                            ByteBuffer byteBuffer9222 = byteBuffer;
                                                                                                                                            ByteBuffer[] byteBufferArr4222 = byteBufferArr;
                                                                                                                                            long j35222 = -1;
                                                                                                                                            long j36222 = -1;
                                                                                                                                            i17 = -5;
                                                                                                                                            z14 = false;
                                                                                                                                            z15 = false;
                                                                                                                                            z16 = false;
                                                                                                                                            long j37222 = 0;
                                                                                                                                            long j38222 = 0;
                                                                                                                                            int i99222 = 0;
                                                                                                                                            boolean z47222 = true;
                                                                                                                                            int i100222 = i44;
                                                                                                                                            boolean z48222 = z13;
                                                                                                                                            i46 = i100222;
                                                                                                                                            j14 = j13;
                                                                                                                                            loop3: while (true) {
                                                                                                                                                if (z14) {
                                                                                                                                                }
                                                                                                                                                checkConversionCanceled();
                                                                                                                                                if (audioRecoder2 != null) {
                                                                                                                                                }
                                                                                                                                                if (z15) {
                                                                                                                                                }
                                                                                                                                                z18 = !z16;
                                                                                                                                                i51 = i46;
                                                                                                                                                j15 = j33;
                                                                                                                                                i2 = i47;
                                                                                                                                                boolean z49222 = true;
                                                                                                                                                r5 = j14;
                                                                                                                                                mediaCodec15 = i50;
                                                                                                                                                while (true) {
                                                                                                                                                    if (!z18) {
                                                                                                                                                    }
                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                    if (z) {
                                                                                                                                                    }
                                                                                                                                                    dequeueOutputBuffer = mediaCodec.dequeueOutputBuffer(bufferInfo3, j16);
                                                                                                                                                    if (dequeueOutputBuffer == -1) {
                                                                                                                                                    }
                                                                                                                                                    i55 = -1;
                                                                                                                                                    mediaCodec13 = mediaCodec10;
                                                                                                                                                    if (dequeueOutputBuffer != i55) {
                                                                                                                                                    }
                                                                                                                                                    int i10122222 = i52;
                                                                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                                                                    i51 = i10122222;
                                                                                                                                                    r5 = r5;
                                                                                                                                                    mediaCodec15 = i59;
                                                                                                                                                }
                                                                                                                                                j33 = j15;
                                                                                                                                                bufferInfo2 = bufferInfo3;
                                                                                                                                                outputSurface6 = outputSurface3;
                                                                                                                                                audioRecoder2 = audioRecoder;
                                                                                                                                                inputBuffers = byteBufferArr2;
                                                                                                                                                i37 = i49;
                                                                                                                                                z12 = z17;
                                                                                                                                                i46 = i51;
                                                                                                                                                i24 = mediaCodec15;
                                                                                                                                                i42 = i48;
                                                                                                                                                i17 = i2;
                                                                                                                                                i40 = i15;
                                                                                                                                                j14 = r5;
                                                                                                                                            }
                                                                                                                                        } else {
                                                                                                                                            i42 = -5;
                                                                                                                                            audioRecoder2 = 0;
                                                                                                                                            z12 = true;
                                                                                                                                            i44 = 0;
                                                                                                                                            byteBuffer = null;
                                                                                                                                            j13 = j12;
                                                                                                                                            if (audioRecoder2 == null) {
                                                                                                                                            }
                                                                                                                                            checkConversionCanceled();
                                                                                                                                            ByteBuffer byteBuffer92222 = byteBuffer;
                                                                                                                                            ByteBuffer[] byteBufferArr42222 = byteBufferArr;
                                                                                                                                            long j352222 = -1;
                                                                                                                                            long j362222 = -1;
                                                                                                                                            i17 = -5;
                                                                                                                                            z14 = false;
                                                                                                                                            z15 = false;
                                                                                                                                            z16 = false;
                                                                                                                                            long j372222 = 0;
                                                                                                                                            long j382222 = 0;
                                                                                                                                            int i992222 = 0;
                                                                                                                                            boolean z472222 = true;
                                                                                                                                            int i1002222 = i44;
                                                                                                                                            boolean z482222 = z13;
                                                                                                                                            i46 = i1002222;
                                                                                                                                            j14 = j13;
                                                                                                                                            loop3: while (true) {
                                                                                                                                                if (z14) {
                                                                                                                                                }
                                                                                                                                                checkConversionCanceled();
                                                                                                                                                if (audioRecoder2 != null) {
                                                                                                                                                }
                                                                                                                                                if (z15) {
                                                                                                                                                }
                                                                                                                                                z18 = !z16;
                                                                                                                                                i51 = i46;
                                                                                                                                                j15 = j33;
                                                                                                                                                i2 = i47;
                                                                                                                                                boolean z492222 = true;
                                                                                                                                                r5 = j14;
                                                                                                                                                mediaCodec15 = i50;
                                                                                                                                                while (true) {
                                                                                                                                                    if (!z18) {
                                                                                                                                                    }
                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                    if (z) {
                                                                                                                                                    }
                                                                                                                                                    dequeueOutputBuffer = mediaCodec.dequeueOutputBuffer(bufferInfo3, j16);
                                                                                                                                                    if (dequeueOutputBuffer == -1) {
                                                                                                                                                    }
                                                                                                                                                    i55 = -1;
                                                                                                                                                    mediaCodec13 = mediaCodec10;
                                                                                                                                                    if (dequeueOutputBuffer != i55) {
                                                                                                                                                    }
                                                                                                                                                    int i101222222 = i52;
                                                                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                                                                    i51 = i101222222;
                                                                                                                                                    r5 = r5;
                                                                                                                                                    mediaCodec15 = i59;
                                                                                                                                                }
                                                                                                                                                j33 = j15;
                                                                                                                                                bufferInfo2 = bufferInfo3;
                                                                                                                                                outputSurface6 = outputSurface3;
                                                                                                                                                audioRecoder2 = audioRecoder;
                                                                                                                                                inputBuffers = byteBufferArr2;
                                                                                                                                                i37 = i49;
                                                                                                                                                z12 = z17;
                                                                                                                                                i46 = i51;
                                                                                                                                                i24 = mediaCodec15;
                                                                                                                                                i42 = i48;
                                                                                                                                                i17 = i2;
                                                                                                                                                i40 = i15;
                                                                                                                                                j14 = r5;
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    } catch (Exception e53) {
                                                                                                                                        e = e53;
                                                                                                                                        i15 = i40;
                                                                                                                                        outputSurface9 = outputSurface6;
                                                                                                                                        mediaCodec13 = mediaCodec10;
                                                                                                                                        mediaCodec = mediaCodec4;
                                                                                                                                        i13 = i24;
                                                                                                                                        i2 = i35;
                                                                                                                                        z2 = z;
                                                                                                                                        outputSurface5 = outputSurface9;
                                                                                                                                        i84 = i29;
                                                                                                                                        z8 = false;
                                                                                                                                        i16 = -5;
                                                                                                                                        audioRecoder = null;
                                                                                                                                        outputSurface3 = outputSurface5;
                                                                                                                                        exc = e;
                                                                                                                                        mediaCodec9 = mediaCodec13;
                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                        }
                                                                                                                                        StringBuilder sb52222222222222222222222 = new StringBuilder();
                                                                                                                                        sb52222222222222222222222.append("bitrate: ");
                                                                                                                                        sb52222222222222222222222.append(i84);
                                                                                                                                        sb52222222222222222222222.append(" framerate: ");
                                                                                                                                        sb52222222222222222222222.append(i2);
                                                                                                                                        sb52222222222222222222222.append(" size: ");
                                                                                                                                        i9 = i15;
                                                                                                                                        sb52222222222222222222222.append(i9);
                                                                                                                                        str = "x";
                                                                                                                                        sb52222222222222222222222.append(str);
                                                                                                                                        i8 = i14;
                                                                                                                                        sb52222222222222222222222.append(i8);
                                                                                                                                        FileLog.e(sb52222222222222222222222.toString());
                                                                                                                                        FileLog.e(exc);
                                                                                                                                        mediaCodec4 = mediaCodec;
                                                                                                                                        z6 = true;
                                                                                                                                        MediaCodec mediaCodec212222222222222222222222 = mediaCodec9;
                                                                                                                                        i17 = i16;
                                                                                                                                        mediaCodec10 = mediaCodec212222222222222222222222;
                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                                        if (mediaCodec10 != null) {
                                                                                                                                        }
                                                                                                                                        mediaCodec3 = mediaCodec10;
                                                                                                                                        i3 = i17;
                                                                                                                                        outputSurface2 = outputSurface3;
                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                        }
                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec4 == null) {
                                                                                                                                        }
                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                        }
                                                                                                                                        checkConversionCanceled();
                                                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                                                        z5 = z8;
                                                                                                                                        outputSurface4 = outputSurface2;
                                                                                                                                        i81 = i8;
                                                                                                                                        str8 = str2;
                                                                                                                                        mediaCodec7 = mediaCodec5;
                                                                                                                                        inputSurface3 = inputSurface2;
                                                                                                                                        i10 = i3;
                                                                                                                                        i4 = i9;
                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                        }
                                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                        }
                                                                                                                                        if (outputSurface4 != null) {
                                                                                                                                        }
                                                                                                                                        if (inputSurface3 != null) {
                                                                                                                                        }
                                                                                                                                        str3 = str8;
                                                                                                                                        if (z5) {
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                } catch (Throwable th66) {
                                                                                                                                    th2 = th66;
                                                                                                                                    i41 = i40;
                                                                                                                                    outputSurface8 = outputSurface6;
                                                                                                                                    mediaCodec14 = mediaCodec10;
                                                                                                                                    mediaCodec = mediaCodec4;
                                                                                                                                    i2 = i35;
                                                                                                                                    z2 = z;
                                                                                                                                    inputSurface = inputSurface2;
                                                                                                                                    outputSurface3 = outputSurface8;
                                                                                                                                    mediaCodec2 = mediaCodec14;
                                                                                                                                    i81 = i14;
                                                                                                                                    i84 = i29;
                                                                                                                                    str = "x";
                                                                                                                                    i82 = i41;
                                                                                                                                    i3 = -5;
                                                                                                                                    z3 = false;
                                                                                                                                    th = th2;
                                                                                                                                    outputSurface = outputSurface3;
                                                                                                                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                                    FileLog.e(th);
                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                    }
                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                    }
                                                                                                                                    if (outputSurface != null) {
                                                                                                                                    }
                                                                                                                                    if (inputSurface != null) {
                                                                                                                                    }
                                                                                                                                    i4 = i82;
                                                                                                                                    str3 = str2;
                                                                                                                                    z5 = z3;
                                                                                                                                    z6 = true;
                                                                                                                                    if (z5) {
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        } catch (Exception e54) {
                                                                                                                            exc = e54;
                                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                                            mediaCodec = mediaCodec4;
                                                                                                                            i15 = i36;
                                                                                                                            i13 = i24;
                                                                                                                            i84 = i29;
                                                                                                                            i2 = i35;
                                                                                                                            z8 = false;
                                                                                                                            i16 = -5;
                                                                                                                            mediaCodec11 = null;
                                                                                                                            audioRecoder = null;
                                                                                                                            outputSurface3 = outputSurface6;
                                                                                                                            z2 = z;
                                                                                                                            mediaCodec9 = mediaCodec11;
                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                            }
                                                                                                                            StringBuilder sb522222222222222222222222 = new StringBuilder();
                                                                                                                            sb522222222222222222222222.append("bitrate: ");
                                                                                                                            sb522222222222222222222222.append(i84);
                                                                                                                            sb522222222222222222222222.append(" framerate: ");
                                                                                                                            sb522222222222222222222222.append(i2);
                                                                                                                            sb522222222222222222222222.append(" size: ");
                                                                                                                            i9 = i15;
                                                                                                                            sb522222222222222222222222.append(i9);
                                                                                                                            str = "x";
                                                                                                                            sb522222222222222222222222.append(str);
                                                                                                                            i8 = i14;
                                                                                                                            sb522222222222222222222222.append(i8);
                                                                                                                            FileLog.e(sb522222222222222222222222.toString());
                                                                                                                            FileLog.e(exc);
                                                                                                                            mediaCodec4 = mediaCodec;
                                                                                                                            z6 = true;
                                                                                                                            MediaCodec mediaCodec2122222222222222222222222 = mediaCodec9;
                                                                                                                            i17 = i16;
                                                                                                                            mediaCodec10 = mediaCodec2122222222222222222222222;
                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                            if (mediaCodec10 != null) {
                                                                                                                            }
                                                                                                                            mediaCodec3 = mediaCodec10;
                                                                                                                            i3 = i17;
                                                                                                                            outputSurface2 = outputSurface3;
                                                                                                                            if (outputSurface2 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec4 == null) {
                                                                                                                            }
                                                                                                                            if (audioRecoder != null) {
                                                                                                                            }
                                                                                                                            checkConversionCanceled();
                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                            z5 = z8;
                                                                                                                            outputSurface4 = outputSurface2;
                                                                                                                            i81 = i8;
                                                                                                                            str8 = str2;
                                                                                                                            mediaCodec7 = mediaCodec5;
                                                                                                                            inputSurface3 = inputSurface2;
                                                                                                                            i10 = i3;
                                                                                                                            i4 = i9;
                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                            }
                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                            }
                                                                                                                            if (outputSurface4 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface3 != null) {
                                                                                                                            }
                                                                                                                            str3 = str8;
                                                                                                                            if (z5) {
                                                                                                                            }
                                                                                                                        } catch (Throwable th67) {
                                                                                                                            th = th67;
                                                                                                                            outputSurface7 = outputSurface6;
                                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                                            mediaCodec = mediaCodec4;
                                                                                                                            i81 = i14;
                                                                                                                            i82 = i36;
                                                                                                                            i84 = i29;
                                                                                                                            str = "x";
                                                                                                                            i2 = i35;
                                                                                                                            inputSurface = inputSurface2;
                                                                                                                            i3 = -5;
                                                                                                                            z3 = false;
                                                                                                                            mediaCodec2 = null;
                                                                                                                            z2 = z;
                                                                                                                            outputSurface = outputSurface7;
                                                                                                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                            FileLog.e(th);
                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                            if (mediaExtractor != null) {
                                                                                                                            }
                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                            if (mP4Builder != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                            }
                                                                                                                            if (outputSurface != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface != null) {
                                                                                                                            }
                                                                                                                            i4 = i82;
                                                                                                                            str3 = str2;
                                                                                                                            z5 = z3;
                                                                                                                            z6 = true;
                                                                                                                            if (z5) {
                                                                                                                            }
                                                                                                                        }
                                                                                                                    }
                                                                                                                } catch (Exception e55) {
                                                                                                                    mediaCodec4 = mediaCodec12;
                                                                                                                    i14 = i81;
                                                                                                                    inputSurface2 = inputSurface;
                                                                                                                    str2 = name;
                                                                                                                    exc = e55;
                                                                                                                    i15 = i34;
                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                    mediaCodec = mediaCodec4;
                                                                                                                    i13 = i24;
                                                                                                                    i84 = i29;
                                                                                                                    i2 = i35;
                                                                                                                    z8 = false;
                                                                                                                    i16 = -5;
                                                                                                                    mediaCodec11 = null;
                                                                                                                    audioRecoder = null;
                                                                                                                    outputSurface3 = outputSurface6;
                                                                                                                    z2 = z;
                                                                                                                    mediaCodec9 = mediaCodec11;
                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                    }
                                                                                                                    StringBuilder sb5222222222222222222222222 = new StringBuilder();
                                                                                                                    sb5222222222222222222222222.append("bitrate: ");
                                                                                                                    sb5222222222222222222222222.append(i84);
                                                                                                                    sb5222222222222222222222222.append(" framerate: ");
                                                                                                                    sb5222222222222222222222222.append(i2);
                                                                                                                    sb5222222222222222222222222.append(" size: ");
                                                                                                                    i9 = i15;
                                                                                                                    sb5222222222222222222222222.append(i9);
                                                                                                                    str = "x";
                                                                                                                    sb5222222222222222222222222.append(str);
                                                                                                                    i8 = i14;
                                                                                                                    sb5222222222222222222222222.append(i8);
                                                                                                                    FileLog.e(sb5222222222222222222222222.toString());
                                                                                                                    FileLog.e(exc);
                                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                                    z6 = true;
                                                                                                                    MediaCodec mediaCodec21222222222222222222222222 = mediaCodec9;
                                                                                                                    i17 = i16;
                                                                                                                    mediaCodec10 = mediaCodec21222222222222222222222222;
                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                    if (mediaCodec10 != null) {
                                                                                                                    }
                                                                                                                    mediaCodec3 = mediaCodec10;
                                                                                                                    i3 = i17;
                                                                                                                    outputSurface2 = outputSurface3;
                                                                                                                    if (outputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                    }
                                                                                                                    if (audioRecoder != null) {
                                                                                                                    }
                                                                                                                    checkConversionCanceled();
                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                    z5 = z8;
                                                                                                                    outputSurface4 = outputSurface2;
                                                                                                                    i81 = i8;
                                                                                                                    str8 = str2;
                                                                                                                    mediaCodec7 = mediaCodec5;
                                                                                                                    inputSurface3 = inputSurface2;
                                                                                                                    i10 = i3;
                                                                                                                    i4 = i9;
                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                    }
                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface4 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface3 != null) {
                                                                                                                    }
                                                                                                                    str3 = str8;
                                                                                                                    if (z5) {
                                                                                                                    }
                                                                                                                } catch (Throwable th68) {
                                                                                                                    str2 = name;
                                                                                                                    th = th68;
                                                                                                                    outputSurface7 = outputSurface6;
                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                    mediaCodec = mediaCodec12;
                                                                                                                    i81 = i81;
                                                                                                                    i82 = i34;
                                                                                                                    i84 = i29;
                                                                                                                    str = "x";
                                                                                                                    i2 = i35;
                                                                                                                    i3 = -5;
                                                                                                                    z3 = false;
                                                                                                                    mediaCodec2 = null;
                                                                                                                    z2 = z;
                                                                                                                    outputSurface = outputSurface7;
                                                                                                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                    FileLog.e(th);
                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor != null) {
                                                                                                                    }
                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                    if (mP4Builder != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    i4 = i82;
                                                                                                                    str3 = str2;
                                                                                                                    z5 = z3;
                                                                                                                    z6 = true;
                                                                                                                    if (z5) {
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                            mediaCodec4 = mediaCodec12;
                                                                                                            i14 = i81;
                                                                                                            inputSurface2 = inputSurface;
                                                                                                            i36 = i34;
                                                                                                            i37 = i7;
                                                                                                            z10 = z37;
                                                                                                            f2 = f4;
                                                                                                            bufferInfo2 = bufferInfo;
                                                                                                            str2 = name;
                                                                                                            obj2 = obj;
                                                                                                            i38 = i98;
                                                                                                            j8 = j6;
                                                                                                            j9 = j28;
                                                                                                            j10 = j3;
                                                                                                            j11 = j7;
                                                                                                            mediaFormat = trackFormat;
                                                                                                            i39 = i28;
                                                                                                            if (!z40) {
                                                                                                                i40 = i36;
                                                                                                                try {
                                                                                                                    if (Math.max(i40, i40) / Math.max(i80, i79) < 0.9f) {
                                                                                                                        outputSurface6.changeFragmentShader(createFragmentShader(i79, i80, i14, i40, true, z42 ? 0 : 3), createFragmentShader(i79, i80, i14, i40, false, z42 ? 0 : 3), false);
                                                                                                                    }
                                                                                                                    MediaFormat mediaFormat22 = mediaFormat;
                                                                                                                    mediaCodec10 = getDecoderByFormat(mediaFormat22);
                                                                                                                    mediaCodec10.configure(mediaFormat22, outputSurface6.getSurface(), (MediaCrypto) null, 0);
                                                                                                                    mediaCodec10.start();
                                                                                                                    if (i25 < 21) {
                                                                                                                    }
                                                                                                                    audioRecoder2 = mp4Movie2;
                                                                                                                    this.mediaMuxer = new MP4Builder().createMovie(audioRecoder2, z10, this.outputMimeType.equals(obj2));
                                                                                                                    if (i37 >= 0) {
                                                                                                                    }
                                                                                                                } catch (Exception e56) {
                                                                                                                    exc = e56;
                                                                                                                    i15 = i40;
                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                    mediaCodec = mediaCodec4;
                                                                                                                    i13 = i24;
                                                                                                                    i84 = i29;
                                                                                                                    i2 = i35;
                                                                                                                    z8 = false;
                                                                                                                    i16 = -5;
                                                                                                                    mediaCodec11 = null;
                                                                                                                    audioRecoder = null;
                                                                                                                    outputSurface3 = outputSurface6;
                                                                                                                    z2 = z;
                                                                                                                    mediaCodec9 = mediaCodec11;
                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                    }
                                                                                                                    StringBuilder sb52222222222222222222222222 = new StringBuilder();
                                                                                                                    sb52222222222222222222222222.append("bitrate: ");
                                                                                                                    sb52222222222222222222222222.append(i84);
                                                                                                                    sb52222222222222222222222222.append(" framerate: ");
                                                                                                                    sb52222222222222222222222222.append(i2);
                                                                                                                    sb52222222222222222222222222.append(" size: ");
                                                                                                                    i9 = i15;
                                                                                                                    sb52222222222222222222222222.append(i9);
                                                                                                                    str = "x";
                                                                                                                    sb52222222222222222222222222.append(str);
                                                                                                                    i8 = i14;
                                                                                                                    sb52222222222222222222222222.append(i8);
                                                                                                                    FileLog.e(sb52222222222222222222222222.toString());
                                                                                                                    FileLog.e(exc);
                                                                                                                    mediaCodec4 = mediaCodec;
                                                                                                                    z6 = true;
                                                                                                                    MediaCodec mediaCodec212222222222222222222222222 = mediaCodec9;
                                                                                                                    i17 = i16;
                                                                                                                    mediaCodec10 = mediaCodec212222222222222222222222222;
                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                                    if (mediaCodec10 != null) {
                                                                                                                    }
                                                                                                                    mediaCodec3 = mediaCodec10;
                                                                                                                    i3 = i17;
                                                                                                                    outputSurface2 = outputSurface3;
                                                                                                                    if (outputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                    }
                                                                                                                    if (audioRecoder != null) {
                                                                                                                    }
                                                                                                                    checkConversionCanceled();
                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                    z5 = z8;
                                                                                                                    outputSurface4 = outputSurface2;
                                                                                                                    i81 = i8;
                                                                                                                    str8 = str2;
                                                                                                                    mediaCodec7 = mediaCodec5;
                                                                                                                    inputSurface3 = inputSurface2;
                                                                                                                    i10 = i3;
                                                                                                                    i4 = i9;
                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                    }
                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface4 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface3 != null) {
                                                                                                                    }
                                                                                                                    str3 = str8;
                                                                                                                    if (z5) {
                                                                                                                    }
                                                                                                                } catch (Throwable th69) {
                                                                                                                    th = th69;
                                                                                                                    i82 = i40;
                                                                                                                    outputSurface7 = outputSurface6;
                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                    mediaCodec = mediaCodec4;
                                                                                                                    i81 = i14;
                                                                                                                    i84 = i29;
                                                                                                                    str = "x";
                                                                                                                    i2 = i35;
                                                                                                                    inputSurface = inputSurface2;
                                                                                                                    i3 = -5;
                                                                                                                    z3 = false;
                                                                                                                    mediaCodec2 = null;
                                                                                                                    z2 = z;
                                                                                                                    outputSurface = outputSurface7;
                                                                                                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                                    FileLog.e(th);
                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor != null) {
                                                                                                                    }
                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                    if (mP4Builder != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    i4 = i82;
                                                                                                                    str3 = str2;
                                                                                                                    z5 = z3;
                                                                                                                    z6 = true;
                                                                                                                    if (z5) {
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                            i40 = i36;
                                                                                                            MediaFormat mediaFormat222 = mediaFormat;
                                                                                                            mediaCodec10 = getDecoderByFormat(mediaFormat222);
                                                                                                            mediaCodec10.configure(mediaFormat222, outputSurface6.getSurface(), (MediaCrypto) null, 0);
                                                                                                            mediaCodec10.start();
                                                                                                            if (i25 < 21) {
                                                                                                            }
                                                                                                            audioRecoder2 = mp4Movie2;
                                                                                                            this.mediaMuxer = new MP4Builder().createMovie(audioRecoder2, z10, this.outputMimeType.equals(obj2));
                                                                                                            if (i37 >= 0) {
                                                                                                            }
                                                                                                        } catch (Exception e57) {
                                                                                                            z2 = z;
                                                                                                            exc = e57;
                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                            i2 = i83;
                                                                                                            i14 = i81;
                                                                                                            i15 = i5;
                                                                                                            mediaCodec = mediaCodec12;
                                                                                                            i13 = i24;
                                                                                                            z8 = false;
                                                                                                            i16 = -5;
                                                                                                            mediaCodec8 = null;
                                                                                                            str2 = null;
                                                                                                            outputSurface3 = null;
                                                                                                            audioRecoder = null;
                                                                                                            z4 = false;
                                                                                                            inputSurface2 = null;
                                                                                                            mediaCodec9 = mediaCodec8;
                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                            }
                                                                                                            StringBuilder sb522222222222222222222222222 = new StringBuilder();
                                                                                                            sb522222222222222222222222222.append("bitrate: ");
                                                                                                            sb522222222222222222222222222.append(i84);
                                                                                                            sb522222222222222222222222222.append(" framerate: ");
                                                                                                            sb522222222222222222222222222.append(i2);
                                                                                                            sb522222222222222222222222222.append(" size: ");
                                                                                                            i9 = i15;
                                                                                                            sb522222222222222222222222222.append(i9);
                                                                                                            str = "x";
                                                                                                            sb522222222222222222222222222.append(str);
                                                                                                            i8 = i14;
                                                                                                            sb522222222222222222222222222.append(i8);
                                                                                                            FileLog.e(sb522222222222222222222222222.toString());
                                                                                                            FileLog.e(exc);
                                                                                                            mediaCodec4 = mediaCodec;
                                                                                                            z6 = true;
                                                                                                            MediaCodec mediaCodec2122222222222222222222222222 = mediaCodec9;
                                                                                                            i17 = i16;
                                                                                                            mediaCodec10 = mediaCodec2122222222222222222222222222;
                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                                            if (mediaCodec10 != null) {
                                                                                                            }
                                                                                                            mediaCodec3 = mediaCodec10;
                                                                                                            i3 = i17;
                                                                                                            outputSurface2 = outputSurface3;
                                                                                                            if (outputSurface2 != null) {
                                                                                                            }
                                                                                                            if (inputSurface2 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec4 == null) {
                                                                                                            }
                                                                                                            if (audioRecoder != null) {
                                                                                                            }
                                                                                                            checkConversionCanceled();
                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                            z5 = z8;
                                                                                                            outputSurface4 = outputSurface2;
                                                                                                            i81 = i8;
                                                                                                            str8 = str2;
                                                                                                            mediaCodec7 = mediaCodec5;
                                                                                                            inputSurface3 = inputSurface2;
                                                                                                            i10 = i3;
                                                                                                            i4 = i9;
                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                            if (mediaExtractor2 != null) {
                                                                                                            }
                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                            if (mP4Builder2 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec7 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec6 != null) {
                                                                                                            }
                                                                                                            if (outputSurface4 != null) {
                                                                                                            }
                                                                                                            if (inputSurface3 != null) {
                                                                                                            }
                                                                                                            str3 = str8;
                                                                                                            if (z5) {
                                                                                                            }
                                                                                                        } catch (Throwable th70) {
                                                                                                            z2 = z;
                                                                                                            th = th70;
                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                            i2 = i83;
                                                                                                            i81 = i81;
                                                                                                            i82 = i5;
                                                                                                            mediaCodec = mediaCodec12;
                                                                                                            str = "x";
                                                                                                            i3 = -5;
                                                                                                            inputSurface = null;
                                                                                                            str2 = null;
                                                                                                            z3 = false;
                                                                                                            mediaCodec2 = null;
                                                                                                            outputSurface = null;
                                                                                                            z4 = false;
                                                                                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                                            FileLog.e(th);
                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                            if (mediaExtractor != null) {
                                                                                                            }
                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                            if (mP4Builder != null) {
                                                                                                            }
                                                                                                            if (mediaCodec != null) {
                                                                                                            }
                                                                                                            if (mediaCodec2 != null) {
                                                                                                            }
                                                                                                            if (outputSurface != null) {
                                                                                                            }
                                                                                                            if (inputSurface != null) {
                                                                                                            }
                                                                                                            i4 = i82;
                                                                                                            str3 = str2;
                                                                                                            z5 = z3;
                                                                                                            z6 = true;
                                                                                                            if (z5) {
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                } else {
                                                                                                    i28 = i23;
                                                                                                }
                                                                                                i29 = i20;
                                                                                                name = mediaCodec12.getName();
                                                                                                z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                                                                FileLog.d("selected encoder " + name);
                                                                                                mediaCodec12.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                                                                int i982 = i22;
                                                                                                inputSurface = new InputSurface(mediaCodec12.createInputSurface());
                                                                                                inputSurface.makeCurrent();
                                                                                                mediaCodec12.start();
                                                                                                if (hDRInfo2 == null) {
                                                                                                }
                                                                                                hDRInfo = hDRInfo2;
                                                                                                i34 = i5;
                                                                                                mediaCodecVideoConvertor = null;
                                                                                                i35 = i83;
                                                                                                i13 = i80;
                                                                                                outputSurface6 = new OutputSurface(savedFilterState, null, str16, str17, arrayList, cropState3, i81, i34, i79, i13, i21, i83, false, num, num2, hDRInfo, convertVideoParams);
                                                                                                if (i25 >= 24) {
                                                                                                    if (hDRInfo.getHDRType() != 0) {
                                                                                                    }
                                                                                                }
                                                                                                mediaCodec4 = mediaCodec12;
                                                                                                i14 = i81;
                                                                                                inputSurface2 = inputSurface;
                                                                                                i36 = i34;
                                                                                                i37 = i7;
                                                                                                z10 = z37;
                                                                                                f2 = f4;
                                                                                                bufferInfo2 = bufferInfo;
                                                                                                str2 = name;
                                                                                                obj2 = obj;
                                                                                                i38 = i982;
                                                                                                j8 = j6;
                                                                                                j9 = j28;
                                                                                                j10 = j3;
                                                                                                j11 = j7;
                                                                                                mediaFormat = trackFormat;
                                                                                                i39 = i28;
                                                                                                if (!z40) {
                                                                                                }
                                                                                                i40 = i36;
                                                                                                MediaFormat mediaFormat2222 = mediaFormat;
                                                                                                mediaCodec10 = getDecoderByFormat(mediaFormat2222);
                                                                                                mediaCodec10.configure(mediaFormat2222, outputSurface6.getSurface(), (MediaCrypto) null, 0);
                                                                                                mediaCodec10.start();
                                                                                                if (i25 < 21) {
                                                                                                }
                                                                                                audioRecoder2 = mp4Movie2;
                                                                                                this.mediaMuxer = new MP4Builder().createMovie(audioRecoder2, z10, this.outputMimeType.equals(obj2));
                                                                                                if (i37 >= 0) {
                                                                                                }
                                                                                            }
                                                                                        } else {
                                                                                            str10 = "mime";
                                                                                            mp4Movie2 = mp4Movie;
                                                                                            i26 = 0;
                                                                                            i27 = 0;
                                                                                        }
                                                                                        z9 = false;
                                                                                        if (i25 >= 23) {
                                                                                        }
                                                                                        i29 = i20;
                                                                                        name = mediaCodec12.getName();
                                                                                        z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                                                        FileLog.d("selected encoder " + name);
                                                                                        mediaCodec12.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                                                        int i9822 = i22;
                                                                                        inputSurface = new InputSurface(mediaCodec12.createInputSurface());
                                                                                        inputSurface.makeCurrent();
                                                                                        mediaCodec12.start();
                                                                                        if (hDRInfo2 == null) {
                                                                                        }
                                                                                        hDRInfo = hDRInfo2;
                                                                                        i34 = i5;
                                                                                        mediaCodecVideoConvertor = null;
                                                                                        i35 = i83;
                                                                                        i13 = i80;
                                                                                        outputSurface6 = new OutputSurface(savedFilterState, null, str16, str17, arrayList, cropState3, i81, i34, i79, i13, i21, i83, false, num, num2, hDRInfo, convertVideoParams);
                                                                                        if (i25 >= 24) {
                                                                                        }
                                                                                        mediaCodec4 = mediaCodec12;
                                                                                        i14 = i81;
                                                                                        inputSurface2 = inputSurface;
                                                                                        i36 = i34;
                                                                                        i37 = i7;
                                                                                        z10 = z37;
                                                                                        f2 = f4;
                                                                                        bufferInfo2 = bufferInfo;
                                                                                        str2 = name;
                                                                                        obj2 = obj;
                                                                                        i38 = i9822;
                                                                                        j8 = j6;
                                                                                        j9 = j28;
                                                                                        j10 = j3;
                                                                                        j11 = j7;
                                                                                        mediaFormat = trackFormat;
                                                                                        i39 = i28;
                                                                                        if (!z40) {
                                                                                        }
                                                                                        i40 = i36;
                                                                                        MediaFormat mediaFormat22222 = mediaFormat;
                                                                                        mediaCodec10 = getDecoderByFormat(mediaFormat22222);
                                                                                        mediaCodec10.configure(mediaFormat22222, outputSurface6.getSurface(), (MediaCrypto) null, 0);
                                                                                        mediaCodec10.start();
                                                                                        if (i25 < 21) {
                                                                                        }
                                                                                        audioRecoder2 = mp4Movie2;
                                                                                        this.mediaMuxer = new MP4Builder().createMovie(audioRecoder2, z10, this.outputMimeType.equals(obj2));
                                                                                        if (i37 >= 0) {
                                                                                        }
                                                                                    }
                                                                                    createByCodecName = null;
                                                                                    if (createByCodecName == null) {
                                                                                    }
                                                                                    mediaCodec12 = createByCodecName;
                                                                                    if (BuildVars.LOGS_ENABLED) {
                                                                                    }
                                                                                    createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i22, i23);
                                                                                    createVideoFormat.setInteger("color-format", 2130708361);
                                                                                    createVideoFormat.setInteger("bitrate", i20);
                                                                                    if (z43) {
                                                                                        createVideoFormat.setInteger("bitrate-mode", 2);
                                                                                    }
                                                                                    createVideoFormat.setInteger("max-bitrate", i20);
                                                                                    createVideoFormat.setInteger("frame-rate", i83);
                                                                                    createVideoFormat.setInteger("i-frame-interval", 1);
                                                                                    i25 = Build.VERSION.SDK_INT;
                                                                                    if (i25 >= 24) {
                                                                                    }
                                                                                    z9 = false;
                                                                                    if (i25 >= 23) {
                                                                                    }
                                                                                    i29 = i20;
                                                                                    name = mediaCodec12.getName();
                                                                                    z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                                                    FileLog.d("selected encoder " + name);
                                                                                    mediaCodec12.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                                                    int i98222 = i22;
                                                                                    inputSurface = new InputSurface(mediaCodec12.createInputSurface());
                                                                                    inputSurface.makeCurrent();
                                                                                    mediaCodec12.start();
                                                                                    if (hDRInfo2 == null) {
                                                                                    }
                                                                                    hDRInfo = hDRInfo2;
                                                                                    i34 = i5;
                                                                                    mediaCodecVideoConvertor = null;
                                                                                    i35 = i83;
                                                                                    i13 = i80;
                                                                                    outputSurface6 = new OutputSurface(savedFilterState, null, str16, str17, arrayList, cropState3, i81, i34, i79, i13, i21, i83, false, num, num2, hDRInfo, convertVideoParams);
                                                                                    if (i25 >= 24) {
                                                                                    }
                                                                                    mediaCodec4 = mediaCodec12;
                                                                                    i14 = i81;
                                                                                    inputSurface2 = inputSurface;
                                                                                    i36 = i34;
                                                                                    i37 = i7;
                                                                                    z10 = z37;
                                                                                    f2 = f4;
                                                                                    bufferInfo2 = bufferInfo;
                                                                                    str2 = name;
                                                                                    obj2 = obj;
                                                                                    i38 = i98222;
                                                                                    j8 = j6;
                                                                                    j9 = j28;
                                                                                    j10 = j3;
                                                                                    j11 = j7;
                                                                                    mediaFormat = trackFormat;
                                                                                    i39 = i28;
                                                                                    if (!z40) {
                                                                                    }
                                                                                    i40 = i36;
                                                                                    MediaFormat mediaFormat222222 = mediaFormat;
                                                                                    mediaCodec10 = getDecoderByFormat(mediaFormat222222);
                                                                                    mediaCodec10.configure(mediaFormat222222, outputSurface6.getSurface(), (MediaCrypto) null, 0);
                                                                                    mediaCodec10.start();
                                                                                    if (i25 < 21) {
                                                                                    }
                                                                                    audioRecoder2 = mp4Movie2;
                                                                                    this.mediaMuxer = new MP4Builder().createMovie(audioRecoder2, z10, this.outputMimeType.equals(obj2));
                                                                                    if (i37 >= 0) {
                                                                                    }
                                                                                } catch (Exception e58) {
                                                                                    i13 = findTrack;
                                                                                    mediaCodecVideoConvertor = this;
                                                                                    i2 = i83;
                                                                                    i14 = i81;
                                                                                    i15 = i5;
                                                                                    z8 = false;
                                                                                    z2 = z;
                                                                                    exc = e58;
                                                                                    i84 = i20;
                                                                                    mediaCodec = null;
                                                                                    i16 = -5;
                                                                                    mediaCodec8 = null;
                                                                                    str2 = null;
                                                                                    outputSurface3 = null;
                                                                                    audioRecoder = null;
                                                                                    z4 = false;
                                                                                    inputSurface2 = null;
                                                                                    mediaCodec9 = mediaCodec8;
                                                                                    if (exc instanceof IllegalStateException) {
                                                                                    }
                                                                                    StringBuilder sb5222222222222222222222222222 = new StringBuilder();
                                                                                    sb5222222222222222222222222222.append("bitrate: ");
                                                                                    sb5222222222222222222222222222.append(i84);
                                                                                    sb5222222222222222222222222222.append(" framerate: ");
                                                                                    sb5222222222222222222222222222.append(i2);
                                                                                    sb5222222222222222222222222222.append(" size: ");
                                                                                    i9 = i15;
                                                                                    sb5222222222222222222222222222.append(i9);
                                                                                    str = "x";
                                                                                    sb5222222222222222222222222222.append(str);
                                                                                    i8 = i14;
                                                                                    sb5222222222222222222222222222.append(i8);
                                                                                    FileLog.e(sb5222222222222222222222222222.toString());
                                                                                    FileLog.e(exc);
                                                                                    mediaCodec4 = mediaCodec;
                                                                                    z6 = true;
                                                                                    MediaCodec mediaCodec21222222222222222222222222222 = mediaCodec9;
                                                                                    i17 = i16;
                                                                                    mediaCodec10 = mediaCodec21222222222222222222222222222;
                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                                    if (mediaCodec10 != null) {
                                                                                    }
                                                                                    mediaCodec3 = mediaCodec10;
                                                                                    i3 = i17;
                                                                                    outputSurface2 = outputSurface3;
                                                                                    if (outputSurface2 != null) {
                                                                                    }
                                                                                    if (inputSurface2 != null) {
                                                                                    }
                                                                                    if (mediaCodec4 == null) {
                                                                                    }
                                                                                    if (audioRecoder != null) {
                                                                                    }
                                                                                    checkConversionCanceled();
                                                                                    mediaCodec6 = mediaCodec3;
                                                                                    z5 = z8;
                                                                                    outputSurface4 = outputSurface2;
                                                                                    i81 = i8;
                                                                                    str8 = str2;
                                                                                    mediaCodec7 = mediaCodec5;
                                                                                    inputSurface3 = inputSurface2;
                                                                                    i10 = i3;
                                                                                    i4 = i9;
                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                    if (mediaExtractor2 != null) {
                                                                                    }
                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                    if (mP4Builder2 != null) {
                                                                                    }
                                                                                    if (mediaCodec7 != null) {
                                                                                    }
                                                                                    if (mediaCodec6 != null) {
                                                                                    }
                                                                                    if (outputSurface4 != null) {
                                                                                    }
                                                                                    if (inputSurface3 != null) {
                                                                                    }
                                                                                    str3 = str8;
                                                                                    if (z5) {
                                                                                    }
                                                                                } catch (Throwable th71) {
                                                                                    z2 = z;
                                                                                    mediaCodecVideoConvertor = this;
                                                                                    i2 = i83;
                                                                                    i11 = i81;
                                                                                    i12 = i5;
                                                                                    i3 = -5;
                                                                                    th = th71;
                                                                                    i84 = i20;
                                                                                    i81 = i11;
                                                                                    str = "x";
                                                                                    i82 = i12;
                                                                                    mediaCodec = null;
                                                                                    inputSurface = null;
                                                                                    str2 = null;
                                                                                    z3 = false;
                                                                                    mediaCodec2 = null;
                                                                                    outputSurface = null;
                                                                                    z4 = false;
                                                                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                                                    FileLog.e(th);
                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                    if (mediaExtractor != null) {
                                                                                    }
                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                    if (mP4Builder != null) {
                                                                                    }
                                                                                    if (mediaCodec != null) {
                                                                                    }
                                                                                    if (mediaCodec2 != null) {
                                                                                    }
                                                                                    if (outputSurface != null) {
                                                                                    }
                                                                                    if (inputSurface != null) {
                                                                                    }
                                                                                    i4 = i82;
                                                                                    str3 = str2;
                                                                                    z5 = z3;
                                                                                    z6 = true;
                                                                                    if (z5) {
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        if (i37 >= 0) {
                                                                        }
                                                                    } catch (Exception e59) {
                                                                        e = e59;
                                                                    }
                                                                } catch (Exception e60) {
                                                                    exc = e60;
                                                                    i15 = i40;
                                                                    mediaCodec11 = mediaCodec10;
                                                                    audioRecoder = audioRecoder2;
                                                                    mediaCodec = mediaCodec4;
                                                                    i13 = i24;
                                                                    i84 = i29;
                                                                    i2 = i35;
                                                                    z8 = false;
                                                                    i16 = -5;
                                                                    outputSurface3 = outputSurface6;
                                                                    z2 = z;
                                                                    mediaCodec9 = mediaCodec11;
                                                                    if ((exc instanceof IllegalStateException) && !z2) {
                                                                        z8 = true;
                                                                    }
                                                                    StringBuilder sb52222222222222222222222222222 = new StringBuilder();
                                                                    sb52222222222222222222222222222.append("bitrate: ");
                                                                    sb52222222222222222222222222222.append(i84);
                                                                    sb52222222222222222222222222222.append(" framerate: ");
                                                                    sb52222222222222222222222222222.append(i2);
                                                                    sb52222222222222222222222222222.append(" size: ");
                                                                    i9 = i15;
                                                                    sb52222222222222222222222222222.append(i9);
                                                                    str = "x";
                                                                    sb52222222222222222222222222222.append(str);
                                                                    i8 = i14;
                                                                    sb52222222222222222222222222222.append(i8);
                                                                    FileLog.e(sb52222222222222222222222222222.toString());
                                                                    FileLog.e(exc);
                                                                    mediaCodec4 = mediaCodec;
                                                                    z6 = true;
                                                                    MediaCodec mediaCodec212222222222222222222222222222 = mediaCodec9;
                                                                    i17 = i16;
                                                                    mediaCodec10 = mediaCodec212222222222222222222222222222;
                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                                    if (mediaCodec10 != null) {
                                                                        mediaCodec10.stop();
                                                                        mediaCodec10.release();
                                                                    }
                                                                    mediaCodec3 = mediaCodec10;
                                                                    i3 = i17;
                                                                    outputSurface2 = outputSurface3;
                                                                    if (outputSurface2 != null) {
                                                                    }
                                                                    if (inputSurface2 != null) {
                                                                    }
                                                                    if (mediaCodec4 == null) {
                                                                    }
                                                                    if (audioRecoder != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    mediaCodec6 = mediaCodec3;
                                                                    z5 = z8;
                                                                    outputSurface4 = outputSurface2;
                                                                    i81 = i8;
                                                                    str8 = str2;
                                                                    mediaCodec7 = mediaCodec5;
                                                                    inputSurface3 = inputSurface2;
                                                                    i10 = i3;
                                                                    i4 = i9;
                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                    if (mediaExtractor2 != null) {
                                                                    }
                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                    if (mP4Builder2 != null) {
                                                                    }
                                                                    if (mediaCodec7 != null) {
                                                                    }
                                                                    if (mediaCodec6 != null) {
                                                                    }
                                                                    if (outputSurface4 != null) {
                                                                    }
                                                                    if (inputSurface3 != null) {
                                                                    }
                                                                    str3 = str8;
                                                                    if (z5) {
                                                                    }
                                                                }
                                                            } catch (Throwable th72) {
                                                                th = th72;
                                                            }
                                                            mediaCodec10.configure(mediaFormat222222, outputSurface6.getSurface(), (MediaCrypto) null, 0);
                                                            mediaCodec10.start();
                                                            if (i25 < 21) {
                                                            }
                                                            audioRecoder2 = mp4Movie2;
                                                            this.mediaMuxer = new MP4Builder().createMovie(audioRecoder2, z10, this.outputMimeType.equals(obj2));
                                                        } catch (Exception e61) {
                                                            e = e61;
                                                            i15 = i40;
                                                            outputSurface9 = outputSurface6;
                                                            mediaCodec13 = mediaCodec10;
                                                            mediaCodecVideoConvertor = this;
                                                        } catch (Throwable th73) {
                                                            th2 = th73;
                                                            i41 = i40;
                                                            outputSurface8 = outputSurface6;
                                                            mediaCodec14 = mediaCodec10;
                                                            mediaCodecVideoConvertor = this;
                                                        }
                                                        mediaCodec10 = getDecoderByFormat(mediaFormat222222);
                                                    } catch (Exception e62) {
                                                        e = e62;
                                                        i15 = i40;
                                                        mediaCodecVideoConvertor = this;
                                                        mediaCodec = mediaCodec4;
                                                        i13 = i24;
                                                        i2 = i35;
                                                        z2 = z;
                                                        outputSurface5 = outputSurface6;
                                                        i84 = i29;
                                                        z8 = false;
                                                        i16 = -5;
                                                        mediaCodec13 = null;
                                                    } catch (Throwable th74) {
                                                        th2 = th74;
                                                        int i110 = i40;
                                                        mediaCodecVideoConvertor = this;
                                                        mediaCodec = mediaCodec4;
                                                        i2 = i35;
                                                        z2 = z;
                                                        inputSurface = inputSurface2;
                                                        outputSurface3 = outputSurface6;
                                                        i81 = i14;
                                                        i84 = i29;
                                                        str = "x";
                                                        i82 = i110;
                                                        i3 = -5;
                                                        z3 = false;
                                                        mediaCodec2 = null;
                                                        th = th2;
                                                        outputSurface = outputSurface3;
                                                        FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                        FileLog.e(th);
                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                        if (mediaExtractor != null) {
                                                        }
                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                        if (mP4Builder != null) {
                                                        }
                                                        if (mediaCodec != null) {
                                                        }
                                                        if (mediaCodec2 != null) {
                                                        }
                                                        if (outputSurface != null) {
                                                        }
                                                        if (inputSurface != null) {
                                                        }
                                                        i4 = i82;
                                                        str3 = str2;
                                                        z5 = z3;
                                                        z6 = true;
                                                        if (z5) {
                                                        }
                                                    }
                                                    outputSurface6 = new OutputSurface(savedFilterState, null, str16, str17, arrayList, cropState3, i81, i34, i79, i13, i21, i83, false, num, num2, hDRInfo, convertVideoParams);
                                                    if (i25 >= 24) {
                                                    }
                                                    mediaCodec4 = mediaCodec12;
                                                    i14 = i81;
                                                    inputSurface2 = inputSurface;
                                                    i36 = i34;
                                                    i37 = i7;
                                                    z10 = z37;
                                                    f2 = f4;
                                                    bufferInfo2 = bufferInfo;
                                                    str2 = name;
                                                    obj2 = obj;
                                                    i38 = i98222;
                                                    j8 = j6;
                                                    j9 = j28;
                                                    j10 = j3;
                                                    j11 = j7;
                                                    mediaFormat = trackFormat;
                                                    i39 = i28;
                                                    if (!z40) {
                                                    }
                                                    i40 = i36;
                                                    MediaFormat mediaFormat2222222 = mediaFormat;
                                                } catch (Exception e63) {
                                                    e = e63;
                                                    mediaCodec = mediaCodec12;
                                                    i14 = i81;
                                                    inputSurface4 = inputSurface;
                                                    i15 = i34;
                                                    mediaCodecVideoConvertor = this;
                                                    str2 = name;
                                                    i13 = i24;
                                                    i2 = i35;
                                                    z2 = z;
                                                    inputSurface2 = inputSurface4;
                                                    i84 = i29;
                                                    z8 = false;
                                                    i16 = -5;
                                                    mediaCodec13 = null;
                                                    outputSurface5 = null;
                                                    audioRecoder = null;
                                                    outputSurface3 = outputSurface5;
                                                    exc = e;
                                                    mediaCodec9 = mediaCodec13;
                                                    if (exc instanceof IllegalStateException) {
                                                    }
                                                    StringBuilder sb522222222222222222222222222222 = new StringBuilder();
                                                    sb522222222222222222222222222222.append("bitrate: ");
                                                    sb522222222222222222222222222222.append(i84);
                                                    sb522222222222222222222222222222.append(" framerate: ");
                                                    sb522222222222222222222222222222.append(i2);
                                                    sb522222222222222222222222222222.append(" size: ");
                                                    i9 = i15;
                                                    sb522222222222222222222222222222.append(i9);
                                                    str = "x";
                                                    sb522222222222222222222222222222.append(str);
                                                    i8 = i14;
                                                    sb522222222222222222222222222222.append(i8);
                                                    FileLog.e(sb522222222222222222222222222222.toString());
                                                    FileLog.e(exc);
                                                    mediaCodec4 = mediaCodec;
                                                    z6 = true;
                                                    MediaCodec mediaCodec2122222222222222222222222222222 = mediaCodec9;
                                                    i17 = i16;
                                                    mediaCodec10 = mediaCodec2122222222222222222222222222222;
                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                                    if (mediaCodec10 != null) {
                                                    }
                                                    mediaCodec3 = mediaCodec10;
                                                    i3 = i17;
                                                    outputSurface2 = outputSurface3;
                                                    if (outputSurface2 != null) {
                                                    }
                                                    if (inputSurface2 != null) {
                                                    }
                                                    if (mediaCodec4 == null) {
                                                    }
                                                    if (audioRecoder != null) {
                                                    }
                                                    checkConversionCanceled();
                                                    mediaCodec6 = mediaCodec3;
                                                    z5 = z8;
                                                    outputSurface4 = outputSurface2;
                                                    i81 = i8;
                                                    str8 = str2;
                                                    mediaCodec7 = mediaCodec5;
                                                    inputSurface3 = inputSurface2;
                                                    i10 = i3;
                                                    i4 = i9;
                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor2 != null) {
                                                    }
                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder2 != null) {
                                                    }
                                                    if (mediaCodec7 != null) {
                                                    }
                                                    if (mediaCodec6 != null) {
                                                    }
                                                    if (outputSurface4 != null) {
                                                    }
                                                    if (inputSurface3 != null) {
                                                    }
                                                    str3 = str8;
                                                    if (z5) {
                                                    }
                                                } catch (Throwable th75) {
                                                    th = th75;
                                                    mediaCodec = mediaCodec12;
                                                    i32 = i81;
                                                    i33 = i34;
                                                    mediaCodecVideoConvertor = this;
                                                    str2 = name;
                                                    i2 = i35;
                                                    z2 = z;
                                                    th = th;
                                                    i81 = i32;
                                                    i84 = i29;
                                                    str = "x";
                                                    i82 = i33;
                                                    i3 = -5;
                                                    z3 = false;
                                                    mediaCodec2 = null;
                                                    outputSurface = null;
                                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                                    FileLog.e(th);
                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor != null) {
                                                    }
                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder != null) {
                                                    }
                                                    if (mediaCodec != null) {
                                                    }
                                                    if (mediaCodec2 != null) {
                                                    }
                                                    if (outputSurface != null) {
                                                    }
                                                    if (inputSurface != null) {
                                                    }
                                                    i4 = i82;
                                                    str3 = str2;
                                                    z5 = z3;
                                                    z6 = true;
                                                    if (z5) {
                                                    }
                                                }
                                                inputSurface.makeCurrent();
                                                mediaCodec12.start();
                                                if (hDRInfo2 == null) {
                                                }
                                                hDRInfo = hDRInfo2;
                                                i34 = i5;
                                                mediaCodecVideoConvertor = null;
                                                i35 = i83;
                                                i13 = i80;
                                            } catch (Exception e64) {
                                                e = e64;
                                                mediaCodec = mediaCodec12;
                                                inputSurface4 = inputSurface;
                                                mediaCodecVideoConvertor = this;
                                                i2 = i83;
                                                i14 = i81;
                                                i15 = i5;
                                                str2 = name;
                                                i13 = i24;
                                            } catch (Throwable th76) {
                                                th = th76;
                                                mediaCodec = mediaCodec12;
                                                mediaCodecVideoConvertor = this;
                                                i2 = i83;
                                                i32 = i81;
                                                i33 = i5;
                                                str2 = name;
                                            }
                                            mediaCodec12.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                            int i982222 = i22;
                                            inputSurface = new InputSurface(mediaCodec12.createInputSurface());
                                        } catch (Exception e65) {
                                            e = e65;
                                            mediaCodec = mediaCodec12;
                                            mediaCodecVideoConvertor = this;
                                            i2 = i83;
                                            i14 = i81;
                                            i15 = i5;
                                            str2 = name;
                                            i13 = i24;
                                            z2 = z;
                                            exc = e;
                                            i84 = i29;
                                            z8 = false;
                                            i16 = -5;
                                            mediaCodec8 = null;
                                            outputSurface3 = null;
                                            audioRecoder = null;
                                            inputSurface2 = null;
                                            mediaCodec9 = mediaCodec8;
                                            if (exc instanceof IllegalStateException) {
                                            }
                                            StringBuilder sb5222222222222222222222222222222 = new StringBuilder();
                                            sb5222222222222222222222222222222.append("bitrate: ");
                                            sb5222222222222222222222222222222.append(i84);
                                            sb5222222222222222222222222222222.append(" framerate: ");
                                            sb5222222222222222222222222222222.append(i2);
                                            sb5222222222222222222222222222222.append(" size: ");
                                            i9 = i15;
                                            sb5222222222222222222222222222222.append(i9);
                                            str = "x";
                                            sb5222222222222222222222222222222.append(str);
                                            i8 = i14;
                                            sb5222222222222222222222222222222.append(i8);
                                            FileLog.e(sb5222222222222222222222222222222.toString());
                                            FileLog.e(exc);
                                            mediaCodec4 = mediaCodec;
                                            z6 = true;
                                            MediaCodec mediaCodec21222222222222222222222222222222 = mediaCodec9;
                                            i17 = i16;
                                            mediaCodec10 = mediaCodec21222222222222222222222222222222;
                                            mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                            if (mediaCodec10 != null) {
                                            }
                                            mediaCodec3 = mediaCodec10;
                                            i3 = i17;
                                            outputSurface2 = outputSurface3;
                                            if (outputSurface2 != null) {
                                            }
                                            if (inputSurface2 != null) {
                                            }
                                            if (mediaCodec4 == null) {
                                            }
                                            if (audioRecoder != null) {
                                            }
                                            checkConversionCanceled();
                                            mediaCodec6 = mediaCodec3;
                                            z5 = z8;
                                            outputSurface4 = outputSurface2;
                                            i81 = i8;
                                            str8 = str2;
                                            mediaCodec7 = mediaCodec5;
                                            inputSurface3 = inputSurface2;
                                            i10 = i3;
                                            i4 = i9;
                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor2 != null) {
                                            }
                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder2 != null) {
                                            }
                                            if (mediaCodec7 != null) {
                                            }
                                            if (mediaCodec6 != null) {
                                            }
                                            if (outputSurface4 != null) {
                                            }
                                            if (inputSurface3 != null) {
                                            }
                                            str3 = str8;
                                            if (z5) {
                                            }
                                        } catch (Throwable th77) {
                                            th = th77;
                                            mediaCodec = mediaCodec12;
                                            mediaCodecVideoConvertor = this;
                                            i2 = i83;
                                            i30 = i81;
                                            i31 = i5;
                                            str2 = name;
                                            z2 = z;
                                            th = th;
                                            i81 = i30;
                                            i84 = i29;
                                            str = "x";
                                            i82 = i31;
                                            i3 = -5;
                                            inputSurface = null;
                                            z3 = false;
                                            mediaCodec2 = null;
                                            outputSurface = null;
                                            FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                            FileLog.e(th);
                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor != null) {
                                            }
                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder != null) {
                                            }
                                            if (mediaCodec != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            i4 = i82;
                                            str3 = str2;
                                            z5 = z3;
                                            z6 = true;
                                            if (z5) {
                                            }
                                        }
                                        FileLog.d("selected encoder " + name);
                                    } catch (Exception e66) {
                                        e = e66;
                                        str2 = name;
                                        mediaCodecVideoConvertor = this;
                                        i2 = i83;
                                        i14 = i81;
                                        i15 = i5;
                                        mediaCodec = mediaCodec12;
                                    } catch (Throwable th78) {
                                        th = th78;
                                        str2 = name;
                                        mediaCodecVideoConvertor = this;
                                        i2 = i83;
                                        i30 = i81;
                                        i31 = i5;
                                        mediaCodec = mediaCodec12;
                                    }
                                    z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                } catch (Exception e67) {
                                    str2 = name;
                                    mediaCodecVideoConvertor = this;
                                    i2 = i83;
                                    i14 = i81;
                                    i15 = i5;
                                    mediaCodec = mediaCodec12;
                                    i13 = i24;
                                    z2 = z;
                                    exc = e67;
                                    i84 = i29;
                                    z8 = false;
                                    i16 = -5;
                                    mediaCodec8 = null;
                                    outputSurface3 = null;
                                    audioRecoder = null;
                                    z4 = false;
                                    inputSurface2 = null;
                                    mediaCodec9 = mediaCodec8;
                                    if (exc instanceof IllegalStateException) {
                                    }
                                    StringBuilder sb52222222222222222222222222222222 = new StringBuilder();
                                    sb52222222222222222222222222222222.append("bitrate: ");
                                    sb52222222222222222222222222222222.append(i84);
                                    sb52222222222222222222222222222222.append(" framerate: ");
                                    sb52222222222222222222222222222222.append(i2);
                                    sb52222222222222222222222222222222.append(" size: ");
                                    i9 = i15;
                                    sb52222222222222222222222222222222.append(i9);
                                    str = "x";
                                    sb52222222222222222222222222222222.append(str);
                                    i8 = i14;
                                    sb52222222222222222222222222222222.append(i8);
                                    FileLog.e(sb52222222222222222222222222222222.toString());
                                    FileLog.e(exc);
                                    mediaCodec4 = mediaCodec;
                                    z6 = true;
                                    MediaCodec mediaCodec212222222222222222222222222222222 = mediaCodec9;
                                    i17 = i16;
                                    mediaCodec10 = mediaCodec212222222222222222222222222222222;
                                    mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                    if (mediaCodec10 != null) {
                                    }
                                    mediaCodec3 = mediaCodec10;
                                    i3 = i17;
                                    outputSurface2 = outputSurface3;
                                    if (outputSurface2 != null) {
                                    }
                                    if (inputSurface2 != null) {
                                    }
                                    if (mediaCodec4 == null) {
                                    }
                                    if (audioRecoder != null) {
                                    }
                                    checkConversionCanceled();
                                    mediaCodec6 = mediaCodec3;
                                    z5 = z8;
                                    outputSurface4 = outputSurface2;
                                    i81 = i8;
                                    str8 = str2;
                                    mediaCodec7 = mediaCodec5;
                                    inputSurface3 = inputSurface2;
                                    i10 = i3;
                                    i4 = i9;
                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor2 != null) {
                                    }
                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                    if (mP4Builder2 != null) {
                                    }
                                    if (mediaCodec7 != null) {
                                    }
                                    if (mediaCodec6 != null) {
                                    }
                                    if (outputSurface4 != null) {
                                    }
                                    if (inputSurface3 != null) {
                                    }
                                    str3 = str8;
                                    if (z5) {
                                    }
                                } catch (Throwable th79) {
                                    str2 = name;
                                    mediaCodecVideoConvertor = this;
                                    i2 = i83;
                                    mediaCodec = mediaCodec12;
                                    z2 = z;
                                    th = th79;
                                    i81 = i81;
                                    i84 = i29;
                                    str = "x";
                                    i82 = i5;
                                    i3 = -5;
                                    inputSurface = null;
                                    z3 = false;
                                    mediaCodec2 = null;
                                    outputSurface = null;
                                    z4 = false;
                                    FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                    FileLog.e(th);
                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                    if (mP4Builder != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface != null) {
                                    }
                                    i4 = i82;
                                    str3 = str2;
                                    z5 = z3;
                                    z6 = true;
                                    if (z5) {
                                    }
                                }
                                name = mediaCodec12.getName();
                            } catch (Exception e68) {
                                mediaCodecVideoConvertor = this;
                                i2 = i83;
                                i14 = i81;
                                i15 = i5;
                                mediaCodec = mediaCodec12;
                                i13 = i24;
                                z2 = z;
                                exc = e68;
                                i84 = i29;
                                z8 = false;
                                i16 = -5;
                                mediaCodec8 = null;
                                str2 = null;
                                outputSurface3 = null;
                                audioRecoder = null;
                                z4 = false;
                                inputSurface2 = null;
                                mediaCodec9 = mediaCodec8;
                                if (exc instanceof IllegalStateException) {
                                }
                                StringBuilder sb522222222222222222222222222222222 = new StringBuilder();
                                sb522222222222222222222222222222222.append("bitrate: ");
                                sb522222222222222222222222222222222.append(i84);
                                sb522222222222222222222222222222222.append(" framerate: ");
                                sb522222222222222222222222222222222.append(i2);
                                sb522222222222222222222222222222222.append(" size: ");
                                i9 = i15;
                                sb522222222222222222222222222222222.append(i9);
                                str = "x";
                                sb522222222222222222222222222222222.append(str);
                                i8 = i14;
                                sb522222222222222222222222222222222.append(i8);
                                FileLog.e(sb522222222222222222222222222222222.toString());
                                FileLog.e(exc);
                                mediaCodec4 = mediaCodec;
                                z6 = true;
                                MediaCodec mediaCodec2122222222222222222222222222222222 = mediaCodec9;
                                i17 = i16;
                                mediaCodec10 = mediaCodec2122222222222222222222222222222222;
                                mediaCodecVideoConvertor.extractor.unselectTrack(i13);
                                if (mediaCodec10 != null) {
                                }
                                mediaCodec3 = mediaCodec10;
                                i3 = i17;
                                outputSurface2 = outputSurface3;
                                if (outputSurface2 != null) {
                                }
                                if (inputSurface2 != null) {
                                }
                                if (mediaCodec4 == null) {
                                }
                                if (audioRecoder != null) {
                                }
                                checkConversionCanceled();
                                mediaCodec6 = mediaCodec3;
                                z5 = z8;
                                outputSurface4 = outputSurface2;
                                i81 = i8;
                                str8 = str2;
                                mediaCodec7 = mediaCodec5;
                                inputSurface3 = inputSurface2;
                                i10 = i3;
                                i4 = i9;
                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor2 != null) {
                                }
                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder2 != null) {
                                }
                                if (mediaCodec7 != null) {
                                }
                                if (mediaCodec6 != null) {
                                }
                                if (outputSurface4 != null) {
                                }
                                if (inputSurface3 != null) {
                                }
                                str3 = str8;
                                if (z5) {
                                }
                            } catch (Throwable th80) {
                                mediaCodecVideoConvertor = this;
                                i2 = i83;
                                mediaCodec = mediaCodec12;
                                z2 = z;
                                th = th80;
                                i81 = i81;
                                i84 = i29;
                                str = "x";
                                i82 = i5;
                                i3 = -5;
                                inputSurface = null;
                                str2 = null;
                                z3 = false;
                                mediaCodec2 = null;
                                outputSurface = null;
                                z4 = false;
                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i4 = i82;
                                str3 = str2;
                                z5 = z3;
                                z6 = true;
                                if (z5) {
                                }
                            }
                            if (cropState3 == null) {
                            }
                            i21 = i78;
                            i22 = i81;
                            i23 = i5;
                            if (str9 != null) {
                            }
                            createByCodecName = null;
                            if (createByCodecName == null) {
                            }
                            mediaCodec12 = createByCodecName;
                            if (BuildVars.LOGS_ENABLED) {
                            }
                            createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i22, i23);
                            createVideoFormat.setInteger("color-format", 2130708361);
                            createVideoFormat.setInteger("bitrate", i20);
                            if (z43) {
                            }
                            createVideoFormat.setInteger("max-bitrate", i20);
                            createVideoFormat.setInteger("frame-rate", i83);
                            createVideoFormat.setInteger("i-frame-interval", 1);
                            i25 = Build.VERSION.SDK_INT;
                            if (i25 >= 24) {
                            }
                            z9 = false;
                            if (i25 >= 23) {
                            }
                            i29 = i20;
                        } else {
                            z2 = z;
                            mediaCodecVideoConvertor = this;
                            i2 = i83;
                            i8 = i81;
                            i9 = i5;
                            str = "x";
                            i3 = -5;
                            z8 = false;
                            i84 = i84;
                            mediaCodec3 = null;
                            outputSurface2 = null;
                            mediaCodec4 = null;
                            str2 = null;
                            z6 = false;
                            audioRecoder = null;
                            z4 = false;
                            inputSurface2 = null;
                        }
                        if (outputSurface2 != null) {
                            try {
                                outputSurface2.release();
                                outputSurface2 = null;
                            } catch (Throwable th81) {
                                th2 = th81;
                                mediaCodec2 = mediaCodec3;
                                z3 = z8;
                                outputSurface3 = outputSurface2;
                                i82 = i9;
                                i81 = i8;
                                mediaCodec = mediaCodec4;
                                inputSurface = inputSurface2;
                                th = th2;
                                outputSurface = outputSurface3;
                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i4 = i82;
                                str3 = str2;
                                z5 = z3;
                                z6 = true;
                                if (z5) {
                                }
                            }
                        }
                        if (inputSurface2 != null) {
                            inputSurface2.release();
                            inputSurface2 = null;
                        }
                        if (mediaCodec4 == null) {
                            mediaCodec4.stop();
                            mediaCodec4.release();
                            mediaCodec5 = null;
                        } else {
                            mediaCodec5 = mediaCodec4;
                        }
                        if (audioRecoder != null) {
                            try {
                                audioRecoder.release();
                            } catch (Throwable th82) {
                                th2 = th82;
                                mediaCodec2 = mediaCodec3;
                                z3 = z8;
                                outputSurface3 = outputSurface2;
                                i82 = i9;
                                i81 = i8;
                                mediaCodec = mediaCodec5;
                                inputSurface = inputSurface2;
                                th = th2;
                                outputSurface = outputSurface3;
                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i4 = i82;
                                str3 = str2;
                                z5 = z3;
                                z6 = true;
                                if (z5) {
                                }
                            }
                        }
                        checkConversionCanceled();
                        mediaCodec6 = mediaCodec3;
                        z5 = z8;
                        outputSurface4 = outputSurface2;
                        i81 = i8;
                        str8 = str2;
                        mediaCodec7 = mediaCodec5;
                        inputSurface3 = inputSurface2;
                        i10 = i3;
                        i4 = i9;
                    } else {
                        try {
                            try {
                                MP4Builder createMovie = new MP4Builder().createMovie(mp4Movie, z37, false);
                                this.mediaMuxer = createMovie;
                                MediaExtractor mediaExtractor5 = this.extractor;
                                if (i84 == -1 || z41) {
                                    j24 = j28;
                                    z27 = false;
                                } else {
                                    j24 = j28;
                                    z27 = true;
                                }
                                file = file3;
                                file3 = file2;
                                readAndWriteTracks(mediaExtractor5, createMovie, bufferInfo, r32, j26, j24, file3, z27);
                                z2 = z;
                                mediaCodecVideoConvertor = this;
                                i84 = i84;
                                i81 = i81;
                                i4 = i5;
                                mediaCodec7 = null;
                                i10 = -5;
                                outputSurface4 = null;
                                z6 = false;
                                inputSurface3 = null;
                                str8 = null;
                                mediaCodec6 = null;
                                z5 = false;
                                z4 = false;
                            } catch (Throwable th83) {
                                th = th83;
                                file = file3;
                                file3 = file2;
                                z2 = z;
                                th = th;
                                mediaCodecVideoConvertor = this;
                                str = "x";
                                i82 = i5;
                                i2 = i83;
                                i3 = -5;
                                mediaCodec = null;
                                inputSurface = null;
                                str2 = null;
                                z3 = false;
                                mediaCodec2 = null;
                                outputSurface = null;
                                z4 = false;
                                FileLog.e("bitrate: " + i84 + " framerate: " + i2 + " size: " + i82 + str + i81);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i4 = i82;
                                str3 = str2;
                                z5 = z3;
                                z6 = true;
                                if (z5) {
                                }
                            }
                        } catch (Throwable th84) {
                            th = th84;
                            file = file3;
                            file3 = file2;
                        }
                    }
                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor2 != null) {
                        mediaExtractor2.release();
                    }
                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                    if (mP4Builder2 != null) {
                        try {
                            mP4Builder2.finishMovie();
                            mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.mediaMuxer.getLastFrameTimestamp(i10);
                        } catch (Throwable th85) {
                            FileLog.e(th85);
                        }
                    }
                    if (mediaCodec7 != null) {
                        try {
                            mediaCodec7.release();
                        } catch (Exception unused10) {
                        }
                    }
                    if (mediaCodec6 != null) {
                        try {
                            mediaCodec6.release();
                        } catch (Exception unused11) {
                        }
                    }
                    if (outputSurface4 != null) {
                        try {
                            outputSurface4.release();
                        } catch (Exception unused12) {
                        }
                    }
                    if (inputSurface3 != null) {
                        try {
                            inputSurface3.release();
                        } catch (Exception unused13) {
                        }
                    }
                    str3 = str8;
                    if (z5) {
                        if (z6 && z4 && i < 3) {
                            return mediaCodecVideoConvertor.convertVideoInternal(convertVideoParams, z2, i + 1);
                        }
                        long currentTimeMillis2 = System.currentTimeMillis() - currentTimeMillis;
                        if (BuildVars.LOGS_ENABLED) {
                            FileLog.d("compression completed time=" + currentTimeMillis2 + " needCompress=" + file + " w=" + i81 + " h=" + i4 + " bitrate=" + i84 + " file size=" + AndroidUtilities.formatFileSize(file3.length()) + " encoder_name=" + str3);
                        }
                        return z6;
                    }
                    return mediaCodecVideoConvertor.convertVideoInternal(convertVideoParams, true, i + 1);
                }
            } else {
                i7 = i6;
            }
            z7 = false;
            if (file3 == null) {
            }
            long j322 = j26;
            file = file3;
            file3 = file2;
            if (findTrack < 0) {
            }
            if (outputSurface2 != null) {
            }
            if (inputSurface2 != null) {
            }
            if (mediaCodec4 == null) {
            }
            if (audioRecoder != null) {
            }
            checkConversionCanceled();
            mediaCodec6 = mediaCodec3;
            z5 = z8;
            outputSurface4 = outputSurface2;
            i81 = i8;
            str8 = str2;
            mediaCodec7 = mediaCodec5;
            inputSurface3 = inputSurface2;
            i10 = i3;
            i4 = i9;
            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
            if (mediaExtractor2 != null) {
            }
            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
            if (mP4Builder2 != null) {
            }
            if (mediaCodec7 != null) {
            }
            if (mediaCodec6 != null) {
            }
            if (outputSurface4 != null) {
            }
            if (inputSurface3 != null) {
            }
            str3 = str8;
            if (z5) {
            }
        }
    }

    private static void applyAudioInputs(ArrayList<MixedSoundInfo> arrayList, ArrayList<AudioInput> arrayList2) throws IOException {
        for (int i = 0; i < arrayList.size(); i++) {
            MixedSoundInfo mixedSoundInfo = arrayList.get(i);
            GeneralAudioInput generalAudioInput = new GeneralAudioInput(mixedSoundInfo.audioFile);
            generalAudioInput.setVolume(mixedSoundInfo.volume);
            long j = mixedSoundInfo.startTime;
            if (j > 0) {
                generalAudioInput.setStartOffsetUs(j);
            }
            long j2 = mixedSoundInfo.audioOffset;
            if (j2 > 0) {
                generalAudioInput.setStartTimeUs(j2);
            } else {
                j2 = 0;
            }
            long j3 = mixedSoundInfo.duration;
            if (j3 > 0) {
                generalAudioInput.setEndTimeUs(j2 + j3);
            }
            arrayList2.add(generalAudioInput);
        }
    }

    private MediaCodec createEncoderForMimeType() throws IOException {
        MediaCodec createEncoderByType;
        if (this.outputMimeType.equals("video/hevc") && Build.VERSION.SDK_INT >= 29) {
            String findGoodHevcEncoder = SharedConfig.findGoodHevcEncoder();
            createEncoderByType = findGoodHevcEncoder != null ? MediaCodec.createByCodecName(findGoodHevcEncoder) : null;
        } else {
            this.outputMimeType = MediaController.VIDEO_MIME_TYPE;
            createEncoderByType = MediaCodec.createEncoderByType(MediaController.VIDEO_MIME_TYPE);
        }
        if (createEncoderByType == null && this.outputMimeType.equals("video/hevc")) {
            this.outputMimeType = MediaController.VIDEO_MIME_TYPE;
            return MediaCodec.createEncoderByType(MediaController.VIDEO_MIME_TYPE);
        }
        return createEncoderByType;
    }

    public static void cutOfNalData(String str, ByteBuffer byteBuffer, MediaCodec.BufferInfo bufferInfo) {
        int i = str.equals("video/hevc") ? 3 : 1;
        if (bufferInfo.size > 100) {
            byteBuffer.position(bufferInfo.offset);
            byte[] bArr = new byte[100];
            byteBuffer.get(bArr);
            int i2 = 0;
            for (int i3 = 0; i3 < 96; i3++) {
                if (bArr[i3] == 0 && bArr[i3 + 1] == 0 && bArr[i3 + 2] == 0 && bArr[i3 + 3] == 1 && (i2 = i2 + 1) > i) {
                    bufferInfo.offset += i3;
                    bufferInfo.size -= i3;
                    return;
                }
            }
        }
    }

    private boolean isMediatekAvcEncoder(MediaCodec mediaCodec) {
        return mediaCodec.getName().equals("c2.mtk.avc.encoder");
    }

    /* JADX WARN: Code restructure failed: missing block: B:73:0x0123, code lost:
        if (r9[r6 + 3] != 1) goto L62;
     */
    /* JADX WARN: Removed duplicated region for block: B:119:0x01d0  */
    /* JADX WARN: Removed duplicated region for block: B:121:0x01d5  */
    /* JADX WARN: Removed duplicated region for block: B:126:0x01ec  */
    /* JADX WARN: Removed duplicated region for block: B:127:0x01ee  */
    /* JADX WARN: Removed duplicated region for block: B:57:0x00df  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private long readAndWriteTracks(MediaExtractor mediaExtractor, MP4Builder mP4Builder, MediaCodec.BufferInfo bufferInfo, long j, long j2, long j3, File file, boolean z) throws Exception {
        long j4;
        int i;
        int i2;
        int i3;
        int i4;
        int i5;
        int i6;
        int i7;
        int i8;
        int i9;
        boolean z2;
        int i10;
        int i11;
        boolean z3;
        long j5;
        byte[] array;
        int i12;
        int i13;
        int i14;
        int findTrack = MediaController.findTrack(mediaExtractor, false);
        if (z) {
            j4 = j3;
            i = MediaController.findTrack(mediaExtractor, true);
        } else {
            j4 = j3;
            i = -1;
        }
        float f = ((float) j4) / 1000.0f;
        if (findTrack >= 0) {
            mediaExtractor.selectTrack(findTrack);
            MediaFormat trackFormat = mediaExtractor.getTrackFormat(findTrack);
            i3 = mP4Builder.addTrack(trackFormat, false);
            try {
                i14 = trackFormat.getInteger("max-input-size");
            } catch (Exception e) {
                FileLog.e(e);
                i14 = 0;
            }
            if (j > 0) {
                mediaExtractor.seekTo(j, 0);
            } else {
                mediaExtractor.seekTo(0L, 0);
            }
            i2 = i14;
        } else {
            i2 = 0;
            i3 = -1;
        }
        if (i >= 0) {
            mediaExtractor.selectTrack(i);
            MediaFormat trackFormat2 = mediaExtractor.getTrackFormat(i);
            if (trackFormat2.getString("mime").equals("audio/unknown")) {
                i4 = -1;
                i = -1;
            } else {
                i4 = mP4Builder.addTrack(trackFormat2, true);
                try {
                    i2 = Math.max(trackFormat2.getInteger("max-input-size"), i2);
                } catch (Exception e2) {
                    FileLog.e(e2);
                }
                if (j > 0) {
                    mediaExtractor.seekTo(j, 0);
                } else {
                    mediaExtractor.seekTo(0L, 0);
                }
            }
        } else {
            i4 = -1;
        }
        if (i2 <= 0) {
            i2 = 65536;
        }
        ByteBuffer allocateDirect = ByteBuffer.allocateDirect(i2);
        if (i >= 0 || findTrack >= 0) {
            checkConversionCanceled();
            long j6 = 0;
            long j7 = -1;
            boolean z4 = false;
            while (!z4) {
                checkConversionCanceled();
                int i15 = Build.VERSION.SDK_INT;
                if (i15 >= 28) {
                    long sampleSize = mediaExtractor.getSampleSize();
                    i5 = i;
                    if (sampleSize > i2) {
                        int i16 = (int) (sampleSize + 1024);
                        i2 = i16;
                        allocateDirect = ByteBuffer.allocateDirect(i16);
                    }
                } else {
                    i5 = i;
                }
                bufferInfo.size = mediaExtractor.readSampleData(allocateDirect, 0);
                int sampleTrackIndex = mediaExtractor.getSampleTrackIndex();
                if (sampleTrackIndex == findTrack) {
                    i6 = i5;
                    i8 = i3;
                } else {
                    i6 = i5;
                    if (sampleTrackIndex == i6) {
                        i8 = i4;
                    } else {
                        i7 = -1;
                        i8 = -1;
                        if (i8 == i7) {
                            if (i15 < 21) {
                                allocateDirect.position(0);
                                allocateDirect.limit(bufferInfo.size);
                            }
                            if (sampleTrackIndex != i6 && (array = allocateDirect.array()) != null) {
                                int arrayOffset = allocateDirect.arrayOffset();
                                int limit = arrayOffset + allocateDirect.limit();
                                i9 = i4;
                                int i17 = arrayOffset;
                                int i18 = -1;
                                while (true) {
                                    z2 = z4;
                                    int i19 = limit - 4;
                                    if (i17 > i19) {
                                        break;
                                    }
                                    if (array[i17] == 0 && array[i17 + 1] == 0 && array[i17 + 2] == 0) {
                                        i12 = i2;
                                        i13 = i6;
                                    } else {
                                        i12 = i2;
                                        i13 = i6;
                                    }
                                    if (i17 != i19) {
                                        i17++;
                                        z4 = z2;
                                        i6 = i13;
                                        i2 = i12;
                                    }
                                    if (i18 != -1) {
                                        int i20 = (i17 - i18) - (i17 == i19 ? 0 : 4);
                                        array[i18] = (byte) (i20 >> 24);
                                        array[i18 + 1] = (byte) (i20 >> 16);
                                        array[i18 + 2] = (byte) (i20 >> 8);
                                        array[i18 + 3] = (byte) i20;
                                    }
                                    i18 = i17;
                                    i17++;
                                    z4 = z2;
                                    i6 = i13;
                                    i2 = i12;
                                }
                            } else {
                                i9 = i4;
                                z2 = z4;
                            }
                            i10 = i2;
                            i11 = i6;
                            if (bufferInfo.size >= 0) {
                                bufferInfo.presentationTimeUs = mediaExtractor.getSampleTime();
                                z3 = false;
                            } else {
                                bufferInfo.size = 0;
                                z3 = true;
                            }
                            if (bufferInfo.size > 0 && !z3) {
                                if (sampleTrackIndex == findTrack) {
                                    j5 = 0;
                                    if (j > 0 && j7 == -1) {
                                        j7 = bufferInfo.presentationTimeUs;
                                    }
                                } else {
                                    j5 = 0;
                                }
                                if (j2 < j5 || bufferInfo.presentationTimeUs < j2) {
                                    bufferInfo.offset = 0;
                                    bufferInfo.flags = mediaExtractor.getSampleFlags();
                                    long writeSampleData = mP4Builder.writeSampleData(i8, allocateDirect, bufferInfo, false);
                                    if (writeSampleData != 0) {
                                        MediaController.VideoConvertorListener videoConvertorListener = this.callback;
                                        if (videoConvertorListener != null) {
                                            long j8 = bufferInfo.presentationTimeUs;
                                            long j9 = j8 - j7 > j6 ? j8 - j7 : j6;
                                            videoConvertorListener.didWriteData(writeSampleData, (((float) j9) / 1000.0f) / f);
                                            j6 = j9;
                                            if (!z3) {
                                                mediaExtractor.advance();
                                            }
                                        }
                                        if (!z3) {
                                        }
                                    }
                                } else {
                                    z3 = true;
                                }
                            }
                            if (!z3) {
                            }
                        } else {
                            i9 = i4;
                            z2 = z4;
                            i10 = i2;
                            i11 = i6;
                            if (sampleTrackIndex == -1) {
                                z3 = true;
                            } else {
                                mediaExtractor.advance();
                                z3 = false;
                            }
                        }
                        z4 = !z3 ? true : z2;
                        i4 = i9;
                        i = i11;
                        i2 = i10;
                    }
                }
                i7 = -1;
                if (i8 == i7) {
                }
                if (!z3) {
                }
                i4 = i9;
                i = i11;
                i2 = i10;
            }
            int i21 = i;
            if (findTrack >= 0) {
                mediaExtractor.unselectTrack(findTrack);
            }
            if (i21 >= 0) {
                mediaExtractor.unselectTrack(i21);
            }
            return j7;
        }
        return -1L;
    }

    private void checkConversionCanceled() {
        MediaController.VideoConvertorListener videoConvertorListener = this.callback;
        if (videoConvertorListener != null && videoConvertorListener.checkConversionCanceled()) {
            throw new ConversionCanceledException();
        }
    }

    private static String hdrFragmentShader(int i, int i2, int i3, int i4, boolean z, StoryEntry.HDRInfo hDRInfo) {
        String readRes;
        if (z) {
            if (hDRInfo.getHDRType() == 1) {
                readRes = RLottieDrawable.readRes(null, R.raw.hdr2sdr_hlg);
            } else {
                readRes = RLottieDrawable.readRes(null, R.raw.hdr2sdr_pq);
            }
            String replace = readRes.replace("$dstWidth", i3 + ".0");
            String replace2 = replace.replace("$dstHeight", i4 + ".0");
            return replace2 + "\nvarying vec2 vTextureCoord;\nvoid main() {\n    gl_FragColor = TEX(vTextureCoord);\n}";
        }
        return "precision mediump float;\nvarying vec2 vTextureCoord;\nuniform sampler2D sTexture;\nvoid main() {\n    gl_FragColor = texture2D(sTexture, vTextureCoord);\n}\n";
    }

    private static String createFragmentShader(int i, int i2, int i3, int i4, boolean z, int i5) {
        int clamp = (int) Utilities.clamp((Math.max(i, i2) / Math.max(i4, i3)) * 0.8f, 2.0f, 1.0f);
        if (clamp > 1 && SharedConfig.deviceIsAverage()) {
            clamp = 1;
        }
        int min = Math.min(i5, clamp);
        FileLog.d("source size " + i + "x" + i2 + "    dest size " + i3 + i4 + "   kernelRadius " + min);
        if (z) {
            return "#extension GL_OES_EGL_image_external : require\nprecision mediump float;\nvarying vec2 vTextureCoord;\nconst float kernel = " + min + ".0;\nconst float pixelSizeX = 1.0 / " + i + ".0;\nconst float pixelSizeY = 1.0 / " + i2 + ".0;\nuniform samplerExternalOES sTexture;\nvoid main() {\nvec3 accumulation = vec3(0);\nvec3 weightsum = vec3(0);\nfor (float x = -kernel; x <= kernel; x++){\n   for (float y = -kernel; y <= kernel; y++){\n       accumulation += texture2D(sTexture, vTextureCoord + vec2(x * pixelSizeX, y * pixelSizeY)).xyz;\n       weightsum += 1.0;\n   }\n}\ngl_FragColor = vec4(accumulation / weightsum, 1.0);\n}\n";
        }
        return "precision mediump float;\nvarying vec2 vTextureCoord;\nconst float kernel = " + min + ".0;\nconst float pixelSizeX = 1.0 / " + i2 + ".0;\nconst float pixelSizeY = 1.0 / " + i + ".0;\nuniform sampler2D sTexture;\nvoid main() {\nvec3 accumulation = vec3(0);\nvec3 weightsum = vec3(0);\nfor (float x = -kernel; x <= kernel; x++){\n   for (float y = -kernel; y <= kernel; y++){\n       accumulation += texture2D(sTexture, vTextureCoord + vec2(x * pixelSizeX, y * pixelSizeY)).xyz;\n       weightsum += 1.0;\n   }\n}\ngl_FragColor = vec4(accumulation / weightsum, 1.0);\n}\n";
    }

    /* loaded from: classes3.dex */
    public class ConversionCanceledException extends RuntimeException {
        public ConversionCanceledException() {
            super("canceled conversion");
        }
    }

    private MediaCodec getDecoderByFormat(MediaFormat mediaFormat) {
        if (mediaFormat == null) {
            throw new RuntimeException("getDecoderByFormat: format is null");
        }
        ArrayList arrayList = new ArrayList();
        String string = mediaFormat.getString("mime");
        arrayList.add(string);
        if ("video/dolby-vision".equals(string)) {
            arrayList.add("video/hevc");
            arrayList.add(MediaController.VIDEO_MIME_TYPE);
        }
        Exception exc = null;
        while (!arrayList.isEmpty()) {
            try {
                String str = (String) arrayList.remove(0);
                mediaFormat.setString("mime", str);
                return MediaCodec.createDecoderByType(str);
            } catch (Exception e) {
                if (exc == null) {
                    exc = e;
                }
            }
        }
        throw new RuntimeException(exc);
    }

    /* loaded from: classes3.dex */
    public static class ConvertVideoParams {
        int account;
        long avatarStartTime;
        String backgroundPath;
        int bitrate;
        String blurPath;
        File cacheFile;
        MediaController.VideoConvertorListener callback;
        MediaController.CropState cropState;
        long duration;
        long endTime;
        int framerate;
        Integer gradientBottomColor;
        Integer gradientTopColor;
        StoryEntry.HDRInfo hdrInfo;
        boolean isDark;
        boolean isPhoto;
        boolean isRound;
        boolean isSecret;
        boolean isStory;
        ArrayList<VideoEditedInfo.MediaEntity> mediaEntities;
        String messagePath;
        String messageVideoMaskPath;
        boolean muted;
        boolean needCompress;
        int originalBitrate;
        int originalHeight;
        int originalWidth;
        String paintPath;
        int resultHeight;
        int resultWidth;
        int rotationValue;
        MediaController.SavedFilterState savedFilterState;
        public ArrayList<MixedSoundInfo> soundInfos = new ArrayList<>();
        long startTime;
        String videoPath;
        float volume;
        long wallpaperPeerId;

        private ConvertVideoParams() {
        }

        public static ConvertVideoParams of(String str, File file, int i, boolean z, int i2, int i3, int i4, int i5, int i6, int i7, int i8, long j, long j2, long j3, boolean z2, long j4, MediaController.VideoConvertorListener videoConvertorListener, VideoEditedInfo videoEditedInfo) {
            ConvertVideoParams convertVideoParams = new ConvertVideoParams();
            convertVideoParams.videoPath = str;
            convertVideoParams.cacheFile = file;
            convertVideoParams.rotationValue = i;
            convertVideoParams.isSecret = z;
            convertVideoParams.originalWidth = i2;
            convertVideoParams.originalHeight = i3;
            convertVideoParams.resultWidth = i4;
            convertVideoParams.resultHeight = i5;
            convertVideoParams.framerate = i6;
            convertVideoParams.bitrate = i7;
            convertVideoParams.originalBitrate = i8;
            convertVideoParams.startTime = j;
            convertVideoParams.endTime = j2;
            convertVideoParams.avatarStartTime = j3;
            convertVideoParams.needCompress = z2;
            convertVideoParams.duration = j4;
            convertVideoParams.savedFilterState = videoEditedInfo.filterState;
            convertVideoParams.paintPath = videoEditedInfo.paintPath;
            convertVideoParams.blurPath = videoEditedInfo.blurPath;
            convertVideoParams.mediaEntities = videoEditedInfo.mediaEntities;
            convertVideoParams.isPhoto = videoEditedInfo.isPhoto;
            convertVideoParams.cropState = videoEditedInfo.cropState;
            convertVideoParams.isRound = videoEditedInfo.roundVideo;
            convertVideoParams.callback = videoConvertorListener;
            convertVideoParams.gradientTopColor = videoEditedInfo.gradientTopColor;
            convertVideoParams.gradientBottomColor = videoEditedInfo.gradientBottomColor;
            convertVideoParams.muted = videoEditedInfo.muted;
            convertVideoParams.volume = videoEditedInfo.volume;
            convertVideoParams.isStory = videoEditedInfo.isStory;
            convertVideoParams.hdrInfo = videoEditedInfo.hdrInfo;
            convertVideoParams.isDark = videoEditedInfo.isDark;
            convertVideoParams.wallpaperPeerId = videoEditedInfo.wallpaperPeerId;
            convertVideoParams.account = videoEditedInfo.account;
            convertVideoParams.messagePath = videoEditedInfo.messagePath;
            convertVideoParams.messageVideoMaskPath = videoEditedInfo.messageVideoMaskPath;
            convertVideoParams.backgroundPath = videoEditedInfo.backgroundPath;
            return convertVideoParams;
        }
    }

    /* loaded from: classes3.dex */
    public static class MixedSoundInfo {
        final String audioFile;
        public long audioOffset;
        public long duration;
        public long startTime;
        public float volume = 1.0f;

        public MixedSoundInfo(String str) {
            this.audioFile = str;
        }
    }
}
