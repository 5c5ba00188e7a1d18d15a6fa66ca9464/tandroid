package org.telegram.messenger.video;

import android.annotation.TargetApi;
import android.media.MediaCodec;
import android.media.MediaCrypto;
import android.media.MediaExtractor;
import android.media.MediaFormat;
import android.media.MediaMuxer;
import android.os.Build;
import android.view.Surface;
import java.io.File;
import java.io.IOException;
import java.nio.ByteBuffer;
import java.util.ArrayList;
import org.telegram.messenger.AndroidUtilities;
import org.telegram.messenger.BuildVars;
import org.telegram.messenger.FileLog;
import org.telegram.messenger.MediaController;
import org.telegram.messenger.R;
import org.telegram.messenger.SharedConfig;
import org.telegram.messenger.Utilities;
import org.telegram.messenger.VideoEditedInfo;
import org.telegram.messenger.video.audio_input.AudioInput;
import org.telegram.messenger.video.audio_input.BlankAudioInput;
import org.telegram.messenger.video.audio_input.GeneralAudioInput;
import org.telegram.ui.Components.RLottieDrawable;
import org.telegram.ui.Stories.recorder.StoryEntry;
/* loaded from: classes3.dex */
public class MediaCodecVideoConvertor {
    private static final int MEDIACODEC_TIMEOUT_DEFAULT = 2500;
    private static final int MEDIACODEC_TIMEOUT_INCREASED = 22000;
    private static final int PROCESSOR_TYPE_INTEL = 2;
    private static final int PROCESSOR_TYPE_MTK = 3;
    private static final int PROCESSOR_TYPE_OTHER = 0;
    private static final int PROCESSOR_TYPE_QCOM = 1;
    private static final int PROCESSOR_TYPE_SEC = 4;
    private static final int PROCESSOR_TYPE_TI = 5;
    private MediaController.VideoConvertorListener callback;
    private long endPresentationTime;
    private MediaExtractor extractor;
    private Muxer muxer;
    private String outputMimeType;

    public boolean convertVideo(ConvertVideoParams convertVideoParams) {
        if (convertVideoParams.isSticker) {
            return WebmEncoder.convert(convertVideoParams, 0);
        }
        this.callback = convertVideoParams.callback;
        return convertVideoInternal(convertVideoParams, false, 0);
    }

    public long getLastFrameTimestamp() {
        return this.endPresentationTime;
    }

    /* JADX WARN: Can't wrap try/catch for region: R(24:1|(1:3)(1:1765)|4|(1:6)(1:(19:1763|8|9|10|11|12|13|14|(46:(2:17|(1:19)(2:638|(1:640)(1:641)))(1:(1:643))|(3:21|22|23)(1:637)|611|612|613|(4:615|(1:617)|618|619)|620|(4:622|(1:624)|625|626)|25|26|27|(2:594|595)|29|30|31|32|33|35|36|37|38|39|40|41|(3:558|559|(21:561|44|45|46|48|49|50|(2:542|543)(1:52)|53|(6:523|524|525|526|527|528)(11:55|56|57|58|59|60|61|62|63|64|65)|66|67|(5:489|490|491|492|493)(1:69)|70|(2:(5:202|203|(2:476|477)|205|(1:(8:210|(1:212)(1:475)|213|214|215|(1:217)(3:287|(4:461|462|(1:464)|465)(2:289|(6:411|412|(4:414|415|416|417)(1:457)|418|(1:454)(5:421|422|423|(1:447)(7:427|428|429|430|(1:432)(1:439)|(1:434)(1:438)|435)|436)|437)(3:291|292|(5:294|295|296|(1:298)(1:396)|(10:300|301|(4:319|320|321|(4:(1:348)(3:326|327|328)|(1:332)|333|(1:342)(9:337|(1:339)(1:341)|340|305|306|307|(1:309)(1:313)|310|311))(8:349|(2:351|(6:353|(3:357|(2:363|(2:365|366)(1:372))|373)|378|367|(1:370)|371)(1:380))(1:384)|305|306|307|(0)(0)|310|311))(1:303)|304|305|306|307|(0)(0)|310|311)(4:392|393|394|395))(3:403|404|405)))|312)|(3:284|285|286)(4:219|(7:221|222|223|224|225|226|(2:228|229))(1:283)|230|231)|232)))(2:73|74)|209)|(2:200|201)|(1:77)|(1:79)|(1:81)|82|83))|43|44|45|46|48|49|50|(0)(0)|53|(0)(0)|66|67|(0)(0)|70|(7:(0)|202|203|(0)|205|(9:(0)|210|(0)(0)|213|214|215|(0)(0)|(0)(0)|232)|209)|(0)|(0)|(0)|(0)|82|83)(21:644|645|646|647|648|649|650|(1:1748)(3:655|656|657)|658|(2:660|(3:662|663|(8:683|(73:685|686|687|688|(3:690|691|692)(2:1734|1735)|693|694|(5:696|(1:698)(2:1722|(1:1724)(1:1725))|699|(1:701)(1:1721)|702)(2:1726|(1:1728)(1:1729))|(2:1716|1717)|704|(1:706)(1:1715)|707|(1:709)(2:1702|(2:1704|1705)(60:1706|1707|(1:1701)(4:714|(2:719|720)|1700|720)|(57:1692|1693|(2:724|725)|799|800|(4:802|803|804|805)(1:1686)|806|807|(1:811)|812|813|(8:815|(1:817)(1:1677)|818|(1:820)(1:1676)|821|(1:823)(1:1675)|824|(44:1674|830|(2:832|(3:835|(1:837)|838))(1:1671)|840|841|842|843|844|846|847|848|849|850|851|(1:1645)(4:854|855|(1:857)(1:1640)|858)|859|860|861|862|863|(3:866|867|(27:869|870|871|872|873|874|875|876|877|878|879|880|881|(2:1577|1578)(1:883)|(3:1574|1575|1576)(7:885|886|887|888|889|890|891)|892|(11:1475|1476|1477|(4:1479|1480|(9:1482|(1:1484)|1554|1488|1489|(1:1491)|(1:(9:1494|1495|1496|(1:1498)|1499|1500|(3:1502|1503|1504)(4:1517|1518|1519|1520)|1505|1506)(6:1537|(1:1539)|1540|(1:1542)|1543|1544))(1:1546)|1545|1506)(1:1555)|1485)(1:1556)|1487|1488|1489|(0)|(0)(0)|1545|1506)(5:894|895|896|(3:898|899|900)(1:1465)|901)|(1:903)(1:1464)|904|905|906|(2:(6:913|914|(3:916|917|918)(1:1455)|(6:920|921|922|(5:924|925|926|(4:928|(1:930)(1:1376)|931|(1:933)(1:1375))(1:1377)|934)(2:1382|(2:1442|(2:1444|(3:1365|1366|(2:1368|1369))))(15:1387|1388|(4:1423|1424|1425|(3:1427|1428|1429))(1:1390)|1391|1392|1393|1394|1395|(1:1397)|1398|(1:1400)(1:1417)|1401|(2:1407|(4:1411|(1:1413)|1414|1415))|1416|1415))|935|(0))(1:1450)|937|(1:(10:942|943|944|(1:946)(1:1359)|947|948|949|(1:951)(4:1164|(4:1343|1344|(1:1346)|1347)(2:1166|(4:1297|1298|(1:1339)(10:1301|1302|1303|1304|1305|1306|1307|(3:1309|1310|(7:1312|1313|1314|(1:1316)(1:1324)|(1:1318)(1:1323)|1319|1320))(1:1331)|1330|1320)|1321)(3:1168|1169|(5:1171|1172|1173|(1:1175)(1:1284)|(10:1177|1178|(5:1196|1197|1198|(5:(1:1243)(3:1203|1204|1205)|(2:1209|1210)|1211|1212|(1:1228)(5:1216|1217|1218|(1:1220)|1221))(2:1244|(13:1246|(3:1250|(2:1256|(2:1258|1259)(1:1266))|1267)|1272|1260|(1:1263)|1264|1265|1182|1183|(1:1185)(1:1189)|1186|1187|1188))|1222)(1:1180)|1181|1182|1183|(0)(0)|1186|1187|1188)(4:1280|1281|1282|1283))(3:1289|1290|1291)))|1322|1188)|(3:1161|1162|1163)(6:953|(7:955|956|957|(1:959)(3:964|(2:969|(3:1144|1145|(1:1147))(1:(26:972|973|(1:975)(1:1139)|976|977|978|(3:982|983|984)|998|(3:1097|1098|(6:1100|1101|1102|1103|1104|(18:1106|(3:1112|1113|1114)(3:1108|1109|1110)|1111|1002|(2:1004|(13:1008|1009|(1:1011)(1:1094)|1012|(2:1016|(10:1018|(1:1020)|1021|(1:1023)(4:1082|(1:1086)|1087|1088)|(9:1032|1033|1034|(2:1036|1037)|1045|1046|1047|(7:1049|1050|1051|1052|1053|1054|1055)(1:1072)|1056)(1:1025)|1026|(3:1028|(1:1030)|1031)|968|961|962)(3:1089|(1:1091)|1092))|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962))(1:1096)|1095|1009|(0)(0)|1012|(3:1014|1016|(0)(0))|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)(17:1119|1001|1002|(0)(0)|1095|1009|(0)(0)|1012|(0)|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)))|1000|1001|1002|(0)(0)|1095|1009|(0)(0)|1012|(0)|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)(1:1140)))|966)|960|961|962)(1:1160)|967|968|961|962)|963)))|941)|911|751|752|(1:754)|756))|1607|(4:1609|1610|1611|(5:1613|(1:1615)(1:1622)|1616|(1:1618)(1:1621)|1619))(1:1628)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756)(1:828))(1:1678)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(3:866|867|(0))|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756)|722|(0)|799|800|(0)(0)|806|807|(2:809|811)|812|813|(0)(0)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(0)|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756))|710|(1:712)|1701|(0)|722|(0)|799|800|(0)(0)|806|807|(0)|812|813|(0)(0)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(0)|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756)(1:1740)|(2:776|777)|(1:759)|(2:761|762)(1:775)|(2:770|771)|764|765)(7:666|667|668|(1:675)(1:671)|672|673|674)))(1:1745)|1743|663|(0)|683|(0)(0)|(0)|(0)|(0)(0)|(0)|764|765)|84|(1:86)|87|(2:125|126)|(2:121|122)|(2:117|118)|(2:113|114)|(2:109|110)|93|(2:95|96)(2:98|(3:105|(1:107)|108)(2:103|104)))(1:1764))|7|8|9|10|11|12|13|14|(0)(0)|84|(0)|87|(0)|(0)|(0)|(0)|(0)|93|(0)(0)|(1:(0))) */
    /* JADX WARN: Can't wrap try/catch for region: R(40:(2:17|(1:19)(2:638|(1:640)(1:641)))(1:(1:643))|(3:21|22|23)(1:637)|611|612|613|(4:615|(1:617)|618|619)|620|(4:622|(1:624)|625|626)|25|26|27|(2:594|595)|29|30|31|32|33|(7:35|36|37|38|39|40|41)|(3:558|559|(21:561|44|45|46|48|49|50|(2:542|543)(1:52)|53|(6:523|524|525|526|527|528)(11:55|56|57|58|59|60|61|62|63|64|65)|66|67|(5:489|490|491|492|493)(1:69)|70|(2:(5:202|203|(2:476|477)|205|(1:(8:210|(1:212)(1:475)|213|214|215|(1:217)(3:287|(4:461|462|(1:464)|465)(2:289|(6:411|412|(4:414|415|416|417)(1:457)|418|(1:454)(5:421|422|423|(1:447)(7:427|428|429|430|(1:432)(1:439)|(1:434)(1:438)|435)|436)|437)(3:291|292|(5:294|295|296|(1:298)(1:396)|(10:300|301|(4:319|320|321|(4:(1:348)(3:326|327|328)|(1:332)|333|(1:342)(9:337|(1:339)(1:341)|340|305|306|307|(1:309)(1:313)|310|311))(8:349|(2:351|(6:353|(3:357|(2:363|(2:365|366)(1:372))|373)|378|367|(1:370)|371)(1:380))(1:384)|305|306|307|(0)(0)|310|311))(1:303)|304|305|306|307|(0)(0)|310|311)(4:392|393|394|395))(3:403|404|405)))|312)|(3:284|285|286)(4:219|(7:221|222|223|224|225|226|(2:228|229))(1:283)|230|231)|232)))(2:73|74)|209)|(2:200|201)|(1:77)|(1:79)|(1:81)|82|83))|43|44|45|46|48|49|50|(0)(0)|53|(0)(0)|66|67|(0)(0)|70|(7:(0)|202|203|(0)|205|(9:(0)|210|(0)(0)|213|214|215|(0)(0)|(0)(0)|232)|209)|(0)|(0)|(0)|(0)|82|83) */
    /* JADX WARN: Can't wrap try/catch for region: R(59:685|(11:686|687|688|(3:690|691|692)(2:1734|1735)|693|694|(5:696|(1:698)(2:1722|(1:1724)(1:1725))|699|(1:701)(1:1721)|702)(2:1726|(1:1728)(1:1729))|(2:1716|1717)|704|(1:706)(1:1715)|707)|(5:(1:709)(2:1702|(2:1704|1705)(60:1706|1707|(1:1701)(4:714|(2:719|720)|1700|720)|(57:1692|1693|(2:724|725)|799|800|(4:802|803|804|805)(1:1686)|806|807|(1:811)|812|813|(8:815|(1:817)(1:1677)|818|(1:820)(1:1676)|821|(1:823)(1:1675)|824|(44:1674|830|(2:832|(3:835|(1:837)|838))(1:1671)|840|841|842|843|844|846|847|848|849|850|851|(1:1645)(4:854|855|(1:857)(1:1640)|858)|859|860|861|862|863|(3:866|867|(27:869|870|871|872|873|874|875|876|877|878|879|880|881|(2:1577|1578)(1:883)|(3:1574|1575|1576)(7:885|886|887|888|889|890|891)|892|(11:1475|1476|1477|(4:1479|1480|(9:1482|(1:1484)|1554|1488|1489|(1:1491)|(1:(9:1494|1495|1496|(1:1498)|1499|1500|(3:1502|1503|1504)(4:1517|1518|1519|1520)|1505|1506)(6:1537|(1:1539)|1540|(1:1542)|1543|1544))(1:1546)|1545|1506)(1:1555)|1485)(1:1556)|1487|1488|1489|(0)|(0)(0)|1545|1506)(5:894|895|896|(3:898|899|900)(1:1465)|901)|(1:903)(1:1464)|904|905|906|(2:(6:913|914|(3:916|917|918)(1:1455)|(6:920|921|922|(5:924|925|926|(4:928|(1:930)(1:1376)|931|(1:933)(1:1375))(1:1377)|934)(2:1382|(2:1442|(2:1444|(3:1365|1366|(2:1368|1369))))(15:1387|1388|(4:1423|1424|1425|(3:1427|1428|1429))(1:1390)|1391|1392|1393|1394|1395|(1:1397)|1398|(1:1400)(1:1417)|1401|(2:1407|(4:1411|(1:1413)|1414|1415))|1416|1415))|935|(0))(1:1450)|937|(1:(10:942|943|944|(1:946)(1:1359)|947|948|949|(1:951)(4:1164|(4:1343|1344|(1:1346)|1347)(2:1166|(4:1297|1298|(1:1339)(10:1301|1302|1303|1304|1305|1306|1307|(3:1309|1310|(7:1312|1313|1314|(1:1316)(1:1324)|(1:1318)(1:1323)|1319|1320))(1:1331)|1330|1320)|1321)(3:1168|1169|(5:1171|1172|1173|(1:1175)(1:1284)|(10:1177|1178|(5:1196|1197|1198|(5:(1:1243)(3:1203|1204|1205)|(2:1209|1210)|1211|1212|(1:1228)(5:1216|1217|1218|(1:1220)|1221))(2:1244|(13:1246|(3:1250|(2:1256|(2:1258|1259)(1:1266))|1267)|1272|1260|(1:1263)|1264|1265|1182|1183|(1:1185)(1:1189)|1186|1187|1188))|1222)(1:1180)|1181|1182|1183|(0)(0)|1186|1187|1188)(4:1280|1281|1282|1283))(3:1289|1290|1291)))|1322|1188)|(3:1161|1162|1163)(6:953|(7:955|956|957|(1:959)(3:964|(2:969|(3:1144|1145|(1:1147))(1:(26:972|973|(1:975)(1:1139)|976|977|978|(3:982|983|984)|998|(3:1097|1098|(6:1100|1101|1102|1103|1104|(18:1106|(3:1112|1113|1114)(3:1108|1109|1110)|1111|1002|(2:1004|(13:1008|1009|(1:1011)(1:1094)|1012|(2:1016|(10:1018|(1:1020)|1021|(1:1023)(4:1082|(1:1086)|1087|1088)|(9:1032|1033|1034|(2:1036|1037)|1045|1046|1047|(7:1049|1050|1051|1052|1053|1054|1055)(1:1072)|1056)(1:1025)|1026|(3:1028|(1:1030)|1031)|968|961|962)(3:1089|(1:1091)|1092))|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962))(1:1096)|1095|1009|(0)(0)|1012|(3:1014|1016|(0)(0))|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)(17:1119|1001|1002|(0)(0)|1095|1009|(0)(0)|1012|(0)|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)))|1000|1001|1002|(0)(0)|1095|1009|(0)(0)|1012|(0)|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)(1:1140)))|966)|960|961|962)(1:1160)|967|968|961|962)|963)))|941)|911|751|752|(1:754)|756))|1607|(4:1609|1610|1611|(5:1613|(1:1615)(1:1622)|1616|(1:1618)(1:1621)|1619))(1:1628)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756)(1:828))(1:1678)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(3:866|867|(0))|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756)|722|(0)|799|800|(0)(0)|806|807|(2:809|811)|812|813|(0)(0)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(0)|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756))|751|752|(0)|756)|710|(1:712)|1701|(0)|722|(0)|799|800|(0)(0)|806|807|(0)|812|813|(0)(0)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(0)|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911) */
    /* JADX WARN: Can't wrap try/catch for region: R(63:685|(11:686|687|688|(3:690|691|692)(2:1734|1735)|693|694|(5:696|(1:698)(2:1722|(1:1724)(1:1725))|699|(1:701)(1:1721)|702)(2:1726|(1:1728)(1:1729))|(2:1716|1717)|704|(1:706)(1:1715)|707)|(1:709)(2:1702|(2:1704|1705)(60:1706|1707|(1:1701)(4:714|(2:719|720)|1700|720)|(57:1692|1693|(2:724|725)|799|800|(4:802|803|804|805)(1:1686)|806|807|(1:811)|812|813|(8:815|(1:817)(1:1677)|818|(1:820)(1:1676)|821|(1:823)(1:1675)|824|(44:1674|830|(2:832|(3:835|(1:837)|838))(1:1671)|840|841|842|843|844|846|847|848|849|850|851|(1:1645)(4:854|855|(1:857)(1:1640)|858)|859|860|861|862|863|(3:866|867|(27:869|870|871|872|873|874|875|876|877|878|879|880|881|(2:1577|1578)(1:883)|(3:1574|1575|1576)(7:885|886|887|888|889|890|891)|892|(11:1475|1476|1477|(4:1479|1480|(9:1482|(1:1484)|1554|1488|1489|(1:1491)|(1:(9:1494|1495|1496|(1:1498)|1499|1500|(3:1502|1503|1504)(4:1517|1518|1519|1520)|1505|1506)(6:1537|(1:1539)|1540|(1:1542)|1543|1544))(1:1546)|1545|1506)(1:1555)|1485)(1:1556)|1487|1488|1489|(0)|(0)(0)|1545|1506)(5:894|895|896|(3:898|899|900)(1:1465)|901)|(1:903)(1:1464)|904|905|906|(2:(6:913|914|(3:916|917|918)(1:1455)|(6:920|921|922|(5:924|925|926|(4:928|(1:930)(1:1376)|931|(1:933)(1:1375))(1:1377)|934)(2:1382|(2:1442|(2:1444|(3:1365|1366|(2:1368|1369))))(15:1387|1388|(4:1423|1424|1425|(3:1427|1428|1429))(1:1390)|1391|1392|1393|1394|1395|(1:1397)|1398|(1:1400)(1:1417)|1401|(2:1407|(4:1411|(1:1413)|1414|1415))|1416|1415))|935|(0))(1:1450)|937|(1:(10:942|943|944|(1:946)(1:1359)|947|948|949|(1:951)(4:1164|(4:1343|1344|(1:1346)|1347)(2:1166|(4:1297|1298|(1:1339)(10:1301|1302|1303|1304|1305|1306|1307|(3:1309|1310|(7:1312|1313|1314|(1:1316)(1:1324)|(1:1318)(1:1323)|1319|1320))(1:1331)|1330|1320)|1321)(3:1168|1169|(5:1171|1172|1173|(1:1175)(1:1284)|(10:1177|1178|(5:1196|1197|1198|(5:(1:1243)(3:1203|1204|1205)|(2:1209|1210)|1211|1212|(1:1228)(5:1216|1217|1218|(1:1220)|1221))(2:1244|(13:1246|(3:1250|(2:1256|(2:1258|1259)(1:1266))|1267)|1272|1260|(1:1263)|1264|1265|1182|1183|(1:1185)(1:1189)|1186|1187|1188))|1222)(1:1180)|1181|1182|1183|(0)(0)|1186|1187|1188)(4:1280|1281|1282|1283))(3:1289|1290|1291)))|1322|1188)|(3:1161|1162|1163)(6:953|(7:955|956|957|(1:959)(3:964|(2:969|(3:1144|1145|(1:1147))(1:(26:972|973|(1:975)(1:1139)|976|977|978|(3:982|983|984)|998|(3:1097|1098|(6:1100|1101|1102|1103|1104|(18:1106|(3:1112|1113|1114)(3:1108|1109|1110)|1111|1002|(2:1004|(13:1008|1009|(1:1011)(1:1094)|1012|(2:1016|(10:1018|(1:1020)|1021|(1:1023)(4:1082|(1:1086)|1087|1088)|(9:1032|1033|1034|(2:1036|1037)|1045|1046|1047|(7:1049|1050|1051|1052|1053|1054|1055)(1:1072)|1056)(1:1025)|1026|(3:1028|(1:1030)|1031)|968|961|962)(3:1089|(1:1091)|1092))|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962))(1:1096)|1095|1009|(0)(0)|1012|(3:1014|1016|(0)(0))|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)(17:1119|1001|1002|(0)(0)|1095|1009|(0)(0)|1012|(0)|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)))|1000|1001|1002|(0)(0)|1095|1009|(0)(0)|1012|(0)|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)(1:1140)))|966)|960|961|962)(1:1160)|967|968|961|962)|963)))|941)|911|751|752|(1:754)|756))|1607|(4:1609|1610|1611|(5:1613|(1:1615)(1:1622)|1616|(1:1618)(1:1621)|1619))(1:1628)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756)(1:828))(1:1678)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(3:866|867|(0))|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756)|722|(0)|799|800|(0)(0)|806|807|(2:809|811)|812|813|(0)(0)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(0)|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756))|710|(1:712)|1701|(0)|722|(0)|799|800|(0)(0)|806|807|(0)|812|813|(0)(0)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(0)|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756) */
    /* JADX WARN: Can't wrap try/catch for region: R(73:685|686|687|688|(3:690|691|692)(2:1734|1735)|693|694|(5:696|(1:698)(2:1722|(1:1724)(1:1725))|699|(1:701)(1:1721)|702)(2:1726|(1:1728)(1:1729))|(2:1716|1717)|704|(1:706)(1:1715)|707|(1:709)(2:1702|(2:1704|1705)(60:1706|1707|(1:1701)(4:714|(2:719|720)|1700|720)|(57:1692|1693|(2:724|725)|799|800|(4:802|803|804|805)(1:1686)|806|807|(1:811)|812|813|(8:815|(1:817)(1:1677)|818|(1:820)(1:1676)|821|(1:823)(1:1675)|824|(44:1674|830|(2:832|(3:835|(1:837)|838))(1:1671)|840|841|842|843|844|846|847|848|849|850|851|(1:1645)(4:854|855|(1:857)(1:1640)|858)|859|860|861|862|863|(3:866|867|(27:869|870|871|872|873|874|875|876|877|878|879|880|881|(2:1577|1578)(1:883)|(3:1574|1575|1576)(7:885|886|887|888|889|890|891)|892|(11:1475|1476|1477|(4:1479|1480|(9:1482|(1:1484)|1554|1488|1489|(1:1491)|(1:(9:1494|1495|1496|(1:1498)|1499|1500|(3:1502|1503|1504)(4:1517|1518|1519|1520)|1505|1506)(6:1537|(1:1539)|1540|(1:1542)|1543|1544))(1:1546)|1545|1506)(1:1555)|1485)(1:1556)|1487|1488|1489|(0)|(0)(0)|1545|1506)(5:894|895|896|(3:898|899|900)(1:1465)|901)|(1:903)(1:1464)|904|905|906|(2:(6:913|914|(3:916|917|918)(1:1455)|(6:920|921|922|(5:924|925|926|(4:928|(1:930)(1:1376)|931|(1:933)(1:1375))(1:1377)|934)(2:1382|(2:1442|(2:1444|(3:1365|1366|(2:1368|1369))))(15:1387|1388|(4:1423|1424|1425|(3:1427|1428|1429))(1:1390)|1391|1392|1393|1394|1395|(1:1397)|1398|(1:1400)(1:1417)|1401|(2:1407|(4:1411|(1:1413)|1414|1415))|1416|1415))|935|(0))(1:1450)|937|(1:(10:942|943|944|(1:946)(1:1359)|947|948|949|(1:951)(4:1164|(4:1343|1344|(1:1346)|1347)(2:1166|(4:1297|1298|(1:1339)(10:1301|1302|1303|1304|1305|1306|1307|(3:1309|1310|(7:1312|1313|1314|(1:1316)(1:1324)|(1:1318)(1:1323)|1319|1320))(1:1331)|1330|1320)|1321)(3:1168|1169|(5:1171|1172|1173|(1:1175)(1:1284)|(10:1177|1178|(5:1196|1197|1198|(5:(1:1243)(3:1203|1204|1205)|(2:1209|1210)|1211|1212|(1:1228)(5:1216|1217|1218|(1:1220)|1221))(2:1244|(13:1246|(3:1250|(2:1256|(2:1258|1259)(1:1266))|1267)|1272|1260|(1:1263)|1264|1265|1182|1183|(1:1185)(1:1189)|1186|1187|1188))|1222)(1:1180)|1181|1182|1183|(0)(0)|1186|1187|1188)(4:1280|1281|1282|1283))(3:1289|1290|1291)))|1322|1188)|(3:1161|1162|1163)(6:953|(7:955|956|957|(1:959)(3:964|(2:969|(3:1144|1145|(1:1147))(1:(26:972|973|(1:975)(1:1139)|976|977|978|(3:982|983|984)|998|(3:1097|1098|(6:1100|1101|1102|1103|1104|(18:1106|(3:1112|1113|1114)(3:1108|1109|1110)|1111|1002|(2:1004|(13:1008|1009|(1:1011)(1:1094)|1012|(2:1016|(10:1018|(1:1020)|1021|(1:1023)(4:1082|(1:1086)|1087|1088)|(9:1032|1033|1034|(2:1036|1037)|1045|1046|1047|(7:1049|1050|1051|1052|1053|1054|1055)(1:1072)|1056)(1:1025)|1026|(3:1028|(1:1030)|1031)|968|961|962)(3:1089|(1:1091)|1092))|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962))(1:1096)|1095|1009|(0)(0)|1012|(3:1014|1016|(0)(0))|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)(17:1119|1001|1002|(0)(0)|1095|1009|(0)(0)|1012|(0)|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)))|1000|1001|1002|(0)(0)|1095|1009|(0)(0)|1012|(0)|1093|(0)(0)|(0)(0)|1026|(0)|968|961|962)(1:1140)))|966)|960|961|962)(1:1160)|967|968|961|962)|963)))|941)|911|751|752|(1:754)|756))|1607|(4:1609|1610|1611|(5:1613|(1:1615)(1:1622)|1616|(1:1618)(1:1621)|1619))(1:1628)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756)(1:828))(1:1678)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(3:866|867|(0))|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756)|722|(0)|799|800|(0)(0)|806|807|(2:809|811)|812|813|(0)(0)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(0)|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756))|710|(1:712)|1701|(0)|722|(0)|799|800|(0)(0)|806|807|(0)|812|813|(0)(0)|829|830|(0)(0)|840|841|842|843|844|846|847|848|849|850|851|(0)|1645|859|860|861|862|863|(0)|1607|(0)(0)|1623|876|877|878|879|880|881|(0)(0)|(0)(0)|892|(0)(0)|(0)(0)|904|905|906|(8:(0)|913|914|(0)(0)|(0)(0)|937|(11:(0)|942|943|944|(0)(0)|947|948|949|(0)(0)|(0)(0)|963)|941)|911|751|752|(0)|756) */
    /* JADX WARN: Code restructure failed: missing block: B:1232:0x1879, code lost:
        r7 = r13;
        r8 = r22;
        r2 = r67;
        r1 = r75;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1233:0x1897, code lost:
        throw new java.lang.RuntimeException("unexpected result from decoder.dequeueOutputBuffer: " + r5);
     */
    /* JADX WARN: Code restructure failed: missing block: B:1284:0x19b3, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1285:0x19b4, code lost:
        r46 = r3;
        r23 = r15;
        r3 = r26;
        r9 = r61;
        r1 = r75;
        r2 = r57;
        r5 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1294:0x19e4, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1295:0x19e5, code lost:
        r27 = r3;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1298:0x19fb, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1299:0x19fc, code lost:
        r27 = r3;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1302:0x1a0c, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1303:0x1a0d, code lost:
        r27 = r3;
        r9 = r61;
        r1 = r75;
        r3 = r2;
        r15 = r14;
        r11 = r27;
        r2 = r57;
        r14 = r11;
        r5 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1306:0x1a27, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1307:0x1a28, code lost:
        r27 = r3;
        r25 = r14;
        r23 = r15;
        r9 = r61;
        r1 = r75;
        r3 = r2;
        r2 = r57;
        r5 = -5;
        r7 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1310:0x1a3d, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1311:0x1a3e, code lost:
        r3 = r4;
        r25 = r15;
        r27 = r19;
        r17 = r7;
        r6 = r13;
        r9 = r61;
        r1 = r75;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1312:0x1a4b, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1313:0x1a4c, code lost:
        r3 = r4;
        r25 = r15;
        r27 = r19;
        r17 = r7;
        r6 = r13;
        r9 = r61;
        r23 = r69;
        r1 = r75;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1314:0x1a5b, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1315:0x1a5c, code lost:
        r3 = r4;
        r17 = r7;
        r6 = r13;
        r1 = r5;
        r25 = r15;
        r27 = r19;
        r9 = r61;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1316:0x1a67, code lost:
        r4 = r90;
        r8 = r0;
        r15 = r25;
        r11 = r27;
        r2 = r57;
        r14 = r11;
        r5 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1317:0x1a77, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1318:0x1a78, code lost:
        r3 = r4;
        r17 = r7;
        r6 = r13;
        r1 = r5;
        r25 = r15;
        r27 = r19;
        r9 = r61;
        r23 = r69;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1319:0x1a85, code lost:
        r4 = r90;
        r8 = r0;
        r2 = r57;
        r5 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1320:0x1a8d, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1321:0x1a8e, code lost:
        r3 = r4;
        r17 = r7;
        r1 = r5;
        r25 = r15;
        r27 = r19;
        r9 = r61;
        r4 = r90;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1322:0x1a9b, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1323:0x1a9c, code lost:
        r3 = r4;
        r17 = r7;
        r1 = r5;
        r25 = r15;
        r27 = r19;
        r9 = r61;
        r23 = r69;
        r4 = r90;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1324:0x1aab, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1325:0x1aac, code lost:
        r3 = r4;
        r17 = r7;
        r4 = r90;
        r1 = r5;
        r25 = r15;
        r27 = r19;
        r9 = r61;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1326:0x1ab7, code lost:
        r8 = r0;
        r15 = r25;
        r11 = r27;
        r2 = r57;
        r14 = r11;
        r5 = null;
        r6 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1327:0x1ac4, code lost:
        r7 = -5;
        r12 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1329:0x1aca, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1330:0x1acb, code lost:
        r3 = r4;
        r17 = r7;
        r4 = r90;
        r1 = r5;
        r25 = r15;
        r27 = r19;
        r9 = r61;
        r23 = r69;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1331:0x1ad8, code lost:
        r8 = r0;
        r2 = r57;
        r5 = -5;
        r6 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1332:0x1add, code lost:
        r7 = null;
        r12 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1334:0x1ae3, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1335:0x1ae4, code lost:
        r3 = r4;
        r17 = r7;
        r4 = r90;
        r1 = r5;
        r9 = r61;
        r8 = r0;
        r15 = r15;
        r11 = r19;
        r2 = r57;
        r14 = r11;
        r5 = null;
        r6 = null;
        r7 = -5;
        r12 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1336:0x1b00, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1337:0x1b01, code lost:
        r3 = r4;
        r17 = r7;
        r4 = r90;
        r1 = r5;
        r25 = r15;
        r27 = r19;
        r9 = r61;
        r23 = r69;
        r8 = r0;
        r2 = r57;
        r5 = -5;
        r6 = null;
        r7 = null;
        r12 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1338:0x1b17, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1339:0x1b18, code lost:
        r3 = r4;
        r4 = r90;
        r1 = r5;
        r9 = r61;
        r8 = r0;
        r15 = r15;
        r11 = r19;
        r2 = r57;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1340:0x1b2b, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1341:0x1b2c, code lost:
        r3 = r4;
        r4 = r90;
        r1 = r5;
        r25 = r15;
        r27 = r19;
        r9 = r61;
        r23 = r69;
        r8 = r0;
        r2 = r57;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1342:0x1b3c, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1343:0x1b3d, code lost:
        r3 = r4;
        r4 = r90;
        r1 = r5;
        r25 = r15;
        r27 = r19;
        r9 = r61;
        r23 = r69;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1344:0x1b49, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1345:0x1b4a, code lost:
        r3 = r4;
        r4 = r90;
        r1 = r5;
        r9 = r61;
        r8 = r0;
        r2 = r6;
        r15 = r15;
        r11 = r19;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1347:0x1b5f, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1348:0x1b60, code lost:
        r3 = r4;
        r23 = r5;
        r4 = r90;
        r1 = r5;
        r25 = r15;
        r27 = r19;
        r9 = r61;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1349:0x1b6b, code lost:
        r8 = r0;
        r2 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1445:0x1d03, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1446:0x1d04, code lost:
        r17 = r6;
        r4 = r90;
        r13 = r14;
        r62 = r34;
        r9 = r55;
        r14 = "x";
        r34 = r33;
        r1 = r5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1450:0x1d1c, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1451:0x1d1d, code lost:
        r4 = r90;
        r62 = r34;
        r14 = "x";
        r34 = r33;
        r1 = r5;
        r8 = r0;
        r11 = r14;
        r2 = r6;
        r3 = null;
        r5 = null;
        r6 = null;
        r7 = -5;
        r9 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:277:0x060c, code lost:
        throw new java.lang.RuntimeException("unsupported!!");
     */
    /* JADX WARN: Code restructure failed: missing block: B:32:0x0110, code lost:
        if (r2.useMatrix == null) goto L611;
     */
    /* JADX WARN: Code restructure failed: missing block: B:360:0x07ac, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:361:0x07ad, code lost:
        r8 = r0;
        r3 = r9;
        r15 = r12;
        r62 = r34;
        r74 = r36;
        r17 = r38;
        r14 = "x";
        r5 = null;
        r7 = -5;
        r47 = false;
        r9 = r55;
        r12 = r6;
        r4 = r90;
        r34 = r33;
        r6 = r10;
        r1 = r2;
     */
    /* JADX WARN: Code restructure failed: missing block: B:363:0x07cc, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:364:0x07cd, code lost:
        r17 = r2;
     */
    /* JADX WARN: Code restructure failed: missing block: B:367:0x07d6, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:368:0x07d7, code lost:
        r4 = r55;
        r8 = r0;
        r6 = r10;
        r1 = r2;
        r3 = r9;
        r15 = r12;
     */
    /* JADX WARN: Code restructure failed: missing block: B:369:0x07e2, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:370:0x07e3, code lost:
        r17 = r2;
        r4 = r55;
     */
    /* JADX WARN: Code restructure failed: missing block: B:373:0x07f9, code lost:
        r62 = r34;
        r74 = r36;
        r2 = r37;
        r17 = r38;
        r14 = "x";
        r5 = null;
        r6 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:376:0x080d, code lost:
        r14 = r11;
        r15 = r12;
        r6 = null;
        r10 = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:729:0x100b, code lost:
        if (r8.getString(r10).equals("audio/mpeg") != false) goto L1554;
     */
    /* JADX WARN: Code restructure failed: missing block: B:793:0x115a, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:794:0x115b, code lost:
        r8 = r0;
        r46 = r3;
        r23 = r15;
        r3 = r26;
        r2 = r57;
        r9 = r61;
        r1 = r75;
        r5 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:795:0x116b, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:797:0x116d, code lost:
        r0 = e;
     */
    /* JADX WARN: Finally extract failed */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:1071:0x160f  */
    /* JADX WARN: Removed duplicated region for block: B:1072:0x1611  */
    /* JADX WARN: Removed duplicated region for block: B:111:0x02ff  */
    /* JADX WARN: Removed duplicated region for block: B:1149:0x1770 A[Catch: all -> 0x1785, Exception -> 0x1787, TryCatch #92 {Exception -> 0x1787, blocks: (B:1122:0x16f4, B:1127:0x1704, B:1132:0x1718, B:1149:0x1770, B:1151:0x177a, B:1170:0x17a2, B:1172:0x17a6, B:1185:0x17e6, B:1174:0x17c6, B:1176:0x17cf, B:1129:0x170e, B:1131:0x1715), top: B:1588:0x16f4 }] */
    /* JADX WARN: Removed duplicated region for block: B:1158:0x1789  */
    /* JADX WARN: Removed duplicated region for block: B:1162:0x1791  */
    /* JADX WARN: Removed duplicated region for block: B:1163:0x1794  */
    /* JADX WARN: Removed duplicated region for block: B:1166:0x179a  */
    /* JADX WARN: Removed duplicated region for block: B:1170:0x17a2 A[Catch: all -> 0x1785, Exception -> 0x1787, TryCatch #92 {Exception -> 0x1787, blocks: (B:1122:0x16f4, B:1127:0x1704, B:1132:0x1718, B:1149:0x1770, B:1151:0x177a, B:1170:0x17a2, B:1172:0x17a6, B:1185:0x17e6, B:1174:0x17c6, B:1176:0x17cf, B:1129:0x170e, B:1131:0x1715), top: B:1588:0x16f4 }] */
    /* JADX WARN: Removed duplicated region for block: B:1174:0x17c6 A[Catch: all -> 0x1785, Exception -> 0x1787, TryCatch #92 {Exception -> 0x1787, blocks: (B:1122:0x16f4, B:1127:0x1704, B:1132:0x1718, B:1149:0x1770, B:1151:0x177a, B:1170:0x17a2, B:1172:0x17a6, B:1185:0x17e6, B:1174:0x17c6, B:1176:0x17cf, B:1129:0x170e, B:1131:0x1715), top: B:1588:0x16f4 }] */
    /* JADX WARN: Removed duplicated region for block: B:1180:0x17d7  */
    /* JADX WARN: Removed duplicated region for block: B:1181:0x17dc  */
    /* JADX WARN: Removed duplicated region for block: B:1215:0x1847  */
    /* JADX WARN: Removed duplicated region for block: B:1218:0x1853 A[Catch: all -> 0x1898, Exception -> 0x189a, TryCatch #199 {Exception -> 0x189a, all -> 0x1898, blocks: (B:1208:0x1835, B:1216:0x184d, B:1218:0x1853, B:1220:0x1857, B:1221:0x185c, B:1232:0x1879, B:1233:0x1897), top: B:1710:0x1835 }] */
    /* JADX WARN: Removed duplicated region for block: B:132:0x0393  */
    /* JADX WARN: Removed duplicated region for block: B:1365:0x1bbd  */
    /* JADX WARN: Removed duplicated region for block: B:1368:0x1bc4 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:1380:0x1c08 A[Catch: all -> 0x1c16, TRY_LEAVE, TryCatch #216 {all -> 0x1c16, blocks: (B:1378:0x1bff, B:1380:0x1c08), top: B:1652:0x1bff }] */
    /* JADX WARN: Removed duplicated region for block: B:1397:0x1c45  */
    /* JADX WARN: Removed duplicated region for block: B:1404:0x1c77 A[Catch: all -> 0x1c69, TryCatch #35 {all -> 0x1c69, blocks: (B:1399:0x1c64, B:1404:0x1c77, B:1406:0x1c7d), top: B:1551:0x1c64 }] */
    /* JADX WARN: Removed duplicated region for block: B:1406:0x1c7d A[Catch: all -> 0x1c69, TRY_LEAVE, TryCatch #35 {all -> 0x1c69, blocks: (B:1399:0x1c64, B:1404:0x1c77, B:1406:0x1c7d), top: B:1551:0x1c64 }] */
    /* JADX WARN: Removed duplicated region for block: B:1408:0x1c86  */
    /* JADX WARN: Removed duplicated region for block: B:1415:0x1ca0  */
    /* JADX WARN: Removed duplicated region for block: B:1457:0x1d6b  */
    /* JADX WARN: Removed duplicated region for block: B:1482:0x1da8  */
    /* JADX WARN: Removed duplicated region for block: B:1484:0x1db4  */
    /* JADX WARN: Removed duplicated region for block: B:1531:0x0c29 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1547:0x02d4 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:154:0x0407  */
    /* JADX WARN: Removed duplicated region for block: B:1551:0x1c64 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1553:0x1cc8 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1557:0x1ccf A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1559:0x1cba A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:155:0x0416  */
    /* JADX WARN: Removed duplicated region for block: B:1561:0x1cc1 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1563:0x02a0 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1566:0x0f52 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1572:0x1ca7 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1576:0x1d8c A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1578:0x033b A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1580:0x1d85 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1582:0x1d93 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1584:0x0f7d A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1586:0x1c8a A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:159:0x0427  */
    /* JADX WARN: Removed duplicated region for block: B:160:0x0435  */
    /* JADX WARN: Removed duplicated region for block: B:1611:0x0942 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1619:0x1d9a A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1621:0x1d72 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1646:0x0c20 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1676:0x0fd1 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1692:0x17f3 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1735:0x1351 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1764:0x03c3 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1800:0x066f A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1802:0x065b A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1818:0x1635 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1820:0x161d A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:19:0x00ea  */
    /* JADX WARN: Removed duplicated region for block: B:293:0x064e  */
    /* JADX WARN: Removed duplicated region for block: B:294:0x0650  */
    /* JADX WARN: Removed duplicated region for block: B:417:0x0900 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:433:0x0965 A[Catch: all -> 0x0947, TryCatch #135 {all -> 0x0947, blocks: (B:429:0x0942, B:433:0x0965, B:435:0x096b, B:437:0x0974, B:438:0x0977), top: B:1611:0x0942 }] */
    /* JADX WARN: Removed duplicated region for block: B:435:0x096b A[Catch: all -> 0x0947, TryCatch #135 {all -> 0x0947, blocks: (B:429:0x0942, B:433:0x0965, B:435:0x096b, B:437:0x0974, B:438:0x0977), top: B:1611:0x0942 }] */
    /* JADX WARN: Removed duplicated region for block: B:437:0x0974 A[Catch: all -> 0x0947, TryCatch #135 {all -> 0x0947, blocks: (B:429:0x0942, B:433:0x0965, B:435:0x096b, B:437:0x0974, B:438:0x0977), top: B:1611:0x0942 }] */
    /* JADX WARN: Removed duplicated region for block: B:454:0x09ef  */
    /* JADX WARN: Removed duplicated region for block: B:492:0x0b21  */
    /* JADX WARN: Removed duplicated region for block: B:570:0x0c52 A[Catch: all -> 0x0c2e, Exception -> 0x0c3e, TRY_ENTER, TRY_LEAVE, TryCatch #8 {all -> 0x0c2e, blocks: (B:562:0x0c29, B:570:0x0c52, B:572:0x0c59, B:579:0x0ca2, B:581:0x0ca8, B:585:0x0cc4, B:587:0x0cce, B:589:0x0cda, B:591:0x0ce2, B:593:0x0cee, B:595:0x0cf6, B:609:0x0d23, B:615:0x0d37), top: B:1531:0x0c29 }] */
    /* JADX WARN: Removed duplicated region for block: B:576:0x0c89  */
    /* JADX WARN: Removed duplicated region for block: B:579:0x0ca2 A[Catch: all -> 0x0c2e, Exception -> 0x0c79, TRY_ENTER, TryCatch #8 {all -> 0x0c2e, blocks: (B:562:0x0c29, B:570:0x0c52, B:572:0x0c59, B:579:0x0ca2, B:581:0x0ca8, B:585:0x0cc4, B:587:0x0cce, B:589:0x0cda, B:591:0x0ce2, B:593:0x0cee, B:595:0x0cf6, B:609:0x0d23, B:615:0x0d37), top: B:1531:0x0c29 }] */
    /* JADX WARN: Removed duplicated region for block: B:585:0x0cc4 A[Catch: all -> 0x0c2e, Exception -> 0x0c79, TRY_ENTER, TryCatch #8 {all -> 0x0c2e, blocks: (B:562:0x0c29, B:570:0x0c52, B:572:0x0c59, B:579:0x0ca2, B:581:0x0ca8, B:585:0x0cc4, B:587:0x0cce, B:589:0x0cda, B:591:0x0ce2, B:593:0x0cee, B:595:0x0cf6, B:609:0x0d23, B:615:0x0d37), top: B:1531:0x0c29 }] */
    /* JADX WARN: Removed duplicated region for block: B:605:0x0d12  */
    /* JADX WARN: Removed duplicated region for block: B:609:0x0d23 A[Catch: all -> 0x0c2e, Exception -> 0x0c79, TryCatch #8 {all -> 0x0c2e, blocks: (B:562:0x0c29, B:570:0x0c52, B:572:0x0c59, B:579:0x0ca2, B:581:0x0ca8, B:585:0x0cc4, B:587:0x0cce, B:589:0x0cda, B:591:0x0ce2, B:593:0x0cee, B:595:0x0cf6, B:609:0x0d23, B:615:0x0d37), top: B:1531:0x0c29 }] */
    /* JADX WARN: Removed duplicated region for block: B:617:0x0d3d  */
    /* JADX WARN: Removed duplicated region for block: B:625:0x0d75 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:642:0x0dfb A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:645:0x0e03  */
    /* JADX WARN: Removed duplicated region for block: B:669:0x0ec1  */
    /* JADX WARN: Removed duplicated region for block: B:690:0x0f37  */
    /* JADX WARN: Removed duplicated region for block: B:704:0x0f79  */
    /* JADX WARN: Removed duplicated region for block: B:711:0x0f9f  */
    /* JADX WARN: Removed duplicated region for block: B:735:0x1020  */
    /* JADX WARN: Removed duplicated region for block: B:737:0x1023  */
    /* JADX WARN: Removed duplicated region for block: B:772:0x10d8  */
    /* JADX WARN: Removed duplicated region for block: B:787:0x1123  */
    /* JADX WARN: Removed duplicated region for block: B:802:0x1177  */
    /* JADX WARN: Removed duplicated region for block: B:803:0x1179  */
    /* JADX WARN: Removed duplicated region for block: B:807:0x119e A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:813:0x11c2  */
    /* JADX WARN: Removed duplicated region for block: B:824:0x11f4  */
    /* JADX WARN: Removed duplicated region for block: B:826:0x11fa  */
    /* JADX WARN: Removed duplicated region for block: B:919:0x13b2  */
    /* JADX WARN: Removed duplicated region for block: B:922:0x13ce A[ADDED_TO_REGION, EDGE_INSN: B:922:0x13ce->B:1819:0x13d1 ?: BREAK  ] */
    /* JADX WARN: Removed duplicated region for block: B:928:0x13f2  */
    /* JADX WARN: Removed duplicated region for block: B:929:0x1401  */
    /* JADX WARN: Removed duplicated region for block: B:933:0x1412  */
    /* JADX WARN: Removed duplicated region for block: B:934:0x1424  */
    /* JADX WARN: Removed duplicated region for block: B:96:0x02ce  */
    /* JADX WARN: Type inference failed for: r10v143 */
    /* JADX WARN: Type inference failed for: r10v189 */
    /* JADX WARN: Type inference failed for: r10v94, types: [org.telegram.messenger.video.MP4Builder] */
    /* JADX WARN: Type inference failed for: r1v119 */
    /* JADX WARN: Type inference failed for: r1v121 */
    /* JADX WARN: Type inference failed for: r1v125 */
    /* JADX WARN: Type inference failed for: r1v148 */
    /* JADX WARN: Type inference failed for: r1v149 */
    /* JADX WARN: Type inference failed for: r1v151 */
    /* JADX WARN: Type inference failed for: r1v177 */
    /* JADX WARN: Type inference failed for: r1v181 */
    /* JADX WARN: Type inference failed for: r1v182 */
    /* JADX WARN: Type inference failed for: r1v183 */
    /* JADX WARN: Type inference failed for: r1v189 */
    /* JADX WARN: Type inference failed for: r1v82 */
    /* JADX WARN: Type inference failed for: r1v85 */
    /* JADX WARN: Type inference failed for: r26v1, types: [float] */
    /* JADX WARN: Type inference failed for: r26v10 */
    /* JADX WARN: Type inference failed for: r26v11 */
    /* JADX WARN: Type inference failed for: r26v2 */
    /* JADX WARN: Type inference failed for: r26v3 */
    /* JADX WARN: Type inference failed for: r26v4 */
    /* JADX WARN: Type inference failed for: r26v5 */
    /* JADX WARN: Type inference failed for: r2v19, types: [boolean] */
    /* JADX WARN: Type inference failed for: r2v294 */
    /* JADX WARN: Type inference failed for: r2v295 */
    /* JADX WARN: Type inference failed for: r2v298 */
    /* JADX WARN: Type inference failed for: r2v299 */
    /* JADX WARN: Type inference failed for: r2v310 */
    /* JADX WARN: Type inference failed for: r2v311 */
    /* JADX WARN: Type inference failed for: r2v312, types: [org.telegram.messenger.video.InputSurface] */
    /* JADX WARN: Type inference failed for: r3v1, types: [long] */
    /* JADX WARN: Type inference failed for: r3v148 */
    /* JADX WARN: Type inference failed for: r3v218 */
    /* JADX WARN: Type inference failed for: r3v61, types: [int] */
    /* JADX WARN: Type inference failed for: r5v12, types: [java.lang.StringBuilder] */
    /* JADX WARN: Type inference failed for: r6v116 */
    /* JADX WARN: Type inference failed for: r6v270 */
    /* JADX WARN: Type inference failed for: r6v80 */
    /* JADX WARN: Type inference failed for: r6v81 */
    /* JADX WARN: Type inference failed for: r6v91 */
    /* JADX WARN: Type inference failed for: r6v98 */
    /* JADX WARN: Type inference failed for: r7v37, types: [android.media.MediaExtractor] */
    /* JADX WARN: Type inference failed for: r9v134, types: [org.telegram.messenger.video.Mp4Movie] */
    @TargetApi(18)
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private boolean convertVideoInternal(ConvertVideoParams convertVideoParams, boolean z, int i) {
        String str;
        String str2;
        MediaCodecVideoConvertor mediaCodecVideoConvertor;
        File file;
        String str3;
        int i2;
        Throwable th;
        int i3;
        int i4;
        MediaCodec mediaCodec;
        MediaCodec mediaCodec2;
        int i5;
        MediaCodec.BufferInfo bufferInfo;
        String str4;
        OutputSurface outputSurface;
        boolean z2;
        boolean z3;
        InputSurface inputSurface;
        MediaExtractor mediaExtractor;
        Muxer muxer;
        int i6;
        int i7;
        String str5;
        boolean z4;
        boolean z5;
        int i8;
        int i9;
        String str6;
        boolean z6;
        String str7;
        int i10;
        InputSurface inputSurface2;
        int i11;
        boolean z7;
        int i12;
        int i13;
        OutputSurface outputSurface2;
        InputSurface inputSurface3;
        MediaCodec mediaCodec3;
        int i14;
        AudioRecoder audioRecoder;
        boolean z8;
        Throwable th2;
        MediaCodec mediaCodec4;
        OutputSurface outputSurface3;
        InputSurface inputSurface4;
        int i15;
        MediaCodec mediaCodec5;
        MediaCodec mediaCodec6;
        int i16;
        int i17;
        int i18;
        int i19;
        int i20;
        Exception exc;
        MediaCodec mediaCodec7;
        int i21;
        boolean z9;
        long j;
        int i22;
        long j2;
        MediaFormat trackFormat;
        int i23;
        int i24;
        String str8;
        long j3;
        long j4;
        long j5;
        int i25;
        int i26;
        int i27;
        MediaCodec createByCodecName;
        int i28;
        MediaFormat createVideoFormat;
        int i29;
        boolean z10;
        MediaFormat mediaFormat;
        float f;
        int i30;
        int i31;
        int i32;
        boolean z11;
        int i33;
        StoryEntry.HDRInfo hDRInfo;
        MediaCodec mediaCodec8;
        int i34;
        int i35;
        Object obj;
        boolean z12;
        String str9;
        MediaFormat mediaFormat2;
        long j6;
        long j7;
        int i36;
        String str10;
        int i37;
        int i38;
        long j8;
        int i39;
        InputSurface inputSurface5;
        ?? r3;
        int i40;
        ByteBuffer[] inputBuffers;
        ByteBuffer[] outputBuffers;
        ByteBuffer[] byteBufferArr;
        ConvertVideoParams convertVideoParams2;
        String str11;
        boolean z13;
        MediaCodec mediaCodec9;
        boolean z14;
        long j9;
        int i41;
        AudioRecoder audioRecoder2;
        int i42;
        ByteBuffer byteBuffer;
        boolean z15;
        long j10;
        boolean z16;
        boolean z17;
        boolean z18;
        int i43;
        OutputSurface outputSurface4;
        int i44;
        OutputSurface outputSurface5;
        boolean z19;
        Throwable th3;
        int i45;
        ByteBuffer[] byteBufferArr2;
        InputSurface inputSurface6;
        boolean z20;
        boolean z21;
        int i46;
        boolean z22;
        int i47;
        int i48;
        long j11;
        boolean z23;
        ?? r6;
        InputSurface inputSurface7;
        boolean z24;
        int i49;
        boolean z25;
        boolean z26;
        long j12;
        int dequeueOutputBuffer;
        long j13;
        OutputSurface outputSurface6;
        String str12;
        int i50;
        MediaCodec mediaCodec10;
        OutputSurface outputSurface7;
        int i51;
        int i52;
        int i53;
        boolean z27;
        ByteBuffer outputBuffer;
        ByteBuffer byteBuffer2;
        ByteBuffer byteBuffer3;
        Exception e;
        MediaController.VideoConvertorListener videoConvertorListener;
        int i54;
        OutputSurface outputSurface8;
        long j14;
        OutputSurface outputSurface9;
        long j15;
        InputSurface inputSurface8;
        boolean z28;
        boolean z29;
        boolean z30;
        long j16;
        long j17;
        boolean z31;
        boolean z32;
        boolean z33;
        long sampleSize;
        int i55;
        ByteBuffer byteBuffer4;
        MediaController.VideoConvertorListener videoConvertorListener2;
        ByteBuffer inputBuffer;
        int i56;
        InputSurface inputSurface9;
        int i57;
        int i58;
        MediaExtractor mediaExtractor2;
        Muxer muxer2;
        MediaController.CropState cropState;
        Exception exc2;
        int i59;
        int i60;
        int i61;
        MediaCodec.BufferInfo bufferInfo2;
        InputSurface inputSurface10;
        OutputSurface outputSurface10;
        MediaCodec mediaCodec11;
        InputSurface inputSurface11;
        AudioRecoder audioRecoder3;
        boolean z34;
        String str13;
        int i62;
        InputSurface inputSurface12;
        InputSurface inputSurface13;
        InputSurface inputSurface14;
        int i63;
        InputSurface inputSurface15;
        int i64;
        int i65;
        boolean z35;
        boolean z36;
        InputSurface inputSurface16;
        int i66;
        String str14;
        String name;
        InputSurface inputSurface17;
        InputSurface inputSurface18;
        OutputSurface outputSurface11;
        MediaController.CropState cropState2;
        int i67;
        ByteBuffer[] outputBuffers2;
        ByteBuffer[] byteBufferArr3;
        ConvertVideoParams convertVideoParams3;
        InputSurface inputSurface19;
        InputSurface inputSurface20;
        Throwable th4;
        InputSurface inputSurface21;
        AudioRecoder audioRecoder4;
        int addTrack;
        boolean z37;
        boolean z38;
        InputSurface inputSurface22;
        boolean z39;
        boolean z40;
        int i68;
        String str15;
        boolean z41;
        int i69;
        boolean z42;
        int i70;
        int i71;
        long j18;
        int dequeueOutputBuffer2;
        String str16;
        OutputSurface outputSurface12;
        int i72;
        String str17;
        int i73;
        int i74;
        ByteBuffer outputBuffer2;
        int i75;
        boolean z43;
        ByteBuffer byteBuffer5;
        ByteBuffer byteBuffer6;
        MediaController.VideoConvertorListener videoConvertorListener3;
        ?? r2;
        String str18;
        String str19 = convertVideoParams.videoPath;
        File file2 = convertVideoParams.cacheFile;
        int i76 = convertVideoParams.rotationValue;
        boolean z44 = convertVideoParams.isSecret;
        int i77 = convertVideoParams.originalWidth;
        int i78 = convertVideoParams.originalHeight;
        int i79 = convertVideoParams.resultWidth;
        int i80 = convertVideoParams.resultHeight;
        int i81 = convertVideoParams.framerate;
        int i82 = convertVideoParams.bitrate;
        int i83 = convertVideoParams.originalBitrate;
        ?? r32 = convertVideoParams.startTime;
        long j19 = convertVideoParams.endTime;
        long j20 = convertVideoParams.avatarStartTime;
        File file3 = convertVideoParams.needCompress ? 1 : 0;
        File file4 = file2;
        long j21 = convertVideoParams.duration;
        MediaController.SavedFilterState savedFilterState = convertVideoParams.savedFilterState;
        String str20 = convertVideoParams.paintPath;
        String str21 = convertVideoParams.blurPath;
        ArrayList<VideoEditedInfo.MediaEntity> arrayList = convertVideoParams.mediaEntities;
        boolean z45 = convertVideoParams.isPhoto;
        MediaController.CropState cropState3 = convertVideoParams.cropState;
        boolean z46 = convertVideoParams.isRound;
        Integer num = convertVideoParams.gradientTopColor;
        Integer num2 = convertVideoParams.gradientBottomColor;
        boolean z47 = convertVideoParams.muted;
        float f2 = convertVideoParams.volume;
        boolean z48 = convertVideoParams.isStory;
        StoryEntry.HDRInfo hDRInfo2 = convertVideoParams.hdrInfo;
        FileLog.d("convertVideoInternal original=" + i77 + "x" + i78 + "  result=" + i79 + "x" + i80 + " " + j20);
        long currentTimeMillis = System.currentTimeMillis();
        boolean z49 = j20 >= 0;
        boolean z50 = convertVideoParams.isSticker;
        if (z50) {
            str = "video/x-vnd.on2.vp9";
        } else if (z48) {
            str2 = "video/hevc";
            this.outputMimeType = str2;
            long j22 = j20;
            float f3 = ((float) j21) / 1000.0f;
            MediaCodec.BufferInfo bufferInfo3 = new MediaCodec.BufferInfo();
            long j23 = j21 * 1000;
            this.endPresentationTime = j23;
            checkConversionCanceled();
            String str22 = "prepend-sps-pps-to-idr-frames";
            String str23 = "csd-0";
            if (!z45) {
                if (z49) {
                    i82 = f3 <= 2000.0f ? 2600000 : f3 <= 5000.0f ? 2200000 : 1560000;
                } else if (i82 <= 0) {
                    i82 = 921600;
                }
                if (cropState3 != null) {
                    cropState = cropState3;
                    try {
                    } catch (Exception e2) {
                        exc2 = e2;
                        i59 = i82;
                        i61 = i81;
                        bufferInfo2 = bufferInfo3;
                        outputSurface10 = null;
                        mediaCodec11 = null;
                        inputSurface11 = null;
                        audioRecoder3 = null;
                        z34 = false;
                        str13 = null;
                        i62 = -5;
                        inputSurface13 = inputSurface11;
                        try {
                            if (exc2 instanceof IllegalStateException) {
                            }
                            try {
                                StringBuilder sb = new StringBuilder();
                                sb.append("bitrate: ");
                                i63 = i59;
                                try {
                                    sb.append(i63);
                                    sb.append(" framerate: ");
                                    i64 = i61;
                                    try {
                                        sb.append(i64);
                                        sb.append(" size: ");
                                        sb.append(i80);
                                        str6 = "x";
                                        try {
                                            sb.append(str6);
                                            sb.append(i79);
                                            FileLog.e(sb.toString());
                                            FileLog.e(exc2);
                                            i65 = i80;
                                            z35 = z2;
                                            z36 = true;
                                            outputSurface3 = outputSurface10;
                                            inputSurface16 = inputSurface13;
                                            if (outputSurface3 != null) {
                                            }
                                            if (inputSurface16 != null) {
                                            }
                                            if (mediaCodec11 != null) {
                                            }
                                            if (audioRecoder3 != null) {
                                            }
                                            checkConversionCanceled();
                                            i6 = i63;
                                            inputSurface4 = inputSurface16;
                                            file = file3;
                                            z3 = z34;
                                            str4 = str13;
                                            i15 = i62;
                                            z5 = z36;
                                            mediaCodec6 = null;
                                            file3 = file4;
                                            int i84 = i65;
                                            z4 = z35;
                                            mediaCodec5 = mediaCodec11;
                                            bufferInfo = bufferInfo2;
                                            mediaCodecVideoConvertor = this;
                                            i7 = i84;
                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor2 != null) {
                                            }
                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                            if (muxer2 != null) {
                                            }
                                            if (mediaCodec5 != null) {
                                            }
                                            if (mediaCodec6 != null) {
                                            }
                                            if (outputSurface3 != null) {
                                            }
                                            if (inputSurface4 != null) {
                                            }
                                            str5 = str4;
                                        } catch (Throwable th5) {
                                            th = th5;
                                            i4 = i63;
                                            outputSurface = outputSurface10;
                                            i2 = i64;
                                            mediaCodec = mediaCodec11;
                                            inputSurface2 = inputSurface13;
                                            file = file3;
                                            z3 = z34;
                                            str4 = str13;
                                            i5 = i62;
                                            mediaCodec2 = null;
                                            bufferInfo = bufferInfo2;
                                            mediaCodecVideoConvertor = this;
                                            file3 = file4;
                                            int i85 = i80;
                                            str3 = str6;
                                            i3 = i85;
                                            inputSurface = inputSurface2;
                                            try {
                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                FileLog.e(th);
                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor != null) {
                                                }
                                                muxer = mediaCodecVideoConvertor.muxer;
                                                if (muxer != null) {
                                                }
                                                if (mediaCodec != null) {
                                                }
                                                if (mediaCodec2 != null) {
                                                }
                                                if (outputSurface != null) {
                                                }
                                                if (inputSurface != null) {
                                                }
                                                i6 = i4;
                                                i7 = i3;
                                                str5 = str4;
                                                z4 = z2;
                                                z5 = true;
                                                if (z4) {
                                                }
                                            } catch (Throwable th6) {
                                                MediaExtractor mediaExtractor3 = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor3 != null) {
                                                    mediaExtractor3.release();
                                                }
                                                Muxer muxer3 = mediaCodecVideoConvertor.muxer;
                                                if (muxer3 != null) {
                                                    try {
                                                        muxer3.finishMovie();
                                                        mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.muxer.getLastFrameTimestamp(i5, bufferInfo);
                                                    } catch (Throwable th7) {
                                                        FileLog.e(th7);
                                                    }
                                                }
                                                if (mediaCodec != null) {
                                                    try {
                                                        mediaCodec.release();
                                                    } catch (Exception unused) {
                                                    }
                                                }
                                                if (mediaCodec2 != null) {
                                                    try {
                                                        mediaCodec2.release();
                                                    } catch (Exception unused2) {
                                                    }
                                                }
                                                if (outputSurface != null) {
                                                    try {
                                                        outputSurface.release();
                                                    } catch (Exception unused3) {
                                                    }
                                                }
                                                if (inputSurface != null) {
                                                    try {
                                                        inputSurface.release();
                                                    } catch (Exception unused4) {
                                                    }
                                                }
                                                throw th6;
                                            }
                                        }
                                    } catch (Throwable th8) {
                                        th = th8;
                                        i4 = i63;
                                        outputSurface = outputSurface10;
                                        i2 = i64;
                                        mediaCodec = mediaCodec11;
                                        inputSurface15 = inputSurface13;
                                        i3 = i80;
                                        file = file3;
                                        z3 = z34;
                                        str4 = str13;
                                        i5 = i62;
                                        str3 = "x";
                                        mediaCodec2 = null;
                                        inputSurface14 = inputSurface15;
                                        inputSurface12 = inputSurface14;
                                        bufferInfo = bufferInfo2;
                                        mediaCodecVideoConvertor = this;
                                        inputSurface10 = inputSurface12;
                                        file3 = file4;
                                        inputSurface = inputSurface10;
                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                        FileLog.e(th);
                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        muxer = mediaCodecVideoConvertor.muxer;
                                        if (muxer != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface != null) {
                                        }
                                        i6 = i4;
                                        i7 = i3;
                                        str5 = str4;
                                        z4 = z2;
                                        z5 = true;
                                        if (z4) {
                                        }
                                    }
                                } catch (Throwable th9) {
                                    th = th9;
                                    th = th;
                                    i4 = i63;
                                    outputSurface = outputSurface10;
                                    mediaCodec = mediaCodec11;
                                    inputSurface15 = inputSurface13;
                                    i3 = i80;
                                    i2 = i61;
                                    file = file3;
                                    z3 = z34;
                                    str4 = str13;
                                    i5 = i62;
                                    str3 = "x";
                                    mediaCodec2 = null;
                                    inputSurface14 = inputSurface15;
                                    inputSurface12 = inputSurface14;
                                    bufferInfo = bufferInfo2;
                                    mediaCodecVideoConvertor = this;
                                    inputSurface10 = inputSurface12;
                                    file3 = file4;
                                    inputSurface = inputSurface10;
                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                    FileLog.e(th);
                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    muxer = mediaCodecVideoConvertor.muxer;
                                    if (muxer != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface != null) {
                                    }
                                    i6 = i4;
                                    i7 = i3;
                                    str5 = str4;
                                    z4 = z2;
                                    z5 = true;
                                    if (z4) {
                                    }
                                }
                            } catch (Throwable th10) {
                                th = th10;
                                i63 = i59;
                            }
                        } catch (Throwable th11) {
                            th = th11;
                            i4 = i59;
                            outputSurface = outputSurface10;
                            mediaCodec = mediaCodec11;
                            inputSurface14 = inputSurface13;
                            i3 = i80;
                            i2 = i61;
                            file = file3;
                            z3 = z34;
                            str4 = str13;
                            i5 = i62;
                            str3 = "x";
                            mediaCodec2 = null;
                            z2 = false;
                        }
                        if (z4) {
                        }
                    } catch (Throwable th12) {
                        th = th12;
                        i4 = i82;
                        mediaCodecVideoConvertor = this;
                        i3 = i80;
                        file = file3;
                        i2 = i81;
                        str3 = "x";
                        bufferInfo = bufferInfo3;
                        mediaCodec = null;
                        mediaCodec2 = null;
                        inputSurface10 = null;
                        i5 = -5;
                        outputSurface = null;
                        str4 = null;
                        z2 = false;
                        z3 = false;
                        file3 = file4;
                        inputSurface = inputSurface10;
                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                        FileLog.e(th);
                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor != null) {
                        }
                        muxer = mediaCodecVideoConvertor.muxer;
                        if (muxer != null) {
                        }
                        if (mediaCodec != null) {
                        }
                        if (mediaCodec2 != null) {
                        }
                        if (outputSurface != null) {
                        }
                        if (inputSurface != null) {
                        }
                        i6 = i4;
                        i7 = i3;
                        str5 = str4;
                        z4 = z2;
                        z5 = true;
                        if (z4) {
                        }
                    }
                } else {
                    cropState = cropState3;
                }
                try {
                    if (i79 % 16 != 0) {
                        if (BuildVars.LOGS_ENABLED) {
                            FileLog.d("changing width from " + i79 + " to " + (Math.round(i79 / 16.0f) * 16));
                        }
                        i79 = Math.round(i79 / 16.0f) * 16;
                    }
                    if (i80 % 16 != 0) {
                        if (BuildVars.LOGS_ENABLED) {
                            FileLog.d("changing height from " + i80 + " to " + (Math.round(i80 / 16.0f) * 16));
                        }
                        i80 = Math.round(i80 / 16.0f) * 16;
                    }
                    i3 = i80;
                    i66 = i79;
                } catch (Exception e3) {
                    i59 = i82;
                    i61 = i81;
                    bufferInfo2 = bufferInfo3;
                    exc2 = e3;
                    outputSurface10 = null;
                    mediaCodec11 = null;
                    inputSurface11 = null;
                    audioRecoder3 = null;
                    z34 = false;
                    str13 = null;
                    i62 = -5;
                    inputSurface13 = inputSurface11;
                    if (exc2 instanceof IllegalStateException) {
                    }
                    StringBuilder sb2 = new StringBuilder();
                    sb2.append("bitrate: ");
                    i63 = i59;
                    sb2.append(i63);
                    sb2.append(" framerate: ");
                    i64 = i61;
                    sb2.append(i64);
                    sb2.append(" size: ");
                    sb2.append(i80);
                    str6 = "x";
                    sb2.append(str6);
                    sb2.append(i79);
                    FileLog.e(sb2.toString());
                    FileLog.e(exc2);
                    i65 = i80;
                    z35 = z2;
                    z36 = true;
                    outputSurface3 = outputSurface10;
                    inputSurface16 = inputSurface13;
                    if (outputSurface3 != null) {
                    }
                    if (inputSurface16 != null) {
                    }
                    if (mediaCodec11 != null) {
                    }
                    if (audioRecoder3 != null) {
                    }
                    checkConversionCanceled();
                    i6 = i63;
                    inputSurface4 = inputSurface16;
                    file = file3;
                    z3 = z34;
                    str4 = str13;
                    i15 = i62;
                    z5 = z36;
                    mediaCodec6 = null;
                    file3 = file4;
                    int i842 = i65;
                    z4 = z35;
                    mediaCodec5 = mediaCodec11;
                    bufferInfo = bufferInfo2;
                    mediaCodecVideoConvertor = this;
                    i7 = i842;
                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor2 != null) {
                    }
                    muxer2 = mediaCodecVideoConvertor.muxer;
                    if (muxer2 != null) {
                    }
                    if (mediaCodec5 != null) {
                    }
                    if (mediaCodec6 != null) {
                    }
                    if (outputSurface3 != null) {
                    }
                    if (inputSurface4 != null) {
                    }
                    str5 = str4;
                    if (z4) {
                    }
                } catch (Throwable th13) {
                    i60 = i82;
                    th = th13;
                    bufferInfo = bufferInfo3;
                    mediaCodecVideoConvertor = this;
                    i3 = i80;
                    file = file3;
                    i4 = i60;
                    i2 = i81;
                    str3 = "x";
                    mediaCodec = null;
                    mediaCodec2 = null;
                    inputSurface10 = null;
                    i5 = -5;
                    outputSurface = null;
                    str4 = null;
                    z2 = false;
                    z3 = false;
                    file3 = file4;
                    inputSurface = inputSurface10;
                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                    FileLog.e(th);
                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor != null) {
                    }
                    muxer = mediaCodecVideoConvertor.muxer;
                    if (muxer != null) {
                    }
                    if (mediaCodec != null) {
                    }
                    if (mediaCodec2 != null) {
                    }
                    if (outputSurface != null) {
                    }
                    if (inputSurface != null) {
                    }
                    i6 = i4;
                    i7 = i3;
                    str5 = str4;
                    z4 = z2;
                    z5 = true;
                    if (z4) {
                    }
                }
                try {
                    if (BuildVars.LOGS_ENABLED) {
                        try {
                            FileLog.d("create photo encoder " + i66 + " " + i3 + " duration = " + j21);
                        } catch (Exception e4) {
                            exc2 = e4;
                            i59 = i82;
                            i80 = i3;
                            i79 = i66;
                            i61 = i81;
                            bufferInfo2 = bufferInfo3;
                            outputSurface10 = null;
                            mediaCodec11 = null;
                            inputSurface11 = null;
                            audioRecoder3 = null;
                            z34 = false;
                            str13 = null;
                            i62 = -5;
                            inputSurface13 = inputSurface11;
                            if (exc2 instanceof IllegalStateException) {
                            }
                            StringBuilder sb22 = new StringBuilder();
                            sb22.append("bitrate: ");
                            i63 = i59;
                            sb22.append(i63);
                            sb22.append(" framerate: ");
                            i64 = i61;
                            sb22.append(i64);
                            sb22.append(" size: ");
                            sb22.append(i80);
                            str6 = "x";
                            sb22.append(str6);
                            sb22.append(i79);
                            FileLog.e(sb22.toString());
                            FileLog.e(exc2);
                            i65 = i80;
                            z35 = z2;
                            z36 = true;
                            outputSurface3 = outputSurface10;
                            inputSurface16 = inputSurface13;
                            if (outputSurface3 != null) {
                            }
                            if (inputSurface16 != null) {
                            }
                            if (mediaCodec11 != null) {
                            }
                            if (audioRecoder3 != null) {
                            }
                            checkConversionCanceled();
                            i6 = i63;
                            inputSurface4 = inputSurface16;
                            file = file3;
                            z3 = z34;
                            str4 = str13;
                            i15 = i62;
                            z5 = z36;
                            mediaCodec6 = null;
                            file3 = file4;
                            int i8422 = i65;
                            z4 = z35;
                            mediaCodec5 = mediaCodec11;
                            bufferInfo = bufferInfo2;
                            mediaCodecVideoConvertor = this;
                            i7 = i8422;
                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor2 != null) {
                            }
                            muxer2 = mediaCodecVideoConvertor.muxer;
                            if (muxer2 != null) {
                            }
                            if (mediaCodec5 != null) {
                            }
                            if (mediaCodec6 != null) {
                            }
                            if (outputSurface3 != null) {
                            }
                            if (inputSurface4 != null) {
                            }
                            str5 = str4;
                            if (z4) {
                            }
                        } catch (Throwable th14) {
                            th = th14;
                            i4 = i82;
                            i79 = i66;
                            mediaCodecVideoConvertor = this;
                            file = file3;
                            i2 = i81;
                            str3 = "x";
                            bufferInfo = bufferInfo3;
                            mediaCodec = null;
                            mediaCodec2 = null;
                            inputSurface10 = null;
                            i5 = -5;
                            outputSurface = null;
                            str4 = null;
                            z2 = false;
                            z3 = false;
                            file3 = file4;
                            inputSurface = inputSurface10;
                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                            FileLog.e(th);
                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor != null) {
                            }
                            muxer = mediaCodecVideoConvertor.muxer;
                            if (muxer != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface != null) {
                            }
                            i6 = i4;
                            i7 = i3;
                            str5 = str4;
                            z4 = z2;
                            z5 = true;
                            if (z4) {
                            }
                        }
                    }
                    mediaCodec11 = createEncoderForMimeType();
                    try {
                        MediaFormat createVideoFormat2 = MediaFormat.createVideoFormat(this.outputMimeType, i66, i3);
                        createVideoFormat2.setInteger("color-format", 2130708361);
                        createVideoFormat2.setInteger("bitrate", i82);
                        createVideoFormat2.setInteger("frame-rate", 30);
                        createVideoFormat2.setInteger("i-frame-interval", 1);
                        name = mediaCodec11.getName();
                        try {
                            z34 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                            try {
                                StringBuilder sb3 = new StringBuilder();
                                i59 = i82;
                                try {
                                    sb3.append("selected encoder ");
                                    sb3.append(name);
                                    FileLog.d(sb3.toString());
                                    mediaCodec11.configure(createVideoFormat2, (Surface) null, (MediaCrypto) null, 1);
                                    inputSurface11 = new InputSurface(mediaCodec11.createInputSurface());
                                    try {
                                        inputSurface11.makeCurrent();
                                        mediaCodec11.start();
                                    } catch (Exception e5) {
                                        e = e5;
                                        i61 = i81;
                                        bufferInfo2 = bufferInfo3;
                                        str13 = name;
                                    } catch (Throwable th15) {
                                        bufferInfo2 = bufferInfo3;
                                        str13 = name;
                                        th = th15;
                                        InputSurface inputSurface23 = inputSurface11;
                                        mediaCodec = mediaCodec11;
                                        i79 = i66;
                                        i2 = i81;
                                    }
                                } catch (Exception e6) {
                                    e = e6;
                                    i61 = i81;
                                    bufferInfo2 = bufferInfo3;
                                    str13 = name;
                                    exc2 = e;
                                    i80 = i3;
                                    i79 = i66;
                                    outputSurface10 = null;
                                    inputSurface11 = null;
                                    audioRecoder3 = null;
                                    i62 = -5;
                                    inputSurface13 = inputSurface11;
                                    if (exc2 instanceof IllegalStateException) {
                                    }
                                    StringBuilder sb222 = new StringBuilder();
                                    sb222.append("bitrate: ");
                                    i63 = i59;
                                    sb222.append(i63);
                                    sb222.append(" framerate: ");
                                    i64 = i61;
                                    sb222.append(i64);
                                    sb222.append(" size: ");
                                    sb222.append(i80);
                                    str6 = "x";
                                    sb222.append(str6);
                                    sb222.append(i79);
                                    FileLog.e(sb222.toString());
                                    FileLog.e(exc2);
                                    i65 = i80;
                                    z35 = z2;
                                    z36 = true;
                                    outputSurface3 = outputSurface10;
                                    inputSurface16 = inputSurface13;
                                    if (outputSurface3 != null) {
                                    }
                                    if (inputSurface16 != null) {
                                    }
                                    if (mediaCodec11 != null) {
                                    }
                                    if (audioRecoder3 != null) {
                                    }
                                    checkConversionCanceled();
                                    i6 = i63;
                                    inputSurface4 = inputSurface16;
                                    file = file3;
                                    z3 = z34;
                                    str4 = str13;
                                    i15 = i62;
                                    z5 = z36;
                                    mediaCodec6 = null;
                                    file3 = file4;
                                    int i84222 = i65;
                                    z4 = z35;
                                    mediaCodec5 = mediaCodec11;
                                    bufferInfo = bufferInfo2;
                                    mediaCodecVideoConvertor = this;
                                    i7 = i84222;
                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor2 != null) {
                                    }
                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                    if (muxer2 != null) {
                                    }
                                    if (mediaCodec5 != null) {
                                    }
                                    if (mediaCodec6 != null) {
                                    }
                                    if (outputSurface3 != null) {
                                    }
                                    if (inputSurface4 != null) {
                                    }
                                    str5 = str4;
                                    if (z4) {
                                    }
                                } catch (Throwable th16) {
                                    th = th16;
                                    bufferInfo2 = bufferInfo3;
                                    th = th;
                                    mediaCodec = mediaCodec11;
                                    i79 = i66;
                                    i2 = i81;
                                    file = file3;
                                    z3 = z34;
                                    i4 = i59;
                                    str4 = name;
                                    str3 = "x";
                                    mediaCodec2 = null;
                                    InputSurface inputSurface24 = null;
                                    i5 = -5;
                                    outputSurface = null;
                                    inputSurface17 = inputSurface24;
                                    z2 = false;
                                    inputSurface12 = inputSurface17;
                                    bufferInfo = bufferInfo2;
                                    mediaCodecVideoConvertor = this;
                                    inputSurface10 = inputSurface12;
                                    file3 = file4;
                                    inputSurface = inputSurface10;
                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                    FileLog.e(th);
                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    muxer = mediaCodecVideoConvertor.muxer;
                                    if (muxer != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface != null) {
                                    }
                                    i6 = i4;
                                    i7 = i3;
                                    str5 = str4;
                                    z4 = z2;
                                    z5 = true;
                                    if (z4) {
                                    }
                                }
                            } catch (Exception e7) {
                                e = e7;
                                i59 = i82;
                            } catch (Throwable th17) {
                                th = th17;
                                i59 = i82;
                            }
                        } catch (Exception e8) {
                            i59 = i82;
                            i61 = i81;
                            bufferInfo2 = bufferInfo3;
                            str13 = name;
                            exc2 = e8;
                            i80 = i3;
                            i79 = i66;
                            outputSurface10 = null;
                            inputSurface11 = null;
                            audioRecoder3 = null;
                            z34 = false;
                        } catch (Throwable th18) {
                            bufferInfo2 = bufferInfo3;
                            th = th18;
                            mediaCodec = mediaCodec11;
                            i79 = i66;
                            i2 = i81;
                            file = file3;
                            i4 = i82;
                            str4 = name;
                            str3 = "x";
                            mediaCodec2 = null;
                            str14 = null;
                            i5 = -5;
                            outputSurface = null;
                            z2 = false;
                            z3 = false;
                            inputSurface12 = str14;
                            bufferInfo = bufferInfo2;
                            mediaCodecVideoConvertor = this;
                            inputSurface10 = inputSurface12;
                            file3 = file4;
                            inputSurface = inputSurface10;
                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                            FileLog.e(th);
                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor != null) {
                            }
                            muxer = mediaCodecVideoConvertor.muxer;
                            if (muxer != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface != null) {
                            }
                            i6 = i4;
                            i7 = i3;
                            str5 = str4;
                            z4 = z2;
                            z5 = true;
                            if (z4) {
                            }
                        }
                    } catch (Exception e9) {
                        i59 = i82;
                        i61 = i81;
                        bufferInfo2 = bufferInfo3;
                        exc2 = e9;
                        i80 = i3;
                        i79 = i66;
                        outputSurface10 = null;
                        inputSurface11 = null;
                        audioRecoder3 = null;
                        z34 = false;
                        str13 = null;
                        i62 = -5;
                        inputSurface13 = inputSurface11;
                        if (exc2 instanceof IllegalStateException) {
                        }
                        StringBuilder sb2222 = new StringBuilder();
                        sb2222.append("bitrate: ");
                        i63 = i59;
                        sb2222.append(i63);
                        sb2222.append(" framerate: ");
                        i64 = i61;
                        sb2222.append(i64);
                        sb2222.append(" size: ");
                        sb2222.append(i80);
                        str6 = "x";
                        sb2222.append(str6);
                        sb2222.append(i79);
                        FileLog.e(sb2222.toString());
                        FileLog.e(exc2);
                        i65 = i80;
                        z35 = z2;
                        z36 = true;
                        outputSurface3 = outputSurface10;
                        inputSurface16 = inputSurface13;
                        if (outputSurface3 != null) {
                        }
                        if (inputSurface16 != null) {
                        }
                        if (mediaCodec11 != null) {
                        }
                        if (audioRecoder3 != null) {
                        }
                        checkConversionCanceled();
                        i6 = i63;
                        inputSurface4 = inputSurface16;
                        file = file3;
                        z3 = z34;
                        str4 = str13;
                        i15 = i62;
                        z5 = z36;
                        mediaCodec6 = null;
                        file3 = file4;
                        int i842222 = i65;
                        z4 = z35;
                        mediaCodec5 = mediaCodec11;
                        bufferInfo = bufferInfo2;
                        mediaCodecVideoConvertor = this;
                        i7 = i842222;
                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor2 != null) {
                        }
                        muxer2 = mediaCodecVideoConvertor.muxer;
                        if (muxer2 != null) {
                        }
                        if (mediaCodec5 != null) {
                        }
                        if (mediaCodec6 != null) {
                        }
                        if (outputSurface3 != null) {
                        }
                        if (inputSurface4 != null) {
                        }
                        str5 = str4;
                        if (z4) {
                        }
                    } catch (Throwable th19) {
                        bufferInfo2 = bufferInfo3;
                        th = th19;
                        mediaCodec = mediaCodec11;
                        i79 = i66;
                        file = file3;
                        i4 = i82;
                        i2 = i81;
                        str3 = "x";
                        mediaCodec2 = null;
                        str14 = null;
                        i5 = -5;
                        outputSurface = null;
                        str4 = null;
                    }
                } catch (Exception e10) {
                    i59 = i82;
                    i61 = i81;
                    bufferInfo2 = bufferInfo3;
                    exc2 = e10;
                    i80 = i3;
                    i79 = i66;
                    outputSurface10 = null;
                    mediaCodec11 = null;
                    inputSurface11 = null;
                    audioRecoder3 = null;
                    z34 = false;
                    str13 = null;
                    i62 = -5;
                    inputSurface13 = inputSurface11;
                    if (exc2 instanceof IllegalStateException) {
                    }
                    StringBuilder sb22222 = new StringBuilder();
                    sb22222.append("bitrate: ");
                    i63 = i59;
                    sb22222.append(i63);
                    sb22222.append(" framerate: ");
                    i64 = i61;
                    sb22222.append(i64);
                    sb22222.append(" size: ");
                    sb22222.append(i80);
                    str6 = "x";
                    sb22222.append(str6);
                    sb22222.append(i79);
                    FileLog.e(sb22222.toString());
                    FileLog.e(exc2);
                    i65 = i80;
                    z35 = z2;
                    z36 = true;
                    outputSurface3 = outputSurface10;
                    inputSurface16 = inputSurface13;
                    if (outputSurface3 != null) {
                    }
                    if (inputSurface16 != null) {
                    }
                    if (mediaCodec11 != null) {
                    }
                    if (audioRecoder3 != null) {
                    }
                    checkConversionCanceled();
                    i6 = i63;
                    inputSurface4 = inputSurface16;
                    file = file3;
                    z3 = z34;
                    str4 = str13;
                    i15 = i62;
                    z5 = z36;
                    mediaCodec6 = null;
                    file3 = file4;
                    int i8422222 = i65;
                    z4 = z35;
                    mediaCodec5 = mediaCodec11;
                    bufferInfo = bufferInfo2;
                    mediaCodecVideoConvertor = this;
                    i7 = i8422222;
                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor2 != null) {
                    }
                    muxer2 = mediaCodecVideoConvertor.muxer;
                    if (muxer2 != null) {
                    }
                    if (mediaCodec5 != null) {
                    }
                    if (mediaCodec6 != null) {
                    }
                    if (outputSurface3 != null) {
                    }
                    if (inputSurface4 != null) {
                    }
                    str5 = str4;
                    if (z4) {
                    }
                } catch (Throwable th20) {
                    i60 = i82;
                    th = th20;
                    bufferInfo = bufferInfo3;
                    i79 = i66;
                    mediaCodecVideoConvertor = this;
                    file = file3;
                    i4 = i60;
                    i2 = i81;
                    str3 = "x";
                    mediaCodec = null;
                    mediaCodec2 = null;
                    inputSurface10 = null;
                    i5 = -5;
                    outputSurface = null;
                    str4 = null;
                    z2 = false;
                    z3 = false;
                    file3 = file4;
                    inputSurface = inputSurface10;
                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                    FileLog.e(th);
                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor != null) {
                    }
                    muxer = mediaCodecVideoConvertor.muxer;
                    if (muxer != null) {
                    }
                    if (mediaCodec != null) {
                    }
                    if (mediaCodec2 != null) {
                    }
                    if (outputSurface != null) {
                    }
                    if (inputSurface != null) {
                    }
                    i6 = i4;
                    i7 = i3;
                    str5 = str4;
                    z4 = z2;
                    z5 = true;
                    if (z4) {
                    }
                }
                if (cropState != null) {
                    try {
                    } catch (Exception e11) {
                        exc2 = e11;
                        i80 = i3;
                        i61 = i81;
                        bufferInfo2 = bufferInfo3;
                        outputSurface10 = null;
                        audioRecoder3 = null;
                        i62 = -5;
                        str13 = name;
                        i79 = i66;
                        inputSurface13 = inputSurface11;
                        if (exc2 instanceof IllegalStateException) {
                        }
                        StringBuilder sb222222 = new StringBuilder();
                        sb222222.append("bitrate: ");
                        i63 = i59;
                        sb222222.append(i63);
                        sb222222.append(" framerate: ");
                        i64 = i61;
                        sb222222.append(i64);
                        sb222222.append(" size: ");
                        sb222222.append(i80);
                        str6 = "x";
                        sb222222.append(str6);
                        sb222222.append(i79);
                        FileLog.e(sb222222.toString());
                        FileLog.e(exc2);
                        i65 = i80;
                        z35 = z2;
                        z36 = true;
                        outputSurface3 = outputSurface10;
                        inputSurface16 = inputSurface13;
                        if (outputSurface3 != null) {
                        }
                        if (inputSurface16 != null) {
                        }
                        if (mediaCodec11 != null) {
                        }
                        if (audioRecoder3 != null) {
                        }
                        checkConversionCanceled();
                        i6 = i63;
                        inputSurface4 = inputSurface16;
                        file = file3;
                        z3 = z34;
                        str4 = str13;
                        i15 = i62;
                        z5 = z36;
                        mediaCodec6 = null;
                        file3 = file4;
                        int i84222222 = i65;
                        z4 = z35;
                        mediaCodec5 = mediaCodec11;
                        bufferInfo = bufferInfo2;
                        mediaCodecVideoConvertor = this;
                        i7 = i84222222;
                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor2 != null) {
                        }
                        muxer2 = mediaCodecVideoConvertor.muxer;
                        if (muxer2 != null) {
                        }
                        if (mediaCodec5 != null) {
                        }
                        if (mediaCodec6 != null) {
                        }
                        if (outputSurface3 != null) {
                        }
                        if (inputSurface4 != null) {
                        }
                        str5 = str4;
                        if (z4) {
                        }
                    } catch (Throwable th21) {
                        th = th21;
                        mediaCodec = mediaCodec11;
                        inputSurface = inputSurface11;
                        mediaCodecVideoConvertor = this;
                        str4 = name;
                        file = file3;
                        z3 = z34;
                        i4 = i59;
                        i2 = i81;
                        str3 = "x";
                        bufferInfo = bufferInfo3;
                        mediaCodec2 = null;
                        i5 = -5;
                        z2 = false;
                        i79 = i66;
                        file3 = file4;
                        outputSurface = null;
                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                        FileLog.e(th);
                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor != null) {
                        }
                        muxer = mediaCodecVideoConvertor.muxer;
                        if (muxer != null) {
                        }
                        if (mediaCodec != null) {
                        }
                        if (mediaCodec2 != null) {
                        }
                        if (outputSurface != null) {
                        }
                        if (inputSurface != null) {
                        }
                        i6 = i4;
                        i7 = i3;
                        str5 = str4;
                        z4 = z2;
                        z5 = true;
                        if (z4) {
                        }
                    }
                    if (cropState.useMatrix != null) {
                        cropState2 = cropState;
                        i67 = i81;
                        outputSurface10 = outputSurface11;
                        str13 = name;
                        outputSurface11 = new OutputSurface(savedFilterState, str19, str20, str21, arrayList, cropState2, i66, i3, i77, i78, i76, i67, true, num, num2, null, convertVideoParams);
                        if (Build.VERSION.SDK_INT >= 21) {
                            try {
                                try {
                                    outputBuffers2 = mediaCodec11.getOutputBuffers();
                                } catch (Exception e12) {
                                    exc2 = e12;
                                    i61 = i67;
                                    i80 = i3;
                                    i79 = i66;
                                    bufferInfo2 = bufferInfo3;
                                    audioRecoder3 = null;
                                    i62 = -5;
                                    inputSurface13 = inputSurface11;
                                    if (exc2 instanceof IllegalStateException) {
                                    }
                                    StringBuilder sb2222222 = new StringBuilder();
                                    sb2222222.append("bitrate: ");
                                    i63 = i59;
                                    sb2222222.append(i63);
                                    sb2222222.append(" framerate: ");
                                    i64 = i61;
                                    sb2222222.append(i64);
                                    sb2222222.append(" size: ");
                                    sb2222222.append(i80);
                                    str6 = "x";
                                    sb2222222.append(str6);
                                    sb2222222.append(i79);
                                    FileLog.e(sb2222222.toString());
                                    FileLog.e(exc2);
                                    i65 = i80;
                                    z35 = z2;
                                    z36 = true;
                                    outputSurface3 = outputSurface10;
                                    inputSurface16 = inputSurface13;
                                    if (outputSurface3 != null) {
                                    }
                                    if (inputSurface16 != null) {
                                    }
                                    if (mediaCodec11 != null) {
                                    }
                                    if (audioRecoder3 != null) {
                                    }
                                    checkConversionCanceled();
                                    i6 = i63;
                                    inputSurface4 = inputSurface16;
                                    file = file3;
                                    z3 = z34;
                                    str4 = str13;
                                    i15 = i62;
                                    z5 = z36;
                                    mediaCodec6 = null;
                                    file3 = file4;
                                    int i842222222 = i65;
                                    z4 = z35;
                                    mediaCodec5 = mediaCodec11;
                                    bufferInfo = bufferInfo2;
                                    mediaCodecVideoConvertor = this;
                                    i7 = i842222222;
                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor2 != null) {
                                    }
                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                    if (muxer2 != null) {
                                    }
                                    if (mediaCodec5 != null) {
                                    }
                                    if (mediaCodec6 != null) {
                                    }
                                    if (outputSurface3 != null) {
                                    }
                                    if (inputSurface4 != null) {
                                    }
                                    str5 = str4;
                                    if (z4) {
                                    }
                                }
                            } catch (Throwable th22) {
                                th = th22;
                                i2 = i67;
                                mediaCodec = mediaCodec11;
                                i79 = i66;
                                mediaCodecVideoConvertor = this;
                                file = file3;
                                z3 = z34;
                                i4 = i59;
                                str4 = str13;
                                str3 = "x";
                                bufferInfo = bufferInfo3;
                                mediaCodec2 = null;
                                i5 = -5;
                                z2 = false;
                                outputSurface = outputSurface10;
                                inputSurface = inputSurface11;
                                file3 = file4;
                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                muxer = mediaCodecVideoConvertor.muxer;
                                if (muxer != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i6 = i4;
                                i7 = i3;
                                str5 = str4;
                                z4 = z2;
                                z5 = true;
                                if (z4) {
                                }
                            }
                        } else {
                            outputBuffers2 = null;
                        }
                        checkConversionCanceled();
                        if (!z50) {
                            try {
                                byteBufferArr3 = outputBuffers2;
                                i61 = i67;
                            } catch (Exception e13) {
                                e = e13;
                                i61 = i67;
                            }
                            try {
                                this.muxer = new Muxer(new MediaMuxer(file4.getAbsolutePath(), 1));
                                convertVideoParams3 = convertVideoParams;
                                inputSurface19 = inputSurface11;
                            } catch (Exception e14) {
                                e = e14;
                                exc2 = e;
                                i80 = i3;
                                i79 = i66;
                                bufferInfo2 = bufferInfo3;
                                audioRecoder3 = null;
                                i62 = -5;
                                inputSurface13 = inputSurface11;
                                if (exc2 instanceof IllegalStateException) {
                                }
                                StringBuilder sb22222222 = new StringBuilder();
                                sb22222222.append("bitrate: ");
                                i63 = i59;
                                sb22222222.append(i63);
                                sb22222222.append(" framerate: ");
                                i64 = i61;
                                sb22222222.append(i64);
                                sb22222222.append(" size: ");
                                sb22222222.append(i80);
                                str6 = "x";
                                sb22222222.append(str6);
                                sb22222222.append(i79);
                                FileLog.e(sb22222222.toString());
                                FileLog.e(exc2);
                                i65 = i80;
                                z35 = z2;
                                z36 = true;
                                outputSurface3 = outputSurface10;
                                inputSurface16 = inputSurface13;
                                if (outputSurface3 != null) {
                                }
                                if (inputSurface16 != null) {
                                }
                                if (mediaCodec11 != null) {
                                }
                                if (audioRecoder3 != null) {
                                }
                                checkConversionCanceled();
                                i6 = i63;
                                inputSurface4 = inputSurface16;
                                file = file3;
                                z3 = z34;
                                str4 = str13;
                                i15 = i62;
                                z5 = z36;
                                mediaCodec6 = null;
                                file3 = file4;
                                int i8422222222 = i65;
                                z4 = z35;
                                mediaCodec5 = mediaCodec11;
                                bufferInfo = bufferInfo2;
                                mediaCodecVideoConvertor = this;
                                i7 = i8422222222;
                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor2 != null) {
                                }
                                muxer2 = mediaCodecVideoConvertor.muxer;
                                if (muxer2 != null) {
                                }
                                if (mediaCodec5 != null) {
                                }
                                if (mediaCodec6 != null) {
                                }
                                if (outputSurface3 != null) {
                                }
                                if (inputSurface4 != null) {
                                }
                                str5 = str4;
                                if (z4) {
                                }
                            } catch (Throwable th23) {
                                th = th23;
                                mediaCodec = mediaCodec11;
                                i79 = i66;
                                mediaCodecVideoConvertor = this;
                                i2 = i61;
                                file = file3;
                                z3 = z34;
                                i4 = i59;
                                str4 = str13;
                                str3 = "x";
                                bufferInfo = bufferInfo3;
                                mediaCodec2 = null;
                                i5 = -5;
                                z2 = false;
                                outputSurface = outputSurface10;
                                inputSurface = inputSurface11;
                                file3 = file4;
                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                muxer = mediaCodecVideoConvertor.muxer;
                                if (muxer != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i6 = i4;
                                i7 = i3;
                                str5 = str4;
                                z4 = z2;
                                z5 = true;
                                if (z4) {
                                }
                            }
                        } else {
                            i61 = i67;
                            byteBufferArr3 = outputBuffers2;
                            try {
                                Mp4Movie mp4Movie = new Mp4Movie();
                                try {
                                    mp4Movie.setCacheFile(file4);
                                    mp4Movie.setRotation(0);
                                    mp4Movie.setSize(i66, i3);
                                    file4 = file4;
                                    inputSurface19 = inputSurface11;
                                    try {
                                        this.muxer = new Muxer(new MP4Builder().createMovie(mp4Movie, z44, this.outputMimeType.equals("video/hevc")));
                                        convertVideoParams3 = convertVideoParams;
                                    } catch (Exception e15) {
                                        e = e15;
                                        bufferInfo2 = bufferInfo3;
                                        inputSurface11 = inputSurface19;
                                        i80 = i3;
                                        i79 = i66;
                                        InputSurface inputSurface25 = inputSurface11;
                                        audioRecoder3 = null;
                                        i62 = -5;
                                        inputSurface18 = inputSurface25;
                                        exc2 = e;
                                        inputSurface13 = inputSurface18;
                                        if (exc2 instanceof IllegalStateException) {
                                        }
                                        StringBuilder sb222222222 = new StringBuilder();
                                        sb222222222.append("bitrate: ");
                                        i63 = i59;
                                        sb222222222.append(i63);
                                        sb222222222.append(" framerate: ");
                                        i64 = i61;
                                        sb222222222.append(i64);
                                        sb222222222.append(" size: ");
                                        sb222222222.append(i80);
                                        str6 = "x";
                                        sb222222222.append(str6);
                                        sb222222222.append(i79);
                                        FileLog.e(sb222222222.toString());
                                        FileLog.e(exc2);
                                        i65 = i80;
                                        z35 = z2;
                                        z36 = true;
                                        outputSurface3 = outputSurface10;
                                        inputSurface16 = inputSurface13;
                                        if (outputSurface3 != null) {
                                        }
                                        if (inputSurface16 != null) {
                                        }
                                        if (mediaCodec11 != null) {
                                        }
                                        if (audioRecoder3 != null) {
                                        }
                                        checkConversionCanceled();
                                        i6 = i63;
                                        inputSurface4 = inputSurface16;
                                        file = file3;
                                        z3 = z34;
                                        str4 = str13;
                                        i15 = i62;
                                        z5 = z36;
                                        mediaCodec6 = null;
                                        file3 = file4;
                                        int i84222222222 = i65;
                                        z4 = z35;
                                        mediaCodec5 = mediaCodec11;
                                        bufferInfo = bufferInfo2;
                                        mediaCodecVideoConvertor = this;
                                        i7 = i84222222222;
                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        muxer2 = mediaCodecVideoConvertor.muxer;
                                        if (muxer2 != null) {
                                        }
                                        if (mediaCodec5 != null) {
                                        }
                                        if (mediaCodec6 != null) {
                                        }
                                        if (outputSurface3 != null) {
                                        }
                                        if (inputSurface4 != null) {
                                        }
                                        str5 = str4;
                                        if (z4) {
                                        }
                                    } catch (Throwable th24) {
                                        th4 = th24;
                                        inputSurface20 = inputSurface19;
                                        bufferInfo2 = bufferInfo3;
                                        th = th4;
                                        mediaCodec = mediaCodec11;
                                        i79 = i66;
                                        file = file3;
                                        z3 = z34;
                                        i4 = i59;
                                        str3 = "x";
                                        mediaCodec2 = null;
                                        i5 = -5;
                                        inputSurface21 = inputSurface20;
                                        z2 = false;
                                        bufferInfo = bufferInfo2;
                                        outputSurface = outputSurface10;
                                        mediaCodecVideoConvertor = this;
                                        file3 = file4;
                                        inputSurface = inputSurface21;
                                        i2 = i61;
                                        str4 = str13;
                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                        FileLog.e(th);
                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        muxer = mediaCodecVideoConvertor.muxer;
                                        if (muxer != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface != null) {
                                        }
                                        i6 = i4;
                                        i7 = i3;
                                        str5 = str4;
                                        z4 = z2;
                                        z5 = true;
                                        if (z4) {
                                        }
                                    }
                                } catch (Exception e16) {
                                    e = e16;
                                    file4 = file4;
                                    bufferInfo2 = bufferInfo3;
                                    i80 = i3;
                                    i79 = i66;
                                    InputSurface inputSurface252 = inputSurface11;
                                    audioRecoder3 = null;
                                    i62 = -5;
                                    inputSurface18 = inputSurface252;
                                    exc2 = e;
                                    inputSurface13 = inputSurface18;
                                    if (exc2 instanceof IllegalStateException) {
                                    }
                                    StringBuilder sb2222222222 = new StringBuilder();
                                    sb2222222222.append("bitrate: ");
                                    i63 = i59;
                                    sb2222222222.append(i63);
                                    sb2222222222.append(" framerate: ");
                                    i64 = i61;
                                    sb2222222222.append(i64);
                                    sb2222222222.append(" size: ");
                                    sb2222222222.append(i80);
                                    str6 = "x";
                                    sb2222222222.append(str6);
                                    sb2222222222.append(i79);
                                    FileLog.e(sb2222222222.toString());
                                    FileLog.e(exc2);
                                    i65 = i80;
                                    z35 = z2;
                                    z36 = true;
                                    outputSurface3 = outputSurface10;
                                    inputSurface16 = inputSurface13;
                                    if (outputSurface3 != null) {
                                    }
                                    if (inputSurface16 != null) {
                                    }
                                    if (mediaCodec11 != null) {
                                    }
                                    if (audioRecoder3 != null) {
                                    }
                                    checkConversionCanceled();
                                    i6 = i63;
                                    inputSurface4 = inputSurface16;
                                    file = file3;
                                    z3 = z34;
                                    str4 = str13;
                                    i15 = i62;
                                    z5 = z36;
                                    mediaCodec6 = null;
                                    file3 = file4;
                                    int i842222222222 = i65;
                                    z4 = z35;
                                    mediaCodec5 = mediaCodec11;
                                    bufferInfo = bufferInfo2;
                                    mediaCodecVideoConvertor = this;
                                    i7 = i842222222222;
                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor2 != null) {
                                    }
                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                    if (muxer2 != null) {
                                    }
                                    if (mediaCodec5 != null) {
                                    }
                                    if (mediaCodec6 != null) {
                                    }
                                    if (outputSurface3 != null) {
                                    }
                                    if (inputSurface4 != null) {
                                    }
                                    str5 = str4;
                                    if (z4) {
                                    }
                                } catch (Throwable th25) {
                                    inputSurface21 = inputSurface11;
                                    th = th25;
                                    mediaCodec = mediaCodec11;
                                    i79 = i66;
                                    file = file3;
                                    z3 = z34;
                                    i4 = i59;
                                    str3 = "x";
                                    mediaCodec2 = null;
                                    z2 = false;
                                    bufferInfo = bufferInfo3;
                                    outputSurface = outputSurface10;
                                    file3 = file4;
                                    mediaCodecVideoConvertor = this;
                                    i5 = -5;
                                    inputSurface = inputSurface21;
                                    i2 = i61;
                                    str4 = str13;
                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                    FileLog.e(th);
                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    muxer = mediaCodecVideoConvertor.muxer;
                                    if (muxer != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface != null) {
                                    }
                                    i6 = i4;
                                    i7 = i3;
                                    str5 = str4;
                                    z4 = z2;
                                    z5 = true;
                                    if (z4) {
                                    }
                                }
                            } catch (Exception e17) {
                                e = e17;
                            } catch (Throwable th26) {
                                th4 = th26;
                                inputSurface20 = inputSurface11;
                                bufferInfo2 = bufferInfo3;
                                th = th4;
                                mediaCodec = mediaCodec11;
                                i79 = i66;
                                file = file3;
                                z3 = z34;
                                i4 = i59;
                                str3 = "x";
                                mediaCodec2 = null;
                                i5 = -5;
                                inputSurface21 = inputSurface20;
                                z2 = false;
                                bufferInfo = bufferInfo2;
                                outputSurface = outputSurface10;
                                mediaCodecVideoConvertor = this;
                                file3 = file4;
                                inputSurface = inputSurface21;
                                i2 = i61;
                                str4 = str13;
                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                muxer = mediaCodecVideoConvertor.muxer;
                                if (muxer != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i6 = i4;
                                i7 = i3;
                                str5 = str4;
                                z4 = z2;
                                z5 = true;
                                if (z4) {
                                }
                            }
                        }
                        if (convertVideoParams3.soundInfos.isEmpty()) {
                            try {
                                try {
                                    ArrayList arrayList2 = new ArrayList();
                                    arrayList2.add(new BlankAudioInput(j23));
                                    applyAudioInputs(convertVideoParams3.soundInfos, arrayList2);
                                    audioRecoder4 = new AudioRecoder(arrayList2, j23);
                                    try {
                                        addTrack = this.muxer.addTrack(audioRecoder4.format, true);
                                        z37 = false;
                                        z38 = true;
                                        i5 = -5;
                                    } catch (Exception e18) {
                                        exc2 = e18;
                                        audioRecoder3 = audioRecoder4;
                                        i80 = i3;
                                        i79 = i66;
                                        inputSurface11 = inputSurface19;
                                        bufferInfo2 = bufferInfo3;
                                        i62 = -5;
                                        inputSurface13 = inputSurface11;
                                        if (exc2 instanceof IllegalStateException) {
                                        }
                                        StringBuilder sb22222222222 = new StringBuilder();
                                        sb22222222222.append("bitrate: ");
                                        i63 = i59;
                                        sb22222222222.append(i63);
                                        sb22222222222.append(" framerate: ");
                                        i64 = i61;
                                        sb22222222222.append(i64);
                                        sb22222222222.append(" size: ");
                                        sb22222222222.append(i80);
                                        str6 = "x";
                                        sb22222222222.append(str6);
                                        sb22222222222.append(i79);
                                        FileLog.e(sb22222222222.toString());
                                        FileLog.e(exc2);
                                        i65 = i80;
                                        z35 = z2;
                                        z36 = true;
                                        outputSurface3 = outputSurface10;
                                        inputSurface16 = inputSurface13;
                                        if (outputSurface3 != null) {
                                        }
                                        if (inputSurface16 != null) {
                                        }
                                        if (mediaCodec11 != null) {
                                        }
                                        if (audioRecoder3 != null) {
                                        }
                                        checkConversionCanceled();
                                        i6 = i63;
                                        inputSurface4 = inputSurface16;
                                        file = file3;
                                        z3 = z34;
                                        str4 = str13;
                                        i15 = i62;
                                        z5 = z36;
                                        mediaCodec6 = null;
                                        file3 = file4;
                                        int i8422222222222 = i65;
                                        z4 = z35;
                                        mediaCodec5 = mediaCodec11;
                                        bufferInfo = bufferInfo2;
                                        mediaCodecVideoConvertor = this;
                                        i7 = i8422222222222;
                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        muxer2 = mediaCodecVideoConvertor.muxer;
                                        if (muxer2 != null) {
                                        }
                                        if (mediaCodec5 != null) {
                                        }
                                        if (mediaCodec6 != null) {
                                        }
                                        if (outputSurface3 != null) {
                                        }
                                        if (inputSurface4 != null) {
                                        }
                                        str5 = str4;
                                        if (z4) {
                                        }
                                    }
                                } catch (Exception e19) {
                                    exc2 = e19;
                                    i80 = i3;
                                    i79 = i66;
                                    inputSurface11 = inputSurface19;
                                    bufferInfo2 = bufferInfo3;
                                    audioRecoder3 = null;
                                    i62 = -5;
                                    inputSurface13 = inputSurface11;
                                    if (exc2 instanceof IllegalStateException) {
                                    }
                                    StringBuilder sb222222222222 = new StringBuilder();
                                    sb222222222222.append("bitrate: ");
                                    i63 = i59;
                                    sb222222222222.append(i63);
                                    sb222222222222.append(" framerate: ");
                                    i64 = i61;
                                    sb222222222222.append(i64);
                                    sb222222222222.append(" size: ");
                                    sb222222222222.append(i80);
                                    str6 = "x";
                                    sb222222222222.append(str6);
                                    sb222222222222.append(i79);
                                    FileLog.e(sb222222222222.toString());
                                    FileLog.e(exc2);
                                    i65 = i80;
                                    z35 = z2;
                                    z36 = true;
                                    outputSurface3 = outputSurface10;
                                    inputSurface16 = inputSurface13;
                                    if (outputSurface3 != null) {
                                    }
                                    if (inputSurface16 != null) {
                                    }
                                    if (mediaCodec11 != null) {
                                    }
                                    if (audioRecoder3 != null) {
                                    }
                                    checkConversionCanceled();
                                    i6 = i63;
                                    inputSurface4 = inputSurface16;
                                    file = file3;
                                    z3 = z34;
                                    str4 = str13;
                                    i15 = i62;
                                    z5 = z36;
                                    mediaCodec6 = null;
                                    file3 = file4;
                                    int i84222222222222 = i65;
                                    z4 = z35;
                                    mediaCodec5 = mediaCodec11;
                                    bufferInfo = bufferInfo2;
                                    mediaCodecVideoConvertor = this;
                                    i7 = i84222222222222;
                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor2 != null) {
                                    }
                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                    if (muxer2 != null) {
                                    }
                                    if (mediaCodec5 != null) {
                                    }
                                    if (mediaCodec6 != null) {
                                    }
                                    if (outputSurface3 != null) {
                                    }
                                    if (inputSurface4 != null) {
                                    }
                                    str5 = str4;
                                    if (z4) {
                                    }
                                }
                            } catch (Throwable th27) {
                                th = th27;
                                mediaCodec = mediaCodec11;
                                i79 = i66;
                                mediaCodecVideoConvertor = this;
                                i2 = i61;
                                file = file3;
                                z3 = z34;
                                i4 = i59;
                                str4 = str13;
                                str3 = "x";
                                bufferInfo = bufferInfo3;
                                mediaCodec2 = null;
                                i5 = -5;
                                inputSurface22 = inputSurface19;
                                z2 = false;
                                outputSurface = outputSurface10;
                                inputSurface10 = inputSurface22;
                                file3 = file4;
                                inputSurface = inputSurface10;
                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                muxer = mediaCodecVideoConvertor.muxer;
                                if (muxer != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i6 = i4;
                                i7 = i3;
                                str5 = str4;
                                z4 = z2;
                                z5 = true;
                                if (z4) {
                                }
                            }
                        } else {
                            z37 = true;
                            z38 = true;
                            i5 = -5;
                            audioRecoder4 = null;
                            addTrack = -1;
                        }
                        long j24 = 0;
                        z39 = false;
                        z40 = false;
                        int i86 = 0;
                        i68 = 0;
                        inputSurface22 = inputSurface19;
                        loop0: while (true) {
                            if (!z39 && z37) {
                                outputSurface3 = outputSurface10;
                                i62 = i5;
                                audioRecoder3 = audioRecoder4;
                                i65 = i3;
                                i79 = i66;
                                i64 = i61;
                                inputSurface16 = inputSurface22;
                                i63 = i59;
                                str6 = "x";
                                bufferInfo2 = bufferInfo3;
                                z35 = false;
                                z36 = false;
                                break;
                            }
                            try {
                                checkConversionCanceled();
                                if (audioRecoder4 != null) {
                                    try {
                                        z37 = audioRecoder4.step(this.muxer, addTrack);
                                    } catch (Exception e20) {
                                        exc2 = e20;
                                        i62 = i5;
                                        audioRecoder3 = audioRecoder4;
                                        i80 = i3;
                                        i79 = i66;
                                        str15 = inputSurface22;
                                        bufferInfo2 = bufferInfo3;
                                        inputSurface13 = str15;
                                        if (exc2 instanceof IllegalStateException) {
                                        }
                                        StringBuilder sb2222222222222 = new StringBuilder();
                                        sb2222222222222.append("bitrate: ");
                                        i63 = i59;
                                        sb2222222222222.append(i63);
                                        sb2222222222222.append(" framerate: ");
                                        i64 = i61;
                                        sb2222222222222.append(i64);
                                        sb2222222222222.append(" size: ");
                                        sb2222222222222.append(i80);
                                        str6 = "x";
                                        sb2222222222222.append(str6);
                                        sb2222222222222.append(i79);
                                        FileLog.e(sb2222222222222.toString());
                                        FileLog.e(exc2);
                                        i65 = i80;
                                        z35 = z2;
                                        z36 = true;
                                        outputSurface3 = outputSurface10;
                                        inputSurface16 = inputSurface13;
                                        if (outputSurface3 != null) {
                                        }
                                        if (inputSurface16 != null) {
                                        }
                                        if (mediaCodec11 != null) {
                                        }
                                        if (audioRecoder3 != null) {
                                        }
                                        checkConversionCanceled();
                                        i6 = i63;
                                        inputSurface4 = inputSurface16;
                                        file = file3;
                                        z3 = z34;
                                        str4 = str13;
                                        i15 = i62;
                                        z5 = z36;
                                        mediaCodec6 = null;
                                        file3 = file4;
                                        int i842222222222222 = i65;
                                        z4 = z35;
                                        mediaCodec5 = mediaCodec11;
                                        bufferInfo = bufferInfo2;
                                        mediaCodecVideoConvertor = this;
                                        i7 = i842222222222222;
                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        muxer2 = mediaCodecVideoConvertor.muxer;
                                        if (muxer2 != null) {
                                        }
                                        if (mediaCodec5 != null) {
                                        }
                                        if (mediaCodec6 != null) {
                                        }
                                        if (outputSurface3 != null) {
                                        }
                                        if (inputSurface4 != null) {
                                        }
                                        str5 = str4;
                                        if (z4) {
                                        }
                                    } catch (Throwable th28) {
                                        th = th28;
                                        mediaCodec = mediaCodec11;
                                        i79 = i66;
                                        mediaCodecVideoConvertor = this;
                                        i2 = i61;
                                        file = file3;
                                        z3 = z34;
                                        i4 = i59;
                                        str4 = str13;
                                        str3 = "x";
                                        bufferInfo = bufferInfo3;
                                        mediaCodec2 = null;
                                        inputSurface22 = inputSurface22;
                                        z2 = false;
                                        outputSurface = outputSurface10;
                                        inputSurface10 = inputSurface22;
                                        file3 = file4;
                                        inputSurface = inputSurface10;
                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                        FileLog.e(th);
                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        muxer = mediaCodecVideoConvertor.muxer;
                                        if (muxer != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface != null) {
                                        }
                                        i6 = i4;
                                        i7 = i3;
                                        str5 = str4;
                                        z4 = z2;
                                        z5 = true;
                                        if (z4) {
                                        }
                                    }
                                }
                                boolean z51 = true;
                                int i87 = i68;
                                z41 = !z40;
                                i69 = i87;
                                while (true) {
                                    if (!z41 || z51) {
                                        checkConversionCanceled();
                                        if (z) {
                                            z42 = z37;
                                            i70 = addTrack;
                                            i71 = i69;
                                            bufferInfo2 = bufferInfo3;
                                            j18 = 2500;
                                        } else {
                                            z42 = z37;
                                            bufferInfo2 = bufferInfo3;
                                            i70 = addTrack;
                                            i71 = i69;
                                            j18 = 22000;
                                        }
                                        try {
                                            try {
                                                dequeueOutputBuffer2 = mediaCodec11.dequeueOutputBuffer(bufferInfo2, j18);
                                                if (dequeueOutputBuffer2 != -1) {
                                                    str16 = str22;
                                                    outputSurface12 = outputSurface10;
                                                    audioRecoder3 = audioRecoder4;
                                                    i72 = dequeueOutputBuffer2;
                                                    str17 = str23;
                                                    i73 = -1;
                                                    z51 = false;
                                                } else {
                                                    if (dequeueOutputBuffer2 == -3) {
                                                        try {
                                                            try {
                                                                if (Build.VERSION.SDK_INT < 21) {
                                                                    byteBufferArr3 = mediaCodec11.getOutputBuffers();
                                                                }
                                                                str16 = str22;
                                                                outputSurface12 = outputSurface10;
                                                                audioRecoder3 = audioRecoder4;
                                                                i72 = dequeueOutputBuffer2;
                                                                str17 = str23;
                                                            } catch (Throwable th29) {
                                                                th = th29;
                                                                th = th;
                                                                mediaCodec = mediaCodec11;
                                                                i79 = i66;
                                                                i2 = i61;
                                                                file = file3;
                                                                z3 = z34;
                                                                i4 = i59;
                                                                str4 = str13;
                                                                str3 = "x";
                                                                mediaCodec2 = null;
                                                                z2 = false;
                                                                bufferInfo = bufferInfo2;
                                                                outputSurface = outputSurface10;
                                                                mediaCodecVideoConvertor = this;
                                                                inputSurface10 = inputSurface22;
                                                                file3 = file4;
                                                                inputSurface = inputSurface10;
                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                FileLog.e(th);
                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor != null) {
                                                                }
                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                if (muxer != null) {
                                                                }
                                                                if (mediaCodec != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (outputSurface != null) {
                                                                }
                                                                if (inputSurface != null) {
                                                                }
                                                                i6 = i4;
                                                                i7 = i3;
                                                                str5 = str4;
                                                                z4 = z2;
                                                                z5 = true;
                                                                if (z4) {
                                                                }
                                                            }
                                                        } catch (Exception e21) {
                                                            exc2 = e21;
                                                            i62 = i5;
                                                            audioRecoder3 = audioRecoder4;
                                                            i80 = i3;
                                                            i79 = i66;
                                                            str15 = inputSurface22;
                                                            inputSurface13 = str15;
                                                            if (exc2 instanceof IllegalStateException) {
                                                            }
                                                            StringBuilder sb22222222222222 = new StringBuilder();
                                                            sb22222222222222.append("bitrate: ");
                                                            i63 = i59;
                                                            sb22222222222222.append(i63);
                                                            sb22222222222222.append(" framerate: ");
                                                            i64 = i61;
                                                            sb22222222222222.append(i64);
                                                            sb22222222222222.append(" size: ");
                                                            sb22222222222222.append(i80);
                                                            str6 = "x";
                                                            sb22222222222222.append(str6);
                                                            sb22222222222222.append(i79);
                                                            FileLog.e(sb22222222222222.toString());
                                                            FileLog.e(exc2);
                                                            i65 = i80;
                                                            z35 = z2;
                                                            z36 = true;
                                                            outputSurface3 = outputSurface10;
                                                            inputSurface16 = inputSurface13;
                                                            if (outputSurface3 != null) {
                                                            }
                                                            if (inputSurface16 != null) {
                                                            }
                                                            if (mediaCodec11 != null) {
                                                            }
                                                            if (audioRecoder3 != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            i6 = i63;
                                                            inputSurface4 = inputSurface16;
                                                            file = file3;
                                                            z3 = z34;
                                                            str4 = str13;
                                                            i15 = i62;
                                                            z5 = z36;
                                                            mediaCodec6 = null;
                                                            file3 = file4;
                                                            int i8422222222222222 = i65;
                                                            z4 = z35;
                                                            mediaCodec5 = mediaCodec11;
                                                            bufferInfo = bufferInfo2;
                                                            mediaCodecVideoConvertor = this;
                                                            i7 = i8422222222222222;
                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                            if (muxer2 != null) {
                                                            }
                                                            if (mediaCodec5 != null) {
                                                            }
                                                            if (mediaCodec6 != null) {
                                                            }
                                                            if (outputSurface3 != null) {
                                                            }
                                                            if (inputSurface4 != null) {
                                                            }
                                                            str5 = str4;
                                                            if (z4) {
                                                            }
                                                        }
                                                    } else if (dequeueOutputBuffer2 == -2) {
                                                        try {
                                                            MediaFormat outputFormat = mediaCodec11.getOutputFormat();
                                                            if (BuildVars.LOGS_ENABLED) {
                                                                StringBuilder sb4 = new StringBuilder();
                                                                audioRecoder3 = audioRecoder4;
                                                                try {
                                                                    sb4.append("photo encoder new format ");
                                                                    sb4.append(outputFormat);
                                                                    FileLog.d(sb4.toString());
                                                                } catch (Exception e22) {
                                                                    e = e22;
                                                                    exc2 = e;
                                                                    i62 = i5;
                                                                    i80 = i3;
                                                                    i79 = i66;
                                                                    str15 = inputSurface22;
                                                                    inputSurface13 = str15;
                                                                    if (exc2 instanceof IllegalStateException) {
                                                                    }
                                                                    StringBuilder sb222222222222222 = new StringBuilder();
                                                                    sb222222222222222.append("bitrate: ");
                                                                    i63 = i59;
                                                                    sb222222222222222.append(i63);
                                                                    sb222222222222222.append(" framerate: ");
                                                                    i64 = i61;
                                                                    sb222222222222222.append(i64);
                                                                    sb222222222222222.append(" size: ");
                                                                    sb222222222222222.append(i80);
                                                                    str6 = "x";
                                                                    sb222222222222222.append(str6);
                                                                    sb222222222222222.append(i79);
                                                                    FileLog.e(sb222222222222222.toString());
                                                                    FileLog.e(exc2);
                                                                    i65 = i80;
                                                                    z35 = z2;
                                                                    z36 = true;
                                                                    outputSurface3 = outputSurface10;
                                                                    inputSurface16 = inputSurface13;
                                                                    if (outputSurface3 != null) {
                                                                    }
                                                                    if (inputSurface16 != null) {
                                                                    }
                                                                    if (mediaCodec11 != null) {
                                                                    }
                                                                    if (audioRecoder3 != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    i6 = i63;
                                                                    inputSurface4 = inputSurface16;
                                                                    file = file3;
                                                                    z3 = z34;
                                                                    str4 = str13;
                                                                    i15 = i62;
                                                                    z5 = z36;
                                                                    mediaCodec6 = null;
                                                                    file3 = file4;
                                                                    int i84222222222222222 = i65;
                                                                    z4 = z35;
                                                                    mediaCodec5 = mediaCodec11;
                                                                    bufferInfo = bufferInfo2;
                                                                    mediaCodecVideoConvertor = this;
                                                                    i7 = i84222222222222222;
                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                    if (mediaExtractor2 != null) {
                                                                    }
                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                    if (muxer2 != null) {
                                                                    }
                                                                    if (mediaCodec5 != null) {
                                                                    }
                                                                    if (mediaCodec6 != null) {
                                                                    }
                                                                    if (outputSurface3 != null) {
                                                                    }
                                                                    if (inputSurface4 != null) {
                                                                    }
                                                                    str5 = str4;
                                                                    if (z4) {
                                                                    }
                                                                }
                                                            } else {
                                                                audioRecoder3 = audioRecoder4;
                                                            }
                                                            if (i5 != -5 || outputFormat == null) {
                                                                str17 = str23;
                                                            } else {
                                                                i5 = this.muxer.addTrack(outputFormat, false);
                                                                try {
                                                                    if (outputFormat.containsKey(str22) && outputFormat.getInteger(str22) == 1) {
                                                                        str17 = str23;
                                                                        ByteBuffer byteBuffer7 = outputFormat.getByteBuffer(str17);
                                                                        i74 = i5;
                                                                        try {
                                                                            ByteBuffer byteBuffer8 = outputFormat.getByteBuffer("csd-1");
                                                                            i86 = (byteBuffer7 == null ? 0 : byteBuffer7.limit()) + (byteBuffer8 == null ? 0 : byteBuffer8.limit());
                                                                        } catch (Exception e23) {
                                                                            e = e23;
                                                                            exc2 = e;
                                                                            i80 = i3;
                                                                            i79 = i66;
                                                                            str15 = inputSurface22;
                                                                            i62 = i74;
                                                                            inputSurface13 = str15;
                                                                            if (exc2 instanceof IllegalStateException) {
                                                                            }
                                                                            StringBuilder sb2222222222222222 = new StringBuilder();
                                                                            sb2222222222222222.append("bitrate: ");
                                                                            i63 = i59;
                                                                            sb2222222222222222.append(i63);
                                                                            sb2222222222222222.append(" framerate: ");
                                                                            i64 = i61;
                                                                            sb2222222222222222.append(i64);
                                                                            sb2222222222222222.append(" size: ");
                                                                            sb2222222222222222.append(i80);
                                                                            str6 = "x";
                                                                            sb2222222222222222.append(str6);
                                                                            sb2222222222222222.append(i79);
                                                                            FileLog.e(sb2222222222222222.toString());
                                                                            FileLog.e(exc2);
                                                                            i65 = i80;
                                                                            z35 = z2;
                                                                            z36 = true;
                                                                            outputSurface3 = outputSurface10;
                                                                            inputSurface16 = inputSurface13;
                                                                            if (outputSurface3 != null) {
                                                                            }
                                                                            if (inputSurface16 != null) {
                                                                            }
                                                                            if (mediaCodec11 != null) {
                                                                            }
                                                                            if (audioRecoder3 != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            i6 = i63;
                                                                            inputSurface4 = inputSurface16;
                                                                            file = file3;
                                                                            z3 = z34;
                                                                            str4 = str13;
                                                                            i15 = i62;
                                                                            z5 = z36;
                                                                            mediaCodec6 = null;
                                                                            file3 = file4;
                                                                            int i842222222222222222 = i65;
                                                                            z4 = z35;
                                                                            mediaCodec5 = mediaCodec11;
                                                                            bufferInfo = bufferInfo2;
                                                                            mediaCodecVideoConvertor = this;
                                                                            i7 = i842222222222222222;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                            if (muxer2 != null) {
                                                                            }
                                                                            if (mediaCodec5 != null) {
                                                                            }
                                                                            if (mediaCodec6 != null) {
                                                                            }
                                                                            if (outputSurface3 != null) {
                                                                            }
                                                                            if (inputSurface4 != null) {
                                                                            }
                                                                            str5 = str4;
                                                                            if (z4) {
                                                                            }
                                                                        } catch (Throwable th30) {
                                                                            th = th30;
                                                                            mediaCodec = mediaCodec11;
                                                                            i79 = i66;
                                                                            i2 = i61;
                                                                            i5 = i74;
                                                                            file = file3;
                                                                            z3 = z34;
                                                                            i4 = i59;
                                                                            str4 = str13;
                                                                            str3 = "x";
                                                                            mediaCodec2 = null;
                                                                            z2 = false;
                                                                            bufferInfo = bufferInfo2;
                                                                            outputSurface = outputSurface10;
                                                                            mediaCodecVideoConvertor = this;
                                                                            inputSurface10 = inputSurface22;
                                                                            file3 = file4;
                                                                            inputSurface = inputSurface10;
                                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                                            if (muxer != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            i6 = i4;
                                                                            i7 = i3;
                                                                            str5 = str4;
                                                                            z4 = z2;
                                                                            z5 = true;
                                                                            if (z4) {
                                                                            }
                                                                        }
                                                                    } else {
                                                                        i74 = i5;
                                                                        str17 = str23;
                                                                    }
                                                                    i5 = i74;
                                                                } catch (Exception e24) {
                                                                    e = e24;
                                                                    i74 = i5;
                                                                } catch (Throwable th31) {
                                                                    th = th31;
                                                                    th = th;
                                                                    mediaCodec = mediaCodec11;
                                                                    i79 = i66;
                                                                    i2 = i61;
                                                                    file = file3;
                                                                    z3 = z34;
                                                                    i4 = i59;
                                                                    str4 = str13;
                                                                    str3 = "x";
                                                                    mediaCodec2 = null;
                                                                    z2 = false;
                                                                    bufferInfo = bufferInfo2;
                                                                    outputSurface = outputSurface10;
                                                                    mediaCodecVideoConvertor = this;
                                                                    inputSurface10 = inputSurface22;
                                                                    file3 = file4;
                                                                    inputSurface = inputSurface10;
                                                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                    FileLog.e(th);
                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                    if (mediaExtractor != null) {
                                                                    }
                                                                    muxer = mediaCodecVideoConvertor.muxer;
                                                                    if (muxer != null) {
                                                                    }
                                                                    if (mediaCodec != null) {
                                                                    }
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    if (outputSurface != null) {
                                                                    }
                                                                    if (inputSurface != null) {
                                                                    }
                                                                    i6 = i4;
                                                                    i7 = i3;
                                                                    str5 = str4;
                                                                    z4 = z2;
                                                                    z5 = true;
                                                                    if (z4) {
                                                                    }
                                                                }
                                                            }
                                                            str16 = str22;
                                                            outputSurface12 = outputSurface10;
                                                            i72 = dequeueOutputBuffer2;
                                                        } catch (Exception e25) {
                                                            e = e25;
                                                            audioRecoder3 = audioRecoder4;
                                                        }
                                                    } else {
                                                        audioRecoder3 = audioRecoder4;
                                                        str17 = str23;
                                                        try {
                                                            if (dequeueOutputBuffer2 < 0) {
                                                                throw new RuntimeException("unexpected result from encoder.dequeueOutputBuffer: " + dequeueOutputBuffer2);
                                                            }
                                                            try {
                                                                if (Build.VERSION.SDK_INT < 21) {
                                                                    outputBuffer2 = byteBufferArr3[dequeueOutputBuffer2];
                                                                } else {
                                                                    outputBuffer2 = mediaCodec11.getOutputBuffer(dequeueOutputBuffer2);
                                                                }
                                                                if (outputBuffer2 == null) {
                                                                    throw new RuntimeException("encoderOutputBuffer " + dequeueOutputBuffer2 + " was null");
                                                                }
                                                                int i88 = bufferInfo2.size;
                                                                str16 = str22;
                                                                try {
                                                                    if (i88 > 1) {
                                                                        try {
                                                                            int i89 = bufferInfo2.flags;
                                                                            if ((i89 & 2) == 0) {
                                                                                if (i86 == 0 || (i89 & 1) == 0) {
                                                                                    outputSurface12 = outputSurface10;
                                                                                } else {
                                                                                    outputSurface12 = outputSurface10;
                                                                                    try {
                                                                                        bufferInfo2.offset += i86;
                                                                                        bufferInfo2.size = i88 - i86;
                                                                                    } catch (Exception e26) {
                                                                                        exc2 = e26;
                                                                                        i62 = i5;
                                                                                        i80 = i3;
                                                                                        i79 = i66;
                                                                                        str15 = inputSurface22;
                                                                                        outputSurface10 = outputSurface12;
                                                                                        inputSurface13 = str15;
                                                                                        if (exc2 instanceof IllegalStateException) {
                                                                                        }
                                                                                        StringBuilder sb22222222222222222 = new StringBuilder();
                                                                                        sb22222222222222222.append("bitrate: ");
                                                                                        i63 = i59;
                                                                                        sb22222222222222222.append(i63);
                                                                                        sb22222222222222222.append(" framerate: ");
                                                                                        i64 = i61;
                                                                                        sb22222222222222222.append(i64);
                                                                                        sb22222222222222222.append(" size: ");
                                                                                        sb22222222222222222.append(i80);
                                                                                        str6 = "x";
                                                                                        sb22222222222222222.append(str6);
                                                                                        sb22222222222222222.append(i79);
                                                                                        FileLog.e(sb22222222222222222.toString());
                                                                                        FileLog.e(exc2);
                                                                                        i65 = i80;
                                                                                        z35 = z2;
                                                                                        z36 = true;
                                                                                        outputSurface3 = outputSurface10;
                                                                                        inputSurface16 = inputSurface13;
                                                                                        if (outputSurface3 != null) {
                                                                                        }
                                                                                        if (inputSurface16 != null) {
                                                                                        }
                                                                                        if (mediaCodec11 != null) {
                                                                                        }
                                                                                        if (audioRecoder3 != null) {
                                                                                        }
                                                                                        checkConversionCanceled();
                                                                                        i6 = i63;
                                                                                        inputSurface4 = inputSurface16;
                                                                                        file = file3;
                                                                                        z3 = z34;
                                                                                        str4 = str13;
                                                                                        i15 = i62;
                                                                                        z5 = z36;
                                                                                        mediaCodec6 = null;
                                                                                        file3 = file4;
                                                                                        int i8422222222222222222 = i65;
                                                                                        z4 = z35;
                                                                                        mediaCodec5 = mediaCodec11;
                                                                                        bufferInfo = bufferInfo2;
                                                                                        mediaCodecVideoConvertor = this;
                                                                                        i7 = i8422222222222222222;
                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                        if (mediaExtractor2 != null) {
                                                                                        }
                                                                                        muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                        if (muxer2 != null) {
                                                                                        }
                                                                                        if (mediaCodec5 != null) {
                                                                                        }
                                                                                        if (mediaCodec6 != null) {
                                                                                        }
                                                                                        if (outputSurface3 != null) {
                                                                                        }
                                                                                        if (inputSurface4 != null) {
                                                                                        }
                                                                                        str5 = str4;
                                                                                        if (z4) {
                                                                                        }
                                                                                    } catch (Throwable th32) {
                                                                                        th = th32;
                                                                                        th = th;
                                                                                        mediaCodec = mediaCodec11;
                                                                                        i79 = i66;
                                                                                        i2 = i61;
                                                                                        inputSurface17 = inputSurface22;
                                                                                        outputSurface = outputSurface12;
                                                                                        file = file3;
                                                                                        z3 = z34;
                                                                                        i4 = i59;
                                                                                        str4 = str13;
                                                                                        str3 = "x";
                                                                                        mediaCodec2 = null;
                                                                                        z2 = false;
                                                                                        inputSurface12 = inputSurface17;
                                                                                        bufferInfo = bufferInfo2;
                                                                                        mediaCodecVideoConvertor = this;
                                                                                        inputSurface10 = inputSurface12;
                                                                                        file3 = file4;
                                                                                        inputSurface = inputSurface10;
                                                                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                        FileLog.e(th);
                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                        if (mediaExtractor != null) {
                                                                                        }
                                                                                        muxer = mediaCodecVideoConvertor.muxer;
                                                                                        if (muxer != null) {
                                                                                        }
                                                                                        if (mediaCodec != null) {
                                                                                        }
                                                                                        if (mediaCodec2 != null) {
                                                                                        }
                                                                                        if (outputSurface != null) {
                                                                                        }
                                                                                        if (inputSurface != null) {
                                                                                        }
                                                                                        i6 = i4;
                                                                                        i7 = i3;
                                                                                        str5 = str4;
                                                                                        z4 = z2;
                                                                                        z5 = true;
                                                                                        if (z4) {
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (z38 && (i89 & 1) != 0) {
                                                                                    cutOfNalData(this.outputMimeType, outputBuffer2, bufferInfo2);
                                                                                    z38 = false;
                                                                                }
                                                                                long writeSampleData = this.muxer.writeSampleData(i5, outputBuffer2, bufferInfo2, true);
                                                                                if (writeSampleData == 0 || (videoConvertorListener3 = this.callback) == null) {
                                                                                    z43 = z38;
                                                                                } else {
                                                                                    i75 = dequeueOutputBuffer2;
                                                                                    long j25 = bufferInfo2.presentationTimeUs;
                                                                                    if (j25 <= j24) {
                                                                                        j25 = j24;
                                                                                    }
                                                                                    z43 = z38;
                                                                                    videoConvertorListener3.didWriteData(writeSampleData, ((((float) j25) / 1000.0f) / 1000.0f) / f3);
                                                                                    j24 = j25;
                                                                                    z38 = z43;
                                                                                    i72 = i75;
                                                                                    boolean z52 = (bufferInfo2.flags & 4) != 0;
                                                                                    mediaCodec11.releaseOutputBuffer(i72, false);
                                                                                    z39 = z52;
                                                                                }
                                                                            } else {
                                                                                outputSurface12 = outputSurface10;
                                                                                i75 = dequeueOutputBuffer2;
                                                                                if (i5 != -5) {
                                                                                    z43 = z38;
                                                                                } else if (this.outputMimeType.equals("video/hevc")) {
                                                                                    break loop0;
                                                                                } else {
                                                                                    int i90 = bufferInfo2.size;
                                                                                    byte[] bArr = new byte[i90];
                                                                                    outputBuffer2.limit(bufferInfo2.offset + i90);
                                                                                    outputBuffer2.position(bufferInfo2.offset);
                                                                                    outputBuffer2.get(bArr);
                                                                                    byte b = 1;
                                                                                    int i91 = bufferInfo2.size - 1;
                                                                                    while (i91 >= 0 && i91 > 3) {
                                                                                        if (bArr[i91] == b && bArr[i91 - 1] == 0 && bArr[i91 - 2] == 0) {
                                                                                            int i92 = i91 - 3;
                                                                                            if (bArr[i92] == 0) {
                                                                                                byteBuffer5 = ByteBuffer.allocate(i92);
                                                                                                byteBuffer6 = ByteBuffer.allocate(bufferInfo2.size - i92);
                                                                                                z43 = z38;
                                                                                                byteBuffer5.put(bArr, 0, i92).position(0);
                                                                                                byteBuffer6.put(bArr, i92, bufferInfo2.size - i92).position(0);
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                        i91--;
                                                                                        z38 = z38;
                                                                                        b = 1;
                                                                                    }
                                                                                    z43 = z38;
                                                                                    byteBuffer5 = null;
                                                                                    byteBuffer6 = null;
                                                                                    MediaFormat createVideoFormat3 = MediaFormat.createVideoFormat(this.outputMimeType, i66, i3);
                                                                                    if (byteBuffer5 != null && byteBuffer6 != null) {
                                                                                        createVideoFormat3.setByteBuffer(str17, byteBuffer5);
                                                                                        createVideoFormat3.setByteBuffer("csd-1", byteBuffer6);
                                                                                    }
                                                                                    i5 = this.muxer.addTrack(createVideoFormat3, false);
                                                                                }
                                                                                z38 = z43;
                                                                                i72 = i75;
                                                                                if ((bufferInfo2.flags & 4) != 0) {
                                                                                }
                                                                                mediaCodec11.releaseOutputBuffer(i72, false);
                                                                                z39 = z52;
                                                                            }
                                                                        } catch (Exception e27) {
                                                                            e = e27;
                                                                            exc2 = e;
                                                                            i62 = i5;
                                                                            i80 = i3;
                                                                            i79 = i66;
                                                                            str15 = inputSurface22;
                                                                            inputSurface13 = str15;
                                                                            if (exc2 instanceof IllegalStateException) {
                                                                            }
                                                                            StringBuilder sb222222222222222222 = new StringBuilder();
                                                                            sb222222222222222222.append("bitrate: ");
                                                                            i63 = i59;
                                                                            sb222222222222222222.append(i63);
                                                                            sb222222222222222222.append(" framerate: ");
                                                                            i64 = i61;
                                                                            sb222222222222222222.append(i64);
                                                                            sb222222222222222222.append(" size: ");
                                                                            sb222222222222222222.append(i80);
                                                                            str6 = "x";
                                                                            sb222222222222222222.append(str6);
                                                                            sb222222222222222222.append(i79);
                                                                            FileLog.e(sb222222222222222222.toString());
                                                                            FileLog.e(exc2);
                                                                            i65 = i80;
                                                                            z35 = z2;
                                                                            z36 = true;
                                                                            outputSurface3 = outputSurface10;
                                                                            inputSurface16 = inputSurface13;
                                                                            if (outputSurface3 != null) {
                                                                            }
                                                                            if (inputSurface16 != null) {
                                                                            }
                                                                            if (mediaCodec11 != null) {
                                                                            }
                                                                            if (audioRecoder3 != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            i6 = i63;
                                                                            inputSurface4 = inputSurface16;
                                                                            file = file3;
                                                                            z3 = z34;
                                                                            str4 = str13;
                                                                            i15 = i62;
                                                                            z5 = z36;
                                                                            mediaCodec6 = null;
                                                                            file3 = file4;
                                                                            int i84222222222222222222 = i65;
                                                                            z4 = z35;
                                                                            mediaCodec5 = mediaCodec11;
                                                                            bufferInfo = bufferInfo2;
                                                                            mediaCodecVideoConvertor = this;
                                                                            i7 = i84222222222222222222;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                            if (muxer2 != null) {
                                                                            }
                                                                            if (mediaCodec5 != null) {
                                                                            }
                                                                            if (mediaCodec6 != null) {
                                                                            }
                                                                            if (outputSurface3 != null) {
                                                                            }
                                                                            if (inputSurface4 != null) {
                                                                            }
                                                                            str5 = str4;
                                                                            if (z4) {
                                                                            }
                                                                        } catch (Throwable th33) {
                                                                            th = th33;
                                                                            outputSurface12 = outputSurface10;
                                                                        }
                                                                    } else {
                                                                        z43 = z38;
                                                                        outputSurface12 = outputSurface10;
                                                                    }
                                                                    i72 = i75;
                                                                    if ((bufferInfo2.flags & 4) != 0) {
                                                                    }
                                                                    mediaCodec11.releaseOutputBuffer(i72, false);
                                                                    z39 = z52;
                                                                } catch (Exception e28) {
                                                                    e = e28;
                                                                    r2 = inputSurface22;
                                                                    outputSurface10 = outputSurface12;
                                                                    exc2 = e;
                                                                    str15 = r2;
                                                                    i62 = i5;
                                                                    i80 = i3;
                                                                    i79 = i66;
                                                                    inputSurface13 = str15;
                                                                    if (exc2 instanceof IllegalStateException) {
                                                                    }
                                                                    StringBuilder sb2222222222222222222 = new StringBuilder();
                                                                    sb2222222222222222222.append("bitrate: ");
                                                                    i63 = i59;
                                                                    sb2222222222222222222.append(i63);
                                                                    sb2222222222222222222.append(" framerate: ");
                                                                    i64 = i61;
                                                                    sb2222222222222222222.append(i64);
                                                                    sb2222222222222222222.append(" size: ");
                                                                    sb2222222222222222222.append(i80);
                                                                    str6 = "x";
                                                                    sb2222222222222222222.append(str6);
                                                                    sb2222222222222222222.append(i79);
                                                                    FileLog.e(sb2222222222222222222.toString());
                                                                    FileLog.e(exc2);
                                                                    i65 = i80;
                                                                    z35 = z2;
                                                                    z36 = true;
                                                                    outputSurface3 = outputSurface10;
                                                                    inputSurface16 = inputSurface13;
                                                                    if (outputSurface3 != null) {
                                                                    }
                                                                    if (inputSurface16 != null) {
                                                                    }
                                                                    if (mediaCodec11 != null) {
                                                                    }
                                                                    if (audioRecoder3 != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    i6 = i63;
                                                                    inputSurface4 = inputSurface16;
                                                                    file = file3;
                                                                    z3 = z34;
                                                                    str4 = str13;
                                                                    i15 = i62;
                                                                    z5 = z36;
                                                                    mediaCodec6 = null;
                                                                    file3 = file4;
                                                                    int i842222222222222222222 = i65;
                                                                    z4 = z35;
                                                                    mediaCodec5 = mediaCodec11;
                                                                    bufferInfo = bufferInfo2;
                                                                    mediaCodecVideoConvertor = this;
                                                                    i7 = i842222222222222222222;
                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                    if (mediaExtractor2 != null) {
                                                                    }
                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                    if (muxer2 != null) {
                                                                    }
                                                                    if (mediaCodec5 != null) {
                                                                    }
                                                                    if (mediaCodec6 != null) {
                                                                    }
                                                                    if (outputSurface3 != null) {
                                                                    }
                                                                    if (inputSurface4 != null) {
                                                                    }
                                                                    str5 = str4;
                                                                    if (z4) {
                                                                    }
                                                                } catch (Throwable th34) {
                                                                    th = th34;
                                                                    r2 = inputSurface22;
                                                                    outputSurface10 = outputSurface12;
                                                                    th = th;
                                                                    mediaCodec = mediaCodec11;
                                                                    i79 = i66;
                                                                    i2 = i61;
                                                                    file = file3;
                                                                    z3 = z34;
                                                                    str4 = str13;
                                                                    str3 = "x";
                                                                    mediaCodec2 = null;
                                                                    z2 = false;
                                                                    bufferInfo = bufferInfo2;
                                                                    outputSurface = outputSurface10;
                                                                    mediaCodecVideoConvertor = this;
                                                                    file3 = file4;
                                                                    InputSurface inputSurface26 = r2;
                                                                    i4 = i59;
                                                                    inputSurface = inputSurface26;
                                                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                    FileLog.e(th);
                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                    if (mediaExtractor != null) {
                                                                    }
                                                                    muxer = mediaCodecVideoConvertor.muxer;
                                                                    if (muxer != null) {
                                                                    }
                                                                    if (mediaCodec != null) {
                                                                    }
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    if (outputSurface != null) {
                                                                    }
                                                                    if (inputSurface != null) {
                                                                    }
                                                                    i6 = i4;
                                                                    i7 = i3;
                                                                    str5 = str4;
                                                                    z4 = z2;
                                                                    z5 = true;
                                                                    if (z4) {
                                                                    }
                                                                }
                                                                i75 = dequeueOutputBuffer2;
                                                                z38 = z43;
                                                            } catch (Exception e29) {
                                                                e = e29;
                                                                str22 = inputSurface22;
                                                                inputSurface18 = str22;
                                                                i62 = i5;
                                                                i80 = i3;
                                                                i79 = i66;
                                                                exc2 = e;
                                                                inputSurface13 = inputSurface18;
                                                                z2 = ((exc2 instanceof IllegalStateException) || z) ? false : true;
                                                                StringBuilder sb22222222222222222222 = new StringBuilder();
                                                                sb22222222222222222222.append("bitrate: ");
                                                                i63 = i59;
                                                                sb22222222222222222222.append(i63);
                                                                sb22222222222222222222.append(" framerate: ");
                                                                i64 = i61;
                                                                sb22222222222222222222.append(i64);
                                                                sb22222222222222222222.append(" size: ");
                                                                sb22222222222222222222.append(i80);
                                                                str6 = "x";
                                                                sb22222222222222222222.append(str6);
                                                                sb22222222222222222222.append(i79);
                                                                FileLog.e(sb22222222222222222222.toString());
                                                                FileLog.e(exc2);
                                                                i65 = i80;
                                                                z35 = z2;
                                                                z36 = true;
                                                                outputSurface3 = outputSurface10;
                                                                inputSurface16 = inputSurface13;
                                                                if (outputSurface3 != null) {
                                                                }
                                                                if (inputSurface16 != null) {
                                                                }
                                                                if (mediaCodec11 != null) {
                                                                }
                                                                if (audioRecoder3 != null) {
                                                                }
                                                                checkConversionCanceled();
                                                                i6 = i63;
                                                                inputSurface4 = inputSurface16;
                                                                file = file3;
                                                                z3 = z34;
                                                                str4 = str13;
                                                                i15 = i62;
                                                                z5 = z36;
                                                                mediaCodec6 = null;
                                                                file3 = file4;
                                                                int i8422222222222222222222 = i65;
                                                                z4 = z35;
                                                                mediaCodec5 = mediaCodec11;
                                                                bufferInfo = bufferInfo2;
                                                                mediaCodecVideoConvertor = this;
                                                                i7 = i8422222222222222222222;
                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor2 != null) {
                                                                }
                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                if (muxer2 != null) {
                                                                }
                                                                if (mediaCodec5 != null) {
                                                                }
                                                                if (mediaCodec6 != null) {
                                                                }
                                                                if (outputSurface3 != null) {
                                                                }
                                                                if (inputSurface4 != null) {
                                                                }
                                                                str5 = str4;
                                                                if (z4) {
                                                                }
                                                            }
                                                        } catch (Exception e30) {
                                                            e = e30;
                                                            inputSurface18 = str22;
                                                            i62 = i5;
                                                            i80 = i3;
                                                            i79 = i66;
                                                            exc2 = e;
                                                            inputSurface13 = inputSurface18;
                                                            if (exc2 instanceof IllegalStateException) {
                                                            }
                                                            StringBuilder sb222222222222222222222 = new StringBuilder();
                                                            sb222222222222222222222.append("bitrate: ");
                                                            i63 = i59;
                                                            sb222222222222222222222.append(i63);
                                                            sb222222222222222222222.append(" framerate: ");
                                                            i64 = i61;
                                                            sb222222222222222222222.append(i64);
                                                            sb222222222222222222222.append(" size: ");
                                                            sb222222222222222222222.append(i80);
                                                            str6 = "x";
                                                            sb222222222222222222222.append(str6);
                                                            sb222222222222222222222.append(i79);
                                                            FileLog.e(sb222222222222222222222.toString());
                                                            FileLog.e(exc2);
                                                            i65 = i80;
                                                            z35 = z2;
                                                            z36 = true;
                                                            outputSurface3 = outputSurface10;
                                                            inputSurface16 = inputSurface13;
                                                            if (outputSurface3 != null) {
                                                            }
                                                            if (inputSurface16 != null) {
                                                            }
                                                            if (mediaCodec11 != null) {
                                                            }
                                                            if (audioRecoder3 != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            i6 = i63;
                                                            inputSurface4 = inputSurface16;
                                                            file = file3;
                                                            z3 = z34;
                                                            str4 = str13;
                                                            i15 = i62;
                                                            z5 = z36;
                                                            mediaCodec6 = null;
                                                            file3 = file4;
                                                            int i84222222222222222222222 = i65;
                                                            z4 = z35;
                                                            mediaCodec5 = mediaCodec11;
                                                            bufferInfo = bufferInfo2;
                                                            mediaCodecVideoConvertor = this;
                                                            i7 = i84222222222222222222222;
                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                            if (muxer2 != null) {
                                                            }
                                                            if (mediaCodec5 != null) {
                                                            }
                                                            if (mediaCodec6 != null) {
                                                            }
                                                            if (outputSurface3 != null) {
                                                            }
                                                            if (inputSurface4 != null) {
                                                            }
                                                            str5 = str4;
                                                            if (z4) {
                                                            }
                                                        } catch (Throwable th35) {
                                                            th = th35;
                                                            th = th;
                                                            mediaCodec = mediaCodec11;
                                                            i79 = i66;
                                                            file = file3;
                                                            z3 = z34;
                                                            i4 = i59;
                                                            str3 = "x";
                                                            mediaCodec2 = null;
                                                            inputSurface21 = str22;
                                                            z2 = false;
                                                            bufferInfo = bufferInfo2;
                                                            outputSurface = outputSurface10;
                                                            mediaCodecVideoConvertor = this;
                                                            file3 = file4;
                                                            inputSurface = inputSurface21;
                                                            i2 = i61;
                                                            str4 = str13;
                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                            FileLog.e(th);
                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                            if (muxer != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            i6 = i4;
                                                            i7 = i3;
                                                            str5 = str4;
                                                            z4 = z2;
                                                            z5 = true;
                                                            if (z4) {
                                                            }
                                                        }
                                                    }
                                                    i73 = -1;
                                                }
                                                if (i72 == i73) {
                                                    bufferInfo3 = bufferInfo2;
                                                    str23 = str17;
                                                    addTrack = i70;
                                                    i69 = i71;
                                                    z37 = z42;
                                                    audioRecoder4 = audioRecoder3;
                                                    outputSurface10 = outputSurface12;
                                                    str22 = str16;
                                                } else {
                                                    if (z40) {
                                                        str18 = inputSurface22;
                                                        outputSurface10 = outputSurface12;
                                                        i69 = i71;
                                                    } else {
                                                        int i93 = i71;
                                                        long j26 = (i93 / 30.0f) * 1000.0f * 1000.0f * 1000.0f;
                                                        outputSurface10 = outputSurface12;
                                                        try {
                                                            outputSurface10.drawImage(j26);
                                                            r2 = inputSurface22;
                                                            try {
                                                                r2.setPresentationTime(j26);
                                                                r2.swapBuffers();
                                                                i69 = i93 + 1;
                                                                str18 = r2;
                                                                if (i69 >= 30.0f * f3) {
                                                                    mediaCodec11.signalEndOfInputStream();
                                                                    z40 = true;
                                                                    z41 = false;
                                                                    str18 = r2;
                                                                }
                                                            } catch (Exception e31) {
                                                                e = e31;
                                                                exc2 = e;
                                                                str15 = r2;
                                                                i62 = i5;
                                                                i80 = i3;
                                                                i79 = i66;
                                                                inputSurface13 = str15;
                                                                if (exc2 instanceof IllegalStateException) {
                                                                }
                                                                StringBuilder sb2222222222222222222222 = new StringBuilder();
                                                                sb2222222222222222222222.append("bitrate: ");
                                                                i63 = i59;
                                                                sb2222222222222222222222.append(i63);
                                                                sb2222222222222222222222.append(" framerate: ");
                                                                i64 = i61;
                                                                sb2222222222222222222222.append(i64);
                                                                sb2222222222222222222222.append(" size: ");
                                                                sb2222222222222222222222.append(i80);
                                                                str6 = "x";
                                                                sb2222222222222222222222.append(str6);
                                                                sb2222222222222222222222.append(i79);
                                                                FileLog.e(sb2222222222222222222222.toString());
                                                                FileLog.e(exc2);
                                                                i65 = i80;
                                                                z35 = z2;
                                                                z36 = true;
                                                                outputSurface3 = outputSurface10;
                                                                inputSurface16 = inputSurface13;
                                                                if (outputSurface3 != null) {
                                                                }
                                                                if (inputSurface16 != null) {
                                                                }
                                                                if (mediaCodec11 != null) {
                                                                }
                                                                if (audioRecoder3 != null) {
                                                                }
                                                                checkConversionCanceled();
                                                                i6 = i63;
                                                                inputSurface4 = inputSurface16;
                                                                file = file3;
                                                                z3 = z34;
                                                                str4 = str13;
                                                                i15 = i62;
                                                                z5 = z36;
                                                                mediaCodec6 = null;
                                                                file3 = file4;
                                                                int i842222222222222222222222 = i65;
                                                                z4 = z35;
                                                                mediaCodec5 = mediaCodec11;
                                                                bufferInfo = bufferInfo2;
                                                                mediaCodecVideoConvertor = this;
                                                                i7 = i842222222222222222222222;
                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor2 != null) {
                                                                }
                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                if (muxer2 != null) {
                                                                }
                                                                if (mediaCodec5 != null) {
                                                                }
                                                                if (mediaCodec6 != null) {
                                                                }
                                                                if (outputSurface3 != null) {
                                                                }
                                                                if (inputSurface4 != null) {
                                                                }
                                                                str5 = str4;
                                                                if (z4) {
                                                                }
                                                            } catch (Throwable th36) {
                                                                th = th36;
                                                                th = th;
                                                                mediaCodec = mediaCodec11;
                                                                i79 = i66;
                                                                i2 = i61;
                                                                file = file3;
                                                                z3 = z34;
                                                                str4 = str13;
                                                                str3 = "x";
                                                                mediaCodec2 = null;
                                                                z2 = false;
                                                                bufferInfo = bufferInfo2;
                                                                outputSurface = outputSurface10;
                                                                mediaCodecVideoConvertor = this;
                                                                file3 = file4;
                                                                InputSurface inputSurface262 = r2;
                                                                i4 = i59;
                                                                inputSurface = inputSurface262;
                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                FileLog.e(th);
                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor != null) {
                                                                }
                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                if (muxer != null) {
                                                                }
                                                                if (mediaCodec != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (outputSurface != null) {
                                                                }
                                                                if (inputSurface != null) {
                                                                }
                                                                i6 = i4;
                                                                i7 = i3;
                                                                str5 = str4;
                                                                z4 = z2;
                                                                z5 = true;
                                                                if (z4) {
                                                                }
                                                            }
                                                        } catch (Exception e32) {
                                                            e = e32;
                                                            r2 = inputSurface22;
                                                        } catch (Throwable th37) {
                                                            th = th37;
                                                            r2 = inputSurface22;
                                                        }
                                                    }
                                                    inputSurface22 = str18;
                                                    bufferInfo3 = bufferInfo2;
                                                    str23 = str17;
                                                    addTrack = i70;
                                                    z37 = z42;
                                                    audioRecoder4 = audioRecoder3;
                                                    str22 = str16;
                                                }
                                            } catch (Exception e33) {
                                                e = e33;
                                                audioRecoder3 = audioRecoder4;
                                            }
                                        } catch (Throwable th38) {
                                            th = th38;
                                            str22 = inputSurface22;
                                        }
                                    }
                                }
                            } catch (Exception e34) {
                                e = e34;
                                audioRecoder3 = audioRecoder4;
                                str22 = inputSurface22;
                                bufferInfo2 = bufferInfo3;
                            } catch (Throwable th39) {
                                th = th39;
                                str22 = inputSurface22;
                                bufferInfo2 = bufferInfo3;
                            }
                            i68 = i69;
                            inputSurface22 = inputSurface22;
                        }
                        if (outputSurface3 != null) {
                            try {
                                outputSurface3.release();
                                outputSurface3 = null;
                            } catch (Throwable th40) {
                                th = th40;
                                z2 = z35;
                                i2 = i64;
                                inputSurface = inputSurface16;
                                outputSurface = outputSurface3;
                                file = file3;
                                z3 = z34;
                                str4 = str13;
                                i5 = i62;
                                mediaCodec2 = null;
                                str3 = str6;
                                file3 = file4;
                                i3 = i65;
                                i4 = i63;
                                mediaCodec = mediaCodec11;
                                bufferInfo = bufferInfo2;
                                mediaCodecVideoConvertor = this;
                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                muxer = mediaCodecVideoConvertor.muxer;
                                if (muxer != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i6 = i4;
                                i7 = i3;
                                str5 = str4;
                                z4 = z2;
                                z5 = true;
                                if (z4) {
                                }
                            }
                        }
                        if (inputSurface16 != null) {
                            inputSurface16.release();
                            inputSurface16 = null;
                        }
                        if (mediaCodec11 != null) {
                            mediaCodec11.stop();
                            mediaCodec11.release();
                            mediaCodec11 = null;
                        }
                        if (audioRecoder3 != null) {
                            audioRecoder3.release();
                        }
                        checkConversionCanceled();
                        i6 = i63;
                        inputSurface4 = inputSurface16;
                        file = file3;
                        z3 = z34;
                        str4 = str13;
                        i15 = i62;
                        z5 = z36;
                        mediaCodec6 = null;
                        file3 = file4;
                        int i8422222222222222222222222 = i65;
                        z4 = z35;
                        mediaCodec5 = mediaCodec11;
                        bufferInfo = bufferInfo2;
                        mediaCodecVideoConvertor = this;
                        i7 = i8422222222222222222222222;
                    }
                }
                i67 = i81;
                cropState2 = null;
                outputSurface10 = outputSurface11;
                str13 = name;
                outputSurface11 = new OutputSurface(savedFilterState, str19, str20, str21, arrayList, cropState2, i66, i3, i77, i78, i76, i67, true, num, num2, null, convertVideoParams);
                if (Build.VERSION.SDK_INT >= 21) {
                }
                checkConversionCanceled();
                if (!z50) {
                }
                if (convertVideoParams3.soundInfos.isEmpty()) {
                }
                long j242 = 0;
                z39 = false;
                z40 = false;
                int i862 = 0;
                i68 = 0;
                inputSurface22 = inputSurface19;
                loop0: while (true) {
                    if (!z39) {
                    }
                    checkConversionCanceled();
                    if (audioRecoder4 != null) {
                    }
                    boolean z512 = true;
                    int i872 = i68;
                    z41 = !z40;
                    i69 = i872;
                    while (true) {
                        if (!z41) {
                        }
                        checkConversionCanceled();
                        if (z) {
                        }
                        dequeueOutputBuffer2 = mediaCodec11.dequeueOutputBuffer(bufferInfo2, j18);
                        if (dequeueOutputBuffer2 != -1) {
                        }
                        if (i72 == i73) {
                        }
                    }
                    i68 = i69;
                    inputSurface22 = inputSurface22;
                }
                if (outputSurface3 != null) {
                }
                if (inputSurface16 != null) {
                }
                if (mediaCodec11 != null) {
                }
                if (audioRecoder3 != null) {
                }
                checkConversionCanceled();
                i6 = i63;
                inputSurface4 = inputSurface16;
                file = file3;
                z3 = z34;
                str4 = str13;
                i15 = i62;
                z5 = z36;
                mediaCodec6 = null;
                file3 = file4;
                int i84222222222222222222222222 = i65;
                z4 = z35;
                mediaCodec5 = mediaCodec11;
                bufferInfo = bufferInfo2;
                mediaCodecVideoConvertor = this;
                i7 = i84222222222222222222222222;
            } else {
                str6 = "x";
                String str24 = str23;
                String str25 = "prepend-sps-pps-to-idr-frames";
                try {
                    MediaExtractor mediaExtractor4 = new MediaExtractor();
                    this.extractor = mediaExtractor4;
                    mediaExtractor4.setDataSource(str19);
                    try {
                        int findTrack = MediaController.findTrack(this.extractor, false);
                        if (i82 == -1 || z47 || f2 <= 0.0f) {
                            z6 = z50;
                            str7 = str19;
                            i10 = -1;
                        } else {
                            try {
                                z6 = z50;
                                i10 = MediaController.findTrack(this.extractor, true);
                                str7 = str19;
                            } catch (Throwable th41) {
                                th = th41;
                                i4 = i82;
                                i2 = i81;
                                mediaCodecVideoConvertor = this;
                                mediaCodec = null;
                                mediaCodec2 = null;
                                inputSurface2 = null;
                                outputSurface = null;
                                str4 = null;
                                file = file3;
                                i5 = -5;
                                z2 = false;
                                z3 = false;
                                file3 = file4;
                                bufferInfo = bufferInfo3;
                                int i852 = i80;
                                str3 = str6;
                                i3 = i852;
                                inputSurface = inputSurface2;
                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                muxer = mediaCodecVideoConvertor.muxer;
                                if (muxer != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i6 = i4;
                                i7 = i3;
                                str5 = str4;
                                z4 = z2;
                                z5 = true;
                                if (z4) {
                                }
                            }
                        }
                        try {
                            if (findTrack >= 0) {
                                i11 = i10;
                                if (!this.extractor.getTrackFormat(findTrack).getString("mime").equals(MediaController.VIDEO_MIME_TYPE)) {
                                    z7 = true;
                                    if (file3 == null || z7) {
                                        long j27 = j19;
                                        file = file3;
                                        MediaCodec.BufferInfo bufferInfo4 = bufferInfo3;
                                        file3 = file4;
                                        int i94 = i80;
                                        if (findTrack < 0) {
                                            try {
                                                j = (1000 / i81) * 1000;
                                                if (i81 < 30) {
                                                    try {
                                                        i22 = 1000 / (i81 + 5);
                                                    } catch (Exception e35) {
                                                        exc = e35;
                                                        i18 = findTrack;
                                                        mediaCodecVideoConvertor = this;
                                                        i2 = i81;
                                                        i4 = i82;
                                                        i19 = i79;
                                                        i20 = i94;
                                                        bufferInfo = bufferInfo4;
                                                        mediaCodec = null;
                                                        i21 = -5;
                                                        inputSurface3 = null;
                                                        mediaCodec7 = null;
                                                        outputSurface = null;
                                                        str4 = null;
                                                        audioRecoder = null;
                                                        z3 = false;
                                                        try {
                                                            if (exc instanceof IllegalStateException) {
                                                            }
                                                            z2 = false;
                                                            try {
                                                                StringBuilder sb5 = new StringBuilder();
                                                                sb5.append("bitrate: ");
                                                                sb5.append(i4);
                                                                sb5.append(" framerate: ");
                                                                sb5.append(i2);
                                                                sb5.append(" size: ");
                                                                i7 = i20;
                                                                try {
                                                                    sb5.append(i7);
                                                                    str3 = str6;
                                                                    try {
                                                                        sb5.append(str3);
                                                                        i79 = i19;
                                                                        try {
                                                                            sb5.append(i79);
                                                                            FileLog.e(sb5.toString());
                                                                            FileLog.e(exc);
                                                                            i14 = i21;
                                                                            mediaCodec2 = mediaCodec7;
                                                                            z9 = true;
                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            i13 = i4;
                                                                            z4 = z2;
                                                                            z8 = z9;
                                                                            mediaCodec3 = mediaCodec2;
                                                                            outputSurface2 = outputSurface;
                                                                            if (outputSurface2 != null) {
                                                                            }
                                                                            if (inputSurface3 != null) {
                                                                            }
                                                                            if (mediaCodec == null) {
                                                                            }
                                                                            if (audioRecoder != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            outputSurface3 = outputSurface2;
                                                                            inputSurface4 = inputSurface3;
                                                                            i6 = i13;
                                                                            i15 = i14;
                                                                            mediaCodec5 = mediaCodec4;
                                                                            mediaCodec6 = mediaCodec3;
                                                                            z5 = z8;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                            if (muxer2 != null) {
                                                                            }
                                                                            if (mediaCodec5 != null) {
                                                                            }
                                                                            if (mediaCodec6 != null) {
                                                                            }
                                                                            if (outputSurface3 != null) {
                                                                            }
                                                                            if (inputSurface4 != null) {
                                                                            }
                                                                            str5 = str4;
                                                                        } catch (Throwable th42) {
                                                                            th = th42;
                                                                            th = th;
                                                                            i3 = i7;
                                                                            MediaCodec mediaCodec12 = mediaCodec7;
                                                                            i5 = i21;
                                                                            mediaCodec2 = mediaCodec12;
                                                                            inputSurface = inputSurface3;
                                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                                            if (muxer != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            i6 = i4;
                                                                            i7 = i3;
                                                                            str5 = str4;
                                                                            z4 = z2;
                                                                            z5 = true;
                                                                            if (z4) {
                                                                            }
                                                                        }
                                                                    } catch (Throwable th43) {
                                                                        th = th43;
                                                                        i79 = i19;
                                                                    }
                                                                } catch (Throwable th44) {
                                                                    th = th44;
                                                                    i79 = i19;
                                                                    str3 = str6;
                                                                    th = th;
                                                                    i3 = i7;
                                                                    MediaCodec mediaCodec122 = mediaCodec7;
                                                                    i5 = i21;
                                                                    mediaCodec2 = mediaCodec122;
                                                                    inputSurface = inputSurface3;
                                                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                    FileLog.e(th);
                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                    if (mediaExtractor != null) {
                                                                        mediaExtractor.release();
                                                                    }
                                                                    muxer = mediaCodecVideoConvertor.muxer;
                                                                    if (muxer != null) {
                                                                        try {
                                                                            muxer.finishMovie();
                                                                            mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.muxer.getLastFrameTimestamp(i5, bufferInfo);
                                                                        } catch (Throwable th45) {
                                                                            FileLog.e(th45);
                                                                        }
                                                                    }
                                                                    if (mediaCodec != null) {
                                                                        try {
                                                                            mediaCodec.release();
                                                                        } catch (Exception unused5) {
                                                                        }
                                                                    }
                                                                    if (mediaCodec2 != null) {
                                                                        try {
                                                                            mediaCodec2.release();
                                                                        } catch (Exception unused6) {
                                                                        }
                                                                    }
                                                                    if (outputSurface != null) {
                                                                        try {
                                                                            outputSurface.release();
                                                                        } catch (Exception unused7) {
                                                                        }
                                                                    }
                                                                    if (inputSurface != null) {
                                                                        try {
                                                                            inputSurface.release();
                                                                        } catch (Exception unused8) {
                                                                        }
                                                                    }
                                                                    i6 = i4;
                                                                    i7 = i3;
                                                                    str5 = str4;
                                                                    z4 = z2;
                                                                    z5 = true;
                                                                    if (z4) {
                                                                    }
                                                                }
                                                            } catch (Throwable th46) {
                                                                th = th46;
                                                                i79 = i19;
                                                                i7 = i20;
                                                            }
                                                        } catch (Throwable th47) {
                                                            i79 = i19;
                                                            str3 = str6;
                                                            th = th47;
                                                            i3 = i20;
                                                            z2 = false;
                                                        }
                                                        if (z4) {
                                                        }
                                                    }
                                                } else {
                                                    i22 = 1000 / (i81 + 1);
                                                }
                                                j2 = i22 * 1000;
                                                this.extractor.selectTrack(findTrack);
                                                trackFormat = this.extractor.getTrackFormat(findTrack);
                                                if (z49) {
                                                    i24 = f3 <= 2000.0f ? 2600000 : f3 <= 5000.0f ? 2200000 : 1560000;
                                                    i23 = i83;
                                                    str8 = i23 >= 15000000 ? "OMX.google.h264.encoder" : null;
                                                    j22 = 0;
                                                } else {
                                                    i23 = i83;
                                                    if (i82 <= 0) {
                                                        str8 = null;
                                                        i24 = 921600;
                                                    } else {
                                                        i24 = i82;
                                                        str8 = null;
                                                    }
                                                }
                                                if (i23 > 0) {
                                                    try {
                                                        try {
                                                            i24 = Math.min(i23, i24);
                                                        } catch (Exception e36) {
                                                            exc = e36;
                                                            i18 = findTrack;
                                                            i4 = i24;
                                                            mediaCodecVideoConvertor = this;
                                                            i2 = i81;
                                                            i19 = i79;
                                                            i20 = i94;
                                                            bufferInfo = bufferInfo4;
                                                            mediaCodec = null;
                                                            i21 = -5;
                                                            inputSurface3 = null;
                                                            mediaCodec7 = null;
                                                            outputSurface = null;
                                                            str4 = null;
                                                            audioRecoder = null;
                                                            z3 = false;
                                                            if (exc instanceof IllegalStateException) {
                                                            }
                                                            z2 = false;
                                                            StringBuilder sb52 = new StringBuilder();
                                                            sb52.append("bitrate: ");
                                                            sb52.append(i4);
                                                            sb52.append(" framerate: ");
                                                            sb52.append(i2);
                                                            sb52.append(" size: ");
                                                            i7 = i20;
                                                            sb52.append(i7);
                                                            str3 = str6;
                                                            sb52.append(str3);
                                                            i79 = i19;
                                                            sb52.append(i79);
                                                            FileLog.e(sb52.toString());
                                                            FileLog.e(exc);
                                                            i14 = i21;
                                                            mediaCodec2 = mediaCodec7;
                                                            z9 = true;
                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            i13 = i4;
                                                            z4 = z2;
                                                            z8 = z9;
                                                            mediaCodec3 = mediaCodec2;
                                                            outputSurface2 = outputSurface;
                                                            if (outputSurface2 != null) {
                                                            }
                                                            if (inputSurface3 != null) {
                                                            }
                                                            if (mediaCodec == null) {
                                                            }
                                                            if (audioRecoder != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            outputSurface3 = outputSurface2;
                                                            inputSurface4 = inputSurface3;
                                                            i6 = i13;
                                                            i15 = i14;
                                                            mediaCodec5 = mediaCodec4;
                                                            mediaCodec6 = mediaCodec3;
                                                            z5 = z8;
                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                            if (muxer2 != null) {
                                                            }
                                                            if (mediaCodec5 != null) {
                                                            }
                                                            if (mediaCodec6 != null) {
                                                            }
                                                            if (outputSurface3 != null) {
                                                            }
                                                            if (inputSurface4 != null) {
                                                            }
                                                            str5 = str4;
                                                            if (z4) {
                                                            }
                                                        }
                                                    } catch (Throwable th48) {
                                                        th = th48;
                                                        i4 = i24;
                                                        mediaCodecVideoConvertor = this;
                                                        i2 = i81;
                                                        i12 = i94;
                                                        i79 = i79;
                                                        i3 = i12;
                                                        bufferInfo = bufferInfo4;
                                                        str3 = str6;
                                                        mediaCodec = null;
                                                        mediaCodec2 = null;
                                                        InputSurface inputSurface27 = null;
                                                        i5 = -5;
                                                        outputSurface = null;
                                                        str4 = null;
                                                        z2 = false;
                                                        z3 = false;
                                                        inputSurface = inputSurface27;
                                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                        FileLog.e(th);
                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                        if (mediaExtractor != null) {
                                                        }
                                                        muxer = mediaCodecVideoConvertor.muxer;
                                                        if (muxer != null) {
                                                        }
                                                        if (mediaCodec != null) {
                                                        }
                                                        if (mediaCodec2 != null) {
                                                        }
                                                        if (outputSurface != null) {
                                                        }
                                                        if (inputSurface != null) {
                                                        }
                                                        i6 = i4;
                                                        i7 = i3;
                                                        str5 = str4;
                                                        z4 = z2;
                                                        z5 = true;
                                                        if (z4) {
                                                        }
                                                    }
                                                }
                                                j3 = j22 >= 0 ? -1L : j22;
                                            } catch (Exception e37) {
                                                i18 = findTrack;
                                                mediaCodecVideoConvertor = this;
                                                i2 = i81;
                                                i19 = i79;
                                                i20 = i94;
                                                bufferInfo = bufferInfo4;
                                                exc = e37;
                                                i4 = i82;
                                            } catch (Throwable th49) {
                                                mediaCodecVideoConvertor = this;
                                                i2 = i81;
                                                i16 = i79;
                                                i17 = i94;
                                                bufferInfo = bufferInfo4;
                                                th = th49;
                                                i4 = i82;
                                            }
                                            try {
                                                if (j3 >= 0) {
                                                    this.extractor.seekTo(j3, 0);
                                                    j5 = r32;
                                                    j4 = j3;
                                                } else {
                                                    j4 = j3;
                                                    if (r32 > 0) {
                                                        this.extractor.seekTo(r32, 0);
                                                        j5 = r32;
                                                    } else {
                                                        try {
                                                            j5 = r32;
                                                            this.extractor.seekTo(0L, 0);
                                                            if (cropState3 == null && cropState3.useMatrix == null) {
                                                                i25 = i76;
                                                                if (i25 != 90 && i25 != 270) {
                                                                    i57 = cropState3.transformWidth;
                                                                    i58 = cropState3.transformHeight;
                                                                    int i95 = i58;
                                                                    i26 = i57;
                                                                    i27 = i95;
                                                                }
                                                                i57 = cropState3.transformHeight;
                                                                i58 = cropState3.transformWidth;
                                                                int i952 = i58;
                                                                i26 = i57;
                                                                i27 = i952;
                                                            } else {
                                                                i25 = i76;
                                                                i26 = i79;
                                                                i27 = i94;
                                                            }
                                                        } catch (Exception e38) {
                                                            i18 = findTrack;
                                                            mediaCodecVideoConvertor = this;
                                                            i2 = i81;
                                                            i19 = i79;
                                                            i20 = i94;
                                                            bufferInfo = bufferInfo4;
                                                            exc = e38;
                                                            i4 = i24;
                                                            mediaCodec = null;
                                                            i21 = -5;
                                                            inputSurface3 = null;
                                                            mediaCodec7 = null;
                                                            outputSurface = null;
                                                            str4 = null;
                                                            audioRecoder = null;
                                                            z3 = false;
                                                            if (exc instanceof IllegalStateException) {
                                                            }
                                                            z2 = false;
                                                            StringBuilder sb522 = new StringBuilder();
                                                            sb522.append("bitrate: ");
                                                            sb522.append(i4);
                                                            sb522.append(" framerate: ");
                                                            sb522.append(i2);
                                                            sb522.append(" size: ");
                                                            i7 = i20;
                                                            sb522.append(i7);
                                                            str3 = str6;
                                                            sb522.append(str3);
                                                            i79 = i19;
                                                            sb522.append(i79);
                                                            FileLog.e(sb522.toString());
                                                            FileLog.e(exc);
                                                            i14 = i21;
                                                            mediaCodec2 = mediaCodec7;
                                                            z9 = true;
                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            i13 = i4;
                                                            z4 = z2;
                                                            z8 = z9;
                                                            mediaCodec3 = mediaCodec2;
                                                            outputSurface2 = outputSurface;
                                                            if (outputSurface2 != null) {
                                                            }
                                                            if (inputSurface3 != null) {
                                                            }
                                                            if (mediaCodec == null) {
                                                            }
                                                            if (audioRecoder != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            outputSurface3 = outputSurface2;
                                                            inputSurface4 = inputSurface3;
                                                            i6 = i13;
                                                            i15 = i14;
                                                            mediaCodec5 = mediaCodec4;
                                                            mediaCodec6 = mediaCodec3;
                                                            z5 = z8;
                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                            if (muxer2 != null) {
                                                            }
                                                            if (mediaCodec5 != null) {
                                                            }
                                                            if (mediaCodec6 != null) {
                                                            }
                                                            if (outputSurface3 != null) {
                                                            }
                                                            if (inputSurface4 != null) {
                                                            }
                                                            str5 = str4;
                                                            if (z4) {
                                                            }
                                                        } catch (Throwable th50) {
                                                            mediaCodecVideoConvertor = this;
                                                            i2 = i81;
                                                            i16 = i79;
                                                            i17 = i94;
                                                            bufferInfo = bufferInfo4;
                                                            th = th50;
                                                            i4 = i24;
                                                            i79 = i16;
                                                            i3 = i17;
                                                            str3 = str6;
                                                            mediaCodec = null;
                                                            mediaCodec2 = null;
                                                            InputSurface inputSurface272 = null;
                                                            i5 = -5;
                                                            outputSurface = null;
                                                            str4 = null;
                                                            z2 = false;
                                                            z3 = false;
                                                            inputSurface = inputSurface272;
                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                            FileLog.e(th);
                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                            if (muxer != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            i6 = i4;
                                                            i7 = i3;
                                                            str5 = str4;
                                                            z4 = z2;
                                                            z5 = true;
                                                            if (z4) {
                                                            }
                                                        }
                                                        if (str8 != null) {
                                                            try {
                                                                createByCodecName = MediaCodec.createByCodecName(str8);
                                                            } catch (Exception unused9) {
                                                            }
                                                            if (createByCodecName == null) {
                                                                try {
                                                                    try {
                                                                        createByCodecName = createEncoderForMimeType();
                                                                    } catch (Throwable th51) {
                                                                        th = th51;
                                                                        mediaCodec = createByCodecName;
                                                                        i4 = i24;
                                                                        mediaCodecVideoConvertor = this;
                                                                        i2 = i81;
                                                                        i79 = i79;
                                                                        i3 = i94;
                                                                        bufferInfo = bufferInfo4;
                                                                        str3 = str6;
                                                                        mediaCodec2 = null;
                                                                        InputSurface inputSurface2722 = null;
                                                                        i5 = -5;
                                                                        outputSurface = null;
                                                                        str4 = null;
                                                                        z2 = false;
                                                                        z3 = false;
                                                                        inputSurface = inputSurface2722;
                                                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                        FileLog.e(th);
                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                        if (mediaExtractor != null) {
                                                                        }
                                                                        muxer = mediaCodecVideoConvertor.muxer;
                                                                        if (muxer != null) {
                                                                        }
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (outputSurface != null) {
                                                                        }
                                                                        if (inputSurface != null) {
                                                                        }
                                                                        i6 = i4;
                                                                        i7 = i3;
                                                                        str5 = str4;
                                                                        z4 = z2;
                                                                        z5 = true;
                                                                        if (z4) {
                                                                        }
                                                                    }
                                                                } catch (Exception e39) {
                                                                    exc = e39;
                                                                    mediaCodec = createByCodecName;
                                                                    i18 = findTrack;
                                                                    i4 = i24;
                                                                    mediaCodecVideoConvertor = this;
                                                                    i2 = i81;
                                                                    i19 = i79;
                                                                    i20 = i94;
                                                                    bufferInfo = bufferInfo4;
                                                                    i21 = -5;
                                                                    inputSurface3 = null;
                                                                    mediaCodec7 = null;
                                                                    outputSurface = null;
                                                                    str4 = null;
                                                                    audioRecoder = null;
                                                                    z3 = false;
                                                                    if (exc instanceof IllegalStateException) {
                                                                    }
                                                                    z2 = false;
                                                                    StringBuilder sb5222 = new StringBuilder();
                                                                    sb5222.append("bitrate: ");
                                                                    sb5222.append(i4);
                                                                    sb5222.append(" framerate: ");
                                                                    sb5222.append(i2);
                                                                    sb5222.append(" size: ");
                                                                    i7 = i20;
                                                                    sb5222.append(i7);
                                                                    str3 = str6;
                                                                    sb5222.append(str3);
                                                                    i79 = i19;
                                                                    sb5222.append(i79);
                                                                    FileLog.e(sb5222.toString());
                                                                    FileLog.e(exc);
                                                                    i14 = i21;
                                                                    mediaCodec2 = mediaCodec7;
                                                                    z9 = true;
                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    i13 = i4;
                                                                    z4 = z2;
                                                                    z8 = z9;
                                                                    mediaCodec3 = mediaCodec2;
                                                                    outputSurface2 = outputSurface;
                                                                    if (outputSurface2 != null) {
                                                                    }
                                                                    if (inputSurface3 != null) {
                                                                    }
                                                                    if (mediaCodec == null) {
                                                                    }
                                                                    if (audioRecoder != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    outputSurface3 = outputSurface2;
                                                                    inputSurface4 = inputSurface3;
                                                                    i6 = i13;
                                                                    i15 = i14;
                                                                    mediaCodec5 = mediaCodec4;
                                                                    mediaCodec6 = mediaCodec3;
                                                                    z5 = z8;
                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                    if (mediaExtractor2 != null) {
                                                                    }
                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                    if (muxer2 != null) {
                                                                    }
                                                                    if (mediaCodec5 != null) {
                                                                    }
                                                                    if (mediaCodec6 != null) {
                                                                    }
                                                                    if (outputSurface3 != null) {
                                                                    }
                                                                    if (inputSurface4 != null) {
                                                                    }
                                                                    str5 = str4;
                                                                    if (z4) {
                                                                    }
                                                                }
                                                            }
                                                            if (BuildVars.LOGS_ENABLED) {
                                                                StringBuilder sb6 = new StringBuilder();
                                                                i28 = findTrack;
                                                                try {
                                                                    sb6.append("create encoder with w = ");
                                                                    sb6.append(i26);
                                                                    sb6.append(" h = ");
                                                                    sb6.append(i27);
                                                                    sb6.append(" bitrate = ");
                                                                    sb6.append(i24);
                                                                    FileLog.d(sb6.toString());
                                                                } catch (Exception e40) {
                                                                    exc = e40;
                                                                    mediaCodec = createByCodecName;
                                                                    i4 = i24;
                                                                    mediaCodecVideoConvertor = this;
                                                                    i2 = i81;
                                                                    i19 = i79;
                                                                    i20 = i94;
                                                                    bufferInfo = bufferInfo4;
                                                                    i18 = i28;
                                                                    i21 = -5;
                                                                    inputSurface3 = null;
                                                                    mediaCodec7 = null;
                                                                    outputSurface = null;
                                                                    str4 = null;
                                                                    audioRecoder = null;
                                                                    z3 = false;
                                                                    if (exc instanceof IllegalStateException) {
                                                                    }
                                                                    z2 = false;
                                                                    StringBuilder sb52222 = new StringBuilder();
                                                                    sb52222.append("bitrate: ");
                                                                    sb52222.append(i4);
                                                                    sb52222.append(" framerate: ");
                                                                    sb52222.append(i2);
                                                                    sb52222.append(" size: ");
                                                                    i7 = i20;
                                                                    sb52222.append(i7);
                                                                    str3 = str6;
                                                                    sb52222.append(str3);
                                                                    i79 = i19;
                                                                    sb52222.append(i79);
                                                                    FileLog.e(sb52222.toString());
                                                                    FileLog.e(exc);
                                                                    i14 = i21;
                                                                    mediaCodec2 = mediaCodec7;
                                                                    z9 = true;
                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    i13 = i4;
                                                                    z4 = z2;
                                                                    z8 = z9;
                                                                    mediaCodec3 = mediaCodec2;
                                                                    outputSurface2 = outputSurface;
                                                                    if (outputSurface2 != null) {
                                                                    }
                                                                    if (inputSurface3 != null) {
                                                                    }
                                                                    if (mediaCodec == null) {
                                                                    }
                                                                    if (audioRecoder != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    outputSurface3 = outputSurface2;
                                                                    inputSurface4 = inputSurface3;
                                                                    i6 = i13;
                                                                    i15 = i14;
                                                                    mediaCodec5 = mediaCodec4;
                                                                    mediaCodec6 = mediaCodec3;
                                                                    z5 = z8;
                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                    if (mediaExtractor2 != null) {
                                                                    }
                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                    if (muxer2 != null) {
                                                                    }
                                                                    if (mediaCodec5 != null) {
                                                                    }
                                                                    if (mediaCodec6 != null) {
                                                                    }
                                                                    if (outputSurface3 != null) {
                                                                    }
                                                                    if (inputSurface4 != null) {
                                                                    }
                                                                    str5 = str4;
                                                                    if (z4) {
                                                                    }
                                                                }
                                                            } else {
                                                                i28 = findTrack;
                                                            }
                                                            createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i26, i27);
                                                            createVideoFormat.setInteger("color-format", 2130708361);
                                                            createVideoFormat.setInteger("bitrate", i24);
                                                            if (z49 && Build.VERSION.SDK_INT >= 21) {
                                                                createVideoFormat.setInteger("bitrate-mode", 2);
                                                            }
                                                            createVideoFormat.setInteger("max-bitrate", i24);
                                                            createVideoFormat.setInteger("frame-rate", i81);
                                                            createVideoFormat.setInteger("i-frame-interval", 1);
                                                            i29 = Build.VERSION.SDK_INT;
                                                            if (i29 >= 24) {
                                                                mediaFormat = trackFormat;
                                                                if (mediaFormat.containsKey("color-transfer")) {
                                                                    i32 = mediaFormat.getInteger("color-transfer");
                                                                    f = f3;
                                                                } else {
                                                                    f = f3;
                                                                    i32 = 0;
                                                                }
                                                                if (mediaFormat.containsKey("color-standard")) {
                                                                    i30 = mediaFormat.getInteger("color-standard");
                                                                    z10 = z44;
                                                                } else {
                                                                    z10 = z44;
                                                                    i30 = 0;
                                                                }
                                                                int integer = mediaFormat.containsKey("color-range") ? mediaFormat.getInteger("color-range") : 0;
                                                                if ((i32 == 6 || i32 == 7) && i30 == 6) {
                                                                    i31 = integer;
                                                                    z11 = true;
                                                                    MediaFormat mediaFormat3 = mediaFormat;
                                                                    if (i29 >= 23) {
                                                                        i33 = i27;
                                                                        if (Math.min(i27, i26) <= 480 && !z49) {
                                                                            if (i24 > 921600) {
                                                                                i24 = 921600;
                                                                            }
                                                                            createVideoFormat.setInteger("bitrate", i24);
                                                                        }
                                                                    } else {
                                                                        i33 = i27;
                                                                    }
                                                                    int i96 = i24;
                                                                    String name2 = createByCodecName.getName();
                                                                    z3 = "c2.qti.avc.encoder".equalsIgnoreCase(name2);
                                                                    FileLog.d("selected encoder " + name2);
                                                                    createByCodecName.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                                    InputSurface inputSurface28 = new InputSurface(createByCodecName.createInputSurface());
                                                                    inputSurface28.makeCurrent();
                                                                    createByCodecName.start();
                                                                    if (hDRInfo2 == null || !z11) {
                                                                        hDRInfo = hDRInfo2;
                                                                    } else {
                                                                        try {
                                                                            StoryEntry.HDRInfo hDRInfo3 = new StoryEntry.HDRInfo();
                                                                            hDRInfo3.colorTransfer = i32;
                                                                            hDRInfo3.colorStandard = i30;
                                                                            hDRInfo3.colorRange = i31;
                                                                            if (i29 >= 24) {
                                                                                createVideoFormat.setInteger("color-transfer", 3);
                                                                            }
                                                                            hDRInfo = hDRInfo3;
                                                                        } catch (Exception e41) {
                                                                            exc = e41;
                                                                            mediaCodec = createByCodecName;
                                                                            str4 = name2;
                                                                            inputSurface3 = inputSurface28;
                                                                            i2 = i81;
                                                                            i19 = i79;
                                                                            i20 = i94;
                                                                            i4 = i96;
                                                                            bufferInfo = bufferInfo4;
                                                                            i18 = i28;
                                                                            i21 = -5;
                                                                            mediaCodec7 = null;
                                                                            outputSurface = null;
                                                                            audioRecoder = null;
                                                                            mediaCodecVideoConvertor = this;
                                                                            if (exc instanceof IllegalStateException) {
                                                                            }
                                                                            z2 = false;
                                                                            StringBuilder sb522222 = new StringBuilder();
                                                                            sb522222.append("bitrate: ");
                                                                            sb522222.append(i4);
                                                                            sb522222.append(" framerate: ");
                                                                            sb522222.append(i2);
                                                                            sb522222.append(" size: ");
                                                                            i7 = i20;
                                                                            sb522222.append(i7);
                                                                            str3 = str6;
                                                                            sb522222.append(str3);
                                                                            i79 = i19;
                                                                            sb522222.append(i79);
                                                                            FileLog.e(sb522222.toString());
                                                                            FileLog.e(exc);
                                                                            i14 = i21;
                                                                            mediaCodec2 = mediaCodec7;
                                                                            z9 = true;
                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            i13 = i4;
                                                                            z4 = z2;
                                                                            z8 = z9;
                                                                            mediaCodec3 = mediaCodec2;
                                                                            outputSurface2 = outputSurface;
                                                                            if (outputSurface2 != null) {
                                                                            }
                                                                            if (inputSurface3 != null) {
                                                                            }
                                                                            if (mediaCodec == null) {
                                                                            }
                                                                            if (audioRecoder != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            outputSurface3 = outputSurface2;
                                                                            inputSurface4 = inputSurface3;
                                                                            i6 = i13;
                                                                            i15 = i14;
                                                                            mediaCodec5 = mediaCodec4;
                                                                            mediaCodec6 = mediaCodec3;
                                                                            z5 = z8;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                            if (muxer2 != null) {
                                                                            }
                                                                            if (mediaCodec5 != null) {
                                                                            }
                                                                            if (mediaCodec6 != null) {
                                                                            }
                                                                            if (outputSurface3 != null) {
                                                                            }
                                                                            if (inputSurface4 != null) {
                                                                            }
                                                                            str5 = str4;
                                                                            if (z4) {
                                                                            }
                                                                        } catch (Throwable th52) {
                                                                            th = th52;
                                                                            mediaCodec = createByCodecName;
                                                                            str4 = name2;
                                                                            inputSurface = inputSurface28;
                                                                            i2 = i81;
                                                                            i79 = i79;
                                                                            i3 = i94;
                                                                            i4 = i96;
                                                                            bufferInfo = bufferInfo4;
                                                                            str3 = str6;
                                                                            mediaCodec2 = null;
                                                                            i5 = -5;
                                                                            outputSurface = null;
                                                                            z2 = false;
                                                                            mediaCodecVideoConvertor = this;
                                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                                            if (muxer != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            i6 = i4;
                                                                            i7 = i3;
                                                                            str5 = str4;
                                                                            z4 = z2;
                                                                            z5 = true;
                                                                            if (z4) {
                                                                            }
                                                                        }
                                                                    }
                                                                    ?? r26 = i81;
                                                                    i20 = 0;
                                                                    int i97 = i81;
                                                                    i19 = i25;
                                                                    outputSurface = new OutputSurface(savedFilterState, null, str20, str21, arrayList, cropState3, i79, i94, i77, i78, i19, r26, false, num, num2, hDRInfo, convertVideoParams);
                                                                    if (i29 >= 24 && hDRInfo != null) {
                                                                        try {
                                                                        } catch (Exception e42) {
                                                                            MediaCodec mediaCodec13 = createByCodecName;
                                                                            str4 = name2;
                                                                            mediaCodecVideoConvertor = this;
                                                                            exc = e42;
                                                                            mediaCodec = mediaCodec13;
                                                                            i19 = i79;
                                                                            i20 = i94;
                                                                            inputSurface3 = inputSurface28;
                                                                            i4 = i96;
                                                                            bufferInfo = bufferInfo4;
                                                                            i18 = i28;
                                                                        } catch (Throwable th53) {
                                                                            th = th53;
                                                                            mediaCodec8 = createByCodecName;
                                                                            i34 = i79;
                                                                            i56 = i94;
                                                                            str4 = name2;
                                                                        }
                                                                        if (hDRInfo.getHDRType() != 0) {
                                                                            mediaCodec8 = createByCodecName;
                                                                            i36 = i11;
                                                                            i34 = i79;
                                                                            i37 = i28;
                                                                            i56 = i94;
                                                                            str4 = name2;
                                                                            z12 = z6;
                                                                            i38 = i33;
                                                                            obj = "video/hevc";
                                                                            str9 = str7;
                                                                            j7 = j5;
                                                                            str10 = "mime";
                                                                            j8 = j4;
                                                                            i35 = i26;
                                                                            mediaFormat2 = mediaFormat3;
                                                                            j6 = j21;
                                                                            try {
                                                                                inputSurface9 = inputSurface28;
                                                                                try {
                                                                                    outputSurface.changeFragmentShader(hdrFragmentShader(i77, i78, i34, i56, true, hDRInfo), hdrFragmentShader(i77, i78, i34, i56, false, hDRInfo), false);
                                                                                    mediaCodecVideoConvertor = this;
                                                                                    inputSurface3 = inputSurface9;
                                                                                    r3 = i56;
                                                                                    MediaFormat mediaFormat4 = mediaFormat2;
                                                                                    mediaCodec7 = mediaCodecVideoConvertor.getDecoderByFormat(mediaFormat4);
                                                                                    mediaCodec7.configure(mediaFormat4, outputSurface.getSurface(), (MediaCrypto) null, 0);
                                                                                    mediaCodec7.start();
                                                                                    if (i29 < 21) {
                                                                                        try {
                                                                                            try {
                                                                                                inputBuffers = mediaCodec7.getInputBuffers();
                                                                                                outputBuffers = mediaCodec8.getOutputBuffers();
                                                                                            } catch (Exception e43) {
                                                                                                exc = e43;
                                                                                                i20 = r3;
                                                                                                audioRecoder = null;
                                                                                                i19 = i34;
                                                                                                i18 = i37;
                                                                                                bufferInfo = bufferInfo4;
                                                                                                i2 = i97;
                                                                                                i21 = -5;
                                                                                                mediaCodec = mediaCodec8;
                                                                                                i4 = i96;
                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                    z2 = true;
                                                                                                    StringBuilder sb5222222 = new StringBuilder();
                                                                                                    sb5222222.append("bitrate: ");
                                                                                                    sb5222222.append(i4);
                                                                                                    sb5222222.append(" framerate: ");
                                                                                                    sb5222222.append(i2);
                                                                                                    sb5222222.append(" size: ");
                                                                                                    i7 = i20;
                                                                                                    sb5222222.append(i7);
                                                                                                    str3 = str6;
                                                                                                    sb5222222.append(str3);
                                                                                                    i79 = i19;
                                                                                                    sb5222222.append(i79);
                                                                                                    FileLog.e(sb5222222.toString());
                                                                                                    FileLog.e(exc);
                                                                                                    i14 = i21;
                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                    z9 = true;
                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                    if (mediaCodec2 != null) {
                                                                                                    }
                                                                                                    i13 = i4;
                                                                                                    z4 = z2;
                                                                                                    z8 = z9;
                                                                                                    mediaCodec3 = mediaCodec2;
                                                                                                    outputSurface2 = outputSurface;
                                                                                                    if (outputSurface2 != null) {
                                                                                                    }
                                                                                                    if (inputSurface3 != null) {
                                                                                                    }
                                                                                                    if (mediaCodec == null) {
                                                                                                    }
                                                                                                    if (audioRecoder != null) {
                                                                                                    }
                                                                                                    checkConversionCanceled();
                                                                                                    outputSurface3 = outputSurface2;
                                                                                                    inputSurface4 = inputSurface3;
                                                                                                    i6 = i13;
                                                                                                    i15 = i14;
                                                                                                    mediaCodec5 = mediaCodec4;
                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                    z5 = z8;
                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                    if (mediaExtractor2 != null) {
                                                                                                    }
                                                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                    if (muxer2 != null) {
                                                                                                    }
                                                                                                    if (mediaCodec5 != null) {
                                                                                                    }
                                                                                                    if (mediaCodec6 != null) {
                                                                                                    }
                                                                                                    if (outputSurface3 != null) {
                                                                                                    }
                                                                                                    if (inputSurface4 != null) {
                                                                                                    }
                                                                                                    str5 = str4;
                                                                                                    if (z4) {
                                                                                                    }
                                                                                                }
                                                                                                z2 = false;
                                                                                                StringBuilder sb52222222 = new StringBuilder();
                                                                                                sb52222222.append("bitrate: ");
                                                                                                sb52222222.append(i4);
                                                                                                sb52222222.append(" framerate: ");
                                                                                                sb52222222.append(i2);
                                                                                                sb52222222.append(" size: ");
                                                                                                i7 = i20;
                                                                                                sb52222222.append(i7);
                                                                                                str3 = str6;
                                                                                                sb52222222.append(str3);
                                                                                                i79 = i19;
                                                                                                sb52222222.append(i79);
                                                                                                FileLog.e(sb52222222.toString());
                                                                                                FileLog.e(exc);
                                                                                                i14 = i21;
                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                z9 = true;
                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                if (mediaCodec2 != null) {
                                                                                                }
                                                                                                i13 = i4;
                                                                                                z4 = z2;
                                                                                                z8 = z9;
                                                                                                mediaCodec3 = mediaCodec2;
                                                                                                outputSurface2 = outputSurface;
                                                                                                if (outputSurface2 != null) {
                                                                                                }
                                                                                                if (inputSurface3 != null) {
                                                                                                }
                                                                                                if (mediaCodec == null) {
                                                                                                }
                                                                                                if (audioRecoder != null) {
                                                                                                }
                                                                                                checkConversionCanceled();
                                                                                                outputSurface3 = outputSurface2;
                                                                                                inputSurface4 = inputSurface3;
                                                                                                i6 = i13;
                                                                                                i15 = i14;
                                                                                                mediaCodec5 = mediaCodec4;
                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                z5 = z8;
                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                if (mediaExtractor2 != null) {
                                                                                                }
                                                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                if (muxer2 != null) {
                                                                                                }
                                                                                                if (mediaCodec5 != null) {
                                                                                                }
                                                                                                if (mediaCodec6 != null) {
                                                                                                }
                                                                                                if (outputSurface3 != null) {
                                                                                                }
                                                                                                if (inputSurface4 != null) {
                                                                                                }
                                                                                                str5 = str4;
                                                                                                if (z4) {
                                                                                                }
                                                                                            }
                                                                                        } catch (Throwable th54) {
                                                                                            th = th54;
                                                                                            i3 = r3;
                                                                                            mediaCodec2 = mediaCodec7;
                                                                                            i79 = i34;
                                                                                            bufferInfo = bufferInfo4;
                                                                                            str3 = str6;
                                                                                            i2 = i97;
                                                                                            i5 = -5;
                                                                                            z2 = false;
                                                                                            mediaCodec = mediaCodec8;
                                                                                            inputSurface5 = inputSurface3;
                                                                                            i4 = i96;
                                                                                            inputSurface = inputSurface5;
                                                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                            FileLog.e(th);
                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                            if (mediaExtractor != null) {
                                                                                            }
                                                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                                                            if (muxer != null) {
                                                                                            }
                                                                                            if (mediaCodec != null) {
                                                                                            }
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            if (outputSurface != null) {
                                                                                            }
                                                                                            if (inputSurface != null) {
                                                                                            }
                                                                                            i6 = i4;
                                                                                            i7 = i3;
                                                                                            str5 = str4;
                                                                                            z4 = z2;
                                                                                            z5 = true;
                                                                                            if (z4) {
                                                                                            }
                                                                                        }
                                                                                    } else {
                                                                                        inputBuffers = null;
                                                                                        outputBuffers = null;
                                                                                    }
                                                                                    if (z12) {
                                                                                        try {
                                                                                            mediaCodecVideoConvertor.muxer = new Muxer(new MediaMuxer(file3.getAbsolutePath(), 1));
                                                                                            byteBufferArr = outputBuffers;
                                                                                        } catch (Exception e44) {
                                                                                            exc = e44;
                                                                                            i20 = r3;
                                                                                            i19 = i34;
                                                                                            i18 = i37;
                                                                                            bufferInfo = bufferInfo4;
                                                                                            i2 = i97;
                                                                                            i21 = -5;
                                                                                            audioRecoder = null;
                                                                                            mediaCodec = mediaCodec8;
                                                                                            i4 = i96;
                                                                                            if (exc instanceof IllegalStateException) {
                                                                                            }
                                                                                            z2 = false;
                                                                                            StringBuilder sb522222222 = new StringBuilder();
                                                                                            sb522222222.append("bitrate: ");
                                                                                            sb522222222.append(i4);
                                                                                            sb522222222.append(" framerate: ");
                                                                                            sb522222222.append(i2);
                                                                                            sb522222222.append(" size: ");
                                                                                            i7 = i20;
                                                                                            sb522222222.append(i7);
                                                                                            str3 = str6;
                                                                                            sb522222222.append(str3);
                                                                                            i79 = i19;
                                                                                            sb522222222.append(i79);
                                                                                            FileLog.e(sb522222222.toString());
                                                                                            FileLog.e(exc);
                                                                                            i14 = i21;
                                                                                            mediaCodec2 = mediaCodec7;
                                                                                            z9 = true;
                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            i13 = i4;
                                                                                            z4 = z2;
                                                                                            z8 = z9;
                                                                                            mediaCodec3 = mediaCodec2;
                                                                                            outputSurface2 = outputSurface;
                                                                                            if (outputSurface2 != null) {
                                                                                            }
                                                                                            if (inputSurface3 != null) {
                                                                                            }
                                                                                            if (mediaCodec == null) {
                                                                                            }
                                                                                            if (audioRecoder != null) {
                                                                                            }
                                                                                            checkConversionCanceled();
                                                                                            outputSurface3 = outputSurface2;
                                                                                            inputSurface4 = inputSurface3;
                                                                                            i6 = i13;
                                                                                            i15 = i14;
                                                                                            mediaCodec5 = mediaCodec4;
                                                                                            mediaCodec6 = mediaCodec3;
                                                                                            z5 = z8;
                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                            if (mediaExtractor2 != null) {
                                                                                            }
                                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                            if (muxer2 != null) {
                                                                                            }
                                                                                            if (mediaCodec5 != null) {
                                                                                            }
                                                                                            if (mediaCodec6 != null) {
                                                                                            }
                                                                                            if (outputSurface3 != null) {
                                                                                            }
                                                                                            if (inputSurface4 != null) {
                                                                                            }
                                                                                            str5 = str4;
                                                                                            if (z4) {
                                                                                            }
                                                                                        }
                                                                                    } else {
                                                                                        ?? mp4Movie2 = new Mp4Movie();
                                                                                        try {
                                                                                            mp4Movie2.setCacheFile(file3);
                                                                                            mp4Movie2.setRotation(0);
                                                                                            mp4Movie2.setSize(i34, r3);
                                                                                            byteBufferArr = outputBuffers;
                                                                                            file3 = file3;
                                                                                            mediaCodecVideoConvertor.muxer = new Muxer(new MP4Builder().createMovie(mp4Movie2, z10, mediaCodecVideoConvertor.outputMimeType.equals(obj)));
                                                                                        } catch (Exception e45) {
                                                                                            e = e45;
                                                                                            i20 = r3;
                                                                                            file3 = file3;
                                                                                            i19 = i34;
                                                                                            i18 = i37;
                                                                                            bufferInfo = bufferInfo4;
                                                                                            i40 = i97;
                                                                                            mediaCodec = mediaCodec8;
                                                                                            i4 = i96;
                                                                                            i21 = -5;
                                                                                            int i98 = i40;
                                                                                            audioRecoder = null;
                                                                                            i2 = i98;
                                                                                            exc = e;
                                                                                            if (exc instanceof IllegalStateException) {
                                                                                            }
                                                                                            z2 = false;
                                                                                            StringBuilder sb5222222222 = new StringBuilder();
                                                                                            sb5222222222.append("bitrate: ");
                                                                                            sb5222222222.append(i4);
                                                                                            sb5222222222.append(" framerate: ");
                                                                                            sb5222222222.append(i2);
                                                                                            sb5222222222.append(" size: ");
                                                                                            i7 = i20;
                                                                                            sb5222222222.append(i7);
                                                                                            str3 = str6;
                                                                                            sb5222222222.append(str3);
                                                                                            i79 = i19;
                                                                                            sb5222222222.append(i79);
                                                                                            FileLog.e(sb5222222222.toString());
                                                                                            FileLog.e(exc);
                                                                                            i14 = i21;
                                                                                            mediaCodec2 = mediaCodec7;
                                                                                            z9 = true;
                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            i13 = i4;
                                                                                            z4 = z2;
                                                                                            z8 = z9;
                                                                                            mediaCodec3 = mediaCodec2;
                                                                                            outputSurface2 = outputSurface;
                                                                                            if (outputSurface2 != null) {
                                                                                            }
                                                                                            if (inputSurface3 != null) {
                                                                                            }
                                                                                            if (mediaCodec == null) {
                                                                                            }
                                                                                            if (audioRecoder != null) {
                                                                                            }
                                                                                            checkConversionCanceled();
                                                                                            outputSurface3 = outputSurface2;
                                                                                            inputSurface4 = inputSurface3;
                                                                                            i6 = i13;
                                                                                            i15 = i14;
                                                                                            mediaCodec5 = mediaCodec4;
                                                                                            mediaCodec6 = mediaCodec3;
                                                                                            z5 = z8;
                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                            if (mediaExtractor2 != null) {
                                                                                            }
                                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                            if (muxer2 != null) {
                                                                                            }
                                                                                            if (mediaCodec5 != null) {
                                                                                            }
                                                                                            if (mediaCodec6 != null) {
                                                                                            }
                                                                                            if (outputSurface3 != null) {
                                                                                            }
                                                                                            if (inputSurface4 != null) {
                                                                                            }
                                                                                            str5 = str4;
                                                                                            if (z4) {
                                                                                            }
                                                                                        } catch (Throwable th55) {
                                                                                            th2 = th55;
                                                                                            i20 = r3;
                                                                                            file3 = file3;
                                                                                            i19 = i34;
                                                                                            bufferInfo = bufferInfo4;
                                                                                            i2 = i97;
                                                                                            mediaCodec = mediaCodec8;
                                                                                            mediaCodec2 = mediaCodec7;
                                                                                            i79 = i19;
                                                                                            i3 = i20;
                                                                                            i4 = i96;
                                                                                            str3 = str6;
                                                                                            i5 = -5;
                                                                                            z2 = false;
                                                                                            th = th2;
                                                                                            inputSurface = inputSurface3;
                                                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                            FileLog.e(th);
                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                            if (mediaExtractor != null) {
                                                                                            }
                                                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                                                            if (muxer != null) {
                                                                                            }
                                                                                            if (mediaCodec != null) {
                                                                                            }
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            if (outputSurface != null) {
                                                                                            }
                                                                                            if (inputSurface != null) {
                                                                                            }
                                                                                            i6 = i4;
                                                                                            i7 = i3;
                                                                                            str5 = str4;
                                                                                            z4 = z2;
                                                                                            z5 = true;
                                                                                            if (z4) {
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (i36 >= 0) {
                                                                                        try {
                                                                                            MediaFormat trackFormat2 = mediaCodecVideoConvertor.extractor.getTrackFormat(i36);
                                                                                            try {
                                                                                                if (Math.abs(f2 - 1.0f) < 0.001f) {
                                                                                                    convertVideoParams2 = convertVideoParams;
                                                                                                    if (convertVideoParams2.soundInfos.isEmpty()) {
                                                                                                        str11 = str10;
                                                                                                        if (!trackFormat2.getString(str11).equals(MediaController.AUDIO_MIME_TYPE)) {
                                                                                                        }
                                                                                                        z13 = true;
                                                                                                        if (trackFormat2.getString(str11).equals("audio/unknown")) {
                                                                                                            i36 = -1;
                                                                                                        }
                                                                                                        if (i36 >= 0) {
                                                                                                            mediaCodec9 = mediaCodec8;
                                                                                                            i20 = r3;
                                                                                                            z14 = z13;
                                                                                                            i19 = i34;
                                                                                                            j9 = j7;
                                                                                                            i41 = -5;
                                                                                                            audioRecoder2 = null;
                                                                                                        } else if (z13) {
                                                                                                            int addTrack2 = mediaCodecVideoConvertor.muxer.addTrack(trackFormat2, true);
                                                                                                            mediaCodecVideoConvertor.extractor.selectTrack(i36);
                                                                                                            try {
                                                                                                                i42 = trackFormat2.getInteger("max-input-size");
                                                                                                            } catch (Exception e46) {
                                                                                                                FileLog.e(e46);
                                                                                                                i42 = 0;
                                                                                                            }
                                                                                                            if (i42 <= 0) {
                                                                                                                i42 = 65536;
                                                                                                            }
                                                                                                            z14 = z13;
                                                                                                            byteBuffer = ByteBuffer.allocateDirect(i42);
                                                                                                            i19 = i34;
                                                                                                            j9 = j7;
                                                                                                            if (j9 > 0) {
                                                                                                                try {
                                                                                                                    mediaCodecVideoConvertor.extractor.seekTo(j9, 0);
                                                                                                                    mediaCodec9 = mediaCodec8;
                                                                                                                    i20 = r3;
                                                                                                                } catch (Exception e47) {
                                                                                                                    exc = e47;
                                                                                                                    i20 = r3;
                                                                                                                    i18 = i37;
                                                                                                                    bufferInfo = bufferInfo4;
                                                                                                                    i2 = i97;
                                                                                                                    i21 = -5;
                                                                                                                    audioRecoder = null;
                                                                                                                    mediaCodec = mediaCodec8;
                                                                                                                    i4 = i96;
                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                    }
                                                                                                                    z2 = false;
                                                                                                                    StringBuilder sb52222222222 = new StringBuilder();
                                                                                                                    sb52222222222.append("bitrate: ");
                                                                                                                    sb52222222222.append(i4);
                                                                                                                    sb52222222222.append(" framerate: ");
                                                                                                                    sb52222222222.append(i2);
                                                                                                                    sb52222222222.append(" size: ");
                                                                                                                    i7 = i20;
                                                                                                                    sb52222222222.append(i7);
                                                                                                                    str3 = str6;
                                                                                                                    sb52222222222.append(str3);
                                                                                                                    i79 = i19;
                                                                                                                    sb52222222222.append(i79);
                                                                                                                    FileLog.e(sb52222222222.toString());
                                                                                                                    FileLog.e(exc);
                                                                                                                    i14 = i21;
                                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                                    z9 = true;
                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                    }
                                                                                                                    i13 = i4;
                                                                                                                    z4 = z2;
                                                                                                                    z8 = z9;
                                                                                                                    mediaCodec3 = mediaCodec2;
                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                    if (outputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface3 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec == null) {
                                                                                                                    }
                                                                                                                    if (audioRecoder != null) {
                                                                                                                    }
                                                                                                                    checkConversionCanceled();
                                                                                                                    outputSurface3 = outputSurface2;
                                                                                                                    inputSurface4 = inputSurface3;
                                                                                                                    i6 = i13;
                                                                                                                    i15 = i14;
                                                                                                                    mediaCodec5 = mediaCodec4;
                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                    z5 = z8;
                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                    }
                                                                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                    if (muxer2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec5 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface3 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface4 != null) {
                                                                                                                    }
                                                                                                                    str5 = str4;
                                                                                                                    if (z4) {
                                                                                                                    }
                                                                                                                } catch (Throwable th56) {
                                                                                                                    th = th56;
                                                                                                                    i3 = r3;
                                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                                    i79 = i19;
                                                                                                                    bufferInfo = bufferInfo4;
                                                                                                                    str3 = str6;
                                                                                                                    i2 = i97;
                                                                                                                    i5 = -5;
                                                                                                                    z2 = false;
                                                                                                                    mediaCodec = mediaCodec8;
                                                                                                                    inputSurface5 = inputSurface3;
                                                                                                                    i4 = i96;
                                                                                                                    inputSurface = inputSurface5;
                                                                                                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                    FileLog.e(th);
                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor != null) {
                                                                                                                    }
                                                                                                                    muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                    if (muxer != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    i6 = i4;
                                                                                                                    i7 = i3;
                                                                                                                    str5 = str4;
                                                                                                                    z4 = z2;
                                                                                                                    z5 = true;
                                                                                                                    if (z4) {
                                                                                                                    }
                                                                                                                }
                                                                                                            } else {
                                                                                                                try {
                                                                                                                    mediaCodec9 = mediaCodec8;
                                                                                                                    i20 = r3;
                                                                                                                    mediaCodecVideoConvertor.extractor.seekTo(0L, 0);
                                                                                                                } catch (Exception e48) {
                                                                                                                    e = e48;
                                                                                                                    r26 = mediaCodec8;
                                                                                                                    i20 = r3;
                                                                                                                    exc = e;
                                                                                                                    i18 = i37;
                                                                                                                    mediaCodec = r26;
                                                                                                                    i4 = i96;
                                                                                                                    bufferInfo = bufferInfo4;
                                                                                                                    i2 = i97;
                                                                                                                    i21 = -5;
                                                                                                                    audioRecoder = null;
                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                    }
                                                                                                                    z2 = false;
                                                                                                                    StringBuilder sb522222222222 = new StringBuilder();
                                                                                                                    sb522222222222.append("bitrate: ");
                                                                                                                    sb522222222222.append(i4);
                                                                                                                    sb522222222222.append(" framerate: ");
                                                                                                                    sb522222222222.append(i2);
                                                                                                                    sb522222222222.append(" size: ");
                                                                                                                    i7 = i20;
                                                                                                                    sb522222222222.append(i7);
                                                                                                                    str3 = str6;
                                                                                                                    sb522222222222.append(str3);
                                                                                                                    i79 = i19;
                                                                                                                    sb522222222222.append(i79);
                                                                                                                    FileLog.e(sb522222222222.toString());
                                                                                                                    FileLog.e(exc);
                                                                                                                    i14 = i21;
                                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                                    z9 = true;
                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                    }
                                                                                                                    i13 = i4;
                                                                                                                    z4 = z2;
                                                                                                                    z8 = z9;
                                                                                                                    mediaCodec3 = mediaCodec2;
                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                    if (outputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface3 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec == null) {
                                                                                                                    }
                                                                                                                    if (audioRecoder != null) {
                                                                                                                    }
                                                                                                                    checkConversionCanceled();
                                                                                                                    outputSurface3 = outputSurface2;
                                                                                                                    inputSurface4 = inputSurface3;
                                                                                                                    i6 = i13;
                                                                                                                    i15 = i14;
                                                                                                                    mediaCodec5 = mediaCodec4;
                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                    z5 = z8;
                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                    }
                                                                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                    if (muxer2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec5 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface3 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface4 != null) {
                                                                                                                    }
                                                                                                                    str5 = str4;
                                                                                                                    if (z4) {
                                                                                                                    }
                                                                                                                } catch (Throwable th57) {
                                                                                                                    th = th57;
                                                                                                                    r26 = mediaCodec8;
                                                                                                                    i20 = r3;
                                                                                                                    th = th;
                                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                                    i79 = i19;
                                                                                                                    mediaCodec = r26;
                                                                                                                    i3 = i20;
                                                                                                                    i4 = i96;
                                                                                                                    bufferInfo = bufferInfo4;
                                                                                                                    str3 = str6;
                                                                                                                    i2 = i97;
                                                                                                                    i5 = -5;
                                                                                                                    z2 = false;
                                                                                                                    inputSurface = inputSurface3;
                                                                                                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                    FileLog.e(th);
                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor != null) {
                                                                                                                    }
                                                                                                                    muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                    if (muxer != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    i6 = i4;
                                                                                                                    i7 = i3;
                                                                                                                    str5 = str4;
                                                                                                                    z4 = z2;
                                                                                                                    z5 = true;
                                                                                                                    if (z4) {
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                            i41 = addTrack2;
                                                                                                            audioRecoder2 = null;
                                                                                                            z15 = z14;
                                                                                                        } else {
                                                                                                            mediaCodec9 = mediaCodec8;
                                                                                                            i20 = r3;
                                                                                                            z14 = z13;
                                                                                                            i19 = i34;
                                                                                                            j9 = j7;
                                                                                                            ArrayList arrayList3 = new ArrayList();
                                                                                                            GeneralAudioInput generalAudioInput = new GeneralAudioInput(str9, i36);
                                                                                                            if (j27 > 0) {
                                                                                                                generalAudioInput.setEndTimeUs(j27);
                                                                                                            }
                                                                                                            if (j9 > 0) {
                                                                                                                generalAudioInput.setStartTimeUs(j9);
                                                                                                            }
                                                                                                            generalAudioInput.setVolume(f2);
                                                                                                            arrayList3.add(generalAudioInput);
                                                                                                            applyAudioInputs(convertVideoParams2.soundInfos, arrayList3);
                                                                                                            j27 = j27;
                                                                                                            audioRecoder2 = new AudioRecoder(arrayList3, j6);
                                                                                                            i41 = mediaCodecVideoConvertor.muxer.addTrack(audioRecoder2.format, true);
                                                                                                        }
                                                                                                        i42 = 0;
                                                                                                        byteBuffer = null;
                                                                                                        z15 = z14;
                                                                                                    } else {
                                                                                                        str11 = str10;
                                                                                                    }
                                                                                                } else {
                                                                                                    convertVideoParams2 = convertVideoParams;
                                                                                                    str11 = str10;
                                                                                                }
                                                                                                if (trackFormat2.getString(str11).equals("audio/unknown")) {
                                                                                                }
                                                                                                if (i36 >= 0) {
                                                                                                }
                                                                                                i42 = 0;
                                                                                                byteBuffer = null;
                                                                                                z15 = z14;
                                                                                            } catch (Exception e49) {
                                                                                                e = e49;
                                                                                                r26 = mediaCodec8;
                                                                                                i20 = r3;
                                                                                                i19 = i34;
                                                                                                exc = e;
                                                                                                i18 = i37;
                                                                                                mediaCodec = r26;
                                                                                                i4 = i96;
                                                                                                bufferInfo = bufferInfo4;
                                                                                                i2 = i97;
                                                                                                i21 = -5;
                                                                                                audioRecoder = null;
                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                }
                                                                                                z2 = false;
                                                                                                StringBuilder sb5222222222222 = new StringBuilder();
                                                                                                sb5222222222222.append("bitrate: ");
                                                                                                sb5222222222222.append(i4);
                                                                                                sb5222222222222.append(" framerate: ");
                                                                                                sb5222222222222.append(i2);
                                                                                                sb5222222222222.append(" size: ");
                                                                                                i7 = i20;
                                                                                                sb5222222222222.append(i7);
                                                                                                str3 = str6;
                                                                                                sb5222222222222.append(str3);
                                                                                                i79 = i19;
                                                                                                sb5222222222222.append(i79);
                                                                                                FileLog.e(sb5222222222222.toString());
                                                                                                FileLog.e(exc);
                                                                                                i14 = i21;
                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                z9 = true;
                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                if (mediaCodec2 != null) {
                                                                                                }
                                                                                                i13 = i4;
                                                                                                z4 = z2;
                                                                                                z8 = z9;
                                                                                                mediaCodec3 = mediaCodec2;
                                                                                                outputSurface2 = outputSurface;
                                                                                                if (outputSurface2 != null) {
                                                                                                }
                                                                                                if (inputSurface3 != null) {
                                                                                                }
                                                                                                if (mediaCodec == null) {
                                                                                                }
                                                                                                if (audioRecoder != null) {
                                                                                                }
                                                                                                checkConversionCanceled();
                                                                                                outputSurface3 = outputSurface2;
                                                                                                inputSurface4 = inputSurface3;
                                                                                                i6 = i13;
                                                                                                i15 = i14;
                                                                                                mediaCodec5 = mediaCodec4;
                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                z5 = z8;
                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                if (mediaExtractor2 != null) {
                                                                                                }
                                                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                if (muxer2 != null) {
                                                                                                }
                                                                                                if (mediaCodec5 != null) {
                                                                                                }
                                                                                                if (mediaCodec6 != null) {
                                                                                                }
                                                                                                if (outputSurface3 != null) {
                                                                                                }
                                                                                                if (inputSurface4 != null) {
                                                                                                }
                                                                                                str5 = str4;
                                                                                                if (z4) {
                                                                                                }
                                                                                            } catch (Throwable th58) {
                                                                                                th = th58;
                                                                                                r26 = mediaCodec8;
                                                                                                i20 = r3;
                                                                                                i19 = i34;
                                                                                                th = th;
                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                i79 = i19;
                                                                                                mediaCodec = r26;
                                                                                                i3 = i20;
                                                                                                i4 = i96;
                                                                                                bufferInfo = bufferInfo4;
                                                                                                str3 = str6;
                                                                                                i2 = i97;
                                                                                                i5 = -5;
                                                                                                z2 = false;
                                                                                                inputSurface = inputSurface3;
                                                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                FileLog.e(th);
                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                if (mediaExtractor != null) {
                                                                                                }
                                                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                                                if (muxer != null) {
                                                                                                }
                                                                                                if (mediaCodec != null) {
                                                                                                }
                                                                                                if (mediaCodec2 != null) {
                                                                                                }
                                                                                                if (outputSurface != null) {
                                                                                                }
                                                                                                if (inputSurface != null) {
                                                                                                }
                                                                                                i6 = i4;
                                                                                                i7 = i3;
                                                                                                str5 = str4;
                                                                                                z4 = z2;
                                                                                                z5 = true;
                                                                                                if (z4) {
                                                                                                }
                                                                                            }
                                                                                            z13 = false;
                                                                                        } catch (Exception e50) {
                                                                                            e = e50;
                                                                                        } catch (Throwable th59) {
                                                                                            th = th59;
                                                                                        }
                                                                                    } else {
                                                                                        mediaCodec9 = mediaCodec8;
                                                                                        i20 = r3;
                                                                                        i19 = i34;
                                                                                        j9 = j7;
                                                                                        long j28 = j6;
                                                                                        try {
                                                                                            try {
                                                                                                if (convertVideoParams.soundInfos.isEmpty()) {
                                                                                                    i41 = -5;
                                                                                                    audioRecoder2 = null;
                                                                                                    i42 = 0;
                                                                                                    z15 = true;
                                                                                                } else {
                                                                                                    ArrayList arrayList4 = new ArrayList();
                                                                                                    arrayList4.add(new BlankAudioInput(j28));
                                                                                                    applyAudioInputs(convertVideoParams.soundInfos, arrayList4);
                                                                                                    audioRecoder2 = new AudioRecoder(arrayList4, j28);
                                                                                                    i41 = mediaCodecVideoConvertor.muxer.addTrack(audioRecoder2.format, true);
                                                                                                    i42 = 0;
                                                                                                    z15 = false;
                                                                                                }
                                                                                                byteBuffer = null;
                                                                                            } catch (Exception e51) {
                                                                                                e = e51;
                                                                                                i18 = i37;
                                                                                                mediaCodec = mediaCodec9;
                                                                                                bufferInfo = bufferInfo4;
                                                                                                i40 = i97;
                                                                                                i4 = i96;
                                                                                                i21 = -5;
                                                                                                int i982 = i40;
                                                                                                audioRecoder = null;
                                                                                                i2 = i982;
                                                                                                exc = e;
                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                }
                                                                                                z2 = false;
                                                                                                StringBuilder sb52222222222222 = new StringBuilder();
                                                                                                sb52222222222222.append("bitrate: ");
                                                                                                sb52222222222222.append(i4);
                                                                                                sb52222222222222.append(" framerate: ");
                                                                                                sb52222222222222.append(i2);
                                                                                                sb52222222222222.append(" size: ");
                                                                                                i7 = i20;
                                                                                                sb52222222222222.append(i7);
                                                                                                str3 = str6;
                                                                                                sb52222222222222.append(str3);
                                                                                                i79 = i19;
                                                                                                sb52222222222222.append(i79);
                                                                                                FileLog.e(sb52222222222222.toString());
                                                                                                FileLog.e(exc);
                                                                                                i14 = i21;
                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                z9 = true;
                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                if (mediaCodec2 != null) {
                                                                                                }
                                                                                                i13 = i4;
                                                                                                z4 = z2;
                                                                                                z8 = z9;
                                                                                                mediaCodec3 = mediaCodec2;
                                                                                                outputSurface2 = outputSurface;
                                                                                                if (outputSurface2 != null) {
                                                                                                }
                                                                                                if (inputSurface3 != null) {
                                                                                                }
                                                                                                if (mediaCodec == null) {
                                                                                                }
                                                                                                if (audioRecoder != null) {
                                                                                                }
                                                                                                checkConversionCanceled();
                                                                                                outputSurface3 = outputSurface2;
                                                                                                inputSurface4 = inputSurface3;
                                                                                                i6 = i13;
                                                                                                i15 = i14;
                                                                                                mediaCodec5 = mediaCodec4;
                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                z5 = z8;
                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                if (mediaExtractor2 != null) {
                                                                                                }
                                                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                if (muxer2 != null) {
                                                                                                }
                                                                                                if (mediaCodec5 != null) {
                                                                                                }
                                                                                                if (mediaCodec6 != null) {
                                                                                                }
                                                                                                if (outputSurface3 != null) {
                                                                                                }
                                                                                                if (inputSurface4 != null) {
                                                                                                }
                                                                                                str5 = str4;
                                                                                                if (z4) {
                                                                                                }
                                                                                            }
                                                                                        } catch (Throwable th60) {
                                                                                            th2 = th60;
                                                                                            mediaCodec = mediaCodec9;
                                                                                            bufferInfo = bufferInfo4;
                                                                                            i2 = i97;
                                                                                            mediaCodec2 = mediaCodec7;
                                                                                            i79 = i19;
                                                                                            i3 = i20;
                                                                                            i4 = i96;
                                                                                            str3 = str6;
                                                                                            i5 = -5;
                                                                                            z2 = false;
                                                                                            th = th2;
                                                                                            inputSurface = inputSurface3;
                                                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                            FileLog.e(th);
                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                            if (mediaExtractor != null) {
                                                                                            }
                                                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                                                            if (muxer != null) {
                                                                                            }
                                                                                            if (mediaCodec != null) {
                                                                                            }
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            if (outputSurface != null) {
                                                                                            }
                                                                                            if (inputSurface != null) {
                                                                                            }
                                                                                            i6 = i4;
                                                                                            i7 = i3;
                                                                                            str5 = str4;
                                                                                            z4 = z2;
                                                                                            z5 = true;
                                                                                            if (z4) {
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    boolean z53 = audioRecoder2 == null;
                                                                                    checkConversionCanceled();
                                                                                    ByteBuffer[] byteBufferArr4 = byteBufferArr;
                                                                                    j10 = -2147483648L;
                                                                                    ByteBuffer byteBuffer9 = byteBuffer;
                                                                                    long j29 = -1;
                                                                                    long j30 = -1;
                                                                                    z16 = false;
                                                                                    int i99 = 0;
                                                                                    z17 = false;
                                                                                    boolean z54 = true;
                                                                                    i14 = -5;
                                                                                    long j31 = 0;
                                                                                    long j32 = 0;
                                                                                    z18 = z53;
                                                                                    i43 = i42;
                                                                                    outputSurface4 = null;
                                                                                    loop3: while (true) {
                                                                                        if (outputSurface4 != null || (!z15 && !z18)) {
                                                                                            try {
                                                                                                checkConversionCanceled();
                                                                                                if (audioRecoder2 != null) {
                                                                                                    outputSurface5 = outputSurface4;
                                                                                                    try {
                                                                                                        try {
                                                                                                            z19 = audioRecoder2.step(mediaCodecVideoConvertor.muxer, i41);
                                                                                                        } catch (Exception e52) {
                                                                                                            exc = e52;
                                                                                                            audioRecoder = audioRecoder2;
                                                                                                            i18 = i37;
                                                                                                            mediaCodec = mediaCodec9;
                                                                                                            i21 = i14;
                                                                                                            i4 = i96;
                                                                                                            bufferInfo = bufferInfo4;
                                                                                                            i2 = i97;
                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                            }
                                                                                                            z2 = false;
                                                                                                            StringBuilder sb522222222222222 = new StringBuilder();
                                                                                                            sb522222222222222.append("bitrate: ");
                                                                                                            sb522222222222222.append(i4);
                                                                                                            sb522222222222222.append(" framerate: ");
                                                                                                            sb522222222222222.append(i2);
                                                                                                            sb522222222222222.append(" size: ");
                                                                                                            i7 = i20;
                                                                                                            sb522222222222222.append(i7);
                                                                                                            str3 = str6;
                                                                                                            sb522222222222222.append(str3);
                                                                                                            i79 = i19;
                                                                                                            sb522222222222222.append(i79);
                                                                                                            FileLog.e(sb522222222222222.toString());
                                                                                                            FileLog.e(exc);
                                                                                                            i14 = i21;
                                                                                                            mediaCodec2 = mediaCodec7;
                                                                                                            z9 = true;
                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                            if (mediaCodec2 != null) {
                                                                                                            }
                                                                                                            i13 = i4;
                                                                                                            z4 = z2;
                                                                                                            z8 = z9;
                                                                                                            mediaCodec3 = mediaCodec2;
                                                                                                            outputSurface2 = outputSurface;
                                                                                                            if (outputSurface2 != null) {
                                                                                                            }
                                                                                                            if (inputSurface3 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec == null) {
                                                                                                            }
                                                                                                            if (audioRecoder != null) {
                                                                                                            }
                                                                                                            checkConversionCanceled();
                                                                                                            outputSurface3 = outputSurface2;
                                                                                                            inputSurface4 = inputSurface3;
                                                                                                            i6 = i13;
                                                                                                            i15 = i14;
                                                                                                            mediaCodec5 = mediaCodec4;
                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                            z5 = z8;
                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                            if (mediaExtractor2 != null) {
                                                                                                            }
                                                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                            if (muxer2 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec5 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec6 != null) {
                                                                                                            }
                                                                                                            if (outputSurface3 != null) {
                                                                                                            }
                                                                                                            if (inputSurface4 != null) {
                                                                                                            }
                                                                                                            str5 = str4;
                                                                                                            if (z4) {
                                                                                                            }
                                                                                                        }
                                                                                                    } catch (Throwable th61) {
                                                                                                        th3 = th61;
                                                                                                        th = th3;
                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                        i79 = i19;
                                                                                                        mediaCodec = mediaCodec9;
                                                                                                        i3 = i20;
                                                                                                        i5 = i14;
                                                                                                        i4 = i96;
                                                                                                        bufferInfo = bufferInfo4;
                                                                                                        str3 = str6;
                                                                                                        i2 = i97;
                                                                                                        z2 = false;
                                                                                                        inputSurface = inputSurface3;
                                                                                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                        FileLog.e(th);
                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                        if (mediaExtractor != null) {
                                                                                                        }
                                                                                                        muxer = mediaCodecVideoConvertor.muxer;
                                                                                                        if (muxer != null) {
                                                                                                        }
                                                                                                        if (mediaCodec != null) {
                                                                                                        }
                                                                                                        if (mediaCodec2 != null) {
                                                                                                        }
                                                                                                        if (outputSurface != null) {
                                                                                                        }
                                                                                                        if (inputSurface != null) {
                                                                                                        }
                                                                                                        i6 = i4;
                                                                                                        i7 = i3;
                                                                                                        str5 = str4;
                                                                                                        z4 = z2;
                                                                                                        z5 = true;
                                                                                                        if (z4) {
                                                                                                        }
                                                                                                    }
                                                                                                } else {
                                                                                                    outputSurface5 = outputSurface4;
                                                                                                    z19 = z18;
                                                                                                }
                                                                                                if (z17) {
                                                                                                    i45 = i41;
                                                                                                    audioRecoder = audioRecoder2;
                                                                                                    byteBufferArr2 = inputBuffers;
                                                                                                    inputSurface6 = inputSurface3;
                                                                                                    z20 = z19;
                                                                                                    z21 = z15;
                                                                                                    bufferInfo = bufferInfo4;
                                                                                                    i46 = i36;
                                                                                                } else {
                                                                                                    audioRecoder = audioRecoder2;
                                                                                                    try {
                                                                                                        int sampleTrackIndex = mediaCodecVideoConvertor.extractor.getSampleTrackIndex();
                                                                                                        if (sampleTrackIndex == i37) {
                                                                                                            z20 = z19;
                                                                                                            try {
                                                                                                                int dequeueInputBuffer = mediaCodec7.dequeueInputBuffer(2500L);
                                                                                                                if (dequeueInputBuffer >= 0) {
                                                                                                                    if (Build.VERSION.SDK_INT < 21) {
                                                                                                                        inputBuffer = inputBuffers[dequeueInputBuffer];
                                                                                                                    } else {
                                                                                                                        inputBuffer = mediaCodec7.getInputBuffer(dequeueInputBuffer);
                                                                                                                    }
                                                                                                                    byteBufferArr2 = inputBuffers;
                                                                                                                    int readSampleData = mediaCodecVideoConvertor.extractor.readSampleData(inputBuffer, 0);
                                                                                                                    if (readSampleData < 0) {
                                                                                                                        mediaCodec7.queueInputBuffer(dequeueInputBuffer, 0, 0, 0L, 4);
                                                                                                                        z17 = true;
                                                                                                                    } else {
                                                                                                                        mediaCodec7.queueInputBuffer(dequeueInputBuffer, 0, readSampleData, mediaCodecVideoConvertor.extractor.getSampleTime(), 0);
                                                                                                                        mediaCodecVideoConvertor.extractor.advance();
                                                                                                                    }
                                                                                                                } else {
                                                                                                                    byteBufferArr2 = inputBuffers;
                                                                                                                }
                                                                                                                i45 = i41;
                                                                                                                inputSurface6 = inputSurface3;
                                                                                                                z21 = z15;
                                                                                                                bufferInfo = bufferInfo4;
                                                                                                                i46 = i36;
                                                                                                            } catch (Exception e53) {
                                                                                                                e = e53;
                                                                                                                exc = e;
                                                                                                                i18 = i37;
                                                                                                                mediaCodec = mediaCodec9;
                                                                                                                i21 = i14;
                                                                                                                i4 = i96;
                                                                                                                bufferInfo = bufferInfo4;
                                                                                                                i2 = i97;
                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                }
                                                                                                                z2 = false;
                                                                                                                StringBuilder sb5222222222222222 = new StringBuilder();
                                                                                                                sb5222222222222222.append("bitrate: ");
                                                                                                                sb5222222222222222.append(i4);
                                                                                                                sb5222222222222222.append(" framerate: ");
                                                                                                                sb5222222222222222.append(i2);
                                                                                                                sb5222222222222222.append(" size: ");
                                                                                                                i7 = i20;
                                                                                                                sb5222222222222222.append(i7);
                                                                                                                str3 = str6;
                                                                                                                sb5222222222222222.append(str3);
                                                                                                                i79 = i19;
                                                                                                                sb5222222222222222.append(i79);
                                                                                                                FileLog.e(sb5222222222222222.toString());
                                                                                                                FileLog.e(exc);
                                                                                                                i14 = i21;
                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                z9 = true;
                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                if (mediaCodec2 != null) {
                                                                                                                }
                                                                                                                i13 = i4;
                                                                                                                z4 = z2;
                                                                                                                z8 = z9;
                                                                                                                mediaCodec3 = mediaCodec2;
                                                                                                                outputSurface2 = outputSurface;
                                                                                                                if (outputSurface2 != null) {
                                                                                                                }
                                                                                                                if (inputSurface3 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec == null) {
                                                                                                                }
                                                                                                                if (audioRecoder != null) {
                                                                                                                }
                                                                                                                checkConversionCanceled();
                                                                                                                outputSurface3 = outputSurface2;
                                                                                                                inputSurface4 = inputSurface3;
                                                                                                                i6 = i13;
                                                                                                                i15 = i14;
                                                                                                                mediaCodec5 = mediaCodec4;
                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                z5 = z8;
                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                }
                                                                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                if (muxer2 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec5 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec6 != null) {
                                                                                                                }
                                                                                                                if (outputSurface3 != null) {
                                                                                                                }
                                                                                                                if (inputSurface4 != null) {
                                                                                                                }
                                                                                                                str5 = str4;
                                                                                                                if (z4) {
                                                                                                                }
                                                                                                            }
                                                                                                        } else {
                                                                                                            byteBufferArr2 = inputBuffers;
                                                                                                            z20 = z19;
                                                                                                            if (z15 && i36 != -1 && sampleTrackIndex == i36) {
                                                                                                                int i100 = Build.VERSION.SDK_INT;
                                                                                                                if (i100 >= 28) {
                                                                                                                    try {
                                                                                                                        sampleSize = mediaCodecVideoConvertor.extractor.getSampleSize();
                                                                                                                        inputSurface6 = inputSurface3;
                                                                                                                        if (sampleSize > i43) {
                                                                                                                            i43 = (int) (sampleSize + 1024);
                                                                                                                            try {
                                                                                                                                byteBuffer9 = ByteBuffer.allocateDirect(i43);
                                                                                                                            } catch (Exception e54) {
                                                                                                                                exc = e54;
                                                                                                                                i18 = i37;
                                                                                                                                mediaCodec = mediaCodec9;
                                                                                                                                i21 = i14;
                                                                                                                                i4 = i96;
                                                                                                                                bufferInfo = bufferInfo4;
                                                                                                                                inputSurface3 = inputSurface6;
                                                                                                                                i2 = i97;
                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                }
                                                                                                                                z2 = false;
                                                                                                                                StringBuilder sb52222222222222222 = new StringBuilder();
                                                                                                                                sb52222222222222222.append("bitrate: ");
                                                                                                                                sb52222222222222222.append(i4);
                                                                                                                                sb52222222222222222.append(" framerate: ");
                                                                                                                                sb52222222222222222.append(i2);
                                                                                                                                sb52222222222222222.append(" size: ");
                                                                                                                                i7 = i20;
                                                                                                                                sb52222222222222222.append(i7);
                                                                                                                                str3 = str6;
                                                                                                                                sb52222222222222222.append(str3);
                                                                                                                                i79 = i19;
                                                                                                                                sb52222222222222222.append(i79);
                                                                                                                                FileLog.e(sb52222222222222222.toString());
                                                                                                                                FileLog.e(exc);
                                                                                                                                i14 = i21;
                                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                                z9 = true;
                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                }
                                                                                                                                i13 = i4;
                                                                                                                                z4 = z2;
                                                                                                                                z8 = z9;
                                                                                                                                mediaCodec3 = mediaCodec2;
                                                                                                                                outputSurface2 = outputSurface;
                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                }
                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec == null) {
                                                                                                                                }
                                                                                                                                if (audioRecoder != null) {
                                                                                                                                }
                                                                                                                                checkConversionCanceled();
                                                                                                                                outputSurface3 = outputSurface2;
                                                                                                                                inputSurface4 = inputSurface3;
                                                                                                                                i6 = i13;
                                                                                                                                i15 = i14;
                                                                                                                                mediaCodec5 = mediaCodec4;
                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                z5 = z8;
                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                }
                                                                                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                if (muxer2 != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec5 != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                }
                                                                                                                                if (outputSurface3 != null) {
                                                                                                                                }
                                                                                                                                if (inputSurface4 != null) {
                                                                                                                                }
                                                                                                                                str5 = str4;
                                                                                                                                if (z4) {
                                                                                                                                }
                                                                                                                            } catch (Throwable th62) {
                                                                                                                                th = th62;
                                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                                i79 = i19;
                                                                                                                                mediaCodec = mediaCodec9;
                                                                                                                                i3 = i20;
                                                                                                                                i5 = i14;
                                                                                                                                i4 = i96;
                                                                                                                                bufferInfo = bufferInfo4;
                                                                                                                                str3 = str6;
                                                                                                                                inputSurface3 = inputSurface6;
                                                                                                                                i2 = i97;
                                                                                                                                z2 = false;
                                                                                                                                inputSurface = inputSurface3;
                                                                                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                FileLog.e(th);
                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                }
                                                                                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                if (muxer != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                }
                                                                                                                                if (outputSurface != null) {
                                                                                                                                }
                                                                                                                                if (inputSurface != null) {
                                                                                                                                }
                                                                                                                                i6 = i4;
                                                                                                                                i7 = i3;
                                                                                                                                str5 = str4;
                                                                                                                                z4 = z2;
                                                                                                                                z5 = true;
                                                                                                                                if (z4) {
                                                                                                                                }
                                                                                                                            }
                                                                                                                        }
                                                                                                                    } catch (Exception e55) {
                                                                                                                        e = e55;
                                                                                                                        exc = e;
                                                                                                                        i18 = i37;
                                                                                                                        mediaCodec = mediaCodec9;
                                                                                                                        i21 = i14;
                                                                                                                        i4 = i96;
                                                                                                                        bufferInfo = bufferInfo4;
                                                                                                                        i2 = i97;
                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                        }
                                                                                                                        z2 = false;
                                                                                                                        StringBuilder sb522222222222222222 = new StringBuilder();
                                                                                                                        sb522222222222222222.append("bitrate: ");
                                                                                                                        sb522222222222222222.append(i4);
                                                                                                                        sb522222222222222222.append(" framerate: ");
                                                                                                                        sb522222222222222222.append(i2);
                                                                                                                        sb522222222222222222.append(" size: ");
                                                                                                                        i7 = i20;
                                                                                                                        sb522222222222222222.append(i7);
                                                                                                                        str3 = str6;
                                                                                                                        sb522222222222222222.append(str3);
                                                                                                                        i79 = i19;
                                                                                                                        sb522222222222222222.append(i79);
                                                                                                                        FileLog.e(sb522222222222222222.toString());
                                                                                                                        FileLog.e(exc);
                                                                                                                        i14 = i21;
                                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                                        z9 = true;
                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                        }
                                                                                                                        i13 = i4;
                                                                                                                        z4 = z2;
                                                                                                                        z8 = z9;
                                                                                                                        mediaCodec3 = mediaCodec2;
                                                                                                                        outputSurface2 = outputSurface;
                                                                                                                        if (outputSurface2 != null) {
                                                                                                                        }
                                                                                                                        if (inputSurface3 != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec == null) {
                                                                                                                        }
                                                                                                                        if (audioRecoder != null) {
                                                                                                                        }
                                                                                                                        checkConversionCanceled();
                                                                                                                        outputSurface3 = outputSurface2;
                                                                                                                        inputSurface4 = inputSurface3;
                                                                                                                        i6 = i13;
                                                                                                                        i15 = i14;
                                                                                                                        mediaCodec5 = mediaCodec4;
                                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                                        z5 = z8;
                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                        }
                                                                                                                        muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                        if (muxer2 != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec5 != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                        }
                                                                                                                        if (outputSurface3 != null) {
                                                                                                                        }
                                                                                                                        if (inputSurface4 != null) {
                                                                                                                        }
                                                                                                                        str5 = str4;
                                                                                                                        if (z4) {
                                                                                                                        }
                                                                                                                    } catch (Throwable th63) {
                                                                                                                        th3 = th63;
                                                                                                                        th = th3;
                                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                                        i79 = i19;
                                                                                                                        mediaCodec = mediaCodec9;
                                                                                                                        i3 = i20;
                                                                                                                        i5 = i14;
                                                                                                                        i4 = i96;
                                                                                                                        bufferInfo = bufferInfo4;
                                                                                                                        str3 = str6;
                                                                                                                        i2 = i97;
                                                                                                                        z2 = false;
                                                                                                                        inputSurface = inputSurface3;
                                                                                                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                        FileLog.e(th);
                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                        if (mediaExtractor != null) {
                                                                                                                        }
                                                                                                                        muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                        if (muxer != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                        }
                                                                                                                        if (outputSurface != null) {
                                                                                                                        }
                                                                                                                        if (inputSurface != null) {
                                                                                                                        }
                                                                                                                        i6 = i4;
                                                                                                                        i7 = i3;
                                                                                                                        str5 = str4;
                                                                                                                        z4 = z2;
                                                                                                                        z5 = true;
                                                                                                                        if (z4) {
                                                                                                                        }
                                                                                                                    }
                                                                                                                } else {
                                                                                                                    inputSurface6 = inputSurface3;
                                                                                                                }
                                                                                                                ByteBuffer byteBuffer10 = byteBuffer9;
                                                                                                                try {
                                                                                                                    bufferInfo = bufferInfo4;
                                                                                                                    bufferInfo.size = mediaCodecVideoConvertor.extractor.readSampleData(byteBuffer10, 0);
                                                                                                                    if (i100 < 21) {
                                                                                                                        byteBuffer10.position(0);
                                                                                                                        byteBuffer10.limit(bufferInfo.size);
                                                                                                                    }
                                                                                                                    if (bufferInfo.size >= 0) {
                                                                                                                        z21 = z15;
                                                                                                                        i55 = i43;
                                                                                                                        bufferInfo.presentationTimeUs = mediaCodecVideoConvertor.extractor.getSampleTime();
                                                                                                                        mediaCodecVideoConvertor.extractor.advance();
                                                                                                                    } else {
                                                                                                                        z21 = z15;
                                                                                                                        i55 = i43;
                                                                                                                        bufferInfo.size = 0;
                                                                                                                        z17 = true;
                                                                                                                    }
                                                                                                                    if (bufferInfo.size > 0 && (j27 < 0 || bufferInfo.presentationTimeUs < j27)) {
                                                                                                                        bufferInfo.offset = 0;
                                                                                                                        bufferInfo.flags = mediaCodecVideoConvertor.extractor.getSampleFlags();
                                                                                                                        long writeSampleData2 = mediaCodecVideoConvertor.muxer.writeSampleData(i41, byteBuffer10, bufferInfo, false);
                                                                                                                        if (writeSampleData2 != 0 && (videoConvertorListener2 = mediaCodecVideoConvertor.callback) != null) {
                                                                                                                            i46 = i36;
                                                                                                                            i45 = i41;
                                                                                                                            long j33 = bufferInfo.presentationTimeUs;
                                                                                                                            if (j33 - j9 > j31) {
                                                                                                                                j31 = j33 - j9;
                                                                                                                            }
                                                                                                                            long j34 = j31;
                                                                                                                            byteBuffer4 = byteBuffer10;
                                                                                                                            videoConvertorListener2.didWriteData(writeSampleData2, (((float) j34) / 1000.0f) / f);
                                                                                                                            j31 = j34;
                                                                                                                            i43 = i55;
                                                                                                                            byteBuffer9 = byteBuffer4;
                                                                                                                        }
                                                                                                                    }
                                                                                                                    i46 = i36;
                                                                                                                    i45 = i41;
                                                                                                                    byteBuffer4 = byteBuffer10;
                                                                                                                    i43 = i55;
                                                                                                                    byteBuffer9 = byteBuffer4;
                                                                                                                } catch (Exception e56) {
                                                                                                                    e = e56;
                                                                                                                    bufferInfo = bufferInfo4;
                                                                                                                    exc = e;
                                                                                                                    i18 = i37;
                                                                                                                    mediaCodec = mediaCodec9;
                                                                                                                    i21 = i14;
                                                                                                                    i4 = i96;
                                                                                                                    inputSurface3 = inputSurface6;
                                                                                                                    i2 = i97;
                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                    }
                                                                                                                    z2 = false;
                                                                                                                    StringBuilder sb5222222222222222222 = new StringBuilder();
                                                                                                                    sb5222222222222222222.append("bitrate: ");
                                                                                                                    sb5222222222222222222.append(i4);
                                                                                                                    sb5222222222222222222.append(" framerate: ");
                                                                                                                    sb5222222222222222222.append(i2);
                                                                                                                    sb5222222222222222222.append(" size: ");
                                                                                                                    i7 = i20;
                                                                                                                    sb5222222222222222222.append(i7);
                                                                                                                    str3 = str6;
                                                                                                                    sb5222222222222222222.append(str3);
                                                                                                                    i79 = i19;
                                                                                                                    sb5222222222222222222.append(i79);
                                                                                                                    FileLog.e(sb5222222222222222222.toString());
                                                                                                                    FileLog.e(exc);
                                                                                                                    i14 = i21;
                                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                                    z9 = true;
                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                    }
                                                                                                                    i13 = i4;
                                                                                                                    z4 = z2;
                                                                                                                    z8 = z9;
                                                                                                                    mediaCodec3 = mediaCodec2;
                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                    if (outputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface3 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec == null) {
                                                                                                                    }
                                                                                                                    if (audioRecoder != null) {
                                                                                                                    }
                                                                                                                    checkConversionCanceled();
                                                                                                                    outputSurface3 = outputSurface2;
                                                                                                                    inputSurface4 = inputSurface3;
                                                                                                                    i6 = i13;
                                                                                                                    i15 = i14;
                                                                                                                    mediaCodec5 = mediaCodec4;
                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                    z5 = z8;
                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                    }
                                                                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                    if (muxer2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec5 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface3 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface4 != null) {
                                                                                                                    }
                                                                                                                    str5 = str4;
                                                                                                                    if (z4) {
                                                                                                                    }
                                                                                                                } catch (Throwable th64) {
                                                                                                                    th = th64;
                                                                                                                    bufferInfo = bufferInfo4;
                                                                                                                    th = th;
                                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                                    i79 = i19;
                                                                                                                    mediaCodec = mediaCodec9;
                                                                                                                    i3 = i20;
                                                                                                                    i5 = i14;
                                                                                                                    i4 = i96;
                                                                                                                    str3 = str6;
                                                                                                                    inputSurface3 = inputSurface6;
                                                                                                                    i2 = i97;
                                                                                                                    z2 = false;
                                                                                                                    inputSurface = inputSurface3;
                                                                                                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                    FileLog.e(th);
                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                    if (mediaExtractor != null) {
                                                                                                                    }
                                                                                                                    muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                    if (muxer != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    i6 = i4;
                                                                                                                    i7 = i3;
                                                                                                                    str5 = str4;
                                                                                                                    z4 = z2;
                                                                                                                    z5 = true;
                                                                                                                    if (z4) {
                                                                                                                    }
                                                                                                                }
                                                                                                            } else {
                                                                                                                i45 = i41;
                                                                                                                inputSurface6 = inputSurface3;
                                                                                                                z21 = z15;
                                                                                                                bufferInfo = bufferInfo4;
                                                                                                                i46 = i36;
                                                                                                                if (sampleTrackIndex == -1) {
                                                                                                                    z33 = true;
                                                                                                                    if (z33) {
                                                                                                                        try {
                                                                                                                            int dequeueInputBuffer2 = mediaCodec7.dequeueInputBuffer(2500L);
                                                                                                                            if (dequeueInputBuffer2 >= 0) {
                                                                                                                                mediaCodec7.queueInputBuffer(dequeueInputBuffer2, 0, 0, 0L, 4);
                                                                                                                                z17 = true;
                                                                                                                            }
                                                                                                                        } catch (Exception e57) {
                                                                                                                            e = e57;
                                                                                                                            exc = e;
                                                                                                                            i18 = i37;
                                                                                                                            mediaCodec = mediaCodec9;
                                                                                                                            i21 = i14;
                                                                                                                            i4 = i96;
                                                                                                                            inputSurface3 = inputSurface6;
                                                                                                                            i2 = i97;
                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                            }
                                                                                                                            z2 = false;
                                                                                                                            StringBuilder sb52222222222222222222 = new StringBuilder();
                                                                                                                            sb52222222222222222222.append("bitrate: ");
                                                                                                                            sb52222222222222222222.append(i4);
                                                                                                                            sb52222222222222222222.append(" framerate: ");
                                                                                                                            sb52222222222222222222.append(i2);
                                                                                                                            sb52222222222222222222.append(" size: ");
                                                                                                                            i7 = i20;
                                                                                                                            sb52222222222222222222.append(i7);
                                                                                                                            str3 = str6;
                                                                                                                            sb52222222222222222222.append(str3);
                                                                                                                            i79 = i19;
                                                                                                                            sb52222222222222222222.append(i79);
                                                                                                                            FileLog.e(sb52222222222222222222.toString());
                                                                                                                            FileLog.e(exc);
                                                                                                                            i14 = i21;
                                                                                                                            mediaCodec2 = mediaCodec7;
                                                                                                                            z9 = true;
                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                            }
                                                                                                                            i13 = i4;
                                                                                                                            z4 = z2;
                                                                                                                            z8 = z9;
                                                                                                                            mediaCodec3 = mediaCodec2;
                                                                                                                            outputSurface2 = outputSurface;
                                                                                                                            if (outputSurface2 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface3 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec == null) {
                                                                                                                            }
                                                                                                                            if (audioRecoder != null) {
                                                                                                                            }
                                                                                                                            checkConversionCanceled();
                                                                                                                            outputSurface3 = outputSurface2;
                                                                                                                            inputSurface4 = inputSurface3;
                                                                                                                            i6 = i13;
                                                                                                                            i15 = i14;
                                                                                                                            mediaCodec5 = mediaCodec4;
                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                            z5 = z8;
                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                            }
                                                                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                            if (muxer2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec5 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                            }
                                                                                                                            if (outputSurface3 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface4 != null) {
                                                                                                                            }
                                                                                                                            str5 = str4;
                                                                                                                            if (z4) {
                                                                                                                            }
                                                                                                                        } catch (Throwable th65) {
                                                                                                                            th = th65;
                                                                                                                            th = th;
                                                                                                                            mediaCodec2 = mediaCodec7;
                                                                                                                            i79 = i19;
                                                                                                                            mediaCodec = mediaCodec9;
                                                                                                                            i3 = i20;
                                                                                                                            i5 = i14;
                                                                                                                            i4 = i96;
                                                                                                                            str3 = str6;
                                                                                                                            inputSurface3 = inputSurface6;
                                                                                                                            i2 = i97;
                                                                                                                            z2 = false;
                                                                                                                            inputSurface = inputSurface3;
                                                                                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                            FileLog.e(th);
                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                            if (mediaExtractor != null) {
                                                                                                                            }
                                                                                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                            if (muxer != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                            }
                                                                                                                            if (outputSurface != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface != null) {
                                                                                                                            }
                                                                                                                            i6 = i4;
                                                                                                                            i7 = i3;
                                                                                                                            str5 = str4;
                                                                                                                            z4 = z2;
                                                                                                                            z5 = true;
                                                                                                                            if (z4) {
                                                                                                                            }
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                        z33 = false;
                                                                                                        if (z33) {
                                                                                                        }
                                                                                                    } catch (Exception e58) {
                                                                                                        bufferInfo = bufferInfo4;
                                                                                                        exc = e58;
                                                                                                        i18 = i37;
                                                                                                        mediaCodec = mediaCodec9;
                                                                                                        i21 = i14;
                                                                                                        i4 = i96;
                                                                                                        i2 = i97;
                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                        }
                                                                                                        z2 = false;
                                                                                                        StringBuilder sb522222222222222222222 = new StringBuilder();
                                                                                                        sb522222222222222222222.append("bitrate: ");
                                                                                                        sb522222222222222222222.append(i4);
                                                                                                        sb522222222222222222222.append(" framerate: ");
                                                                                                        sb522222222222222222222.append(i2);
                                                                                                        sb522222222222222222222.append(" size: ");
                                                                                                        i7 = i20;
                                                                                                        sb522222222222222222222.append(i7);
                                                                                                        str3 = str6;
                                                                                                        sb522222222222222222222.append(str3);
                                                                                                        i79 = i19;
                                                                                                        sb522222222222222222222.append(i79);
                                                                                                        FileLog.e(sb522222222222222222222.toString());
                                                                                                        FileLog.e(exc);
                                                                                                        i14 = i21;
                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                        z9 = true;
                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                        if (mediaCodec2 != null) {
                                                                                                        }
                                                                                                        i13 = i4;
                                                                                                        z4 = z2;
                                                                                                        z8 = z9;
                                                                                                        mediaCodec3 = mediaCodec2;
                                                                                                        outputSurface2 = outputSurface;
                                                                                                        if (outputSurface2 != null) {
                                                                                                        }
                                                                                                        if (inputSurface3 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec == null) {
                                                                                                        }
                                                                                                        if (audioRecoder != null) {
                                                                                                        }
                                                                                                        checkConversionCanceled();
                                                                                                        outputSurface3 = outputSurface2;
                                                                                                        inputSurface4 = inputSurface3;
                                                                                                        i6 = i13;
                                                                                                        i15 = i14;
                                                                                                        mediaCodec5 = mediaCodec4;
                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                        z5 = z8;
                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                        if (mediaExtractor2 != null) {
                                                                                                        }
                                                                                                        muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                        if (muxer2 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec5 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec6 != null) {
                                                                                                        }
                                                                                                        if (outputSurface3 != null) {
                                                                                                        }
                                                                                                        if (inputSurface4 != null) {
                                                                                                        }
                                                                                                        str5 = str4;
                                                                                                        if (z4) {
                                                                                                        }
                                                                                                    } catch (Throwable th66) {
                                                                                                        bufferInfo = bufferInfo4;
                                                                                                        th = th66;
                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                        i79 = i19;
                                                                                                        mediaCodec = mediaCodec9;
                                                                                                        i3 = i20;
                                                                                                        i5 = i14;
                                                                                                        i4 = i96;
                                                                                                        str3 = str6;
                                                                                                        i2 = i97;
                                                                                                        z2 = false;
                                                                                                        inputSurface = inputSurface3;
                                                                                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                        FileLog.e(th);
                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                        if (mediaExtractor != null) {
                                                                                                        }
                                                                                                        muxer = mediaCodecVideoConvertor.muxer;
                                                                                                        if (muxer != null) {
                                                                                                        }
                                                                                                        if (mediaCodec != null) {
                                                                                                        }
                                                                                                        if (mediaCodec2 != null) {
                                                                                                        }
                                                                                                        if (outputSurface != null) {
                                                                                                        }
                                                                                                        if (inputSurface != null) {
                                                                                                        }
                                                                                                        i6 = i4;
                                                                                                        i7 = i3;
                                                                                                        str5 = str4;
                                                                                                        z4 = z2;
                                                                                                        z5 = true;
                                                                                                        if (z4) {
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                z22 = !z16;
                                                                                                i47 = i43;
                                                                                                i48 = i14;
                                                                                                outputSurface4 = outputSurface5;
                                                                                                j11 = j10;
                                                                                                z23 = true;
                                                                                                while (true) {
                                                                                                    if (!z22 || z23) {
                                                                                                        try {
                                                                                                            checkConversionCanceled();
                                                                                                            boolean z55 = z23;
                                                                                                            z24 = z;
                                                                                                            if (z24) {
                                                                                                                i49 = i47;
                                                                                                                mediaCodec = mediaCodec9;
                                                                                                                z25 = z22;
                                                                                                                z26 = z21;
                                                                                                                j12 = 22000;
                                                                                                            } else {
                                                                                                                i49 = i47;
                                                                                                                z25 = z22;
                                                                                                                z26 = z21;
                                                                                                                mediaCodec = mediaCodec9;
                                                                                                                j12 = 2500;
                                                                                                            }
                                                                                                            try {
                                                                                                                try {
                                                                                                                    dequeueOutputBuffer = mediaCodec.dequeueOutputBuffer(bufferInfo, j12);
                                                                                                                    if (dequeueOutputBuffer == -1) {
                                                                                                                        outputSurface6 = outputSurface4;
                                                                                                                        outputSurface7 = outputSurface;
                                                                                                                        j13 = j11;
                                                                                                                        i18 = i37;
                                                                                                                        str12 = str24;
                                                                                                                        i50 = i38;
                                                                                                                        z23 = false;
                                                                                                                        i52 = -1;
                                                                                                                        mediaCodec10 = mediaCodec7;
                                                                                                                        i51 = i35;
                                                                                                                    } else {
                                                                                                                        if (dequeueOutputBuffer == -3) {
                                                                                                                            try {
                                                                                                                                try {
                                                                                                                                    OutputSurface outputSurface13 = outputSurface4;
                                                                                                                                    if (Build.VERSION.SDK_INT < 21) {
                                                                                                                                        byteBufferArr4 = mediaCodec.getOutputBuffers();
                                                                                                                                    }
                                                                                                                                    j13 = j11;
                                                                                                                                    i18 = i37;
                                                                                                                                    z23 = z55;
                                                                                                                                    outputSurface6 = outputSurface13;
                                                                                                                                    str12 = str24;
                                                                                                                                } catch (Throwable th67) {
                                                                                                                                    th = th67;
                                                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                                                    i79 = i19;
                                                                                                                                    i3 = i20;
                                                                                                                                    str3 = str6;
                                                                                                                                    inputSurface7 = inputSurface6;
                                                                                                                                    i2 = i97;
                                                                                                                                    z2 = false;
                                                                                                                                    i5 = i48;
                                                                                                                                    inputSurface5 = inputSurface7;
                                                                                                                                    i4 = i96;
                                                                                                                                    inputSurface = inputSurface5;
                                                                                                                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                    FileLog.e(th);
                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                    }
                                                                                                                                    muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                    if (muxer != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                    }
                                                                                                                                    if (outputSurface != null) {
                                                                                                                                    }
                                                                                                                                    if (inputSurface != null) {
                                                                                                                                    }
                                                                                                                                    i6 = i4;
                                                                                                                                    i7 = i3;
                                                                                                                                    str5 = str4;
                                                                                                                                    z4 = z2;
                                                                                                                                    z5 = true;
                                                                                                                                    if (z4) {
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            } catch (Exception e59) {
                                                                                                                                exc = e59;
                                                                                                                                i21 = i48;
                                                                                                                                i18 = i37;
                                                                                                                                i4 = i96;
                                                                                                                                inputSurface3 = inputSurface6;
                                                                                                                                i2 = i97;
                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                }
                                                                                                                                z2 = false;
                                                                                                                                StringBuilder sb5222222222222222222222 = new StringBuilder();
                                                                                                                                sb5222222222222222222222.append("bitrate: ");
                                                                                                                                sb5222222222222222222222.append(i4);
                                                                                                                                sb5222222222222222222222.append(" framerate: ");
                                                                                                                                sb5222222222222222222222.append(i2);
                                                                                                                                sb5222222222222222222222.append(" size: ");
                                                                                                                                i7 = i20;
                                                                                                                                sb5222222222222222222222.append(i7);
                                                                                                                                str3 = str6;
                                                                                                                                sb5222222222222222222222.append(str3);
                                                                                                                                i79 = i19;
                                                                                                                                sb5222222222222222222222.append(i79);
                                                                                                                                FileLog.e(sb5222222222222222222222.toString());
                                                                                                                                FileLog.e(exc);
                                                                                                                                i14 = i21;
                                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                                z9 = true;
                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                }
                                                                                                                                i13 = i4;
                                                                                                                                z4 = z2;
                                                                                                                                z8 = z9;
                                                                                                                                mediaCodec3 = mediaCodec2;
                                                                                                                                outputSurface2 = outputSurface;
                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                }
                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec == null) {
                                                                                                                                }
                                                                                                                                if (audioRecoder != null) {
                                                                                                                                }
                                                                                                                                checkConversionCanceled();
                                                                                                                                outputSurface3 = outputSurface2;
                                                                                                                                inputSurface4 = inputSurface3;
                                                                                                                                i6 = i13;
                                                                                                                                i15 = i14;
                                                                                                                                mediaCodec5 = mediaCodec4;
                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                z5 = z8;
                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                }
                                                                                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                if (muxer2 != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec5 != null) {
                                                                                                                                }
                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                }
                                                                                                                                if (outputSurface3 != null) {
                                                                                                                                }
                                                                                                                                if (inputSurface4 != null) {
                                                                                                                                }
                                                                                                                                str5 = str4;
                                                                                                                                if (z4) {
                                                                                                                                }
                                                                                                                            }
                                                                                                                        } else {
                                                                                                                            OutputSurface outputSurface14 = outputSurface4;
                                                                                                                            r6 = -2;
                                                                                                                            ?? r62 = -2;
                                                                                                                            if (dequeueOutputBuffer == -2) {
                                                                                                                                try {
                                                                                                                                    MediaFormat outputFormat2 = mediaCodec.getOutputFormat();
                                                                                                                                    if (i48 != -5 || outputFormat2 == null) {
                                                                                                                                        i18 = i37;
                                                                                                                                        str12 = str24;
                                                                                                                                    } else {
                                                                                                                                        i18 = i37;
                                                                                                                                        try {
                                                                                                                                            int addTrack3 = mediaCodecVideoConvertor.muxer.addTrack(outputFormat2, false);
                                                                                                                                            String str26 = str25;
                                                                                                                                            try {
                                                                                                                                                if (outputFormat2.containsKey(str26)) {
                                                                                                                                                    i53 = addTrack3;
                                                                                                                                                    if (outputFormat2.getInteger(str26) == 1) {
                                                                                                                                                        str12 = str24;
                                                                                                                                                        try {
                                                                                                                                                            ByteBuffer byteBuffer11 = outputFormat2.getByteBuffer(str12);
                                                                                                                                                            str25 = str26;
                                                                                                                                                            ByteBuffer byteBuffer12 = outputFormat2.getByteBuffer("csd-1");
                                                                                                                                                            i99 = (byteBuffer11 == null ? 0 : byteBuffer11.limit()) + (byteBuffer12 == null ? 0 : byteBuffer12.limit());
                                                                                                                                                            i48 = i53;
                                                                                                                                                        } catch (Exception e60) {
                                                                                                                                                            e = e60;
                                                                                                                                                            exc = e;
                                                                                                                                                            i21 = i53;
                                                                                                                                                            i4 = i96;
                                                                                                                                                            inputSurface3 = inputSurface6;
                                                                                                                                                            i2 = i97;
                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                            }
                                                                                                                                                            z2 = false;
                                                                                                                                                            StringBuilder sb52222222222222222222222 = new StringBuilder();
                                                                                                                                                            sb52222222222222222222222.append("bitrate: ");
                                                                                                                                                            sb52222222222222222222222.append(i4);
                                                                                                                                                            sb52222222222222222222222.append(" framerate: ");
                                                                                                                                                            sb52222222222222222222222.append(i2);
                                                                                                                                                            sb52222222222222222222222.append(" size: ");
                                                                                                                                                            i7 = i20;
                                                                                                                                                            sb52222222222222222222222.append(i7);
                                                                                                                                                            str3 = str6;
                                                                                                                                                            sb52222222222222222222222.append(str3);
                                                                                                                                                            i79 = i19;
                                                                                                                                                            sb52222222222222222222222.append(i79);
                                                                                                                                                            FileLog.e(sb52222222222222222222222.toString());
                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                            i14 = i21;
                                                                                                                                                            mediaCodec2 = mediaCodec7;
                                                                                                                                                            z9 = true;
                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                            }
                                                                                                                                                            i13 = i4;
                                                                                                                                                            z4 = z2;
                                                                                                                                                            z8 = z9;
                                                                                                                                                            mediaCodec3 = mediaCodec2;
                                                                                                                                                            outputSurface2 = outputSurface;
                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (inputSurface3 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (mediaCodec == null) {
                                                                                                                                                            }
                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                            }
                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                            outputSurface3 = outputSurface2;
                                                                                                                                                            inputSurface4 = inputSurface3;
                                                                                                                                                            i6 = i13;
                                                                                                                                                            i15 = i14;
                                                                                                                                                            mediaCodec5 = mediaCodec4;
                                                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                                                            z5 = z8;
                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                            }
                                                                                                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                            if (muxer2 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (mediaCodec5 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (inputSurface4 != null) {
                                                                                                                                                            }
                                                                                                                                                            str5 = str4;
                                                                                                                                                            if (z4) {
                                                                                                                                                            }
                                                                                                                                                        } catch (Throwable th68) {
                                                                                                                                                            th = th68;
                                                                                                                                                            th = th;
                                                                                                                                                            mediaCodec2 = mediaCodec7;
                                                                                                                                                            i5 = i53;
                                                                                                                                                            i79 = i19;
                                                                                                                                                            i3 = i20;
                                                                                                                                                            i4 = i96;
                                                                                                                                                            str3 = str6;
                                                                                                                                                            inputSurface3 = inputSurface6;
                                                                                                                                                            i2 = i97;
                                                                                                                                                            z2 = false;
                                                                                                                                                            inputSurface = inputSurface3;
                                                                                                                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                            FileLog.e(th);
                                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                                            }
                                                                                                                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                            if (muxer != null) {
                                                                                                                                                            }
                                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                                            }
                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (outputSurface != null) {
                                                                                                                                                            }
                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                            }
                                                                                                                                                            i6 = i4;
                                                                                                                                                            i7 = i3;
                                                                                                                                                            str5 = str4;
                                                                                                                                                            z4 = z2;
                                                                                                                                                            z5 = true;
                                                                                                                                                            if (z4) {
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                    }
                                                                                                                                                } else {
                                                                                                                                                    i53 = addTrack3;
                                                                                                                                                }
                                                                                                                                                str25 = str26;
                                                                                                                                                str12 = str24;
                                                                                                                                                i48 = i53;
                                                                                                                                            } catch (Exception e61) {
                                                                                                                                                e = e61;
                                                                                                                                                i53 = addTrack3;
                                                                                                                                            } catch (Throwable th69) {
                                                                                                                                                th = th69;
                                                                                                                                                i53 = addTrack3;
                                                                                                                                            }
                                                                                                                                        } catch (Exception e62) {
                                                                                                                                            e = e62;
                                                                                                                                            exc = e;
                                                                                                                                            i21 = i48;
                                                                                                                                            i4 = i96;
                                                                                                                                            inputSurface3 = inputSurface6;
                                                                                                                                            i2 = i97;
                                                                                                                                            if ((exc instanceof IllegalStateException) && !z) {
                                                                                                                                                z2 = true;
                                                                                                                                                StringBuilder sb522222222222222222222222 = new StringBuilder();
                                                                                                                                                sb522222222222222222222222.append("bitrate: ");
                                                                                                                                                sb522222222222222222222222.append(i4);
                                                                                                                                                sb522222222222222222222222.append(" framerate: ");
                                                                                                                                                sb522222222222222222222222.append(i2);
                                                                                                                                                sb522222222222222222222222.append(" size: ");
                                                                                                                                                i7 = i20;
                                                                                                                                                sb522222222222222222222222.append(i7);
                                                                                                                                                str3 = str6;
                                                                                                                                                sb522222222222222222222222.append(str3);
                                                                                                                                                i79 = i19;
                                                                                                                                                sb522222222222222222222222.append(i79);
                                                                                                                                                FileLog.e(sb522222222222222222222222.toString());
                                                                                                                                                FileLog.e(exc);
                                                                                                                                                i14 = i21;
                                                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                                                z9 = true;
                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                }
                                                                                                                                                i13 = i4;
                                                                                                                                                z4 = z2;
                                                                                                                                                z8 = z9;
                                                                                                                                                mediaCodec3 = mediaCodec2;
                                                                                                                                                outputSurface2 = outputSurface;
                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec == null) {
                                                                                                                                                }
                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                }
                                                                                                                                                checkConversionCanceled();
                                                                                                                                                outputSurface3 = outputSurface2;
                                                                                                                                                inputSurface4 = inputSurface3;
                                                                                                                                                i6 = i13;
                                                                                                                                                i15 = i14;
                                                                                                                                                mediaCodec5 = mediaCodec4;
                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                z5 = z8;
                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                }
                                                                                                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                if (muxer2 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec5 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                }
                                                                                                                                                if (outputSurface3 != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface4 != null) {
                                                                                                                                                }
                                                                                                                                                str5 = str4;
                                                                                                                                                if (z4) {
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                            z2 = false;
                                                                                                                                            StringBuilder sb5222222222222222222222222 = new StringBuilder();
                                                                                                                                            sb5222222222222222222222222.append("bitrate: ");
                                                                                                                                            sb5222222222222222222222222.append(i4);
                                                                                                                                            sb5222222222222222222222222.append(" framerate: ");
                                                                                                                                            sb5222222222222222222222222.append(i2);
                                                                                                                                            sb5222222222222222222222222.append(" size: ");
                                                                                                                                            i7 = i20;
                                                                                                                                            sb5222222222222222222222222.append(i7);
                                                                                                                                            str3 = str6;
                                                                                                                                            sb5222222222222222222222222.append(str3);
                                                                                                                                            i79 = i19;
                                                                                                                                            sb5222222222222222222222222.append(i79);
                                                                                                                                            FileLog.e(sb5222222222222222222222222.toString());
                                                                                                                                            FileLog.e(exc);
                                                                                                                                            i14 = i21;
                                                                                                                                            mediaCodec2 = mediaCodec7;
                                                                                                                                            z9 = true;
                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                            }
                                                                                                                                            i13 = i4;
                                                                                                                                            z4 = z2;
                                                                                                                                            z8 = z9;
                                                                                                                                            mediaCodec3 = mediaCodec2;
                                                                                                                                            outputSurface2 = outputSurface;
                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface3 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec == null) {
                                                                                                                                            }
                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                            }
                                                                                                                                            checkConversionCanceled();
                                                                                                                                            outputSurface3 = outputSurface2;
                                                                                                                                            inputSurface4 = inputSurface3;
                                                                                                                                            i6 = i13;
                                                                                                                                            i15 = i14;
                                                                                                                                            mediaCodec5 = mediaCodec4;
                                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                                            z5 = z8;
                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                            }
                                                                                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                            if (muxer2 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec5 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                            }
                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface4 != null) {
                                                                                                                                            }
                                                                                                                                            str5 = str4;
                                                                                                                                            if (z4) {
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                    j13 = j11;
                                                                                                                                    z23 = z55;
                                                                                                                                    outputSurface6 = outputSurface14;
                                                                                                                                } catch (Exception e63) {
                                                                                                                                    e = e63;
                                                                                                                                    i18 = i37;
                                                                                                                                }
                                                                                                                            } else {
                                                                                                                                i18 = i37;
                                                                                                                                str12 = str24;
                                                                                                                                try {
                                                                                                                                    if (dequeueOutputBuffer < 0) {
                                                                                                                                        throw new RuntimeException("unexpected result from encoder.dequeueOutputBuffer: " + dequeueOutputBuffer);
                                                                                                                                    }
                                                                                                                                    try {
                                                                                                                                        if (Build.VERSION.SDK_INT < 21) {
                                                                                                                                            outputBuffer = byteBufferArr4[dequeueOutputBuffer];
                                                                                                                                        } else {
                                                                                                                                            outputBuffer = mediaCodec.getOutputBuffer(dequeueOutputBuffer);
                                                                                                                                        }
                                                                                                                                        if (outputBuffer == null) {
                                                                                                                                            throw new RuntimeException("encoderOutputBuffer " + dequeueOutputBuffer + " was null");
                                                                                                                                        }
                                                                                                                                        int i101 = bufferInfo.size;
                                                                                                                                        try {
                                                                                                                                            if (i101 > 1) {
                                                                                                                                                try {
                                                                                                                                                    int i102 = bufferInfo.flags;
                                                                                                                                                    if ((i102 & 2) == 0) {
                                                                                                                                                        if (i99 == 0 || (i102 & 1) == 0) {
                                                                                                                                                            outputSurface7 = outputSurface;
                                                                                                                                                        } else {
                                                                                                                                                            outputSurface7 = outputSurface;
                                                                                                                                                            try {
                                                                                                                                                                bufferInfo.offset += i99;
                                                                                                                                                                bufferInfo.size = i101 - i99;
                                                                                                                                                            } catch (Exception e64) {
                                                                                                                                                                e = e64;
                                                                                                                                                                exc = e;
                                                                                                                                                                i21 = i48;
                                                                                                                                                                outputSurface = outputSurface7;
                                                                                                                                                                i4 = i96;
                                                                                                                                                                inputSurface3 = inputSurface6;
                                                                                                                                                                i2 = i97;
                                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                                }
                                                                                                                                                                z2 = false;
                                                                                                                                                                StringBuilder sb52222222222222222222222222 = new StringBuilder();
                                                                                                                                                                sb52222222222222222222222222.append("bitrate: ");
                                                                                                                                                                sb52222222222222222222222222.append(i4);
                                                                                                                                                                sb52222222222222222222222222.append(" framerate: ");
                                                                                                                                                                sb52222222222222222222222222.append(i2);
                                                                                                                                                                sb52222222222222222222222222.append(" size: ");
                                                                                                                                                                i7 = i20;
                                                                                                                                                                sb52222222222222222222222222.append(i7);
                                                                                                                                                                str3 = str6;
                                                                                                                                                                sb52222222222222222222222222.append(str3);
                                                                                                                                                                i79 = i19;
                                                                                                                                                                sb52222222222222222222222222.append(i79);
                                                                                                                                                                FileLog.e(sb52222222222222222222222222.toString());
                                                                                                                                                                FileLog.e(exc);
                                                                                                                                                                i14 = i21;
                                                                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                                                                z9 = true;
                                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                }
                                                                                                                                                                i13 = i4;
                                                                                                                                                                z4 = z2;
                                                                                                                                                                z8 = z9;
                                                                                                                                                                mediaCodec3 = mediaCodec2;
                                                                                                                                                                outputSurface2 = outputSurface;
                                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec == null) {
                                                                                                                                                                }
                                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                                }
                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                outputSurface3 = outputSurface2;
                                                                                                                                                                inputSurface4 = inputSurface3;
                                                                                                                                                                i6 = i13;
                                                                                                                                                                i15 = i14;
                                                                                                                                                                mediaCodec5 = mediaCodec4;
                                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                                z5 = z8;
                                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                                }
                                                                                                                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                if (muxer2 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec5 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (outputSurface3 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (inputSurface4 != null) {
                                                                                                                                                                }
                                                                                                                                                                str5 = str4;
                                                                                                                                                                if (z4) {
                                                                                                                                                                }
                                                                                                                                                            } catch (Throwable th70) {
                                                                                                                                                                th = th70;
                                                                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                                                                outputSurface = outputSurface7;
                                                                                                                                                                i79 = i19;
                                                                                                                                                                i3 = i20;
                                                                                                                                                                str3 = str6;
                                                                                                                                                                inputSurface7 = inputSurface6;
                                                                                                                                                                i2 = i97;
                                                                                                                                                                z2 = false;
                                                                                                                                                                i5 = i48;
                                                                                                                                                                inputSurface5 = inputSurface7;
                                                                                                                                                                i4 = i96;
                                                                                                                                                                inputSurface = inputSurface5;
                                                                                                                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                }
                                                                                                                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                if (muxer != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                }
                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                }
                                                                                                                                                                i6 = i4;
                                                                                                                                                                i7 = i3;
                                                                                                                                                                str5 = str4;
                                                                                                                                                                z4 = z2;
                                                                                                                                                                z5 = true;
                                                                                                                                                                if (z4) {
                                                                                                                                                                }
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                        if (z54 && (i102 & 1) != 0) {
                                                                                                                                                            cutOfNalData(mediaCodecVideoConvertor.outputMimeType, outputBuffer, bufferInfo);
                                                                                                                                                            z54 = false;
                                                                                                                                                        }
                                                                                                                                                        try {
                                                                                                                                                            j13 = j11;
                                                                                                                                                            long writeSampleData3 = mediaCodecVideoConvertor.muxer.writeSampleData(i48, outputBuffer, bufferInfo, true);
                                                                                                                                                            if (writeSampleData3 == 0 || (videoConvertorListener = mediaCodecVideoConvertor.callback) == null) {
                                                                                                                                                                mediaCodec10 = mediaCodec7;
                                                                                                                                                            } else {
                                                                                                                                                                mediaCodec10 = mediaCodec7;
                                                                                                                                                                try {
                                                                                                                                                                    long j35 = bufferInfo.presentationTimeUs;
                                                                                                                                                                    if (j35 - j9 > j31) {
                                                                                                                                                                        j31 = j35 - j9;
                                                                                                                                                                    }
                                                                                                                                                                    long j36 = j31;
                                                                                                                                                                    videoConvertorListener.didWriteData(writeSampleData3, (((float) j36) / 1000.0f) / f);
                                                                                                                                                                    j31 = j36;
                                                                                                                                                                } catch (Exception e65) {
                                                                                                                                                                    exc = e65;
                                                                                                                                                                    i21 = i48;
                                                                                                                                                                    mediaCodec7 = mediaCodec10;
                                                                                                                                                                    outputSurface = outputSurface7;
                                                                                                                                                                    i4 = i96;
                                                                                                                                                                    inputSurface3 = inputSurface6;
                                                                                                                                                                    i2 = i97;
                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                    }
                                                                                                                                                                    z2 = false;
                                                                                                                                                                    StringBuilder sb522222222222222222222222222 = new StringBuilder();
                                                                                                                                                                    sb522222222222222222222222222.append("bitrate: ");
                                                                                                                                                                    sb522222222222222222222222222.append(i4);
                                                                                                                                                                    sb522222222222222222222222222.append(" framerate: ");
                                                                                                                                                                    sb522222222222222222222222222.append(i2);
                                                                                                                                                                    sb522222222222222222222222222.append(" size: ");
                                                                                                                                                                    i7 = i20;
                                                                                                                                                                    sb522222222222222222222222222.append(i7);
                                                                                                                                                                    str3 = str6;
                                                                                                                                                                    sb522222222222222222222222222.append(str3);
                                                                                                                                                                    i79 = i19;
                                                                                                                                                                    sb522222222222222222222222222.append(i79);
                                                                                                                                                                    FileLog.e(sb522222222222222222222222222.toString());
                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                    i14 = i21;
                                                                                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                                                                                    z9 = true;
                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    i13 = i4;
                                                                                                                                                                    z4 = z2;
                                                                                                                                                                    z8 = z9;
                                                                                                                                                                    mediaCodec3 = mediaCodec2;
                                                                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec == null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                    }
                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                    outputSurface3 = outputSurface2;
                                                                                                                                                                    inputSurface4 = inputSurface3;
                                                                                                                                                                    i6 = i13;
                                                                                                                                                                    i15 = i14;
                                                                                                                                                                    mediaCodec5 = mediaCodec4;
                                                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                                                    z5 = z8;
                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                    if (muxer2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec5 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (inputSurface4 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    str5 = str4;
                                                                                                                                                                    if (z4) {
                                                                                                                                                                    }
                                                                                                                                                                } catch (Throwable th71) {
                                                                                                                                                                    th = th71;
                                                                                                                                                                    th = th;
                                                                                                                                                                    i5 = i48;
                                                                                                                                                                    mediaCodec2 = mediaCodec10;
                                                                                                                                                                    outputSurface = outputSurface7;
                                                                                                                                                                    i79 = i19;
                                                                                                                                                                    i3 = i20;
                                                                                                                                                                    i4 = i96;
                                                                                                                                                                    str3 = str6;
                                                                                                                                                                    inputSurface3 = inputSurface6;
                                                                                                                                                                    i2 = i97;
                                                                                                                                                                    z2 = false;
                                                                                                                                                                    inputSurface = inputSurface3;
                                                                                                                                                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                    }
                                                                                                                                                                    muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                    if (muxer != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                    }
                                                                                                                                                                    i6 = i4;
                                                                                                                                                                    i7 = i3;
                                                                                                                                                                    str5 = str4;
                                                                                                                                                                    z4 = z2;
                                                                                                                                                                    z5 = true;
                                                                                                                                                                    if (z4) {
                                                                                                                                                                    }
                                                                                                                                                                }
                                                                                                                                                            }
                                                                                                                                                        } catch (Exception e66) {
                                                                                                                                                            e = e66;
                                                                                                                                                            exc = e;
                                                                                                                                                            i21 = i48;
                                                                                                                                                            outputSurface = outputSurface7;
                                                                                                                                                            i4 = i96;
                                                                                                                                                            inputSurface3 = inputSurface6;
                                                                                                                                                            i2 = i97;
                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                            }
                                                                                                                                                            z2 = false;
                                                                                                                                                            StringBuilder sb5222222222222222222222222222 = new StringBuilder();
                                                                                                                                                            sb5222222222222222222222222222.append("bitrate: ");
                                                                                                                                                            sb5222222222222222222222222222.append(i4);
                                                                                                                                                            sb5222222222222222222222222222.append(" framerate: ");
                                                                                                                                                            sb5222222222222222222222222222.append(i2);
                                                                                                                                                            sb5222222222222222222222222222.append(" size: ");
                                                                                                                                                            i7 = i20;
                                                                                                                                                            sb5222222222222222222222222222.append(i7);
                                                                                                                                                            str3 = str6;
                                                                                                                                                            sb5222222222222222222222222222.append(str3);
                                                                                                                                                            i79 = i19;
                                                                                                                                                            sb5222222222222222222222222222.append(i79);
                                                                                                                                                            FileLog.e(sb5222222222222222222222222222.toString());
                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                            i14 = i21;
                                                                                                                                                            mediaCodec2 = mediaCodec7;
                                                                                                                                                            z9 = true;
                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                            }
                                                                                                                                                            i13 = i4;
                                                                                                                                                            z4 = z2;
                                                                                                                                                            z8 = z9;
                                                                                                                                                            mediaCodec3 = mediaCodec2;
                                                                                                                                                            outputSurface2 = outputSurface;
                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (inputSurface3 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (mediaCodec == null) {
                                                                                                                                                            }
                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                            }
                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                            outputSurface3 = outputSurface2;
                                                                                                                                                            inputSurface4 = inputSurface3;
                                                                                                                                                            i6 = i13;
                                                                                                                                                            i15 = i14;
                                                                                                                                                            mediaCodec5 = mediaCodec4;
                                                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                                                            z5 = z8;
                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                            }
                                                                                                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                            if (muxer2 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (mediaCodec5 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (inputSurface4 != null) {
                                                                                                                                                            }
                                                                                                                                                            str5 = str4;
                                                                                                                                                            if (z4) {
                                                                                                                                                            }
                                                                                                                                                        } catch (Throwable th72) {
                                                                                                                                                            th = th72;
                                                                                                                                                            mediaCodec10 = mediaCodec7;
                                                                                                                                                        }
                                                                                                                                                    } else {
                                                                                                                                                        outputSurface7 = outputSurface;
                                                                                                                                                        j13 = j11;
                                                                                                                                                        mediaCodec10 = mediaCodec7;
                                                                                                                                                        if (i48 == -5) {
                                                                                                                                                            byte[] bArr2 = new byte[i101];
                                                                                                                                                            outputBuffer.limit(bufferInfo.offset + i101);
                                                                                                                                                            outputBuffer.position(bufferInfo.offset);
                                                                                                                                                            outputBuffer.get(bArr2);
                                                                                                                                                            byte b2 = 1;
                                                                                                                                                            int i103 = bufferInfo.size - 1;
                                                                                                                                                            while (i103 >= 0 && i103 > 3) {
                                                                                                                                                                if (bArr2[i103] == b2 && bArr2[i103 - 1] == 0 && bArr2[i103 - 2] == 0) {
                                                                                                                                                                    int i104 = i103 - 3;
                                                                                                                                                                    if (bArr2[i104] == 0) {
                                                                                                                                                                        byteBuffer2 = ByteBuffer.allocate(i104);
                                                                                                                                                                        byteBuffer3 = ByteBuffer.allocate(bufferInfo.size - i104);
                                                                                                                                                                        byteBuffer2.put(bArr2, 0, i104).position(0);
                                                                                                                                                                        byteBuffer3.put(bArr2, i104, bufferInfo.size - i104).position(0);
                                                                                                                                                                        break;
                                                                                                                                                                    }
                                                                                                                                                                }
                                                                                                                                                                i103--;
                                                                                                                                                                b2 = 1;
                                                                                                                                                            }
                                                                                                                                                            byteBuffer2 = null;
                                                                                                                                                            byteBuffer3 = null;
                                                                                                                                                            i50 = i38;
                                                                                                                                                            i51 = i35;
                                                                                                                                                            MediaFormat createVideoFormat4 = MediaFormat.createVideoFormat(mediaCodecVideoConvertor.outputMimeType, i51, i50);
                                                                                                                                                            if (byteBuffer2 != null && byteBuffer3 != null) {
                                                                                                                                                                createVideoFormat4.setByteBuffer(str12, byteBuffer2);
                                                                                                                                                                createVideoFormat4.setByteBuffer("csd-1", byteBuffer3);
                                                                                                                                                            }
                                                                                                                                                            i48 = mediaCodecVideoConvertor.muxer.addTrack(createVideoFormat4, false);
                                                                                                                                                            ?? r1 = (bufferInfo.flags & 4) == 0 ? 1 : 0;
                                                                                                                                                            mediaCodec.releaseOutputBuffer(dequeueOutputBuffer, false);
                                                                                                                                                            outputSurface6 = r1;
                                                                                                                                                            z23 = z55;
                                                                                                                                                            i52 = -1;
                                                                                                                                                        }
                                                                                                                                                    }
                                                                                                                                                    i50 = i38;
                                                                                                                                                } catch (Exception e67) {
                                                                                                                                                    e = e67;
                                                                                                                                                    exc = e;
                                                                                                                                                    i21 = i48;
                                                                                                                                                    i4 = i96;
                                                                                                                                                    inputSurface3 = inputSurface6;
                                                                                                                                                    i2 = i97;
                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                    }
                                                                                                                                                    z2 = false;
                                                                                                                                                    StringBuilder sb52222222222222222222222222222 = new StringBuilder();
                                                                                                                                                    sb52222222222222222222222222222.append("bitrate: ");
                                                                                                                                                    sb52222222222222222222222222222.append(i4);
                                                                                                                                                    sb52222222222222222222222222222.append(" framerate: ");
                                                                                                                                                    sb52222222222222222222222222222.append(i2);
                                                                                                                                                    sb52222222222222222222222222222.append(" size: ");
                                                                                                                                                    i7 = i20;
                                                                                                                                                    sb52222222222222222222222222222.append(i7);
                                                                                                                                                    str3 = str6;
                                                                                                                                                    sb52222222222222222222222222222.append(str3);
                                                                                                                                                    i79 = i19;
                                                                                                                                                    sb52222222222222222222222222222.append(i79);
                                                                                                                                                    FileLog.e(sb52222222222222222222222222222.toString());
                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                    i14 = i21;
                                                                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                                                                    z9 = true;
                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                    }
                                                                                                                                                    i13 = i4;
                                                                                                                                                    z4 = z2;
                                                                                                                                                    z8 = z9;
                                                                                                                                                    mediaCodec3 = mediaCodec2;
                                                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec == null) {
                                                                                                                                                    }
                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                    }
                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                    outputSurface3 = outputSurface2;
                                                                                                                                                    inputSurface4 = inputSurface3;
                                                                                                                                                    i6 = i13;
                                                                                                                                                    i15 = i14;
                                                                                                                                                    mediaCodec5 = mediaCodec4;
                                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                                    z5 = z8;
                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                    }
                                                                                                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                    if (muxer2 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec5 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (inputSurface4 != null) {
                                                                                                                                                    }
                                                                                                                                                    str5 = str4;
                                                                                                                                                    if (z4) {
                                                                                                                                                    }
                                                                                                                                                } catch (Throwable th73) {
                                                                                                                                                    MediaCodec mediaCodec14 = mediaCodec7;
                                                                                                                                                    th = th73;
                                                                                                                                                    i5 = i48;
                                                                                                                                                    mediaCodec2 = mediaCodec14;
                                                                                                                                                    i79 = i19;
                                                                                                                                                    i3 = i20;
                                                                                                                                                    i4 = i96;
                                                                                                                                                    str3 = str6;
                                                                                                                                                    inputSurface3 = inputSurface6;
                                                                                                                                                    i2 = i97;
                                                                                                                                                    z2 = false;
                                                                                                                                                    inputSurface = inputSurface3;
                                                                                                                                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                    FileLog.e(th);
                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                    }
                                                                                                                                                    muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                    if (muxer != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                    }
                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                    }
                                                                                                                                                    i6 = i4;
                                                                                                                                                    i7 = i3;
                                                                                                                                                    str5 = str4;
                                                                                                                                                    z4 = z2;
                                                                                                                                                    z5 = true;
                                                                                                                                                    if (z4) {
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                            } else {
                                                                                                                                                outputSurface7 = outputSurface;
                                                                                                                                                j13 = j11;
                                                                                                                                                i50 = i38;
                                                                                                                                                mediaCodec10 = mediaCodec7;
                                                                                                                                            }
                                                                                                                                            if ((bufferInfo.flags & 4) == 0) {
                                                                                                                                            }
                                                                                                                                            mediaCodec.releaseOutputBuffer(dequeueOutputBuffer, false);
                                                                                                                                            outputSurface6 = r1;
                                                                                                                                            z23 = z55;
                                                                                                                                            i52 = -1;
                                                                                                                                        } catch (Exception e68) {
                                                                                                                                            e = e68;
                                                                                                                                            i21 = i48;
                                                                                                                                            mediaCodec7 = mediaCodec10;
                                                                                                                                            outputSurface4 = outputSurface7;
                                                                                                                                            z27 = i97;
                                                                                                                                            r62 = inputSurface6;
                                                                                                                                            outputSurface = outputSurface4;
                                                                                                                                            i44 = z27;
                                                                                                                                            inputSurface3 = r62;
                                                                                                                                            i4 = i96;
                                                                                                                                            i2 = i44;
                                                                                                                                            exc = e;
                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                            }
                                                                                                                                            z2 = false;
                                                                                                                                            StringBuilder sb522222222222222222222222222222 = new StringBuilder();
                                                                                                                                            sb522222222222222222222222222222.append("bitrate: ");
                                                                                                                                            sb522222222222222222222222222222.append(i4);
                                                                                                                                            sb522222222222222222222222222222.append(" framerate: ");
                                                                                                                                            sb522222222222222222222222222222.append(i2);
                                                                                                                                            sb522222222222222222222222222222.append(" size: ");
                                                                                                                                            i7 = i20;
                                                                                                                                            sb522222222222222222222222222222.append(i7);
                                                                                                                                            str3 = str6;
                                                                                                                                            sb522222222222222222222222222222.append(str3);
                                                                                                                                            i79 = i19;
                                                                                                                                            sb522222222222222222222222222222.append(i79);
                                                                                                                                            FileLog.e(sb522222222222222222222222222222.toString());
                                                                                                                                            FileLog.e(exc);
                                                                                                                                            i14 = i21;
                                                                                                                                            mediaCodec2 = mediaCodec7;
                                                                                                                                            z9 = true;
                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                            }
                                                                                                                                            i13 = i4;
                                                                                                                                            z4 = z2;
                                                                                                                                            z8 = z9;
                                                                                                                                            mediaCodec3 = mediaCodec2;
                                                                                                                                            outputSurface2 = outputSurface;
                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface3 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec == null) {
                                                                                                                                            }
                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                            }
                                                                                                                                            checkConversionCanceled();
                                                                                                                                            outputSurface3 = outputSurface2;
                                                                                                                                            inputSurface4 = inputSurface3;
                                                                                                                                            i6 = i13;
                                                                                                                                            i15 = i14;
                                                                                                                                            mediaCodec5 = mediaCodec4;
                                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                                            z5 = z8;
                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                            }
                                                                                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                            if (muxer2 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec5 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                            }
                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface4 != null) {
                                                                                                                                            }
                                                                                                                                            str5 = str4;
                                                                                                                                            if (z4) {
                                                                                                                                            }
                                                                                                                                        } catch (Throwable th74) {
                                                                                                                                            i21 = i48;
                                                                                                                                            mediaCodec7 = mediaCodec10;
                                                                                                                                            i2 = i97;
                                                                                                                                            inputSurface3 = inputSurface6;
                                                                                                                                            outputSurface = outputSurface7;
                                                                                                                                            i79 = i19;
                                                                                                                                            i3 = i20;
                                                                                                                                            i4 = i96;
                                                                                                                                            str3 = str6;
                                                                                                                                            z2 = false;
                                                                                                                                            th = th74;
                                                                                                                                            MediaCodec mediaCodec1222 = mediaCodec7;
                                                                                                                                            i5 = i21;
                                                                                                                                            mediaCodec2 = mediaCodec1222;
                                                                                                                                            inputSurface = inputSurface3;
                                                                                                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                            FileLog.e(th);
                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                            }
                                                                                                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                            if (muxer != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                            }
                                                                                                                                            if (outputSurface != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface != null) {
                                                                                                                                            }
                                                                                                                                            i6 = i4;
                                                                                                                                            i7 = i3;
                                                                                                                                            str5 = str4;
                                                                                                                                            z4 = z2;
                                                                                                                                            z5 = true;
                                                                                                                                            if (z4) {
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                        i51 = i35;
                                                                                                                                    } catch (Exception e69) {
                                                                                                                                        e = e69;
                                                                                                                                        inputSurface3 = inputSurface6;
                                                                                                                                        i44 = i97;
                                                                                                                                        i21 = i48;
                                                                                                                                        i4 = i96;
                                                                                                                                        i2 = i44;
                                                                                                                                        exc = e;
                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                        }
                                                                                                                                        z2 = false;
                                                                                                                                        StringBuilder sb5222222222222222222222222222222 = new StringBuilder();
                                                                                                                                        sb5222222222222222222222222222222.append("bitrate: ");
                                                                                                                                        sb5222222222222222222222222222222.append(i4);
                                                                                                                                        sb5222222222222222222222222222222.append(" framerate: ");
                                                                                                                                        sb5222222222222222222222222222222.append(i2);
                                                                                                                                        sb5222222222222222222222222222222.append(" size: ");
                                                                                                                                        i7 = i20;
                                                                                                                                        sb5222222222222222222222222222222.append(i7);
                                                                                                                                        str3 = str6;
                                                                                                                                        sb5222222222222222222222222222222.append(str3);
                                                                                                                                        i79 = i19;
                                                                                                                                        sb5222222222222222222222222222222.append(i79);
                                                                                                                                        FileLog.e(sb5222222222222222222222222222222.toString());
                                                                                                                                        FileLog.e(exc);
                                                                                                                                        i14 = i21;
                                                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                                                        z9 = true;
                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                        }
                                                                                                                                        i13 = i4;
                                                                                                                                        z4 = z2;
                                                                                                                                        z8 = z9;
                                                                                                                                        mediaCodec3 = mediaCodec2;
                                                                                                                                        outputSurface2 = outputSurface;
                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                        }
                                                                                                                                        if (inputSurface3 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec == null) {
                                                                                                                                        }
                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                        }
                                                                                                                                        checkConversionCanceled();
                                                                                                                                        outputSurface3 = outputSurface2;
                                                                                                                                        inputSurface4 = inputSurface3;
                                                                                                                                        i6 = i13;
                                                                                                                                        i15 = i14;
                                                                                                                                        mediaCodec5 = mediaCodec4;
                                                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                                                        z5 = z8;
                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                        }
                                                                                                                                        muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                        if (muxer2 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec5 != null) {
                                                                                                                                        }
                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                        }
                                                                                                                                        if (outputSurface3 != null) {
                                                                                                                                        }
                                                                                                                                        if (inputSurface4 != null) {
                                                                                                                                        }
                                                                                                                                        str5 = str4;
                                                                                                                                        if (z4) {
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                } catch (Exception e70) {
                                                                                                                                    e = e70;
                                                                                                                                    i21 = i48;
                                                                                                                                    z27 = z24;
                                                                                                                                } catch (Throwable th75) {
                                                                                                                                    th = th75;
                                                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                                                    outputSurface = outputSurface4;
                                                                                                                                    i2 = z24;
                                                                                                                                    i79 = i19;
                                                                                                                                    i3 = i20;
                                                                                                                                    str3 = str6;
                                                                                                                                    z2 = false;
                                                                                                                                    th = th;
                                                                                                                                    inputSurface7 = r6;
                                                                                                                                    i5 = i48;
                                                                                                                                    inputSurface5 = inputSurface7;
                                                                                                                                    i4 = i96;
                                                                                                                                    inputSurface = inputSurface5;
                                                                                                                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                    FileLog.e(th);
                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                    }
                                                                                                                                    muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                    if (muxer != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                    }
                                                                                                                                    if (outputSurface != null) {
                                                                                                                                    }
                                                                                                                                    if (inputSurface != null) {
                                                                                                                                    }
                                                                                                                                    i6 = i4;
                                                                                                                                    i7 = i3;
                                                                                                                                    str5 = str4;
                                                                                                                                    z4 = z2;
                                                                                                                                    z5 = true;
                                                                                                                                    if (z4) {
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        }
                                                                                                                        i50 = i38;
                                                                                                                        mediaCodec10 = mediaCodec7;
                                                                                                                        outputSurface7 = outputSurface;
                                                                                                                        i51 = i35;
                                                                                                                        i52 = -1;
                                                                                                                    }
                                                                                                                    if (dequeueOutputBuffer != i52) {
                                                                                                                        mediaCodec9 = mediaCodec;
                                                                                                                        i35 = i51;
                                                                                                                        i38 = i50;
                                                                                                                        mediaCodec7 = mediaCodec10;
                                                                                                                        str24 = str12;
                                                                                                                        z22 = z25;
                                                                                                                        i47 = i49;
                                                                                                                        outputSurface = outputSurface7;
                                                                                                                        i37 = i18;
                                                                                                                        j11 = j13;
                                                                                                                        outputSurface4 = outputSurface6;
                                                                                                                        z21 = z26;
                                                                                                                    } else {
                                                                                                                        if (z16) {
                                                                                                                            i54 = i48;
                                                                                                                            outputSurface8 = outputSurface6;
                                                                                                                            i35 = i51;
                                                                                                                            i38 = i50;
                                                                                                                            j14 = j9;
                                                                                                                            mediaCodec7 = mediaCodec10;
                                                                                                                            outputSurface9 = outputSurface7;
                                                                                                                            j15 = j13;
                                                                                                                            inputSurface8 = inputSurface6;
                                                                                                                            z28 = z23;
                                                                                                                        } else {
                                                                                                                            i54 = i48;
                                                                                                                            MediaCodec mediaCodec15 = mediaCodec10;
                                                                                                                            z28 = z23;
                                                                                                                            try {
                                                                                                                                int dequeueOutputBuffer3 = mediaCodec15.dequeueOutputBuffer(bufferInfo, 2500L);
                                                                                                                                if (dequeueOutputBuffer3 == i52) {
                                                                                                                                    outputSurface8 = outputSurface6;
                                                                                                                                    i35 = i51;
                                                                                                                                    i38 = i50;
                                                                                                                                    j14 = j9;
                                                                                                                                    mediaCodec7 = mediaCodec15;
                                                                                                                                    outputSurface9 = outputSurface7;
                                                                                                                                    j15 = j13;
                                                                                                                                    inputSurface8 = inputSurface6;
                                                                                                                                    i2 = i97;
                                                                                                                                } else {
                                                                                                                                    if (dequeueOutputBuffer3 != -3) {
                                                                                                                                        if (dequeueOutputBuffer3 != -2) {
                                                                                                                                            if (dequeueOutputBuffer3 < 0) {
                                                                                                                                                break loop3;
                                                                                                                                            }
                                                                                                                                            boolean z56 = bufferInfo.size != 0;
                                                                                                                                            try {
                                                                                                                                                long j37 = bufferInfo.presentationTimeUs;
                                                                                                                                                if (j27 > 0 && j37 >= j27) {
                                                                                                                                                    try {
                                                                                                                                                        bufferInfo.flags |= 4;
                                                                                                                                                        z56 = false;
                                                                                                                                                        z16 = true;
                                                                                                                                                        z17 = true;
                                                                                                                                                    } catch (Exception e71) {
                                                                                                                                                        exc = e71;
                                                                                                                                                        i21 = i54;
                                                                                                                                                        outputSurface = outputSurface7;
                                                                                                                                                        mediaCodec7 = mediaCodec15;
                                                                                                                                                        i4 = i96;
                                                                                                                                                        inputSurface3 = inputSurface6;
                                                                                                                                                        i2 = i97;
                                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                                        }
                                                                                                                                                        z2 = false;
                                                                                                                                                        StringBuilder sb52222222222222222222222222222222 = new StringBuilder();
                                                                                                                                                        sb52222222222222222222222222222222.append("bitrate: ");
                                                                                                                                                        sb52222222222222222222222222222222.append(i4);
                                                                                                                                                        sb52222222222222222222222222222222.append(" framerate: ");
                                                                                                                                                        sb52222222222222222222222222222222.append(i2);
                                                                                                                                                        sb52222222222222222222222222222222.append(" size: ");
                                                                                                                                                        i7 = i20;
                                                                                                                                                        sb52222222222222222222222222222222.append(i7);
                                                                                                                                                        str3 = str6;
                                                                                                                                                        sb52222222222222222222222222222222.append(str3);
                                                                                                                                                        i79 = i19;
                                                                                                                                                        sb52222222222222222222222222222222.append(i79);
                                                                                                                                                        FileLog.e(sb52222222222222222222222222222222.toString());
                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                        i14 = i21;
                                                                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                                                                        z9 = true;
                                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                        }
                                                                                                                                                        i13 = i4;
                                                                                                                                                        z4 = z2;
                                                                                                                                                        z8 = z9;
                                                                                                                                                        mediaCodec3 = mediaCodec2;
                                                                                                                                                        outputSurface2 = outputSurface;
                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (inputSurface3 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec == null) {
                                                                                                                                                        }
                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                        }
                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                        outputSurface3 = outputSurface2;
                                                                                                                                                        inputSurface4 = inputSurface3;
                                                                                                                                                        i6 = i13;
                                                                                                                                                        i15 = i14;
                                                                                                                                                        mediaCodec5 = mediaCodec4;
                                                                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                                                                        z5 = z8;
                                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                        }
                                                                                                                                                        muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                        if (muxer2 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec5 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (outputSurface3 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (inputSurface4 != null) {
                                                                                                                                                        }
                                                                                                                                                        str5 = str4;
                                                                                                                                                        if (z4) {
                                                                                                                                                        }
                                                                                                                                                    } catch (Throwable th76) {
                                                                                                                                                        th = th76;
                                                                                                                                                        i5 = i54;
                                                                                                                                                        outputSurface = outputSurface7;
                                                                                                                                                        mediaCodec2 = mediaCodec15;
                                                                                                                                                        i79 = i19;
                                                                                                                                                        i3 = i20;
                                                                                                                                                        i4 = i96;
                                                                                                                                                        str3 = str6;
                                                                                                                                                        inputSurface3 = inputSurface6;
                                                                                                                                                        i2 = i97;
                                                                                                                                                        z2 = false;
                                                                                                                                                        inputSurface = inputSurface3;
                                                                                                                                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                        FileLog.e(th);
                                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                                        }
                                                                                                                                                        muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                        if (muxer != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                        }
                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                        }
                                                                                                                                                        i6 = i4;
                                                                                                                                                        i7 = i3;
                                                                                                                                                        str5 = str4;
                                                                                                                                                        z4 = z2;
                                                                                                                                                        z5 = true;
                                                                                                                                                        if (z4) {
                                                                                                                                                        }
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                                if (j8 >= 0) {
                                                                                                                                                    try {
                                                                                                                                                        if ((bufferInfo.flags & 4) != 0) {
                                                                                                                                                            z29 = z56;
                                                                                                                                                            i2 = i97;
                                                                                                                                                            try {
                                                                                                                                                                try {
                                                                                                                                                                    outputSurface8 = outputSurface6;
                                                                                                                                                                    i35 = i51;
                                                                                                                                                                    if (Math.abs(j8 - j9) > MediaController.VIDEO_BITRATE_480 / i2) {
                                                                                                                                                                        if (j9 > 0) {
                                                                                                                                                                            try {
                                                                                                                                                                                mediaCodecVideoConvertor.extractor.seekTo(j9, 0);
                                                                                                                                                                                j14 = j9;
                                                                                                                                                                            } catch (Throwable th77) {
                                                                                                                                                                                th = th77;
                                                                                                                                                                                th = th;
                                                                                                                                                                                i5 = i54;
                                                                                                                                                                                outputSurface = outputSurface7;
                                                                                                                                                                                mediaCodec2 = mediaCodec15;
                                                                                                                                                                                i79 = i19;
                                                                                                                                                                                i3 = i20;
                                                                                                                                                                                i4 = i96;
                                                                                                                                                                                str3 = str6;
                                                                                                                                                                                inputSurface3 = inputSurface6;
                                                                                                                                                                                z2 = false;
                                                                                                                                                                                inputSurface = inputSurface3;
                                                                                                                                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                }
                                                                                                                                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                                if (muxer != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                }
                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                }
                                                                                                                                                                                i6 = i4;
                                                                                                                                                                                i7 = i3;
                                                                                                                                                                                str5 = str4;
                                                                                                                                                                                z4 = z2;
                                                                                                                                                                                z5 = true;
                                                                                                                                                                                if (z4) {
                                                                                                                                                                                }
                                                                                                                                                                            }
                                                                                                                                                                        } else {
                                                                                                                                                                            j14 = j9;
                                                                                                                                                                            mediaCodecVideoConvertor.extractor.seekTo(0L, 0);
                                                                                                                                                                        }
                                                                                                                                                                        j32 = j13 + j;
                                                                                                                                                                        bufferInfo.flags &= -5;
                                                                                                                                                                        mediaCodec15.flush();
                                                                                                                                                                        j27 = j8;
                                                                                                                                                                        j8 = -1;
                                                                                                                                                                        z30 = true;
                                                                                                                                                                        z16 = false;
                                                                                                                                                                        z29 = false;
                                                                                                                                                                        z17 = false;
                                                                                                                                                                        if (j30 > 0) {
                                                                                                                                                                            i38 = i50;
                                                                                                                                                                            if (bufferInfo.presentationTimeUs - j30 < j2 && (bufferInfo.flags & 4) == 0) {
                                                                                                                                                                                j16 = 0;
                                                                                                                                                                                z29 = false;
                                                                                                                                                                                j17 = j8 < j16 ? j8 : j14;
                                                                                                                                                                                if (j17 > j16 && j29 == -1) {
                                                                                                                                                                                    if (j37 >= j17) {
                                                                                                                                                                                        if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                                                            FileLog.d("drop frame startTime = " + j17 + " present time = " + bufferInfo.presentationTimeUs);
                                                                                                                                                                                        }
                                                                                                                                                                                        z31 = false;
                                                                                                                                                                                        if (z30) {
                                                                                                                                                                                            mediaCodec7 = mediaCodec15;
                                                                                                                                                                                            j29 = -1;
                                                                                                                                                                                        } else {
                                                                                                                                                                                            if (j8 == -1 && j32 != 0) {
                                                                                                                                                                                                bufferInfo.presentationTimeUs += j32;
                                                                                                                                                                                            }
                                                                                                                                                                                            mediaCodec7 = mediaCodec15;
                                                                                                                                                                                            mediaCodec7.releaseOutputBuffer(dequeueOutputBuffer3, z31);
                                                                                                                                                                                        }
                                                                                                                                                                                        if (z31) {
                                                                                                                                                                                            try {
                                                                                                                                                                                                long j38 = bufferInfo.presentationTimeUs;
                                                                                                                                                                                                j15 = j13;
                                                                                                                                                                                                if (j8 >= 0) {
                                                                                                                                                                                                    try {
                                                                                                                                                                                                        try {
                                                                                                                                                                                                            j15 = Math.max(j15, j38);
                                                                                                                                                                                                        } catch (Exception e72) {
                                                                                                                                                                                                            exc = e72;
                                                                                                                                                                                                            i21 = i54;
                                                                                                                                                                                                            outputSurface = outputSurface7;
                                                                                                                                                                                                            i4 = i96;
                                                                                                                                                                                                            inputSurface3 = inputSurface6;
                                                                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            z2 = false;
                                                                                                                                                                                                            StringBuilder sb522222222222222222222222222222222 = new StringBuilder();
                                                                                                                                                                                                            sb522222222222222222222222222222222.append("bitrate: ");
                                                                                                                                                                                                            sb522222222222222222222222222222222.append(i4);
                                                                                                                                                                                                            sb522222222222222222222222222222222.append(" framerate: ");
                                                                                                                                                                                                            sb522222222222222222222222222222222.append(i2);
                                                                                                                                                                                                            sb522222222222222222222222222222222.append(" size: ");
                                                                                                                                                                                                            i7 = i20;
                                                                                                                                                                                                            sb522222222222222222222222222222222.append(i7);
                                                                                                                                                                                                            str3 = str6;
                                                                                                                                                                                                            sb522222222222222222222222222222222.append(str3);
                                                                                                                                                                                                            i79 = i19;
                                                                                                                                                                                                            sb522222222222222222222222222222222.append(i79);
                                                                                                                                                                                                            FileLog.e(sb522222222222222222222222222222222.toString());
                                                                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                                                                            i14 = i21;
                                                                                                                                                                                                            mediaCodec2 = mediaCodec7;
                                                                                                                                                                                                            z9 = true;
                                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            i13 = i4;
                                                                                                                                                                                                            z4 = z2;
                                                                                                                                                                                                            z8 = z9;
                                                                                                                                                                                                            mediaCodec3 = mediaCodec2;
                                                                                                                                                                                                            outputSurface2 = outputSurface;
                                                                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            if (inputSurface3 != null) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            if (mediaCodec == null) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                                                                            outputSurface3 = outputSurface2;
                                                                                                                                                                                                            inputSurface4 = inputSurface3;
                                                                                                                                                                                                            i6 = i13;
                                                                                                                                                                                                            i15 = i14;
                                                                                                                                                                                                            mediaCodec5 = mediaCodec4;
                                                                                                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                            z5 = z8;
                                                                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                                                            if (muxer2 != null) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            if (mediaCodec5 != null) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            if (inputSurface4 != null) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                            str5 = str4;
                                                                                                                                                                                                            if (z4) {
                                                                                                                                                                                                            }
                                                                                                                                                                                                        }
                                                                                                                                                                                                    } catch (Throwable th78) {
                                                                                                                                                                                                        th = th78;
                                                                                                                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                                                                                                                        i5 = i54;
                                                                                                                                                                                                        outputSurface = outputSurface7;
                                                                                                                                                                                                        i79 = i19;
                                                                                                                                                                                                        i3 = i20;
                                                                                                                                                                                                        i4 = i96;
                                                                                                                                                                                                        str3 = str6;
                                                                                                                                                                                                        inputSurface3 = inputSurface6;
                                                                                                                                                                                                        z2 = false;
                                                                                                                                                                                                        inputSurface = inputSurface3;
                                                                                                                                                                                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                                                                        FileLog.e(th);
                                                                                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                                                        if (muxer != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        i6 = i4;
                                                                                                                                                                                                        i7 = i3;
                                                                                                                                                                                                        str5 = str4;
                                                                                                                                                                                                        z4 = z2;
                                                                                                                                                                                                        z5 = true;
                                                                                                                                                                                                        if (z4) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                    }
                                                                                                                                                                                                }
                                                                                                                                                                                                try {
                                                                                                                                                                                                    outputSurface7.awaitNewImage();
                                                                                                                                                                                                    z32 = false;
                                                                                                                                                                                                } catch (Exception e73) {
                                                                                                                                                                                                    FileLog.e(e73);
                                                                                                                                                                                                    z32 = true;
                                                                                                                                                                                                }
                                                                                                                                                                                                if (z32) {
                                                                                                                                                                                                    outputSurface9 = outputSurface7;
                                                                                                                                                                                                    inputSurface8 = inputSurface6;
                                                                                                                                                                                                } else {
                                                                                                                                                                                                    outputSurface9 = outputSurface7;
                                                                                                                                                                                                    try {
                                                                                                                                                                                                        outputSurface9.drawImage(bufferInfo.presentationTimeUs * 1000);
                                                                                                                                                                                                        inputSurface8 = inputSurface6;
                                                                                                                                                                                                    } catch (Exception e74) {
                                                                                                                                                                                                        e = e74;
                                                                                                                                                                                                        inputSurface8 = inputSurface6;
                                                                                                                                                                                                        inputSurface3 = inputSurface8;
                                                                                                                                                                                                        outputSurface = outputSurface9;
                                                                                                                                                                                                        i21 = i54;
                                                                                                                                                                                                        i44 = i2;
                                                                                                                                                                                                        i4 = i96;
                                                                                                                                                                                                        i2 = i44;
                                                                                                                                                                                                        exc = e;
                                                                                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        z2 = false;
                                                                                                                                                                                                        StringBuilder sb5222222222222222222222222222222222 = new StringBuilder();
                                                                                                                                                                                                        sb5222222222222222222222222222222222.append("bitrate: ");
                                                                                                                                                                                                        sb5222222222222222222222222222222222.append(i4);
                                                                                                                                                                                                        sb5222222222222222222222222222222222.append(" framerate: ");
                                                                                                                                                                                                        sb5222222222222222222222222222222222.append(i2);
                                                                                                                                                                                                        sb5222222222222222222222222222222222.append(" size: ");
                                                                                                                                                                                                        i7 = i20;
                                                                                                                                                                                                        sb5222222222222222222222222222222222.append(i7);
                                                                                                                                                                                                        str3 = str6;
                                                                                                                                                                                                        sb5222222222222222222222222222222222.append(str3);
                                                                                                                                                                                                        i79 = i19;
                                                                                                                                                                                                        sb5222222222222222222222222222222222.append(i79);
                                                                                                                                                                                                        FileLog.e(sb5222222222222222222222222222222222.toString());
                                                                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                                                                        i14 = i21;
                                                                                                                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                                                                                                                        z9 = true;
                                                                                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        i13 = i4;
                                                                                                                                                                                                        z4 = z2;
                                                                                                                                                                                                        z8 = z9;
                                                                                                                                                                                                        mediaCodec3 = mediaCodec2;
                                                                                                                                                                                                        outputSurface2 = outputSurface;
                                                                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (inputSurface3 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec == null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                                                                        outputSurface3 = outputSurface2;
                                                                                                                                                                                                        inputSurface4 = inputSurface3;
                                                                                                                                                                                                        i6 = i13;
                                                                                                                                                                                                        i15 = i14;
                                                                                                                                                                                                        mediaCodec5 = mediaCodec4;
                                                                                                                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                        z5 = z8;
                                                                                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                                                        if (muxer2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec5 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (outputSurface3 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (inputSurface4 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        str5 = str4;
                                                                                                                                                                                                        if (z4) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                    } catch (Throwable th79) {
                                                                                                                                                                                                        th2 = th79;
                                                                                                                                                                                                        inputSurface8 = inputSurface6;
                                                                                                                                                                                                        inputSurface3 = inputSurface8;
                                                                                                                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                                                                                                                        outputSurface = outputSurface9;
                                                                                                                                                                                                        i5 = i54;
                                                                                                                                                                                                        i79 = i19;
                                                                                                                                                                                                        i3 = i20;
                                                                                                                                                                                                        i4 = i96;
                                                                                                                                                                                                        str3 = str6;
                                                                                                                                                                                                        z2 = false;
                                                                                                                                                                                                        th = th2;
                                                                                                                                                                                                        inputSurface = inputSurface3;
                                                                                                                                                                                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                                                                        FileLog.e(th);
                                                                                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                                                        if (muxer != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        i6 = i4;
                                                                                                                                                                                                        i7 = i3;
                                                                                                                                                                                                        str5 = str4;
                                                                                                                                                                                                        z4 = z2;
                                                                                                                                                                                                        z5 = true;
                                                                                                                                                                                                        if (z4) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                    }
                                                                                                                                                                                                    try {
                                                                                                                                                                                                        inputSurface8.setPresentationTime(bufferInfo.presentationTimeUs * 1000);
                                                                                                                                                                                                        inputSurface8.swapBuffers();
                                                                                                                                                                                                    } catch (Exception e75) {
                                                                                                                                                                                                        e = e75;
                                                                                                                                                                                                        inputSurface3 = inputSurface8;
                                                                                                                                                                                                        outputSurface = outputSurface9;
                                                                                                                                                                                                        i21 = i54;
                                                                                                                                                                                                        i44 = i2;
                                                                                                                                                                                                        i4 = i96;
                                                                                                                                                                                                        i2 = i44;
                                                                                                                                                                                                        exc = e;
                                                                                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        z2 = false;
                                                                                                                                                                                                        StringBuilder sb52222222222222222222222222222222222 = new StringBuilder();
                                                                                                                                                                                                        sb52222222222222222222222222222222222.append("bitrate: ");
                                                                                                                                                                                                        sb52222222222222222222222222222222222.append(i4);
                                                                                                                                                                                                        sb52222222222222222222222222222222222.append(" framerate: ");
                                                                                                                                                                                                        sb52222222222222222222222222222222222.append(i2);
                                                                                                                                                                                                        sb52222222222222222222222222222222222.append(" size: ");
                                                                                                                                                                                                        i7 = i20;
                                                                                                                                                                                                        sb52222222222222222222222222222222222.append(i7);
                                                                                                                                                                                                        str3 = str6;
                                                                                                                                                                                                        sb52222222222222222222222222222222222.append(str3);
                                                                                                                                                                                                        i79 = i19;
                                                                                                                                                                                                        sb52222222222222222222222222222222222.append(i79);
                                                                                                                                                                                                        FileLog.e(sb52222222222222222222222222222222222.toString());
                                                                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                                                                        i14 = i21;
                                                                                                                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                                                                                                                        z9 = true;
                                                                                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        i13 = i4;
                                                                                                                                                                                                        z4 = z2;
                                                                                                                                                                                                        z8 = z9;
                                                                                                                                                                                                        mediaCodec3 = mediaCodec2;
                                                                                                                                                                                                        outputSurface2 = outputSurface;
                                                                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (inputSurface3 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec == null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                                                                        outputSurface3 = outputSurface2;
                                                                                                                                                                                                        inputSurface4 = inputSurface3;
                                                                                                                                                                                                        i6 = i13;
                                                                                                                                                                                                        i15 = i14;
                                                                                                                                                                                                        mediaCodec5 = mediaCodec4;
                                                                                                                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                        z5 = z8;
                                                                                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                                                        if (muxer2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec5 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (outputSurface3 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (inputSurface4 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        str5 = str4;
                                                                                                                                                                                                        if (z4) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                    } catch (Throwable th80) {
                                                                                                                                                                                                        th2 = th80;
                                                                                                                                                                                                        inputSurface3 = inputSurface8;
                                                                                                                                                                                                        mediaCodec2 = mediaCodec7;
                                                                                                                                                                                                        outputSurface = outputSurface9;
                                                                                                                                                                                                        i5 = i54;
                                                                                                                                                                                                        i79 = i19;
                                                                                                                                                                                                        i3 = i20;
                                                                                                                                                                                                        i4 = i96;
                                                                                                                                                                                                        str3 = str6;
                                                                                                                                                                                                        z2 = false;
                                                                                                                                                                                                        th = th2;
                                                                                                                                                                                                        inputSurface = inputSurface3;
                                                                                                                                                                                                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                                                                        FileLog.e(th);
                                                                                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                                                        if (muxer != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                        i6 = i4;
                                                                                                                                                                                                        i7 = i3;
                                                                                                                                                                                                        str5 = str4;
                                                                                                                                                                                                        z4 = z2;
                                                                                                                                                                                                        z5 = true;
                                                                                                                                                                                                        if (z4) {
                                                                                                                                                                                                        }
                                                                                                                                                                                                    }
                                                                                                                                                                                                }
                                                                                                                                                                                                j30 = j38;
                                                                                                                                                                                            } catch (Exception e76) {
                                                                                                                                                                                                e = e76;
                                                                                                                                                                                                outputSurface9 = outputSurface7;
                                                                                                                                                                                                inputSurface8 = inputSurface6;
                                                                                                                                                                                                inputSurface3 = inputSurface8;
                                                                                                                                                                                                outputSurface = outputSurface9;
                                                                                                                                                                                                i21 = i54;
                                                                                                                                                                                                i44 = i2;
                                                                                                                                                                                                i4 = i96;
                                                                                                                                                                                                i2 = i44;
                                                                                                                                                                                                exc = e;
                                                                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                }
                                                                                                                                                                                                z2 = false;
                                                                                                                                                                                                StringBuilder sb522222222222222222222222222222222222 = new StringBuilder();
                                                                                                                                                                                                sb522222222222222222222222222222222222.append("bitrate: ");
                                                                                                                                                                                                sb522222222222222222222222222222222222.append(i4);
                                                                                                                                                                                                sb522222222222222222222222222222222222.append(" framerate: ");
                                                                                                                                                                                                sb522222222222222222222222222222222222.append(i2);
                                                                                                                                                                                                sb522222222222222222222222222222222222.append(" size: ");
                                                                                                                                                                                                i7 = i20;
                                                                                                                                                                                                sb522222222222222222222222222222222222.append(i7);
                                                                                                                                                                                                str3 = str6;
                                                                                                                                                                                                sb522222222222222222222222222222222222.append(str3);
                                                                                                                                                                                                i79 = i19;
                                                                                                                                                                                                sb522222222222222222222222222222222222.append(i79);
                                                                                                                                                                                                FileLog.e(sb522222222222222222222222222222222222.toString());
                                                                                                                                                                                                FileLog.e(exc);
                                                                                                                                                                                                i14 = i21;
                                                                                                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                                                                                                z9 = true;
                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                i13 = i4;
                                                                                                                                                                                                z4 = z2;
                                                                                                                                                                                                z8 = z9;
                                                                                                                                                                                                mediaCodec3 = mediaCodec2;
                                                                                                                                                                                                outputSurface2 = outputSurface;
                                                                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec == null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                                                outputSurface3 = outputSurface2;
                                                                                                                                                                                                inputSurface4 = inputSurface3;
                                                                                                                                                                                                i6 = i13;
                                                                                                                                                                                                i15 = i14;
                                                                                                                                                                                                mediaCodec5 = mediaCodec4;
                                                                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                                                                z5 = z8;
                                                                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                                                if (muxer2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec5 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (outputSurface3 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (inputSurface4 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                str5 = str4;
                                                                                                                                                                                                if (z4) {
                                                                                                                                                                                                }
                                                                                                                                                                                            } catch (Throwable th81) {
                                                                                                                                                                                                th2 = th81;
                                                                                                                                                                                                outputSurface9 = outputSurface7;
                                                                                                                                                                                                inputSurface8 = inputSurface6;
                                                                                                                                                                                                inputSurface3 = inputSurface8;
                                                                                                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                                                                                                outputSurface = outputSurface9;
                                                                                                                                                                                                i5 = i54;
                                                                                                                                                                                                i79 = i19;
                                                                                                                                                                                                i3 = i20;
                                                                                                                                                                                                i4 = i96;
                                                                                                                                                                                                str3 = str6;
                                                                                                                                                                                                z2 = false;
                                                                                                                                                                                                th = th2;
                                                                                                                                                                                                inputSurface = inputSurface3;
                                                                                                                                                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                                                if (muxer != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                                }
                                                                                                                                                                                                i6 = i4;
                                                                                                                                                                                                i7 = i3;
                                                                                                                                                                                                str5 = str4;
                                                                                                                                                                                                z4 = z2;
                                                                                                                                                                                                z5 = true;
                                                                                                                                                                                                if (z4) {
                                                                                                                                                                                                }
                                                                                                                                                                                            }
                                                                                                                                                                                        } else {
                                                                                                                                                                                            outputSurface9 = outputSurface7;
                                                                                                                                                                                            j15 = j13;
                                                                                                                                                                                            inputSurface8 = inputSurface6;
                                                                                                                                                                                        }
                                                                                                                                                                                        if ((bufferInfo.flags & 4) != 0) {
                                                                                                                                                                                            if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                                                                FileLog.d("decoder stream end");
                                                                                                                                                                                            }
                                                                                                                                                                                            mediaCodec.signalEndOfInputStream();
                                                                                                                                                                                        }
                                                                                                                                                                                        z22 = z25;
                                                                                                                                                                                        i97 = i2;
                                                                                                                                                                                        inputSurface6 = inputSurface8;
                                                                                                                                                                                        mediaCodec9 = mediaCodec;
                                                                                                                                                                                        z23 = z28;
                                                                                                                                                                                        str24 = str12;
                                                                                                                                                                                        i48 = i54;
                                                                                                                                                                                        z21 = z26;
                                                                                                                                                                                        i47 = i49;
                                                                                                                                                                                        i37 = i18;
                                                                                                                                                                                        j9 = j14;
                                                                                                                                                                                        j11 = j15;
                                                                                                                                                                                        outputSurface = outputSurface9;
                                                                                                                                                                                        outputSurface4 = outputSurface8;
                                                                                                                                                                                    } else {
                                                                                                                                                                                        long j39 = bufferInfo.presentationTimeUs;
                                                                                                                                                                                        if (j13 != -2147483648L) {
                                                                                                                                                                                            j32 -= j39;
                                                                                                                                                                                        }
                                                                                                                                                                                        j29 = j39;
                                                                                                                                                                                    }
                                                                                                                                                                                }
                                                                                                                                                                                z31 = z29;
                                                                                                                                                                                if (z30) {
                                                                                                                                                                                }
                                                                                                                                                                                if (z31) {
                                                                                                                                                                                }
                                                                                                                                                                                if ((bufferInfo.flags & 4) != 0) {
                                                                                                                                                                                }
                                                                                                                                                                                z22 = z25;
                                                                                                                                                                                i97 = i2;
                                                                                                                                                                                inputSurface6 = inputSurface8;
                                                                                                                                                                                mediaCodec9 = mediaCodec;
                                                                                                                                                                                z23 = z28;
                                                                                                                                                                                str24 = str12;
                                                                                                                                                                                i48 = i54;
                                                                                                                                                                                z21 = z26;
                                                                                                                                                                                i47 = i49;
                                                                                                                                                                                i37 = i18;
                                                                                                                                                                                j9 = j14;
                                                                                                                                                                                j11 = j15;
                                                                                                                                                                                outputSurface = outputSurface9;
                                                                                                                                                                                outputSurface4 = outputSurface8;
                                                                                                                                                                            }
                                                                                                                                                                        } else {
                                                                                                                                                                            i38 = i50;
                                                                                                                                                                        }
                                                                                                                                                                        j16 = 0;
                                                                                                                                                                        if (j8 < j16) {
                                                                                                                                                                        }
                                                                                                                                                                        if (j17 > j16) {
                                                                                                                                                                            if (j37 >= j17) {
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                        z31 = z29;
                                                                                                                                                                        if (z30) {
                                                                                                                                                                        }
                                                                                                                                                                        if (z31) {
                                                                                                                                                                        }
                                                                                                                                                                        if ((bufferInfo.flags & 4) != 0) {
                                                                                                                                                                        }
                                                                                                                                                                        z22 = z25;
                                                                                                                                                                        i97 = i2;
                                                                                                                                                                        inputSurface6 = inputSurface8;
                                                                                                                                                                        mediaCodec9 = mediaCodec;
                                                                                                                                                                        z23 = z28;
                                                                                                                                                                        str24 = str12;
                                                                                                                                                                        i48 = i54;
                                                                                                                                                                        z21 = z26;
                                                                                                                                                                        i47 = i49;
                                                                                                                                                                        i37 = i18;
                                                                                                                                                                        j9 = j14;
                                                                                                                                                                        j11 = j15;
                                                                                                                                                                        outputSurface = outputSurface9;
                                                                                                                                                                        outputSurface4 = outputSurface8;
                                                                                                                                                                    } else {
                                                                                                                                                                        j14 = j9;
                                                                                                                                                                        z30 = false;
                                                                                                                                                                        if (j30 > 0) {
                                                                                                                                                                        }
                                                                                                                                                                        j16 = 0;
                                                                                                                                                                        if (j8 < j16) {
                                                                                                                                                                        }
                                                                                                                                                                        if (j17 > j16) {
                                                                                                                                                                        }
                                                                                                                                                                        z31 = z29;
                                                                                                                                                                        if (z30) {
                                                                                                                                                                        }
                                                                                                                                                                        if (z31) {
                                                                                                                                                                        }
                                                                                                                                                                        if ((bufferInfo.flags & 4) != 0) {
                                                                                                                                                                        }
                                                                                                                                                                        z22 = z25;
                                                                                                                                                                        i97 = i2;
                                                                                                                                                                        inputSurface6 = inputSurface8;
                                                                                                                                                                        mediaCodec9 = mediaCodec;
                                                                                                                                                                        z23 = z28;
                                                                                                                                                                        str24 = str12;
                                                                                                                                                                        i48 = i54;
                                                                                                                                                                        z21 = z26;
                                                                                                                                                                        i47 = i49;
                                                                                                                                                                        i37 = i18;
                                                                                                                                                                        j9 = j14;
                                                                                                                                                                        j11 = j15;
                                                                                                                                                                        outputSurface = outputSurface9;
                                                                                                                                                                        outputSurface4 = outputSurface8;
                                                                                                                                                                    }
                                                                                                                                                                } catch (Exception e77) {
                                                                                                                                                                    e = e77;
                                                                                                                                                                    exc = e;
                                                                                                                                                                    i21 = i54;
                                                                                                                                                                    outputSurface = outputSurface7;
                                                                                                                                                                    mediaCodec7 = mediaCodec15;
                                                                                                                                                                    i4 = i96;
                                                                                                                                                                    inputSurface3 = inputSurface6;
                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                    }
                                                                                                                                                                    z2 = false;
                                                                                                                                                                    StringBuilder sb5222222222222222222222222222222222222 = new StringBuilder();
                                                                                                                                                                    sb5222222222222222222222222222222222222.append("bitrate: ");
                                                                                                                                                                    sb5222222222222222222222222222222222222.append(i4);
                                                                                                                                                                    sb5222222222222222222222222222222222222.append(" framerate: ");
                                                                                                                                                                    sb5222222222222222222222222222222222222.append(i2);
                                                                                                                                                                    sb5222222222222222222222222222222222222.append(" size: ");
                                                                                                                                                                    i7 = i20;
                                                                                                                                                                    sb5222222222222222222222222222222222222.append(i7);
                                                                                                                                                                    str3 = str6;
                                                                                                                                                                    sb5222222222222222222222222222222222222.append(str3);
                                                                                                                                                                    i79 = i19;
                                                                                                                                                                    sb5222222222222222222222222222222222222.append(i79);
                                                                                                                                                                    FileLog.e(sb5222222222222222222222222222222222222.toString());
                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                    i14 = i21;
                                                                                                                                                                    mediaCodec2 = mediaCodec7;
                                                                                                                                                                    z9 = true;
                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    i13 = i4;
                                                                                                                                                                    z4 = z2;
                                                                                                                                                                    z8 = z9;
                                                                                                                                                                    mediaCodec3 = mediaCodec2;
                                                                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec == null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                    }
                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                    outputSurface3 = outputSurface2;
                                                                                                                                                                    inputSurface4 = inputSurface3;
                                                                                                                                                                    i6 = i13;
                                                                                                                                                                    i15 = i14;
                                                                                                                                                                    mediaCodec5 = mediaCodec4;
                                                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                                                    z5 = z8;
                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                    if (muxer2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec5 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (inputSurface4 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    str5 = str4;
                                                                                                                                                                    if (z4) {
                                                                                                                                                                    }
                                                                                                                                                                }
                                                                                                                                                            } catch (Throwable th82) {
                                                                                                                                                                th = th82;
                                                                                                                                                                th = th;
                                                                                                                                                                i5 = i54;
                                                                                                                                                                outputSurface = outputSurface7;
                                                                                                                                                                mediaCodec2 = mediaCodec15;
                                                                                                                                                                i79 = i19;
                                                                                                                                                                i3 = i20;
                                                                                                                                                                i4 = i96;
                                                                                                                                                                str3 = str6;
                                                                                                                                                                inputSurface3 = inputSurface6;
                                                                                                                                                                z2 = false;
                                                                                                                                                                inputSurface = inputSurface3;
                                                                                                                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                }
                                                                                                                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                                if (muxer != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                }
                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                }
                                                                                                                                                                i6 = i4;
                                                                                                                                                                i7 = i3;
                                                                                                                                                                str5 = str4;
                                                                                                                                                                z4 = z2;
                                                                                                                                                                z5 = true;
                                                                                                                                                                if (z4) {
                                                                                                                                                                }
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                    } catch (Exception e78) {
                                                                                                                                                        e = e78;
                                                                                                                                                        i2 = i97;
                                                                                                                                                    } catch (Throwable th83) {
                                                                                                                                                        th = th83;
                                                                                                                                                        i2 = i97;
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                                z29 = z56;
                                                                                                                                                outputSurface8 = outputSurface6;
                                                                                                                                                i35 = i51;
                                                                                                                                                j14 = j9;
                                                                                                                                                i2 = i97;
                                                                                                                                                z30 = false;
                                                                                                                                                if (j30 > 0) {
                                                                                                                                                }
                                                                                                                                                j16 = 0;
                                                                                                                                                if (j8 < j16) {
                                                                                                                                                }
                                                                                                                                                if (j17 > j16) {
                                                                                                                                                }
                                                                                                                                                z31 = z29;
                                                                                                                                                if (z30) {
                                                                                                                                                }
                                                                                                                                                if (z31) {
                                                                                                                                                }
                                                                                                                                                if ((bufferInfo.flags & 4) != 0) {
                                                                                                                                                }
                                                                                                                                                z22 = z25;
                                                                                                                                                i97 = i2;
                                                                                                                                                inputSurface6 = inputSurface8;
                                                                                                                                                mediaCodec9 = mediaCodec;
                                                                                                                                                z23 = z28;
                                                                                                                                                str24 = str12;
                                                                                                                                                i48 = i54;
                                                                                                                                                z21 = z26;
                                                                                                                                                i47 = i49;
                                                                                                                                                i37 = i18;
                                                                                                                                                j9 = j14;
                                                                                                                                                j11 = j15;
                                                                                                                                                outputSurface = outputSurface9;
                                                                                                                                                outputSurface4 = outputSurface8;
                                                                                                                                            } catch (Exception e79) {
                                                                                                                                                e = e79;
                                                                                                                                                outputSurface9 = outputSurface7;
                                                                                                                                                mediaCodec7 = mediaCodec15;
                                                                                                                                                inputSurface8 = inputSurface6;
                                                                                                                                                i2 = i97;
                                                                                                                                                inputSurface3 = inputSurface8;
                                                                                                                                                outputSurface = outputSurface9;
                                                                                                                                                i21 = i54;
                                                                                                                                                i44 = i2;
                                                                                                                                                i4 = i96;
                                                                                                                                                i2 = i44;
                                                                                                                                                exc = e;
                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                }
                                                                                                                                                z2 = false;
                                                                                                                                                StringBuilder sb52222222222222222222222222222222222222 = new StringBuilder();
                                                                                                                                                sb52222222222222222222222222222222222222.append("bitrate: ");
                                                                                                                                                sb52222222222222222222222222222222222222.append(i4);
                                                                                                                                                sb52222222222222222222222222222222222222.append(" framerate: ");
                                                                                                                                                sb52222222222222222222222222222222222222.append(i2);
                                                                                                                                                sb52222222222222222222222222222222222222.append(" size: ");
                                                                                                                                                i7 = i20;
                                                                                                                                                sb52222222222222222222222222222222222222.append(i7);
                                                                                                                                                str3 = str6;
                                                                                                                                                sb52222222222222222222222222222222222222.append(str3);
                                                                                                                                                i79 = i19;
                                                                                                                                                sb52222222222222222222222222222222222222.append(i79);
                                                                                                                                                FileLog.e(sb52222222222222222222222222222222222222.toString());
                                                                                                                                                FileLog.e(exc);
                                                                                                                                                i14 = i21;
                                                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                                                z9 = true;
                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                }
                                                                                                                                                i13 = i4;
                                                                                                                                                z4 = z2;
                                                                                                                                                z8 = z9;
                                                                                                                                                mediaCodec3 = mediaCodec2;
                                                                                                                                                outputSurface2 = outputSurface;
                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec == null) {
                                                                                                                                                }
                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                }
                                                                                                                                                checkConversionCanceled();
                                                                                                                                                outputSurface3 = outputSurface2;
                                                                                                                                                inputSurface4 = inputSurface3;
                                                                                                                                                i6 = i13;
                                                                                                                                                i15 = i14;
                                                                                                                                                mediaCodec5 = mediaCodec4;
                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                z5 = z8;
                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                }
                                                                                                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                if (muxer2 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec5 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                }
                                                                                                                                                if (outputSurface3 != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface4 != null) {
                                                                                                                                                }
                                                                                                                                                str5 = str4;
                                                                                                                                                if (z4) {
                                                                                                                                                }
                                                                                                                                            } catch (Throwable th84) {
                                                                                                                                                th2 = th84;
                                                                                                                                                outputSurface9 = outputSurface7;
                                                                                                                                                mediaCodec7 = mediaCodec15;
                                                                                                                                                inputSurface8 = inputSurface6;
                                                                                                                                                i2 = i97;
                                                                                                                                                inputSurface3 = inputSurface8;
                                                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                                                outputSurface = outputSurface9;
                                                                                                                                                i5 = i54;
                                                                                                                                                i79 = i19;
                                                                                                                                                i3 = i20;
                                                                                                                                                i4 = i96;
                                                                                                                                                str3 = str6;
                                                                                                                                                z2 = false;
                                                                                                                                                th = th2;
                                                                                                                                                inputSurface = inputSurface3;
                                                                                                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                FileLog.e(th);
                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                }
                                                                                                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                if (muxer != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                }
                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                }
                                                                                                                                                i6 = i4;
                                                                                                                                                i7 = i3;
                                                                                                                                                str5 = str4;
                                                                                                                                                z4 = z2;
                                                                                                                                                z5 = true;
                                                                                                                                                if (z4) {
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                        } else {
                                                                                                                                            try {
                                                                                                                                                MediaFormat outputFormat3 = mediaCodec15.getOutputFormat();
                                                                                                                                                if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                    FileLog.d("newFormat = " + outputFormat3);
                                                                                                                                                }
                                                                                                                                            } catch (Exception e80) {
                                                                                                                                                exc = e80;
                                                                                                                                                mediaCodec7 = mediaCodec15;
                                                                                                                                                i21 = i54;
                                                                                                                                                outputSurface = outputSurface7;
                                                                                                                                                i4 = i96;
                                                                                                                                                inputSurface3 = inputSurface6;
                                                                                                                                                i2 = i97;
                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                }
                                                                                                                                                z2 = false;
                                                                                                                                                StringBuilder sb522222222222222222222222222222222222222 = new StringBuilder();
                                                                                                                                                sb522222222222222222222222222222222222222.append("bitrate: ");
                                                                                                                                                sb522222222222222222222222222222222222222.append(i4);
                                                                                                                                                sb522222222222222222222222222222222222222.append(" framerate: ");
                                                                                                                                                sb522222222222222222222222222222222222222.append(i2);
                                                                                                                                                sb522222222222222222222222222222222222222.append(" size: ");
                                                                                                                                                i7 = i20;
                                                                                                                                                sb522222222222222222222222222222222222222.append(i7);
                                                                                                                                                str3 = str6;
                                                                                                                                                sb522222222222222222222222222222222222222.append(str3);
                                                                                                                                                i79 = i19;
                                                                                                                                                sb522222222222222222222222222222222222222.append(i79);
                                                                                                                                                FileLog.e(sb522222222222222222222222222222222222222.toString());
                                                                                                                                                FileLog.e(exc);
                                                                                                                                                i14 = i21;
                                                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                                                z9 = true;
                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                }
                                                                                                                                                i13 = i4;
                                                                                                                                                z4 = z2;
                                                                                                                                                z8 = z9;
                                                                                                                                                mediaCodec3 = mediaCodec2;
                                                                                                                                                outputSurface2 = outputSurface;
                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec == null) {
                                                                                                                                                }
                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                }
                                                                                                                                                checkConversionCanceled();
                                                                                                                                                outputSurface3 = outputSurface2;
                                                                                                                                                inputSurface4 = inputSurface3;
                                                                                                                                                i6 = i13;
                                                                                                                                                i15 = i14;
                                                                                                                                                mediaCodec5 = mediaCodec4;
                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                z5 = z8;
                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                }
                                                                                                                                                muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                                                                                if (muxer2 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec5 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                }
                                                                                                                                                if (outputSurface3 != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface4 != null) {
                                                                                                                                                }
                                                                                                                                                str5 = str4;
                                                                                                                                                if (z4) {
                                                                                                                                                }
                                                                                                                                            } catch (Throwable th85) {
                                                                                                                                                th = th85;
                                                                                                                                                mediaCodec2 = mediaCodec15;
                                                                                                                                                i5 = i54;
                                                                                                                                                outputSurface = outputSurface7;
                                                                                                                                                i79 = i19;
                                                                                                                                                i3 = i20;
                                                                                                                                                i4 = i96;
                                                                                                                                                str3 = str6;
                                                                                                                                                inputSurface3 = inputSurface6;
                                                                                                                                                i2 = i97;
                                                                                                                                                z2 = false;
                                                                                                                                                inputSurface = inputSurface3;
                                                                                                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                                                FileLog.e(th);
                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                }
                                                                                                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                                                if (muxer != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                }
                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                }
                                                                                                                                                i6 = i4;
                                                                                                                                                i7 = i3;
                                                                                                                                                str5 = str4;
                                                                                                                                                z4 = z2;
                                                                                                                                                z5 = true;
                                                                                                                                                if (z4) {
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                    outputSurface8 = outputSurface6;
                                                                                                                                    i35 = i51;
                                                                                                                                    i38 = i50;
                                                                                                                                    j14 = j9;
                                                                                                                                    mediaCodec7 = mediaCodec15;
                                                                                                                                    outputSurface9 = outputSurface7;
                                                                                                                                    j15 = j13;
                                                                                                                                    inputSurface8 = inputSurface6;
                                                                                                                                }
                                                                                                                                z22 = false;
                                                                                                                                i97 = i2;
                                                                                                                                inputSurface6 = inputSurface8;
                                                                                                                                mediaCodec9 = mediaCodec;
                                                                                                                                z23 = z28;
                                                                                                                                str24 = str12;
                                                                                                                                i48 = i54;
                                                                                                                                z21 = z26;
                                                                                                                                i47 = i49;
                                                                                                                                i37 = i18;
                                                                                                                                j9 = j14;
                                                                                                                                j11 = j15;
                                                                                                                                outputSurface = outputSurface9;
                                                                                                                                outputSurface4 = outputSurface8;
                                                                                                                            } catch (Exception e81) {
                                                                                                                                e = e81;
                                                                                                                                mediaCodec7 = mediaCodec15;
                                                                                                                                outputSurface9 = outputSurface7;
                                                                                                                            } catch (Throwable th86) {
                                                                                                                                th2 = th86;
                                                                                                                                mediaCodec7 = mediaCodec15;
                                                                                                                                outputSurface9 = outputSurface7;
                                                                                                                            }
                                                                                                                        }
                                                                                                                        i2 = i97;
                                                                                                                        z22 = z25;
                                                                                                                        i97 = i2;
                                                                                                                        inputSurface6 = inputSurface8;
                                                                                                                        mediaCodec9 = mediaCodec;
                                                                                                                        z23 = z28;
                                                                                                                        str24 = str12;
                                                                                                                        i48 = i54;
                                                                                                                        z21 = z26;
                                                                                                                        i47 = i49;
                                                                                                                        i37 = i18;
                                                                                                                        j9 = j14;
                                                                                                                        j11 = j15;
                                                                                                                        outputSurface = outputSurface9;
                                                                                                                        outputSurface4 = outputSurface8;
                                                                                                                    }
                                                                                                                } catch (Exception e82) {
                                                                                                                    e = e82;
                                                                                                                    i18 = i37;
                                                                                                                }
                                                                                                            } catch (Throwable th87) {
                                                                                                                th = th87;
                                                                                                                r6 = inputSurface6;
                                                                                                                i2 = i97;
                                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                                i79 = i19;
                                                                                                                i3 = i20;
                                                                                                                str3 = str6;
                                                                                                                z2 = false;
                                                                                                                th = th;
                                                                                                                inputSurface7 = r6;
                                                                                                                i5 = i48;
                                                                                                                inputSurface5 = inputSurface7;
                                                                                                                i4 = i96;
                                                                                                                inputSurface = inputSurface5;
                                                                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                                                FileLog.e(th);
                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                if (mediaExtractor != null) {
                                                                                                                }
                                                                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                                                                if (muxer != null) {
                                                                                                                }
                                                                                                                if (mediaCodec != null) {
                                                                                                                }
                                                                                                                if (mediaCodec2 != null) {
                                                                                                                }
                                                                                                                if (outputSurface != null) {
                                                                                                                }
                                                                                                                if (inputSurface != null) {
                                                                                                                }
                                                                                                                i6 = i4;
                                                                                                                i7 = i3;
                                                                                                                str5 = str4;
                                                                                                                z4 = z2;
                                                                                                                z5 = true;
                                                                                                                if (z4) {
                                                                                                                }
                                                                                                            }
                                                                                                        } catch (Exception e83) {
                                                                                                            e = e83;
                                                                                                            i18 = i37;
                                                                                                            mediaCodec = mediaCodec9;
                                                                                                        } catch (Throwable th88) {
                                                                                                            th = th88;
                                                                                                            mediaCodec = mediaCodec9;
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            } catch (Exception e84) {
                                                                                                e = e84;
                                                                                                audioRecoder = audioRecoder2;
                                                                                                i18 = i37;
                                                                                                mediaCodec = mediaCodec9;
                                                                                                bufferInfo = bufferInfo4;
                                                                                                i44 = i97;
                                                                                                i21 = i14;
                                                                                                inputSurface3 = inputSurface3;
                                                                                            } catch (Throwable th89) {
                                                                                                th2 = th89;
                                                                                                mediaCodec = mediaCodec9;
                                                                                                bufferInfo = bufferInfo4;
                                                                                                i2 = i97;
                                                                                                mediaCodec2 = mediaCodec7;
                                                                                                i79 = i19;
                                                                                                i3 = i20;
                                                                                                i5 = i14;
                                                                                            }
                                                                                        }
                                                                                        i14 = i48;
                                                                                        j10 = j11;
                                                                                        z18 = z20;
                                                                                        i36 = i46;
                                                                                        inputBuffers = byteBufferArr2;
                                                                                        i41 = i45;
                                                                                        i43 = i47;
                                                                                        z15 = z21;
                                                                                        bufferInfo4 = bufferInfo;
                                                                                        audioRecoder2 = audioRecoder;
                                                                                        inputSurface3 = inputSurface6;
                                                                                    }
                                                                                    audioRecoder = audioRecoder2;
                                                                                    mediaCodec2 = mediaCodec7;
                                                                                    i18 = i37;
                                                                                    i79 = i19;
                                                                                    mediaCodec = mediaCodec9;
                                                                                    i7 = i20;
                                                                                    i4 = i96;
                                                                                    bufferInfo = bufferInfo4;
                                                                                    str3 = str6;
                                                                                    i2 = i97;
                                                                                    z9 = false;
                                                                                    z2 = false;
                                                                                } catch (Exception e85) {
                                                                                    e = e85;
                                                                                    mediaCodecVideoConvertor = this;
                                                                                    exc = e;
                                                                                    mediaCodec = mediaCodec8;
                                                                                    i19 = i34;
                                                                                    i18 = i37;
                                                                                    inputSurface3 = inputSurface9;
                                                                                    i20 = i56;
                                                                                    i4 = i96;
                                                                                    bufferInfo = bufferInfo4;
                                                                                    i2 = i97;
                                                                                    i21 = -5;
                                                                                    mediaCodec7 = null;
                                                                                    audioRecoder = null;
                                                                                    if (exc instanceof IllegalStateException) {
                                                                                    }
                                                                                    z2 = false;
                                                                                    StringBuilder sb5222222222222222222222222222222222222222 = new StringBuilder();
                                                                                    sb5222222222222222222222222222222222222222.append("bitrate: ");
                                                                                    sb5222222222222222222222222222222222222222.append(i4);
                                                                                    sb5222222222222222222222222222222222222222.append(" framerate: ");
                                                                                    sb5222222222222222222222222222222222222222.append(i2);
                                                                                    sb5222222222222222222222222222222222222222.append(" size: ");
                                                                                    i7 = i20;
                                                                                    sb5222222222222222222222222222222222222222.append(i7);
                                                                                    str3 = str6;
                                                                                    sb5222222222222222222222222222222222222222.append(str3);
                                                                                    i79 = i19;
                                                                                    sb5222222222222222222222222222222222222222.append(i79);
                                                                                    FileLog.e(sb5222222222222222222222222222222222222222.toString());
                                                                                    FileLog.e(exc);
                                                                                    i14 = i21;
                                                                                    mediaCodec2 = mediaCodec7;
                                                                                    z9 = true;
                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                                    if (mediaCodec2 != null) {
                                                                                    }
                                                                                    i13 = i4;
                                                                                    z4 = z2;
                                                                                    z8 = z9;
                                                                                    mediaCodec3 = mediaCodec2;
                                                                                    outputSurface2 = outputSurface;
                                                                                    if (outputSurface2 != null) {
                                                                                    }
                                                                                    if (inputSurface3 != null) {
                                                                                    }
                                                                                    if (mediaCodec == null) {
                                                                                    }
                                                                                    if (audioRecoder != null) {
                                                                                    }
                                                                                    checkConversionCanceled();
                                                                                    outputSurface3 = outputSurface2;
                                                                                    inputSurface4 = inputSurface3;
                                                                                    i6 = i13;
                                                                                    i15 = i14;
                                                                                    mediaCodec5 = mediaCodec4;
                                                                                    mediaCodec6 = mediaCodec3;
                                                                                    z5 = z8;
                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                    if (mediaExtractor2 != null) {
                                                                                    }
                                                                                    muxer2 = mediaCodecVideoConvertor.muxer;
                                                                                    if (muxer2 != null) {
                                                                                    }
                                                                                    if (mediaCodec5 != null) {
                                                                                    }
                                                                                    if (mediaCodec6 != null) {
                                                                                    }
                                                                                    if (outputSurface3 != null) {
                                                                                    }
                                                                                    if (inputSurface4 != null) {
                                                                                    }
                                                                                    str5 = str4;
                                                                                    if (z4) {
                                                                                    }
                                                                                } catch (Throwable th90) {
                                                                                    th = th90;
                                                                                    mediaCodecVideoConvertor = this;
                                                                                    th = th;
                                                                                    mediaCodec = mediaCodec8;
                                                                                    i79 = i34;
                                                                                    inputSurface3 = inputSurface9;
                                                                                    i3 = i56;
                                                                                    i4 = i96;
                                                                                    bufferInfo = bufferInfo4;
                                                                                    str3 = str6;
                                                                                    i2 = i97;
                                                                                    mediaCodec2 = null;
                                                                                    i5 = -5;
                                                                                    z2 = false;
                                                                                    inputSurface = inputSurface3;
                                                                                    FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                    FileLog.e(th);
                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                    if (mediaExtractor != null) {
                                                                                    }
                                                                                    muxer = mediaCodecVideoConvertor.muxer;
                                                                                    if (muxer != null) {
                                                                                    }
                                                                                    if (mediaCodec != null) {
                                                                                    }
                                                                                    if (mediaCodec2 != null) {
                                                                                    }
                                                                                    if (outputSurface != null) {
                                                                                    }
                                                                                    if (inputSurface != null) {
                                                                                    }
                                                                                    i6 = i4;
                                                                                    i7 = i3;
                                                                                    str5 = str4;
                                                                                    z4 = z2;
                                                                                    z5 = true;
                                                                                    if (z4) {
                                                                                    }
                                                                                }
                                                                            } catch (Exception e86) {
                                                                                e = e86;
                                                                                inputSurface9 = inputSurface28;
                                                                            } catch (Throwable th91) {
                                                                                th = th91;
                                                                                inputSurface9 = inputSurface28;
                                                                                mediaCodecVideoConvertor = this;
                                                                                th = th;
                                                                                mediaCodec = mediaCodec8;
                                                                                i79 = i34;
                                                                                inputSurface3 = inputSurface9;
                                                                                i3 = i56;
                                                                                i4 = i96;
                                                                                bufferInfo = bufferInfo4;
                                                                                str3 = str6;
                                                                                i2 = i97;
                                                                                mediaCodec2 = null;
                                                                                i5 = -5;
                                                                                z2 = false;
                                                                                inputSurface = inputSurface3;
                                                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                                FileLog.e(th);
                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                if (mediaExtractor != null) {
                                                                                }
                                                                                muxer = mediaCodecVideoConvertor.muxer;
                                                                                if (muxer != null) {
                                                                                }
                                                                                if (mediaCodec != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (outputSurface != null) {
                                                                                }
                                                                                if (inputSurface != null) {
                                                                                }
                                                                                i6 = i4;
                                                                                i7 = i3;
                                                                                str5 = str4;
                                                                                z4 = z2;
                                                                                z5 = true;
                                                                                if (z4) {
                                                                                }
                                                                            }
                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                            if (mediaCodec2 != null) {
                                                                                mediaCodec2.stop();
                                                                                mediaCodec2.release();
                                                                            }
                                                                            i13 = i4;
                                                                            z4 = z2;
                                                                            z8 = z9;
                                                                            mediaCodec3 = mediaCodec2;
                                                                            outputSurface2 = outputSurface;
                                                                        }
                                                                    }
                                                                    mediaCodec8 = createByCodecName;
                                                                    i34 = i79;
                                                                    str4 = name2;
                                                                    i35 = i26;
                                                                    obj = "video/hevc";
                                                                    z12 = z6;
                                                                    str9 = str7;
                                                                    mediaFormat2 = mediaFormat3;
                                                                    j6 = j21;
                                                                    j7 = j5;
                                                                    i36 = i11;
                                                                    str10 = "mime";
                                                                    i37 = i28;
                                                                    i38 = i33;
                                                                    j8 = j4;
                                                                    if (z46) {
                                                                        int i105 = i94;
                                                                        try {
                                                                            int i106 = ((Math.max(i105, i105) / Math.max(i78, i77)) > 0.9f ? 1 : ((Math.max(i105, i105) / Math.max(i78, i77)) == 0.9f ? 0 : -1));
                                                                            i39 = i105;
                                                                            if (i106 < 0) {
                                                                                outputSurface.changeFragmentShader(createFragmentShader(i77, i78, i34, i105, true, z48 ? 0 : 3), createFragmentShader(i77, i78, i34, i105, false, z48 ? 0 : 3), false);
                                                                                i39 = i105;
                                                                            }
                                                                        } catch (Exception e87) {
                                                                            mediaCodecVideoConvertor = this;
                                                                            exc = e87;
                                                                            i20 = i105;
                                                                            i19 = i34;
                                                                            i18 = i37;
                                                                            inputSurface3 = inputSurface28;
                                                                            bufferInfo = bufferInfo4;
                                                                            i2 = i97;
                                                                            i21 = -5;
                                                                            mediaCodec7 = null;
                                                                            audioRecoder = null;
                                                                            mediaCodec = mediaCodec8;
                                                                            i4 = i96;
                                                                            if (exc instanceof IllegalStateException) {
                                                                            }
                                                                            z2 = false;
                                                                            StringBuilder sb52222222222222222222222222222222222222222 = new StringBuilder();
                                                                            sb52222222222222222222222222222222222222222.append("bitrate: ");
                                                                            sb52222222222222222222222222222222222222222.append(i4);
                                                                            sb52222222222222222222222222222222222222222.append(" framerate: ");
                                                                            sb52222222222222222222222222222222222222222.append(i2);
                                                                            sb52222222222222222222222222222222222222222.append(" size: ");
                                                                            i7 = i20;
                                                                            sb52222222222222222222222222222222222222222.append(i7);
                                                                            str3 = str6;
                                                                            sb52222222222222222222222222222222222222222.append(str3);
                                                                            i79 = i19;
                                                                            sb52222222222222222222222222222222222222222.append(i79);
                                                                            FileLog.e(sb52222222222222222222222222222222222222222.toString());
                                                                            FileLog.e(exc);
                                                                            i14 = i21;
                                                                            mediaCodec2 = mediaCodec7;
                                                                            z9 = true;
                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            i13 = i4;
                                                                            z4 = z2;
                                                                            z8 = z9;
                                                                            mediaCodec3 = mediaCodec2;
                                                                            outputSurface2 = outputSurface;
                                                                            if (outputSurface2 != null) {
                                                                            }
                                                                            if (inputSurface3 != null) {
                                                                            }
                                                                            if (mediaCodec == null) {
                                                                            }
                                                                            if (audioRecoder != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            outputSurface3 = outputSurface2;
                                                                            inputSurface4 = inputSurface3;
                                                                            i6 = i13;
                                                                            i15 = i14;
                                                                            mediaCodec5 = mediaCodec4;
                                                                            mediaCodec6 = mediaCodec3;
                                                                            z5 = z8;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            muxer2 = mediaCodecVideoConvertor.muxer;
                                                                            if (muxer2 != null) {
                                                                            }
                                                                            if (mediaCodec5 != null) {
                                                                            }
                                                                            if (mediaCodec6 != null) {
                                                                            }
                                                                            if (outputSurface3 != null) {
                                                                            }
                                                                            if (inputSurface4 != null) {
                                                                            }
                                                                            str5 = str4;
                                                                            if (z4) {
                                                                            }
                                                                        } catch (Throwable th92) {
                                                                            mediaCodecVideoConvertor = this;
                                                                            th = th92;
                                                                            i3 = i105;
                                                                            i79 = i34;
                                                                            inputSurface3 = inputSurface28;
                                                                            bufferInfo = bufferInfo4;
                                                                            str3 = str6;
                                                                            i2 = i97;
                                                                            mediaCodec2 = null;
                                                                            i5 = -5;
                                                                            z2 = false;
                                                                            mediaCodec = mediaCodec8;
                                                                            inputSurface5 = inputSurface3;
                                                                            i4 = i96;
                                                                            inputSurface = inputSurface5;
                                                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            muxer = mediaCodecVideoConvertor.muxer;
                                                                            if (muxer != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            i6 = i4;
                                                                            i7 = i3;
                                                                            str5 = str4;
                                                                            z4 = z2;
                                                                            z5 = true;
                                                                            if (z4) {
                                                                            }
                                                                        }
                                                                    } else {
                                                                        i39 = i94;
                                                                    }
                                                                    mediaCodecVideoConvertor = this;
                                                                    inputSurface3 = inputSurface28;
                                                                    r3 = i39;
                                                                    MediaFormat mediaFormat42 = mediaFormat2;
                                                                    mediaCodec7 = mediaCodecVideoConvertor.getDecoderByFormat(mediaFormat42);
                                                                    mediaCodec7.configure(mediaFormat42, outputSurface.getSurface(), (MediaCrypto) null, 0);
                                                                    mediaCodec7.start();
                                                                    if (i29 < 21) {
                                                                    }
                                                                    if (z12) {
                                                                    }
                                                                    if (i36 >= 0) {
                                                                    }
                                                                    if (audioRecoder2 == null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    ByteBuffer[] byteBufferArr42 = byteBufferArr;
                                                                    j10 = -2147483648L;
                                                                    ByteBuffer byteBuffer92 = byteBuffer;
                                                                    long j292 = -1;
                                                                    long j302 = -1;
                                                                    z16 = false;
                                                                    int i992 = 0;
                                                                    z17 = false;
                                                                    boolean z542 = true;
                                                                    i14 = -5;
                                                                    long j312 = 0;
                                                                    long j322 = 0;
                                                                    z18 = z53;
                                                                    i43 = i42;
                                                                    outputSurface4 = null;
                                                                    loop3: while (true) {
                                                                        if (outputSurface4 != null) {
                                                                        }
                                                                        checkConversionCanceled();
                                                                        if (audioRecoder2 != null) {
                                                                        }
                                                                        if (z17) {
                                                                        }
                                                                        z22 = !z16;
                                                                        i47 = i43;
                                                                        i48 = i14;
                                                                        outputSurface4 = outputSurface5;
                                                                        j11 = j10;
                                                                        z23 = true;
                                                                        while (true) {
                                                                            if (!z22) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            boolean z552 = z23;
                                                                            z24 = z;
                                                                            if (z24) {
                                                                            }
                                                                            dequeueOutputBuffer = mediaCodec.dequeueOutputBuffer(bufferInfo, j12);
                                                                            if (dequeueOutputBuffer == -1) {
                                                                            }
                                                                            if (dequeueOutputBuffer != i52) {
                                                                            }
                                                                        }
                                                                        i14 = i48;
                                                                        j10 = j11;
                                                                        z18 = z20;
                                                                        i36 = i46;
                                                                        inputBuffers = byteBufferArr2;
                                                                        i41 = i45;
                                                                        i43 = i47;
                                                                        z15 = z21;
                                                                        bufferInfo4 = bufferInfo;
                                                                        audioRecoder2 = audioRecoder;
                                                                        inputSurface3 = inputSurface6;
                                                                    }
                                                                    audioRecoder = audioRecoder2;
                                                                    mediaCodec2 = mediaCodec7;
                                                                    i18 = i37;
                                                                    i79 = i19;
                                                                    mediaCodec = mediaCodec9;
                                                                    i7 = i20;
                                                                    i4 = i96;
                                                                    bufferInfo = bufferInfo4;
                                                                    str3 = str6;
                                                                    i2 = i97;
                                                                    z9 = false;
                                                                    z2 = false;
                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    i13 = i4;
                                                                    z4 = z2;
                                                                    z8 = z9;
                                                                    mediaCodec3 = mediaCodec2;
                                                                    outputSurface2 = outputSurface;
                                                                } else {
                                                                    i31 = integer;
                                                                }
                                                            } else {
                                                                z10 = z44;
                                                                mediaFormat = trackFormat;
                                                                f = f3;
                                                                i30 = 0;
                                                                i31 = 0;
                                                                i32 = 0;
                                                            }
                                                            z11 = false;
                                                            MediaFormat mediaFormat32 = mediaFormat;
                                                            if (i29 >= 23) {
                                                            }
                                                            int i962 = i24;
                                                            String name22 = createByCodecName.getName();
                                                            z3 = "c2.qti.avc.encoder".equalsIgnoreCase(name22);
                                                            FileLog.d("selected encoder " + name22);
                                                            createByCodecName.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                            InputSurface inputSurface282 = new InputSurface(createByCodecName.createInputSurface());
                                                            inputSurface282.makeCurrent();
                                                            createByCodecName.start();
                                                            if (hDRInfo2 == null) {
                                                            }
                                                            hDRInfo = hDRInfo2;
                                                            ?? r262 = i81;
                                                            i20 = 0;
                                                            int i972 = i81;
                                                            i19 = i25;
                                                            outputSurface = new OutputSurface(savedFilterState, null, str20, str21, arrayList, cropState3, i79, i94, i77, i78, i19, r262, false, num, num2, hDRInfo, convertVideoParams);
                                                            if (i29 >= 24) {
                                                                if (hDRInfo.getHDRType() != 0) {
                                                                }
                                                            }
                                                            mediaCodec8 = createByCodecName;
                                                            i34 = i79;
                                                            str4 = name22;
                                                            i35 = i26;
                                                            obj = "video/hevc";
                                                            z12 = z6;
                                                            str9 = str7;
                                                            mediaFormat2 = mediaFormat32;
                                                            j6 = j21;
                                                            j7 = j5;
                                                            i36 = i11;
                                                            str10 = "mime";
                                                            i37 = i28;
                                                            i38 = i33;
                                                            j8 = j4;
                                                            if (z46) {
                                                            }
                                                            mediaCodecVideoConvertor = this;
                                                            inputSurface3 = inputSurface282;
                                                            r3 = i39;
                                                            MediaFormat mediaFormat422 = mediaFormat2;
                                                            mediaCodec7 = mediaCodecVideoConvertor.getDecoderByFormat(mediaFormat422);
                                                            mediaCodec7.configure(mediaFormat422, outputSurface.getSurface(), (MediaCrypto) null, 0);
                                                            mediaCodec7.start();
                                                            if (i29 < 21) {
                                                            }
                                                            if (z12) {
                                                            }
                                                            if (i36 >= 0) {
                                                            }
                                                            if (audioRecoder2 == null) {
                                                            }
                                                            checkConversionCanceled();
                                                            ByteBuffer[] byteBufferArr422 = byteBufferArr;
                                                            j10 = -2147483648L;
                                                            ByteBuffer byteBuffer922 = byteBuffer;
                                                            long j2922 = -1;
                                                            long j3022 = -1;
                                                            z16 = false;
                                                            int i9922 = 0;
                                                            z17 = false;
                                                            boolean z5422 = true;
                                                            i14 = -5;
                                                            long j3122 = 0;
                                                            long j3222 = 0;
                                                            z18 = z53;
                                                            i43 = i42;
                                                            outputSurface4 = null;
                                                            loop3: while (true) {
                                                                if (outputSurface4 != null) {
                                                                }
                                                                checkConversionCanceled();
                                                                if (audioRecoder2 != null) {
                                                                }
                                                                if (z17) {
                                                                }
                                                                z22 = !z16;
                                                                i47 = i43;
                                                                i48 = i14;
                                                                outputSurface4 = outputSurface5;
                                                                j11 = j10;
                                                                z23 = true;
                                                                while (true) {
                                                                    if (!z22) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    boolean z5522 = z23;
                                                                    z24 = z;
                                                                    if (z24) {
                                                                    }
                                                                    dequeueOutputBuffer = mediaCodec.dequeueOutputBuffer(bufferInfo, j12);
                                                                    if (dequeueOutputBuffer == -1) {
                                                                    }
                                                                    if (dequeueOutputBuffer != i52) {
                                                                    }
                                                                }
                                                                i14 = i48;
                                                                j10 = j11;
                                                                z18 = z20;
                                                                i36 = i46;
                                                                inputBuffers = byteBufferArr2;
                                                                i41 = i45;
                                                                i43 = i47;
                                                                z15 = z21;
                                                                bufferInfo4 = bufferInfo;
                                                                audioRecoder2 = audioRecoder;
                                                                inputSurface3 = inputSurface6;
                                                            }
                                                            audioRecoder = audioRecoder2;
                                                            mediaCodec2 = mediaCodec7;
                                                            i18 = i37;
                                                            i79 = i19;
                                                            mediaCodec = mediaCodec9;
                                                            i7 = i20;
                                                            i4 = i962;
                                                            bufferInfo = bufferInfo4;
                                                            str3 = str6;
                                                            i2 = i972;
                                                            z9 = false;
                                                            z2 = false;
                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            i13 = i4;
                                                            z4 = z2;
                                                            z8 = z9;
                                                            mediaCodec3 = mediaCodec2;
                                                            outputSurface2 = outputSurface;
                                                        }
                                                        createByCodecName = null;
                                                        if (createByCodecName == null) {
                                                        }
                                                        if (BuildVars.LOGS_ENABLED) {
                                                        }
                                                        createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i26, i27);
                                                        createVideoFormat.setInteger("color-format", 2130708361);
                                                        createVideoFormat.setInteger("bitrate", i24);
                                                        if (z49) {
                                                            createVideoFormat.setInteger("bitrate-mode", 2);
                                                        }
                                                        createVideoFormat.setInteger("max-bitrate", i24);
                                                        createVideoFormat.setInteger("frame-rate", i81);
                                                        createVideoFormat.setInteger("i-frame-interval", 1);
                                                        i29 = Build.VERSION.SDK_INT;
                                                        if (i29 >= 24) {
                                                        }
                                                        z11 = false;
                                                        MediaFormat mediaFormat322 = mediaFormat;
                                                        if (i29 >= 23) {
                                                        }
                                                        int i9622 = i24;
                                                        String name222 = createByCodecName.getName();
                                                        z3 = "c2.qti.avc.encoder".equalsIgnoreCase(name222);
                                                        FileLog.d("selected encoder " + name222);
                                                        createByCodecName.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                        InputSurface inputSurface2822 = new InputSurface(createByCodecName.createInputSurface());
                                                        inputSurface2822.makeCurrent();
                                                        createByCodecName.start();
                                                        if (hDRInfo2 == null) {
                                                        }
                                                        hDRInfo = hDRInfo2;
                                                        ?? r2622 = i81;
                                                        i20 = 0;
                                                        int i9722 = i81;
                                                        i19 = i25;
                                                        outputSurface = new OutputSurface(savedFilterState, null, str20, str21, arrayList, cropState3, i79, i94, i77, i78, i19, r2622, false, num, num2, hDRInfo, convertVideoParams);
                                                        if (i29 >= 24) {
                                                        }
                                                        mediaCodec8 = createByCodecName;
                                                        i34 = i79;
                                                        str4 = name222;
                                                        i35 = i26;
                                                        obj = "video/hevc";
                                                        z12 = z6;
                                                        str9 = str7;
                                                        mediaFormat2 = mediaFormat322;
                                                        j6 = j21;
                                                        j7 = j5;
                                                        i36 = i11;
                                                        str10 = "mime";
                                                        i37 = i28;
                                                        i38 = i33;
                                                        j8 = j4;
                                                        if (z46) {
                                                        }
                                                        mediaCodecVideoConvertor = this;
                                                        inputSurface3 = inputSurface2822;
                                                        r3 = i39;
                                                        MediaFormat mediaFormat4222 = mediaFormat2;
                                                        mediaCodec7 = mediaCodecVideoConvertor.getDecoderByFormat(mediaFormat4222);
                                                        mediaCodec7.configure(mediaFormat4222, outputSurface.getSurface(), (MediaCrypto) null, 0);
                                                        mediaCodec7.start();
                                                        if (i29 < 21) {
                                                        }
                                                        if (z12) {
                                                        }
                                                        if (i36 >= 0) {
                                                        }
                                                        if (audioRecoder2 == null) {
                                                        }
                                                        checkConversionCanceled();
                                                        ByteBuffer[] byteBufferArr4222 = byteBufferArr;
                                                        j10 = -2147483648L;
                                                        ByteBuffer byteBuffer9222 = byteBuffer;
                                                        long j29222 = -1;
                                                        long j30222 = -1;
                                                        z16 = false;
                                                        int i99222 = 0;
                                                        z17 = false;
                                                        boolean z54222 = true;
                                                        i14 = -5;
                                                        long j31222 = 0;
                                                        long j32222 = 0;
                                                        z18 = z53;
                                                        i43 = i42;
                                                        outputSurface4 = null;
                                                        loop3: while (true) {
                                                            if (outputSurface4 != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            if (audioRecoder2 != null) {
                                                            }
                                                            if (z17) {
                                                            }
                                                            z22 = !z16;
                                                            i47 = i43;
                                                            i48 = i14;
                                                            outputSurface4 = outputSurface5;
                                                            j11 = j10;
                                                            z23 = true;
                                                            while (true) {
                                                                if (!z22) {
                                                                }
                                                                checkConversionCanceled();
                                                                boolean z55222 = z23;
                                                                z24 = z;
                                                                if (z24) {
                                                                }
                                                                dequeueOutputBuffer = mediaCodec.dequeueOutputBuffer(bufferInfo, j12);
                                                                if (dequeueOutputBuffer == -1) {
                                                                }
                                                                if (dequeueOutputBuffer != i52) {
                                                                }
                                                            }
                                                            i14 = i48;
                                                            j10 = j11;
                                                            z18 = z20;
                                                            i36 = i46;
                                                            inputBuffers = byteBufferArr2;
                                                            i41 = i45;
                                                            i43 = i47;
                                                            z15 = z21;
                                                            bufferInfo4 = bufferInfo;
                                                            audioRecoder2 = audioRecoder;
                                                            inputSurface3 = inputSurface6;
                                                        }
                                                        audioRecoder = audioRecoder2;
                                                        mediaCodec2 = mediaCodec7;
                                                        i18 = i37;
                                                        i79 = i19;
                                                        mediaCodec = mediaCodec9;
                                                        i7 = i20;
                                                        i4 = i9622;
                                                        bufferInfo = bufferInfo4;
                                                        str3 = str6;
                                                        i2 = i9722;
                                                        z9 = false;
                                                        z2 = false;
                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                        if (mediaCodec2 != null) {
                                                        }
                                                        i13 = i4;
                                                        z4 = z2;
                                                        z8 = z9;
                                                        mediaCodec3 = mediaCodec2;
                                                        outputSurface2 = outputSurface;
                                                    }
                                                }
                                                mediaCodecVideoConvertor.extractor.unselectTrack(i18);
                                                if (mediaCodec2 != null) {
                                                }
                                                i13 = i4;
                                                z4 = z2;
                                                z8 = z9;
                                                mediaCodec3 = mediaCodec2;
                                                outputSurface2 = outputSurface;
                                            } catch (Throwable th93) {
                                                th = th93;
                                                i3 = i7;
                                                i5 = i14;
                                                inputSurface = inputSurface3;
                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                FileLog.e(th);
                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor != null) {
                                                }
                                                muxer = mediaCodecVideoConvertor.muxer;
                                                if (muxer != null) {
                                                }
                                                if (mediaCodec != null) {
                                                }
                                                if (mediaCodec2 != null) {
                                                }
                                                if (outputSurface != null) {
                                                }
                                                if (inputSurface != null) {
                                                }
                                                i6 = i4;
                                                i7 = i3;
                                                str5 = str4;
                                                z4 = z2;
                                                z5 = true;
                                                if (z4) {
                                                }
                                            }
                                            if (cropState3 == null) {
                                            }
                                            i25 = i76;
                                            i26 = i79;
                                            i27 = i94;
                                            if (str8 != null) {
                                            }
                                            createByCodecName = null;
                                            if (createByCodecName == null) {
                                            }
                                            if (BuildVars.LOGS_ENABLED) {
                                            }
                                            createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i26, i27);
                                            createVideoFormat.setInteger("color-format", 2130708361);
                                            createVideoFormat.setInteger("bitrate", i24);
                                            if (z49) {
                                            }
                                            createVideoFormat.setInteger("max-bitrate", i24);
                                            createVideoFormat.setInteger("frame-rate", i81);
                                            createVideoFormat.setInteger("i-frame-interval", 1);
                                            i29 = Build.VERSION.SDK_INT;
                                            if (i29 >= 24) {
                                            }
                                            z11 = false;
                                            MediaFormat mediaFormat3222 = mediaFormat;
                                            if (i29 >= 23) {
                                            }
                                            int i96222 = i24;
                                            String name2222 = createByCodecName.getName();
                                            z3 = "c2.qti.avc.encoder".equalsIgnoreCase(name2222);
                                            FileLog.d("selected encoder " + name2222);
                                            createByCodecName.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                            InputSurface inputSurface28222 = new InputSurface(createByCodecName.createInputSurface());
                                            inputSurface28222.makeCurrent();
                                            createByCodecName.start();
                                            if (hDRInfo2 == null) {
                                            }
                                            hDRInfo = hDRInfo2;
                                            ?? r26222 = i81;
                                            i20 = 0;
                                            int i97222 = i81;
                                            i19 = i25;
                                            outputSurface = new OutputSurface(savedFilterState, null, str20, str21, arrayList, cropState3, i79, i94, i77, i78, i19, r26222, false, num, num2, hDRInfo, convertVideoParams);
                                            if (i29 >= 24) {
                                            }
                                            mediaCodec8 = createByCodecName;
                                            i34 = i79;
                                            str4 = name2222;
                                            i35 = i26;
                                            obj = "video/hevc";
                                            z12 = z6;
                                            str9 = str7;
                                            mediaFormat2 = mediaFormat3222;
                                            j6 = j21;
                                            j7 = j5;
                                            i36 = i11;
                                            str10 = "mime";
                                            i37 = i28;
                                            i38 = i33;
                                            j8 = j4;
                                            if (z46) {
                                            }
                                            mediaCodecVideoConvertor = this;
                                            inputSurface3 = inputSurface28222;
                                            r3 = i39;
                                            MediaFormat mediaFormat42222 = mediaFormat2;
                                            mediaCodec7 = mediaCodecVideoConvertor.getDecoderByFormat(mediaFormat42222);
                                            mediaCodec7.configure(mediaFormat42222, outputSurface.getSurface(), (MediaCrypto) null, 0);
                                            mediaCodec7.start();
                                            if (i29 < 21) {
                                            }
                                            if (z12) {
                                            }
                                            if (i36 >= 0) {
                                            }
                                            if (audioRecoder2 == null) {
                                            }
                                            checkConversionCanceled();
                                            ByteBuffer[] byteBufferArr42222 = byteBufferArr;
                                            j10 = -2147483648L;
                                            ByteBuffer byteBuffer92222 = byteBuffer;
                                            long j292222 = -1;
                                            long j302222 = -1;
                                            z16 = false;
                                            int i992222 = 0;
                                            z17 = false;
                                            boolean z542222 = true;
                                            i14 = -5;
                                            long j312222 = 0;
                                            long j322222 = 0;
                                            z18 = z53;
                                            i43 = i42;
                                            outputSurface4 = null;
                                            loop3: while (true) {
                                                if (outputSurface4 != null) {
                                                }
                                                checkConversionCanceled();
                                                if (audioRecoder2 != null) {
                                                }
                                                if (z17) {
                                                }
                                                z22 = !z16;
                                                i47 = i43;
                                                i48 = i14;
                                                outputSurface4 = outputSurface5;
                                                j11 = j10;
                                                z23 = true;
                                                while (true) {
                                                    if (!z22) {
                                                    }
                                                    checkConversionCanceled();
                                                    boolean z552222 = z23;
                                                    z24 = z;
                                                    if (z24) {
                                                    }
                                                    dequeueOutputBuffer = mediaCodec.dequeueOutputBuffer(bufferInfo, j12);
                                                    if (dequeueOutputBuffer == -1) {
                                                    }
                                                    if (dequeueOutputBuffer != i52) {
                                                    }
                                                }
                                                i14 = i48;
                                                j10 = j11;
                                                z18 = z20;
                                                i36 = i46;
                                                inputBuffers = byteBufferArr2;
                                                i41 = i45;
                                                i43 = i47;
                                                z15 = z21;
                                                bufferInfo4 = bufferInfo;
                                                audioRecoder2 = audioRecoder;
                                                inputSurface3 = inputSurface6;
                                            }
                                            audioRecoder = audioRecoder2;
                                            mediaCodec2 = mediaCodec7;
                                            i18 = i37;
                                            i79 = i19;
                                            mediaCodec = mediaCodec9;
                                            i7 = i20;
                                            i4 = i96222;
                                            bufferInfo = bufferInfo4;
                                            str3 = str6;
                                            i2 = i97222;
                                            z9 = false;
                                            z2 = false;
                                        } else {
                                            mediaCodecVideoConvertor = this;
                                            i2 = i81;
                                            i79 = i79;
                                            i7 = i94;
                                            bufferInfo = bufferInfo4;
                                            str3 = str6;
                                            i13 = i82;
                                            z4 = false;
                                            mediaCodec = null;
                                            outputSurface2 = null;
                                            inputSurface3 = null;
                                            mediaCodec3 = null;
                                            str4 = null;
                                            i14 = -5;
                                            audioRecoder = null;
                                            z8 = false;
                                            z3 = false;
                                        }
                                        if (outputSurface2 != null) {
                                            try {
                                                outputSurface2.release();
                                                outputSurface2 = null;
                                            } catch (Throwable th94) {
                                                th2 = th94;
                                                z2 = z4;
                                                outputSurface = outputSurface2;
                                                mediaCodec2 = mediaCodec3;
                                                i4 = i13;
                                                i3 = i7;
                                                i5 = i14;
                                                th = th2;
                                                inputSurface = inputSurface3;
                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                FileLog.e(th);
                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor != null) {
                                                }
                                                muxer = mediaCodecVideoConvertor.muxer;
                                                if (muxer != null) {
                                                }
                                                if (mediaCodec != null) {
                                                }
                                                if (mediaCodec2 != null) {
                                                }
                                                if (outputSurface != null) {
                                                }
                                                if (inputSurface != null) {
                                                }
                                                i6 = i4;
                                                i7 = i3;
                                                str5 = str4;
                                                z4 = z2;
                                                z5 = true;
                                                if (z4) {
                                                }
                                            }
                                        }
                                        if (inputSurface3 != null) {
                                            inputSurface3.release();
                                            inputSurface3 = null;
                                        }
                                        if (mediaCodec == null) {
                                            mediaCodec.stop();
                                            mediaCodec.release();
                                            mediaCodec4 = null;
                                        } else {
                                            mediaCodec4 = mediaCodec;
                                        }
                                        if (audioRecoder != null) {
                                            try {
                                                audioRecoder.release();
                                            } catch (Throwable th95) {
                                                th2 = th95;
                                                z2 = z4;
                                                outputSurface = outputSurface2;
                                                mediaCodec2 = mediaCodec3;
                                                i4 = i13;
                                                i3 = i7;
                                                i5 = i14;
                                                mediaCodec = mediaCodec4;
                                                th = th2;
                                                inputSurface = inputSurface3;
                                                FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                                FileLog.e(th);
                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor != null) {
                                                }
                                                muxer = mediaCodecVideoConvertor.muxer;
                                                if (muxer != null) {
                                                }
                                                if (mediaCodec != null) {
                                                }
                                                if (mediaCodec2 != null) {
                                                }
                                                if (outputSurface != null) {
                                                }
                                                if (inputSurface != null) {
                                                }
                                                i6 = i4;
                                                i7 = i3;
                                                str5 = str4;
                                                z4 = z2;
                                                z5 = true;
                                                if (z4) {
                                                }
                                            }
                                        }
                                        checkConversionCanceled();
                                        outputSurface3 = outputSurface2;
                                        inputSurface4 = inputSurface3;
                                        i6 = i13;
                                        i15 = i14;
                                        mediaCodec5 = mediaCodec4;
                                        mediaCodec6 = mediaCodec3;
                                        z5 = z8;
                                    } else {
                                        try {
                                            Mp4Movie mp4Movie3 = new Mp4Movie();
                                            mp4Movie3.setCacheFile(file4);
                                            mp4Movie3.setRotation(0);
                                            mp4Movie3.setSize(i79, i80);
                                            Muxer muxer4 = new Muxer(new MP4Builder().createMovie(mp4Movie3, z44, false));
                                            this.muxer = muxer4;
                                            file = file3;
                                            file3 = file4;
                                            readAndWriteTracks(this.extractor, muxer4, bufferInfo3, r32, j19, j21, file3, (i82 == -1 || z47) ? false : true);
                                            mediaCodecVideoConvertor = this;
                                            i6 = i82;
                                            i79 = i79;
                                            i7 = i80;
                                            bufferInfo = bufferInfo3;
                                            mediaCodec5 = null;
                                            z4 = false;
                                            i15 = -5;
                                            z5 = false;
                                            outputSurface3 = null;
                                            str4 = null;
                                            mediaCodec6 = null;
                                            inputSurface4 = null;
                                            z3 = false;
                                        } catch (Throwable th96) {
                                            file = file3;
                                            th = th96;
                                            file3 = file4;
                                            str3 = str6;
                                            i2 = i81;
                                            mediaCodecVideoConvertor = this;
                                            i4 = i82;
                                            i3 = i80;
                                            bufferInfo = bufferInfo3;
                                            mediaCodec = null;
                                            mediaCodec2 = null;
                                            InputSurface inputSurface27222 = null;
                                            i5 = -5;
                                            outputSurface = null;
                                            str4 = null;
                                            z2 = false;
                                            z3 = false;
                                            inputSurface = inputSurface27222;
                                            FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                                            FileLog.e(th);
                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor != null) {
                                            }
                                            muxer = mediaCodecVideoConvertor.muxer;
                                            if (muxer != null) {
                                            }
                                            if (mediaCodec != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            i6 = i4;
                                            i7 = i3;
                                            str5 = str4;
                                            z4 = z2;
                                            z5 = true;
                                            if (z4) {
                                            }
                                        }
                                    }
                                }
                            } else {
                                i11 = i10;
                            }
                            if (file3 == null) {
                            }
                            long j272 = j19;
                            file = file3;
                            MediaCodec.BufferInfo bufferInfo42 = bufferInfo3;
                            file3 = file4;
                            int i942 = i80;
                            if (findTrack < 0) {
                            }
                            if (outputSurface2 != null) {
                            }
                            if (inputSurface3 != null) {
                            }
                            if (mediaCodec == null) {
                            }
                            if (audioRecoder != null) {
                            }
                            checkConversionCanceled();
                            outputSurface3 = outputSurface2;
                            inputSurface4 = inputSurface3;
                            i6 = i13;
                            i15 = i14;
                            mediaCodec5 = mediaCodec4;
                            mediaCodec6 = mediaCodec3;
                            z5 = z8;
                        } catch (Throwable th97) {
                            th = th97;
                            mediaCodecVideoConvertor = this;
                            i2 = i79;
                            i4 = r32;
                            i12 = j19;
                        }
                        z7 = false;
                    } catch (Throwable th98) {
                        th = th98;
                        i8 = i82;
                        i2 = i81;
                        mediaCodecVideoConvertor = this;
                        i9 = i80;
                        file = file3;
                        file3 = file4;
                        str3 = str6;
                        bufferInfo = bufferInfo3;
                        th = th;
                        i3 = i9;
                        i4 = i8;
                        mediaCodec = null;
                        mediaCodec2 = null;
                        InputSurface inputSurface272222 = null;
                        i5 = -5;
                        outputSurface = null;
                        str4 = null;
                        z2 = false;
                        z3 = false;
                        inputSurface = inputSurface272222;
                        FileLog.e("bitrate: " + i4 + " framerate: " + i2 + " size: " + i3 + str3 + i79);
                        FileLog.e(th);
                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor != null) {
                        }
                        muxer = mediaCodecVideoConvertor.muxer;
                        if (muxer != null) {
                        }
                        if (mediaCodec != null) {
                        }
                        if (mediaCodec2 != null) {
                        }
                        if (outputSurface != null) {
                        }
                        if (inputSurface != null) {
                        }
                        i6 = i4;
                        i7 = i3;
                        str5 = str4;
                        z4 = z2;
                        z5 = true;
                        if (z4) {
                        }
                    }
                } catch (Throwable th99) {
                    th = th99;
                    i8 = i82;
                    i2 = i81;
                    file = file3;
                    file3 = file4;
                    bufferInfo = bufferInfo3;
                    mediaCodecVideoConvertor = this;
                    i9 = i80;
                    str3 = str6;
                }
            }
            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
            if (mediaExtractor2 != null) {
                mediaExtractor2.release();
            }
            muxer2 = mediaCodecVideoConvertor.muxer;
            if (muxer2 != null) {
                try {
                    muxer2.finishMovie();
                    mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.muxer.getLastFrameTimestamp(i15, bufferInfo);
                } catch (Throwable th100) {
                    FileLog.e(th100);
                }
            }
            if (mediaCodec5 != null) {
                try {
                    mediaCodec5.release();
                } catch (Exception unused10) {
                }
            }
            if (mediaCodec6 != null) {
                try {
                    mediaCodec6.release();
                } catch (Exception unused11) {
                }
            }
            if (outputSurface3 != null) {
                try {
                    outputSurface3.release();
                } catch (Exception unused12) {
                }
            }
            if (inputSurface4 != null) {
                try {
                    inputSurface4.release();
                } catch (Exception unused13) {
                }
            }
            str5 = str4;
            if (z4) {
                if (z5 && z3 && i < 3) {
                    return mediaCodecVideoConvertor.convertVideoInternal(convertVideoParams, z, i + 1);
                }
                long currentTimeMillis2 = System.currentTimeMillis() - currentTimeMillis;
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("compression completed time=" + currentTimeMillis2 + " needCompress=" + file + " w=" + i79 + " h=" + i7 + " bitrate=" + i6 + " file size=" + AndroidUtilities.formatFileSize(file3.length()) + " encoder_name=" + str5);
                }
                return z5;
            }
            return mediaCodecVideoConvertor.convertVideoInternal(convertVideoParams, true, i + 1);
        } else {
            str = MediaController.VIDEO_MIME_TYPE;
        }
        str2 = str;
        this.outputMimeType = str2;
        long j222 = j20;
        float f32 = ((float) j21) / 1000.0f;
        MediaCodec.BufferInfo bufferInfo32 = new MediaCodec.BufferInfo();
        long j232 = j21 * 1000;
        this.endPresentationTime = j232;
        checkConversionCanceled();
        String str222 = "prepend-sps-pps-to-idr-frames";
        String str232 = "csd-0";
        if (!z45) {
        }
        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
        if (mediaExtractor2 != null) {
        }
        muxer2 = mediaCodecVideoConvertor.muxer;
        if (muxer2 != null) {
        }
        if (mediaCodec5 != null) {
        }
        if (mediaCodec6 != null) {
        }
        if (outputSurface3 != null) {
        }
        if (inputSurface4 != null) {
        }
        str5 = str4;
        if (z4) {
        }
    }

    private static void applyAudioInputs(ArrayList<MixedSoundInfo> arrayList, ArrayList<AudioInput> arrayList2) throws IOException {
        for (int i = 0; i < arrayList.size(); i++) {
            MixedSoundInfo mixedSoundInfo = arrayList.get(i);
            GeneralAudioInput generalAudioInput = new GeneralAudioInput(mixedSoundInfo.audioFile);
            generalAudioInput.setVolume(mixedSoundInfo.volume);
            long j = mixedSoundInfo.startTime;
            if (j > 0) {
                generalAudioInput.setStartOffsetUs(j);
            }
            long j2 = mixedSoundInfo.audioOffset;
            if (j2 > 0) {
                generalAudioInput.setStartTimeUs(j2);
            } else {
                j2 = 0;
            }
            long j3 = mixedSoundInfo.duration;
            if (j3 > 0) {
                generalAudioInput.setEndTimeUs(j2 + j3);
            }
            arrayList2.add(generalAudioInput);
        }
    }

    private MediaCodec createEncoderForMimeType() throws IOException {
        MediaCodec createEncoderByType;
        if (this.outputMimeType.equals("video/hevc") && Build.VERSION.SDK_INT >= 29) {
            String findGoodHevcEncoder = SharedConfig.findGoodHevcEncoder();
            createEncoderByType = findGoodHevcEncoder != null ? MediaCodec.createByCodecName(findGoodHevcEncoder) : null;
        } else {
            if (this.outputMimeType.equals("video/hevc")) {
                this.outputMimeType = MediaController.VIDEO_MIME_TYPE;
            }
            createEncoderByType = MediaCodec.createEncoderByType(this.outputMimeType);
        }
        if (createEncoderByType == null && this.outputMimeType.equals("video/hevc")) {
            this.outputMimeType = MediaController.VIDEO_MIME_TYPE;
            return MediaCodec.createEncoderByType(MediaController.VIDEO_MIME_TYPE);
        }
        return createEncoderByType;
    }

    public static void cutOfNalData(String str, ByteBuffer byteBuffer, MediaCodec.BufferInfo bufferInfo) {
        int i = str.equals("video/hevc") ? 3 : 1;
        if (bufferInfo.size > 100) {
            byteBuffer.position(bufferInfo.offset);
            byte[] bArr = new byte[100];
            byteBuffer.get(bArr);
            int i2 = 0;
            for (int i3 = 0; i3 < 96; i3++) {
                if (bArr[i3] == 0 && bArr[i3 + 1] == 0 && bArr[i3 + 2] == 0 && bArr[i3 + 3] == 1 && (i2 = i2 + 1) > i) {
                    bufferInfo.offset += i3;
                    bufferInfo.size -= i3;
                    return;
                }
            }
        }
    }

    private boolean isMediatekAvcEncoder(MediaCodec mediaCodec) {
        return mediaCodec.getName().equals("c2.mtk.avc.encoder");
    }

    /* loaded from: classes3.dex */
    public static class Muxer {
        public final MediaMuxer mediaMuxer;
        public final MP4Builder mp4Builder;
        private boolean started;

        public Muxer(MP4Builder mP4Builder) {
            this.started = false;
            this.mp4Builder = mP4Builder;
            this.mediaMuxer = null;
        }

        public Muxer(MediaMuxer mediaMuxer) {
            this.started = false;
            this.mp4Builder = null;
            this.mediaMuxer = mediaMuxer;
        }

        public int addTrack(MediaFormat mediaFormat, boolean z) {
            MediaMuxer mediaMuxer = this.mediaMuxer;
            if (mediaMuxer != null) {
                return mediaMuxer.addTrack(mediaFormat);
            }
            MP4Builder mP4Builder = this.mp4Builder;
            if (mP4Builder != null) {
                return mP4Builder.addTrack(mediaFormat, z);
            }
            return 0;
        }

        public long writeSampleData(int i, ByteBuffer byteBuffer, MediaCodec.BufferInfo bufferInfo, boolean z) throws Exception {
            MediaMuxer mediaMuxer = this.mediaMuxer;
            if (mediaMuxer != null) {
                if (!this.started) {
                    mediaMuxer.start();
                    this.started = true;
                }
                this.mediaMuxer.writeSampleData(i, byteBuffer, bufferInfo);
                return 0L;
            }
            MP4Builder mP4Builder = this.mp4Builder;
            if (mP4Builder != null) {
                return mP4Builder.writeSampleData(i, byteBuffer, bufferInfo, z);
            }
            return 0L;
        }

        public long getLastFrameTimestamp(int i, MediaCodec.BufferInfo bufferInfo) {
            if (this.mediaMuxer != null) {
                return bufferInfo.presentationTimeUs;
            }
            MP4Builder mP4Builder = this.mp4Builder;
            if (mP4Builder != null) {
                return mP4Builder.getLastFrameTimestamp(i);
            }
            return 0L;
        }

        public void start() {
            MediaMuxer mediaMuxer = this.mediaMuxer;
            if (mediaMuxer != null) {
                mediaMuxer.start();
            }
        }

        public void finishMovie() throws Exception {
            MediaMuxer mediaMuxer = this.mediaMuxer;
            if (mediaMuxer != null) {
                mediaMuxer.stop();
                this.mediaMuxer.release();
                return;
            }
            MP4Builder mP4Builder = this.mp4Builder;
            if (mP4Builder != null) {
                mP4Builder.finishMovie();
            }
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:73:0x0123, code lost:
        if (r9[r6 + 3] != 1) goto L62;
     */
    /* JADX WARN: Removed duplicated region for block: B:119:0x01d0  */
    /* JADX WARN: Removed duplicated region for block: B:121:0x01d5  */
    /* JADX WARN: Removed duplicated region for block: B:126:0x01ec  */
    /* JADX WARN: Removed duplicated region for block: B:127:0x01ee  */
    /* JADX WARN: Removed duplicated region for block: B:57:0x00df  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private long readAndWriteTracks(MediaExtractor mediaExtractor, Muxer muxer, MediaCodec.BufferInfo bufferInfo, long j, long j2, long j3, File file, boolean z) throws Exception {
        long j4;
        int i;
        int i2;
        int i3;
        int i4;
        int i5;
        int i6;
        int i7;
        int i8;
        int i9;
        boolean z2;
        int i10;
        int i11;
        boolean z3;
        long j5;
        byte[] array;
        int i12;
        int i13;
        long sampleSize;
        int i14;
        int findTrack = MediaController.findTrack(mediaExtractor, false);
        if (z) {
            j4 = j3;
            i = MediaController.findTrack(mediaExtractor, true);
        } else {
            j4 = j3;
            i = -1;
        }
        float f = ((float) j4) / 1000.0f;
        if (findTrack >= 0) {
            mediaExtractor.selectTrack(findTrack);
            MediaFormat trackFormat = mediaExtractor.getTrackFormat(findTrack);
            i3 = muxer.addTrack(trackFormat, false);
            try {
                i14 = trackFormat.getInteger("max-input-size");
            } catch (Exception e) {
                FileLog.e(e);
                i14 = 0;
            }
            if (j > 0) {
                mediaExtractor.seekTo(j, 0);
            } else {
                mediaExtractor.seekTo(0L, 0);
            }
            i2 = i14;
        } else {
            i2 = 0;
            i3 = -1;
        }
        if (i >= 0) {
            mediaExtractor.selectTrack(i);
            MediaFormat trackFormat2 = mediaExtractor.getTrackFormat(i);
            if (trackFormat2.getString("mime").equals("audio/unknown")) {
                i4 = -1;
                i = -1;
            } else {
                i4 = muxer.addTrack(trackFormat2, true);
                try {
                    i2 = Math.max(trackFormat2.getInteger("max-input-size"), i2);
                } catch (Exception e2) {
                    FileLog.e(e2);
                }
                if (j > 0) {
                    mediaExtractor.seekTo(j, 0);
                } else {
                    mediaExtractor.seekTo(0L, 0);
                }
            }
        } else {
            i4 = -1;
        }
        if (i2 <= 0) {
            i2 = 65536;
        }
        ByteBuffer allocateDirect = ByteBuffer.allocateDirect(i2);
        if (i >= 0 || findTrack >= 0) {
            checkConversionCanceled();
            long j6 = 0;
            long j7 = -1;
            boolean z4 = false;
            while (!z4) {
                checkConversionCanceled();
                int i15 = Build.VERSION.SDK_INT;
                if (i15 >= 28) {
                    sampleSize = mediaExtractor.getSampleSize();
                    i5 = i;
                    if (sampleSize > i2) {
                        int i16 = (int) (sampleSize + 1024);
                        i2 = i16;
                        allocateDirect = ByteBuffer.allocateDirect(i16);
                    }
                } else {
                    i5 = i;
                }
                bufferInfo.size = mediaExtractor.readSampleData(allocateDirect, 0);
                int sampleTrackIndex = mediaExtractor.getSampleTrackIndex();
                if (sampleTrackIndex == findTrack) {
                    i6 = i5;
                    i8 = i3;
                } else {
                    i6 = i5;
                    if (sampleTrackIndex == i6) {
                        i8 = i4;
                    } else {
                        i7 = -1;
                        i8 = -1;
                        if (i8 == i7) {
                            if (i15 < 21) {
                                allocateDirect.position(0);
                                allocateDirect.limit(bufferInfo.size);
                            }
                            if (sampleTrackIndex != i6 && (array = allocateDirect.array()) != null) {
                                int arrayOffset = allocateDirect.arrayOffset();
                                int limit = arrayOffset + allocateDirect.limit();
                                i9 = i4;
                                int i17 = arrayOffset;
                                int i18 = -1;
                                while (true) {
                                    z2 = z4;
                                    int i19 = limit - 4;
                                    if (i17 > i19) {
                                        break;
                                    }
                                    if (array[i17] == 0 && array[i17 + 1] == 0 && array[i17 + 2] == 0) {
                                        i12 = i2;
                                        i13 = i6;
                                    } else {
                                        i12 = i2;
                                        i13 = i6;
                                    }
                                    if (i17 != i19) {
                                        i17++;
                                        z4 = z2;
                                        i6 = i13;
                                        i2 = i12;
                                    }
                                    if (i18 != -1) {
                                        int i20 = (i17 - i18) - (i17 == i19 ? 0 : 4);
                                        array[i18] = (byte) (i20 >> 24);
                                        array[i18 + 1] = (byte) (i20 >> 16);
                                        array[i18 + 2] = (byte) (i20 >> 8);
                                        array[i18 + 3] = (byte) i20;
                                    }
                                    i18 = i17;
                                    i17++;
                                    z4 = z2;
                                    i6 = i13;
                                    i2 = i12;
                                }
                            } else {
                                i9 = i4;
                                z2 = z4;
                            }
                            i10 = i2;
                            i11 = i6;
                            if (bufferInfo.size >= 0) {
                                bufferInfo.presentationTimeUs = mediaExtractor.getSampleTime();
                                z3 = false;
                            } else {
                                bufferInfo.size = 0;
                                z3 = true;
                            }
                            if (bufferInfo.size > 0 && !z3) {
                                if (sampleTrackIndex == findTrack) {
                                    j5 = 0;
                                    if (j > 0 && j7 == -1) {
                                        j7 = bufferInfo.presentationTimeUs;
                                    }
                                } else {
                                    j5 = 0;
                                }
                                if (j2 < j5 || bufferInfo.presentationTimeUs < j2) {
                                    bufferInfo.offset = 0;
                                    bufferInfo.flags = mediaExtractor.getSampleFlags();
                                    long writeSampleData = muxer.writeSampleData(i8, allocateDirect, bufferInfo, false);
                                    if (writeSampleData != 0) {
                                        MediaController.VideoConvertorListener videoConvertorListener = this.callback;
                                        if (videoConvertorListener != null) {
                                            long j8 = bufferInfo.presentationTimeUs;
                                            long j9 = j8 - j7 > j6 ? j8 - j7 : j6;
                                            videoConvertorListener.didWriteData(writeSampleData, (((float) j9) / 1000.0f) / f);
                                            j6 = j9;
                                            if (!z3) {
                                                mediaExtractor.advance();
                                            }
                                        }
                                        if (!z3) {
                                        }
                                    }
                                } else {
                                    z3 = true;
                                }
                            }
                            if (!z3) {
                            }
                        } else {
                            i9 = i4;
                            z2 = z4;
                            i10 = i2;
                            i11 = i6;
                            if (sampleTrackIndex == -1) {
                                z3 = true;
                            } else {
                                mediaExtractor.advance();
                                z3 = false;
                            }
                        }
                        z4 = !z3 ? true : z2;
                        i4 = i9;
                        i = i11;
                        i2 = i10;
                    }
                }
                i7 = -1;
                if (i8 == i7) {
                }
                if (!z3) {
                }
                i4 = i9;
                i = i11;
                i2 = i10;
            }
            int i21 = i;
            if (findTrack >= 0) {
                mediaExtractor.unselectTrack(findTrack);
            }
            if (i21 >= 0) {
                mediaExtractor.unselectTrack(i21);
            }
            return j7;
        }
        return -1L;
    }

    private void checkConversionCanceled() {
        MediaController.VideoConvertorListener videoConvertorListener = this.callback;
        if (videoConvertorListener != null && videoConvertorListener.checkConversionCanceled()) {
            throw new ConversionCanceledException();
        }
    }

    private static String hdrFragmentShader(int i, int i2, int i3, int i4, boolean z, StoryEntry.HDRInfo hDRInfo) {
        String readRes;
        if (z) {
            if (hDRInfo.getHDRType() == 1) {
                readRes = RLottieDrawable.readRes(null, R.raw.hdr2sdr_hlg);
            } else {
                readRes = RLottieDrawable.readRes(null, R.raw.hdr2sdr_pq);
            }
            String replace = readRes.replace("$dstWidth", i3 + ".0");
            String replace2 = replace.replace("$dstHeight", i4 + ".0");
            return replace2 + "\nvarying vec2 vTextureCoord;\nvoid main() {\n    gl_FragColor = TEX(vTextureCoord);\n}";
        }
        return "precision mediump float;\nvarying vec2 vTextureCoord;\nuniform sampler2D sTexture;\nvoid main() {\n    gl_FragColor = texture2D(sTexture, vTextureCoord);\n}\n";
    }

    private static String createFragmentShader(int i, int i2, int i3, int i4, boolean z, int i5) {
        int clamp = (int) Utilities.clamp((Math.max(i, i2) / Math.max(i4, i3)) * 0.8f, 2.0f, 1.0f);
        if (clamp > 1 && SharedConfig.deviceIsAverage()) {
            clamp = 1;
        }
        int min = Math.min(i5, clamp);
        FileLog.d("source size " + i + "x" + i2 + "    dest size " + i3 + i4 + "   kernelRadius " + min);
        if (z) {
            return "#extension GL_OES_EGL_image_external : require\nprecision mediump float;\nvarying vec2 vTextureCoord;\nconst float kernel = " + min + ".0;\nconst float pixelSizeX = 1.0 / " + i + ".0;\nconst float pixelSizeY = 1.0 / " + i2 + ".0;\nuniform samplerExternalOES sTexture;\nvoid main() {\nvec3 accumulation = vec3(0);\nvec3 weightsum = vec3(0);\nfor (float x = -kernel; x <= kernel; x++){\n   for (float y = -kernel; y <= kernel; y++){\n       accumulation += texture2D(sTexture, vTextureCoord + vec2(x * pixelSizeX, y * pixelSizeY)).xyz;\n       weightsum += 1.0;\n   }\n}\ngl_FragColor = vec4(accumulation / weightsum, 1.0);\n}\n";
        }
        return "precision mediump float;\nvarying vec2 vTextureCoord;\nconst float kernel = " + min + ".0;\nconst float pixelSizeX = 1.0 / " + i2 + ".0;\nconst float pixelSizeY = 1.0 / " + i + ".0;\nuniform sampler2D sTexture;\nvoid main() {\nvec3 accumulation = vec3(0);\nvec3 weightsum = vec3(0);\nfor (float x = -kernel; x <= kernel; x++){\n   for (float y = -kernel; y <= kernel; y++){\n       accumulation += texture2D(sTexture, vTextureCoord + vec2(x * pixelSizeX, y * pixelSizeY)).xyz;\n       weightsum += 1.0;\n   }\n}\ngl_FragColor = vec4(accumulation / weightsum, 1.0);\n}\n";
    }

    /* loaded from: classes3.dex */
    public class ConversionCanceledException extends RuntimeException {
        public ConversionCanceledException() {
            super("canceled conversion");
        }
    }

    private MediaCodec getDecoderByFormat(MediaFormat mediaFormat) {
        if (mediaFormat == null) {
            throw new RuntimeException("getDecoderByFormat: format is null");
        }
        ArrayList arrayList = new ArrayList();
        String string = mediaFormat.getString("mime");
        arrayList.add(string);
        if ("video/dolby-vision".equals(string)) {
            arrayList.add("video/hevc");
            arrayList.add(MediaController.VIDEO_MIME_TYPE);
        }
        Exception exc = null;
        while (!arrayList.isEmpty()) {
            try {
                String str = (String) arrayList.remove(0);
                mediaFormat.setString("mime", str);
                return MediaCodec.createDecoderByType(str);
            } catch (Exception e) {
                if (exc == null) {
                    exc = e;
                }
            }
        }
        throw new RuntimeException(exc);
    }

    /* loaded from: classes3.dex */
    public static class ConvertVideoParams {
        int account;
        long avatarStartTime;
        String backgroundPath;
        int bitrate;
        String blurPath;
        File cacheFile;
        MediaController.VideoConvertorListener callback;
        MediaController.CropState cropState;
        long duration;
        long endTime;
        int framerate;
        Integer gradientBottomColor;
        Integer gradientTopColor;
        StoryEntry.HDRInfo hdrInfo;
        boolean isDark;
        boolean isPhoto;
        boolean isRound;
        boolean isSecret;
        boolean isSticker;
        boolean isStory;
        ArrayList<VideoEditedInfo.MediaEntity> mediaEntities;
        String messagePath;
        String messageVideoMaskPath;
        boolean muted;
        boolean needCompress;
        int originalBitrate;
        int originalHeight;
        int originalWidth;
        String paintPath;
        int resultHeight;
        int resultWidth;
        int rotationValue;
        MediaController.SavedFilterState savedFilterState;
        public ArrayList<MixedSoundInfo> soundInfos = new ArrayList<>();
        long startTime;
        String videoPath;
        float volume;
        long wallpaperPeerId;

        private ConvertVideoParams() {
        }

        public static ConvertVideoParams of(String str, File file, int i, boolean z, int i2, int i3, int i4, int i5, int i6, int i7, int i8, long j, long j2, long j3, boolean z2, long j4, MediaController.VideoConvertorListener videoConvertorListener, VideoEditedInfo videoEditedInfo) {
            ConvertVideoParams convertVideoParams = new ConvertVideoParams();
            convertVideoParams.videoPath = str;
            convertVideoParams.cacheFile = file;
            convertVideoParams.rotationValue = i;
            convertVideoParams.isSecret = z;
            convertVideoParams.originalWidth = i2;
            convertVideoParams.originalHeight = i3;
            convertVideoParams.resultWidth = i4;
            convertVideoParams.resultHeight = i5;
            convertVideoParams.framerate = i6;
            convertVideoParams.bitrate = i7;
            convertVideoParams.originalBitrate = i8;
            convertVideoParams.startTime = j;
            convertVideoParams.endTime = j2;
            convertVideoParams.avatarStartTime = j3;
            convertVideoParams.needCompress = z2;
            convertVideoParams.duration = j4;
            convertVideoParams.savedFilterState = videoEditedInfo.filterState;
            convertVideoParams.paintPath = videoEditedInfo.paintPath;
            convertVideoParams.blurPath = videoEditedInfo.blurPath;
            convertVideoParams.mediaEntities = videoEditedInfo.mediaEntities;
            convertVideoParams.isPhoto = videoEditedInfo.isPhoto;
            convertVideoParams.cropState = videoEditedInfo.cropState;
            convertVideoParams.isRound = videoEditedInfo.roundVideo;
            convertVideoParams.callback = videoConvertorListener;
            convertVideoParams.gradientTopColor = videoEditedInfo.gradientTopColor;
            convertVideoParams.gradientBottomColor = videoEditedInfo.gradientBottomColor;
            convertVideoParams.muted = videoEditedInfo.muted;
            convertVideoParams.volume = videoEditedInfo.volume;
            convertVideoParams.isStory = videoEditedInfo.isStory;
            convertVideoParams.hdrInfo = videoEditedInfo.hdrInfo;
            convertVideoParams.isDark = videoEditedInfo.isDark;
            convertVideoParams.wallpaperPeerId = videoEditedInfo.wallpaperPeerId;
            convertVideoParams.account = videoEditedInfo.account;
            convertVideoParams.messagePath = videoEditedInfo.messagePath;
            convertVideoParams.messageVideoMaskPath = videoEditedInfo.messageVideoMaskPath;
            convertVideoParams.backgroundPath = videoEditedInfo.backgroundPath;
            convertVideoParams.isSticker = videoEditedInfo.isSticker;
            return convertVideoParams;
        }
    }

    /* loaded from: classes3.dex */
    public static class MixedSoundInfo {
        final String audioFile;
        public long audioOffset;
        public long duration;
        public long startTime;
        public float volume = 1.0f;

        public MixedSoundInfo(String str) {
            this.audioFile = str;
        }
    }
}
