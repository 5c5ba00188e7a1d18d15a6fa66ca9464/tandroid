package org.telegram.messenger.video;

import android.annotation.TargetApi;
import android.media.MediaCodec;
import android.media.MediaCrypto;
import android.media.MediaExtractor;
import android.media.MediaFormat;
import android.os.Build;
import android.view.Surface;
import java.io.File;
import java.io.IOException;
import java.nio.ByteBuffer;
import java.util.ArrayList;
import org.telegram.messenger.AndroidUtilities;
import org.telegram.messenger.BuildVars;
import org.telegram.messenger.FileLog;
import org.telegram.messenger.MediaController;
import org.telegram.messenger.R;
import org.telegram.messenger.SharedConfig;
import org.telegram.messenger.Utilities;
import org.telegram.messenger.VideoEditedInfo;
import org.telegram.messenger.video.audio_input.AudioInput;
import org.telegram.messenger.video.audio_input.BlankAudioInput;
import org.telegram.messenger.video.audio_input.GeneralAudioInput;
import org.telegram.ui.Components.RLottieDrawable;
import org.telegram.ui.Stories.recorder.StoryEntry;
/* loaded from: classes.dex */
public class MediaCodecVideoConvertor {
    private static final int MEDIACODEC_TIMEOUT_DEFAULT = 2500;
    private static final int MEDIACODEC_TIMEOUT_INCREASED = 22000;
    private static final int PROCESSOR_TYPE_INTEL = 2;
    private static final int PROCESSOR_TYPE_MTK = 3;
    private static final int PROCESSOR_TYPE_OTHER = 0;
    private static final int PROCESSOR_TYPE_QCOM = 1;
    private static final int PROCESSOR_TYPE_SEC = 4;
    private static final int PROCESSOR_TYPE_TI = 5;
    private MediaController.VideoConvertorListener callback;
    private long endPresentationTime;
    private MediaExtractor extractor;
    private MP4Builder mediaMuxer;
    private String outputMimeType;

    public boolean convertVideo(ConvertVideoParams convertVideoParams) {
        this.callback = convertVideoParams.callback;
        return convertVideoInternal(convertVideoParams, false, 0);
    }

    public long getLastFrameTimestamp() {
        return this.endPresentationTime;
    }

    /* JADX WARN: Can't wrap try/catch for region: R(14:(10:(1:678)(2:1590|(2:1592|1593)(50:1594|1595|(1:1589)(4:683|(2:688|689)|1588|689)|(47:1584|1585|(2:1582|1583)|693|694|(5:696|697|698|699|700)(1:1576)|701|702|(1:706)|707|708|(8:710|(1:712)(1:1565)|713|(1:715)(1:1564)|716|(1:718)|723|(35:1563|728|(3:1547|1548|(3:1551|(1:1553)|1554))(1:730)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(3:1498|1499|(18:1502|(1:1504)(1:1507)|1505|749|750|(3:753|754|(2:756|(13:758|759|760|761|762|763|764|765|766|(2:1449|1450)(1:768)|769|770|(11:1393|1394|1395|1396|(1:1398)|1433|(4:1435|1401|(1:1403)|(1:(12:1406|1407|1408|(1:1410)|1411|(1:1413)(1:1415)|1414|(1:781)(1:1389)|782|783|784|(2:(7:821|822|(3:824|825|826)(1:1380)|(6:828|829|830|831|(6:833|834|835|(4:837|(1:839)(1:1317)|840|(2:842|843)(1:1315))(1:1318)|1316|843)(3:1323|(2:1366|(1:1368))(10:1328|1329|(3:1331|1332|(2:1334|1335))(1:1361)|1336|(1:1338)|1339|(1:1341)(1:1360)|1342|(1:1359)(2:1348|(1:1358)(3:1352|(1:1354)|1355))|1356)|1357)|(4:847|848|849|(1:(11:854|855|856|(1:858)(1:1308)|859|860|861|(1:863)(3:1124|(4:1291|1292|(1:1294)|1295)(2:1126|(4:1249|1250|(1:1286)(7:1253|1254|1255|1256|(3:1258|1259|(7:1261|1262|1263|(1:1265)(1:1273)|(1:1267)(1:1272)|1268|1269))(1:1280)|1279|1269)|1270)(3:1128|1129|(4:1131|1132|(1:1134)(1:1240)|(12:1136|1137|(4:1154|1155|1156|(15:(1:1201)(3:1161|1162|1163)|(2:1167|1168)|1169|1170|1171|1172|(1:1188)(5:1176|1177|1178|(1:1180)|1181)|1182|1142|1143|(1:1145)(1:1148)|1146|1147|(3:1121|1122|1123)(6:866|(7:868|869|870|(1:872)(3:877|(2:882|(3:1101|1102|(1:1104))(1:(23:885|(1:887)(1:1096)|888|889|890|(1:1090)(3:894|895|896)|897|(4:899|900|901|(17:903|904|(15:906|(3:908|909|910)(4:1068|1069|1070|1071)|911|912|(1:1059)(1:918)|919|(1:921)(1:1058)|922|(2:926|(8:928|(1:930)|931|(1:933)(4:1039|(1:1043)|1044|1045)|(9:996|997|998|(2:1000|1001)(1:1032)|1002|1003|1004|(7:1006|1007|1008|1009|1010|1011|1012)(1:1027)|1013)(1:935)|936|937|(3:939|(1:941)|942)(4:943|881|874|875))(3:1053|(1:1055)|1056))|1057|(0)(0)|(0)(0)|936|937|(0)(0))|1076|912|(1:914)|1059|919|(0)(0)|922|(3:924|926|(0)(0))|1057|(0)(0)|(0)(0)|936|937|(0)(0)))(1:1083)|1077|1076|912|(0)|1059|919|(0)(0)|922|(0)|1057|(0)(0)|(0)(0)|936|937|(0)(0))(1:1097)))|879)|873|874|875)(1:1120)|880|881|874|875)|876)(2:1202|(14:1204|(3:1208|(2:1214|(2:1216|1217)(1:1223))|1224)|1229|1218|(1:1221)|1222|1141|1142|1143|(0)(0)|1146|1147|(0)(0)|876)))(1:1139)|1140|1141|1142|1143|(0)(0)|1146|1147|(0)(0)|876)(4:1236|1237|1238|1239))(3:1241|1242|1243)))|1271)|864|(0)(0)|876))))(1:1374)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876))|853))(13:1420|(1:1422)|1423|(1:1425)|1426|1427|778|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853)))(7:1428|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853)))|1400|1401|(0)|(0)(0))(3:772|773|(10:775|776|777|778|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853))(7:1391|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853))))))|1472|(4:1474|1475|1476|(8:1478|(1:1480)(1:1489)|1481|1482|(1:1484)(1:1487)|1485|1486|760)(1:1490))|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))|748|749|750|(3:753|754|(0))|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))(1:1566)|727|728|(0)(0)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(0)|748|749|750|(0)|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0))|691|(0)|693|694|(0)(0)|701|702|(2:704|706)|707|708|(0)(0)|727|728|(0)(0)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(0)|748|749|750|(0)|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))|762|763|764|765|766|(0)(0)|769|770|(0)(0))|742|743|744|745|746|(0)|748|749|750|(0)|1472|(0)|761) */
    /* JADX WARN: Can't wrap try/catch for region: R(22:651|(11:652|653|654|(4:656|657|658|659)(2:1633|1634)|660|(5:662|(1:664)(2:1619|(1:1621)(1:1622))|665|(2:667|668)(1:1618)|669)(3:1623|(1:1625)(1:1627)|1626)|(2:1611|1612)(1:671)|672|(1:674)(1:1610)|675|676)|(32:(1:678)(2:1590|(2:1592|1593)(50:1594|1595|(1:1589)(4:683|(2:688|689)|1588|689)|(47:1584|1585|(2:1582|1583)|693|694|(5:696|697|698|699|700)(1:1576)|701|702|(1:706)|707|708|(8:710|(1:712)(1:1565)|713|(1:715)(1:1564)|716|(1:718)|723|(35:1563|728|(3:1547|1548|(3:1551|(1:1553)|1554))(1:730)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(3:1498|1499|(18:1502|(1:1504)(1:1507)|1505|749|750|(3:753|754|(2:756|(13:758|759|760|761|762|763|764|765|766|(2:1449|1450)(1:768)|769|770|(11:1393|1394|1395|1396|(1:1398)|1433|(4:1435|1401|(1:1403)|(1:(12:1406|1407|1408|(1:1410)|1411|(1:1413)(1:1415)|1414|(1:781)(1:1389)|782|783|784|(2:(7:821|822|(3:824|825|826)(1:1380)|(6:828|829|830|831|(6:833|834|835|(4:837|(1:839)(1:1317)|840|(2:842|843)(1:1315))(1:1318)|1316|843)(3:1323|(2:1366|(1:1368))(10:1328|1329|(3:1331|1332|(2:1334|1335))(1:1361)|1336|(1:1338)|1339|(1:1341)(1:1360)|1342|(1:1359)(2:1348|(1:1358)(3:1352|(1:1354)|1355))|1356)|1357)|(4:847|848|849|(1:(11:854|855|856|(1:858)(1:1308)|859|860|861|(1:863)(3:1124|(4:1291|1292|(1:1294)|1295)(2:1126|(4:1249|1250|(1:1286)(7:1253|1254|1255|1256|(3:1258|1259|(7:1261|1262|1263|(1:1265)(1:1273)|(1:1267)(1:1272)|1268|1269))(1:1280)|1279|1269)|1270)(3:1128|1129|(4:1131|1132|(1:1134)(1:1240)|(12:1136|1137|(4:1154|1155|1156|(15:(1:1201)(3:1161|1162|1163)|(2:1167|1168)|1169|1170|1171|1172|(1:1188)(5:1176|1177|1178|(1:1180)|1181)|1182|1142|1143|(1:1145)(1:1148)|1146|1147|(3:1121|1122|1123)(6:866|(7:868|869|870|(1:872)(3:877|(2:882|(3:1101|1102|(1:1104))(1:(23:885|(1:887)(1:1096)|888|889|890|(1:1090)(3:894|895|896)|897|(4:899|900|901|(17:903|904|(15:906|(3:908|909|910)(4:1068|1069|1070|1071)|911|912|(1:1059)(1:918)|919|(1:921)(1:1058)|922|(2:926|(8:928|(1:930)|931|(1:933)(4:1039|(1:1043)|1044|1045)|(9:996|997|998|(2:1000|1001)(1:1032)|1002|1003|1004|(7:1006|1007|1008|1009|1010|1011|1012)(1:1027)|1013)(1:935)|936|937|(3:939|(1:941)|942)(4:943|881|874|875))(3:1053|(1:1055)|1056))|1057|(0)(0)|(0)(0)|936|937|(0)(0))|1076|912|(1:914)|1059|919|(0)(0)|922|(3:924|926|(0)(0))|1057|(0)(0)|(0)(0)|936|937|(0)(0)))(1:1083)|1077|1076|912|(0)|1059|919|(0)(0)|922|(0)|1057|(0)(0)|(0)(0)|936|937|(0)(0))(1:1097)))|879)|873|874|875)(1:1120)|880|881|874|875)|876)(2:1202|(14:1204|(3:1208|(2:1214|(2:1216|1217)(1:1223))|1224)|1229|1218|(1:1221)|1222|1141|1142|1143|(0)(0)|1146|1147|(0)(0)|876)))(1:1139)|1140|1141|1142|1143|(0)(0)|1146|1147|(0)(0)|876)(4:1236|1237|1238|1239))(3:1241|1242|1243)))|1271)|864|(0)(0)|876))))(1:1374)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876))|853))(13:1420|(1:1422)|1423|(1:1425)|1426|1427|778|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853)))(7:1428|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853)))|1400|1401|(0)|(0)(0))(3:772|773|(10:775|776|777|778|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853))(7:1391|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853))))))|1472|(4:1474|1475|1476|(8:1478|(1:1480)(1:1489)|1481|1482|(1:1484)(1:1487)|1485|1486|760)(1:1490))|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))|748|749|750|(3:753|754|(0))|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))(1:1566)|727|728|(0)(0)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(0)|748|749|750|(0)|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0))|691|(0)|693|694|(0)(0)|701|702|(2:704|706)|707|708|(0)(0)|727|728|(0)(0)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(0)|748|749|750|(0)|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(0)|748|749|750|(0)|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0))|679|(1:681)|1589|(0)|691|(0)|693|694|(0)(0)|701|702|(0)|707|708|(0)(0)|727|728|(0)(0)|731) */
    /* JADX WARN: Can't wrap try/catch for region: R(35:(2:13|(1:15)(2:606|(1:608)(1:609)))(1:(1:611))|(3:17|18|19)(1:605)|(9:586|587|588|(4:590|(1:592)|593|594)|595|(4:597|(1:599)|600|601)|21|(1:23)|25)|(12:210|211|212|213|214|215|216|217|218|219|220|221)|(3:548|549|(30:551|224|225|226|228|229|230|(2:529|530)(1:232)|233|234|235|236|(5:504|505|507|508|509)(1:238)|239|(2:(5:244|245|(2:493|494)|247|(1:(11:252|253|(1:255)(1:492)|256|257|258|(1:260)(2:298|(4:481|482|(1:484)|485)(22:300|(5:302|(1:304)|305|(1:341)(7:308|309|310|311|(2:313|(8:315|316|317|318|(1:320)(1:327)|(1:322)(1:326)|323|324))(1:334)|333|324)|325)(3:342|343|(4:345|346|(1:348)(1:471)|(15:350|351|352|(7:375|376|377|(5:(1:421)(3:382|383|384)|(2:388|389)|390|391|(1:408)(6:395|396|(1:398)|399|400|401))(2:422|(2:424|(6:426|(3:430|(2:436|(2:438|439)(1:445))|446)|451|440|(1:443)|444)(1:453)))|262|(2:264|265)(3:(7:268|269|270|271|272|273|(2:275|276))(1:297)|277|278)|266)(1:354)|355|356|357|(1:359)(1:369)|360|361|362|363|262|(0)(0)|266)(4:467|468|469|470))(3:472|473|474))|284|32|33|34|(1:199)(1:37)|38|39|40|41|42|43|44|45|46|47|48|49|50|51|52))|261|262|(0)(0)|266)))(2:242|243)|251)|(2:179|180)|(1:55)|(1:57)|(1:59)|60|61|62|(1:64)|65|(2:103|104)|(2:99|100)|(2:95|96)|(2:91|92)|(2:87|88)|71))|223|224|225|226|228|229|230|(0)(0)|233|234|235|236|(0)(0)|239|(7:(0)|244|245|(0)|247|(12:(0)|252|253|(0)(0)|256|257|258|(0)(0)|261|262|(0)(0)|266)|251)|(0)|(0)|(0)|(0)|60|61|62|(0)|65|(0)|(0)|(0)|(0)|(0)|71) */
    /* JADX WARN: Can't wrap try/catch for region: R(6:(3:(1:678)(2:1590|(2:1592|1593)(50:1594|1595|(1:1589)(4:683|(2:688|689)|1588|689)|(47:1584|1585|(2:1582|1583)|693|694|(5:696|697|698|699|700)(1:1576)|701|702|(1:706)|707|708|(8:710|(1:712)(1:1565)|713|(1:715)(1:1564)|716|(1:718)|723|(35:1563|728|(3:1547|1548|(3:1551|(1:1553)|1554))(1:730)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(3:1498|1499|(18:1502|(1:1504)(1:1507)|1505|749|750|(3:753|754|(2:756|(13:758|759|760|761|762|763|764|765|766|(2:1449|1450)(1:768)|769|770|(11:1393|1394|1395|1396|(1:1398)|1433|(4:1435|1401|(1:1403)|(1:(12:1406|1407|1408|(1:1410)|1411|(1:1413)(1:1415)|1414|(1:781)(1:1389)|782|783|784|(2:(7:821|822|(3:824|825|826)(1:1380)|(6:828|829|830|831|(6:833|834|835|(4:837|(1:839)(1:1317)|840|(2:842|843)(1:1315))(1:1318)|1316|843)(3:1323|(2:1366|(1:1368))(10:1328|1329|(3:1331|1332|(2:1334|1335))(1:1361)|1336|(1:1338)|1339|(1:1341)(1:1360)|1342|(1:1359)(2:1348|(1:1358)(3:1352|(1:1354)|1355))|1356)|1357)|(4:847|848|849|(1:(11:854|855|856|(1:858)(1:1308)|859|860|861|(1:863)(3:1124|(4:1291|1292|(1:1294)|1295)(2:1126|(4:1249|1250|(1:1286)(7:1253|1254|1255|1256|(3:1258|1259|(7:1261|1262|1263|(1:1265)(1:1273)|(1:1267)(1:1272)|1268|1269))(1:1280)|1279|1269)|1270)(3:1128|1129|(4:1131|1132|(1:1134)(1:1240)|(12:1136|1137|(4:1154|1155|1156|(15:(1:1201)(3:1161|1162|1163)|(2:1167|1168)|1169|1170|1171|1172|(1:1188)(5:1176|1177|1178|(1:1180)|1181)|1182|1142|1143|(1:1145)(1:1148)|1146|1147|(3:1121|1122|1123)(6:866|(7:868|869|870|(1:872)(3:877|(2:882|(3:1101|1102|(1:1104))(1:(23:885|(1:887)(1:1096)|888|889|890|(1:1090)(3:894|895|896)|897|(4:899|900|901|(17:903|904|(15:906|(3:908|909|910)(4:1068|1069|1070|1071)|911|912|(1:1059)(1:918)|919|(1:921)(1:1058)|922|(2:926|(8:928|(1:930)|931|(1:933)(4:1039|(1:1043)|1044|1045)|(9:996|997|998|(2:1000|1001)(1:1032)|1002|1003|1004|(7:1006|1007|1008|1009|1010|1011|1012)(1:1027)|1013)(1:935)|936|937|(3:939|(1:941)|942)(4:943|881|874|875))(3:1053|(1:1055)|1056))|1057|(0)(0)|(0)(0)|936|937|(0)(0))|1076|912|(1:914)|1059|919|(0)(0)|922|(3:924|926|(0)(0))|1057|(0)(0)|(0)(0)|936|937|(0)(0)))(1:1083)|1077|1076|912|(0)|1059|919|(0)(0)|922|(0)|1057|(0)(0)|(0)(0)|936|937|(0)(0))(1:1097)))|879)|873|874|875)(1:1120)|880|881|874|875)|876)(2:1202|(14:1204|(3:1208|(2:1214|(2:1216|1217)(1:1223))|1224)|1229|1218|(1:1221)|1222|1141|1142|1143|(0)(0)|1146|1147|(0)(0)|876)))(1:1139)|1140|1141|1142|1143|(0)(0)|1146|1147|(0)(0)|876)(4:1236|1237|1238|1239))(3:1241|1242|1243)))|1271)|864|(0)(0)|876))))(1:1374)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876))|853))(13:1420|(1:1422)|1423|(1:1425)|1426|1427|778|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853)))(7:1428|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853)))|1400|1401|(0)|(0)(0))(3:772|773|(10:775|776|777|778|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853))(7:1391|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853))))))|1472|(4:1474|1475|1476|(8:1478|(1:1480)(1:1489)|1481|1482|(1:1484)(1:1487)|1485|1486|760)(1:1490))|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))|748|749|750|(3:753|754|(0))|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))(1:1566)|727|728|(0)(0)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(0)|748|749|750|(0)|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0))|691|(0)|693|694|(0)(0)|701|702|(2:704|706)|707|708|(0)(0)|727|728|(0)(0)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(0)|748|749|750|(0)|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))|770|(0)(0))|764|765|766|(0)(0)|769) */
    /* JADX WARN: Can't wrap try/catch for region: R(8:(3:(23:(1:678)(2:1590|(2:1592|1593)(50:1594|1595|(1:1589)(4:683|(2:688|689)|1588|689)|(47:1584|1585|(2:1582|1583)|693|694|(5:696|697|698|699|700)(1:1576)|701|702|(1:706)|707|708|(8:710|(1:712)(1:1565)|713|(1:715)(1:1564)|716|(1:718)|723|(35:1563|728|(3:1547|1548|(3:1551|(1:1553)|1554))(1:730)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(3:1498|1499|(18:1502|(1:1504)(1:1507)|1505|749|750|(3:753|754|(2:756|(13:758|759|760|761|762|763|764|765|766|(2:1449|1450)(1:768)|769|770|(11:1393|1394|1395|1396|(1:1398)|1433|(4:1435|1401|(1:1403)|(1:(12:1406|1407|1408|(1:1410)|1411|(1:1413)(1:1415)|1414|(1:781)(1:1389)|782|783|784|(2:(7:821|822|(3:824|825|826)(1:1380)|(6:828|829|830|831|(6:833|834|835|(4:837|(1:839)(1:1317)|840|(2:842|843)(1:1315))(1:1318)|1316|843)(3:1323|(2:1366|(1:1368))(10:1328|1329|(3:1331|1332|(2:1334|1335))(1:1361)|1336|(1:1338)|1339|(1:1341)(1:1360)|1342|(1:1359)(2:1348|(1:1358)(3:1352|(1:1354)|1355))|1356)|1357)|(4:847|848|849|(1:(11:854|855|856|(1:858)(1:1308)|859|860|861|(1:863)(3:1124|(4:1291|1292|(1:1294)|1295)(2:1126|(4:1249|1250|(1:1286)(7:1253|1254|1255|1256|(3:1258|1259|(7:1261|1262|1263|(1:1265)(1:1273)|(1:1267)(1:1272)|1268|1269))(1:1280)|1279|1269)|1270)(3:1128|1129|(4:1131|1132|(1:1134)(1:1240)|(12:1136|1137|(4:1154|1155|1156|(15:(1:1201)(3:1161|1162|1163)|(2:1167|1168)|1169|1170|1171|1172|(1:1188)(5:1176|1177|1178|(1:1180)|1181)|1182|1142|1143|(1:1145)(1:1148)|1146|1147|(3:1121|1122|1123)(6:866|(7:868|869|870|(1:872)(3:877|(2:882|(3:1101|1102|(1:1104))(1:(23:885|(1:887)(1:1096)|888|889|890|(1:1090)(3:894|895|896)|897|(4:899|900|901|(17:903|904|(15:906|(3:908|909|910)(4:1068|1069|1070|1071)|911|912|(1:1059)(1:918)|919|(1:921)(1:1058)|922|(2:926|(8:928|(1:930)|931|(1:933)(4:1039|(1:1043)|1044|1045)|(9:996|997|998|(2:1000|1001)(1:1032)|1002|1003|1004|(7:1006|1007|1008|1009|1010|1011|1012)(1:1027)|1013)(1:935)|936|937|(3:939|(1:941)|942)(4:943|881|874|875))(3:1053|(1:1055)|1056))|1057|(0)(0)|(0)(0)|936|937|(0)(0))|1076|912|(1:914)|1059|919|(0)(0)|922|(3:924|926|(0)(0))|1057|(0)(0)|(0)(0)|936|937|(0)(0)))(1:1083)|1077|1076|912|(0)|1059|919|(0)(0)|922|(0)|1057|(0)(0)|(0)(0)|936|937|(0)(0))(1:1097)))|879)|873|874|875)(1:1120)|880|881|874|875)|876)(2:1202|(14:1204|(3:1208|(2:1214|(2:1216|1217)(1:1223))|1224)|1229|1218|(1:1221)|1222|1141|1142|1143|(0)(0)|1146|1147|(0)(0)|876)))(1:1139)|1140|1141|1142|1143|(0)(0)|1146|1147|(0)(0)|876)(4:1236|1237|1238|1239))(3:1241|1242|1243)))|1271)|864|(0)(0)|876))))(1:1374)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876))|853))(13:1420|(1:1422)|1423|(1:1425)|1426|1427|778|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853)))(7:1428|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853)))|1400|1401|(0)|(0)(0))(3:772|773|(10:775|776|777|778|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853))(7:1391|779|(0)(0)|782|783|784|(9:(0)|821|822|(0)(0)|(0)(0)|1314|849|(12:(0)|854|855|856|(0)(0)|859|860|861|(0)(0)|864|(0)(0)|876)|853))))))|1472|(4:1474|1475|1476|(8:1478|(1:1480)(1:1489)|1481|1482|(1:1484)(1:1487)|1485|1486|760)(1:1490))|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))|748|749|750|(3:753|754|(0))|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))(1:1566)|727|728|(0)(0)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(0)|748|749|750|(0)|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0))|691|(0)|693|694|(0)(0)|701|702|(2:704|706)|707|708|(0)(0)|727|728|(0)(0)|731|732|733|734|735|736|737|738|739|740|742|743|744|745|746|(0)|748|749|750|(0)|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0)))|742|743|744|745|746|(0)|748|749|750|(0)|1472|(0)|761|762|763|764|765|766|(0)(0)|769|770|(0)(0))|739|740)|732|733|734|735|736|737|738) */
    /* JADX WARN: Can't wrap try/catch for region: R(9:350|351|352|(7:(7:375|376|377|(5:(1:421)(3:382|383|384)|(2:388|389)|390|391|(1:408)(6:395|396|(1:398)|399|400|401))(2:422|(2:424|(6:426|(3:430|(2:436|(2:438|439)(1:445))|446)|451|440|(1:443)|444)(1:453)))|262|(2:264|265)(3:(7:268|269|270|271|272|273|(2:275|276))(1:297)|277|278)|266)(1:354)|361|362|363|262|(0)(0)|266)|355|356|357|(1:359)(1:369)|360) */
    /* JADX WARN: Code restructure failed: missing block: B:1163:0x15af, code lost:
        r59 = r2;
        r3 = r16;
        r5 = r20;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1164:0x15cc, code lost:
        throw new java.lang.RuntimeException("unexpected result from decoder.dequeueOutputBuffer: " + r10);
     */
    /* JADX WARN: Code restructure failed: missing block: B:1218:0x172d, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1219:0x172e, code lost:
        r1 = r81;
        r83 = r11;
        r11 = r5;
        r5 = r83;
        r2 = r0;
        r12 = r79;
        r6 = r80;
        r10 = -5;
        r44 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1226:0x176a, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1227:0x176b, code lost:
        r4 = r85;
        r19 = r9;
        r3 = r13;
        r1 = r81;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1228:0x1773, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1229:0x1774, code lost:
        r4 = r85;
        r19 = r9;
        r3 = r13;
        r21 = r14;
        r1 = r81;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1232:0x1785, code lost:
        r2 = r0;
        r10 = r3;
        r8 = r14;
        r9 = r37;
        r7 = r43;
        r13 = r43;
        r6 = r80;
        r5 = null;
        r12 = -5;
        r49 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1237:0x17a3, code lost:
        r2 = r0;
        r16 = r3;
        r12 = r79;
        r6 = r80;
        r5 = null;
        r10 = -5;
        r11 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1242:0x17bd, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1243:0x17be, code lost:
        r4 = r85;
        r1 = r8;
        r19 = r9;
        r80 = r13;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1246:0x17da, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1247:0x17db, code lost:
        r4 = r85;
        r1 = r8;
        r19 = r9;
        r80 = r13;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1249:0x17ed, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1250:0x17ee, code lost:
        r4 = r85;
        r1 = r8;
        r19 = r9;
        r3 = r87;
        r2 = r0;
        r8 = r14;
        r9 = r37;
        r7 = r43;
        r13 = r43;
        r6 = r13;
        r5 = null;
        r10 = null;
        r12 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1251:0x1806, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1252:0x1807, code lost:
        r4 = r85;
        r1 = r8;
        r19 = r9;
        r21 = r14;
        r2 = r0;
        r6 = r13;
        r5 = null;
        r10 = -5;
        r11 = null;
        r12 = false;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1258:0x183c, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1260:0x183e, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1261:0x183f, code lost:
        r1 = r8;
        r4 = r85;
        r3 = r87;
        r2 = r0;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1263:0x184d, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1264:0x184e, code lost:
        r74 = r1;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1265:0x1850, code lost:
        r1 = r8;
        r4 = r85;
        r21 = r14;
        r2 = r0;
     */
    /* JADX WARN: Code restructure failed: missing block: B:245:0x052b, code lost:
        throw new java.lang.RuntimeException("unsupported!!");
     */
    /* JADX WARN: Code restructure failed: missing block: B:27:0x0116, code lost:
        if (r15.useMatrix == null) goto L586;
     */
    /* JADX WARN: Code restructure failed: missing block: B:294:0x0603, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:295:0x0604, code lost:
        r6 = r29;
        r14 = r32;
        r2 = r34;
     */
    /* JADX WARN: Code restructure failed: missing block: B:296:0x060b, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:297:0x060c, code lost:
        r6 = r29;
        r14 = r32;
        r2 = r34;
     */
    /* JADX WARN: Code restructure failed: missing block: B:323:0x06a2, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:324:0x06a3, code lost:
        r3 = r87;
        r10 = r2;
        r1 = r1;
        r9 = r8;
        r4 = r85;
        r49 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:326:0x06b4, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:328:0x06b7, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:329:0x06b8, code lost:
        r3 = r87;
        r10 = r2;
        r1 = r1;
        r9 = r8;
        r8 = r12;
        r4 = r85;
        r49 = r6;
     */
    /* JADX WARN: Code restructure failed: missing block: B:331:0x06d7, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:332:0x06d8, code lost:
        r21 = r12;
     */
    /* JADX WARN: Code restructure failed: missing block: B:333:0x06db, code lost:
        r2 = r1;
        r1 = r2;
        r3 = r0;
        r11 = r37;
     */
    /* JADX WARN: Code restructure failed: missing block: B:334:0x06e5, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:335:0x06e6, code lost:
        r3 = r87;
        r10 = r2;
        r1 = r1;
        r9 = r8;
        r8 = r12;
        r4 = r85;
     */
    /* JADX WARN: Code restructure failed: missing block: B:336:0x06f3, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:337:0x06f4, code lost:
        r21 = r12;
        r2 = r1;
        r1 = r2;
        r3 = r0;
        r11 = r37;
     */
    /* JADX WARN: Code restructure failed: missing block: B:340:0x0711, code lost:
        r65 = r12;
        r19 = r37;
     */
    /* JADX WARN: Code restructure failed: missing block: B:344:0x072a, code lost:
        r6 = null;
        r2 = r2;
     */
    /* JADX WARN: Code restructure failed: missing block: B:345:0x072b, code lost:
        r10 = -5;
        r14 = null;
        r1 = r1;
        r2 = r2;
     */
    /* JADX WARN: Code restructure failed: missing block: B:644:0x0d0a, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:646:0x0d0d, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:696:0x0e22, code lost:
        if (r8.getString(r12).equals(org.telegram.messenger.MediaController.AUDIO_MIME_TYPE) == false) goto L1433;
     */
    /* JADX WARN: Code restructure failed: missing block: B:755:0x0f57, code lost:
        r3 = r10;
        r44 = r12;
        r1 = r14;
        r8 = r21;
        r9 = r37;
        r14 = r43;
        r13 = r43;
        r6 = r80;
        r12 = false;
        r50 = false;
     */
    /* JADX WARN: Finally extract failed */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:1000:0x1357  */
    /* JADX WARN: Removed duplicated region for block: B:1001:0x1359  */
    /* JADX WARN: Removed duplicated region for block: B:1075:0x14a0 A[Catch: all -> 0x14b3, Exception -> 0x14b5, TryCatch #27 {Exception -> 0x14b5, blocks: (B:1054:0x1444, B:1059:0x1458, B:1075:0x14a0, B:1077:0x14a8, B:1095:0x14d0, B:1097:0x14d4, B:1117:0x1527, B:1110:0x1512, B:1099:0x14f4, B:1101:0x14fd, B:1056:0x144e, B:1058:0x1455), top: B:1469:0x1444 }] */
    /* JADX WARN: Removed duplicated region for block: B:1087:0x14bf  */
    /* JADX WARN: Removed duplicated region for block: B:1088:0x14c2  */
    /* JADX WARN: Removed duplicated region for block: B:1091:0x14c8  */
    /* JADX WARN: Removed duplicated region for block: B:1095:0x14d0 A[Catch: all -> 0x14b3, Exception -> 0x14b5, TryCatch #27 {Exception -> 0x14b5, blocks: (B:1054:0x1444, B:1059:0x1458, B:1075:0x14a0, B:1077:0x14a8, B:1095:0x14d0, B:1097:0x14d4, B:1117:0x1527, B:1110:0x1512, B:1099:0x14f4, B:1101:0x14fd, B:1056:0x144e, B:1058:0x1455), top: B:1469:0x1444 }] */
    /* JADX WARN: Removed duplicated region for block: B:1099:0x14f4 A[Catch: all -> 0x14b3, Exception -> 0x14b5, TryCatch #27 {Exception -> 0x14b5, blocks: (B:1054:0x1444, B:1059:0x1458, B:1075:0x14a0, B:1077:0x14a8, B:1095:0x14d0, B:1097:0x14d4, B:1117:0x1527, B:1110:0x1512, B:1099:0x14f4, B:1101:0x14fd, B:1056:0x144e, B:1058:0x1455), top: B:1469:0x1444 }] */
    /* JADX WARN: Removed duplicated region for block: B:1105:0x1505  */
    /* JADX WARN: Removed duplicated region for block: B:1106:0x1508  */
    /* JADX WARN: Removed duplicated region for block: B:1147:0x1582  */
    /* JADX WARN: Removed duplicated region for block: B:1150:0x158f A[Catch: all -> 0x15cd, Exception -> 0x15cf, TryCatch #146 {Exception -> 0x15cf, all -> 0x15cd, blocks: (B:1148:0x1589, B:1150:0x158f, B:1152:0x1593, B:1153:0x1598, B:1163:0x15af, B:1164:0x15cc), top: B:1685:0x1589 }] */
    /* JADX WARN: Removed duplicated region for block: B:1154:0x159f  */
    /* JADX WARN: Removed duplicated region for block: B:118:0x033a  */
    /* JADX WARN: Removed duplicated region for block: B:119:0x0343  */
    /* JADX WARN: Removed duplicated region for block: B:123:0x034e  */
    /* JADX WARN: Removed duplicated region for block: B:126:0x0361  */
    /* JADX WARN: Removed duplicated region for block: B:1282:0x188d  */
    /* JADX WARN: Removed duplicated region for block: B:1285:0x1894  */
    /* JADX WARN: Removed duplicated region for block: B:1300:0x18dd A[Catch: all -> 0x18e7, TRY_LEAVE, TryCatch #72 {all -> 0x18e7, blocks: (B:1298:0x18d4, B:1300:0x18dd), top: B:1502:0x18d4 }] */
    /* JADX WARN: Removed duplicated region for block: B:1321:0x1926  */
    /* JADX WARN: Removed duplicated region for block: B:1327:0x1956 A[Catch: all -> 0x1948, TryCatch #116 {all -> 0x1948, blocks: (B:1323:0x1943, B:1327:0x1956, B:1329:0x195d), top: B:1532:0x1943 }] */
    /* JADX WARN: Removed duplicated region for block: B:1329:0x195d A[Catch: all -> 0x1948, TRY_LEAVE, TryCatch #116 {all -> 0x1948, blocks: (B:1323:0x1943, B:1327:0x1956, B:1329:0x195d), top: B:1532:0x1943 }] */
    /* JADX WARN: Removed duplicated region for block: B:1331:0x1966  */
    /* JADX WARN: Removed duplicated region for block: B:1338:0x197f  */
    /* JADX WARN: Removed duplicated region for block: B:1376:0x1a22  */
    /* JADX WARN: Removed duplicated region for block: B:1399:0x1a5c  */
    /* JADX WARN: Removed duplicated region for block: B:1401:0x1a68  */
    /* JADX WARN: Removed duplicated region for block: B:1448:0x082d A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1451:0x1a29 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1457:0x0303 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1459:0x0b0c A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1479:0x02a0 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1520:0x0b14 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1528:0x0dc4 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1532:0x1943 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1536:0x19a7 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1540:0x19ae A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1542:0x1999 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1544:0x19a0 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1546:0x1986 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1550:0x196a A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1562:0x1a4a A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1567:0x1a51 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1569:0x1a3c A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1572:0x1a43 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1582:0x0e08 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1597:0x0261 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1604:0x0c6d A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1631:0x151d A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1673:0x0be3 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1717:0x137b A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1718:0x1363 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:266:0x058f  */
    /* JADX WARN: Removed duplicated region for block: B:268:0x05a0  */
    /* JADX WARN: Removed duplicated region for block: B:382:0x07ee A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:400:0x084c A[Catch: all -> 0x0832, TryCatch #7 {all -> 0x0832, blocks: (B:396:0x082d, B:400:0x084c, B:402:0x0852, B:404:0x085c, B:405:0x085f), top: B:1448:0x082d }] */
    /* JADX WARN: Removed duplicated region for block: B:402:0x0852 A[Catch: all -> 0x0832, TryCatch #7 {all -> 0x0832, blocks: (B:396:0x082d, B:400:0x084c, B:402:0x0852, B:404:0x085c, B:405:0x085f), top: B:1448:0x082d }] */
    /* JADX WARN: Removed duplicated region for block: B:404:0x085c A[Catch: all -> 0x0832, TryCatch #7 {all -> 0x0832, blocks: (B:396:0x082d, B:400:0x084c, B:402:0x0852, B:404:0x085c, B:405:0x085f), top: B:1448:0x082d }] */
    /* JADX WARN: Removed duplicated region for block: B:466:0x0a07  */
    /* JADX WARN: Removed duplicated region for block: B:554:0x0b2f  */
    /* JADX WARN: Removed duplicated region for block: B:561:0x0b5b  */
    /* JADX WARN: Removed duplicated region for block: B:564:0x0b76 A[Catch: all -> 0x0b19, Exception -> 0x0b58, TRY_ENTER, TryCatch #90 {Exception -> 0x0b58, blocks: (B:557:0x0b38, B:564:0x0b76, B:566:0x0b7c, B:570:0x0b98, B:572:0x0ba0, B:574:0x0bac, B:576:0x0bb4, B:578:0x0bc0, B:580:0x0bc8), top: B:1522:0x0b38 }] */
    /* JADX WARN: Removed duplicated region for block: B:570:0x0b98 A[Catch: all -> 0x0b19, Exception -> 0x0b58, TRY_ENTER, TryCatch #90 {Exception -> 0x0b58, blocks: (B:557:0x0b38, B:564:0x0b76, B:566:0x0b7c, B:570:0x0b98, B:572:0x0ba0, B:574:0x0bac, B:576:0x0bb4, B:578:0x0bc0, B:580:0x0bc8), top: B:1522:0x0b38 }] */
    /* JADX WARN: Removed duplicated region for block: B:588:0x0bd8  */
    /* JADX WARN: Removed duplicated region for block: B:604:0x0c0d  */
    /* JADX WARN: Removed duplicated region for block: B:636:0x0cc1 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:639:0x0cc9 A[Catch: all -> 0x0d10, Exception -> 0x0d22, TRY_LEAVE, TryCatch #169 {Exception -> 0x0d22, all -> 0x0d10, blocks: (B:637:0x0cc3, B:639:0x0cc9), top: B:1639:0x0cc3 }] */
    /* JADX WARN: Removed duplicated region for block: B:654:0x0d43  */
    /* JADX WARN: Removed duplicated region for block: B:688:0x0def  */
    /* JADX WARN: Removed duplicated region for block: B:703:0x0e3f  */
    /* JADX WARN: Removed duplicated region for block: B:705:0x0e42  */
    /* JADX WARN: Removed duplicated region for block: B:728:0x0ed3  */
    /* JADX WARN: Removed duplicated region for block: B:736:0x0eee  */
    /* JADX WARN: Removed duplicated region for block: B:747:0x0f2f  */
    /* JADX WARN: Removed duplicated region for block: B:748:0x0f31  */
    /* JADX WARN: Removed duplicated region for block: B:752:0x0f52 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:758:0x0f6f  */
    /* JADX WARN: Removed duplicated region for block: B:767:0x0f9d  */
    /* JADX WARN: Removed duplicated region for block: B:769:0x0fa3  */
    /* JADX WARN: Removed duplicated region for block: B:81:0x0279  */
    /* JADX WARN: Removed duplicated region for block: B:842:0x10fe  */
    /* JADX WARN: Removed duplicated region for block: B:846:0x1118 A[ADDED_TO_REGION, EDGE_INSN: B:846:0x1118->B:1716:0x111b ?: BREAK  ] */
    /* JADX WARN: Removed duplicated region for block: B:852:0x1137  */
    /* JADX WARN: Removed duplicated region for block: B:853:0x1146  */
    /* JADX WARN: Removed duplicated region for block: B:857:0x1157  */
    /* JADX WARN: Removed duplicated region for block: B:859:0x116a  */
    /* JADX WARN: Removed duplicated region for block: B:95:0x02d8  */
    /* JADX WARN: Type inference failed for: r10v119 */
    /* JADX WARN: Type inference failed for: r10v123 */
    /* JADX WARN: Type inference failed for: r10v171 */
    /* JADX WARN: Type inference failed for: r10v172 */
    /* JADX WARN: Type inference failed for: r10v173 */
    /* JADX WARN: Type inference failed for: r10v43 */
    /* JADX WARN: Type inference failed for: r10v44 */
    /* JADX WARN: Type inference failed for: r10v45 */
    /* JADX WARN: Type inference failed for: r10v90 */
    /* JADX WARN: Type inference failed for: r10v91 */
    /* JADX WARN: Type inference failed for: r11v137 */
    /* JADX WARN: Type inference failed for: r11v138 */
    /* JADX WARN: Type inference failed for: r11v20 */
    /* JADX WARN: Type inference failed for: r11v21 */
    /* JADX WARN: Type inference failed for: r11v22 */
    /* JADX WARN: Type inference failed for: r11v23 */
    /* JADX WARN: Type inference failed for: r11v36 */
    /* JADX WARN: Type inference failed for: r11v38 */
    /* JADX WARN: Type inference failed for: r11v62 */
    /* JADX WARN: Type inference failed for: r12v135 */
    /* JADX WARN: Type inference failed for: r12v136 */
    /* JADX WARN: Type inference failed for: r12v231 */
    /* JADX WARN: Type inference failed for: r12v232 */
    /* JADX WARN: Type inference failed for: r12v48 */
    /* JADX WARN: Type inference failed for: r14v73 */
    /* JADX WARN: Type inference failed for: r14v75 */
    /* JADX WARN: Type inference failed for: r14v83, types: [int] */
    /* JADX WARN: Type inference failed for: r14v9, types: [java.lang.String] */
    /* JADX WARN: Type inference failed for: r16v21 */
    /* JADX WARN: Type inference failed for: r16v22 */
    /* JADX WARN: Type inference failed for: r16v23 */
    /* JADX WARN: Type inference failed for: r16v24 */
    /* JADX WARN: Type inference failed for: r16v38 */
    /* JADX WARN: Type inference failed for: r16v41 */
    /* JADX WARN: Type inference failed for: r16v67 */
    /* JADX WARN: Type inference failed for: r1v208 */
    /* JADX WARN: Type inference failed for: r1v232 */
    /* JADX WARN: Type inference failed for: r21v24 */
    /* JADX WARN: Type inference failed for: r21v25 */
    /* JADX WARN: Type inference failed for: r21v26 */
    /* JADX WARN: Type inference failed for: r21v27 */
    /* JADX WARN: Type inference failed for: r21v30 */
    /* JADX WARN: Type inference failed for: r21v32 */
    /* JADX WARN: Type inference failed for: r21v61 */
    /* JADX WARN: Type inference failed for: r2v246 */
    /* JADX WARN: Type inference failed for: r3v104 */
    /* JADX WARN: Type inference failed for: r3v227 */
    /* JADX WARN: Type inference failed for: r3v228 */
    /* JADX WARN: Type inference failed for: r3v72 */
    /* JADX WARN: Type inference failed for: r3v76, types: [int] */
    /* JADX WARN: Type inference failed for: r3v79 */
    /* JADX WARN: Type inference failed for: r3v80 */
    /* JADX WARN: Type inference failed for: r3v82 */
    /* JADX WARN: Type inference failed for: r3v99 */
    /* JADX WARN: Type inference failed for: r49v28 */
    /* JADX WARN: Type inference failed for: r4v140, types: [java.lang.StringBuilder] */
    /* JADX WARN: Type inference failed for: r4v142, types: [java.lang.StringBuilder] */
    /* JADX WARN: Type inference failed for: r6v247 */
    @TargetApi(18)
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private boolean convertVideoInternal(ConvertVideoParams convertVideoParams, boolean z, int i) {
        boolean z2;
        int i2;
        File file;
        MediaCodecVideoConvertor mediaCodecVideoConvertor;
        boolean z3;
        int i3;
        String str;
        Throwable th;
        String str2;
        int i4;
        InputSurface inputSurface;
        MediaCodec mediaCodec;
        MediaCodec mediaCodec2;
        OutputSurface outputSurface;
        boolean z4;
        boolean z5;
        MediaExtractor mediaExtractor;
        MP4Builder mP4Builder;
        String str3;
        boolean z6;
        boolean z7;
        int i5;
        Throwable th2;
        int i6;
        int i7;
        boolean z8;
        String str4;
        int i8;
        int i9;
        int i10;
        int i11;
        int i12;
        MediaCodec mediaCodec3;
        OutputSurface outputSurface2;
        InputSurface inputSurface2;
        AudioRecoder audioRecoder;
        MediaCodec mediaCodec4;
        MediaCodec mediaCodec5;
        int i13;
        MediaCodec mediaCodec6;
        OutputSurface outputSurface3;
        int i14;
        ArrayList<VideoEditedInfo.MediaEntity> arrayList;
        Exception exc;
        int i15;
        int i16;
        boolean z9;
        MediaCodec mediaCodec7;
        long j;
        String str5;
        long j2;
        long j3;
        MediaFormat trackFormat;
        int i17;
        int i18;
        String str6;
        long j4;
        float f;
        long j5;
        int i19;
        int i20;
        int i21;
        MediaCodec createByCodecName;
        MediaCodec.BufferInfo bufferInfo;
        MediaFormat createVideoFormat;
        int i22;
        boolean z10;
        Mp4Movie mp4Movie;
        int i23;
        boolean z11;
        int i24;
        int i25;
        String name;
        int i26;
        InputSurface inputSurface3;
        char c;
        char c2;
        int i27;
        Object obj;
        String str7;
        long j6;
        int i28;
        MediaCodec mediaCodec8;
        OutputSurface outputSurface4;
        ByteBuffer[] inputBuffers;
        ByteBuffer[] outputBuffers;
        boolean z12;
        ByteBuffer[] byteBufferArr;
        boolean z13;
        long j7;
        int i29;
        int i30;
        int i31;
        int i32;
        ByteBuffer byteBuffer;
        boolean z14;
        int i33;
        boolean z15;
        boolean z16;
        boolean z17;
        boolean z18;
        InputSurface inputSurface4;
        MediaCodec mediaCodec9;
        OutputSurface outputSurface5;
        int i34;
        boolean z19;
        ByteBuffer[] byteBufferArr2;
        boolean z20;
        boolean z21;
        MediaCodec.BufferInfo bufferInfo2;
        int i35;
        boolean z22;
        int i36;
        long j8;
        boolean z23;
        MediaCodec mediaCodec10;
        boolean z24;
        boolean z25;
        int i37;
        long j9;
        int dequeueOutputBuffer;
        OutputSurface outputSurface6;
        int i38;
        MediaCodec mediaCodec11;
        long j10;
        boolean z26;
        String str8;
        int i39;
        int i40;
        int i41;
        ByteBuffer outputBuffer;
        OutputSurface outputSurface7;
        ByteBuffer byteBuffer2;
        ByteBuffer byteBuffer3;
        MediaController.VideoConvertorListener videoConvertorListener;
        int i42;
        boolean z27;
        boolean z28;
        long j11;
        InputSurface inputSurface5;
        long j12;
        int i43;
        boolean z29;
        long j13;
        boolean z30;
        boolean z31;
        boolean z32;
        long j14;
        long j15;
        boolean z33;
        InputSurface inputSurface6;
        boolean z34;
        boolean z35;
        int i44;
        boolean z36;
        ByteBuffer byteBuffer4;
        boolean z37;
        int i45;
        MediaController.VideoConvertorListener videoConvertorListener2;
        int dequeueInputBuffer;
        boolean z38;
        ByteBuffer inputBuffer;
        int i46;
        int i47;
        long j16;
        boolean z39;
        MediaExtractor mediaExtractor2;
        MP4Builder mP4Builder2;
        MediaController.CropState cropState;
        Exception exc2;
        int i48;
        int i49;
        boolean z40;
        MediaCodec mediaCodec12;
        int i50;
        AudioRecoder audioRecoder2;
        String str9;
        int i51;
        OutputSurface outputSurface8;
        boolean z41;
        InputSurface inputSurface7;
        String str10;
        boolean z42;
        OutputSurface outputSurface9;
        MediaCodec mediaCodec13;
        StringBuilder sb;
        String str11;
        int i52;
        ByteBuffer[] outputBuffers2;
        int addTrack;
        boolean z43;
        boolean z44;
        boolean z45;
        int i53;
        AudioRecoder audioRecoder3;
        ?? r14;
        MediaCodec mediaCodec14;
        InputSurface inputSurface8;
        MediaCodec mediaCodec15;
        MediaCodec mediaCodec16;
        MediaCodec mediaCodec17;
        OutputSurface outputSurface10;
        boolean z46;
        boolean z47;
        int i54;
        boolean z48;
        long j17;
        int i55;
        InputSurface inputSurface9;
        OutputSurface outputSurface11;
        int i56;
        String str12;
        ByteBuffer outputBuffer2;
        OutputSurface outputSurface12;
        InputSurface inputSurface10;
        OutputSurface outputSurface13;
        MediaCodec mediaCodec18;
        int i57;
        ByteBuffer byteBuffer5;
        ByteBuffer byteBuffer6;
        Exception e;
        MediaController.VideoConvertorListener videoConvertorListener3;
        MediaCodec mediaCodec19;
        boolean z49;
        int i58;
        String str13 = convertVideoParams.videoPath;
        File file2 = convertVideoParams.cacheFile;
        int i59 = convertVideoParams.rotationValue;
        boolean z50 = convertVideoParams.isSecret;
        int i60 = convertVideoParams.originalWidth;
        int i61 = convertVideoParams.originalHeight;
        int i62 = convertVideoParams.resultWidth;
        int i63 = convertVideoParams.resultHeight;
        int i64 = convertVideoParams.framerate;
        int i65 = convertVideoParams.bitrate;
        int i66 = convertVideoParams.originalBitrate;
        long j18 = convertVideoParams.startTime;
        long j19 = convertVideoParams.endTime;
        long j20 = convertVideoParams.avatarStartTime;
        boolean z51 = convertVideoParams.needCompress;
        long j21 = convertVideoParams.duration;
        MediaController.SavedFilterState savedFilterState = convertVideoParams.savedFilterState;
        String str14 = convertVideoParams.paintPath;
        String str15 = convertVideoParams.blurPath;
        ArrayList<VideoEditedInfo.MediaEntity> arrayList2 = convertVideoParams.mediaEntities;
        boolean z52 = convertVideoParams.isPhoto;
        MediaController.CropState cropState2 = convertVideoParams.cropState;
        int i67 = i64;
        boolean z53 = convertVideoParams.isRound;
        Integer num = convertVideoParams.gradientTopColor;
        Integer num2 = convertVideoParams.gradientBottomColor;
        boolean z54 = convertVideoParams.muted;
        boolean z55 = convertVideoParams.isStory;
        StoryEntry.HDRInfo hDRInfo = convertVideoParams.hdrInfo;
        ArrayList<StoryEntry.Part> arrayList3 = convertVideoParams.parts;
        FileLog.d("convertVideoInternal original=" + i60 + "x" + i61 + "  result=" + i62 + "x" + i63 + " " + j20);
        long currentTimeMillis = System.currentTimeMillis();
        String str16 = "x";
        boolean z56 = j20 >= 0;
        this.outputMimeType = z55 ? "video/hevc" : MediaController.VIDEO_MIME_TYPE;
        try {
            MediaCodec.BufferInfo bufferInfo3 = new MediaCodec.BufferInfo();
            Mp4Movie mp4Movie2 = new Mp4Movie();
            mp4Movie2.setCacheFile(file2);
            long j22 = j20;
            mp4Movie2.setRotation(0);
            mp4Movie2.setSize(i62, i63);
            float f2 = ((float) j21) / 1000.0f;
            long j23 = j21 * 1000;
            this.endPresentationTime = j23;
            checkConversionCanceled();
            String str17 = "csd-0";
            String str18 = "prepend-sps-pps-to-idr-frames";
            if (z52) {
                if (z56) {
                    i65 = f2 <= 2000.0f ? 2600000 : f2 <= 5000.0f ? 2200000 : 1560000;
                } else if (i65 <= 0) {
                    i65 = 921600;
                }
                if (cropState2 != null) {
                    cropState = cropState2;
                    try {
                    } catch (Exception e2) {
                        exc2 = e2;
                        i48 = i65;
                        i49 = i67;
                        mediaCodec2 = null;
                        inputSurface7 = null;
                        outputSurface8 = null;
                        i13 = -5;
                        str9 = null;
                        audioRecoder2 = null;
                        z40 = false;
                        try {
                            z41 = z;
                            if (exc2 instanceof IllegalStateException) {
                            }
                            try {
                                StringBuilder sb2 = new StringBuilder();
                                sb2.append("bitrate: ");
                                i51 = i48;
                                try {
                                    sb2.append(i51);
                                    sb2.append(" framerate: ");
                                    i50 = i49;
                                    try {
                                        sb2.append(i50);
                                        mediaCodec12 = mediaCodec2;
                                        try {
                                            sb2.append(" size: ");
                                            sb2.append(i63);
                                            str10 = str16;
                                            try {
                                                sb2.append(str10);
                                                sb2.append(i62);
                                                FileLog.e(sb2.toString());
                                                FileLog.e(exc2);
                                                z4 = z42;
                                                z7 = true;
                                                if (outputSurface8 != null) {
                                                }
                                                if (inputSurface7 != null) {
                                                }
                                                if (mediaCodec12 != null) {
                                                }
                                                if (audioRecoder2 != null) {
                                                }
                                                checkConversionCanceled();
                                                z2 = z41;
                                                outputSurface3 = outputSurface8;
                                                i65 = i51;
                                                str2 = str9;
                                                mediaCodecVideoConvertor = this;
                                                mediaCodec6 = mediaCodec12;
                                                z3 = z51;
                                                z6 = z40;
                                                file = file2;
                                                inputSurface2 = inputSurface7;
                                                mediaCodec3 = null;
                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor2 != null) {
                                                }
                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                if (mP4Builder2 != null) {
                                                }
                                                if (mediaCodec6 != null) {
                                                }
                                                if (mediaCodec3 != null) {
                                                }
                                                if (outputSurface3 != null) {
                                                }
                                                if (inputSurface2 != null) {
                                                }
                                                str3 = str2;
                                            } catch (Throwable th3) {
                                                th = th3;
                                                z2 = z41;
                                                outputSurface9 = outputSurface8;
                                                i65 = i51;
                                                str2 = str9;
                                                z4 = z42;
                                                mediaCodecVideoConvertor = this;
                                                z3 = z51;
                                                z5 = z40;
                                                file = file2;
                                                mediaCodec = null;
                                                str = str10;
                                                i2 = i63;
                                                i4 = i13;
                                                i3 = i50;
                                                mediaCodec2 = mediaCodec12;
                                                inputSurface = inputSurface7;
                                                outputSurface = outputSurface9;
                                                th = th;
                                                try {
                                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                    FileLog.e(th);
                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor != null) {
                                                    }
                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder != null) {
                                                    }
                                                    if (mediaCodec2 != null) {
                                                    }
                                                    if (mediaCodec != null) {
                                                    }
                                                    if (outputSurface != null) {
                                                    }
                                                    if (inputSurface != null) {
                                                    }
                                                    i63 = i2;
                                                    str3 = str2;
                                                    z6 = z5;
                                                    z7 = true;
                                                    if (z4) {
                                                    }
                                                } catch (Throwable th4) {
                                                    MediaExtractor mediaExtractor3 = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor3 != null) {
                                                        mediaExtractor3.release();
                                                    }
                                                    MP4Builder mP4Builder3 = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder3 != null) {
                                                        try {
                                                            mP4Builder3.finishMovie();
                                                            mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.mediaMuxer.getLastFrameTimestamp(i4);
                                                        } catch (Throwable th5) {
                                                            FileLog.e(th5);
                                                        }
                                                    }
                                                    if (mediaCodec2 != null) {
                                                        try {
                                                            mediaCodec2.release();
                                                        } catch (Exception unused) {
                                                        }
                                                    }
                                                    if (mediaCodec != null) {
                                                        try {
                                                            mediaCodec.release();
                                                        } catch (Exception unused2) {
                                                        }
                                                    }
                                                    if (outputSurface != null) {
                                                        try {
                                                            outputSurface.release();
                                                        } catch (Exception unused3) {
                                                        }
                                                    }
                                                    if (inputSurface != null) {
                                                        try {
                                                            inputSurface.release();
                                                        } catch (Exception unused4) {
                                                        }
                                                    }
                                                    throw th4;
                                                }
                                            }
                                        } catch (Throwable th6) {
                                            th = th6;
                                            z2 = z41;
                                            outputSurface9 = outputSurface8;
                                            i65 = i51;
                                            str2 = str9;
                                            z4 = z42;
                                            mediaCodecVideoConvertor = this;
                                            mediaCodec2 = mediaCodec12;
                                            z3 = z51;
                                            z5 = z40;
                                            str = str16;
                                            file = file2;
                                            mediaCodec = null;
                                            i2 = i63;
                                            i4 = i13;
                                            i3 = i50;
                                            inputSurface = inputSurface7;
                                            outputSurface = outputSurface9;
                                            th = th;
                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                            FileLog.e(th);
                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor != null) {
                                            }
                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (mediaCodec != null) {
                                            }
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            i63 = i2;
                                            str3 = str2;
                                            z6 = z5;
                                            z7 = true;
                                            if (z4) {
                                            }
                                        }
                                    } catch (Throwable th7) {
                                        th = th7;
                                        z2 = z41;
                                        outputSurface9 = outputSurface8;
                                        i65 = i51;
                                        str2 = str9;
                                        z4 = z42;
                                        mediaCodecVideoConvertor = this;
                                    }
                                } catch (Throwable th8) {
                                    th = th8;
                                    z2 = z41;
                                    outputSurface9 = outputSurface8;
                                    i65 = i51;
                                    str2 = str9;
                                    z4 = z42;
                                    mediaCodecVideoConvertor = this;
                                    z3 = z51;
                                    z5 = z40;
                                    str = str16;
                                    file = file2;
                                    mediaCodec = null;
                                    i2 = i63;
                                    i4 = i13;
                                    i3 = i49;
                                    inputSurface = inputSurface7;
                                    outputSurface = outputSurface9;
                                    th = th;
                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                    FileLog.e(th);
                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                    if (mP4Builder != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface != null) {
                                    }
                                    i63 = i2;
                                    str3 = str2;
                                    z6 = z5;
                                    z7 = true;
                                    if (z4) {
                                    }
                                }
                            } catch (Throwable th9) {
                                th = th9;
                                i51 = i48;
                            }
                        } catch (Throwable th10) {
                            th = th10;
                            z2 = z;
                            outputSurface = outputSurface8;
                            i65 = i48;
                            i4 = i13;
                            str2 = str9;
                            mediaCodecVideoConvertor = this;
                            z3 = z51;
                            z5 = z40;
                            str = str16;
                            file = file2;
                            mediaCodec = null;
                            z4 = false;
                            inputSurface = inputSurface7;
                            i2 = i63;
                            i3 = i49;
                        }
                        if (z4) {
                        }
                    } catch (Throwable th11) {
                        th = th11;
                        z2 = z;
                        th = th;
                        i2 = i63;
                        mediaCodecVideoConvertor = this;
                        z3 = z51;
                        i3 = i67;
                        str = str16;
                        file = file2;
                        mediaCodec2 = null;
                        mediaCodec = null;
                        inputSurface = null;
                        i4 = -5;
                        str2 = null;
                        outputSurface = null;
                        z4 = false;
                        z5 = false;
                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                        FileLog.e(th);
                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor != null) {
                        }
                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                        if (mP4Builder != null) {
                        }
                        if (mediaCodec2 != null) {
                        }
                        if (mediaCodec != null) {
                        }
                        if (outputSurface != null) {
                        }
                        if (inputSurface != null) {
                        }
                        i63 = i2;
                        str3 = str2;
                        z6 = z5;
                        z7 = true;
                        if (z4) {
                        }
                    }
                } else {
                    cropState = cropState2;
                }
                try {
                    if (i62 % 16 != 0) {
                        if (BuildVars.LOGS_ENABLED) {
                            FileLog.d("changing width from " + i62 + " to " + (Math.round(i62 / 16.0f) * 16));
                        }
                        i62 = Math.round(i62 / 16.0f) * 16;
                    }
                    if (i63 % 16 != 0) {
                        if (BuildVars.LOGS_ENABLED) {
                            FileLog.d("changing height from " + i63 + " to " + (Math.round(i63 / 16.0f) * 16));
                        }
                        i63 = Math.round(i63 / 16.0f) * 16;
                    }
                    if (BuildVars.LOGS_ENABLED) {
                        FileLog.d("create photo encoder " + i62 + " " + i63 + " duration = " + j21);
                    }
                    mediaCodec2 = createEncoderForMimeType();
                } catch (Exception e3) {
                    i48 = i65;
                    i49 = i67;
                    exc2 = e3;
                    mediaCodec2 = null;
                    inputSurface7 = null;
                    outputSurface8 = null;
                    i13 = -5;
                    str9 = null;
                    audioRecoder2 = null;
                    z40 = false;
                    z41 = z;
                    if (exc2 instanceof IllegalStateException) {
                    }
                    StringBuilder sb22 = new StringBuilder();
                    sb22.append("bitrate: ");
                    i51 = i48;
                    sb22.append(i51);
                    sb22.append(" framerate: ");
                    i50 = i49;
                    sb22.append(i50);
                    mediaCodec12 = mediaCodec2;
                    sb22.append(" size: ");
                    sb22.append(i63);
                    str10 = str16;
                    sb22.append(str10);
                    sb22.append(i62);
                    FileLog.e(sb22.toString());
                    FileLog.e(exc2);
                    z4 = z42;
                    z7 = true;
                    if (outputSurface8 != null) {
                    }
                    if (inputSurface7 != null) {
                    }
                    if (mediaCodec12 != null) {
                    }
                    if (audioRecoder2 != null) {
                    }
                    checkConversionCanceled();
                    z2 = z41;
                    outputSurface3 = outputSurface8;
                    i65 = i51;
                    str2 = str9;
                    mediaCodecVideoConvertor = this;
                    mediaCodec6 = mediaCodec12;
                    z3 = z51;
                    z6 = z40;
                    file = file2;
                    inputSurface2 = inputSurface7;
                    mediaCodec3 = null;
                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor2 != null) {
                    }
                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                    if (mP4Builder2 != null) {
                    }
                    if (mediaCodec6 != null) {
                    }
                    if (mediaCodec3 != null) {
                    }
                    if (outputSurface3 != null) {
                    }
                    if (inputSurface2 != null) {
                    }
                    str3 = str2;
                    if (z4) {
                    }
                } catch (Throwable th12) {
                    th = th12;
                    z2 = z;
                    th = th;
                    i2 = i63;
                    mediaCodecVideoConvertor = this;
                    z3 = z51;
                    i3 = i67;
                    str = str16;
                    file = file2;
                    mediaCodec2 = null;
                    mediaCodec = null;
                    inputSurface = null;
                    i4 = -5;
                    str2 = null;
                    outputSurface = null;
                    z4 = false;
                    z5 = false;
                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                    FileLog.e(th);
                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor != null) {
                    }
                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                    if (mP4Builder != null) {
                    }
                    if (mediaCodec2 != null) {
                    }
                    if (mediaCodec != null) {
                    }
                    if (outputSurface != null) {
                    }
                    if (inputSurface != null) {
                    }
                    i63 = i2;
                    str3 = str2;
                    z6 = z5;
                    z7 = true;
                    if (z4) {
                    }
                }
                try {
                    MediaFormat createVideoFormat2 = MediaFormat.createVideoFormat(this.outputMimeType, i62, i63);
                    createVideoFormat2.setInteger("color-format", 2130708361);
                    createVideoFormat2.setInteger("bitrate", i65);
                    createVideoFormat2.setInteger("frame-rate", 30);
                    createVideoFormat2.setInteger("i-frame-interval", 1);
                    str9 = mediaCodec2.getName();
                    try {
                        z40 = "c2.qti.avc.encoder".equalsIgnoreCase(str9);
                        try {
                            sb = new StringBuilder();
                            i48 = i65;
                        } catch (Exception e4) {
                            e = e4;
                            i48 = i65;
                        } catch (Throwable th13) {
                            th = th13;
                            z2 = z;
                            i2 = i63;
                            mediaCodecVideoConvertor = this;
                            i3 = i67;
                            z3 = z51;
                            str2 = str9;
                            z5 = z40;
                        }
                    } catch (Exception e5) {
                        i48 = i65;
                        i49 = i67;
                        exc2 = e5;
                        inputSurface7 = null;
                        outputSurface8 = null;
                        i13 = -5;
                        audioRecoder2 = null;
                        z40 = false;
                        z41 = z;
                        if (exc2 instanceof IllegalStateException) {
                        }
                        StringBuilder sb222 = new StringBuilder();
                        sb222.append("bitrate: ");
                        i51 = i48;
                        sb222.append(i51);
                        sb222.append(" framerate: ");
                        i50 = i49;
                        sb222.append(i50);
                        mediaCodec12 = mediaCodec2;
                        sb222.append(" size: ");
                        sb222.append(i63);
                        str10 = str16;
                        sb222.append(str10);
                        sb222.append(i62);
                        FileLog.e(sb222.toString());
                        FileLog.e(exc2);
                        z4 = z42;
                        z7 = true;
                        if (outputSurface8 != null) {
                        }
                        if (inputSurface7 != null) {
                        }
                        if (mediaCodec12 != null) {
                        }
                        if (audioRecoder2 != null) {
                        }
                        checkConversionCanceled();
                        z2 = z41;
                        outputSurface3 = outputSurface8;
                        i65 = i51;
                        str2 = str9;
                        mediaCodecVideoConvertor = this;
                        mediaCodec6 = mediaCodec12;
                        z3 = z51;
                        z6 = z40;
                        file = file2;
                        inputSurface2 = inputSurface7;
                        mediaCodec3 = null;
                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor2 != null) {
                        }
                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                        if (mP4Builder2 != null) {
                        }
                        if (mediaCodec6 != null) {
                        }
                        if (mediaCodec3 != null) {
                        }
                        if (outputSurface3 != null) {
                        }
                        if (inputSurface2 != null) {
                        }
                        str3 = str2;
                        if (z4) {
                        }
                    } catch (Throwable th14) {
                        th = th14;
                        z2 = z;
                        i2 = i63;
                        mediaCodecVideoConvertor = this;
                        i3 = i67;
                        z3 = z51;
                        str2 = str9;
                        str = str16;
                        file = file2;
                        mediaCodec = null;
                        inputSurface = null;
                        i4 = -5;
                        outputSurface = null;
                        z4 = false;
                        z5 = false;
                        th = th;
                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                        FileLog.e(th);
                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor != null) {
                        }
                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                        if (mP4Builder != null) {
                        }
                        if (mediaCodec2 != null) {
                        }
                        if (mediaCodec != null) {
                        }
                        if (outputSurface != null) {
                        }
                        if (inputSurface != null) {
                        }
                        i63 = i2;
                        str3 = str2;
                        z6 = z5;
                        z7 = true;
                        if (z4) {
                        }
                    }
                    try {
                        sb.append("selected encoder ");
                        sb.append(str9);
                        FileLog.d(sb.toString());
                        mediaCodec2.configure(createVideoFormat2, (Surface) null, (MediaCrypto) null, 1);
                        inputSurface7 = new InputSurface(mediaCodec2.createInputSurface());
                        try {
                            inputSurface7.makeCurrent();
                            mediaCodec2.start();
                        } catch (Exception e6) {
                            i49 = i67;
                            MediaCodec mediaCodec20 = mediaCodec2;
                            InputSurface inputSurface11 = inputSurface7;
                            exc2 = e6;
                        } catch (Throwable th15) {
                            th = th15;
                            str11 = str9;
                            z2 = z;
                            inputSurface = inputSurface7;
                            mediaCodec2 = mediaCodec2;
                            i2 = i63;
                            mediaCodecVideoConvertor = this;
                            i3 = i67;
                        }
                    } catch (Exception e7) {
                        e = e7;
                        i49 = i67;
                        exc2 = e;
                        inputSurface7 = null;
                        outputSurface8 = null;
                        i13 = -5;
                        audioRecoder2 = null;
                        z41 = z;
                        if (exc2 instanceof IllegalStateException) {
                        }
                        StringBuilder sb2222 = new StringBuilder();
                        sb2222.append("bitrate: ");
                        i51 = i48;
                        sb2222.append(i51);
                        sb2222.append(" framerate: ");
                        i50 = i49;
                        sb2222.append(i50);
                        mediaCodec12 = mediaCodec2;
                        sb2222.append(" size: ");
                        sb2222.append(i63);
                        str10 = str16;
                        sb2222.append(str10);
                        sb2222.append(i62);
                        FileLog.e(sb2222.toString());
                        FileLog.e(exc2);
                        z4 = z42;
                        z7 = true;
                        if (outputSurface8 != null) {
                        }
                        if (inputSurface7 != null) {
                        }
                        if (mediaCodec12 != null) {
                        }
                        if (audioRecoder2 != null) {
                        }
                        checkConversionCanceled();
                        z2 = z41;
                        outputSurface3 = outputSurface8;
                        i65 = i51;
                        str2 = str9;
                        mediaCodecVideoConvertor = this;
                        mediaCodec6 = mediaCodec12;
                        z3 = z51;
                        z6 = z40;
                        file = file2;
                        inputSurface2 = inputSurface7;
                        mediaCodec3 = null;
                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor2 != null) {
                        }
                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                        if (mP4Builder2 != null) {
                        }
                        if (mediaCodec6 != null) {
                        }
                        if (mediaCodec3 != null) {
                        }
                        if (outputSurface3 != null) {
                        }
                        if (inputSurface2 != null) {
                        }
                        str3 = str2;
                        if (z4) {
                        }
                    } catch (Throwable th16) {
                        th = th16;
                        z2 = z;
                        i2 = i63;
                        mediaCodecVideoConvertor = this;
                        i3 = i67;
                        z3 = z51;
                        str2 = str9;
                        z5 = z40;
                        i65 = i48;
                        str = str16;
                        file = file2;
                        mediaCodec13 = null;
                        inputSurface = null;
                        i4 = -5;
                        outputSurface6 = null;
                        mediaCodec2 = mediaCodec2;
                        mediaCodec = mediaCodec13;
                        z4 = false;
                        outputSurface = outputSurface6;
                        th = th;
                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                        FileLog.e(th);
                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor != null) {
                        }
                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                        if (mP4Builder != null) {
                        }
                        if (mediaCodec2 != null) {
                        }
                        if (mediaCodec != null) {
                        }
                        if (outputSurface != null) {
                        }
                        if (inputSurface != null) {
                        }
                        i63 = i2;
                        str3 = str2;
                        z6 = z5;
                        z7 = true;
                        if (z4) {
                        }
                    }
                } catch (Exception e8) {
                    i48 = i65;
                    i49 = i67;
                    exc2 = e8;
                    inputSurface7 = null;
                    outputSurface8 = null;
                    i13 = -5;
                    str9 = null;
                    audioRecoder2 = null;
                    z40 = false;
                    z41 = z;
                    if (exc2 instanceof IllegalStateException) {
                    }
                    StringBuilder sb22222 = new StringBuilder();
                    sb22222.append("bitrate: ");
                    i51 = i48;
                    sb22222.append(i51);
                    sb22222.append(" framerate: ");
                    i50 = i49;
                    sb22222.append(i50);
                    mediaCodec12 = mediaCodec2;
                    sb22222.append(" size: ");
                    sb22222.append(i63);
                    str10 = str16;
                    sb22222.append(str10);
                    sb22222.append(i62);
                    FileLog.e(sb22222.toString());
                    FileLog.e(exc2);
                    z4 = z42;
                    z7 = true;
                    if (outputSurface8 != null) {
                    }
                    if (inputSurface7 != null) {
                    }
                    if (mediaCodec12 != null) {
                    }
                    if (audioRecoder2 != null) {
                    }
                    checkConversionCanceled();
                    z2 = z41;
                    outputSurface3 = outputSurface8;
                    i65 = i51;
                    str2 = str9;
                    mediaCodecVideoConvertor = this;
                    mediaCodec6 = mediaCodec12;
                    z3 = z51;
                    z6 = z40;
                    file = file2;
                    inputSurface2 = inputSurface7;
                    mediaCodec3 = null;
                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                    if (mediaExtractor2 != null) {
                    }
                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                    if (mP4Builder2 != null) {
                    }
                    if (mediaCodec6 != null) {
                    }
                    if (mediaCodec3 != null) {
                    }
                    if (outputSurface3 != null) {
                    }
                    if (inputSurface2 != null) {
                    }
                    str3 = str2;
                    if (z4) {
                    }
                } catch (Throwable th17) {
                    th = th17;
                    z2 = z;
                    i2 = i63;
                    mediaCodecVideoConvertor = this;
                    z3 = z51;
                    i3 = i67;
                    str = str16;
                    file = file2;
                    mediaCodec = null;
                    inputSurface = null;
                    i4 = -5;
                    str2 = null;
                }
                if (cropState != null) {
                    try {
                    } catch (Exception e9) {
                        exc2 = e9;
                        i49 = i67;
                        outputSurface8 = null;
                        i13 = -5;
                        audioRecoder2 = null;
                        z41 = z;
                        if (exc2 instanceof IllegalStateException) {
                        }
                        StringBuilder sb222222 = new StringBuilder();
                        sb222222.append("bitrate: ");
                        i51 = i48;
                        sb222222.append(i51);
                        sb222222.append(" framerate: ");
                        i50 = i49;
                        sb222222.append(i50);
                        mediaCodec12 = mediaCodec2;
                        sb222222.append(" size: ");
                        sb222222.append(i63);
                        str10 = str16;
                        sb222222.append(str10);
                        sb222222.append(i62);
                        FileLog.e(sb222222.toString());
                        FileLog.e(exc2);
                        z4 = z42;
                        z7 = true;
                        if (outputSurface8 != null) {
                        }
                        if (inputSurface7 != null) {
                        }
                        if (mediaCodec12 != null) {
                        }
                        if (audioRecoder2 != null) {
                        }
                        checkConversionCanceled();
                        z2 = z41;
                        outputSurface3 = outputSurface8;
                        i65 = i51;
                        str2 = str9;
                        mediaCodecVideoConvertor = this;
                        mediaCodec6 = mediaCodec12;
                        z3 = z51;
                        z6 = z40;
                        file = file2;
                        inputSurface2 = inputSurface7;
                        mediaCodec3 = null;
                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor2 != null) {
                        }
                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                        if (mP4Builder2 != null) {
                        }
                        if (mediaCodec6 != null) {
                        }
                        if (mediaCodec3 != null) {
                        }
                        if (outputSurface3 != null) {
                        }
                        if (inputSurface2 != null) {
                        }
                        str3 = str2;
                        if (z4) {
                        }
                    } catch (Throwable th18) {
                        th = th18;
                        z2 = z;
                        inputSurface = inputSurface7;
                        i2 = i63;
                        str2 = str9;
                        mediaCodecVideoConvertor = this;
                        z3 = z51;
                        i3 = i67;
                        z5 = z40;
                        i65 = i48;
                        str = str16;
                        file = file2;
                        mediaCodec13 = null;
                        i4 = -5;
                        outputSurface6 = null;
                        mediaCodec2 = mediaCodec2;
                        mediaCodec = mediaCodec13;
                        z4 = false;
                        outputSurface = outputSurface6;
                        th = th;
                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                        FileLog.e(th);
                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor != null) {
                        }
                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                        if (mP4Builder != null) {
                        }
                        if (mediaCodec2 != null) {
                        }
                        if (mediaCodec != null) {
                        }
                        if (outputSurface != null) {
                        }
                        if (inputSurface != null) {
                        }
                        i63 = i2;
                        str3 = str2;
                        z6 = z5;
                        z7 = true;
                        if (z4) {
                        }
                    }
                    if (cropState.useMatrix != null) {
                        i52 = i67;
                        str11 = str9;
                        outputSurface8 = new OutputSurface(savedFilterState, str13, str14, str15, arrayList2, cropState, i62, i63, i60, i61, i59, i52, true, num, num2, null, arrayList3);
                        if (Build.VERSION.SDK_INT >= 21) {
                            try {
                                outputBuffers2 = mediaCodec2.getOutputBuffers();
                            } catch (Exception e10) {
                                exc2 = e10;
                                i49 = i52;
                                str9 = str11;
                                i13 = -5;
                                audioRecoder2 = null;
                                z41 = z;
                                if (exc2 instanceof IllegalStateException) {
                                }
                                StringBuilder sb2222222 = new StringBuilder();
                                sb2222222.append("bitrate: ");
                                i51 = i48;
                                sb2222222.append(i51);
                                sb2222222.append(" framerate: ");
                                i50 = i49;
                                sb2222222.append(i50);
                                mediaCodec12 = mediaCodec2;
                                sb2222222.append(" size: ");
                                sb2222222.append(i63);
                                str10 = str16;
                                sb2222222.append(str10);
                                sb2222222.append(i62);
                                FileLog.e(sb2222222.toString());
                                FileLog.e(exc2);
                                z4 = z42;
                                z7 = true;
                                if (outputSurface8 != null) {
                                }
                                if (inputSurface7 != null) {
                                }
                                if (mediaCodec12 != null) {
                                }
                                if (audioRecoder2 != null) {
                                }
                                checkConversionCanceled();
                                z2 = z41;
                                outputSurface3 = outputSurface8;
                                i65 = i51;
                                str2 = str9;
                                mediaCodecVideoConvertor = this;
                                mediaCodec6 = mediaCodec12;
                                z3 = z51;
                                z6 = z40;
                                file = file2;
                                inputSurface2 = inputSurface7;
                                mediaCodec3 = null;
                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor2 != null) {
                                }
                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder2 != null) {
                                }
                                if (mediaCodec6 != null) {
                                }
                                if (mediaCodec3 != null) {
                                }
                                if (outputSurface3 != null) {
                                }
                                if (inputSurface2 != null) {
                                }
                                str3 = str2;
                                if (z4) {
                                }
                            } catch (Throwable th19) {
                                th = th19;
                                z2 = z;
                                inputSurface = inputSurface7;
                                outputSurface6 = outputSurface8;
                                i2 = i63;
                                i3 = i52;
                                mediaCodecVideoConvertor = this;
                                z3 = z51;
                                str2 = str11;
                                z5 = z40;
                                i65 = i48;
                                str = str16;
                                file = file2;
                                mediaCodec = null;
                                i4 = -5;
                                mediaCodec2 = mediaCodec2;
                                z4 = false;
                                outputSurface = outputSurface6;
                                th = th;
                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i63 = i2;
                                str3 = str2;
                                z6 = z5;
                                z7 = true;
                                if (z4) {
                                }
                            }
                        } else {
                            outputBuffers2 = null;
                        }
                        checkConversionCanceled();
                        ByteBuffer[] byteBufferArr3 = outputBuffers2;
                        i49 = i52;
                        this.mediaMuxer = new MP4Builder().createMovie(mp4Movie2, z50, this.outputMimeType.equals("video/hevc"));
                        if (convertVideoParams.soundInfos.isEmpty()) {
                            try {
                                try {
                                    ArrayList arrayList4 = new ArrayList();
                                    arrayList4.add(new BlankAudioInput(j23));
                                    applyAudioInputs(convertVideoParams.soundInfos, arrayList4);
                                    audioRecoder2 = new AudioRecoder(arrayList4, j23);
                                    try {
                                        addTrack = this.mediaMuxer.addTrack(audioRecoder2.format, true);
                                        z43 = false;
                                        i4 = -5;
                                    } catch (Exception e11) {
                                        exc2 = e11;
                                        str9 = str11;
                                        i13 = -5;
                                    }
                                } catch (Exception e12) {
                                    exc2 = e12;
                                    str9 = str11;
                                    i13 = -5;
                                    audioRecoder2 = null;
                                    z41 = z;
                                    if (exc2 instanceof IllegalStateException) {
                                    }
                                    StringBuilder sb22222222 = new StringBuilder();
                                    sb22222222.append("bitrate: ");
                                    i51 = i48;
                                    sb22222222.append(i51);
                                    sb22222222.append(" framerate: ");
                                    i50 = i49;
                                    sb22222222.append(i50);
                                    mediaCodec12 = mediaCodec2;
                                    sb22222222.append(" size: ");
                                    sb22222222.append(i63);
                                    str10 = str16;
                                    sb22222222.append(str10);
                                    sb22222222.append(i62);
                                    FileLog.e(sb22222222.toString());
                                    FileLog.e(exc2);
                                    z4 = z42;
                                    z7 = true;
                                    if (outputSurface8 != null) {
                                    }
                                    if (inputSurface7 != null) {
                                    }
                                    if (mediaCodec12 != null) {
                                    }
                                    if (audioRecoder2 != null) {
                                    }
                                    checkConversionCanceled();
                                    z2 = z41;
                                    outputSurface3 = outputSurface8;
                                    i65 = i51;
                                    str2 = str9;
                                    mediaCodecVideoConvertor = this;
                                    mediaCodec6 = mediaCodec12;
                                    z3 = z51;
                                    z6 = z40;
                                    file = file2;
                                    inputSurface2 = inputSurface7;
                                    mediaCodec3 = null;
                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor2 != null) {
                                    }
                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                    if (mP4Builder2 != null) {
                                    }
                                    if (mediaCodec6 != null) {
                                    }
                                    if (mediaCodec3 != null) {
                                    }
                                    if (outputSurface3 != null) {
                                    }
                                    if (inputSurface2 != null) {
                                    }
                                    str3 = str2;
                                    if (z4) {
                                    }
                                }
                            } catch (Throwable th20) {
                                th = th20;
                                z2 = z;
                                inputSurface = inputSurface7;
                                outputSurface6 = outputSurface8;
                                i2 = i63;
                                mediaCodecVideoConvertor = this;
                                i3 = i49;
                                z3 = z51;
                                str2 = str11;
                                z5 = z40;
                                i65 = i48;
                                str = str16;
                                file = file2;
                                mediaCodec = null;
                                i4 = -5;
                                mediaCodec2 = mediaCodec2;
                                z4 = false;
                                outputSurface = outputSurface6;
                                th = th;
                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i63 = i2;
                                str3 = str2;
                                z6 = z5;
                                z7 = true;
                                if (z4) {
                                }
                            }
                        } else {
                            z43 = true;
                            addTrack = -1;
                            i4 = -5;
                            audioRecoder2 = null;
                        }
                        z44 = false;
                        long j24 = 0;
                        z45 = false;
                        int i68 = 0;
                        i53 = 0;
                        boolean z57 = true;
                        loop0: while (true) {
                            if (!z44 && z43) {
                                z41 = z;
                                mediaCodec12 = mediaCodec2;
                                i13 = i4;
                                i50 = i49;
                                str9 = str11;
                                i51 = i48;
                                str10 = str16;
                                z7 = false;
                                z4 = false;
                                break;
                            }
                            try {
                                try {
                                    checkConversionCanceled();
                                    if (audioRecoder2 != null) {
                                        try {
                                            try {
                                                z43 = audioRecoder2.step(this.mediaMuxer, addTrack);
                                            } catch (Exception e13) {
                                                exc2 = e13;
                                                i13 = i4;
                                            }
                                        } catch (Throwable th21) {
                                            th = th21;
                                            z2 = z;
                                            inputSurface = inputSurface7;
                                            outputSurface6 = outputSurface8;
                                            i2 = i63;
                                            mediaCodecVideoConvertor = this;
                                            mediaCodec17 = mediaCodec2;
                                            i3 = i49;
                                            mediaCodec16 = mediaCodec17;
                                            z3 = z51;
                                            str2 = str11;
                                            z5 = z40;
                                            i65 = i48;
                                            str = str16;
                                            file = file2;
                                            mediaCodec = null;
                                            mediaCodec2 = mediaCodec16;
                                            z4 = false;
                                            outputSurface = outputSurface6;
                                            th = th;
                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                            FileLog.e(th);
                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor != null) {
                                            }
                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (mediaCodec != null) {
                                            }
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            i63 = i2;
                                            str3 = str2;
                                            z6 = z5;
                                            z7 = true;
                                            if (z4) {
                                            }
                                        }
                                    }
                                    z46 = !z45;
                                    z47 = true;
                                    int i69 = i53;
                                    boolean z58 = z43;
                                    i54 = i69;
                                } catch (Throwable th22) {
                                    th = th22;
                                    r14 = outputSurface8;
                                    InputSurface inputSurface12 = inputSurface7;
                                    inputSurface7 = mediaCodec2;
                                    mediaCodec2 = inputSurface12;
                                }
                            } catch (Exception e14) {
                                e = e14;
                                audioRecoder3 = audioRecoder2;
                            }
                            while (true) {
                                if (!z46 || z47) {
                                    checkConversionCanceled();
                                    audioRecoder3 = audioRecoder2;
                                    if (z) {
                                        z48 = z44;
                                        j17 = 2500;
                                    } else {
                                        z48 = z44;
                                        j17 = 22000;
                                    }
                                    try {
                                        r14 = mediaCodec2.dequeueOutputBuffer(bufferInfo3, j17);
                                    } catch (Exception e15) {
                                        e = e15;
                                        InputSurface inputSurface13 = inputSurface7;
                                        mediaCodec14 = mediaCodec2;
                                        inputSurface8 = inputSurface13;
                                        exc2 = e;
                                        i13 = i4;
                                        audioRecoder2 = audioRecoder3;
                                        str9 = str11;
                                        InputSurface inputSurface14 = inputSurface8;
                                        MediaCodec mediaCodec21 = mediaCodec14;
                                        MediaCodec mediaCodec22 = mediaCodec21;
                                        inputSurface7 = inputSurface14;
                                        mediaCodec2 = mediaCodec22;
                                        z41 = z;
                                        if (exc2 instanceof IllegalStateException) {
                                        }
                                        StringBuilder sb222222222 = new StringBuilder();
                                        sb222222222.append("bitrate: ");
                                        i51 = i48;
                                        sb222222222.append(i51);
                                        sb222222222.append(" framerate: ");
                                        i50 = i49;
                                        sb222222222.append(i50);
                                        mediaCodec12 = mediaCodec2;
                                        sb222222222.append(" size: ");
                                        sb222222222.append(i63);
                                        str10 = str16;
                                        sb222222222.append(str10);
                                        sb222222222.append(i62);
                                        FileLog.e(sb222222222.toString());
                                        FileLog.e(exc2);
                                        z4 = z42;
                                        z7 = true;
                                        if (outputSurface8 != null) {
                                        }
                                        if (inputSurface7 != null) {
                                        }
                                        if (mediaCodec12 != null) {
                                        }
                                        if (audioRecoder2 != null) {
                                        }
                                        checkConversionCanceled();
                                        z2 = z41;
                                        outputSurface3 = outputSurface8;
                                        i65 = i51;
                                        str2 = str9;
                                        mediaCodecVideoConvertor = this;
                                        mediaCodec6 = mediaCodec12;
                                        z3 = z51;
                                        z6 = z40;
                                        file = file2;
                                        inputSurface2 = inputSurface7;
                                        mediaCodec3 = null;
                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                        if (mP4Builder2 != null) {
                                        }
                                        if (mediaCodec6 != null) {
                                        }
                                        if (mediaCodec3 != null) {
                                        }
                                        if (outputSurface3 != null) {
                                        }
                                        if (inputSurface2 != null) {
                                        }
                                        str3 = str2;
                                        if (z4) {
                                        }
                                    }
                                    if (r14 != -1) {
                                        inputSurface9 = inputSurface7;
                                        i55 = addTrack;
                                        outputSurface11 = outputSurface8;
                                        i56 = r14;
                                        z44 = z48;
                                        str12 = str17;
                                        z47 = false;
                                    } else if (r14 == -3) {
                                        try {
                                            i55 = addTrack;
                                            if (Build.VERSION.SDK_INT < 21) {
                                                byteBufferArr3 = mediaCodec2.getOutputBuffers();
                                            }
                                            inputSurface9 = inputSurface7;
                                            outputSurface11 = outputSurface8;
                                            i56 = r14;
                                            z44 = z48;
                                            str12 = str17;
                                        } catch (Exception e16) {
                                            exc2 = e16;
                                            i13 = i4;
                                            audioRecoder2 = audioRecoder3;
                                            str9 = str11;
                                            z41 = z;
                                            if (exc2 instanceof IllegalStateException) {
                                            }
                                            StringBuilder sb2222222222 = new StringBuilder();
                                            sb2222222222.append("bitrate: ");
                                            i51 = i48;
                                            sb2222222222.append(i51);
                                            sb2222222222.append(" framerate: ");
                                            i50 = i49;
                                            sb2222222222.append(i50);
                                            mediaCodec12 = mediaCodec2;
                                            sb2222222222.append(" size: ");
                                            sb2222222222.append(i63);
                                            str10 = str16;
                                            sb2222222222.append(str10);
                                            sb2222222222.append(i62);
                                            FileLog.e(sb2222222222.toString());
                                            FileLog.e(exc2);
                                            z4 = z42;
                                            z7 = true;
                                            if (outputSurface8 != null) {
                                            }
                                            if (inputSurface7 != null) {
                                            }
                                            if (mediaCodec12 != null) {
                                            }
                                            if (audioRecoder2 != null) {
                                            }
                                            checkConversionCanceled();
                                            z2 = z41;
                                            outputSurface3 = outputSurface8;
                                            i65 = i51;
                                            str2 = str9;
                                            mediaCodecVideoConvertor = this;
                                            mediaCodec6 = mediaCodec12;
                                            z3 = z51;
                                            z6 = z40;
                                            file = file2;
                                            inputSurface2 = inputSurface7;
                                            mediaCodec3 = null;
                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor2 != null) {
                                            }
                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder2 != null) {
                                            }
                                            if (mediaCodec6 != null) {
                                            }
                                            if (mediaCodec3 != null) {
                                            }
                                            if (outputSurface3 != null) {
                                            }
                                            if (inputSurface2 != null) {
                                            }
                                            str3 = str2;
                                            if (z4) {
                                            }
                                        }
                                    } else {
                                        i55 = addTrack;
                                        if (r14 == -2) {
                                            MediaFormat outputFormat = mediaCodec2.getOutputFormat();
                                            if (BuildVars.LOGS_ENABLED) {
                                                FileLog.d("photo encoder new format " + outputFormat);
                                            }
                                            if (i4 != -5 || outputFormat == null) {
                                                str12 = str17;
                                            } else {
                                                i4 = this.mediaMuxer.addTrack(outputFormat, false);
                                                String str19 = str18;
                                                try {
                                                    if (outputFormat.containsKey(str19)) {
                                                        str18 = str19;
                                                        if (outputFormat.getInteger(str19) == 1) {
                                                            str12 = str17;
                                                            ByteBuffer byteBuffer7 = outputFormat.getByteBuffer(str12);
                                                            i58 = i4;
                                                            try {
                                                                ByteBuffer byteBuffer8 = outputFormat.getByteBuffer("csd-1");
                                                                i68 = (byteBuffer7 == null ? 0 : byteBuffer7.limit()) + (byteBuffer8 == null ? 0 : byteBuffer8.limit());
                                                                i4 = i58;
                                                            } catch (Exception e17) {
                                                                e = e17;
                                                                exc2 = e;
                                                                audioRecoder2 = audioRecoder3;
                                                                i13 = i58;
                                                                str9 = str11;
                                                                z41 = z;
                                                                if (exc2 instanceof IllegalStateException) {
                                                                }
                                                                StringBuilder sb22222222222 = new StringBuilder();
                                                                sb22222222222.append("bitrate: ");
                                                                i51 = i48;
                                                                sb22222222222.append(i51);
                                                                sb22222222222.append(" framerate: ");
                                                                i50 = i49;
                                                                sb22222222222.append(i50);
                                                                mediaCodec12 = mediaCodec2;
                                                                sb22222222222.append(" size: ");
                                                                sb22222222222.append(i63);
                                                                str10 = str16;
                                                                sb22222222222.append(str10);
                                                                sb22222222222.append(i62);
                                                                FileLog.e(sb22222222222.toString());
                                                                FileLog.e(exc2);
                                                                z4 = z42;
                                                                z7 = true;
                                                                if (outputSurface8 != null) {
                                                                }
                                                                if (inputSurface7 != null) {
                                                                }
                                                                if (mediaCodec12 != null) {
                                                                }
                                                                if (audioRecoder2 != null) {
                                                                }
                                                                checkConversionCanceled();
                                                                z2 = z41;
                                                                outputSurface3 = outputSurface8;
                                                                i65 = i51;
                                                                str2 = str9;
                                                                mediaCodecVideoConvertor = this;
                                                                mediaCodec6 = mediaCodec12;
                                                                z3 = z51;
                                                                z6 = z40;
                                                                file = file2;
                                                                inputSurface2 = inputSurface7;
                                                                mediaCodec3 = null;
                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor2 != null) {
                                                                }
                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                if (mP4Builder2 != null) {
                                                                }
                                                                if (mediaCodec6 != null) {
                                                                }
                                                                if (mediaCodec3 != null) {
                                                                }
                                                                if (outputSurface3 != null) {
                                                                }
                                                                if (inputSurface2 != null) {
                                                                }
                                                                str3 = str2;
                                                                if (z4) {
                                                                }
                                                            } catch (Throwable th23) {
                                                                th = th23;
                                                                z2 = z;
                                                                inputSurface = inputSurface7;
                                                                outputSurface6 = outputSurface8;
                                                                i2 = i63;
                                                                mediaCodecVideoConvertor = this;
                                                                i3 = i49;
                                                                i4 = i58;
                                                                mediaCodec16 = mediaCodec2;
                                                                z3 = z51;
                                                                str2 = str11;
                                                                z5 = z40;
                                                                i65 = i48;
                                                                str = str16;
                                                                file = file2;
                                                                mediaCodec = null;
                                                                mediaCodec2 = mediaCodec16;
                                                                z4 = false;
                                                                outputSurface = outputSurface6;
                                                                th = th;
                                                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                FileLog.e(th);
                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor != null) {
                                                                }
                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                if (mP4Builder != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (mediaCodec != null) {
                                                                }
                                                                if (outputSurface != null) {
                                                                }
                                                                if (inputSurface != null) {
                                                                }
                                                                i63 = i2;
                                                                str3 = str2;
                                                                z6 = z5;
                                                                z7 = true;
                                                                if (z4) {
                                                                }
                                                            }
                                                        }
                                                    } else {
                                                        str18 = str19;
                                                    }
                                                    i58 = i4;
                                                    str12 = str17;
                                                    i4 = i58;
                                                } catch (Exception e18) {
                                                    e = e18;
                                                    i58 = i4;
                                                } catch (Throwable th24) {
                                                    th = th24;
                                                    z2 = z;
                                                    inputSurface = inputSurface7;
                                                    outputSurface6 = outputSurface8;
                                                    i2 = i63;
                                                    mediaCodecVideoConvertor = this;
                                                    mediaCodec17 = mediaCodec2;
                                                    i3 = i49;
                                                    mediaCodec16 = mediaCodec17;
                                                    z3 = z51;
                                                    str2 = str11;
                                                    z5 = z40;
                                                    i65 = i48;
                                                    str = str16;
                                                    file = file2;
                                                    mediaCodec = null;
                                                    mediaCodec2 = mediaCodec16;
                                                    z4 = false;
                                                    outputSurface = outputSurface6;
                                                    th = th;
                                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                    FileLog.e(th);
                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor != null) {
                                                    }
                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder != null) {
                                                    }
                                                    if (mediaCodec2 != null) {
                                                    }
                                                    if (mediaCodec != null) {
                                                    }
                                                    if (outputSurface != null) {
                                                    }
                                                    if (inputSurface != null) {
                                                    }
                                                    i63 = i2;
                                                    str3 = str2;
                                                    z6 = z5;
                                                    z7 = true;
                                                    if (z4) {
                                                    }
                                                }
                                            }
                                            inputSurface9 = inputSurface7;
                                            outputSurface11 = outputSurface8;
                                            i56 = r14;
                                            z44 = z48;
                                        } else {
                                            str12 = str17;
                                            try {
                                                if (r14 < 0) {
                                                    throw new RuntimeException("unexpected result from encoder.dequeueOutputBuffer: " + r14);
                                                }
                                                if (Build.VERSION.SDK_INT < 21) {
                                                    outputBuffer2 = byteBufferArr3[r14];
                                                } else {
                                                    outputBuffer2 = mediaCodec2.getOutputBuffer(r14);
                                                }
                                                if (outputBuffer2 == null) {
                                                    throw new RuntimeException("encoderOutputBuffer " + r14 + " was null");
                                                }
                                                try {
                                                    int i70 = bufferInfo3.size;
                                                    inputSurface9 = inputSurface7;
                                                    try {
                                                        if (i70 > 1) {
                                                            try {
                                                                int i71 = bufferInfo3.flags;
                                                                if ((i71 & 2) != 0) {
                                                                    mediaCodec18 = mediaCodec2;
                                                                    i57 = i54;
                                                                    outputSurface11 = outputSurface8;
                                                                    i56 = r14;
                                                                    if (i4 == -5) {
                                                                        if (this.outputMimeType.equals("video/hevc")) {
                                                                            break loop0;
                                                                        }
                                                                        int i72 = bufferInfo3.size;
                                                                        byte[] bArr = new byte[i72];
                                                                        outputBuffer2.limit(bufferInfo3.offset + i72);
                                                                        outputBuffer2.position(bufferInfo3.offset);
                                                                        outputBuffer2.get(bArr);
                                                                        byte b = 1;
                                                                        int i73 = bufferInfo3.size - 1;
                                                                        while (i73 >= 0 && i73 > 3) {
                                                                            if (bArr[i73] == b && bArr[i73 - 1] == 0 && bArr[i73 - 2] == 0) {
                                                                                int i74 = i73 - 3;
                                                                                if (bArr[i74] == 0) {
                                                                                    byteBuffer5 = ByteBuffer.allocate(i74);
                                                                                    byteBuffer6 = ByteBuffer.allocate(bufferInfo3.size - i74);
                                                                                    byteBuffer5.put(bArr, 0, i74).position(0);
                                                                                    byteBuffer6.put(bArr, i74, bufferInfo3.size - i74).position(0);
                                                                                    break;
                                                                                }
                                                                            }
                                                                            i73--;
                                                                            b = 1;
                                                                        }
                                                                        byteBuffer5 = null;
                                                                        byteBuffer6 = null;
                                                                        MediaFormat createVideoFormat3 = MediaFormat.createVideoFormat(this.outputMimeType, i62, i63);
                                                                        if (byteBuffer5 != null && byteBuffer6 != null) {
                                                                            createVideoFormat3.setByteBuffer(str12, byteBuffer5);
                                                                            createVideoFormat3.setByteBuffer("csd-1", byteBuffer6);
                                                                        }
                                                                        i4 = this.mediaMuxer.addTrack(createVideoFormat3, false);
                                                                    }
                                                                } else {
                                                                    if (i68 == 0 || (i71 & 1) == 0) {
                                                                        outputSurface11 = outputSurface8;
                                                                    } else {
                                                                        outputSurface11 = outputSurface8;
                                                                        try {
                                                                            bufferInfo3.offset += i68;
                                                                            bufferInfo3.size = i70 - i68;
                                                                        } catch (Exception e19) {
                                                                            e = e19;
                                                                            exc2 = e;
                                                                            i13 = i4;
                                                                            audioRecoder2 = audioRecoder3;
                                                                            inputSurface7 = inputSurface9;
                                                                            outputSurface8 = outputSurface11;
                                                                            str9 = str11;
                                                                            z41 = z;
                                                                            if (exc2 instanceof IllegalStateException) {
                                                                            }
                                                                            StringBuilder sb222222222222 = new StringBuilder();
                                                                            sb222222222222.append("bitrate: ");
                                                                            i51 = i48;
                                                                            sb222222222222.append(i51);
                                                                            sb222222222222.append(" framerate: ");
                                                                            i50 = i49;
                                                                            sb222222222222.append(i50);
                                                                            mediaCodec12 = mediaCodec2;
                                                                            sb222222222222.append(" size: ");
                                                                            sb222222222222.append(i63);
                                                                            str10 = str16;
                                                                            sb222222222222.append(str10);
                                                                            sb222222222222.append(i62);
                                                                            FileLog.e(sb222222222222.toString());
                                                                            FileLog.e(exc2);
                                                                            z4 = z42;
                                                                            z7 = true;
                                                                            if (outputSurface8 != null) {
                                                                            }
                                                                            if (inputSurface7 != null) {
                                                                            }
                                                                            if (mediaCodec12 != null) {
                                                                            }
                                                                            if (audioRecoder2 != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            z2 = z41;
                                                                            outputSurface3 = outputSurface8;
                                                                            i65 = i51;
                                                                            str2 = str9;
                                                                            mediaCodecVideoConvertor = this;
                                                                            mediaCodec6 = mediaCodec12;
                                                                            z3 = z51;
                                                                            z6 = z40;
                                                                            file = file2;
                                                                            inputSurface2 = inputSurface7;
                                                                            mediaCodec3 = null;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder2 != null) {
                                                                            }
                                                                            if (mediaCodec6 != null) {
                                                                            }
                                                                            if (mediaCodec3 != null) {
                                                                            }
                                                                            if (outputSurface3 != null) {
                                                                            }
                                                                            if (inputSurface2 != null) {
                                                                            }
                                                                            str3 = str2;
                                                                            if (z4) {
                                                                            }
                                                                        } catch (Throwable th25) {
                                                                            th = th25;
                                                                            z2 = z;
                                                                            th = th;
                                                                            i2 = i63;
                                                                            mediaCodecVideoConvertor = this;
                                                                            i3 = i49;
                                                                            inputSurface = inputSurface9;
                                                                            outputSurface = outputSurface11;
                                                                            z3 = z51;
                                                                            str2 = str11;
                                                                            z5 = z40;
                                                                            i65 = i48;
                                                                            str = str16;
                                                                            file = file2;
                                                                            mediaCodec = null;
                                                                            z4 = false;
                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            i63 = i2;
                                                                            str3 = str2;
                                                                            z6 = z5;
                                                                            z7 = true;
                                                                            if (z4) {
                                                                            }
                                                                        }
                                                                    }
                                                                    if (z57 && (i71 & 1) != 0) {
                                                                        cutOfNalData(this.outputMimeType, outputBuffer2, bufferInfo3);
                                                                        z57 = false;
                                                                    }
                                                                    try {
                                                                        int i75 = i54;
                                                                        long writeSampleData = this.mediaMuxer.writeSampleData(i4, outputBuffer2, bufferInfo3, true);
                                                                        if (writeSampleData == 0 || (videoConvertorListener3 = this.callback) == null) {
                                                                            mediaCodec18 = mediaCodec2;
                                                                            i56 = r14;
                                                                            i57 = i75;
                                                                        } else {
                                                                            i56 = r14;
                                                                            i57 = i75;
                                                                            long j25 = bufferInfo3.presentationTimeUs;
                                                                            if (j25 <= j24) {
                                                                                j25 = j24;
                                                                            }
                                                                            mediaCodec18 = mediaCodec2;
                                                                            try {
                                                                                videoConvertorListener3.didWriteData(writeSampleData, ((((float) j25) / 1000.0f) / 1000.0f) / f2);
                                                                                j24 = j25;
                                                                            } catch (Exception e20) {
                                                                                exc2 = e20;
                                                                                i13 = i4;
                                                                                audioRecoder2 = audioRecoder3;
                                                                                inputSurface7 = inputSurface9;
                                                                                outputSurface8 = outputSurface11;
                                                                                mediaCodec2 = mediaCodec18;
                                                                            } catch (Throwable th26) {
                                                                                z2 = z;
                                                                                th = th26;
                                                                                i2 = i63;
                                                                                mediaCodecVideoConvertor = this;
                                                                                i3 = i49;
                                                                                inputSurface = inputSurface9;
                                                                                outputSurface = outputSurface11;
                                                                                mediaCodec2 = mediaCodec18;
                                                                                z3 = z51;
                                                                                str2 = str11;
                                                                                z5 = z40;
                                                                                i65 = i48;
                                                                                str = str16;
                                                                                file = file2;
                                                                                mediaCodec = null;
                                                                                z4 = false;
                                                                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                FileLog.e(th);
                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                if (mediaExtractor != null) {
                                                                                }
                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                if (mP4Builder != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (mediaCodec != null) {
                                                                                }
                                                                                if (outputSurface != null) {
                                                                                }
                                                                                if (inputSurface != null) {
                                                                                }
                                                                                i63 = i2;
                                                                                str3 = str2;
                                                                                z6 = z5;
                                                                                z7 = true;
                                                                                if (z4) {
                                                                                }
                                                                            }
                                                                        }
                                                                    } catch (Exception e21) {
                                                                        e = e21;
                                                                        exc2 = e;
                                                                        i13 = i4;
                                                                        audioRecoder2 = audioRecoder3;
                                                                        inputSurface7 = inputSurface9;
                                                                        outputSurface8 = outputSurface11;
                                                                        str9 = str11;
                                                                        z41 = z;
                                                                        if (exc2 instanceof IllegalStateException) {
                                                                        }
                                                                        StringBuilder sb2222222222222 = new StringBuilder();
                                                                        sb2222222222222.append("bitrate: ");
                                                                        i51 = i48;
                                                                        sb2222222222222.append(i51);
                                                                        sb2222222222222.append(" framerate: ");
                                                                        i50 = i49;
                                                                        sb2222222222222.append(i50);
                                                                        mediaCodec12 = mediaCodec2;
                                                                        sb2222222222222.append(" size: ");
                                                                        sb2222222222222.append(i63);
                                                                        str10 = str16;
                                                                        sb2222222222222.append(str10);
                                                                        sb2222222222222.append(i62);
                                                                        FileLog.e(sb2222222222222.toString());
                                                                        FileLog.e(exc2);
                                                                        z4 = z42;
                                                                        z7 = true;
                                                                        if (outputSurface8 != null) {
                                                                        }
                                                                        if (inputSurface7 != null) {
                                                                        }
                                                                        if (mediaCodec12 != null) {
                                                                        }
                                                                        if (audioRecoder2 != null) {
                                                                        }
                                                                        checkConversionCanceled();
                                                                        z2 = z41;
                                                                        outputSurface3 = outputSurface8;
                                                                        i65 = i51;
                                                                        str2 = str9;
                                                                        mediaCodecVideoConvertor = this;
                                                                        mediaCodec6 = mediaCodec12;
                                                                        z3 = z51;
                                                                        z6 = z40;
                                                                        file = file2;
                                                                        inputSurface2 = inputSurface7;
                                                                        mediaCodec3 = null;
                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                        if (mediaExtractor2 != null) {
                                                                        }
                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                        if (mP4Builder2 != null) {
                                                                        }
                                                                        if (mediaCodec6 != null) {
                                                                        }
                                                                        if (mediaCodec3 != null) {
                                                                        }
                                                                        if (outputSurface3 != null) {
                                                                        }
                                                                        if (inputSurface2 != null) {
                                                                        }
                                                                        str3 = str2;
                                                                        if (z4) {
                                                                        }
                                                                    } catch (Throwable th27) {
                                                                        th = th27;
                                                                        z2 = z;
                                                                        th = th;
                                                                        i2 = i63;
                                                                        mediaCodecVideoConvertor = this;
                                                                        i3 = i49;
                                                                        inputSurface = inputSurface9;
                                                                        outputSurface = outputSurface11;
                                                                        z3 = z51;
                                                                        str2 = str11;
                                                                        z5 = z40;
                                                                        i65 = i48;
                                                                        str = str16;
                                                                        file = file2;
                                                                        mediaCodec = null;
                                                                        z4 = false;
                                                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                        FileLog.e(th);
                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                        if (mediaExtractor != null) {
                                                                        }
                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                        if (mP4Builder != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        if (outputSurface != null) {
                                                                        }
                                                                        if (inputSurface != null) {
                                                                        }
                                                                        i63 = i2;
                                                                        str3 = str2;
                                                                        z6 = z5;
                                                                        z7 = true;
                                                                        if (z4) {
                                                                        }
                                                                    }
                                                                }
                                                                if (i56 == -1) {
                                                                    mediaCodec2 = mediaCodec19;
                                                                    str17 = str12;
                                                                    audioRecoder2 = audioRecoder3;
                                                                    i54 = i57;
                                                                    addTrack = i55;
                                                                    inputSurface7 = inputSurface9;
                                                                    outputSurface8 = outputSurface11;
                                                                } else {
                                                                    if (z45) {
                                                                        inputSurface10 = inputSurface9;
                                                                        outputSurface13 = outputSurface11;
                                                                        i54 = i57;
                                                                    } else {
                                                                        int i76 = i57;
                                                                        long j26 = (i76 / 30.0f) * 1000.0f * 1000.0f * 1000.0f;
                                                                        outputSurface13 = outputSurface11;
                                                                        try {
                                                                            outputSurface13.drawImage(j26);
                                                                            inputSurface10 = inputSurface9;
                                                                        } catch (Exception e22) {
                                                                            e = e22;
                                                                            inputSurface10 = inputSurface9;
                                                                        } catch (Throwable th28) {
                                                                            th = th28;
                                                                            inputSurface10 = inputSurface9;
                                                                        }
                                                                        try {
                                                                            inputSurface10.setPresentationTime(j26);
                                                                            inputSurface10.swapBuffers();
                                                                            i54 = i76 + 1;
                                                                            if (i54 >= 30.0f * f2) {
                                                                                mediaCodec19.signalEndOfInputStream();
                                                                                z45 = true;
                                                                                z46 = false;
                                                                            }
                                                                        } catch (Exception e23) {
                                                                            e = e23;
                                                                            exc2 = e;
                                                                            mediaCodec2 = mediaCodec19;
                                                                            inputSurface7 = inputSurface10;
                                                                            i13 = i4;
                                                                            outputSurface8 = outputSurface13;
                                                                            audioRecoder2 = audioRecoder3;
                                                                            str9 = str11;
                                                                            z41 = z;
                                                                            if (exc2 instanceof IllegalStateException) {
                                                                            }
                                                                            StringBuilder sb22222222222222 = new StringBuilder();
                                                                            sb22222222222222.append("bitrate: ");
                                                                            i51 = i48;
                                                                            sb22222222222222.append(i51);
                                                                            sb22222222222222.append(" framerate: ");
                                                                            i50 = i49;
                                                                            sb22222222222222.append(i50);
                                                                            mediaCodec12 = mediaCodec2;
                                                                            sb22222222222222.append(" size: ");
                                                                            sb22222222222222.append(i63);
                                                                            str10 = str16;
                                                                            sb22222222222222.append(str10);
                                                                            sb22222222222222.append(i62);
                                                                            FileLog.e(sb22222222222222.toString());
                                                                            FileLog.e(exc2);
                                                                            z4 = z42;
                                                                            z7 = true;
                                                                            if (outputSurface8 != null) {
                                                                            }
                                                                            if (inputSurface7 != null) {
                                                                            }
                                                                            if (mediaCodec12 != null) {
                                                                            }
                                                                            if (audioRecoder2 != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            z2 = z41;
                                                                            outputSurface3 = outputSurface8;
                                                                            i65 = i51;
                                                                            str2 = str9;
                                                                            mediaCodecVideoConvertor = this;
                                                                            mediaCodec6 = mediaCodec12;
                                                                            z3 = z51;
                                                                            z6 = z40;
                                                                            file = file2;
                                                                            inputSurface2 = inputSurface7;
                                                                            mediaCodec3 = null;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder2 != null) {
                                                                            }
                                                                            if (mediaCodec6 != null) {
                                                                            }
                                                                            if (mediaCodec3 != null) {
                                                                            }
                                                                            if (outputSurface3 != null) {
                                                                            }
                                                                            if (inputSurface2 != null) {
                                                                            }
                                                                            str3 = str2;
                                                                            if (z4) {
                                                                            }
                                                                        } catch (Throwable th29) {
                                                                            th = th29;
                                                                            z2 = z;
                                                                            mediaCodec2 = mediaCodec19;
                                                                            outputSurface12 = outputSurface13;
                                                                            inputSurface = inputSurface10;
                                                                            mediaCodec15 = mediaCodec2;
                                                                            outputSurface10 = outputSurface12;
                                                                            i2 = i63;
                                                                            mediaCodecVideoConvertor = this;
                                                                            outputSurface6 = outputSurface10;
                                                                            mediaCodec17 = mediaCodec15;
                                                                            i3 = i49;
                                                                            mediaCodec16 = mediaCodec17;
                                                                            z3 = z51;
                                                                            str2 = str11;
                                                                            z5 = z40;
                                                                            i65 = i48;
                                                                            str = str16;
                                                                            file = file2;
                                                                            mediaCodec = null;
                                                                            mediaCodec2 = mediaCodec16;
                                                                            z4 = false;
                                                                            outputSurface = outputSurface6;
                                                                            th = th;
                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            i63 = i2;
                                                                            str3 = str2;
                                                                            z6 = z5;
                                                                            z7 = true;
                                                                            if (z4) {
                                                                            }
                                                                        }
                                                                    }
                                                                    mediaCodec2 = mediaCodec19;
                                                                    inputSurface7 = inputSurface10;
                                                                    str17 = str12;
                                                                    outputSurface8 = outputSurface13;
                                                                    audioRecoder2 = audioRecoder3;
                                                                    addTrack = i55;
                                                                }
                                                            } catch (Exception e24) {
                                                                exc2 = e24;
                                                                i13 = i4;
                                                                audioRecoder2 = audioRecoder3;
                                                                inputSurface7 = inputSurface9;
                                                            } catch (Throwable th30) {
                                                                th = th30;
                                                                outputSurface11 = outputSurface8;
                                                            }
                                                        } else {
                                                            mediaCodec18 = mediaCodec2;
                                                            i57 = i54;
                                                            outputSurface11 = outputSurface8;
                                                            i56 = r14;
                                                        }
                                                        mediaCodec19.releaseOutputBuffer(i56, false);
                                                        z44 = z49;
                                                        if (i56 == -1) {
                                                        }
                                                    } catch (Exception e25) {
                                                        e = e25;
                                                        inputSurface10 = inputSurface9;
                                                        outputSurface13 = outputSurface11;
                                                        exc2 = e;
                                                        mediaCodec2 = mediaCodec19;
                                                        inputSurface7 = inputSurface10;
                                                        i13 = i4;
                                                        outputSurface8 = outputSurface13;
                                                        audioRecoder2 = audioRecoder3;
                                                        str9 = str11;
                                                        z41 = z;
                                                        if (exc2 instanceof IllegalStateException) {
                                                        }
                                                        StringBuilder sb222222222222222 = new StringBuilder();
                                                        sb222222222222222.append("bitrate: ");
                                                        i51 = i48;
                                                        sb222222222222222.append(i51);
                                                        sb222222222222222.append(" framerate: ");
                                                        i50 = i49;
                                                        sb222222222222222.append(i50);
                                                        mediaCodec12 = mediaCodec2;
                                                        sb222222222222222.append(" size: ");
                                                        sb222222222222222.append(i63);
                                                        str10 = str16;
                                                        sb222222222222222.append(str10);
                                                        sb222222222222222.append(i62);
                                                        FileLog.e(sb222222222222222.toString());
                                                        FileLog.e(exc2);
                                                        z4 = z42;
                                                        z7 = true;
                                                        if (outputSurface8 != null) {
                                                        }
                                                        if (inputSurface7 != null) {
                                                        }
                                                        if (mediaCodec12 != null) {
                                                        }
                                                        if (audioRecoder2 != null) {
                                                        }
                                                        checkConversionCanceled();
                                                        z2 = z41;
                                                        outputSurface3 = outputSurface8;
                                                        i65 = i51;
                                                        str2 = str9;
                                                        mediaCodecVideoConvertor = this;
                                                        mediaCodec6 = mediaCodec12;
                                                        z3 = z51;
                                                        z6 = z40;
                                                        file = file2;
                                                        inputSurface2 = inputSurface7;
                                                        mediaCodec3 = null;
                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                        if (mediaExtractor2 != null) {
                                                        }
                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                        if (mP4Builder2 != null) {
                                                        }
                                                        if (mediaCodec6 != null) {
                                                        }
                                                        if (mediaCodec3 != null) {
                                                        }
                                                        if (outputSurface3 != null) {
                                                        }
                                                        if (inputSurface2 != null) {
                                                        }
                                                        str3 = str2;
                                                        if (z4) {
                                                        }
                                                    } catch (Throwable th31) {
                                                        th = th31;
                                                        inputSurface10 = inputSurface9;
                                                        outputSurface13 = outputSurface11;
                                                        z2 = z;
                                                        mediaCodec2 = mediaCodec19;
                                                        outputSurface12 = outputSurface13;
                                                        inputSurface = inputSurface10;
                                                        mediaCodec15 = mediaCodec2;
                                                        outputSurface10 = outputSurface12;
                                                        i2 = i63;
                                                        mediaCodecVideoConvertor = this;
                                                        outputSurface6 = outputSurface10;
                                                        mediaCodec17 = mediaCodec15;
                                                        i3 = i49;
                                                        mediaCodec16 = mediaCodec17;
                                                        z3 = z51;
                                                        str2 = str11;
                                                        z5 = z40;
                                                        i65 = i48;
                                                        str = str16;
                                                        file = file2;
                                                        mediaCodec = null;
                                                        mediaCodec2 = mediaCodec16;
                                                        z4 = false;
                                                        outputSurface = outputSurface6;
                                                        th = th;
                                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                        FileLog.e(th);
                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                        if (mediaExtractor != null) {
                                                        }
                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                        if (mP4Builder != null) {
                                                        }
                                                        if (mediaCodec2 != null) {
                                                        }
                                                        if (mediaCodec != null) {
                                                        }
                                                        if (outputSurface != null) {
                                                        }
                                                        if (inputSurface != null) {
                                                        }
                                                        i63 = i2;
                                                        str3 = str2;
                                                        z6 = z5;
                                                        z7 = true;
                                                        if (z4) {
                                                        }
                                                    }
                                                    mediaCodec19 = mediaCodec18;
                                                    z49 = (bufferInfo3.flags & 4) != 0;
                                                } catch (Exception e26) {
                                                    outputSurface13 = outputSurface8;
                                                    inputSurface10 = inputSurface7;
                                                    exc2 = e26;
                                                    inputSurface7 = inputSurface10;
                                                    i13 = i4;
                                                    outputSurface8 = outputSurface13;
                                                    audioRecoder2 = audioRecoder3;
                                                    str9 = str11;
                                                    z41 = z;
                                                    if (exc2 instanceof IllegalStateException) {
                                                    }
                                                    StringBuilder sb2222222222222222 = new StringBuilder();
                                                    sb2222222222222222.append("bitrate: ");
                                                    i51 = i48;
                                                    sb2222222222222222.append(i51);
                                                    sb2222222222222222.append(" framerate: ");
                                                    i50 = i49;
                                                    sb2222222222222222.append(i50);
                                                    mediaCodec12 = mediaCodec2;
                                                    sb2222222222222222.append(" size: ");
                                                    sb2222222222222222.append(i63);
                                                    str10 = str16;
                                                    sb2222222222222222.append(str10);
                                                    sb2222222222222222.append(i62);
                                                    FileLog.e(sb2222222222222222.toString());
                                                    FileLog.e(exc2);
                                                    z4 = z42;
                                                    z7 = true;
                                                    if (outputSurface8 != null) {
                                                    }
                                                    if (inputSurface7 != null) {
                                                    }
                                                    if (mediaCodec12 != null) {
                                                    }
                                                    if (audioRecoder2 != null) {
                                                    }
                                                    checkConversionCanceled();
                                                    z2 = z41;
                                                    outputSurface3 = outputSurface8;
                                                    i65 = i51;
                                                    str2 = str9;
                                                    mediaCodecVideoConvertor = this;
                                                    mediaCodec6 = mediaCodec12;
                                                    z3 = z51;
                                                    z6 = z40;
                                                    file = file2;
                                                    inputSurface2 = inputSurface7;
                                                    mediaCodec3 = null;
                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor2 != null) {
                                                    }
                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder2 != null) {
                                                    }
                                                    if (mediaCodec6 != null) {
                                                    }
                                                    if (mediaCodec3 != null) {
                                                    }
                                                    if (outputSurface3 != null) {
                                                    }
                                                    if (inputSurface2 != null) {
                                                    }
                                                    str3 = str2;
                                                    if (z4) {
                                                    }
                                                } catch (Throwable th32) {
                                                    th = th32;
                                                    outputSurface12 = outputSurface8;
                                                    inputSurface10 = inputSurface7;
                                                    z2 = z;
                                                    inputSurface = inputSurface10;
                                                    mediaCodec15 = mediaCodec2;
                                                    outputSurface10 = outputSurface12;
                                                    i2 = i63;
                                                    mediaCodecVideoConvertor = this;
                                                    outputSurface6 = outputSurface10;
                                                    mediaCodec17 = mediaCodec15;
                                                    i3 = i49;
                                                    mediaCodec16 = mediaCodec17;
                                                    z3 = z51;
                                                    str2 = str11;
                                                    z5 = z40;
                                                    i65 = i48;
                                                    str = str16;
                                                    file = file2;
                                                    mediaCodec = null;
                                                    mediaCodec2 = mediaCodec16;
                                                    z4 = false;
                                                    outputSurface = outputSurface6;
                                                    th = th;
                                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                    FileLog.e(th);
                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor != null) {
                                                    }
                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder != null) {
                                                    }
                                                    if (mediaCodec2 != null) {
                                                    }
                                                    if (mediaCodec != null) {
                                                    }
                                                    if (outputSurface != null) {
                                                    }
                                                    if (inputSurface != null) {
                                                    }
                                                    i63 = i2;
                                                    str3 = str2;
                                                    z6 = z5;
                                                    z7 = true;
                                                    if (z4) {
                                                    }
                                                }
                                            } catch (Exception e27) {
                                                exc2 = e27;
                                                i13 = i4;
                                                outputSurface8 = r14;
                                                inputSurface8 = mediaCodec2;
                                                mediaCodec14 = inputSurface7;
                                                audioRecoder2 = audioRecoder3;
                                                str9 = str11;
                                                InputSurface inputSurface142 = inputSurface8;
                                                MediaCodec mediaCodec212 = mediaCodec14;
                                                MediaCodec mediaCodec222 = mediaCodec212;
                                                inputSurface7 = inputSurface142;
                                                mediaCodec2 = mediaCodec222;
                                                z41 = z;
                                                if (exc2 instanceof IllegalStateException) {
                                                }
                                                StringBuilder sb22222222222222222 = new StringBuilder();
                                                sb22222222222222222.append("bitrate: ");
                                                i51 = i48;
                                                sb22222222222222222.append(i51);
                                                sb22222222222222222.append(" framerate: ");
                                                i50 = i49;
                                                sb22222222222222222.append(i50);
                                                mediaCodec12 = mediaCodec2;
                                                sb22222222222222222.append(" size: ");
                                                sb22222222222222222.append(i63);
                                                str10 = str16;
                                                sb22222222222222222.append(str10);
                                                sb22222222222222222.append(i62);
                                                FileLog.e(sb22222222222222222.toString());
                                                FileLog.e(exc2);
                                                z4 = z42;
                                                z7 = true;
                                                if (outputSurface8 != null) {
                                                }
                                                if (inputSurface7 != null) {
                                                }
                                                if (mediaCodec12 != null) {
                                                }
                                                if (audioRecoder2 != null) {
                                                }
                                                checkConversionCanceled();
                                                z2 = z41;
                                                outputSurface3 = outputSurface8;
                                                i65 = i51;
                                                str2 = str9;
                                                mediaCodecVideoConvertor = this;
                                                mediaCodec6 = mediaCodec12;
                                                z3 = z51;
                                                z6 = z40;
                                                file = file2;
                                                inputSurface2 = inputSurface7;
                                                mediaCodec3 = null;
                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor2 != null) {
                                                }
                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                if (mP4Builder2 != null) {
                                                }
                                                if (mediaCodec6 != null) {
                                                }
                                                if (mediaCodec3 != null) {
                                                }
                                                if (outputSurface3 != null) {
                                                }
                                                if (inputSurface2 != null) {
                                                }
                                                str3 = str2;
                                                if (z4) {
                                                }
                                            } catch (Throwable th33) {
                                                th = th33;
                                                z2 = z;
                                                inputSurface = mediaCodec2;
                                                mediaCodec15 = inputSurface7;
                                                outputSurface10 = r14;
                                                i2 = i63;
                                                mediaCodecVideoConvertor = this;
                                                outputSurface6 = outputSurface10;
                                                mediaCodec17 = mediaCodec15;
                                                i3 = i49;
                                                mediaCodec16 = mediaCodec17;
                                                z3 = z51;
                                                str2 = str11;
                                                z5 = z40;
                                                i65 = i48;
                                                str = str16;
                                                file = file2;
                                                mediaCodec = null;
                                                mediaCodec2 = mediaCodec16;
                                                z4 = false;
                                                outputSurface = outputSurface6;
                                                th = th;
                                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                FileLog.e(th);
                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                if (mediaExtractor != null) {
                                                }
                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                if (mP4Builder != null) {
                                                }
                                                if (mediaCodec2 != null) {
                                                }
                                                if (mediaCodec != null) {
                                                }
                                                if (outputSurface != null) {
                                                }
                                                if (inputSurface != null) {
                                                }
                                                i63 = i2;
                                                str3 = str2;
                                                z6 = z5;
                                                z7 = true;
                                                if (z4) {
                                                }
                                            }
                                        }
                                        str9 = str11;
                                        z41 = z;
                                        z42 = ((exc2 instanceof IllegalStateException) || z41) ? false : true;
                                        StringBuilder sb222222222222222222 = new StringBuilder();
                                        sb222222222222222222.append("bitrate: ");
                                        i51 = i48;
                                        sb222222222222222222.append(i51);
                                        sb222222222222222222.append(" framerate: ");
                                        i50 = i49;
                                        sb222222222222222222.append(i50);
                                        mediaCodec12 = mediaCodec2;
                                        sb222222222222222222.append(" size: ");
                                        sb222222222222222222.append(i63);
                                        str10 = str16;
                                        sb222222222222222222.append(str10);
                                        sb222222222222222222.append(i62);
                                        FileLog.e(sb222222222222222222.toString());
                                        FileLog.e(exc2);
                                        z4 = z42;
                                        z7 = true;
                                    }
                                    mediaCodec19 = mediaCodec2;
                                    i57 = i54;
                                    if (i56 == -1) {
                                    }
                                }
                            }
                            i53 = i54;
                            z43 = z58;
                        }
                        if (outputSurface8 != null) {
                            try {
                                outputSurface8.release();
                                outputSurface8 = null;
                            } catch (Throwable th34) {
                                th = th34;
                                z2 = z41;
                                outputSurface = outputSurface8;
                                i65 = i51;
                                i4 = i13;
                                str2 = str9;
                                mediaCodecVideoConvertor = this;
                                z3 = z51;
                                z5 = z40;
                                file = file2;
                                mediaCodec = null;
                                str = str10;
                                inputSurface = inputSurface7;
                                i2 = i63;
                                i3 = i50;
                                mediaCodec2 = mediaCodec12;
                                th = th;
                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i63 = i2;
                                str3 = str2;
                                z6 = z5;
                                z7 = true;
                                if (z4) {
                                }
                            }
                        }
                        if (inputSurface7 != null) {
                            inputSurface7.release();
                            inputSurface7 = null;
                        }
                        if (mediaCodec12 != null) {
                            mediaCodec12.stop();
                            mediaCodec12.release();
                            mediaCodec12 = null;
                        }
                        if (audioRecoder2 != null) {
                            audioRecoder2.release();
                        }
                        checkConversionCanceled();
                        z2 = z41;
                        outputSurface3 = outputSurface8;
                        i65 = i51;
                        str2 = str9;
                        mediaCodecVideoConvertor = this;
                        mediaCodec6 = mediaCodec12;
                        z3 = z51;
                        z6 = z40;
                        file = file2;
                        inputSurface2 = inputSurface7;
                        mediaCodec3 = null;
                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor2 != null) {
                            mediaExtractor2.release();
                        }
                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                        if (mP4Builder2 != null) {
                            try {
                                mP4Builder2.finishMovie();
                                mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.mediaMuxer.getLastFrameTimestamp(i13);
                            } catch (Throwable th35) {
                                FileLog.e(th35);
                            }
                        }
                        if (mediaCodec6 != null) {
                            try {
                                mediaCodec6.release();
                            } catch (Exception unused5) {
                            }
                        }
                        if (mediaCodec3 != null) {
                            try {
                                mediaCodec3.release();
                            } catch (Exception unused6) {
                            }
                        }
                        if (outputSurface3 != null) {
                            try {
                                outputSurface3.release();
                            } catch (Exception unused7) {
                            }
                        }
                        if (inputSurface2 != null) {
                            try {
                                inputSurface2.release();
                            } catch (Exception unused8) {
                            }
                        }
                        str3 = str2;
                    }
                }
                i52 = i67;
                cropState = null;
                str11 = str9;
                outputSurface8 = new OutputSurface(savedFilterState, str13, str14, str15, arrayList2, cropState, i62, i63, i60, i61, i59, i52, true, num, num2, null, arrayList3);
                if (Build.VERSION.SDK_INT >= 21) {
                }
                checkConversionCanceled();
                ByteBuffer[] byteBufferArr32 = outputBuffers2;
                i49 = i52;
                this.mediaMuxer = new MP4Builder().createMovie(mp4Movie2, z50, this.outputMimeType.equals("video/hevc"));
                if (convertVideoParams.soundInfos.isEmpty()) {
                }
                z44 = false;
                long j242 = 0;
                z45 = false;
                int i682 = 0;
                i53 = 0;
                boolean z572 = true;
                loop0: while (true) {
                    if (!z44) {
                    }
                    checkConversionCanceled();
                    if (audioRecoder2 != null) {
                    }
                    z46 = !z45;
                    z47 = true;
                    int i692 = i53;
                    boolean z582 = z43;
                    i54 = i692;
                    while (true) {
                        if (!z46) {
                        }
                        checkConversionCanceled();
                        audioRecoder3 = audioRecoder2;
                        if (z) {
                        }
                        r14 = mediaCodec2.dequeueOutputBuffer(bufferInfo3, j17);
                        if (r14 != -1) {
                        }
                        mediaCodec19 = mediaCodec2;
                        i57 = i54;
                        if (i56 == -1) {
                        }
                    }
                    i53 = i54;
                    z43 = z582;
                }
                if (outputSurface8 != null) {
                }
                if (inputSurface7 != null) {
                }
                if (mediaCodec12 != null) {
                }
                if (audioRecoder2 != null) {
                }
                checkConversionCanceled();
                z2 = z41;
                outputSurface3 = outputSurface8;
                i65 = i51;
                str2 = str9;
                mediaCodecVideoConvertor = this;
                mediaCodec6 = mediaCodec12;
                z3 = z51;
                z6 = z40;
                file = file2;
                inputSurface2 = inputSurface7;
                mediaCodec3 = null;
                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                if (mediaExtractor2 != null) {
                }
                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                if (mP4Builder2 != null) {
                }
                if (mediaCodec6 != null) {
                }
                if (mediaCodec3 != null) {
                }
                if (outputSurface3 != null) {
                }
                if (inputSurface2 != null) {
                }
                str3 = str2;
            } else {
                String str20 = str17;
                String str21 = str18;
                try {
                    MediaExtractor mediaExtractor4 = new MediaExtractor();
                    this.extractor = mediaExtractor4;
                    mediaExtractor4.setDataSource(str13);
                    try {
                        int findTrack = MediaController.findTrack(this.extractor, false);
                        if (i65 == -1 || z54) {
                            i5 = -1;
                        } else {
                            try {
                                i5 = MediaController.findTrack(this.extractor, true);
                            } catch (Throwable th36) {
                                th2 = th36;
                                z2 = z;
                                th = th2;
                                i2 = i63;
                                mediaCodecVideoConvertor = this;
                                i3 = i67;
                                str = str16;
                                z3 = z51;
                                file = file2;
                                mediaCodec2 = null;
                                mediaCodec = null;
                                inputSurface = null;
                                i4 = -5;
                                str2 = null;
                                outputSurface = null;
                                z4 = false;
                                z5 = false;
                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                FileLog.e(th);
                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                if (mediaExtractor != null) {
                                }
                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                if (mP4Builder != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface != null) {
                                }
                                i63 = i2;
                                str3 = str2;
                                z6 = z5;
                                z7 = true;
                                if (z4) {
                                }
                            }
                        }
                        ?? r142 = "mime";
                        try {
                            if (findTrack >= 0) {
                                i6 = i5;
                                try {
                                    i7 = i62;
                                    try {
                                        if (!this.extractor.getTrackFormat(findTrack).getString("mime").equals(MediaController.VIDEO_MIME_TYPE)) {
                                            z8 = true;
                                            if (!z51 || z8) {
                                                i67 = i63;
                                                long j27 = j19;
                                                int i77 = i67;
                                                int i78 = i7;
                                                z3 = z51;
                                                file = file2;
                                                long j28 = j18;
                                                int i79 = i65;
                                                if (findTrack < 0) {
                                                    long j29 = -2147483648L;
                                                    try {
                                                        j = (1000 / i77) * 1000;
                                                        if (i77 < 30) {
                                                            try {
                                                                str5 = "mime";
                                                                j2 = (1000 / (i77 + 5)) * 1000;
                                                            } catch (Exception e28) {
                                                                exc = e28;
                                                                i14 = findTrack;
                                                                mediaCodecVideoConvertor = this;
                                                                arrayList = i77;
                                                                i65 = i79;
                                                                mediaCodec2 = null;
                                                                mediaCodec = null;
                                                                i15 = -5;
                                                                i16 = null;
                                                                z9 = false;
                                                                inputSurface2 = null;
                                                                str2 = null;
                                                                audioRecoder = null;
                                                                try {
                                                                    if (exc instanceof IllegalStateException) {
                                                                    }
                                                                    z4 = false;
                                                                    try {
                                                                        StringBuilder sb3 = new StringBuilder();
                                                                        sb3.append("bitrate: ");
                                                                        sb3.append(i65);
                                                                        sb3.append(" framerate: ");
                                                                        i3 = arrayList;
                                                                        try {
                                                                            sb3.append(i3);
                                                                            sb3.append(" size: ");
                                                                            i2 = i67;
                                                                            try {
                                                                                sb3.append(i2);
                                                                                str = str16;
                                                                                try {
                                                                                    sb3.append(str);
                                                                                    i11 = i78;
                                                                                    try {
                                                                                        sb3.append(i11);
                                                                                        FileLog.e(sb3.toString());
                                                                                        FileLog.e(exc);
                                                                                        mediaCodec4 = mediaCodec2;
                                                                                        i12 = i15;
                                                                                        z5 = z9;
                                                                                        z7 = true;
                                                                                        mediaCodec7 = mediaCodec;
                                                                                        try {
                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                            if (mediaCodec7 != null) {
                                                                                            }
                                                                                            mediaCodec3 = mediaCodec7;
                                                                                            outputSurface2 = i16;
                                                                                            if (outputSurface2 != null) {
                                                                                            }
                                                                                            if (inputSurface2 != null) {
                                                                                            }
                                                                                            if (mediaCodec4 != null) {
                                                                                            }
                                                                                            if (audioRecoder != null) {
                                                                                            }
                                                                                            checkConversionCanceled();
                                                                                            i63 = i2;
                                                                                            i62 = i11;
                                                                                            z6 = z5;
                                                                                            OutputSurface outputSurface14 = outputSurface2;
                                                                                            i13 = i12;
                                                                                            mediaCodec6 = mediaCodec5;
                                                                                            outputSurface3 = outputSurface14;
                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                            if (mediaExtractor2 != null) {
                                                                                            }
                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                            if (mP4Builder2 != null) {
                                                                                            }
                                                                                            if (mediaCodec6 != null) {
                                                                                            }
                                                                                            if (mediaCodec3 != null) {
                                                                                            }
                                                                                            if (outputSurface3 != null) {
                                                                                            }
                                                                                            if (inputSurface2 != null) {
                                                                                            }
                                                                                            str3 = str2;
                                                                                        } catch (Throwable th37) {
                                                                                            th = th37;
                                                                                            i4 = i12;
                                                                                            mediaCodec = mediaCodec7;
                                                                                            outputSurface = i16;
                                                                                            i62 = i11;
                                                                                            inputSurface = inputSurface2;
                                                                                            mediaCodec2 = mediaCodec4;
                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                            FileLog.e(th);
                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                            if (mediaExtractor != null) {
                                                                                            }
                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                            if (mP4Builder != null) {
                                                                                            }
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            if (mediaCodec != null) {
                                                                                            }
                                                                                            if (outputSurface != null) {
                                                                                            }
                                                                                            if (inputSurface != null) {
                                                                                            }
                                                                                            i63 = i2;
                                                                                            str3 = str2;
                                                                                            z6 = z5;
                                                                                            z7 = true;
                                                                                            if (z4) {
                                                                                            }
                                                                                        }
                                                                                    } catch (Throwable th38) {
                                                                                        th = th38;
                                                                                        th = th;
                                                                                        outputSurface = i16;
                                                                                        z5 = z9;
                                                                                        i62 = i11;
                                                                                        i4 = i15;
                                                                                        inputSurface = inputSurface2;
                                                                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                        FileLog.e(th);
                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                        if (mediaExtractor != null) {
                                                                                        }
                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                        if (mP4Builder != null) {
                                                                                        }
                                                                                        if (mediaCodec2 != null) {
                                                                                        }
                                                                                        if (mediaCodec != null) {
                                                                                        }
                                                                                        if (outputSurface != null) {
                                                                                        }
                                                                                        if (inputSurface != null) {
                                                                                        }
                                                                                        i63 = i2;
                                                                                        str3 = str2;
                                                                                        z6 = z5;
                                                                                        z7 = true;
                                                                                        if (z4) {
                                                                                        }
                                                                                    }
                                                                                } catch (Throwable th39) {
                                                                                    th = th39;
                                                                                    i11 = i78;
                                                                                }
                                                                            } catch (Throwable th40) {
                                                                                th = th40;
                                                                                i11 = i78;
                                                                                str = str16;
                                                                                th = th;
                                                                                outputSurface = i16;
                                                                                z5 = z9;
                                                                                i62 = i11;
                                                                                i4 = i15;
                                                                                inputSurface = inputSurface2;
                                                                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                FileLog.e(th);
                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                if (mediaExtractor != null) {
                                                                                }
                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                if (mP4Builder != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (mediaCodec != null) {
                                                                                }
                                                                                if (outputSurface != null) {
                                                                                }
                                                                                if (inputSurface != null) {
                                                                                }
                                                                                i63 = i2;
                                                                                str3 = str2;
                                                                                z6 = z5;
                                                                                z7 = true;
                                                                                if (z4) {
                                                                                }
                                                                            }
                                                                        } catch (Throwable th41) {
                                                                            th = th41;
                                                                            i2 = i67;
                                                                            i11 = i78;
                                                                            str = str16;
                                                                            th = th;
                                                                            outputSurface = i16;
                                                                            z5 = z9;
                                                                            i62 = i11;
                                                                            i4 = i15;
                                                                            inputSurface = inputSurface2;
                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            i63 = i2;
                                                                            str3 = str2;
                                                                            z6 = z5;
                                                                            z7 = true;
                                                                            if (z4) {
                                                                            }
                                                                        }
                                                                    } catch (Throwable th42) {
                                                                        th = th42;
                                                                        i3 = arrayList;
                                                                    }
                                                                } catch (Throwable th43) {
                                                                    z2 = z;
                                                                    i3 = arrayList;
                                                                    i2 = i67;
                                                                    str = str16;
                                                                    th = th43;
                                                                    outputSurface = i16;
                                                                    z5 = z9;
                                                                    i62 = i78;
                                                                    z4 = false;
                                                                }
                                                                if (z4) {
                                                                }
                                                            }
                                                        } else {
                                                            str5 = "mime";
                                                            j2 = (1000 / (i77 + 1)) * 1000;
                                                        }
                                                        j3 = j2;
                                                        this.extractor.selectTrack(findTrack);
                                                        trackFormat = this.extractor.getTrackFormat(findTrack);
                                                        if (z56) {
                                                            int i80 = f2 <= 2000.0f ? 2600000 : f2 <= 5000.0f ? 2200000 : 1560000;
                                                            i17 = i66;
                                                            if (i17 >= 15000000) {
                                                                str6 = "OMX.google.h264.encoder";
                                                                i18 = i80;
                                                            } else {
                                                                i18 = i80;
                                                                str6 = null;
                                                            }
                                                            j22 = 0;
                                                        } else {
                                                            i17 = i66;
                                                            i18 = i79 <= 0 ? 921600 : i79;
                                                            str6 = null;
                                                        }
                                                        if (i17 > 0) {
                                                            try {
                                                                i65 = Math.min(i17, i18);
                                                            } catch (Exception e29) {
                                                                exc = e29;
                                                                i14 = findTrack;
                                                                i65 = i18;
                                                                mediaCodecVideoConvertor = this;
                                                                arrayList = i77;
                                                                mediaCodec2 = null;
                                                                mediaCodec = null;
                                                                i15 = -5;
                                                                i16 = null;
                                                                z9 = false;
                                                                inputSurface2 = null;
                                                                str2 = null;
                                                                audioRecoder = null;
                                                                if (exc instanceof IllegalStateException) {
                                                                }
                                                                z4 = false;
                                                                StringBuilder sb32 = new StringBuilder();
                                                                sb32.append("bitrate: ");
                                                                sb32.append(i65);
                                                                sb32.append(" framerate: ");
                                                                i3 = arrayList;
                                                                sb32.append(i3);
                                                                sb32.append(" size: ");
                                                                i2 = i67;
                                                                sb32.append(i2);
                                                                str = str16;
                                                                sb32.append(str);
                                                                i11 = i78;
                                                                sb32.append(i11);
                                                                FileLog.e(sb32.toString());
                                                                FileLog.e(exc);
                                                                mediaCodec4 = mediaCodec2;
                                                                i12 = i15;
                                                                z5 = z9;
                                                                z7 = true;
                                                                mediaCodec7 = mediaCodec;
                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                if (mediaCodec7 != null) {
                                                                }
                                                                mediaCodec3 = mediaCodec7;
                                                                outputSurface2 = i16;
                                                                if (outputSurface2 != null) {
                                                                }
                                                                if (inputSurface2 != null) {
                                                                }
                                                                if (mediaCodec4 != null) {
                                                                }
                                                                if (audioRecoder != null) {
                                                                }
                                                                checkConversionCanceled();
                                                                i63 = i2;
                                                                i62 = i11;
                                                                z6 = z5;
                                                                OutputSurface outputSurface142 = outputSurface2;
                                                                i13 = i12;
                                                                mediaCodec6 = mediaCodec5;
                                                                outputSurface3 = outputSurface142;
                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor2 != null) {
                                                                }
                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                if (mP4Builder2 != null) {
                                                                }
                                                                if (mediaCodec6 != null) {
                                                                }
                                                                if (mediaCodec3 != null) {
                                                                }
                                                                if (outputSurface3 != null) {
                                                                }
                                                                if (inputSurface2 != null) {
                                                                }
                                                                str3 = str2;
                                                                if (z4) {
                                                                }
                                                            } catch (Throwable th44) {
                                                                z2 = z;
                                                                th = th44;
                                                                i65 = i18;
                                                                mediaCodecVideoConvertor = this;
                                                                i3 = i77;
                                                                i10 = i78;
                                                                i2 = i67;
                                                                i62 = i10;
                                                                str = str16;
                                                                mediaCodec2 = null;
                                                                mediaCodec = null;
                                                                inputSurface = null;
                                                                i4 = -5;
                                                                str2 = null;
                                                                outputSurface = null;
                                                                z4 = false;
                                                                z5 = false;
                                                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                FileLog.e(th);
                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor != null) {
                                                                }
                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                if (mP4Builder != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (mediaCodec != null) {
                                                                }
                                                                if (outputSurface != null) {
                                                                }
                                                                if (inputSurface != null) {
                                                                }
                                                                i63 = i2;
                                                                str3 = str2;
                                                                z6 = z5;
                                                                z7 = true;
                                                                if (z4) {
                                                                }
                                                            }
                                                        } else {
                                                            i65 = i18;
                                                        }
                                                        j4 = j22 >= 0 ? -1L : j22;
                                                        try {
                                                            try {
                                                            } catch (Exception e30) {
                                                                exc = e30;
                                                                i14 = findTrack;
                                                                mediaCodecVideoConvertor = this;
                                                                arrayList = i77;
                                                                mediaCodec2 = null;
                                                                mediaCodec = null;
                                                                i15 = -5;
                                                                i16 = null;
                                                                z9 = false;
                                                                inputSurface2 = null;
                                                                str2 = null;
                                                                audioRecoder = null;
                                                                if (exc instanceof IllegalStateException) {
                                                                }
                                                                z4 = false;
                                                                StringBuilder sb322 = new StringBuilder();
                                                                sb322.append("bitrate: ");
                                                                sb322.append(i65);
                                                                sb322.append(" framerate: ");
                                                                i3 = arrayList;
                                                                sb322.append(i3);
                                                                sb322.append(" size: ");
                                                                i2 = i67;
                                                                sb322.append(i2);
                                                                str = str16;
                                                                sb322.append(str);
                                                                i11 = i78;
                                                                sb322.append(i11);
                                                                FileLog.e(sb322.toString());
                                                                FileLog.e(exc);
                                                                mediaCodec4 = mediaCodec2;
                                                                i12 = i15;
                                                                z5 = z9;
                                                                z7 = true;
                                                                mediaCodec7 = mediaCodec;
                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                if (mediaCodec7 != null) {
                                                                }
                                                                mediaCodec3 = mediaCodec7;
                                                                outputSurface2 = i16;
                                                                if (outputSurface2 != null) {
                                                                }
                                                                if (inputSurface2 != null) {
                                                                }
                                                                if (mediaCodec4 != null) {
                                                                }
                                                                if (audioRecoder != null) {
                                                                }
                                                                checkConversionCanceled();
                                                                i63 = i2;
                                                                i62 = i11;
                                                                z6 = z5;
                                                                OutputSurface outputSurface1422 = outputSurface2;
                                                                i13 = i12;
                                                                mediaCodec6 = mediaCodec5;
                                                                outputSurface3 = outputSurface1422;
                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                if (mediaExtractor2 != null) {
                                                                }
                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                if (mP4Builder2 != null) {
                                                                }
                                                                if (mediaCodec6 != null) {
                                                                }
                                                                if (mediaCodec3 != null) {
                                                                }
                                                                if (outputSurface3 != null) {
                                                                }
                                                                if (inputSurface2 != null) {
                                                                }
                                                                str3 = str2;
                                                                if (z4) {
                                                                }
                                                            }
                                                        } catch (Throwable th45) {
                                                            z2 = z;
                                                            th = th45;
                                                            mediaCodecVideoConvertor = this;
                                                            i3 = i77;
                                                            i10 = i78;
                                                            i2 = i67;
                                                            i62 = i10;
                                                            str = str16;
                                                            mediaCodec2 = null;
                                                            mediaCodec = null;
                                                            inputSurface = null;
                                                            i4 = -5;
                                                            str2 = null;
                                                            outputSurface = null;
                                                            z4 = false;
                                                            z5 = false;
                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                            FileLog.e(th);
                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            i63 = i2;
                                                            str3 = str2;
                                                            z6 = z5;
                                                            z7 = true;
                                                            if (z4) {
                                                            }
                                                        }
                                                    } catch (Exception e31) {
                                                        i14 = findTrack;
                                                        mediaCodecVideoConvertor = this;
                                                        arrayList = i77;
                                                        exc = e31;
                                                    } catch (Throwable th46) {
                                                        mediaCodecVideoConvertor = this;
                                                        z2 = z;
                                                        th = th46;
                                                        i9 = i77;
                                                        i8 = i79;
                                                        str4 = i78;
                                                        i3 = i9;
                                                        i65 = i8;
                                                        i10 = str4;
                                                        i2 = i67;
                                                        i62 = i10;
                                                        str = str16;
                                                        mediaCodec2 = null;
                                                        mediaCodec = null;
                                                        inputSurface = null;
                                                        i4 = -5;
                                                        str2 = null;
                                                        outputSurface = null;
                                                        z4 = false;
                                                        z5 = false;
                                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                        FileLog.e(th);
                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                        if (mediaExtractor != null) {
                                                        }
                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                        if (mP4Builder != null) {
                                                        }
                                                        if (mediaCodec2 != null) {
                                                        }
                                                        if (mediaCodec != null) {
                                                        }
                                                        if (outputSurface != null) {
                                                        }
                                                        if (inputSurface != null) {
                                                        }
                                                        i63 = i2;
                                                        str3 = str2;
                                                        z6 = z5;
                                                        z7 = true;
                                                        if (z4) {
                                                        }
                                                    }
                                                    try {
                                                        try {
                                                            try {
                                                                try {
                                                                    try {
                                                                        try {
                                                                            try {
                                                                                if (j4 >= 0) {
                                                                                    f = f2;
                                                                                    this.extractor.seekTo(j4, 0);
                                                                                    j5 = j4;
                                                                                } else {
                                                                                    f = f2;
                                                                                    j5 = j4;
                                                                                    if (j28 > 0) {
                                                                                        this.extractor.seekTo(j28, 0);
                                                                                        j28 = j28;
                                                                                    } else {
                                                                                        try {
                                                                                            j28 = j28;
                                                                                            this.extractor.seekTo(0L, 0);
                                                                                            if (cropState2 == null && cropState2.useMatrix == null) {
                                                                                                i19 = i59;
                                                                                                if (i19 != 90 && i19 != 270) {
                                                                                                    int i81 = cropState2.transformWidth;
                                                                                                    i46 = cropState2.transformHeight;
                                                                                                    i47 = i81;
                                                                                                    i20 = i46;
                                                                                                    i21 = i47;
                                                                                                }
                                                                                                int i82 = cropState2.transformHeight;
                                                                                                i46 = cropState2.transformWidth;
                                                                                                i47 = i82;
                                                                                                i20 = i46;
                                                                                                i21 = i47;
                                                                                            } else {
                                                                                                i19 = i59;
                                                                                                i20 = i67;
                                                                                                i21 = i78;
                                                                                            }
                                                                                            if (str6 != null) {
                                                                                                try {
                                                                                                    createByCodecName = MediaCodec.createByCodecName(str6);
                                                                                                } catch (Exception unused9) {
                                                                                                }
                                                                                                if (createByCodecName == null) {
                                                                                                    try {
                                                                                                        try {
                                                                                                            createByCodecName = createEncoderForMimeType();
                                                                                                        } catch (Exception e32) {
                                                                                                            exc = e32;
                                                                                                            i14 = findTrack;
                                                                                                            mediaCodec2 = createByCodecName;
                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                            arrayList = i77;
                                                                                                            mediaCodec = null;
                                                                                                            i15 = -5;
                                                                                                            i16 = null;
                                                                                                            z9 = false;
                                                                                                            inputSurface2 = null;
                                                                                                            str2 = null;
                                                                                                            audioRecoder = null;
                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                            }
                                                                                                            z4 = false;
                                                                                                            StringBuilder sb3222 = new StringBuilder();
                                                                                                            sb3222.append("bitrate: ");
                                                                                                            sb3222.append(i65);
                                                                                                            sb3222.append(" framerate: ");
                                                                                                            i3 = arrayList;
                                                                                                            sb3222.append(i3);
                                                                                                            sb3222.append(" size: ");
                                                                                                            i2 = i67;
                                                                                                            sb3222.append(i2);
                                                                                                            str = str16;
                                                                                                            sb3222.append(str);
                                                                                                            i11 = i78;
                                                                                                            sb3222.append(i11);
                                                                                                            FileLog.e(sb3222.toString());
                                                                                                            FileLog.e(exc);
                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                            i12 = i15;
                                                                                                            z5 = z9;
                                                                                                            z7 = true;
                                                                                                            mediaCodec7 = mediaCodec;
                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                            if (mediaCodec7 != null) {
                                                                                                            }
                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                            outputSurface2 = i16;
                                                                                                            if (outputSurface2 != null) {
                                                                                                            }
                                                                                                            if (inputSurface2 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec4 != null) {
                                                                                                            }
                                                                                                            if (audioRecoder != null) {
                                                                                                            }
                                                                                                            checkConversionCanceled();
                                                                                                            i63 = i2;
                                                                                                            i62 = i11;
                                                                                                            z6 = z5;
                                                                                                            OutputSurface outputSurface14222 = outputSurface2;
                                                                                                            i13 = i12;
                                                                                                            mediaCodec6 = mediaCodec5;
                                                                                                            outputSurface3 = outputSurface14222;
                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                            if (mediaExtractor2 != null) {
                                                                                                            }
                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                            if (mP4Builder2 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec6 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec3 != null) {
                                                                                                            }
                                                                                                            if (outputSurface3 != null) {
                                                                                                            }
                                                                                                            if (inputSurface2 != null) {
                                                                                                            }
                                                                                                            str3 = str2;
                                                                                                            if (z4) {
                                                                                                            }
                                                                                                        }
                                                                                                    } catch (Throwable th47) {
                                                                                                        z2 = z;
                                                                                                        th = th47;
                                                                                                        mediaCodec2 = createByCodecName;
                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                        i3 = i77;
                                                                                                        i2 = i67;
                                                                                                        i62 = i78;
                                                                                                        str = str16;
                                                                                                        mediaCodec = null;
                                                                                                        inputSurface = null;
                                                                                                        i4 = -5;
                                                                                                        str2 = null;
                                                                                                        outputSurface = null;
                                                                                                        z4 = false;
                                                                                                        z5 = false;
                                                                                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                        FileLog.e(th);
                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                        if (mediaExtractor != null) {
                                                                                                        }
                                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                        if (mP4Builder != null) {
                                                                                                        }
                                                                                                        if (mediaCodec2 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec != null) {
                                                                                                        }
                                                                                                        if (outputSurface != null) {
                                                                                                        }
                                                                                                        if (inputSurface != null) {
                                                                                                        }
                                                                                                        i63 = i2;
                                                                                                        str3 = str2;
                                                                                                        z6 = z5;
                                                                                                        z7 = true;
                                                                                                        if (z4) {
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                if (BuildVars.LOGS_ENABLED) {
                                                                                                    bufferInfo = bufferInfo3;
                                                                                                    StringBuilder sb4 = new StringBuilder();
                                                                                                    i14 = findTrack;
                                                                                                    try {
                                                                                                        sb4.append("create encoder with w = ");
                                                                                                        sb4.append(i21);
                                                                                                        sb4.append(" h = ");
                                                                                                        sb4.append(i20);
                                                                                                        sb4.append(" bitrate = ");
                                                                                                        sb4.append(i65);
                                                                                                        FileLog.d(sb4.toString());
                                                                                                    } catch (Exception e33) {
                                                                                                        exc = e33;
                                                                                                        mediaCodec2 = createByCodecName;
                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                        arrayList = i77;
                                                                                                        mediaCodec = null;
                                                                                                        i15 = -5;
                                                                                                        i16 = null;
                                                                                                        z9 = false;
                                                                                                        inputSurface2 = null;
                                                                                                        str2 = null;
                                                                                                        audioRecoder = null;
                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                        }
                                                                                                        z4 = false;
                                                                                                        StringBuilder sb32222 = new StringBuilder();
                                                                                                        sb32222.append("bitrate: ");
                                                                                                        sb32222.append(i65);
                                                                                                        sb32222.append(" framerate: ");
                                                                                                        i3 = arrayList;
                                                                                                        sb32222.append(i3);
                                                                                                        sb32222.append(" size: ");
                                                                                                        i2 = i67;
                                                                                                        sb32222.append(i2);
                                                                                                        str = str16;
                                                                                                        sb32222.append(str);
                                                                                                        i11 = i78;
                                                                                                        sb32222.append(i11);
                                                                                                        FileLog.e(sb32222.toString());
                                                                                                        FileLog.e(exc);
                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                        i12 = i15;
                                                                                                        z5 = z9;
                                                                                                        z7 = true;
                                                                                                        mediaCodec7 = mediaCodec;
                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                        if (mediaCodec7 != null) {
                                                                                                        }
                                                                                                        mediaCodec3 = mediaCodec7;
                                                                                                        outputSurface2 = i16;
                                                                                                        if (outputSurface2 != null) {
                                                                                                        }
                                                                                                        if (inputSurface2 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec4 != null) {
                                                                                                        }
                                                                                                        if (audioRecoder != null) {
                                                                                                        }
                                                                                                        checkConversionCanceled();
                                                                                                        i63 = i2;
                                                                                                        i62 = i11;
                                                                                                        z6 = z5;
                                                                                                        OutputSurface outputSurface142222 = outputSurface2;
                                                                                                        i13 = i12;
                                                                                                        mediaCodec6 = mediaCodec5;
                                                                                                        outputSurface3 = outputSurface142222;
                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                        if (mediaExtractor2 != null) {
                                                                                                        }
                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                        if (mP4Builder2 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec6 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec3 != null) {
                                                                                                        }
                                                                                                        if (outputSurface3 != null) {
                                                                                                        }
                                                                                                        if (inputSurface2 != null) {
                                                                                                        }
                                                                                                        str3 = str2;
                                                                                                        if (z4) {
                                                                                                        }
                                                                                                    }
                                                                                                } else {
                                                                                                    i14 = findTrack;
                                                                                                    bufferInfo = bufferInfo3;
                                                                                                }
                                                                                                createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i21, i20);
                                                                                                createVideoFormat.setInteger("color-format", 2130708361);
                                                                                                createVideoFormat.setInteger("bitrate", i65);
                                                                                                if (z56 && Build.VERSION.SDK_INT >= 21) {
                                                                                                    createVideoFormat.setInteger("bitrate-mode", 2);
                                                                                                }
                                                                                                createVideoFormat.setInteger("max-bitrate", i65);
                                                                                                createVideoFormat.setInteger("frame-rate", i77);
                                                                                                createVideoFormat.setInteger("i-frame-interval", 1);
                                                                                                i22 = Build.VERSION.SDK_INT;
                                                                                                if (i22 >= 24) {
                                                                                                    if (trackFormat.containsKey("color-transfer")) {
                                                                                                        i23 = trackFormat.getInteger("color-transfer");
                                                                                                        z10 = z50;
                                                                                                    } else {
                                                                                                        z10 = z50;
                                                                                                        i23 = 0;
                                                                                                    }
                                                                                                    if (trackFormat.containsKey("color-standard")) {
                                                                                                        i16 = trackFormat.getInteger("color-standard");
                                                                                                        mp4Movie = mp4Movie2;
                                                                                                    } else {
                                                                                                        mp4Movie = mp4Movie2;
                                                                                                        i16 = 0;
                                                                                                    }
                                                                                                    if (trackFormat.containsKey("color-range")) {
                                                                                                        trackFormat.getInteger("color-range");
                                                                                                    }
                                                                                                    if ((i23 == 6 || i23 == 7) && i16 == 6) {
                                                                                                        z11 = true;
                                                                                                        if (i22 >= 23) {
                                                                                                            try {
                                                                                                                i24 = i20;
                                                                                                                if (Math.min(i20, i21) <= 480 && !z56) {
                                                                                                                    if (i65 > 921600) {
                                                                                                                        i65 = 921600;
                                                                                                                    }
                                                                                                                    createVideoFormat.setInteger("bitrate", i65);
                                                                                                                }
                                                                                                            } catch (Exception e34) {
                                                                                                                mediaCodecVideoConvertor = this;
                                                                                                                exc = e34;
                                                                                                                mediaCodec2 = createByCodecName;
                                                                                                                arrayList = i77;
                                                                                                                mediaCodec = null;
                                                                                                                i15 = -5;
                                                                                                                i16 = null;
                                                                                                                z9 = false;
                                                                                                                inputSurface2 = null;
                                                                                                                str2 = null;
                                                                                                                audioRecoder = null;
                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                }
                                                                                                                z4 = false;
                                                                                                                StringBuilder sb322222 = new StringBuilder();
                                                                                                                sb322222.append("bitrate: ");
                                                                                                                sb322222.append(i65);
                                                                                                                sb322222.append(" framerate: ");
                                                                                                                i3 = arrayList;
                                                                                                                sb322222.append(i3);
                                                                                                                sb322222.append(" size: ");
                                                                                                                i2 = i67;
                                                                                                                sb322222.append(i2);
                                                                                                                str = str16;
                                                                                                                sb322222.append(str);
                                                                                                                i11 = i78;
                                                                                                                sb322222.append(i11);
                                                                                                                FileLog.e(sb322222.toString());
                                                                                                                FileLog.e(exc);
                                                                                                                mediaCodec4 = mediaCodec2;
                                                                                                                i12 = i15;
                                                                                                                z5 = z9;
                                                                                                                z7 = true;
                                                                                                                mediaCodec7 = mediaCodec;
                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                if (mediaCodec7 != null) {
                                                                                                                }
                                                                                                                mediaCodec3 = mediaCodec7;
                                                                                                                outputSurface2 = i16;
                                                                                                                if (outputSurface2 != null) {
                                                                                                                }
                                                                                                                if (inputSurface2 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec4 != null) {
                                                                                                                }
                                                                                                                if (audioRecoder != null) {
                                                                                                                }
                                                                                                                checkConversionCanceled();
                                                                                                                i63 = i2;
                                                                                                                i62 = i11;
                                                                                                                z6 = z5;
                                                                                                                OutputSurface outputSurface1422222 = outputSurface2;
                                                                                                                i13 = i12;
                                                                                                                mediaCodec6 = mediaCodec5;
                                                                                                                outputSurface3 = outputSurface1422222;
                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                }
                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                if (mP4Builder2 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec6 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec3 != null) {
                                                                                                                }
                                                                                                                if (outputSurface3 != null) {
                                                                                                                }
                                                                                                                if (inputSurface2 != null) {
                                                                                                                }
                                                                                                                str3 = str2;
                                                                                                                if (z4) {
                                                                                                                }
                                                                                                            } catch (Throwable th48) {
                                                                                                                mediaCodecVideoConvertor = this;
                                                                                                                z2 = z;
                                                                                                                th = th48;
                                                                                                                mediaCodec2 = createByCodecName;
                                                                                                                i3 = i77;
                                                                                                                i2 = i67;
                                                                                                                i62 = i78;
                                                                                                                str = str16;
                                                                                                                mediaCodec = null;
                                                                                                                inputSurface = null;
                                                                                                                i4 = -5;
                                                                                                                str2 = null;
                                                                                                                outputSurface = null;
                                                                                                                z4 = false;
                                                                                                                z5 = false;
                                                                                                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                FileLog.e(th);
                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                if (mediaExtractor != null) {
                                                                                                                }
                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                if (mP4Builder != null) {
                                                                                                                }
                                                                                                                if (mediaCodec2 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec != null) {
                                                                                                                }
                                                                                                                if (outputSurface != null) {
                                                                                                                }
                                                                                                                if (inputSurface != null) {
                                                                                                                }
                                                                                                                i63 = i2;
                                                                                                                str3 = str2;
                                                                                                                z6 = z5;
                                                                                                                z7 = true;
                                                                                                                if (z4) {
                                                                                                                }
                                                                                                            }
                                                                                                        } else {
                                                                                                            i24 = i20;
                                                                                                        }
                                                                                                        i25 = i65;
                                                                                                        name = createByCodecName.getName();
                                                                                                        z5 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                                                                        StringBuilder sb5 = new StringBuilder();
                                                                                                        i26 = i25;
                                                                                                        sb5.append("selected encoder ");
                                                                                                        sb5.append(name);
                                                                                                        FileLog.d(sb5.toString());
                                                                                                        createByCodecName.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                                                                        inputSurface3 = new InputSurface(createByCodecName.createInputSurface());
                                                                                                        inputSurface3.makeCurrent();
                                                                                                        createByCodecName.start();
                                                                                                        mediaCodec4 = createByCodecName;
                                                                                                        str2 = str14;
                                                                                                        arrayList = arrayList2;
                                                                                                        inputSurface2 = new OutputSurface(savedFilterState, null, str2, str15, arrayList, cropState2, i78, i67, i60, i61, i19, i77, false, num, num2, hDRInfo, arrayList3);
                                                                                                        if (hDRInfo == null) {
                                                                                                            try {
                                                                                                                if (inputSurface2.supportsEXTYUV() && z11) {
                                                                                                                    StoryEntry.HDRInfo hDRInfo2 = new StoryEntry.HDRInfo();
                                                                                                                    hDRInfo2.colorTransfer = i23;
                                                                                                                    hDRInfo2.colorStandard = i16;
                                                                                                                    if (i22 >= 24) {
                                                                                                                        c = 3;
                                                                                                                        createVideoFormat.setInteger("color-transfer", 3);
                                                                                                                    } else {
                                                                                                                        c = 3;
                                                                                                                    }
                                                                                                                    hDRInfo = hDRInfo2;
                                                                                                                    c2 = c;
                                                                                                                    if (i22 >= 24 && hDRInfo != null) {
                                                                                                                        try {
                                                                                                                            if (hDRInfo.getHDRType() != 0) {
                                                                                                                                if (inputSurface2.supportsEXTYUV()) {
                                                                                                                                    i27 = i6;
                                                                                                                                    OutputSurface outputSurface15 = inputSurface2;
                                                                                                                                    str7 = str5;
                                                                                                                                    c2 = z;
                                                                                                                                    inputSurface2 = inputSurface3;
                                                                                                                                    arrayList = i77;
                                                                                                                                    j6 = j;
                                                                                                                                    str2 = name;
                                                                                                                                    obj = "video/hevc";
                                                                                                                                    i28 = i24;
                                                                                                                                    outputSurface15.changeFragmentShader(hdrFragmentShader(i60, i61, i78, i67, true, hDRInfo), hdrFragmentShader(i60, i61, i78, i67, false, hDRInfo), true);
                                                                                                                                    i16 = outputSurface15;
                                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                                    mediaCodec = mediaCodecVideoConvertor.getDecoderByFormat(trackFormat);
                                                                                                                                    mediaCodec.configure(trackFormat, i16.getSurface(), (MediaCrypto) null, 0);
                                                                                                                                    mediaCodec.start();
                                                                                                                                    if (i22 >= 21) {
                                                                                                                                        try {
                                                                                                                                            try {
                                                                                                                                                inputBuffers = mediaCodec.getInputBuffers();
                                                                                                                                                outputBuffers = mediaCodec4.getOutputBuffers();
                                                                                                                                            } catch (Exception e35) {
                                                                                                                                                exc = e35;
                                                                                                                                                audioRecoder = null;
                                                                                                                                                z9 = z5;
                                                                                                                                                i65 = i26;
                                                                                                                                                mediaCodec2 = mediaCodec4;
                                                                                                                                                i15 = -5;
                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                }
                                                                                                                                                z4 = false;
                                                                                                                                                StringBuilder sb3222222 = new StringBuilder();
                                                                                                                                                sb3222222.append("bitrate: ");
                                                                                                                                                sb3222222.append(i65);
                                                                                                                                                sb3222222.append(" framerate: ");
                                                                                                                                                i3 = arrayList;
                                                                                                                                                sb3222222.append(i3);
                                                                                                                                                sb3222222.append(" size: ");
                                                                                                                                                i2 = i67;
                                                                                                                                                sb3222222.append(i2);
                                                                                                                                                str = str16;
                                                                                                                                                sb3222222.append(str);
                                                                                                                                                i11 = i78;
                                                                                                                                                sb3222222.append(i11);
                                                                                                                                                FileLog.e(sb3222222.toString());
                                                                                                                                                FileLog.e(exc);
                                                                                                                                                mediaCodec4 = mediaCodec2;
                                                                                                                                                i12 = i15;
                                                                                                                                                z5 = z9;
                                                                                                                                                z7 = true;
                                                                                                                                                mediaCodec7 = mediaCodec;
                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                if (mediaCodec7 != null) {
                                                                                                                                                }
                                                                                                                                                mediaCodec3 = mediaCodec7;
                                                                                                                                                outputSurface2 = i16;
                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec4 != null) {
                                                                                                                                                }
                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                }
                                                                                                                                                checkConversionCanceled();
                                                                                                                                                i63 = i2;
                                                                                                                                                i62 = i11;
                                                                                                                                                z6 = z5;
                                                                                                                                                OutputSurface outputSurface14222222 = outputSurface2;
                                                                                                                                                i13 = i12;
                                                                                                                                                mediaCodec6 = mediaCodec5;
                                                                                                                                                outputSurface3 = outputSurface14222222;
                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                }
                                                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                if (mP4Builder2 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec3 != null) {
                                                                                                                                                }
                                                                                                                                                if (outputSurface3 != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                }
                                                                                                                                                str3 = str2;
                                                                                                                                                if (z4) {
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                        } catch (Throwable th49) {
                                                                                                                                            th = th49;
                                                                                                                                            th = th;
                                                                                                                                            z2 = c2;
                                                                                                                                            outputSurface = i16;
                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                            i3 = arrayList;
                                                                                                                                            i2 = i67;
                                                                                                                                            i62 = i78;
                                                                                                                                            str = str16;
                                                                                                                                            i65 = i26;
                                                                                                                                            mediaCodec2 = mediaCodec4;
                                                                                                                                            i4 = -5;
                                                                                                                                            z4 = false;
                                                                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                            FileLog.e(th);
                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                            }
                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                            }
                                                                                                                                            if (outputSurface != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface != null) {
                                                                                                                                            }
                                                                                                                                            i63 = i2;
                                                                                                                                            str3 = str2;
                                                                                                                                            z6 = z5;
                                                                                                                                            z7 = true;
                                                                                                                                            if (z4) {
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    } else {
                                                                                                                                        inputBuffers = null;
                                                                                                                                        outputBuffers = null;
                                                                                                                                    }
                                                                                                                                    mediaCodecVideoConvertor.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z10, mediaCodecVideoConvertor.outputMimeType.equals(obj));
                                                                                                                                    if (i27 < 0) {
                                                                                                                                        try {
                                                                                                                                            MediaFormat trackFormat2 = mediaCodecVideoConvertor.extractor.getTrackFormat(i27);
                                                                                                                                            if (convertVideoParams.soundInfos.isEmpty()) {
                                                                                                                                            }
                                                                                                                                            if (!trackFormat2.getString(str7).equals("audio/mpeg")) {
                                                                                                                                                z12 = false;
                                                                                                                                                if (trackFormat2.getString(str7).equals("audio/unknown")) {
                                                                                                                                                    i27 = -1;
                                                                                                                                                }
                                                                                                                                                if (i27 >= 0) {
                                                                                                                                                    byteBufferArr = outputBuffers;
                                                                                                                                                    z13 = z12;
                                                                                                                                                    j7 = j28;
                                                                                                                                                    i29 = -5;
                                                                                                                                                    str7 = null;
                                                                                                                                                    i31 = 0;
                                                                                                                                                    byteBuffer = null;
                                                                                                                                                    if (str7 == null) {
                                                                                                                                                    }
                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                    ByteBuffer[] byteBufferArr4 = byteBufferArr;
                                                                                                                                                    ByteBuffer byteBuffer9 = byteBuffer;
                                                                                                                                                    long j30 = -1;
                                                                                                                                                    long j31 = -1;
                                                                                                                                                    i33 = -5;
                                                                                                                                                    long j32 = 0;
                                                                                                                                                    long j33 = 0;
                                                                                                                                                    z15 = false;
                                                                                                                                                    z16 = false;
                                                                                                                                                    int i83 = 0;
                                                                                                                                                    boolean z59 = true;
                                                                                                                                                    z17 = z14;
                                                                                                                                                    int i84 = i31;
                                                                                                                                                    z18 = false;
                                                                                                                                                    inputSurface4 = i21;
                                                                                                                                                    loop3: while (true) {
                                                                                                                                                        if (z18) {
                                                                                                                                                        }
                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                        if (str7 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (z15) {
                                                                                                                                                        }
                                                                                                                                                        z22 = z15;
                                                                                                                                                        z15 = z22;
                                                                                                                                                        i36 = i34;
                                                                                                                                                        j8 = j29;
                                                                                                                                                        z23 = !z16;
                                                                                                                                                        boolean z60 = true;
                                                                                                                                                        while (true) {
                                                                                                                                                            if (!z23) {
                                                                                                                                                            }
                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                            if (z) {
                                                                                                                                                            }
                                                                                                                                                            dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo2, j9);
                                                                                                                                                            if (dequeueOutputBuffer != -1) {
                                                                                                                                                            }
                                                                                                                                                            outputSurface7 = i16;
                                                                                                                                                            if (dequeueOutputBuffer != i40) {
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                        j29 = j8;
                                                                                                                                                        str7 = audioRecoder;
                                                                                                                                                        z17 = z20;
                                                                                                                                                        z13 = z21;
                                                                                                                                                        i27 = i35;
                                                                                                                                                        c2 = z;
                                                                                                                                                        bufferInfo = bufferInfo2;
                                                                                                                                                        i33 = i36;
                                                                                                                                                        inputBuffers = byteBufferArr2;
                                                                                                                                                        inputSurface4 = inputSurface4;
                                                                                                                                                    }
                                                                                                                                                } else if (z12) {
                                                                                                                                                    int addTrack2 = mediaCodecVideoConvertor.mediaMuxer.addTrack(trackFormat2, true);
                                                                                                                                                    mediaCodecVideoConvertor.extractor.selectTrack(i27);
                                                                                                                                                    try {
                                                                                                                                                        i30 = trackFormat2.getInteger("max-input-size");
                                                                                                                                                    } catch (Exception e36) {
                                                                                                                                                        FileLog.e(e36);
                                                                                                                                                        i30 = 0;
                                                                                                                                                    }
                                                                                                                                                    if (i30 <= 0) {
                                                                                                                                                        i30 = 65536;
                                                                                                                                                    }
                                                                                                                                                    ByteBuffer allocateDirect = ByteBuffer.allocateDirect(i30);
                                                                                                                                                    if (j28 > 0) {
                                                                                                                                                        byteBufferArr = outputBuffers;
                                                                                                                                                        i31 = i30;
                                                                                                                                                        j7 = j28;
                                                                                                                                                        mediaCodecVideoConvertor.extractor.seekTo(j7, 0);
                                                                                                                                                        i32 = addTrack2;
                                                                                                                                                        z13 = z12;
                                                                                                                                                        byteBuffer = allocateDirect;
                                                                                                                                                    } else {
                                                                                                                                                        byteBufferArr = outputBuffers;
                                                                                                                                                        i31 = i30;
                                                                                                                                                        j7 = j28;
                                                                                                                                                        i32 = addTrack2;
                                                                                                                                                        z13 = z12;
                                                                                                                                                        byteBuffer = allocateDirect;
                                                                                                                                                        mediaCodecVideoConvertor.extractor.seekTo(0L, 0);
                                                                                                                                                    }
                                                                                                                                                    i29 = i32;
                                                                                                                                                    str7 = null;
                                                                                                                                                    z14 = str7 == null;
                                                                                                                                                    try {
                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                        ByteBuffer[] byteBufferArr42 = byteBufferArr;
                                                                                                                                                        ByteBuffer byteBuffer92 = byteBuffer;
                                                                                                                                                        long j302 = -1;
                                                                                                                                                        long j312 = -1;
                                                                                                                                                        i33 = -5;
                                                                                                                                                        long j322 = 0;
                                                                                                                                                        long j332 = 0;
                                                                                                                                                        z15 = false;
                                                                                                                                                        z16 = false;
                                                                                                                                                        int i832 = 0;
                                                                                                                                                        boolean z592 = true;
                                                                                                                                                        z17 = z14;
                                                                                                                                                        int i842 = i31;
                                                                                                                                                        z18 = false;
                                                                                                                                                        inputSurface4 = i21;
                                                                                                                                                        loop3: while (true) {
                                                                                                                                                            if (z18 || (!z13 && !z17)) {
                                                                                                                                                                try {
                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                    if (str7 != null) {
                                                                                                                                                                        i34 = i33;
                                                                                                                                                                        try {
                                                                                                                                                                            z19 = str7.step(mediaCodecVideoConvertor.mediaMuxer, i29);
                                                                                                                                                                        } catch (Exception e37) {
                                                                                                                                                                            exc = e37;
                                                                                                                                                                            audioRecoder = str7;
                                                                                                                                                                            i15 = i34;
                                                                                                                                                                            z9 = z5;
                                                                                                                                                                            i65 = i26;
                                                                                                                                                                            mediaCodec2 = mediaCodec4;
                                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                                            }
                                                                                                                                                                            z4 = false;
                                                                                                                                                                            StringBuilder sb32222222 = new StringBuilder();
                                                                                                                                                                            sb32222222.append("bitrate: ");
                                                                                                                                                                            sb32222222.append(i65);
                                                                                                                                                                            sb32222222.append(" framerate: ");
                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                            sb32222222.append(i3);
                                                                                                                                                                            sb32222222.append(" size: ");
                                                                                                                                                                            i2 = i67;
                                                                                                                                                                            sb32222222.append(i2);
                                                                                                                                                                            str = str16;
                                                                                                                                                                            sb32222222.append(str);
                                                                                                                                                                            i11 = i78;
                                                                                                                                                                            sb32222222.append(i11);
                                                                                                                                                                            FileLog.e(sb32222222.toString());
                                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                                                            i12 = i15;
                                                                                                                                                                            z5 = z9;
                                                                                                                                                                            z7 = true;
                                                                                                                                                                            mediaCodec7 = mediaCodec;
                                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                                                                                            outputSurface2 = i16;
                                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                                            }
                                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                                            i63 = i2;
                                                                                                                                                                            i62 = i11;
                                                                                                                                                                            z6 = z5;
                                                                                                                                                                            OutputSurface outputSurface142222222 = outputSurface2;
                                                                                                                                                                            i13 = i12;
                                                                                                                                                                            mediaCodec6 = mediaCodec5;
                                                                                                                                                                            outputSurface3 = outputSurface142222222;
                                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec3 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            str3 = str2;
                                                                                                                                                                            if (z4) {
                                                                                                                                                                            }
                                                                                                                                                                        } catch (Throwable th50) {
                                                                                                                                                                            th = th50;
                                                                                                                                                                            z2 = c2;
                                                                                                                                                                            outputSurface = i16;
                                                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                            i2 = i67;
                                                                                                                                                                            i4 = i34;
                                                                                                                                                                            i62 = i78;
                                                                                                                                                                            str = str16;
                                                                                                                                                                            i65 = i26;
                                                                                                                                                                            mediaCodec2 = mediaCodec4;
                                                                                                                                                                            z4 = false;
                                                                                                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                            FileLog.e(th);
                                                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                                                            }
                                                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (outputSurface != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                                            }
                                                                                                                                                                            i63 = i2;
                                                                                                                                                                            str3 = str2;
                                                                                                                                                                            z6 = z5;
                                                                                                                                                                            z7 = true;
                                                                                                                                                                            if (z4) {
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                    } else {
                                                                                                                                                                        i34 = i33;
                                                                                                                                                                        z19 = z17;
                                                                                                                                                                    }
                                                                                                                                                                    if (z15) {
                                                                                                                                                                        byteBufferArr2 = inputBuffers;
                                                                                                                                                                        audioRecoder = str7;
                                                                                                                                                                        z20 = z19;
                                                                                                                                                                        z21 = z13;
                                                                                                                                                                        bufferInfo2 = bufferInfo;
                                                                                                                                                                        i35 = i27;
                                                                                                                                                                    } else {
                                                                                                                                                                        audioRecoder = str7;
                                                                                                                                                                        try {
                                                                                                                                                                            try {
                                                                                                                                                                                int sampleTrackIndex = mediaCodecVideoConvertor.extractor.getSampleTrackIndex();
                                                                                                                                                                                z20 = z19;
                                                                                                                                                                                int i85 = i14;
                                                                                                                                                                                if (sampleTrackIndex == i85) {
                                                                                                                                                                                    try {
                                                                                                                                                                                        int dequeueInputBuffer2 = mediaCodec.dequeueInputBuffer(2500L);
                                                                                                                                                                                        if (dequeueInputBuffer2 >= 0) {
                                                                                                                                                                                            if (Build.VERSION.SDK_INT < 21) {
                                                                                                                                                                                                inputBuffer = inputBuffers[dequeueInputBuffer2];
                                                                                                                                                                                            } else {
                                                                                                                                                                                                inputBuffer = mediaCodec.getInputBuffer(dequeueInputBuffer2);
                                                                                                                                                                                            }
                                                                                                                                                                                            byteBufferArr2 = inputBuffers;
                                                                                                                                                                                            int readSampleData = mediaCodecVideoConvertor.extractor.readSampleData(inputBuffer, 0);
                                                                                                                                                                                            if (readSampleData < 0) {
                                                                                                                                                                                                mediaCodec.queueInputBuffer(dequeueInputBuffer2, 0, 0, 0L, 4);
                                                                                                                                                                                                z38 = true;
                                                                                                                                                                                                z15 = z38;
                                                                                                                                                                                                i14 = i85;
                                                                                                                                                                                                z21 = z13;
                                                                                                                                                                                                bufferInfo2 = bufferInfo;
                                                                                                                                                                                                z35 = false;
                                                                                                                                                                                                i35 = i27;
                                                                                                                                                                                            } else {
                                                                                                                                                                                                mediaCodec.queueInputBuffer(dequeueInputBuffer2, 0, readSampleData, mediaCodecVideoConvertor.extractor.getSampleTime(), 0);
                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.advance();
                                                                                                                                                                                            }
                                                                                                                                                                                        } else {
                                                                                                                                                                                            byteBufferArr2 = inputBuffers;
                                                                                                                                                                                        }
                                                                                                                                                                                        z38 = z15;
                                                                                                                                                                                        z15 = z38;
                                                                                                                                                                                        i14 = i85;
                                                                                                                                                                                        z21 = z13;
                                                                                                                                                                                        bufferInfo2 = bufferInfo;
                                                                                                                                                                                        z35 = false;
                                                                                                                                                                                        i35 = i27;
                                                                                                                                                                                    } catch (Exception e38) {
                                                                                                                                                                                        exc = e38;
                                                                                                                                                                                        i14 = i85;
                                                                                                                                                                                        i15 = i34;
                                                                                                                                                                                        z9 = z5;
                                                                                                                                                                                        i65 = i26;
                                                                                                                                                                                        mediaCodec2 = mediaCodec4;
                                                                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                                                                        }
                                                                                                                                                                                        z4 = false;
                                                                                                                                                                                        StringBuilder sb322222222 = new StringBuilder();
                                                                                                                                                                                        sb322222222.append("bitrate: ");
                                                                                                                                                                                        sb322222222.append(i65);
                                                                                                                                                                                        sb322222222.append(" framerate: ");
                                                                                                                                                                                        i3 = arrayList;
                                                                                                                                                                                        sb322222222.append(i3);
                                                                                                                                                                                        sb322222222.append(" size: ");
                                                                                                                                                                                        i2 = i67;
                                                                                                                                                                                        sb322222222.append(i2);
                                                                                                                                                                                        str = str16;
                                                                                                                                                                                        sb322222222.append(str);
                                                                                                                                                                                        i11 = i78;
                                                                                                                                                                                        sb322222222.append(i11);
                                                                                                                                                                                        FileLog.e(sb322222222.toString());
                                                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                                                                                                        i12 = i15;
                                                                                                                                                                                        z5 = z9;
                                                                                                                                                                                        z7 = true;
                                                                                                                                                                                        mediaCodec7 = mediaCodec;
                                                                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                                                                                        }
                                                                                                                                                                                        mediaCodec3 = mediaCodec7;
                                                                                                                                                                                        outputSurface2 = i16;
                                                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                                                        }
                                                                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                                                                        }
                                                                                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                                                                                        }
                                                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                                                        }
                                                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                                                        i63 = i2;
                                                                                                                                                                                        i62 = i11;
                                                                                                                                                                                        z6 = z5;
                                                                                                                                                                                        OutputSurface outputSurface1422222222 = outputSurface2;
                                                                                                                                                                                        i13 = i12;
                                                                                                                                                                                        mediaCodec6 = mediaCodec5;
                                                                                                                                                                                        outputSurface3 = outputSurface1422222222;
                                                                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                                                        }
                                                                                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                                                                                        }
                                                                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                                                                        }
                                                                                                                                                                                        if (mediaCodec3 != null) {
                                                                                                                                                                                        }
                                                                                                                                                                                        if (outputSurface3 != null) {
                                                                                                                                                                                        }
                                                                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                                                                        }
                                                                                                                                                                                        str3 = str2;
                                                                                                                                                                                        if (z4) {
                                                                                                                                                                                        }
                                                                                                                                                                                    }
                                                                                                                                                                                } else {
                                                                                                                                                                                    byteBufferArr2 = inputBuffers;
                                                                                                                                                                                    if (z13 && i27 != -1 && sampleTrackIndex == i27) {
                                                                                                                                                                                        try {
                                                                                                                                                                                            int i86 = Build.VERSION.SDK_INT;
                                                                                                                                                                                            if (i86 >= 28) {
                                                                                                                                                                                                long sampleSize = mediaCodecVideoConvertor.extractor.getSampleSize();
                                                                                                                                                                                                i14 = i85;
                                                                                                                                                                                                z21 = z13;
                                                                                                                                                                                                if (sampleSize > i842) {
                                                                                                                                                                                                    i842 = (int) (sampleSize + 1024);
                                                                                                                                                                                                    byteBuffer92 = ByteBuffer.allocateDirect(i842);
                                                                                                                                                                                                }
                                                                                                                                                                                            } else {
                                                                                                                                                                                                i14 = i85;
                                                                                                                                                                                                z21 = z13;
                                                                                                                                                                                            }
                                                                                                                                                                                            ByteBuffer byteBuffer10 = byteBuffer92;
                                                                                                                                                                                            bufferInfo2 = bufferInfo;
                                                                                                                                                                                            bufferInfo2.size = mediaCodecVideoConvertor.extractor.readSampleData(byteBuffer10, 0);
                                                                                                                                                                                            if (i86 < 21) {
                                                                                                                                                                                                byteBuffer10.position(0);
                                                                                                                                                                                                byteBuffer10.limit(bufferInfo2.size);
                                                                                                                                                                                            }
                                                                                                                                                                                            if (bufferInfo2.size >= 0) {
                                                                                                                                                                                                i44 = i27;
                                                                                                                                                                                                bufferInfo2.presentationTimeUs = mediaCodecVideoConvertor.extractor.getSampleTime();
                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.advance();
                                                                                                                                                                                                z36 = z15;
                                                                                                                                                                                            } else {
                                                                                                                                                                                                i44 = i27;
                                                                                                                                                                                                bufferInfo2.size = 0;
                                                                                                                                                                                                z36 = true;
                                                                                                                                                                                            }
                                                                                                                                                                                            if (bufferInfo2.size <= 0 || (j27 >= 0 && bufferInfo2.presentationTimeUs >= j27)) {
                                                                                                                                                                                                byteBuffer4 = byteBuffer10;
                                                                                                                                                                                                i35 = i44;
                                                                                                                                                                                                z37 = z36;
                                                                                                                                                                                                i45 = i842;
                                                                                                                                                                                            } else {
                                                                                                                                                                                                bufferInfo2.offset = 0;
                                                                                                                                                                                                bufferInfo2.flags = mediaCodecVideoConvertor.extractor.getSampleFlags();
                                                                                                                                                                                                z37 = z36;
                                                                                                                                                                                                i45 = i842;
                                                                                                                                                                                                long writeSampleData2 = mediaCodecVideoConvertor.mediaMuxer.writeSampleData(i29, byteBuffer10, bufferInfo2, false);
                                                                                                                                                                                                if (writeSampleData2 == 0 || (videoConvertorListener2 = mediaCodecVideoConvertor.callback) == null) {
                                                                                                                                                                                                    byteBuffer4 = byteBuffer10;
                                                                                                                                                                                                    i35 = i44;
                                                                                                                                                                                                } else {
                                                                                                                                                                                                    i35 = i44;
                                                                                                                                                                                                    long j34 = bufferInfo2.presentationTimeUs;
                                                                                                                                                                                                    if (j34 - j7 > j322) {
                                                                                                                                                                                                        j322 = j34 - j7;
                                                                                                                                                                                                    }
                                                                                                                                                                                                    long j35 = j322;
                                                                                                                                                                                                    byteBuffer4 = byteBuffer10;
                                                                                                                                                                                                    videoConvertorListener2.didWriteData(writeSampleData2, (((float) j35) / 1000.0f) / f);
                                                                                                                                                                                                    j322 = j35;
                                                                                                                                                                                                }
                                                                                                                                                                                            }
                                                                                                                                                                                            i842 = i45;
                                                                                                                                                                                            z15 = z37;
                                                                                                                                                                                            byteBuffer92 = byteBuffer4;
                                                                                                                                                                                        } catch (Exception e39) {
                                                                                                                                                                                            e = e39;
                                                                                                                                                                                            i14 = i85;
                                                                                                                                                                                            exc = e;
                                                                                                                                                                                            i15 = i34;
                                                                                                                                                                                            z9 = z5;
                                                                                                                                                                                            i65 = i26;
                                                                                                                                                                                            mediaCodec2 = mediaCodec4;
                                                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                                                            }
                                                                                                                                                                                            z4 = false;
                                                                                                                                                                                            StringBuilder sb3222222222 = new StringBuilder();
                                                                                                                                                                                            sb3222222222.append("bitrate: ");
                                                                                                                                                                                            sb3222222222.append(i65);
                                                                                                                                                                                            sb3222222222.append(" framerate: ");
                                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                                            sb3222222222.append(i3);
                                                                                                                                                                                            sb3222222222.append(" size: ");
                                                                                                                                                                                            i2 = i67;
                                                                                                                                                                                            sb3222222222.append(i2);
                                                                                                                                                                                            str = str16;
                                                                                                                                                                                            sb3222222222.append(str);
                                                                                                                                                                                            i11 = i78;
                                                                                                                                                                                            sb3222222222.append(i11);
                                                                                                                                                                                            FileLog.e(sb3222222222.toString());
                                                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                                                                            i12 = i15;
                                                                                                                                                                                            z5 = z9;
                                                                                                                                                                                            z7 = true;
                                                                                                                                                                                            mediaCodec7 = mediaCodec;
                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                                                                                                            outputSurface2 = i16;
                                                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                                                            i63 = i2;
                                                                                                                                                                                            i62 = i11;
                                                                                                                                                                                            z6 = z5;
                                                                                                                                                                                            OutputSurface outputSurface14222222222 = outputSurface2;
                                                                                                                                                                                            i13 = i12;
                                                                                                                                                                                            mediaCodec6 = mediaCodec5;
                                                                                                                                                                                            outputSurface3 = outputSurface14222222222;
                                                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (mediaCodec3 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                                            }
                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                            if (z4) {
                                                                                                                                                                                            }
                                                                                                                                                                                        }
                                                                                                                                                                                    } else {
                                                                                                                                                                                        i14 = i85;
                                                                                                                                                                                        z21 = z13;
                                                                                                                                                                                        bufferInfo2 = bufferInfo;
                                                                                                                                                                                        i35 = i27;
                                                                                                                                                                                        if (sampleTrackIndex == -1) {
                                                                                                                                                                                            z35 = true;
                                                                                                                                                                                        }
                                                                                                                                                                                    }
                                                                                                                                                                                    z35 = false;
                                                                                                                                                                                }
                                                                                                                                                                                if (z35 && (dequeueInputBuffer = mediaCodec.dequeueInputBuffer(2500L)) >= 0) {
                                                                                                                                                                                    mediaCodec.queueInputBuffer(dequeueInputBuffer, 0, 0, 0L, 4);
                                                                                                                                                                                    z22 = true;
                                                                                                                                                                                    z15 = z22;
                                                                                                                                                                                    i36 = i34;
                                                                                                                                                                                    j8 = j29;
                                                                                                                                                                                    z23 = !z16;
                                                                                                                                                                                    boolean z602 = true;
                                                                                                                                                                                    while (true) {
                                                                                                                                                                                        if (!z23 || z602) {
                                                                                                                                                                                            try {
                                                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                                                if (z) {
                                                                                                                                                                                                    z24 = z602;
                                                                                                                                                                                                    z25 = z23;
                                                                                                                                                                                                    i37 = i842;
                                                                                                                                                                                                    mediaCodec2 = mediaCodec4;
                                                                                                                                                                                                    j9 = 2500;
                                                                                                                                                                                                } else {
                                                                                                                                                                                                    z24 = z602;
                                                                                                                                                                                                    mediaCodec2 = mediaCodec4;
                                                                                                                                                                                                    z25 = z23;
                                                                                                                                                                                                    i37 = i842;
                                                                                                                                                                                                    j9 = 22000;
                                                                                                                                                                                                }
                                                                                                                                                                                                try {
                                                                                                                                                                                                    dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo2, j9);
                                                                                                                                                                                                    if (dequeueOutputBuffer != -1) {
                                                                                                                                                                                                        mediaCodec11 = mediaCodec;
                                                                                                                                                                                                        i38 = i29;
                                                                                                                                                                                                        j10 = j8;
                                                                                                                                                                                                        z26 = z18;
                                                                                                                                                                                                        str8 = str20;
                                                                                                                                                                                                        i39 = i28;
                                                                                                                                                                                                        i40 = -1;
                                                                                                                                                                                                        z24 = false;
                                                                                                                                                                                                    } else {
                                                                                                                                                                                                        if (dequeueOutputBuffer == -3) {
                                                                                                                                                                                                            try {
                                                                                                                                                                                                                try {
                                                                                                                                                                                                                    i38 = i29;
                                                                                                                                                                                                                    if (Build.VERSION.SDK_INT < 21) {
                                                                                                                                                                                                                        byteBufferArr42 = mediaCodec2.getOutputBuffers();
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    mediaCodec11 = mediaCodec;
                                                                                                                                                                                                                    j10 = j8;
                                                                                                                                                                                                                    z26 = z18;
                                                                                                                                                                                                                    str8 = str20;
                                                                                                                                                                                                                } catch (Exception e40) {
                                                                                                                                                                                                                    e = e40;
                                                                                                                                                                                                                    i15 = i36;
                                                                                                                                                                                                                    z9 = z5;
                                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                                    exc = e;
                                                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                                    StringBuilder sb32222222222 = new StringBuilder();
                                                                                                                                                                                                                    sb32222222222.append("bitrate: ");
                                                                                                                                                                                                                    sb32222222222.append(i65);
                                                                                                                                                                                                                    sb32222222222.append(" framerate: ");
                                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                                    sb32222222222.append(i3);
                                                                                                                                                                                                                    sb32222222222.append(" size: ");
                                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                                    sb32222222222.append(i2);
                                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                                    sb32222222222.append(str);
                                                                                                                                                                                                                    i11 = i78;
                                                                                                                                                                                                                    sb32222222222.append(i11);
                                                                                                                                                                                                                    FileLog.e(sb32222222222.toString());
                                                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                    i12 = i15;
                                                                                                                                                                                                                    z5 = z9;
                                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                                    mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                    outputSurface2 = i16;
                                                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                                    i62 = i11;
                                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                                    OutputSurface outputSurface142222222222 = outputSurface2;
                                                                                                                                                                                                                    i13 = i12;
                                                                                                                                                                                                                    mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                    outputSurface3 = outputSurface142222222222;
                                                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (mediaCodec3 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                }
                                                                                                                                                                                                            } catch (Throwable th51) {
                                                                                                                                                                                                                th = th51;
                                                                                                                                                                                                                i4 = i36;
                                                                                                                                                                                                                outputSurface6 = i16;
                                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                                inputSurface = inputSurface2;
                                                                                                                                                                                                                i3 = arrayList;
                                                                                                                                                                                                                i2 = i67;
                                                                                                                                                                                                                i62 = i78;
                                                                                                                                                                                                                str = str16;
                                                                                                                                                                                                                i65 = i26;
                                                                                                                                                                                                                mediaCodec2 = mediaCodec2;
                                                                                                                                                                                                                mediaCodec = mediaCodec;
                                                                                                                                                                                                                z4 = false;
                                                                                                                                                                                                                outputSurface = outputSurface6;
                                                                                                                                                                                                                th = th;
                                                                                                                                                                                                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                if (mP4Builder != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                                i63 = i2;
                                                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                                                z6 = z5;
                                                                                                                                                                                                                z7 = true;
                                                                                                                                                                                                                if (z4) {
                                                                                                                                                                                                                }
                                                                                                                                                                                                            }
                                                                                                                                                                                                        } else {
                                                                                                                                                                                                            i38 = i29;
                                                                                                                                                                                                            if (dequeueOutputBuffer == -2) {
                                                                                                                                                                                                                try {
                                                                                                                                                                                                                    MediaFormat outputFormat2 = mediaCodec2.getOutputFormat();
                                                                                                                                                                                                                    if (i36 != -5 || outputFormat2 == null) {
                                                                                                                                                                                                                        str8 = str20;
                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                        int addTrack3 = mediaCodecVideoConvertor.mediaMuxer.addTrack(outputFormat2, false);
                                                                                                                                                                                                                        String str22 = str21;
                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                            if (outputFormat2.containsKey(str22)) {
                                                                                                                                                                                                                                i41 = addTrack3;
                                                                                                                                                                                                                                if (outputFormat2.getInteger(str22) == 1) {
                                                                                                                                                                                                                                    str8 = str20;
                                                                                                                                                                                                                                    try {
                                                                                                                                                                                                                                        ByteBuffer byteBuffer11 = outputFormat2.getByteBuffer(str8);
                                                                                                                                                                                                                                        str21 = str22;
                                                                                                                                                                                                                                        ByteBuffer byteBuffer12 = outputFormat2.getByteBuffer("csd-1");
                                                                                                                                                                                                                                        i832 = (byteBuffer11 == null ? 0 : byteBuffer11.limit()) + (byteBuffer12 == null ? 0 : byteBuffer12.limit());
                                                                                                                                                                                                                                        i36 = i41;
                                                                                                                                                                                                                                    } catch (Exception e41) {
                                                                                                                                                                                                                                        e = e41;
                                                                                                                                                                                                                                        exc = e;
                                                                                                                                                                                                                                        i15 = i41;
                                                                                                                                                                                                                                        z9 = z5;
                                                                                                                                                                                                                                        i65 = i26;
                                                                                                                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        z4 = false;
                                                                                                                                                                                                                                        StringBuilder sb322222222222 = new StringBuilder();
                                                                                                                                                                                                                                        sb322222222222.append("bitrate: ");
                                                                                                                                                                                                                                        sb322222222222.append(i65);
                                                                                                                                                                                                                                        sb322222222222.append(" framerate: ");
                                                                                                                                                                                                                                        i3 = arrayList;
                                                                                                                                                                                                                                        sb322222222222.append(i3);
                                                                                                                                                                                                                                        sb322222222222.append(" size: ");
                                                                                                                                                                                                                                        i2 = i67;
                                                                                                                                                                                                                                        sb322222222222.append(i2);
                                                                                                                                                                                                                                        str = str16;
                                                                                                                                                                                                                                        sb322222222222.append(str);
                                                                                                                                                                                                                                        i11 = i78;
                                                                                                                                                                                                                                        sb322222222222.append(i11);
                                                                                                                                                                                                                                        FileLog.e(sb322222222222.toString());
                                                                                                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                        i12 = i15;
                                                                                                                                                                                                                                        z5 = z9;
                                                                                                                                                                                                                                        z7 = true;
                                                                                                                                                                                                                                        mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                        outputSurface2 = i16;
                                                                                                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                                                                                                        i63 = i2;
                                                                                                                                                                                                                                        i62 = i11;
                                                                                                                                                                                                                                        z6 = z5;
                                                                                                                                                                                                                                        OutputSurface outputSurface1422222222222 = outputSurface2;
                                                                                                                                                                                                                                        i13 = i12;
                                                                                                                                                                                                                                        mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                        outputSurface3 = outputSurface1422222222222;
                                                                                                                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        if (mediaCodec3 != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        if (outputSurface3 != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        str3 = str2;
                                                                                                                                                                                                                                        if (z4) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                    } catch (Throwable th52) {
                                                                                                                                                                                                                                        th = th52;
                                                                                                                                                                                                                                        z2 = z;
                                                                                                                                                                                                                                        th = th;
                                                                                                                                                                                                                                        outputSurface = i16;
                                                                                                                                                                                                                                        inputSurface = inputSurface2;
                                                                                                                                                                                                                                        i3 = arrayList;
                                                                                                                                                                                                                                        i4 = i41;
                                                                                                                                                                                                                                        i2 = i67;
                                                                                                                                                                                                                                        i62 = i78;
                                                                                                                                                                                                                                        str = str16;
                                                                                                                                                                                                                                        i65 = i26;
                                                                                                                                                                                                                                        z4 = false;
                                                                                                                                                                                                                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                                        FileLog.e(th);
                                                                                                                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                        if (mP4Builder != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        i63 = i2;
                                                                                                                                                                                                                                        str3 = str2;
                                                                                                                                                                                                                                        z6 = z5;
                                                                                                                                                                                                                                        z7 = true;
                                                                                                                                                                                                                                        if (z4) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                }
                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                i41 = addTrack3;
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            str21 = str22;
                                                                                                                                                                                                                            str8 = str20;
                                                                                                                                                                                                                            i36 = i41;
                                                                                                                                                                                                                        } catch (Exception e42) {
                                                                                                                                                                                                                            e = e42;
                                                                                                                                                                                                                            i41 = addTrack3;
                                                                                                                                                                                                                        } catch (Throwable th53) {
                                                                                                                                                                                                                            th = th53;
                                                                                                                                                                                                                            i41 = addTrack3;
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    mediaCodec11 = mediaCodec;
                                                                                                                                                                                                                    j10 = j8;
                                                                                                                                                                                                                    z26 = z18;
                                                                                                                                                                                                                } catch (Throwable th54) {
                                                                                                                                                                                                                    th = th54;
                                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                                    i4 = i36;
                                                                                                                                                                                                                    outputSurface6 = i16;
                                                                                                                                                                                                                    inputSurface = inputSurface2;
                                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                                    i62 = i78;
                                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                                    mediaCodec2 = mediaCodec2;
                                                                                                                                                                                                                    mediaCodec = mediaCodec;
                                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                                    outputSurface = outputSurface6;
                                                                                                                                                                                                                    th = th;
                                                                                                                                                                                                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                                                                        mediaExtractor.release();
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                            mP4Builder.finishMovie();
                                                                                                                                                                                                                            mediaCodecVideoConvertor.endPresentationTime = mediaCodecVideoConvertor.mediaMuxer.getLastFrameTimestamp(i4);
                                                                                                                                                                                                                        } catch (Throwable th55) {
                                                                                                                                                                                                                            FileLog.e(th55);
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                            mediaCodec2.release();
                                                                                                                                                                                                                        } catch (Exception unused10) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                            mediaCodec.release();
                                                                                                                                                                                                                        } catch (Exception unused11) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                            outputSurface.release();
                                                                                                                                                                                                                        } catch (Exception unused12) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                            inputSurface.release();
                                                                                                                                                                                                                        } catch (Exception unused13) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                }
                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                str8 = str20;
                                                                                                                                                                                                                try {
                                                                                                                                                                                                                    if (dequeueOutputBuffer < 0) {
                                                                                                                                                                                                                        throw new RuntimeException("unexpected result from encoder.dequeueOutputBuffer: " + dequeueOutputBuffer);
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (Build.VERSION.SDK_INT < 21) {
                                                                                                                                                                                                                        outputBuffer = byteBufferArr42[dequeueOutputBuffer];
                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                        outputBuffer = mediaCodec2.getOutputBuffer(dequeueOutputBuffer);
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (outputBuffer == null) {
                                                                                                                                                                                                                        throw new RuntimeException("encoderOutputBuffer " + dequeueOutputBuffer + " was null");
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    int i87 = bufferInfo2.size;
                                                                                                                                                                                                                    outputSurface7 = i16;
                                                                                                                                                                                                                    try {
                                                                                                                                                                                                                        if (i87 > 1) {
                                                                                                                                                                                                                            try {
                                                                                                                                                                                                                                int i88 = bufferInfo2.flags;
                                                                                                                                                                                                                                if ((i88 & 2) == 0) {
                                                                                                                                                                                                                                    if (i832 == 0 || (i88 & 1) == 0) {
                                                                                                                                                                                                                                        j10 = j8;
                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                        j10 = j8;
                                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                                            bufferInfo2.offset += i832;
                                                                                                                                                                                                                                            bufferInfo2.size = i87 - i832;
                                                                                                                                                                                                                                        } catch (Exception e43) {
                                                                                                                                                                                                                                            e = e43;
                                                                                                                                                                                                                                            i15 = i36;
                                                                                                                                                                                                                                            i16 = outputSurface7;
                                                                                                                                                                                                                                            z9 = z5;
                                                                                                                                                                                                                                            i65 = i26;
                                                                                                                                                                                                                                            exc = e;
                                                                                                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            z4 = false;
                                                                                                                                                                                                                                            StringBuilder sb3222222222222 = new StringBuilder();
                                                                                                                                                                                                                                            sb3222222222222.append("bitrate: ");
                                                                                                                                                                                                                                            sb3222222222222.append(i65);
                                                                                                                                                                                                                                            sb3222222222222.append(" framerate: ");
                                                                                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                                                                                            sb3222222222222.append(i3);
                                                                                                                                                                                                                                            sb3222222222222.append(" size: ");
                                                                                                                                                                                                                                            i2 = i67;
                                                                                                                                                                                                                                            sb3222222222222.append(i2);
                                                                                                                                                                                                                                            str = str16;
                                                                                                                                                                                                                                            sb3222222222222.append(str);
                                                                                                                                                                                                                                            i11 = i78;
                                                                                                                                                                                                                                            sb3222222222222.append(i11);
                                                                                                                                                                                                                                            FileLog.e(sb3222222222222.toString());
                                                                                                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                            i12 = i15;
                                                                                                                                                                                                                                            z5 = z9;
                                                                                                                                                                                                                                            z7 = true;
                                                                                                                                                                                                                                            mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                            outputSurface2 = i16;
                                                                                                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                                                                                                            i63 = i2;
                                                                                                                                                                                                                                            i62 = i11;
                                                                                                                                                                                                                                            z6 = z5;
                                                                                                                                                                                                                                            OutputSurface outputSurface14222222222222 = outputSurface2;
                                                                                                                                                                                                                                            i13 = i12;
                                                                                                                                                                                                                                            mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                            outputSurface3 = outputSurface14222222222222;
                                                                                                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            if (mediaCodec3 != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                                                                            if (z4) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                        } catch (Throwable th56) {
                                                                                                                                                                                                                                            th = th56;
                                                                                                                                                                                                                                            z2 = z;
                                                                                                                                                                                                                                            i4 = i36;
                                                                                                                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                                                                                                                            outputSurface6 = outputSurface7;
                                                                                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                                                                                            i2 = i67;
                                                                                                                                                                                                                                            i62 = i78;
                                                                                                                                                                                                                                            str = str16;
                                                                                                                                                                                                                                            i65 = i26;
                                                                                                                                                                                                                                            mediaCodec2 = mediaCodec2;
                                                                                                                                                                                                                                            mediaCodec = mediaCodec;
                                                                                                                                                                                                                                            z4 = false;
                                                                                                                                                                                                                                            outputSurface = outputSurface6;
                                                                                                                                                                                                                                            th = th;
                                                                                                                                                                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                                            FileLog.e(th);
                                                                                                                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            if (outputSurface != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            i63 = i2;
                                                                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                                                                            z6 = z5;
                                                                                                                                                                                                                                            z7 = true;
                                                                                                                                                                                                                                            if (z4) {
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    if (z592 && (i88 & 1) != 0) {
                                                                                                                                                                                                                                        cutOfNalData(mediaCodecVideoConvertor.outputMimeType, outputBuffer, bufferInfo2);
                                                                                                                                                                                                                                        z592 = false;
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    MediaCodec mediaCodec23 = mediaCodec;
                                                                                                                                                                                                                                    try {
                                                                                                                                                                                                                                        long writeSampleData3 = mediaCodecVideoConvertor.mediaMuxer.writeSampleData(i36, outputBuffer, bufferInfo2, true);
                                                                                                                                                                                                                                        if (writeSampleData3 == 0 || (videoConvertorListener = mediaCodecVideoConvertor.callback) == null) {
                                                                                                                                                                                                                                            mediaCodec11 = mediaCodec23;
                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                            mediaCodec11 = mediaCodec23;
                                                                                                                                                                                                                                            try {
                                                                                                                                                                                                                                                long j36 = bufferInfo2.presentationTimeUs;
                                                                                                                                                                                                                                                if (j36 - j7 > j322) {
                                                                                                                                                                                                                                                    j322 = j36 - j7;
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                long j37 = j322;
                                                                                                                                                                                                                                                videoConvertorListener.didWriteData(writeSampleData3, (((float) j37) / 1000.0f) / f);
                                                                                                                                                                                                                                                j322 = j37;
                                                                                                                                                                                                                                            } catch (Exception e44) {
                                                                                                                                                                                                                                                e = e44;
                                                                                                                                                                                                                                                i15 = i36;
                                                                                                                                                                                                                                                i16 = outputSurface7;
                                                                                                                                                                                                                                                mediaCodec = mediaCodec11;
                                                                                                                                                                                                                                                z9 = z5;
                                                                                                                                                                                                                                                i65 = i26;
                                                                                                                                                                                                                                                exc = e;
                                                                                                                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                z4 = false;
                                                                                                                                                                                                                                                StringBuilder sb32222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                sb32222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                sb32222222222222.append(i65);
                                                                                                                                                                                                                                                sb32222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                i3 = arrayList;
                                                                                                                                                                                                                                                sb32222222222222.append(i3);
                                                                                                                                                                                                                                                sb32222222222222.append(" size: ");
                                                                                                                                                                                                                                                i2 = i67;
                                                                                                                                                                                                                                                sb32222222222222.append(i2);
                                                                                                                                                                                                                                                str = str16;
                                                                                                                                                                                                                                                sb32222222222222.append(str);
                                                                                                                                                                                                                                                i11 = i78;
                                                                                                                                                                                                                                                sb32222222222222.append(i11);
                                                                                                                                                                                                                                                FileLog.e(sb32222222222222.toString());
                                                                                                                                                                                                                                                FileLog.e(exc);
                                                                                                                                                                                                                                                mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                i12 = i15;
                                                                                                                                                                                                                                                z5 = z9;
                                                                                                                                                                                                                                                z7 = true;
                                                                                                                                                                                                                                                mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                                if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                                outputSurface2 = i16;
                                                                                                                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (mediaCodec4 != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                                                                                                i63 = i2;
                                                                                                                                                                                                                                                i62 = i11;
                                                                                                                                                                                                                                                z6 = z5;
                                                                                                                                                                                                                                                OutputSurface outputSurface142222222222222 = outputSurface2;
                                                                                                                                                                                                                                                i13 = i12;
                                                                                                                                                                                                                                                mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                                outputSurface3 = outputSurface142222222222222;
                                                                                                                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (mediaCodec3 != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (outputSurface3 != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                                                                                if (z4) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                            } catch (Throwable th57) {
                                                                                                                                                                                                                                                th = th57;
                                                                                                                                                                                                                                                z2 = z;
                                                                                                                                                                                                                                                i4 = i36;
                                                                                                                                                                                                                                                inputSurface = inputSurface2;
                                                                                                                                                                                                                                                outputSurface6 = outputSurface7;
                                                                                                                                                                                                                                                i3 = arrayList;
                                                                                                                                                                                                                                                mediaCodec = mediaCodec11;
                                                                                                                                                                                                                                                i2 = i67;
                                                                                                                                                                                                                                                i62 = i78;
                                                                                                                                                                                                                                                str = str16;
                                                                                                                                                                                                                                                i65 = i26;
                                                                                                                                                                                                                                                mediaCodec2 = mediaCodec2;
                                                                                                                                                                                                                                                mediaCodec = mediaCodec;
                                                                                                                                                                                                                                                z4 = false;
                                                                                                                                                                                                                                                outputSurface = outputSurface6;
                                                                                                                                                                                                                                                th = th;
                                                                                                                                                                                                                                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                if (mP4Builder != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                i63 = i2;
                                                                                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                                                                                z6 = z5;
                                                                                                                                                                                                                                                z7 = true;
                                                                                                                                                                                                                                                if (z4) {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        i15 = i36;
                                                                                                                                                                                                                                        i39 = i28;
                                                                                                                                                                                                                                        boolean z61 = (bufferInfo2.flags & 4) != 0;
                                                                                                                                                                                                                                        mediaCodec2.releaseOutputBuffer(dequeueOutputBuffer, false);
                                                                                                                                                                                                                                        z26 = z61;
                                                                                                                                                                                                                                        i36 = i15;
                                                                                                                                                                                                                                        i40 = -1;
                                                                                                                                                                                                                                        if (dequeueOutputBuffer != i40) {
                                                                                                                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                            i28 = i39;
                                                                                                                                                                                                                                            str20 = str8;
                                                                                                                                                                                                                                            i16 = outputSurface7;
                                                                                                                                                                                                                                            i842 = i37;
                                                                                                                                                                                                                                            z23 = z25;
                                                                                                                                                                                                                                            z602 = z24;
                                                                                                                                                                                                                                            i29 = i38;
                                                                                                                                                                                                                                            j8 = j10;
                                                                                                                                                                                                                                            z18 = z26;
                                                                                                                                                                                                                                            mediaCodec = mediaCodec11;
                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                            if (z16) {
                                                                                                                                                                                                                                                i42 = i36;
                                                                                                                                                                                                                                                z27 = inputSurface4;
                                                                                                                                                                                                                                                z28 = z26;
                                                                                                                                                                                                                                                j11 = j7;
                                                                                                                                                                                                                                                i28 = i39;
                                                                                                                                                                                                                                                inputSurface5 = inputSurface2;
                                                                                                                                                                                                                                                outputSurface5 = outputSurface7;
                                                                                                                                                                                                                                                j12 = j10;
                                                                                                                                                                                                                                                mediaCodec9 = mediaCodec11;
                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                mediaCodec9 = mediaCodec11;
                                                                                                                                                                                                                                                try {
                                                                                                                                                                                                                                                    int dequeueOutputBuffer2 = mediaCodec9.dequeueOutputBuffer(bufferInfo2, 2500L);
                                                                                                                                                                                                                                                    if (dequeueOutputBuffer2 == i40) {
                                                                                                                                                                                                                                                        i42 = i36;
                                                                                                                                                                                                                                                        z27 = inputSurface4;
                                                                                                                                                                                                                                                        z28 = z26;
                                                                                                                                                                                                                                                        j11 = j7;
                                                                                                                                                                                                                                                        i28 = i39;
                                                                                                                                                                                                                                                        inputSurface5 = inputSurface2;
                                                                                                                                                                                                                                                        outputSurface5 = outputSurface7;
                                                                                                                                                                                                                                                        j8 = j10;
                                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                                        if (dequeueOutputBuffer2 != -3) {
                                                                                                                                                                                                                                                            if (dequeueOutputBuffer2 != -2) {
                                                                                                                                                                                                                                                                if (dequeueOutputBuffer2 < 0) {
                                                                                                                                                                                                                                                                    break loop3;
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                if (bufferInfo2.size != 0) {
                                                                                                                                                                                                                                                                    i43 = i36;
                                                                                                                                                                                                                                                                    z27 = inputSurface4;
                                                                                                                                                                                                                                                                    z29 = true;
                                                                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                                                                    i43 = i36;
                                                                                                                                                                                                                                                                    z27 = inputSurface4;
                                                                                                                                                                                                                                                                    z29 = false;
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                try {
                                                                                                                                                                                                                                                                    j13 = bufferInfo2.presentationTimeUs;
                                                                                                                                                                                                                                                                    if (j27 <= 0 || j13 < j27) {
                                                                                                                                                                                                                                                                        z30 = z29;
                                                                                                                                                                                                                                                                        z31 = z15;
                                                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                                                                            bufferInfo2.flags |= 4;
                                                                                                                                                                                                                                                                            z31 = true;
                                                                                                                                                                                                                                                                            z30 = false;
                                                                                                                                                                                                                                                                            z16 = true;
                                                                                                                                                                                                                                                                        } catch (Exception e45) {
                                                                                                                                                                                                                                                                            exc = e45;
                                                                                                                                                                                                                                                                            i15 = i43;
                                                                                                                                                                                                                                                                            mediaCodec = mediaCodec9;
                                                                                                                                                                                                                                                                            i16 = outputSurface7;
                                                                                                                                                                                                                                                                            z9 = z5;
                                                                                                                                                                                                                                                                            i65 = i26;
                                                                                                                                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            z4 = false;
                                                                                                                                                                                                                                                                            StringBuilder sb322222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                            sb322222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                            sb322222222222222.append(i65);
                                                                                                                                                                                                                                                                            sb322222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                                                                                                                            sb322222222222222.append(i3);
                                                                                                                                                                                                                                                                            sb322222222222222.append(" size: ");
                                                                                                                                                                                                                                                                            i2 = i67;
                                                                                                                                                                                                                                                                            sb322222222222222.append(i2);
                                                                                                                                                                                                                                                                            str = str16;
                                                                                                                                                                                                                                                                            sb322222222222222.append(str);
                                                                                                                                                                                                                                                                            i11 = i78;
                                                                                                                                                                                                                                                                            sb322222222222222.append(i11);
                                                                                                                                                                                                                                                                            FileLog.e(sb322222222222222.toString());
                                                                                                                                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                                            i12 = i15;
                                                                                                                                                                                                                                                                            z5 = z9;
                                                                                                                                                                                                                                                                            z7 = true;
                                                                                                                                                                                                                                                                            mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                                                            outputSurface2 = i16;
                                                                                                                                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                                                                                                                                            i63 = i2;
                                                                                                                                                                                                                                                                            i62 = i11;
                                                                                                                                                                                                                                                                            z6 = z5;
                                                                                                                                                                                                                                                                            OutputSurface outputSurface1422222222222222 = outputSurface2;
                                                                                                                                                                                                                                                                            i13 = i12;
                                                                                                                                                                                                                                                                            mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                                                            outputSurface3 = outputSurface1422222222222222;
                                                                                                                                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            if (mediaCodec3 != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                                                                                                            if (z4) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                        } catch (Throwable th58) {
                                                                                                                                                                                                                                                                            z2 = z;
                                                                                                                                                                                                                                                                            th = th58;
                                                                                                                                                                                                                                                                            i4 = i43;
                                                                                                                                                                                                                                                                            mediaCodec = mediaCodec9;
                                                                                                                                                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                                                                                                                                                            outputSurface = outputSurface7;
                                                                                                                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                                                                                                                            i2 = i67;
                                                                                                                                                                                                                                                                            i62 = i78;
                                                                                                                                                                                                                                                                            str = str16;
                                                                                                                                                                                                                                                                            i65 = i26;
                                                                                                                                                                                                                                                                            z4 = false;
                                                                                                                                                                                                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                                                                            FileLog.e(th);
                                                                                                                                                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            if (outputSurface != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            i63 = i2;
                                                                                                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                                                                                                            z6 = z5;
                                                                                                                                                                                                                                                                            z7 = true;
                                                                                                                                                                                                                                                                            if (z4) {
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                } catch (Exception e46) {
                                                                                                                                                                                                                                                                    e = e46;
                                                                                                                                                                                                                                                                    i42 = i43;
                                                                                                                                                                                                                                                                } catch (Throwable th59) {
                                                                                                                                                                                                                                                                    th = th59;
                                                                                                                                                                                                                                                                    i42 = i43;
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                try {
                                                                                                                                                                                                                                                                    if (j5 >= 0) {
                                                                                                                                                                                                                                                                        z28 = z26;
                                                                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                                                                            if ((bufferInfo2.flags & 4) != 0) {
                                                                                                                                                                                                                                                                                i42 = i43;
                                                                                                                                                                                                                                                                                if (Math.abs(j5 - j7) > MediaController.VIDEO_BITRATE_480 / arrayList) {
                                                                                                                                                                                                                                                                                    if (j7 > 0) {
                                                                                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                                                                                            try {
                                                                                                                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.seekTo(j7, 0);
                                                                                                                                                                                                                                                                                                j11 = j7;
                                                                                                                                                                                                                                                                                            } catch (Exception e47) {
                                                                                                                                                                                                                                                                                                e = e47;
                                                                                                                                                                                                                                                                                                exc = e;
                                                                                                                                                                                                                                                                                                mediaCodec = mediaCodec9;
                                                                                                                                                                                                                                                                                                i16 = outputSurface7;
                                                                                                                                                                                                                                                                                                i15 = i42;
                                                                                                                                                                                                                                                                                                z9 = z5;
                                                                                                                                                                                                                                                                                                i65 = i26;
                                                                                                                                                                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                                                                                                                    if (!z2) {
                                                                                                                                                                                                                                                                                                        z4 = true;
                                                                                                                                                                                                                                                                                                        StringBuilder sb3222222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                                                        sb3222222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                                                        sb3222222222222222.append(i65);
                                                                                                                                                                                                                                                                                                        sb3222222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                                                        i3 = arrayList;
                                                                                                                                                                                                                                                                                                        sb3222222222222222.append(i3);
                                                                                                                                                                                                                                                                                                        sb3222222222222222.append(" size: ");
                                                                                                                                                                                                                                                                                                        i2 = i67;
                                                                                                                                                                                                                                                                                                        sb3222222222222222.append(i2);
                                                                                                                                                                                                                                                                                                        str = str16;
                                                                                                                                                                                                                                                                                                        sb3222222222222222.append(str);
                                                                                                                                                                                                                                                                                                        i11 = i78;
                                                                                                                                                                                                                                                                                                        sb3222222222222222.append(i11);
                                                                                                                                                                                                                                                                                                        FileLog.e(sb3222222222222222.toString());
                                                                                                                                                                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                                                                                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                                                                        i12 = i15;
                                                                                                                                                                                                                                                                                                        z5 = z9;
                                                                                                                                                                                                                                                                                                        z7 = true;
                                                                                                                                                                                                                                                                                                        mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                                                            mediaCodec7.stop();
                                                                                                                                                                                                                                                                                                            mediaCodec7.release();
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                                                                                        outputSurface2 = i16;
                                                                                                                                                                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                                                                                                                                                                        i63 = i2;
                                                                                                                                                                                                                                                                                                        i62 = i11;
                                                                                                                                                                                                                                                                                                        z6 = z5;
                                                                                                                                                                                                                                                                                                        OutputSurface outputSurface14222222222222222 = outputSurface2;
                                                                                                                                                                                                                                                                                                        i13 = i12;
                                                                                                                                                                                                                                                                                                        mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                                                                                        outputSurface3 = outputSurface14222222222222222;
                                                                                                                                                                                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        if (mediaCodec3 != null) {
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        if (outputSurface3 != null) {
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        str3 = str2;
                                                                                                                                                                                                                                                                                                        if (z4) {
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                z4 = false;
                                                                                                                                                                                                                                                                                                StringBuilder sb32222222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                                                sb32222222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                                                sb32222222222222222.append(i65);
                                                                                                                                                                                                                                                                                                sb32222222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                                                i3 = arrayList;
                                                                                                                                                                                                                                                                                                sb32222222222222222.append(i3);
                                                                                                                                                                                                                                                                                                sb32222222222222222.append(" size: ");
                                                                                                                                                                                                                                                                                                i2 = i67;
                                                                                                                                                                                                                                                                                                sb32222222222222222.append(i2);
                                                                                                                                                                                                                                                                                                str = str16;
                                                                                                                                                                                                                                                                                                sb32222222222222222.append(str);
                                                                                                                                                                                                                                                                                                i11 = i78;
                                                                                                                                                                                                                                                                                                sb32222222222222222.append(i11);
                                                                                                                                                                                                                                                                                                FileLog.e(sb32222222222222222.toString());
                                                                                                                                                                                                                                                                                                FileLog.e(exc);
                                                                                                                                                                                                                                                                                                mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                                                                i12 = i15;
                                                                                                                                                                                                                                                                                                z5 = z9;
                                                                                                                                                                                                                                                                                                z7 = true;
                                                                                                                                                                                                                                                                                                mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                                                                                if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                                                                                outputSurface2 = i16;
                                                                                                                                                                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec4 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                                                                                                                                                i63 = i2;
                                                                                                                                                                                                                                                                                                i62 = i11;
                                                                                                                                                                                                                                                                                                z6 = z5;
                                                                                                                                                                                                                                                                                                OutputSurface outputSurface142222222222222222 = outputSurface2;
                                                                                                                                                                                                                                                                                                i13 = i12;
                                                                                                                                                                                                                                                                                                mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                                                                                outputSurface3 = outputSurface142222222222222222;
                                                                                                                                                                                                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (mediaCodec3 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (outputSurface3 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                str3 = str2;
                                                                                                                                                                                                                                                                                                if (z4) {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                        } catch (Throwable th60) {
                                                                                                                                                                                                                                                                                            th = th60;
                                                                                                                                                                                                                                                                                            z2 = z;
                                                                                                                                                                                                                                                                                            th = th;
                                                                                                                                                                                                                                                                                            mediaCodec = mediaCodec9;
                                                                                                                                                                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                                                                                                                                                                            outputSurface = outputSurface7;
                                                                                                                                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                                                                                                                                            i2 = i67;
                                                                                                                                                                                                                                                                                            i62 = i78;
                                                                                                                                                                                                                                                                                            i4 = i42;
                                                                                                                                                                                                                                                                                            str = str16;
                                                                                                                                                                                                                                                                                            i65 = i26;
                                                                                                                                                                                                                                                                                            z4 = false;
                                                                                                                                                                                                                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                                                                                            FileLog.e(th);
                                                                                                                                                                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            if (outputSurface != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            i63 = i2;
                                                                                                                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                                                                                                                            z6 = z5;
                                                                                                                                                                                                                                                                                            z7 = true;
                                                                                                                                                                                                                                                                                            if (z4) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                                                                                            j11 = j7;
                                                                                                                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.seekTo(0L, 0);
                                                                                                                                                                                                                                                                                        } catch (Throwable th61) {
                                                                                                                                                                                                                                                                                            th = th61;
                                                                                                                                                                                                                                                                                            z2 = z;
                                                                                                                                                                                                                                                                                            th = th;
                                                                                                                                                                                                                                                                                            mediaCodec = mediaCodec9;
                                                                                                                                                                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                                                                                                                                                                            outputSurface = outputSurface7;
                                                                                                                                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                                                                                                                                            i2 = i67;
                                                                                                                                                                                                                                                                                            i62 = i78;
                                                                                                                                                                                                                                                                                            i4 = i42;
                                                                                                                                                                                                                                                                                            str = str16;
                                                                                                                                                                                                                                                                                            i65 = i26;
                                                                                                                                                                                                                                                                                            z4 = false;
                                                                                                                                                                                                                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                                                                                            FileLog.e(th);
                                                                                                                                                                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            if (outputSurface != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            i63 = i2;
                                                                                                                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                                                                                                                            z6 = z5;
                                                                                                                                                                                                                                                                                            z7 = true;
                                                                                                                                                                                                                                                                                            if (z4) {
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    j332 = j10 + j6;
                                                                                                                                                                                                                                                                                    bufferInfo2.flags &= -5;
                                                                                                                                                                                                                                                                                    mediaCodec9.flush();
                                                                                                                                                                                                                                                                                    j27 = j5;
                                                                                                                                                                                                                                                                                    j5 = -1;
                                                                                                                                                                                                                                                                                    z32 = true;
                                                                                                                                                                                                                                                                                    z31 = false;
                                                                                                                                                                                                                                                                                    z30 = false;
                                                                                                                                                                                                                                                                                    z16 = false;
                                                                                                                                                                                                                                                                                    if (j312 > 0 || bufferInfo2.presentationTimeUs - j312 >= j3 || (bufferInfo2.flags & 4) != 0) {
                                                                                                                                                                                                                                                                                        j14 = 0;
                                                                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                                                                        j14 = 0;
                                                                                                                                                                                                                                                                                        z30 = false;
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    i28 = i39;
                                                                                                                                                                                                                                                                                    j15 = j5 >= j14 ? j5 : j11;
                                                                                                                                                                                                                                                                                    if (j15 > j14 && j302 == -1) {
                                                                                                                                                                                                                                                                                        if (j13 >= j15) {
                                                                                                                                                                                                                                                                                            if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                                                                                                                                                                FileLog.d("drop frame startTime = " + j15 + " present time = " + bufferInfo2.presentationTimeUs);
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            z33 = false;
                                                                                                                                                                                                                                                                                            if (z32) {
                                                                                                                                                                                                                                                                                                if (j5 == -1 && j332 != 0) {
                                                                                                                                                                                                                                                                                                    bufferInfo2.presentationTimeUs += j332;
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                try {
                                                                                                                                                                                                                                                                                                    mediaCodec9.releaseOutputBuffer(dequeueOutputBuffer2, z33);
                                                                                                                                                                                                                                                                                                } catch (Exception e48) {
                                                                                                                                                                                                                                                                                                    e = e48;
                                                                                                                                                                                                                                                                                                    outputSurface5 = outputSurface7;
                                                                                                                                                                                                                                                                                                    exc = e;
                                                                                                                                                                                                                                                                                                    i15 = i42;
                                                                                                                                                                                                                                                                                                    z9 = z5;
                                                                                                                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                                                                                                                    outputSurface4 = outputSurface5;
                                                                                                                                                                                                                                                                                                    mediaCodec8 = mediaCodec9;
                                                                                                                                                                                                                                                                                                    MediaCodec mediaCodec24 = mediaCodec8;
                                                                                                                                                                                                                                                                                                    i16 = outputSurface4;
                                                                                                                                                                                                                                                                                                    mediaCodec = mediaCodec24;
                                                                                                                                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                                                                                                                    StringBuilder sb322222222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                                                    sb322222222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                                                    sb322222222222222222.append(i65);
                                                                                                                                                                                                                                                                                                    sb322222222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                                                                                                                    sb322222222222222222.append(i3);
                                                                                                                                                                                                                                                                                                    sb322222222222222222.append(" size: ");
                                                                                                                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                                                                                                                    sb322222222222222222.append(i2);
                                                                                                                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                                                                                                                    sb322222222222222222.append(str);
                                                                                                                                                                                                                                                                                                    i11 = i78;
                                                                                                                                                                                                                                                                                                    sb322222222222222222.append(i11);
                                                                                                                                                                                                                                                                                                    FileLog.e(sb322222222222222222.toString());
                                                                                                                                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                                                                    i12 = i15;
                                                                                                                                                                                                                                                                                                    z5 = z9;
                                                                                                                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                                                                                                                    mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                                                                                    outputSurface2 = i16;
                                                                                                                                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                                                                                                                    i62 = i11;
                                                                                                                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                                                                                                                    OutputSurface outputSurface1422222222222222222 = outputSurface2;
                                                                                                                                                                                                                                                                                                    i13 = i12;
                                                                                                                                                                                                                                                                                                    mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                                                                                    outputSurface3 = outputSurface1422222222222222222;
                                                                                                                                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (mediaCodec3 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                } catch (Throwable th62) {
                                                                                                                                                                                                                                                                                                    th = th62;
                                                                                                                                                                                                                                                                                                    inputSurface5 = inputSurface2;
                                                                                                                                                                                                                                                                                                    outputSurface5 = outputSurface7;
                                                                                                                                                                                                                                                                                                    th = th;
                                                                                                                                                                                                                                                                                                    inputSurface = inputSurface5;
                                                                                                                                                                                                                                                                                                    outputSurface = outputSurface5;
                                                                                                                                                                                                                                                                                                    mediaCodec = mediaCodec9;
                                                                                                                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                                                                                                                    i62 = i78;
                                                                                                                                                                                                                                                                                                    i4 = i42;
                                                                                                                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                                                                                                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                j302 = -1;
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            if (z33) {
                                                                                                                                                                                                                                                                                                inputSurface5 = inputSurface2;
                                                                                                                                                                                                                                                                                                outputSurface5 = outputSurface7;
                                                                                                                                                                                                                                                                                                j8 = j10;
                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                try {
                                                                                                                                                                                                                                                                                                    long j38 = bufferInfo2.presentationTimeUs;
                                                                                                                                                                                                                                                                                                    j8 = j5 >= 0 ? Math.max(j10, j38) : j10;
                                                                                                                                                                                                                                                                                                    try {
                                                                                                                                                                                                                                                                                                        outputSurface7.awaitNewImage();
                                                                                                                                                                                                                                                                                                        z34 = false;
                                                                                                                                                                                                                                                                                                    } catch (Exception e49) {
                                                                                                                                                                                                                                                                                                        FileLog.e(e49);
                                                                                                                                                                                                                                                                                                        z34 = true;
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (z34) {
                                                                                                                                                                                                                                                                                                        inputSurface6 = inputSurface2;
                                                                                                                                                                                                                                                                                                        outputSurface5 = outputSurface7;
                                                                                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                                                                                        outputSurface5 = outputSurface7;
                                                                                                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                                                                                                            outputSurface5.drawImage(bufferInfo2.presentationTimeUs * 1000);
                                                                                                                                                                                                                                                                                                            inputSurface6 = inputSurface2;
                                                                                                                                                                                                                                                                                                        } catch (Exception e50) {
                                                                                                                                                                                                                                                                                                            e = e50;
                                                                                                                                                                                                                                                                                                            exc = e;
                                                                                                                                                                                                                                                                                                            i15 = i42;
                                                                                                                                                                                                                                                                                                            z9 = z5;
                                                                                                                                                                                                                                                                                                            i65 = i26;
                                                                                                                                                                                                                                                                                                            outputSurface4 = outputSurface5;
                                                                                                                                                                                                                                                                                                            mediaCodec8 = mediaCodec9;
                                                                                                                                                                                                                                                                                                            MediaCodec mediaCodec242 = mediaCodec8;
                                                                                                                                                                                                                                                                                                            i16 = outputSurface4;
                                                                                                                                                                                                                                                                                                            mediaCodec = mediaCodec242;
                                                                                                                                                                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            z4 = false;
                                                                                                                                                                                                                                                                                                            StringBuilder sb3222222222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                                                            sb3222222222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                                                            sb3222222222222222222.append(i65);
                                                                                                                                                                                                                                                                                                            sb3222222222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                                                                                                                                                            sb3222222222222222222.append(i3);
                                                                                                                                                                                                                                                                                                            sb3222222222222222222.append(" size: ");
                                                                                                                                                                                                                                                                                                            i2 = i67;
                                                                                                                                                                                                                                                                                                            sb3222222222222222222.append(i2);
                                                                                                                                                                                                                                                                                                            str = str16;
                                                                                                                                                                                                                                                                                                            sb3222222222222222222.append(str);
                                                                                                                                                                                                                                                                                                            i11 = i78;
                                                                                                                                                                                                                                                                                                            sb3222222222222222222.append(i11);
                                                                                                                                                                                                                                                                                                            FileLog.e(sb3222222222222222222.toString());
                                                                                                                                                                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                                                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                                                                            i12 = i15;
                                                                                                                                                                                                                                                                                                            z5 = z9;
                                                                                                                                                                                                                                                                                                            z7 = true;
                                                                                                                                                                                                                                                                                                            mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                                                                                            outputSurface2 = i16;
                                                                                                                                                                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                                                                                                                                                                            i63 = i2;
                                                                                                                                                                                                                                                                                                            i62 = i11;
                                                                                                                                                                                                                                                                                                            z6 = z5;
                                                                                                                                                                                                                                                                                                            OutputSurface outputSurface14222222222222222222 = outputSurface2;
                                                                                                                                                                                                                                                                                                            i13 = i12;
                                                                                                                                                                                                                                                                                                            mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                                                                                            outputSurface3 = outputSurface14222222222222222222;
                                                                                                                                                                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (mediaCodec3 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                                                                                                                                            if (z4) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                        } catch (Throwable th63) {
                                                                                                                                                                                                                                                                                                            th = th63;
                                                                                                                                                                                                                                                                                                            inputSurface6 = inputSurface2;
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                                                                                                            inputSurface6.setPresentationTime(bufferInfo2.presentationTimeUs * 1000);
                                                                                                                                                                                                                                                                                                            inputSurface6.swapBuffers();
                                                                                                                                                                                                                                                                                                        } catch (Exception e51) {
                                                                                                                                                                                                                                                                                                            exc = e51;
                                                                                                                                                                                                                                                                                                            inputSurface2 = inputSurface6;
                                                                                                                                                                                                                                                                                                            i15 = i42;
                                                                                                                                                                                                                                                                                                            z9 = z5;
                                                                                                                                                                                                                                                                                                            i65 = i26;
                                                                                                                                                                                                                                                                                                            outputSurface4 = outputSurface5;
                                                                                                                                                                                                                                                                                                            mediaCodec8 = mediaCodec9;
                                                                                                                                                                                                                                                                                                            MediaCodec mediaCodec2422 = mediaCodec8;
                                                                                                                                                                                                                                                                                                            i16 = outputSurface4;
                                                                                                                                                                                                                                                                                                            mediaCodec = mediaCodec2422;
                                                                                                                                                                                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            z4 = false;
                                                                                                                                                                                                                                                                                                            StringBuilder sb32222222222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                                                            sb32222222222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                                                            sb32222222222222222222.append(i65);
                                                                                                                                                                                                                                                                                                            sb32222222222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                                                                                                                                                            sb32222222222222222222.append(i3);
                                                                                                                                                                                                                                                                                                            sb32222222222222222222.append(" size: ");
                                                                                                                                                                                                                                                                                                            i2 = i67;
                                                                                                                                                                                                                                                                                                            sb32222222222222222222.append(i2);
                                                                                                                                                                                                                                                                                                            str = str16;
                                                                                                                                                                                                                                                                                                            sb32222222222222222222.append(str);
                                                                                                                                                                                                                                                                                                            i11 = i78;
                                                                                                                                                                                                                                                                                                            sb32222222222222222222.append(i11);
                                                                                                                                                                                                                                                                                                            FileLog.e(sb32222222222222222222.toString());
                                                                                                                                                                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                                                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                                                                            i12 = i15;
                                                                                                                                                                                                                                                                                                            z5 = z9;
                                                                                                                                                                                                                                                                                                            z7 = true;
                                                                                                                                                                                                                                                                                                            mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                                                                                            outputSurface2 = i16;
                                                                                                                                                                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                                                                                                                                                                            i63 = i2;
                                                                                                                                                                                                                                                                                                            i62 = i11;
                                                                                                                                                                                                                                                                                                            z6 = z5;
                                                                                                                                                                                                                                                                                                            OutputSurface outputSurface142222222222222222222 = outputSurface2;
                                                                                                                                                                                                                                                                                                            i13 = i12;
                                                                                                                                                                                                                                                                                                            mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                                                                                            outputSurface3 = outputSurface142222222222222222222;
                                                                                                                                                                                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (mediaCodec3 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                                                                                                                                            if (z4) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                        } catch (Throwable th64) {
                                                                                                                                                                                                                                                                                                            th = th64;
                                                                                                                                                                                                                                                                                                            z2 = z;
                                                                                                                                                                                                                                                                                                            th = th;
                                                                                                                                                                                                                                                                                                            outputSurface = outputSurface5;
                                                                                                                                                                                                                                                                                                            inputSurface = inputSurface6;
                                                                                                                                                                                                                                                                                                            mediaCodec = mediaCodec9;
                                                                                                                                                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                                                                                                                                                            i2 = i67;
                                                                                                                                                                                                                                                                                                            i62 = i78;
                                                                                                                                                                                                                                                                                                            i4 = i42;
                                                                                                                                                                                                                                                                                                            str = str16;
                                                                                                                                                                                                                                                                                                            i65 = i26;
                                                                                                                                                                                                                                                                                                            z4 = false;
                                                                                                                                                                                                                                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                                                                                                            FileLog.e(th);
                                                                                                                                                                                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (outputSurface != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            i63 = i2;
                                                                                                                                                                                                                                                                                                            str3 = str2;
                                                                                                                                                                                                                                                                                                            z6 = z5;
                                                                                                                                                                                                                                                                                                            z7 = true;
                                                                                                                                                                                                                                                                                                            if (z4) {
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    j312 = j38;
                                                                                                                                                                                                                                                                                                    inputSurface5 = inputSurface6;
                                                                                                                                                                                                                                                                                                } catch (Exception e52) {
                                                                                                                                                                                                                                                                                                    e = e52;
                                                                                                                                                                                                                                                                                                    outputSurface5 = outputSurface7;
                                                                                                                                                                                                                                                                                                    exc = e;
                                                                                                                                                                                                                                                                                                    i15 = i42;
                                                                                                                                                                                                                                                                                                    z9 = z5;
                                                                                                                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                                                                                                                    outputSurface4 = outputSurface5;
                                                                                                                                                                                                                                                                                                    mediaCodec8 = mediaCodec9;
                                                                                                                                                                                                                                                                                                    MediaCodec mediaCodec24222 = mediaCodec8;
                                                                                                                                                                                                                                                                                                    i16 = outputSurface4;
                                                                                                                                                                                                                                                                                                    mediaCodec = mediaCodec24222;
                                                                                                                                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                                                                                                                    StringBuilder sb322222222222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                                                    sb322222222222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                                                    sb322222222222222222222.append(i65);
                                                                                                                                                                                                                                                                                                    sb322222222222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                                                                                                                    sb322222222222222222222.append(i3);
                                                                                                                                                                                                                                                                                                    sb322222222222222222222.append(" size: ");
                                                                                                                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                                                                                                                    sb322222222222222222222.append(i2);
                                                                                                                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                                                                                                                    sb322222222222222222222.append(str);
                                                                                                                                                                                                                                                                                                    i11 = i78;
                                                                                                                                                                                                                                                                                                    sb322222222222222222222.append(i11);
                                                                                                                                                                                                                                                                                                    FileLog.e(sb322222222222222222222.toString());
                                                                                                                                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                                                                    i12 = i15;
                                                                                                                                                                                                                                                                                                    z5 = z9;
                                                                                                                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                                                                                                                    mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                                                                                    outputSurface2 = i16;
                                                                                                                                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                                                                                                                    i62 = i11;
                                                                                                                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                                                                                                                    OutputSurface outputSurface1422222222222222222222 = outputSurface2;
                                                                                                                                                                                                                                                                                                    i13 = i12;
                                                                                                                                                                                                                                                                                                    mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                                                                                    outputSurface3 = outputSurface1422222222222222222222;
                                                                                                                                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (mediaCodec3 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                } catch (Throwable th65) {
                                                                                                                                                                                                                                                                                                    th = th65;
                                                                                                                                                                                                                                                                                                    inputSurface6 = inputSurface2;
                                                                                                                                                                                                                                                                                                    outputSurface5 = outputSurface7;
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            if ((bufferInfo2.flags & 4) == 0) {
                                                                                                                                                                                                                                                                                                if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                                                                                                                                                                    FileLog.d("decoder stream end");
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                mediaCodec2.signalEndOfInputStream();
                                                                                                                                                                                                                                                                                                z15 = z31;
                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                z15 = z31;
                                                                                                                                                                                                                                                                                                z23 = z25;
                                                                                                                                                                                                                                                                                                mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                                                                inputSurface2 = inputSurface5;
                                                                                                                                                                                                                                                                                                inputSurface4 = z27;
                                                                                                                                                                                                                                                                                                i842 = i37;
                                                                                                                                                                                                                                                                                                z602 = z24;
                                                                                                                                                                                                                                                                                                i29 = i38;
                                                                                                                                                                                                                                                                                                z18 = z28;
                                                                                                                                                                                                                                                                                                j7 = j11;
                                                                                                                                                                                                                                                                                                i36 = i42;
                                                                                                                                                                                                                                                                                                str20 = str8;
                                                                                                                                                                                                                                                                                                MediaCodec mediaCodec25 = mediaCodec9;
                                                                                                                                                                                                                                                                                                i16 = outputSurface5;
                                                                                                                                                                                                                                                                                                mediaCodec = mediaCodec25;
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                            long j39 = bufferInfo2.presentationTimeUs;
                                                                                                                                                                                                                                                                                            if (j10 != -2147483648L) {
                                                                                                                                                                                                                                                                                                j332 -= j39;
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            j302 = j39;
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    z33 = z30;
                                                                                                                                                                                                                                                                                    if (z32) {
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    if (z33) {
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    if ((bufferInfo2.flags & 4) == 0) {
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                j11 = j7;
                                                                                                                                                                                                                                                                                z32 = false;
                                                                                                                                                                                                                                                                                if (j312 > 0) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                j14 = 0;
                                                                                                                                                                                                                                                                                i28 = i39;
                                                                                                                                                                                                                                                                                if (j5 >= j14) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                if (j15 > j14) {
                                                                                                                                                                                                                                                                                    if (j13 >= j15) {
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                z33 = z30;
                                                                                                                                                                                                                                                                                if (z32) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                if (z33) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                if ((bufferInfo2.flags & 4) == 0) {
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                        } catch (Exception e53) {
                                                                                                                                                                                                                                                                            e = e53;
                                                                                                                                                                                                                                                                            i42 = i43;
                                                                                                                                                                                                                                                                        } catch (Throwable th66) {
                                                                                                                                                                                                                                                                            th = th66;
                                                                                                                                                                                                                                                                            i42 = i43;
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                                                        z28 = z26;
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if ((bufferInfo2.flags & 4) == 0) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                } catch (Exception e54) {
                                                                                                                                                                                                                                                                    exc = e54;
                                                                                                                                                                                                                                                                    inputSurface2 = inputSurface5;
                                                                                                                                                                                                                                                                    i15 = i42;
                                                                                                                                                                                                                                                                    z9 = z5;
                                                                                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                                                                                    outputSurface4 = outputSurface5;
                                                                                                                                                                                                                                                                    mediaCodec8 = mediaCodec9;
                                                                                                                                                                                                                                                                    MediaCodec mediaCodec242222 = mediaCodec8;
                                                                                                                                                                                                                                                                    i16 = outputSurface4;
                                                                                                                                                                                                                                                                    mediaCodec = mediaCodec242222;
                                                                                                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                                                                                    StringBuilder sb3222222222222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                    sb3222222222222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                    sb3222222222222222222222.append(i65);
                                                                                                                                                                                                                                                                    sb3222222222222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                                                                                    sb3222222222222222222222.append(i3);
                                                                                                                                                                                                                                                                    sb3222222222222222222222.append(" size: ");
                                                                                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                                                                                    sb3222222222222222222222.append(i2);
                                                                                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                                                                                    sb3222222222222222222222.append(str);
                                                                                                                                                                                                                                                                    i11 = i78;
                                                                                                                                                                                                                                                                    sb3222222222222222222222.append(i11);
                                                                                                                                                                                                                                                                    FileLog.e(sb3222222222222222222222.toString());
                                                                                                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                                    i12 = i15;
                                                                                                                                                                                                                                                                    z5 = z9;
                                                                                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                                                                                    mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                                                    outputSurface2 = i16;
                                                                                                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                                                                                    i62 = i11;
                                                                                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                                                                                    OutputSurface outputSurface14222222222222222222222 = outputSurface2;
                                                                                                                                                                                                                                                                    i13 = i12;
                                                                                                                                                                                                                                                                    mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                                                    outputSurface3 = outputSurface14222222222222222222222;
                                                                                                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec3 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                } catch (Throwable th67) {
                                                                                                                                                                                                                                                                    th = th67;
                                                                                                                                                                                                                                                                    th = th;
                                                                                                                                                                                                                                                                    inputSurface = inputSurface5;
                                                                                                                                                                                                                                                                    outputSurface = outputSurface5;
                                                                                                                                                                                                                                                                    mediaCodec = mediaCodec9;
                                                                                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                                                                                    i62 = i78;
                                                                                                                                                                                                                                                                    i4 = i42;
                                                                                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                                                                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                i42 = i43;
                                                                                                                                                                                                                                                                j11 = j7;
                                                                                                                                                                                                                                                                z32 = false;
                                                                                                                                                                                                                                                                if (j312 > 0) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                j14 = 0;
                                                                                                                                                                                                                                                                i28 = i39;
                                                                                                                                                                                                                                                                if (j5 >= j14) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                if (j15 > j14) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                z33 = z30;
                                                                                                                                                                                                                                                                if (z32) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                if (z33) {
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                try {
                                                                                                                                                                                                                                                                    MediaFormat outputFormat3 = mediaCodec9.getOutputFormat();
                                                                                                                                                                                                                                                                    if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                                                                                                                                        FileLog.d("newFormat = " + outputFormat3);
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                } catch (Exception e55) {
                                                                                                                                                                                                                                                                    e = e55;
                                                                                                                                                                                                                                                                    i15 = i36;
                                                                                                                                                                                                                                                                    mediaCodec = mediaCodec9;
                                                                                                                                                                                                                                                                    i16 = outputSurface7;
                                                                                                                                                                                                                                                                    z9 = z5;
                                                                                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                                                                                    exc = e;
                                                                                                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                                                                                    StringBuilder sb32222222222222222222222 = new StringBuilder();
                                                                                                                                                                                                                                                                    sb32222222222222222222222.append("bitrate: ");
                                                                                                                                                                                                                                                                    sb32222222222222222222222.append(i65);
                                                                                                                                                                                                                                                                    sb32222222222222222222222.append(" framerate: ");
                                                                                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                                                                                    sb32222222222222222222222.append(i3);
                                                                                                                                                                                                                                                                    sb32222222222222222222222.append(" size: ");
                                                                                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                                                                                    sb32222222222222222222222.append(i2);
                                                                                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                                                                                    sb32222222222222222222222.append(str);
                                                                                                                                                                                                                                                                    i11 = i78;
                                                                                                                                                                                                                                                                    sb32222222222222222222222.append(i11);
                                                                                                                                                                                                                                                                    FileLog.e(sb32222222222222222222222.toString());
                                                                                                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                                    i12 = i15;
                                                                                                                                                                                                                                                                    z5 = z9;
                                                                                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                                                                                    mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                                                                    outputSurface2 = i16;
                                                                                                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                                                                                    i62 = i11;
                                                                                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                                                                                    OutputSurface outputSurface142222222222222222222222 = outputSurface2;
                                                                                                                                                                                                                                                                    i13 = i12;
                                                                                                                                                                                                                                                                    mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                                                                    outputSurface3 = outputSurface142222222222222222222222;
                                                                                                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec3 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                } catch (Throwable th68) {
                                                                                                                                                                                                                                                                    th = th68;
                                                                                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                                                                                    i4 = i36;
                                                                                                                                                                                                                                                                    mediaCodec = mediaCodec9;
                                                                                                                                                                                                                                                                    inputSurface = inputSurface2;
                                                                                                                                                                                                                                                                    outputSurface6 = outputSurface7;
                                                                                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                                                                                    i62 = i78;
                                                                                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                                                                                    mediaCodec2 = mediaCodec2;
                                                                                                                                                                                                                                                                    mediaCodec = mediaCodec;
                                                                                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                                                                                    outputSurface = outputSurface6;
                                                                                                                                                                                                                                                                    th = th;
                                                                                                                                                                                                                                                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                        i42 = i36;
                                                                                                                                                                                                                                                        z27 = inputSurface4;
                                                                                                                                                                                                                                                        z28 = z26;
                                                                                                                                                                                                                                                        j11 = j7;
                                                                                                                                                                                                                                                        i28 = i39;
                                                                                                                                                                                                                                                        inputSurface5 = inputSurface2;
                                                                                                                                                                                                                                                        outputSurface5 = outputSurface7;
                                                                                                                                                                                                                                                        j12 = j10;
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    z23 = false;
                                                                                                                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                                    inputSurface2 = inputSurface5;
                                                                                                                                                                                                                                                    inputSurface4 = z27;
                                                                                                                                                                                                                                                    i842 = i37;
                                                                                                                                                                                                                                                    z602 = z24;
                                                                                                                                                                                                                                                    i29 = i38;
                                                                                                                                                                                                                                                    z18 = z28;
                                                                                                                                                                                                                                                    j7 = j11;
                                                                                                                                                                                                                                                    i36 = i42;
                                                                                                                                                                                                                                                    str20 = str8;
                                                                                                                                                                                                                                                    MediaCodec mediaCodec252 = mediaCodec9;
                                                                                                                                                                                                                                                    i16 = outputSurface5;
                                                                                                                                                                                                                                                    mediaCodec = mediaCodec252;
                                                                                                                                                                                                                                                } catch (Exception e56) {
                                                                                                                                                                                                                                                    e = e56;
                                                                                                                                                                                                                                                    i42 = i36;
                                                                                                                                                                                                                                                } catch (Throwable th69) {
                                                                                                                                                                                                                                                    th = th69;
                                                                                                                                                                                                                                                    i42 = i36;
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            j8 = j12;
                                                                                                                                                                                                                                            z23 = z25;
                                                                                                                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                                            inputSurface2 = inputSurface5;
                                                                                                                                                                                                                                            inputSurface4 = z27;
                                                                                                                                                                                                                                            i842 = i37;
                                                                                                                                                                                                                                            z602 = z24;
                                                                                                                                                                                                                                            i29 = i38;
                                                                                                                                                                                                                                            z18 = z28;
                                                                                                                                                                                                                                            j7 = j11;
                                                                                                                                                                                                                                            i36 = i42;
                                                                                                                                                                                                                                            str20 = str8;
                                                                                                                                                                                                                                            MediaCodec mediaCodec2522 = mediaCodec9;
                                                                                                                                                                                                                                            i16 = outputSurface5;
                                                                                                                                                                                                                                            mediaCodec = mediaCodec2522;
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                    } catch (Exception e57) {
                                                                                                                                                                                                                                        e = e57;
                                                                                                                                                                                                                                        mediaCodec11 = mediaCodec23;
                                                                                                                                                                                                                                    } catch (Throwable th70) {
                                                                                                                                                                                                                                        th = th70;
                                                                                                                                                                                                                                        mediaCodec11 = mediaCodec23;
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                                    mediaCodec11 = mediaCodec;
                                                                                                                                                                                                                                    j10 = j8;
                                                                                                                                                                                                                                    if (i36 == -5) {
                                                                                                                                                                                                                                        byte[] bArr2 = new byte[i87];
                                                                                                                                                                                                                                        outputBuffer.limit(bufferInfo2.offset + i87);
                                                                                                                                                                                                                                        outputBuffer.position(bufferInfo2.offset);
                                                                                                                                                                                                                                        outputBuffer.get(bArr2);
                                                                                                                                                                                                                                        byte b2 = 1;
                                                                                                                                                                                                                                        int i89 = bufferInfo2.size - 1;
                                                                                                                                                                                                                                        while (i89 >= 0 && i89 > 3) {
                                                                                                                                                                                                                                            if (bArr2[i89] == b2 && bArr2[i89 - 1] == 0 && bArr2[i89 - 2] == 0) {
                                                                                                                                                                                                                                                int i90 = i89 - 3;
                                                                                                                                                                                                                                                if (bArr2[i90] == 0) {
                                                                                                                                                                                                                                                    byteBuffer3 = ByteBuffer.allocate(i90);
                                                                                                                                                                                                                                                    byteBuffer2 = ByteBuffer.allocate(bufferInfo2.size - i90);
                                                                                                                                                                                                                                                    byteBuffer3.put(bArr2, 0, i90).position(0);
                                                                                                                                                                                                                                                    byteBuffer2.put(bArr2, i90, bufferInfo2.size - i90).position(0);
                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            i89--;
                                                                                                                                                                                                                                            b2 = 1;
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        byteBuffer2 = null;
                                                                                                                                                                                                                                        byteBuffer3 = null;
                                                                                                                                                                                                                                        i39 = i28;
                                                                                                                                                                                                                                        MediaFormat createVideoFormat4 = MediaFormat.createVideoFormat(mediaCodecVideoConvertor.outputMimeType, inputSurface4, i39);
                                                                                                                                                                                                                                        if (byteBuffer3 != null && byteBuffer2 != null) {
                                                                                                                                                                                                                                            createVideoFormat4.setByteBuffer(str8, byteBuffer3);
                                                                                                                                                                                                                                            createVideoFormat4.setByteBuffer("csd-1", byteBuffer2);
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        i36 = mediaCodecVideoConvertor.mediaMuxer.addTrack(createVideoFormat4, false);
                                                                                                                                                                                                                                        i15 = i36;
                                                                                                                                                                                                                                        if ((bufferInfo2.flags & 4) != 0) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        mediaCodec2.releaseOutputBuffer(dequeueOutputBuffer, false);
                                                                                                                                                                                                                                        z26 = z61;
                                                                                                                                                                                                                                        i36 = i15;
                                                                                                                                                                                                                                        i40 = -1;
                                                                                                                                                                                                                                        if (dequeueOutputBuffer != i40) {
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                }
                                                                                                                                                                                                                            } catch (Exception e58) {
                                                                                                                                                                                                                                e = e58;
                                                                                                                                                                                                                            } catch (Throwable th71) {
                                                                                                                                                                                                                                th = th71;
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                            mediaCodec11 = mediaCodec;
                                                                                                                                                                                                                            j10 = j8;
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if ((bufferInfo2.flags & 4) != 0) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        mediaCodec2.releaseOutputBuffer(dequeueOutputBuffer, false);
                                                                                                                                                                                                                        z26 = z61;
                                                                                                                                                                                                                        i36 = i15;
                                                                                                                                                                                                                        i40 = -1;
                                                                                                                                                                                                                        if (dequeueOutputBuffer != i40) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    } catch (Exception e59) {
                                                                                                                                                                                                                        outputSurface5 = outputSurface7;
                                                                                                                                                                                                                        mediaCodec9 = mediaCodec11;
                                                                                                                                                                                                                        exc = e59;
                                                                                                                                                                                                                        z9 = z5;
                                                                                                                                                                                                                        i65 = i26;
                                                                                                                                                                                                                        outputSurface4 = outputSurface5;
                                                                                                                                                                                                                        mediaCodec8 = mediaCodec9;
                                                                                                                                                                                                                        MediaCodec mediaCodec2422222 = mediaCodec8;
                                                                                                                                                                                                                        i16 = outputSurface4;
                                                                                                                                                                                                                        mediaCodec = mediaCodec2422222;
                                                                                                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        z4 = false;
                                                                                                                                                                                                                        StringBuilder sb322222222222222222222222 = new StringBuilder();
                                                                                                                                                                                                                        sb322222222222222222222222.append("bitrate: ");
                                                                                                                                                                                                                        sb322222222222222222222222.append(i65);
                                                                                                                                                                                                                        sb322222222222222222222222.append(" framerate: ");
                                                                                                                                                                                                                        i3 = arrayList;
                                                                                                                                                                                                                        sb322222222222222222222222.append(i3);
                                                                                                                                                                                                                        sb322222222222222222222222.append(" size: ");
                                                                                                                                                                                                                        i2 = i67;
                                                                                                                                                                                                                        sb322222222222222222222222.append(i2);
                                                                                                                                                                                                                        str = str16;
                                                                                                                                                                                                                        sb322222222222222222222222.append(str);
                                                                                                                                                                                                                        i11 = i78;
                                                                                                                                                                                                                        sb322222222222222222222222.append(i11);
                                                                                                                                                                                                                        FileLog.e(sb322222222222222222222222.toString());
                                                                                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                        i12 = i15;
                                                                                                                                                                                                                        z5 = z9;
                                                                                                                                                                                                                        z7 = true;
                                                                                                                                                                                                                        mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                        if (mediaCodec7 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                        outputSurface2 = i16;
                                                                                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (mediaCodec4 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                                                                                        i63 = i2;
                                                                                                                                                                                                                        i62 = i11;
                                                                                                                                                                                                                        z6 = z5;
                                                                                                                                                                                                                        OutputSurface outputSurface1422222222222222222222222 = outputSurface2;
                                                                                                                                                                                                                        i13 = i12;
                                                                                                                                                                                                                        mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                        outputSurface3 = outputSurface1422222222222222222222222;
                                                                                                                                                                                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                        if (mP4Builder2 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (mediaCodec3 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (outputSurface3 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        str3 = str2;
                                                                                                                                                                                                                        if (z4) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    } catch (Throwable th72) {
                                                                                                                                                                                                                        th = th72;
                                                                                                                                                                                                                        outputSurface = outputSurface7;
                                                                                                                                                                                                                        i4 = i15;
                                                                                                                                                                                                                        mediaCodec = mediaCodec11;
                                                                                                                                                                                                                        i3 = arrayList;
                                                                                                                                                                                                                        i2 = i67;
                                                                                                                                                                                                                        i62 = i78;
                                                                                                                                                                                                                        str = str16;
                                                                                                                                                                                                                        i65 = i26;
                                                                                                                                                                                                                        z4 = false;
                                                                                                                                                                                                                        inputSurface = inputSurface2;
                                                                                                                                                                                                                        z2 = z;
                                                                                                                                                                                                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                        FileLog.e(th);
                                                                                                                                                                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                        if (mP4Builder != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        i63 = i2;
                                                                                                                                                                                                                        str3 = str2;
                                                                                                                                                                                                                        z6 = z5;
                                                                                                                                                                                                                        z7 = true;
                                                                                                                                                                                                                        if (z4) {
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    i39 = i28;
                                                                                                                                                                                                                    i15 = i36;
                                                                                                                                                                                                                } catch (Exception e60) {
                                                                                                                                                                                                                    e = e60;
                                                                                                                                                                                                                    i15 = i36;
                                                                                                                                                                                                                    inputSurface2 = inputSurface4;
                                                                                                                                                                                                                    mediaCodec10 = i16;
                                                                                                                                                                                                                    z9 = z5;
                                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                                    exc = e;
                                                                                                                                                                                                                    outputSurface4 = mediaCodec;
                                                                                                                                                                                                                    mediaCodec8 = mediaCodec10;
                                                                                                                                                                                                                    MediaCodec mediaCodec24222222 = mediaCodec8;
                                                                                                                                                                                                                    i16 = outputSurface4;
                                                                                                                                                                                                                    mediaCodec = mediaCodec24222222;
                                                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                                    StringBuilder sb3222222222222222222222222 = new StringBuilder();
                                                                                                                                                                                                                    sb3222222222222222222222222.append("bitrate: ");
                                                                                                                                                                                                                    sb3222222222222222222222222.append(i65);
                                                                                                                                                                                                                    sb3222222222222222222222222.append(" framerate: ");
                                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                                    sb3222222222222222222222222.append(i3);
                                                                                                                                                                                                                    sb3222222222222222222222222.append(" size: ");
                                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                                    sb3222222222222222222222222.append(i2);
                                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                                    sb3222222222222222222222222.append(str);
                                                                                                                                                                                                                    i11 = i78;
                                                                                                                                                                                                                    sb3222222222222222222222222.append(i11);
                                                                                                                                                                                                                    FileLog.e(sb3222222222222222222222222.toString());
                                                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                                    i12 = i15;
                                                                                                                                                                                                                    z5 = z9;
                                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                                    mediaCodec7 = mediaCodec;
                                                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                                    outputSurface2 = i16;
                                                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                                    i62 = i11;
                                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                                    OutputSurface outputSurface14222222222222222222222222 = outputSurface2;
                                                                                                                                                                                                                    i13 = i12;
                                                                                                                                                                                                                    mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                                    outputSurface3 = outputSurface14222222222222222222222222;
                                                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (mediaCodec3 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                } catch (Throwable th73) {
                                                                                                                                                                                                                    th = th73;
                                                                                                                                                                                                                    i4 = i36;
                                                                                                                                                                                                                    inputSurface = inputSurface4;
                                                                                                                                                                                                                    outputSurface = mediaCodec;
                                                                                                                                                                                                                    mediaCodec = i16;
                                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                                    i62 = i78;
                                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                                    th = th;
                                                                                                                                                                                                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                }
                                                                                                                                                                                                            }
                                                                                                                                                                                                        }
                                                                                                                                                                                                        i39 = i28;
                                                                                                                                                                                                        i40 = -1;
                                                                                                                                                                                                    }
                                                                                                                                                                                                    outputSurface7 = i16;
                                                                                                                                                                                                    if (dequeueOutputBuffer != i40) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                } catch (Exception e61) {
                                                                                                                                                                                                    e = e61;
                                                                                                                                                                                                    OutputSurface outputSurface16 = i16;
                                                                                                                                                                                                    mediaCodec10 = mediaCodec;
                                                                                                                                                                                                    mediaCodec = outputSurface16;
                                                                                                                                                                                                    i15 = i36;
                                                                                                                                                                                                    z9 = z5;
                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                    exc = e;
                                                                                                                                                                                                    outputSurface4 = mediaCodec;
                                                                                                                                                                                                    mediaCodec8 = mediaCodec10;
                                                                                                                                                                                                    MediaCodec mediaCodec242222222 = mediaCodec8;
                                                                                                                                                                                                    i16 = outputSurface4;
                                                                                                                                                                                                    mediaCodec = mediaCodec242222222;
                                                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                    StringBuilder sb32222222222222222222222222 = new StringBuilder();
                                                                                                                                                                                                    sb32222222222222222222222222.append("bitrate: ");
                                                                                                                                                                                                    sb32222222222222222222222222.append(i65);
                                                                                                                                                                                                    sb32222222222222222222222222.append(" framerate: ");
                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                    sb32222222222222222222222222.append(i3);
                                                                                                                                                                                                    sb32222222222222222222222222.append(" size: ");
                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                    sb32222222222222222222222222.append(i2);
                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                    sb32222222222222222222222222.append(str);
                                                                                                                                                                                                    i11 = i78;
                                                                                                                                                                                                    sb32222222222222222222222222.append(i11);
                                                                                                                                                                                                    FileLog.e(sb32222222222222222222222222.toString());
                                                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                                                                    i12 = i15;
                                                                                                                                                                                                    z5 = z9;
                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                    mediaCodec7 = mediaCodec;
                                                                                                                                                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                                                                                    if (mediaCodec7 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    mediaCodec3 = mediaCodec7;
                                                                                                                                                                                                    outputSurface2 = i16;
                                                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec4 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                    i62 = i11;
                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                    OutputSurface outputSurface142222222222222222222222222 = outputSurface2;
                                                                                                                                                                                                    i13 = i12;
                                                                                                                                                                                                    mediaCodec6 = mediaCodec5;
                                                                                                                                                                                                    outputSurface3 = outputSurface142222222222222222222222222;
                                                                                                                                                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                    if (mP4Builder2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec3 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                } catch (Throwable th74) {
                                                                                                                                                                                                    th = th74;
                                                                                                                                                                                                    inputSurface4 = inputSurface2;
                                                                                                                                                                                                    OutputSurface outputSurface17 = i16;
                                                                                                                                                                                                    i16 = mediaCodec;
                                                                                                                                                                                                    mediaCodec = outputSurface17;
                                                                                                                                                                                                    i4 = i36;
                                                                                                                                                                                                    inputSurface = inputSurface4;
                                                                                                                                                                                                    outputSurface = mediaCodec;
                                                                                                                                                                                                    mediaCodec = i16;
                                                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                                                    i2 = i67;
                                                                                                                                                                                                    i62 = i78;
                                                                                                                                                                                                    str = str16;
                                                                                                                                                                                                    i65 = i26;
                                                                                                                                                                                                    z4 = false;
                                                                                                                                                                                                    z2 = z;
                                                                                                                                                                                                    th = th;
                                                                                                                                                                                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                                                    if (mP4Builder != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                    i63 = i2;
                                                                                                                                                                                                    str3 = str2;
                                                                                                                                                                                                    z6 = z5;
                                                                                                                                                                                                    z7 = true;
                                                                                                                                                                                                    if (z4) {
                                                                                                                                                                                                    }
                                                                                                                                                                                                }
                                                                                                                                                                                            } catch (Exception e62) {
                                                                                                                                                                                                e = e62;
                                                                                                                                                                                                mediaCodec2 = mediaCodec4;
                                                                                                                                                                                            } catch (Throwable th75) {
                                                                                                                                                                                                th = th75;
                                                                                                                                                                                                inputSurface4 = inputSurface2;
                                                                                                                                                                                                mediaCodec2 = mediaCodec4;
                                                                                                                                                                                            }
                                                                                                                                                                                        }
                                                                                                                                                                                    }
                                                                                                                                                                                }
                                                                                                                                                                            } catch (Exception e63) {
                                                                                                                                                                                e = e63;
                                                                                                                                                                            }
                                                                                                                                                                        } catch (Throwable th76) {
                                                                                                                                                                            z2 = z;
                                                                                                                                                                            th = th76;
                                                                                                                                                                            outputSurface = i16;
                                                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                                                            i3 = arrayList;
                                                                                                                                                                            i2 = i67;
                                                                                                                                                                            i4 = i34;
                                                                                                                                                                            i62 = i78;
                                                                                                                                                                            str = str16;
                                                                                                                                                                            i65 = i26;
                                                                                                                                                                            mediaCodec2 = mediaCodec4;
                                                                                                                                                                            z4 = false;
                                                                                                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                                                            FileLog.e(th);
                                                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                                                            }
                                                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (outputSurface != null) {
                                                                                                                                                                            }
                                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                                            }
                                                                                                                                                                            i63 = i2;
                                                                                                                                                                            str3 = str2;
                                                                                                                                                                            z6 = z5;
                                                                                                                                                                            z7 = true;
                                                                                                                                                                            if (z4) {
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                    z22 = z15;
                                                                                                                                                                    z15 = z22;
                                                                                                                                                                    i36 = i34;
                                                                                                                                                                    j8 = j29;
                                                                                                                                                                    z23 = !z16;
                                                                                                                                                                    boolean z6022 = true;
                                                                                                                                                                    while (true) {
                                                                                                                                                                        if (!z23) {
                                                                                                                                                                        }
                                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                                        if (z) {
                                                                                                                                                                        }
                                                                                                                                                                        dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo2, j9);
                                                                                                                                                                        if (dequeueOutputBuffer != -1) {
                                                                                                                                                                        }
                                                                                                                                                                        outputSurface7 = i16;
                                                                                                                                                                        if (dequeueOutputBuffer != i40) {
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                } catch (Exception e64) {
                                                                                                                                                                    audioRecoder = str7;
                                                                                                                                                                    mediaCodec2 = mediaCodec4;
                                                                                                                                                                    OutputSurface outputSurface18 = i16;
                                                                                                                                                                    mediaCodec9 = mediaCodec;
                                                                                                                                                                    outputSurface5 = outputSurface18;
                                                                                                                                                                    exc = e64;
                                                                                                                                                                    i15 = i33;
                                                                                                                                                                } catch (Throwable th77) {
                                                                                                                                                                    mediaCodec2 = mediaCodec4;
                                                                                                                                                                    th = th77;
                                                                                                                                                                    inputSurface = inputSurface2;
                                                                                                                                                                    outputSurface = i16;
                                                                                                                                                                    mediaCodec = mediaCodec;
                                                                                                                                                                    i3 = arrayList;
                                                                                                                                                                    i2 = i67;
                                                                                                                                                                    i4 = i33;
                                                                                                                                                                    i62 = i78;
                                                                                                                                                                }
                                                                                                                                                            }
                                                                                                                                                            j29 = j8;
                                                                                                                                                            str7 = audioRecoder;
                                                                                                                                                            z17 = z20;
                                                                                                                                                            z13 = z21;
                                                                                                                                                            i27 = i35;
                                                                                                                                                            c2 = z;
                                                                                                                                                            bufferInfo = bufferInfo2;
                                                                                                                                                            i33 = i36;
                                                                                                                                                            inputBuffers = byteBufferArr2;
                                                                                                                                                            inputSurface4 = inputSurface4;
                                                                                                                                                        }
                                                                                                                                                    } catch (Exception e65) {
                                                                                                                                                        audioRecoder = str7;
                                                                                                                                                        mediaCodec2 = mediaCodec4;
                                                                                                                                                        OutputSurface outputSurface19 = i16;
                                                                                                                                                        mediaCodec8 = mediaCodec;
                                                                                                                                                        outputSurface4 = outputSurface19;
                                                                                                                                                        exc = e65;
                                                                                                                                                        z9 = z5;
                                                                                                                                                        i65 = i26;
                                                                                                                                                        i15 = -5;
                                                                                                                                                    }
                                                                                                                                                } else {
                                                                                                                                                    byteBufferArr = outputBuffers;
                                                                                                                                                    z13 = z12;
                                                                                                                                                    j7 = j28;
                                                                                                                                                    ArrayList arrayList5 = new ArrayList();
                                                                                                                                                    GeneralAudioInput generalAudioInput = new GeneralAudioInput(str13, i27);
                                                                                                                                                    if (j27 > 0) {
                                                                                                                                                        generalAudioInput.setEndTimeUs(j27);
                                                                                                                                                    }
                                                                                                                                                    if (j7 > 0) {
                                                                                                                                                        generalAudioInput.setStartTimeUs(j7);
                                                                                                                                                    }
                                                                                                                                                    arrayList5.add(generalAudioInput);
                                                                                                                                                    applyAudioInputs(convertVideoParams.soundInfos, arrayList5);
                                                                                                                                                    j27 = j27;
                                                                                                                                                    AudioRecoder audioRecoder4 = new AudioRecoder(arrayList5, j21);
                                                                                                                                                    i29 = mediaCodecVideoConvertor.mediaMuxer.addTrack(audioRecoder4.format, true);
                                                                                                                                                    str7 = audioRecoder4;
                                                                                                                                                    i31 = 0;
                                                                                                                                                    byteBuffer = null;
                                                                                                                                                    if (str7 == null) {
                                                                                                                                                    }
                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                    ByteBuffer[] byteBufferArr422 = byteBufferArr;
                                                                                                                                                    ByteBuffer byteBuffer922 = byteBuffer;
                                                                                                                                                    long j3022 = -1;
                                                                                                                                                    long j3122 = -1;
                                                                                                                                                    i33 = -5;
                                                                                                                                                    long j3222 = 0;
                                                                                                                                                    long j3322 = 0;
                                                                                                                                                    z15 = false;
                                                                                                                                                    z16 = false;
                                                                                                                                                    int i8322 = 0;
                                                                                                                                                    boolean z5922 = true;
                                                                                                                                                    z17 = z14;
                                                                                                                                                    int i8422 = i31;
                                                                                                                                                    z18 = false;
                                                                                                                                                    inputSurface4 = i21;
                                                                                                                                                    loop3: while (true) {
                                                                                                                                                        if (z18) {
                                                                                                                                                        }
                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                        if (str7 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (z15) {
                                                                                                                                                        }
                                                                                                                                                        z22 = z15;
                                                                                                                                                        z15 = z22;
                                                                                                                                                        i36 = i34;
                                                                                                                                                        j8 = j29;
                                                                                                                                                        z23 = !z16;
                                                                                                                                                        boolean z60222 = true;
                                                                                                                                                        while (true) {
                                                                                                                                                            if (!z23) {
                                                                                                                                                            }
                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                            if (z) {
                                                                                                                                                            }
                                                                                                                                                            dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo2, j9);
                                                                                                                                                            if (dequeueOutputBuffer != -1) {
                                                                                                                                                            }
                                                                                                                                                            outputSurface7 = i16;
                                                                                                                                                            if (dequeueOutputBuffer != i40) {
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                        j29 = j8;
                                                                                                                                                        str7 = audioRecoder;
                                                                                                                                                        z17 = z20;
                                                                                                                                                        z13 = z21;
                                                                                                                                                        i27 = i35;
                                                                                                                                                        c2 = z;
                                                                                                                                                        bufferInfo = bufferInfo2;
                                                                                                                                                        i33 = i36;
                                                                                                                                                        inputBuffers = byteBufferArr2;
                                                                                                                                                        inputSurface4 = inputSurface4;
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                            z12 = true;
                                                                                                                                            if (trackFormat2.getString(str7).equals("audio/unknown")) {
                                                                                                                                            }
                                                                                                                                            if (i27 >= 0) {
                                                                                                                                            }
                                                                                                                                        } catch (Exception e66) {
                                                                                                                                            e = e66;
                                                                                                                                            exc = e;
                                                                                                                                            z9 = z5;
                                                                                                                                            i65 = i26;
                                                                                                                                            mediaCodec2 = mediaCodec4;
                                                                                                                                            i15 = -5;
                                                                                                                                            audioRecoder = null;
                                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                                            }
                                                                                                                                            z4 = false;
                                                                                                                                            StringBuilder sb322222222222222222222222222 = new StringBuilder();
                                                                                                                                            sb322222222222222222222222222.append("bitrate: ");
                                                                                                                                            sb322222222222222222222222222.append(i65);
                                                                                                                                            sb322222222222222222222222222.append(" framerate: ");
                                                                                                                                            i3 = arrayList;
                                                                                                                                            sb322222222222222222222222222.append(i3);
                                                                                                                                            sb322222222222222222222222222.append(" size: ");
                                                                                                                                            i2 = i67;
                                                                                                                                            sb322222222222222222222222222.append(i2);
                                                                                                                                            str = str16;
                                                                                                                                            sb322222222222222222222222222.append(str);
                                                                                                                                            i11 = i78;
                                                                                                                                            sb322222222222222222222222222.append(i11);
                                                                                                                                            FileLog.e(sb322222222222222222222222222.toString());
                                                                                                                                            FileLog.e(exc);
                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                            i12 = i15;
                                                                                                                                            z5 = z9;
                                                                                                                                            z7 = true;
                                                                                                                                            mediaCodec7 = mediaCodec;
                                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                                            }
                                                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                                                            outputSurface2 = i16;
                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                                            }
                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                            }
                                                                                                                                            checkConversionCanceled();
                                                                                                                                            i63 = i2;
                                                                                                                                            i62 = i11;
                                                                                                                                            z6 = z5;
                                                                                                                                            OutputSurface outputSurface1422222222222222222222222222 = outputSurface2;
                                                                                                                                            i13 = i12;
                                                                                                                                            mediaCodec6 = mediaCodec5;
                                                                                                                                            outputSurface3 = outputSurface1422222222222222222222222222;
                                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                            }
                                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec3 != null) {
                                                                                                                                            }
                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface2 != null) {
                                                                                                                                            }
                                                                                                                                            str3 = str2;
                                                                                                                                            if (z4) {
                                                                                                                                            }
                                                                                                                                        } catch (Throwable th78) {
                                                                                                                                            th = th78;
                                                                                                                                            th = th;
                                                                                                                                            z2 = c2;
                                                                                                                                            outputSurface = i16;
                                                                                                                                            inputSurface = inputSurface2;
                                                                                                                                            i3 = arrayList;
                                                                                                                                            i2 = i67;
                                                                                                                                            i62 = i78;
                                                                                                                                            str = str16;
                                                                                                                                            i65 = i26;
                                                                                                                                            mediaCodec2 = mediaCodec4;
                                                                                                                                            i4 = -5;
                                                                                                                                            z4 = false;
                                                                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                                            FileLog.e(th);
                                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                                            if (mediaExtractor != null) {
                                                                                                                                            }
                                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                                            if (mP4Builder != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                            }
                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                            }
                                                                                                                                            if (outputSurface != null) {
                                                                                                                                            }
                                                                                                                                            if (inputSurface != null) {
                                                                                                                                            }
                                                                                                                                            i63 = i2;
                                                                                                                                            str3 = str2;
                                                                                                                                            z6 = z5;
                                                                                                                                            z7 = true;
                                                                                                                                            if (z4) {
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    } else {
                                                                                                                                        byteBufferArr = outputBuffers;
                                                                                                                                        j7 = j28;
                                                                                                                                        if (!convertVideoParams.soundInfos.isEmpty()) {
                                                                                                                                            ArrayList arrayList6 = new ArrayList();
                                                                                                                                            arrayList6.add(new BlankAudioInput(j21));
                                                                                                                                            applyAudioInputs(convertVideoParams.soundInfos, arrayList6);
                                                                                                                                            AudioRecoder audioRecoder5 = new AudioRecoder(arrayList6, j21);
                                                                                                                                            i29 = mediaCodecVideoConvertor.mediaMuxer.addTrack(audioRecoder5.format, true);
                                                                                                                                            z13 = false;
                                                                                                                                            str7 = audioRecoder5;
                                                                                                                                            i31 = 0;
                                                                                                                                            byteBuffer = null;
                                                                                                                                            if (str7 == null) {
                                                                                                                                            }
                                                                                                                                            checkConversionCanceled();
                                                                                                                                            ByteBuffer[] byteBufferArr4222 = byteBufferArr;
                                                                                                                                            ByteBuffer byteBuffer9222 = byteBuffer;
                                                                                                                                            long j30222 = -1;
                                                                                                                                            long j31222 = -1;
                                                                                                                                            i33 = -5;
                                                                                                                                            long j32222 = 0;
                                                                                                                                            long j33222 = 0;
                                                                                                                                            z15 = false;
                                                                                                                                            z16 = false;
                                                                                                                                            int i83222 = 0;
                                                                                                                                            boolean z59222 = true;
                                                                                                                                            z17 = z14;
                                                                                                                                            int i84222 = i31;
                                                                                                                                            z18 = false;
                                                                                                                                            inputSurface4 = i21;
                                                                                                                                            loop3: while (true) {
                                                                                                                                                if (z18) {
                                                                                                                                                }
                                                                                                                                                checkConversionCanceled();
                                                                                                                                                if (str7 != null) {
                                                                                                                                                }
                                                                                                                                                if (z15) {
                                                                                                                                                }
                                                                                                                                                z22 = z15;
                                                                                                                                                z15 = z22;
                                                                                                                                                i36 = i34;
                                                                                                                                                j8 = j29;
                                                                                                                                                z23 = !z16;
                                                                                                                                                boolean z602222 = true;
                                                                                                                                                while (true) {
                                                                                                                                                    if (!z23) {
                                                                                                                                                    }
                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                    if (z) {
                                                                                                                                                    }
                                                                                                                                                    dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo2, j9);
                                                                                                                                                    if (dequeueOutputBuffer != -1) {
                                                                                                                                                    }
                                                                                                                                                    outputSurface7 = i16;
                                                                                                                                                    if (dequeueOutputBuffer != i40) {
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                                j29 = j8;
                                                                                                                                                str7 = audioRecoder;
                                                                                                                                                z17 = z20;
                                                                                                                                                z13 = z21;
                                                                                                                                                i27 = i35;
                                                                                                                                                c2 = z;
                                                                                                                                                bufferInfo = bufferInfo2;
                                                                                                                                                i33 = i36;
                                                                                                                                                inputBuffers = byteBufferArr2;
                                                                                                                                                inputSurface4 = inputSurface4;
                                                                                                                                            }
                                                                                                                                        } else {
                                                                                                                                            i29 = -5;
                                                                                                                                            str7 = 0;
                                                                                                                                            z13 = true;
                                                                                                                                            i31 = 0;
                                                                                                                                            byteBuffer = null;
                                                                                                                                            if (str7 == null) {
                                                                                                                                            }
                                                                                                                                            checkConversionCanceled();
                                                                                                                                            ByteBuffer[] byteBufferArr42222 = byteBufferArr;
                                                                                                                                            ByteBuffer byteBuffer92222 = byteBuffer;
                                                                                                                                            long j302222 = -1;
                                                                                                                                            long j312222 = -1;
                                                                                                                                            i33 = -5;
                                                                                                                                            long j322222 = 0;
                                                                                                                                            long j332222 = 0;
                                                                                                                                            z15 = false;
                                                                                                                                            z16 = false;
                                                                                                                                            int i832222 = 0;
                                                                                                                                            boolean z592222 = true;
                                                                                                                                            z17 = z14;
                                                                                                                                            int i842222 = i31;
                                                                                                                                            z18 = false;
                                                                                                                                            inputSurface4 = i21;
                                                                                                                                            loop3: while (true) {
                                                                                                                                                if (z18) {
                                                                                                                                                }
                                                                                                                                                checkConversionCanceled();
                                                                                                                                                if (str7 != null) {
                                                                                                                                                }
                                                                                                                                                if (z15) {
                                                                                                                                                }
                                                                                                                                                z22 = z15;
                                                                                                                                                z15 = z22;
                                                                                                                                                i36 = i34;
                                                                                                                                                j8 = j29;
                                                                                                                                                z23 = !z16;
                                                                                                                                                boolean z6022222 = true;
                                                                                                                                                while (true) {
                                                                                                                                                    if (!z23) {
                                                                                                                                                    }
                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                    if (z) {
                                                                                                                                                    }
                                                                                                                                                    dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo2, j9);
                                                                                                                                                    if (dequeueOutputBuffer != -1) {
                                                                                                                                                    }
                                                                                                                                                    outputSurface7 = i16;
                                                                                                                                                    if (dequeueOutputBuffer != i40) {
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                                j29 = j8;
                                                                                                                                                str7 = audioRecoder;
                                                                                                                                                z17 = z20;
                                                                                                                                                z13 = z21;
                                                                                                                                                i27 = i35;
                                                                                                                                                c2 = z;
                                                                                                                                                bufferInfo = bufferInfo2;
                                                                                                                                                i33 = i36;
                                                                                                                                                inputBuffers = byteBufferArr2;
                                                                                                                                                inputSurface4 = inputSurface4;
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        } catch (Exception e67) {
                                                                                                                            e = e67;
                                                                                                                            i16 = inputSurface2;
                                                                                                                            str2 = name;
                                                                                                                            inputSurface2 = inputSurface3;
                                                                                                                            arrayList = i77;
                                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                                            exc = e;
                                                                                                                            i16 = i16;
                                                                                                                            inputSurface2 = inputSurface2;
                                                                                                                            arrayList = arrayList;
                                                                                                                            z9 = z5;
                                                                                                                            i65 = i26;
                                                                                                                            mediaCodec2 = mediaCodec4;
                                                                                                                            mediaCodec = null;
                                                                                                                            i15 = -5;
                                                                                                                            audioRecoder = null;
                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                            }
                                                                                                                            z4 = false;
                                                                                                                            StringBuilder sb3222222222222222222222222222 = new StringBuilder();
                                                                                                                            sb3222222222222222222222222222.append("bitrate: ");
                                                                                                                            sb3222222222222222222222222222.append(i65);
                                                                                                                            sb3222222222222222222222222222.append(" framerate: ");
                                                                                                                            i3 = arrayList;
                                                                                                                            sb3222222222222222222222222222.append(i3);
                                                                                                                            sb3222222222222222222222222222.append(" size: ");
                                                                                                                            i2 = i67;
                                                                                                                            sb3222222222222222222222222222.append(i2);
                                                                                                                            str = str16;
                                                                                                                            sb3222222222222222222222222222.append(str);
                                                                                                                            i11 = i78;
                                                                                                                            sb3222222222222222222222222222.append(i11);
                                                                                                                            FileLog.e(sb3222222222222222222222222222.toString());
                                                                                                                            FileLog.e(exc);
                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                            i12 = i15;
                                                                                                                            z5 = z9;
                                                                                                                            z7 = true;
                                                                                                                            mediaCodec7 = mediaCodec;
                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                            }
                                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                                            outputSurface2 = i16;
                                                                                                                            if (outputSurface2 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                            }
                                                                                                                            if (audioRecoder != null) {
                                                                                                                            }
                                                                                                                            checkConversionCanceled();
                                                                                                                            i63 = i2;
                                                                                                                            i62 = i11;
                                                                                                                            z6 = z5;
                                                                                                                            OutputSurface outputSurface14222222222222222222222222222 = outputSurface2;
                                                                                                                            i13 = i12;
                                                                                                                            mediaCodec6 = mediaCodec5;
                                                                                                                            outputSurface3 = outputSurface14222222222222222222222222222;
                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                            }
                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec3 != null) {
                                                                                                                            }
                                                                                                                            if (outputSurface3 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface2 != null) {
                                                                                                                            }
                                                                                                                            str3 = str2;
                                                                                                                            if (z4) {
                                                                                                                            }
                                                                                                                        } catch (Throwable th79) {
                                                                                                                            str2 = name;
                                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                                            z2 = z;
                                                                                                                            th = th79;
                                                                                                                            outputSurface = inputSurface2;
                                                                                                                            i3 = i77;
                                                                                                                            inputSurface = inputSurface3;
                                                                                                                            i2 = i67;
                                                                                                                            i62 = i78;
                                                                                                                            str = str16;
                                                                                                                            i65 = i26;
                                                                                                                            mediaCodec2 = mediaCodec4;
                                                                                                                            mediaCodec = null;
                                                                                                                            i4 = -5;
                                                                                                                            z4 = false;
                                                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                            FileLog.e(th);
                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                            if (mediaExtractor != null) {
                                                                                                                            }
                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                            if (mP4Builder != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec != null) {
                                                                                                                            }
                                                                                                                            if (outputSurface != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface != null) {
                                                                                                                            }
                                                                                                                            i63 = i2;
                                                                                                                            str3 = str2;
                                                                                                                            z6 = z5;
                                                                                                                            z7 = true;
                                                                                                                            if (z4) {
                                                                                                                            }
                                                                                                                        }
                                                                                                                    }
                                                                                                                    c2 = z;
                                                                                                                    i16 = inputSurface2;
                                                                                                                    str2 = name;
                                                                                                                    inputSurface2 = inputSurface3;
                                                                                                                    arrayList = i77;
                                                                                                                    i27 = i6;
                                                                                                                    obj = "video/hevc";
                                                                                                                    str7 = str5;
                                                                                                                    j6 = j;
                                                                                                                    i28 = i24;
                                                                                                                    if (!z53) {
                                                                                                                        try {
                                                                                                                            if (Math.max(i67, i67) / Math.max(i61, i60) < 0.9f) {
                                                                                                                                String createFragmentShader = createFragmentShader(i60, i61, i78, i67, true, z55 ? 0 : 3);
                                                                                                                                i67 = i67;
                                                                                                                                i16.changeFragmentShader(createFragmentShader, createFragmentShader(i60, i61, i78, i67, false, z55 ? 0 : 3), false);
                                                                                                                                i16 = i16;
                                                                                                                                inputSurface2 = inputSurface2;
                                                                                                                                arrayList = arrayList;
                                                                                                                            } else {
                                                                                                                                i67 = i67;
                                                                                                                            }
                                                                                                                        } catch (Exception e68) {
                                                                                                                            e = e68;
                                                                                                                            i67 = i67;
                                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                                            exc = e;
                                                                                                                            i16 = i16;
                                                                                                                            inputSurface2 = inputSurface2;
                                                                                                                            arrayList = arrayList;
                                                                                                                            z9 = z5;
                                                                                                                            i65 = i26;
                                                                                                                            mediaCodec2 = mediaCodec4;
                                                                                                                            mediaCodec = null;
                                                                                                                            i15 = -5;
                                                                                                                            audioRecoder = null;
                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                            }
                                                                                                                            z4 = false;
                                                                                                                            StringBuilder sb32222222222222222222222222222 = new StringBuilder();
                                                                                                                            sb32222222222222222222222222222.append("bitrate: ");
                                                                                                                            sb32222222222222222222222222222.append(i65);
                                                                                                                            sb32222222222222222222222222222.append(" framerate: ");
                                                                                                                            i3 = arrayList;
                                                                                                                            sb32222222222222222222222222222.append(i3);
                                                                                                                            sb32222222222222222222222222222.append(" size: ");
                                                                                                                            i2 = i67;
                                                                                                                            sb32222222222222222222222222222.append(i2);
                                                                                                                            str = str16;
                                                                                                                            sb32222222222222222222222222222.append(str);
                                                                                                                            i11 = i78;
                                                                                                                            sb32222222222222222222222222222.append(i11);
                                                                                                                            FileLog.e(sb32222222222222222222222222222.toString());
                                                                                                                            FileLog.e(exc);
                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                            i12 = i15;
                                                                                                                            z5 = z9;
                                                                                                                            z7 = true;
                                                                                                                            mediaCodec7 = mediaCodec;
                                                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                            if (mediaCodec7 != null) {
                                                                                                                            }
                                                                                                                            mediaCodec3 = mediaCodec7;
                                                                                                                            outputSurface2 = i16;
                                                                                                                            if (outputSurface2 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec4 != null) {
                                                                                                                            }
                                                                                                                            if (audioRecoder != null) {
                                                                                                                            }
                                                                                                                            checkConversionCanceled();
                                                                                                                            i63 = i2;
                                                                                                                            i62 = i11;
                                                                                                                            z6 = z5;
                                                                                                                            OutputSurface outputSurface142222222222222222222222222222 = outputSurface2;
                                                                                                                            i13 = i12;
                                                                                                                            mediaCodec6 = mediaCodec5;
                                                                                                                            outputSurface3 = outputSurface142222222222222222222222222222;
                                                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                            }
                                                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                            if (mP4Builder2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec3 != null) {
                                                                                                                            }
                                                                                                                            if (outputSurface3 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface2 != null) {
                                                                                                                            }
                                                                                                                            str3 = str2;
                                                                                                                            if (z4) {
                                                                                                                            }
                                                                                                                        } catch (Throwable th80) {
                                                                                                                            th = th80;
                                                                                                                            i67 = i67;
                                                                                                                            mediaCodecVideoConvertor = this;
                                                                                                                            th = th;
                                                                                                                            z2 = c2;
                                                                                                                            outputSurface = i16;
                                                                                                                            inputSurface = inputSurface2;
                                                                                                                            i3 = arrayList;
                                                                                                                            i2 = i67;
                                                                                                                            i62 = i78;
                                                                                                                            str = str16;
                                                                                                                            i65 = i26;
                                                                                                                            mediaCodec2 = mediaCodec4;
                                                                                                                            mediaCodec = null;
                                                                                                                            i4 = -5;
                                                                                                                            z4 = false;
                                                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                            FileLog.e(th);
                                                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                            if (mediaExtractor != null) {
                                                                                                                            }
                                                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                            if (mP4Builder != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec != null) {
                                                                                                                            }
                                                                                                                            if (outputSurface != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface != null) {
                                                                                                                            }
                                                                                                                            i63 = i2;
                                                                                                                            str3 = str2;
                                                                                                                            z6 = z5;
                                                                                                                            z7 = true;
                                                                                                                            if (z4) {
                                                                                                                            }
                                                                                                                        }
                                                                                                                    }
                                                                                                                    mediaCodecVideoConvertor = this;
                                                                                                                    mediaCodec = mediaCodecVideoConvertor.getDecoderByFormat(trackFormat);
                                                                                                                    mediaCodec.configure(trackFormat, i16.getSurface(), (MediaCrypto) null, 0);
                                                                                                                    mediaCodec.start();
                                                                                                                    if (i22 >= 21) {
                                                                                                                    }
                                                                                                                    mediaCodecVideoConvertor.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z10, mediaCodecVideoConvertor.outputMimeType.equals(obj));
                                                                                                                    if (i27 < 0) {
                                                                                                                    }
                                                                                                                }
                                                                                                            } catch (Exception e69) {
                                                                                                                mediaCodecVideoConvertor = this;
                                                                                                                exc = e69;
                                                                                                                i16 = inputSurface2;
                                                                                                                str2 = name;
                                                                                                                inputSurface2 = inputSurface3;
                                                                                                                arrayList = i77;
                                                                                                                z9 = z5;
                                                                                                                i65 = i26;
                                                                                                                mediaCodec2 = mediaCodec4;
                                                                                                                mediaCodec = null;
                                                                                                                i15 = -5;
                                                                                                                audioRecoder = null;
                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                }
                                                                                                                z4 = false;
                                                                                                                StringBuilder sb322222222222222222222222222222 = new StringBuilder();
                                                                                                                sb322222222222222222222222222222.append("bitrate: ");
                                                                                                                sb322222222222222222222222222222.append(i65);
                                                                                                                sb322222222222222222222222222222.append(" framerate: ");
                                                                                                                i3 = arrayList;
                                                                                                                sb322222222222222222222222222222.append(i3);
                                                                                                                sb322222222222222222222222222222.append(" size: ");
                                                                                                                i2 = i67;
                                                                                                                sb322222222222222222222222222222.append(i2);
                                                                                                                str = str16;
                                                                                                                sb322222222222222222222222222222.append(str);
                                                                                                                i11 = i78;
                                                                                                                sb322222222222222222222222222222.append(i11);
                                                                                                                FileLog.e(sb322222222222222222222222222222.toString());
                                                                                                                FileLog.e(exc);
                                                                                                                mediaCodec4 = mediaCodec2;
                                                                                                                i12 = i15;
                                                                                                                z5 = z9;
                                                                                                                z7 = true;
                                                                                                                mediaCodec7 = mediaCodec;
                                                                                                                mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                                                if (mediaCodec7 != null) {
                                                                                                                }
                                                                                                                mediaCodec3 = mediaCodec7;
                                                                                                                outputSurface2 = i16;
                                                                                                                if (outputSurface2 != null) {
                                                                                                                }
                                                                                                                if (inputSurface2 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec4 != null) {
                                                                                                                }
                                                                                                                if (audioRecoder != null) {
                                                                                                                }
                                                                                                                checkConversionCanceled();
                                                                                                                i63 = i2;
                                                                                                                i62 = i11;
                                                                                                                z6 = z5;
                                                                                                                OutputSurface outputSurface1422222222222222222222222222222 = outputSurface2;
                                                                                                                i13 = i12;
                                                                                                                mediaCodec6 = mediaCodec5;
                                                                                                                outputSurface3 = outputSurface1422222222222222222222222222222;
                                                                                                                mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                }
                                                                                                                mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                if (mP4Builder2 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec6 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec3 != null) {
                                                                                                                }
                                                                                                                if (outputSurface3 != null) {
                                                                                                                }
                                                                                                                if (inputSurface2 != null) {
                                                                                                                }
                                                                                                                str3 = str2;
                                                                                                                if (z4) {
                                                                                                                }
                                                                                                            } catch (Throwable th81) {
                                                                                                                mediaCodecVideoConvertor = this;
                                                                                                                z2 = z;
                                                                                                                th = th81;
                                                                                                                outputSurface = inputSurface2;
                                                                                                                str2 = name;
                                                                                                                inputSurface = inputSurface3;
                                                                                                                i3 = i77;
                                                                                                                i2 = i67;
                                                                                                                i62 = i78;
                                                                                                                str = str16;
                                                                                                                i65 = i26;
                                                                                                                mediaCodec2 = mediaCodec4;
                                                                                                                mediaCodec = null;
                                                                                                                i4 = -5;
                                                                                                                z4 = false;
                                                                                                                FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                                                FileLog.e(th);
                                                                                                                mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                                                if (mediaExtractor != null) {
                                                                                                                }
                                                                                                                mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                                                if (mP4Builder != null) {
                                                                                                                }
                                                                                                                if (mediaCodec2 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec != null) {
                                                                                                                }
                                                                                                                if (outputSurface != null) {
                                                                                                                }
                                                                                                                if (inputSurface != null) {
                                                                                                                }
                                                                                                                i63 = i2;
                                                                                                                str3 = str2;
                                                                                                                z6 = z5;
                                                                                                                z7 = true;
                                                                                                                if (z4) {
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                        c2 = 3;
                                                                                                        if (i22 >= 24) {
                                                                                                            if (hDRInfo.getHDRType() != 0) {
                                                                                                            }
                                                                                                        }
                                                                                                        c2 = z;
                                                                                                        i16 = inputSurface2;
                                                                                                        str2 = name;
                                                                                                        inputSurface2 = inputSurface3;
                                                                                                        arrayList = i77;
                                                                                                        i27 = i6;
                                                                                                        obj = "video/hevc";
                                                                                                        str7 = str5;
                                                                                                        j6 = j;
                                                                                                        i28 = i24;
                                                                                                        if (!z53) {
                                                                                                        }
                                                                                                        mediaCodecVideoConvertor = this;
                                                                                                        mediaCodec = mediaCodecVideoConvertor.getDecoderByFormat(trackFormat);
                                                                                                        mediaCodec.configure(trackFormat, i16.getSurface(), (MediaCrypto) null, 0);
                                                                                                        mediaCodec.start();
                                                                                                        if (i22 >= 21) {
                                                                                                        }
                                                                                                        mediaCodecVideoConvertor.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z10, mediaCodecVideoConvertor.outputMimeType.equals(obj));
                                                                                                        if (i27 < 0) {
                                                                                                        }
                                                                                                    }
                                                                                                } else {
                                                                                                    z10 = z50;
                                                                                                    mp4Movie = mp4Movie2;
                                                                                                    i23 = 0;
                                                                                                    i16 = 0;
                                                                                                }
                                                                                                z11 = false;
                                                                                                if (i22 >= 23) {
                                                                                                }
                                                                                                i25 = i65;
                                                                                                name = createByCodecName.getName();
                                                                                                z5 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                                                                StringBuilder sb52 = new StringBuilder();
                                                                                                i26 = i25;
                                                                                                sb52.append("selected encoder ");
                                                                                                sb52.append(name);
                                                                                                FileLog.d(sb52.toString());
                                                                                                createByCodecName.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                                                                inputSurface3 = new InputSurface(createByCodecName.createInputSurface());
                                                                                                inputSurface3.makeCurrent();
                                                                                                createByCodecName.start();
                                                                                                mediaCodec4 = createByCodecName;
                                                                                                str2 = str14;
                                                                                                arrayList = arrayList2;
                                                                                                inputSurface2 = new OutputSurface(savedFilterState, null, str2, str15, arrayList, cropState2, i78, i67, i60, i61, i19, i77, false, num, num2, hDRInfo, arrayList3);
                                                                                                if (hDRInfo == null) {
                                                                                                }
                                                                                                c2 = 3;
                                                                                                if (i22 >= 24) {
                                                                                                }
                                                                                                c2 = z;
                                                                                                i16 = inputSurface2;
                                                                                                str2 = name;
                                                                                                inputSurface2 = inputSurface3;
                                                                                                arrayList = i77;
                                                                                                i27 = i6;
                                                                                                obj = "video/hevc";
                                                                                                str7 = str5;
                                                                                                j6 = j;
                                                                                                i28 = i24;
                                                                                                if (!z53) {
                                                                                                }
                                                                                                mediaCodecVideoConvertor = this;
                                                                                                mediaCodec = mediaCodecVideoConvertor.getDecoderByFormat(trackFormat);
                                                                                                mediaCodec.configure(trackFormat, i16.getSurface(), (MediaCrypto) null, 0);
                                                                                                mediaCodec.start();
                                                                                                if (i22 >= 21) {
                                                                                                }
                                                                                                mediaCodecVideoConvertor.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z10, mediaCodecVideoConvertor.outputMimeType.equals(obj));
                                                                                                if (i27 < 0) {
                                                                                                }
                                                                                            }
                                                                                            createByCodecName = null;
                                                                                            if (createByCodecName == null) {
                                                                                            }
                                                                                            if (BuildVars.LOGS_ENABLED) {
                                                                                            }
                                                                                            createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i21, i20);
                                                                                            createVideoFormat.setInteger("color-format", 2130708361);
                                                                                            createVideoFormat.setInteger("bitrate", i65);
                                                                                            if (z56) {
                                                                                                createVideoFormat.setInteger("bitrate-mode", 2);
                                                                                            }
                                                                                            createVideoFormat.setInteger("max-bitrate", i65);
                                                                                            createVideoFormat.setInteger("frame-rate", i77);
                                                                                            createVideoFormat.setInteger("i-frame-interval", 1);
                                                                                            i22 = Build.VERSION.SDK_INT;
                                                                                            if (i22 >= 24) {
                                                                                            }
                                                                                            z11 = false;
                                                                                            if (i22 >= 23) {
                                                                                            }
                                                                                            i25 = i65;
                                                                                            name = createByCodecName.getName();
                                                                                            z5 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                                                            StringBuilder sb522 = new StringBuilder();
                                                                                            i26 = i25;
                                                                                            sb522.append("selected encoder ");
                                                                                            sb522.append(name);
                                                                                            FileLog.d(sb522.toString());
                                                                                            createByCodecName.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                                                            inputSurface3 = new InputSurface(createByCodecName.createInputSurface());
                                                                                            inputSurface3.makeCurrent();
                                                                                            createByCodecName.start();
                                                                                            mediaCodec4 = createByCodecName;
                                                                                            str2 = str14;
                                                                                            arrayList = arrayList2;
                                                                                            inputSurface2 = new OutputSurface(savedFilterState, null, str2, str15, arrayList, cropState2, i78, i67, i60, i61, i19, i77, false, num, num2, hDRInfo, arrayList3);
                                                                                            if (hDRInfo == null) {
                                                                                            }
                                                                                            c2 = 3;
                                                                                            if (i22 >= 24) {
                                                                                            }
                                                                                            c2 = z;
                                                                                            i16 = inputSurface2;
                                                                                            str2 = name;
                                                                                            inputSurface2 = inputSurface3;
                                                                                            arrayList = i77;
                                                                                            i27 = i6;
                                                                                            obj = "video/hevc";
                                                                                            str7 = str5;
                                                                                            j6 = j;
                                                                                            i28 = i24;
                                                                                            if (!z53) {
                                                                                            }
                                                                                            mediaCodecVideoConvertor = this;
                                                                                            mediaCodec = mediaCodecVideoConvertor.getDecoderByFormat(trackFormat);
                                                                                            mediaCodec.configure(trackFormat, i16.getSurface(), (MediaCrypto) null, 0);
                                                                                            mediaCodec.start();
                                                                                            if (i22 >= 21) {
                                                                                            }
                                                                                            mediaCodecVideoConvertor.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z10, mediaCodecVideoConvertor.outputMimeType.equals(obj));
                                                                                            if (i27 < 0) {
                                                                                            }
                                                                                        } catch (Exception e70) {
                                                                                            i14 = findTrack;
                                                                                            mediaCodecVideoConvertor = this;
                                                                                            arrayList = i77;
                                                                                            exc = e70;
                                                                                            mediaCodec2 = null;
                                                                                            mediaCodec = null;
                                                                                            i15 = -5;
                                                                                            i16 = null;
                                                                                            z9 = false;
                                                                                            inputSurface2 = null;
                                                                                            str2 = null;
                                                                                            audioRecoder = null;
                                                                                            if (exc instanceof IllegalStateException) {
                                                                                            }
                                                                                            z4 = false;
                                                                                            StringBuilder sb3222222222222222222222222222222 = new StringBuilder();
                                                                                            sb3222222222222222222222222222222.append("bitrate: ");
                                                                                            sb3222222222222222222222222222222.append(i65);
                                                                                            sb3222222222222222222222222222222.append(" framerate: ");
                                                                                            i3 = arrayList;
                                                                                            sb3222222222222222222222222222222.append(i3);
                                                                                            sb3222222222222222222222222222222.append(" size: ");
                                                                                            i2 = i67;
                                                                                            sb3222222222222222222222222222222.append(i2);
                                                                                            str = str16;
                                                                                            sb3222222222222222222222222222222.append(str);
                                                                                            i11 = i78;
                                                                                            sb3222222222222222222222222222222.append(i11);
                                                                                            FileLog.e(sb3222222222222222222222222222222.toString());
                                                                                            FileLog.e(exc);
                                                                                            mediaCodec4 = mediaCodec2;
                                                                                            i12 = i15;
                                                                                            z5 = z9;
                                                                                            z7 = true;
                                                                                            mediaCodec7 = mediaCodec;
                                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                                            if (mediaCodec7 != null) {
                                                                                            }
                                                                                            mediaCodec3 = mediaCodec7;
                                                                                            outputSurface2 = i16;
                                                                                            if (outputSurface2 != null) {
                                                                                            }
                                                                                            if (inputSurface2 != null) {
                                                                                            }
                                                                                            if (mediaCodec4 != null) {
                                                                                            }
                                                                                            if (audioRecoder != null) {
                                                                                            }
                                                                                            checkConversionCanceled();
                                                                                            i63 = i2;
                                                                                            i62 = i11;
                                                                                            z6 = z5;
                                                                                            OutputSurface outputSurface14222222222222222222222222222222 = outputSurface2;
                                                                                            i13 = i12;
                                                                                            mediaCodec6 = mediaCodec5;
                                                                                            outputSurface3 = outputSurface14222222222222222222222222222222;
                                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                                            if (mediaExtractor2 != null) {
                                                                                            }
                                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                                            if (mP4Builder2 != null) {
                                                                                            }
                                                                                            if (mediaCodec6 != null) {
                                                                                            }
                                                                                            if (mediaCodec3 != null) {
                                                                                            }
                                                                                            if (outputSurface3 != null) {
                                                                                            }
                                                                                            if (inputSurface2 != null) {
                                                                                            }
                                                                                            str3 = str2;
                                                                                            if (z4) {
                                                                                            }
                                                                                        } catch (Throwable th82) {
                                                                                            mediaCodecVideoConvertor = this;
                                                                                            z2 = z;
                                                                                            th = th82;
                                                                                            i3 = i77;
                                                                                            i10 = i78;
                                                                                            i2 = i67;
                                                                                            i62 = i10;
                                                                                            str = str16;
                                                                                            mediaCodec2 = null;
                                                                                            mediaCodec = null;
                                                                                            inputSurface = null;
                                                                                            i4 = -5;
                                                                                            str2 = null;
                                                                                            outputSurface = null;
                                                                                            z4 = false;
                                                                                            z5 = false;
                                                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                                            FileLog.e(th);
                                                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                                            if (mediaExtractor != null) {
                                                                                            }
                                                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                                            if (mP4Builder != null) {
                                                                                            }
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            if (mediaCodec != null) {
                                                                                            }
                                                                                            if (outputSurface != null) {
                                                                                            }
                                                                                            if (inputSurface != null) {
                                                                                            }
                                                                                            i63 = i2;
                                                                                            str3 = str2;
                                                                                            z6 = z5;
                                                                                            z7 = true;
                                                                                            if (z4) {
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (i27 < 0) {
                                                                                }
                                                                            } catch (Exception e71) {
                                                                                e = e71;
                                                                            }
                                                                        } catch (Exception e72) {
                                                                            exc = e72;
                                                                            audioRecoder = str7;
                                                                            z9 = z5;
                                                                            i65 = i26;
                                                                            mediaCodec2 = mediaCodec4;
                                                                            i15 = -5;
                                                                            if (exc instanceof IllegalStateException) {
                                                                            }
                                                                            z4 = false;
                                                                            StringBuilder sb32222222222222222222222222222222 = new StringBuilder();
                                                                            sb32222222222222222222222222222222.append("bitrate: ");
                                                                            sb32222222222222222222222222222222.append(i65);
                                                                            sb32222222222222222222222222222222.append(" framerate: ");
                                                                            i3 = arrayList;
                                                                            sb32222222222222222222222222222222.append(i3);
                                                                            sb32222222222222222222222222222222.append(" size: ");
                                                                            i2 = i67;
                                                                            sb32222222222222222222222222222222.append(i2);
                                                                            str = str16;
                                                                            sb32222222222222222222222222222222.append(str);
                                                                            i11 = i78;
                                                                            sb32222222222222222222222222222222.append(i11);
                                                                            FileLog.e(sb32222222222222222222222222222222.toString());
                                                                            FileLog.e(exc);
                                                                            mediaCodec4 = mediaCodec2;
                                                                            i12 = i15;
                                                                            z5 = z9;
                                                                            z7 = true;
                                                                            mediaCodec7 = mediaCodec;
                                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                            if (mediaCodec7 != null) {
                                                                            }
                                                                            mediaCodec3 = mediaCodec7;
                                                                            outputSurface2 = i16;
                                                                            if (outputSurface2 != null) {
                                                                            }
                                                                            if (inputSurface2 != null) {
                                                                            }
                                                                            if (mediaCodec4 != null) {
                                                                            }
                                                                            if (audioRecoder != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            i63 = i2;
                                                                            i62 = i11;
                                                                            z6 = z5;
                                                                            OutputSurface outputSurface142222222222222222222222222222222 = outputSurface2;
                                                                            i13 = i12;
                                                                            mediaCodec6 = mediaCodec5;
                                                                            outputSurface3 = outputSurface142222222222222222222222222222222;
                                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                            if (mP4Builder2 != null) {
                                                                            }
                                                                            if (mediaCodec6 != null) {
                                                                            }
                                                                            if (mediaCodec3 != null) {
                                                                            }
                                                                            if (outputSurface3 != null) {
                                                                            }
                                                                            if (inputSurface2 != null) {
                                                                            }
                                                                            str3 = str2;
                                                                            if (z4) {
                                                                            }
                                                                        }
                                                                        mediaCodec.configure(trackFormat, i16.getSurface(), (MediaCrypto) null, 0);
                                                                        mediaCodec.start();
                                                                        if (i22 >= 21) {
                                                                        }
                                                                        mediaCodecVideoConvertor.mediaMuxer = new MP4Builder().createMovie(mp4Movie, z10, mediaCodecVideoConvertor.outputMimeType.equals(obj));
                                                                    } catch (Throwable th83) {
                                                                        mediaCodec2 = mediaCodec4;
                                                                        th = th83;
                                                                        inputSurface = inputSurface2;
                                                                        outputSurface = i16;
                                                                        mediaCodec = mediaCodec;
                                                                        i3 = arrayList;
                                                                        i2 = i67;
                                                                        i62 = i78;
                                                                        str = str16;
                                                                        i65 = i26;
                                                                        i4 = -5;
                                                                        z4 = false;
                                                                        z2 = z;
                                                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                                        FileLog.e(th);
                                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                                        if (mediaExtractor != null) {
                                                                        }
                                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                                        if (mP4Builder != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        if (outputSurface != null) {
                                                                        }
                                                                        if (inputSurface != null) {
                                                                        }
                                                                        i63 = i2;
                                                                        str3 = str2;
                                                                        z6 = z5;
                                                                        z7 = true;
                                                                        if (z4) {
                                                                        }
                                                                    }
                                                                    mediaCodec = mediaCodecVideoConvertor.getDecoderByFormat(trackFormat);
                                                                } catch (Exception e73) {
                                                                    mediaCodec2 = mediaCodec4;
                                                                    exc = e73;
                                                                    z9 = z5;
                                                                    i65 = i26;
                                                                    mediaCodec = null;
                                                                    i15 = -5;
                                                                    audioRecoder = null;
                                                                    if (exc instanceof IllegalStateException) {
                                                                    }
                                                                    z4 = false;
                                                                    StringBuilder sb322222222222222222222222222222222 = new StringBuilder();
                                                                    sb322222222222222222222222222222222.append("bitrate: ");
                                                                    sb322222222222222222222222222222222.append(i65);
                                                                    sb322222222222222222222222222222222.append(" framerate: ");
                                                                    i3 = arrayList;
                                                                    sb322222222222222222222222222222222.append(i3);
                                                                    sb322222222222222222222222222222222.append(" size: ");
                                                                    i2 = i67;
                                                                    sb322222222222222222222222222222222.append(i2);
                                                                    str = str16;
                                                                    sb322222222222222222222222222222222.append(str);
                                                                    i11 = i78;
                                                                    sb322222222222222222222222222222222.append(i11);
                                                                    FileLog.e(sb322222222222222222222222222222222.toString());
                                                                    FileLog.e(exc);
                                                                    mediaCodec4 = mediaCodec2;
                                                                    i12 = i15;
                                                                    z5 = z9;
                                                                    z7 = true;
                                                                    mediaCodec7 = mediaCodec;
                                                                    mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                                    if (mediaCodec7 != null) {
                                                                    }
                                                                    mediaCodec3 = mediaCodec7;
                                                                    outputSurface2 = i16;
                                                                    if (outputSurface2 != null) {
                                                                    }
                                                                    if (inputSurface2 != null) {
                                                                    }
                                                                    if (mediaCodec4 != null) {
                                                                    }
                                                                    if (audioRecoder != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    i63 = i2;
                                                                    i62 = i11;
                                                                    z6 = z5;
                                                                    OutputSurface outputSurface1422222222222222222222222222222222 = outputSurface2;
                                                                    i13 = i12;
                                                                    mediaCodec6 = mediaCodec5;
                                                                    outputSurface3 = outputSurface1422222222222222222222222222222222;
                                                                    mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                                    if (mediaExtractor2 != null) {
                                                                    }
                                                                    mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                                    if (mP4Builder2 != null) {
                                                                    }
                                                                    if (mediaCodec6 != null) {
                                                                    }
                                                                    if (mediaCodec3 != null) {
                                                                    }
                                                                    if (outputSurface3 != null) {
                                                                    }
                                                                    if (inputSurface2 != null) {
                                                                    }
                                                                    str3 = str2;
                                                                    if (z4) {
                                                                    }
                                                                } catch (Throwable th84) {
                                                                    mediaCodec2 = mediaCodec4;
                                                                    th = th84;
                                                                    inputSurface = inputSurface2;
                                                                    outputSurface = i16;
                                                                    i3 = arrayList;
                                                                    i2 = i67;
                                                                    i62 = i78;
                                                                    str = str16;
                                                                    i65 = i26;
                                                                    mediaCodec = null;
                                                                }
                                                                inputSurface3.makeCurrent();
                                                                createByCodecName.start();
                                                                mediaCodec4 = createByCodecName;
                                                                str2 = str14;
                                                                arrayList = arrayList2;
                                                                inputSurface2 = new OutputSurface(savedFilterState, null, str2, str15, arrayList, cropState2, i78, i67, i60, i61, i19, i77, false, num, num2, hDRInfo, arrayList3);
                                                                if (hDRInfo == null) {
                                                                }
                                                                c2 = 3;
                                                                if (i22 >= 24) {
                                                                }
                                                                c2 = z;
                                                                i16 = inputSurface2;
                                                                str2 = name;
                                                                inputSurface2 = inputSurface3;
                                                                arrayList = i77;
                                                                i27 = i6;
                                                                obj = "video/hevc";
                                                                str7 = str5;
                                                                j6 = j;
                                                                i28 = i24;
                                                                if (!z53) {
                                                                }
                                                                mediaCodecVideoConvertor = this;
                                                            } catch (Exception e74) {
                                                                e = e74;
                                                                mediaCodecVideoConvertor = this;
                                                                mediaCodec2 = createByCodecName;
                                                                str2 = name;
                                                                InputSurface inputSurface15 = inputSurface3;
                                                                arrayList = i77;
                                                            } catch (Throwable th85) {
                                                                th = th85;
                                                                mediaCodecVideoConvertor = this;
                                                                mediaCodec2 = createByCodecName;
                                                                str2 = name;
                                                                InputSurface inputSurface16 = inputSurface3;
                                                            }
                                                            sb522.append("selected encoder ");
                                                            sb522.append(name);
                                                            FileLog.d(sb522.toString());
                                                            createByCodecName.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                            inputSurface3 = new InputSurface(createByCodecName.createInputSurface());
                                                        } catch (Exception e75) {
                                                            e = e75;
                                                            mediaCodecVideoConvertor = this;
                                                            mediaCodec2 = createByCodecName;
                                                            str2 = name;
                                                            arrayList = i77;
                                                            exc = e;
                                                            z9 = z5;
                                                            i65 = i26;
                                                            mediaCodec = null;
                                                            i15 = -5;
                                                            i16 = null;
                                                            inputSurface2 = null;
                                                            audioRecoder = null;
                                                            if (exc instanceof IllegalStateException) {
                                                            }
                                                            z4 = false;
                                                            StringBuilder sb3222222222222222222222222222222222 = new StringBuilder();
                                                            sb3222222222222222222222222222222222.append("bitrate: ");
                                                            sb3222222222222222222222222222222222.append(i65);
                                                            sb3222222222222222222222222222222222.append(" framerate: ");
                                                            i3 = arrayList;
                                                            sb3222222222222222222222222222222222.append(i3);
                                                            sb3222222222222222222222222222222222.append(" size: ");
                                                            i2 = i67;
                                                            sb3222222222222222222222222222222222.append(i2);
                                                            str = str16;
                                                            sb3222222222222222222222222222222222.append(str);
                                                            i11 = i78;
                                                            sb3222222222222222222222222222222222.append(i11);
                                                            FileLog.e(sb3222222222222222222222222222222222.toString());
                                                            FileLog.e(exc);
                                                            mediaCodec4 = mediaCodec2;
                                                            i12 = i15;
                                                            z5 = z9;
                                                            z7 = true;
                                                            mediaCodec7 = mediaCodec;
                                                            mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                            if (mediaCodec7 != null) {
                                                            }
                                                            mediaCodec3 = mediaCodec7;
                                                            outputSurface2 = i16;
                                                            if (outputSurface2 != null) {
                                                            }
                                                            if (inputSurface2 != null) {
                                                            }
                                                            if (mediaCodec4 != null) {
                                                            }
                                                            if (audioRecoder != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            i63 = i2;
                                                            i62 = i11;
                                                            z6 = z5;
                                                            OutputSurface outputSurface14222222222222222222222222222222222 = outputSurface2;
                                                            i13 = i12;
                                                            mediaCodec6 = mediaCodec5;
                                                            outputSurface3 = outputSurface14222222222222222222222222222222222;
                                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder2 != null) {
                                                            }
                                                            if (mediaCodec6 != null) {
                                                            }
                                                            if (mediaCodec3 != null) {
                                                            }
                                                            if (outputSurface3 != null) {
                                                            }
                                                            if (inputSurface2 != null) {
                                                            }
                                                            str3 = str2;
                                                            if (z4) {
                                                            }
                                                        } catch (Throwable th86) {
                                                            th = th86;
                                                            mediaCodecVideoConvertor = this;
                                                            mediaCodec2 = createByCodecName;
                                                            str2 = name;
                                                            z2 = z;
                                                            th = th;
                                                            i3 = i77;
                                                            i2 = i67;
                                                            i62 = i78;
                                                            str = str16;
                                                            i65 = i26;
                                                            mediaCodec = null;
                                                            inputSurface = null;
                                                            i4 = -5;
                                                            outputSurface = null;
                                                            z4 = false;
                                                            FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                            FileLog.e(th);
                                                            mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                            if (mP4Builder != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            i63 = i2;
                                                            str3 = str2;
                                                            z6 = z5;
                                                            z7 = true;
                                                            if (z4) {
                                                            }
                                                        }
                                                        name = createByCodecName.getName();
                                                        z5 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                                        StringBuilder sb5222 = new StringBuilder();
                                                        i26 = i25;
                                                    } catch (Exception e76) {
                                                        mediaCodecVideoConvertor = this;
                                                        mediaCodec2 = createByCodecName;
                                                        arrayList = i77;
                                                        exc = e76;
                                                        i65 = i25;
                                                        mediaCodec = null;
                                                        i15 = -5;
                                                        i16 = null;
                                                        z9 = false;
                                                        inputSurface2 = null;
                                                        str2 = null;
                                                        audioRecoder = null;
                                                        if (exc instanceof IllegalStateException) {
                                                        }
                                                        z4 = false;
                                                        StringBuilder sb32222222222222222222222222222222222 = new StringBuilder();
                                                        sb32222222222222222222222222222222222.append("bitrate: ");
                                                        sb32222222222222222222222222222222222.append(i65);
                                                        sb32222222222222222222222222222222222.append(" framerate: ");
                                                        i3 = arrayList;
                                                        sb32222222222222222222222222222222222.append(i3);
                                                        sb32222222222222222222222222222222222.append(" size: ");
                                                        i2 = i67;
                                                        sb32222222222222222222222222222222222.append(i2);
                                                        str = str16;
                                                        sb32222222222222222222222222222222222.append(str);
                                                        i11 = i78;
                                                        sb32222222222222222222222222222222222.append(i11);
                                                        FileLog.e(sb32222222222222222222222222222222222.toString());
                                                        FileLog.e(exc);
                                                        mediaCodec4 = mediaCodec2;
                                                        i12 = i15;
                                                        z5 = z9;
                                                        z7 = true;
                                                        mediaCodec7 = mediaCodec;
                                                        mediaCodecVideoConvertor.extractor.unselectTrack(i14);
                                                        if (mediaCodec7 != null) {
                                                        }
                                                        mediaCodec3 = mediaCodec7;
                                                        outputSurface2 = i16;
                                                        if (outputSurface2 != null) {
                                                        }
                                                        if (inputSurface2 != null) {
                                                        }
                                                        if (mediaCodec4 != null) {
                                                        }
                                                        if (audioRecoder != null) {
                                                        }
                                                        checkConversionCanceled();
                                                        i63 = i2;
                                                        i62 = i11;
                                                        z6 = z5;
                                                        OutputSurface outputSurface142222222222222222222222222222222222 = outputSurface2;
                                                        i13 = i12;
                                                        mediaCodec6 = mediaCodec5;
                                                        outputSurface3 = outputSurface142222222222222222222222222222222222;
                                                        mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                                        if (mediaExtractor2 != null) {
                                                        }
                                                        mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                                        if (mP4Builder2 != null) {
                                                        }
                                                        if (mediaCodec6 != null) {
                                                        }
                                                        if (mediaCodec3 != null) {
                                                        }
                                                        if (outputSurface3 != null) {
                                                        }
                                                        if (inputSurface2 != null) {
                                                        }
                                                        str3 = str2;
                                                        if (z4) {
                                                        }
                                                    } catch (Throwable th87) {
                                                        mediaCodecVideoConvertor = this;
                                                        mediaCodec2 = createByCodecName;
                                                        z2 = z;
                                                        th = th87;
                                                        i3 = i77;
                                                        i2 = i67;
                                                        i62 = i78;
                                                        str = str16;
                                                        i65 = i25;
                                                        mediaCodec = null;
                                                        inputSurface = null;
                                                        i4 = -5;
                                                        str2 = null;
                                                        outputSurface = null;
                                                        z4 = false;
                                                        z5 = false;
                                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                        FileLog.e(th);
                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                        if (mediaExtractor != null) {
                                                        }
                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                        if (mP4Builder != null) {
                                                        }
                                                        if (mediaCodec2 != null) {
                                                        }
                                                        if (mediaCodec != null) {
                                                        }
                                                        if (outputSurface != null) {
                                                        }
                                                        if (inputSurface != null) {
                                                        }
                                                        i63 = i2;
                                                        str3 = str2;
                                                        z6 = z5;
                                                        z7 = true;
                                                        if (z4) {
                                                        }
                                                    }
                                                    if (cropState2 == null) {
                                                    }
                                                    i19 = i59;
                                                    i20 = i67;
                                                    i21 = i78;
                                                    if (str6 != null) {
                                                    }
                                                    createByCodecName = null;
                                                    if (createByCodecName == null) {
                                                    }
                                                    if (BuildVars.LOGS_ENABLED) {
                                                    }
                                                    createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i21, i20);
                                                    createVideoFormat.setInteger("color-format", 2130708361);
                                                    createVideoFormat.setInteger("bitrate", i65);
                                                    if (z56) {
                                                    }
                                                    createVideoFormat.setInteger("max-bitrate", i65);
                                                    createVideoFormat.setInteger("frame-rate", i77);
                                                    createVideoFormat.setInteger("i-frame-interval", 1);
                                                    i22 = Build.VERSION.SDK_INT;
                                                    if (i22 >= 24) {
                                                    }
                                                    z11 = false;
                                                    if (i22 >= 23) {
                                                    }
                                                    i25 = i65;
                                                } else {
                                                    z2 = z;
                                                    mediaCodecVideoConvertor = this;
                                                    i3 = i77;
                                                    i2 = i67;
                                                    i11 = i78;
                                                    str = str16;
                                                    i65 = i79;
                                                    i12 = -5;
                                                    mediaCodec3 = null;
                                                    outputSurface2 = null;
                                                    z7 = false;
                                                    inputSurface2 = null;
                                                    str2 = null;
                                                    audioRecoder = null;
                                                    z4 = false;
                                                    z5 = false;
                                                    mediaCodec4 = null;
                                                }
                                                if (outputSurface2 != null) {
                                                    try {
                                                        outputSurface2.release();
                                                        outputSurface2 = null;
                                                    } catch (Throwable th88) {
                                                        th = th88;
                                                        i4 = i12;
                                                        mediaCodec = mediaCodec3;
                                                        outputSurface = outputSurface2;
                                                        i62 = i11;
                                                        inputSurface = inputSurface2;
                                                        mediaCodec2 = mediaCodec4;
                                                        th = th;
                                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                        FileLog.e(th);
                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                        if (mediaExtractor != null) {
                                                        }
                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                        if (mP4Builder != null) {
                                                        }
                                                        if (mediaCodec2 != null) {
                                                        }
                                                        if (mediaCodec != null) {
                                                        }
                                                        if (outputSurface != null) {
                                                        }
                                                        if (inputSurface != null) {
                                                        }
                                                        i63 = i2;
                                                        str3 = str2;
                                                        z6 = z5;
                                                        z7 = true;
                                                        if (z4) {
                                                        }
                                                    }
                                                }
                                                if (inputSurface2 != null) {
                                                    inputSurface2.release();
                                                    inputSurface2 = null;
                                                }
                                                if (mediaCodec4 != null) {
                                                    mediaCodec4.stop();
                                                    mediaCodec4.release();
                                                    mediaCodec5 = null;
                                                } else {
                                                    mediaCodec5 = mediaCodec4;
                                                }
                                                if (audioRecoder != null) {
                                                    try {
                                                        audioRecoder.release();
                                                    } catch (Throwable th89) {
                                                        i4 = i12;
                                                        mediaCodec = mediaCodec3;
                                                        i62 = i11;
                                                        mediaCodec2 = mediaCodec5;
                                                        th = th89;
                                                        outputSurface = outputSurface2;
                                                        inputSurface = inputSurface2;
                                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                        FileLog.e(th);
                                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                        if (mediaExtractor != null) {
                                                        }
                                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                        if (mP4Builder != null) {
                                                        }
                                                        if (mediaCodec2 != null) {
                                                        }
                                                        if (mediaCodec != null) {
                                                        }
                                                        if (outputSurface != null) {
                                                        }
                                                        if (inputSurface != null) {
                                                        }
                                                        i63 = i2;
                                                        str3 = str2;
                                                        z6 = z5;
                                                        z7 = true;
                                                        if (z4) {
                                                        }
                                                    }
                                                }
                                                checkConversionCanceled();
                                                i63 = i2;
                                                i62 = i11;
                                                z6 = z5;
                                                OutputSurface outputSurface1422222222222222222222222222222222222 = outputSurface2;
                                                i13 = i12;
                                                mediaCodec6 = mediaCodec5;
                                                outputSurface3 = outputSurface1422222222222222222222222222222222222;
                                            } else {
                                                try {
                                                    MP4Builder createMovie = new MP4Builder().createMovie(mp4Movie2, z50, false);
                                                    this.mediaMuxer = createMovie;
                                                    MediaExtractor mediaExtractor5 = this.extractor;
                                                    if (i65 == -1 || z54) {
                                                        j16 = j21;
                                                        z39 = false;
                                                    } else {
                                                        j16 = j21;
                                                        z39 = true;
                                                    }
                                                    int i91 = i7;
                                                    file = file2;
                                                    z3 = z51;
                                                    z6 = false;
                                                    readAndWriteTracks(mediaExtractor5, createMovie, bufferInfo3, j18, j19, j16, file, z39);
                                                    z2 = z;
                                                    mediaCodecVideoConvertor = this;
                                                    i65 = i65;
                                                    i63 = i63;
                                                    i62 = i91;
                                                    mediaCodec6 = null;
                                                    mediaCodec3 = null;
                                                    i13 = -5;
                                                    z7 = false;
                                                    inputSurface2 = null;
                                                    str2 = null;
                                                    outputSurface3 = null;
                                                    z4 = false;
                                                } catch (Throwable th90) {
                                                    z3 = z51;
                                                    file = file2;
                                                    z2 = z;
                                                    th = th90;
                                                    mediaCodecVideoConvertor = this;
                                                    i3 = i67;
                                                    str = str16;
                                                    i2 = i63;
                                                    i62 = i7;
                                                    mediaCodec2 = null;
                                                    mediaCodec = null;
                                                    inputSurface = null;
                                                    i4 = -5;
                                                    str2 = null;
                                                    outputSurface = null;
                                                    z4 = false;
                                                    z5 = false;
                                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                                    FileLog.e(th);
                                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                                    if (mediaExtractor != null) {
                                                    }
                                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                                    if (mP4Builder != null) {
                                                    }
                                                    if (mediaCodec2 != null) {
                                                    }
                                                    if (mediaCodec != null) {
                                                    }
                                                    if (outputSurface != null) {
                                                    }
                                                    if (inputSurface != null) {
                                                    }
                                                    i63 = i2;
                                                    str3 = str2;
                                                    z6 = z5;
                                                    z7 = true;
                                                    if (z4) {
                                                    }
                                                }
                                            }
                                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                                            if (mediaExtractor2 != null) {
                                            }
                                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                                            if (mP4Builder2 != null) {
                                            }
                                            if (mediaCodec6 != null) {
                                            }
                                            if (mediaCodec3 != null) {
                                            }
                                            if (outputSurface3 != null) {
                                            }
                                            if (inputSurface2 != null) {
                                            }
                                            str3 = str2;
                                        }
                                    } catch (Throwable th91) {
                                        z2 = z;
                                        th = th91;
                                        i2 = i63;
                                        mediaCodecVideoConvertor = this;
                                        i3 = i67;
                                        str = str16;
                                        i62 = i7;
                                        z3 = z51;
                                        file = file2;
                                        mediaCodec2 = null;
                                        mediaCodec = null;
                                        inputSurface = null;
                                        i4 = -5;
                                        str2 = null;
                                        outputSurface = null;
                                        z4 = false;
                                        z5 = false;
                                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                        FileLog.e(th);
                                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                        if (mP4Builder != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface != null) {
                                        }
                                        i63 = i2;
                                        str3 = str2;
                                        z6 = z5;
                                        z7 = true;
                                        if (z4) {
                                        }
                                    }
                                } catch (Throwable th92) {
                                    th2 = th92;
                                    z2 = z;
                                    th = th2;
                                    i2 = i63;
                                    mediaCodecVideoConvertor = this;
                                    i3 = i67;
                                    str = str16;
                                    z3 = z51;
                                    file = file2;
                                    mediaCodec2 = null;
                                    mediaCodec = null;
                                    inputSurface = null;
                                    i4 = -5;
                                    str2 = null;
                                    outputSurface = null;
                                    z4 = false;
                                    z5 = false;
                                    FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                                    FileLog.e(th);
                                    mediaExtractor = mediaCodecVideoConvertor.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                                    if (mP4Builder != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface != null) {
                                    }
                                    i63 = i2;
                                    str3 = str2;
                                    z6 = z5;
                                    z7 = true;
                                    if (z4) {
                                    }
                                }
                            } else {
                                i6 = i5;
                                i7 = i62;
                            }
                            if (!z51) {
                            }
                            i67 = i63;
                            long j272 = j19;
                            int i772 = i67;
                            int i782 = i7;
                            z3 = z51;
                            file = file2;
                            long j282 = j18;
                            int i792 = i65;
                            if (findTrack < 0) {
                            }
                            if (outputSurface2 != null) {
                            }
                            if (inputSurface2 != null) {
                            }
                            if (mediaCodec4 != null) {
                            }
                            if (audioRecoder != null) {
                            }
                            checkConversionCanceled();
                            i63 = i2;
                            i62 = i11;
                            z6 = z5;
                            OutputSurface outputSurface14222222222222222222222222222222222222 = outputSurface2;
                            i13 = i12;
                            mediaCodec6 = mediaCodec5;
                            outputSurface3 = outputSurface14222222222222222222222222222222222222;
                            mediaExtractor2 = mediaCodecVideoConvertor.extractor;
                            if (mediaExtractor2 != null) {
                            }
                            mP4Builder2 = mediaCodecVideoConvertor.mediaMuxer;
                            if (mP4Builder2 != null) {
                            }
                            if (mediaCodec6 != null) {
                            }
                            if (mediaCodec3 != null) {
                            }
                            if (outputSurface3 != null) {
                            }
                            if (inputSurface2 != null) {
                            }
                            str3 = str2;
                        } catch (Throwable th93) {
                            z2 = z;
                            th = th93;
                            mediaCodecVideoConvertor = this;
                            i9 = r142;
                            i8 = j18;
                            str4 = str16;
                        }
                        z8 = false;
                    } catch (Throwable th94) {
                        th = th94;
                        z2 = z;
                        i2 = i63;
                        mediaCodecVideoConvertor = this;
                        i3 = i67;
                        str = str16;
                        z3 = z51;
                        file = file2;
                        th = th;
                        mediaCodec2 = null;
                        mediaCodec = null;
                        inputSurface = null;
                        i4 = -5;
                        str2 = null;
                        outputSurface = null;
                        z4 = false;
                        z5 = false;
                        FileLog.e("bitrate: " + i65 + " framerate: " + i3 + " size: " + i2 + str + i62);
                        FileLog.e(th);
                        mediaExtractor = mediaCodecVideoConvertor.extractor;
                        if (mediaExtractor != null) {
                        }
                        mP4Builder = mediaCodecVideoConvertor.mediaMuxer;
                        if (mP4Builder != null) {
                        }
                        if (mediaCodec2 != null) {
                        }
                        if (mediaCodec != null) {
                        }
                        if (outputSurface != null) {
                        }
                        if (inputSurface != null) {
                        }
                        i63 = i2;
                        str3 = str2;
                        z6 = z5;
                        z7 = true;
                        if (z4) {
                        }
                    }
                } catch (Throwable th95) {
                    th = th95;
                    z2 = z;
                }
            }
        } catch (Throwable th96) {
            th = th96;
            z2 = z;
            i2 = i63;
            file = file2;
            mediaCodecVideoConvertor = this;
            z3 = z51;
            i3 = i67;
            str = str16;
        }
        if (z4) {
            return mediaCodecVideoConvertor.convertVideoInternal(convertVideoParams, true, i + 1);
        }
        if (z7 && z6 && i < 3) {
            return mediaCodecVideoConvertor.convertVideoInternal(convertVideoParams, z2, i + 1);
        }
        long currentTimeMillis2 = System.currentTimeMillis() - currentTimeMillis;
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("compression completed time=" + currentTimeMillis2 + " needCompress=" + z3 + " w=" + i62 + " h=" + i63 + " bitrate=" + i65 + " file size=" + AndroidUtilities.formatFileSize(file.length()) + " encoder_name=" + str3);
        }
        return z7;
    }

    private static void applyAudioInputs(ArrayList<MixedSoundInfo> arrayList, ArrayList<AudioInput> arrayList2) throws IOException {
        for (int i = 0; i < arrayList.size(); i++) {
            MixedSoundInfo mixedSoundInfo = arrayList.get(i);
            GeneralAudioInput generalAudioInput = new GeneralAudioInput(mixedSoundInfo.audioFile);
            generalAudioInput.setVolume(mixedSoundInfo.volume);
            long j = mixedSoundInfo.startTime;
            if (j > 0) {
                generalAudioInput.setStartOffsetUs(j);
            }
            long j2 = mixedSoundInfo.audioOffset;
            if (j2 > 0) {
                generalAudioInput.setStartTimeUs(j2);
            } else {
                j2 = 0;
            }
            long j3 = mixedSoundInfo.duration;
            if (j3 > 0) {
                generalAudioInput.setEndTimeUs(j2 + j3);
            }
            arrayList2.add(generalAudioInput);
        }
    }

    private MediaCodec createEncoderForMimeType() throws IOException {
        MediaCodec createEncoderByType;
        if (this.outputMimeType.equals("video/hevc") && Build.VERSION.SDK_INT >= 29) {
            String findGoodHevcEncoder = SharedConfig.findGoodHevcEncoder();
            createEncoderByType = findGoodHevcEncoder != null ? MediaCodec.createByCodecName(findGoodHevcEncoder) : null;
        } else {
            this.outputMimeType = MediaController.VIDEO_MIME_TYPE;
            createEncoderByType = MediaCodec.createEncoderByType(MediaController.VIDEO_MIME_TYPE);
        }
        if (createEncoderByType == null && this.outputMimeType.equals("video/hevc")) {
            this.outputMimeType = MediaController.VIDEO_MIME_TYPE;
            return MediaCodec.createEncoderByType(MediaController.VIDEO_MIME_TYPE);
        }
        return createEncoderByType;
    }

    public static void cutOfNalData(String str, ByteBuffer byteBuffer, MediaCodec.BufferInfo bufferInfo) {
        int i = str.equals("video/hevc") ? 3 : 1;
        if (bufferInfo.size > 100) {
            byteBuffer.position(bufferInfo.offset);
            byte[] bArr = new byte[100];
            byteBuffer.get(bArr);
            int i2 = 0;
            for (int i3 = 0; i3 < 96; i3++) {
                if (bArr[i3] == 0 && bArr[i3 + 1] == 0 && bArr[i3 + 2] == 0 && bArr[i3 + 3] == 1 && (i2 = i2 + 1) > i) {
                    bufferInfo.offset += i3;
                    bufferInfo.size -= i3;
                    return;
                }
            }
        }
    }

    private boolean isMediatekAvcEncoder(MediaCodec mediaCodec) {
        return mediaCodec.getName().equals("c2.mtk.avc.encoder");
    }

    /* JADX WARN: Code restructure failed: missing block: B:73:0x0123, code lost:
        if (r9[r6 + 3] != 1) goto L62;
     */
    /* JADX WARN: Removed duplicated region for block: B:119:0x01d0  */
    /* JADX WARN: Removed duplicated region for block: B:121:0x01d5  */
    /* JADX WARN: Removed duplicated region for block: B:126:0x01ec  */
    /* JADX WARN: Removed duplicated region for block: B:127:0x01ee  */
    /* JADX WARN: Removed duplicated region for block: B:57:0x00df  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private long readAndWriteTracks(MediaExtractor mediaExtractor, MP4Builder mP4Builder, MediaCodec.BufferInfo bufferInfo, long j, long j2, long j3, File file, boolean z) throws Exception {
        long j4;
        int i;
        int i2;
        int i3;
        int i4;
        int i5;
        int i6;
        int i7;
        int i8;
        int i9;
        boolean z2;
        int i10;
        int i11;
        boolean z3;
        long j5;
        byte[] array;
        int i12;
        int i13;
        int i14;
        int findTrack = MediaController.findTrack(mediaExtractor, false);
        if (z) {
            j4 = j3;
            i = MediaController.findTrack(mediaExtractor, true);
        } else {
            j4 = j3;
            i = -1;
        }
        float f = ((float) j4) / 1000.0f;
        if (findTrack >= 0) {
            mediaExtractor.selectTrack(findTrack);
            MediaFormat trackFormat = mediaExtractor.getTrackFormat(findTrack);
            i3 = mP4Builder.addTrack(trackFormat, false);
            try {
                i14 = trackFormat.getInteger("max-input-size");
            } catch (Exception e) {
                FileLog.e(e);
                i14 = 0;
            }
            if (j > 0) {
                mediaExtractor.seekTo(j, 0);
            } else {
                mediaExtractor.seekTo(0L, 0);
            }
            i2 = i14;
        } else {
            i2 = 0;
            i3 = -1;
        }
        if (i >= 0) {
            mediaExtractor.selectTrack(i);
            MediaFormat trackFormat2 = mediaExtractor.getTrackFormat(i);
            if (trackFormat2.getString("mime").equals("audio/unknown")) {
                i4 = -1;
                i = -1;
            } else {
                i4 = mP4Builder.addTrack(trackFormat2, true);
                try {
                    i2 = Math.max(trackFormat2.getInteger("max-input-size"), i2);
                } catch (Exception e2) {
                    FileLog.e(e2);
                }
                if (j > 0) {
                    mediaExtractor.seekTo(j, 0);
                } else {
                    mediaExtractor.seekTo(0L, 0);
                }
            }
        } else {
            i4 = -1;
        }
        if (i2 <= 0) {
            i2 = 65536;
        }
        ByteBuffer allocateDirect = ByteBuffer.allocateDirect(i2);
        if (i >= 0 || findTrack >= 0) {
            checkConversionCanceled();
            long j6 = 0;
            long j7 = -1;
            boolean z4 = false;
            while (!z4) {
                checkConversionCanceled();
                int i15 = Build.VERSION.SDK_INT;
                if (i15 >= 28) {
                    long sampleSize = mediaExtractor.getSampleSize();
                    i5 = i;
                    if (sampleSize > i2) {
                        int i16 = (int) (sampleSize + 1024);
                        i2 = i16;
                        allocateDirect = ByteBuffer.allocateDirect(i16);
                    }
                } else {
                    i5 = i;
                }
                bufferInfo.size = mediaExtractor.readSampleData(allocateDirect, 0);
                int sampleTrackIndex = mediaExtractor.getSampleTrackIndex();
                if (sampleTrackIndex == findTrack) {
                    i6 = i5;
                    i8 = i3;
                } else {
                    i6 = i5;
                    if (sampleTrackIndex == i6) {
                        i8 = i4;
                    } else {
                        i7 = -1;
                        i8 = -1;
                        if (i8 == i7) {
                            if (i15 < 21) {
                                allocateDirect.position(0);
                                allocateDirect.limit(bufferInfo.size);
                            }
                            if (sampleTrackIndex != i6 && (array = allocateDirect.array()) != null) {
                                int arrayOffset = allocateDirect.arrayOffset();
                                int limit = arrayOffset + allocateDirect.limit();
                                i9 = i4;
                                int i17 = arrayOffset;
                                int i18 = -1;
                                while (true) {
                                    z2 = z4;
                                    int i19 = limit - 4;
                                    if (i17 > i19) {
                                        break;
                                    }
                                    if (array[i17] == 0 && array[i17 + 1] == 0 && array[i17 + 2] == 0) {
                                        i12 = i2;
                                        i13 = i6;
                                    } else {
                                        i12 = i2;
                                        i13 = i6;
                                    }
                                    if (i17 != i19) {
                                        i17++;
                                        z4 = z2;
                                        i6 = i13;
                                        i2 = i12;
                                    }
                                    if (i18 != -1) {
                                        int i20 = (i17 - i18) - (i17 == i19 ? 0 : 4);
                                        array[i18] = (byte) (i20 >> 24);
                                        array[i18 + 1] = (byte) (i20 >> 16);
                                        array[i18 + 2] = (byte) (i20 >> 8);
                                        array[i18 + 3] = (byte) i20;
                                    }
                                    i18 = i17;
                                    i17++;
                                    z4 = z2;
                                    i6 = i13;
                                    i2 = i12;
                                }
                            } else {
                                i9 = i4;
                                z2 = z4;
                            }
                            i10 = i2;
                            i11 = i6;
                            if (bufferInfo.size >= 0) {
                                bufferInfo.presentationTimeUs = mediaExtractor.getSampleTime();
                                z3 = false;
                            } else {
                                bufferInfo.size = 0;
                                z3 = true;
                            }
                            if (bufferInfo.size > 0 && !z3) {
                                if (sampleTrackIndex == findTrack) {
                                    j5 = 0;
                                    if (j > 0 && j7 == -1) {
                                        j7 = bufferInfo.presentationTimeUs;
                                    }
                                } else {
                                    j5 = 0;
                                }
                                if (j2 < j5 || bufferInfo.presentationTimeUs < j2) {
                                    bufferInfo.offset = 0;
                                    bufferInfo.flags = mediaExtractor.getSampleFlags();
                                    long writeSampleData = mP4Builder.writeSampleData(i8, allocateDirect, bufferInfo, false);
                                    if (writeSampleData != 0) {
                                        MediaController.VideoConvertorListener videoConvertorListener = this.callback;
                                        if (videoConvertorListener != null) {
                                            long j8 = bufferInfo.presentationTimeUs;
                                            long j9 = j8 - j7 > j6 ? j8 - j7 : j6;
                                            videoConvertorListener.didWriteData(writeSampleData, (((float) j9) / 1000.0f) / f);
                                            j6 = j9;
                                            if (!z3) {
                                                mediaExtractor.advance();
                                            }
                                        }
                                        if (!z3) {
                                        }
                                    }
                                } else {
                                    z3 = true;
                                }
                            }
                            if (!z3) {
                            }
                        } else {
                            i9 = i4;
                            z2 = z4;
                            i10 = i2;
                            i11 = i6;
                            if (sampleTrackIndex == -1) {
                                z3 = true;
                            } else {
                                mediaExtractor.advance();
                                z3 = false;
                            }
                        }
                        z4 = !z3 ? true : z2;
                        i4 = i9;
                        i = i11;
                        i2 = i10;
                    }
                }
                i7 = -1;
                if (i8 == i7) {
                }
                if (!z3) {
                }
                i4 = i9;
                i = i11;
                i2 = i10;
            }
            int i21 = i;
            if (findTrack >= 0) {
                mediaExtractor.unselectTrack(findTrack);
            }
            if (i21 >= 0) {
                mediaExtractor.unselectTrack(i21);
            }
            return j7;
        }
        return -1L;
    }

    private void checkConversionCanceled() {
        MediaController.VideoConvertorListener videoConvertorListener = this.callback;
        if (videoConvertorListener != null && videoConvertorListener.checkConversionCanceled()) {
            throw new ConversionCanceledException();
        }
    }

    private static String hdrFragmentShader(int i, int i2, int i3, int i4, boolean z, StoryEntry.HDRInfo hDRInfo) {
        String readRes;
        if (z) {
            if (hDRInfo.getHDRType() == 1) {
                readRes = RLottieDrawable.readRes(null, R.raw.yuv_hlg2rgb);
            } else {
                readRes = RLottieDrawable.readRes(null, R.raw.yuv_pq2rgb);
            }
            String replace = readRes.replace("$dstWidth", i3 + ".0");
            String replace2 = replace.replace("$dstHeight", i4 + ".0");
            return replace2 + "\nin vec2 vTextureCoord;\nout vec4 fragColor;\nvoid main() {\n    fragColor = TEX(vTextureCoord);\n}";
        }
        return "#version 320 es\nprecision mediump float;\nvarying vec2 vTextureCoord;\nuniform sampler2D sTexture;\nout vec4 fragColor;\nvoid main() {\nfragColor = texture(sTexture, vTextureCoord);\n}\n";
    }

    private static String createFragmentShader(int i, int i2, int i3, int i4, boolean z, int i5) {
        int clamp = (int) Utilities.clamp((Math.max(i, i2) / Math.max(i4, i3)) * 0.8f, 2.0f, 1.0f);
        if (clamp > 1 && SharedConfig.deviceIsAverage()) {
            clamp = 1;
        }
        int min = Math.min(i5, clamp);
        FileLog.d("source size " + i + "x" + i2 + "    dest size " + i3 + i4 + "   kernelRadius " + min);
        if (z) {
            return "#extension GL_OES_EGL_image_external : require\nprecision mediump float;\nvarying vec2 vTextureCoord;\nconst float kernel = " + min + ".0;\nconst float pixelSizeX = 1.0 / " + i + ".0;\nconst float pixelSizeY = 1.0 / " + i2 + ".0;\nuniform samplerExternalOES sTexture;\nvoid main() {\nvec3 accumulation = vec3(0);\nvec3 weightsum = vec3(0);\nfor (float x = -kernel; x <= kernel; x++){\n   for (float y = -kernel; y <= kernel; y++){\n       accumulation += texture2D(sTexture, vTextureCoord + vec2(x * pixelSizeX, y * pixelSizeY)).xyz;\n       weightsum += 1.0;\n   }\n}\ngl_FragColor = vec4(accumulation / weightsum, 1.0);\n}\n";
        }
        return "precision mediump float;\nvarying vec2 vTextureCoord;\nconst float kernel = " + min + ".0;\nconst float pixelSizeX = 1.0 / " + i2 + ".0;\nconst float pixelSizeY = 1.0 / " + i + ".0;\nuniform sampler2D sTexture;\nvoid main() {\nvec3 accumulation = vec3(0);\nvec3 weightsum = vec3(0);\nfor (float x = -kernel; x <= kernel; x++){\n   for (float y = -kernel; y <= kernel; y++){\n       accumulation += texture2D(sTexture, vTextureCoord + vec2(x * pixelSizeX, y * pixelSizeY)).xyz;\n       weightsum += 1.0;\n   }\n}\ngl_FragColor = vec4(accumulation / weightsum, 1.0);\n}\n";
    }

    /* loaded from: classes.dex */
    public class ConversionCanceledException extends RuntimeException {
        public ConversionCanceledException() {
            super("canceled conversion");
        }
    }

    private MediaCodec getDecoderByFormat(MediaFormat mediaFormat) {
        if (mediaFormat == null) {
            throw new RuntimeException("getDecoderByFormat: format is null");
        }
        ArrayList arrayList = new ArrayList();
        String string = mediaFormat.getString("mime");
        arrayList.add(string);
        if ("video/dolby-vision".equals(string)) {
            arrayList.add("video/hevc");
            arrayList.add(MediaController.VIDEO_MIME_TYPE);
        }
        Exception exc = null;
        while (!arrayList.isEmpty()) {
            try {
                String str = (String) arrayList.remove(0);
                mediaFormat.setString("mime", str);
                return MediaCodec.createDecoderByType(str);
            } catch (Exception e) {
                if (exc == null) {
                    exc = e;
                }
            }
        }
        throw new RuntimeException(exc);
    }

    /* loaded from: classes.dex */
    public static class ConvertVideoParams {
        long avatarStartTime;
        int bitrate;
        String blurPath;
        File cacheFile;
        MediaController.VideoConvertorListener callback;
        MediaController.CropState cropState;
        long duration;
        long endTime;
        int framerate;
        Integer gradientBottomColor;
        Integer gradientTopColor;
        StoryEntry.HDRInfo hdrInfo;
        boolean isPhoto;
        boolean isRound;
        boolean isSecret;
        boolean isStory;
        ArrayList<VideoEditedInfo.MediaEntity> mediaEntities;
        boolean muted;
        boolean needCompress;
        int originalBitrate;
        int originalHeight;
        int originalWidth;
        String paintPath;
        ArrayList<StoryEntry.Part> parts;
        int resultHeight;
        int resultWidth;
        int rotationValue;
        MediaController.SavedFilterState savedFilterState;
        public ArrayList<MixedSoundInfo> soundInfos = new ArrayList<>();
        long startTime;
        String videoPath;

        private ConvertVideoParams() {
        }

        public static ConvertVideoParams of(String str, File file, int i, boolean z, int i2, int i3, int i4, int i5, int i6, int i7, int i8, long j, long j2, long j3, boolean z2, long j4, MediaController.SavedFilterState savedFilterState, String str2, String str3, ArrayList<VideoEditedInfo.MediaEntity> arrayList, boolean z3, MediaController.CropState cropState, boolean z4, MediaController.VideoConvertorListener videoConvertorListener, Integer num, Integer num2, boolean z5, boolean z6, StoryEntry.HDRInfo hDRInfo, ArrayList<StoryEntry.Part> arrayList2) {
            ConvertVideoParams convertVideoParams = new ConvertVideoParams();
            convertVideoParams.videoPath = str;
            convertVideoParams.cacheFile = file;
            convertVideoParams.rotationValue = i;
            convertVideoParams.isSecret = z;
            convertVideoParams.originalWidth = i2;
            convertVideoParams.originalHeight = i3;
            convertVideoParams.resultWidth = i4;
            convertVideoParams.resultHeight = i5;
            convertVideoParams.framerate = i6;
            convertVideoParams.bitrate = i7;
            convertVideoParams.originalBitrate = i8;
            convertVideoParams.startTime = j;
            convertVideoParams.endTime = j2;
            convertVideoParams.avatarStartTime = j3;
            convertVideoParams.needCompress = z2;
            convertVideoParams.duration = j4;
            convertVideoParams.savedFilterState = savedFilterState;
            convertVideoParams.paintPath = str2;
            convertVideoParams.blurPath = str3;
            convertVideoParams.mediaEntities = arrayList;
            convertVideoParams.isPhoto = z3;
            convertVideoParams.cropState = cropState;
            convertVideoParams.isRound = z4;
            convertVideoParams.callback = videoConvertorListener;
            convertVideoParams.gradientTopColor = num;
            convertVideoParams.gradientBottomColor = num2;
            convertVideoParams.muted = z5;
            convertVideoParams.isStory = z6;
            convertVideoParams.hdrInfo = hDRInfo;
            convertVideoParams.parts = arrayList2;
            return convertVideoParams;
        }
    }

    /* loaded from: classes.dex */
    public static class MixedSoundInfo {
        final String audioFile;
        public long audioOffset;
        public long duration;
        public long startTime;
        public float volume = 1.0f;

        public MixedSoundInfo(String str) {
            this.audioFile = str;
        }
    }
}
