package org.telegram.messenger.video;

import android.annotation.TargetApi;
import android.media.MediaCodec;
import android.media.MediaCrypto;
import android.media.MediaExtractor;
import android.media.MediaFormat;
import android.media.MediaMuxer;
import android.os.Build;
import android.view.Surface;
import java.io.File;
import java.io.IOException;
import java.nio.ByteBuffer;
import java.util.ArrayList;
import org.telegram.messenger.AndroidUtilities;
import org.telegram.messenger.BuildVars;
import org.telegram.messenger.FileLog;
import org.telegram.messenger.MediaController;
import org.telegram.messenger.R;
import org.telegram.messenger.SharedConfig;
import org.telegram.messenger.Utilities;
import org.telegram.messenger.VideoEditedInfo;
import org.telegram.messenger.video.audio_input.AudioInput;
import org.telegram.messenger.video.audio_input.BlankAudioInput;
import org.telegram.messenger.video.audio_input.GeneralAudioInput;
import org.telegram.ui.Components.RLottieDrawable;
import org.telegram.ui.Stories.recorder.StoryEntry;
/* loaded from: classes3.dex */
public class MediaCodecVideoConvertor {
    private static final int MEDIACODEC_TIMEOUT_DEFAULT = 2500;
    private static final int MEDIACODEC_TIMEOUT_INCREASED = 22000;
    private static final int PROCESSOR_TYPE_INTEL = 2;
    private static final int PROCESSOR_TYPE_MTK = 3;
    private static final int PROCESSOR_TYPE_OTHER = 0;
    private static final int PROCESSOR_TYPE_QCOM = 1;
    private static final int PROCESSOR_TYPE_SEC = 4;
    private static final int PROCESSOR_TYPE_TI = 5;
    private MediaController.VideoConvertorListener callback;
    private long endPresentationTime;
    private MediaExtractor extractor;
    private Muxer muxer;
    private String outputMimeType;

    public boolean convertVideo(ConvertVideoParams convertVideoParams) {
        if (convertVideoParams.isSticker) {
            return WebmEncoder.convert(convertVideoParams, 0);
        }
        this.callback = convertVideoParams.callback;
        return convertVideoInternal(convertVideoParams, false, 0);
    }

    public long getLastFrameTimestamp() {
        return this.endPresentationTime;
    }

    /* JADX WARN: Can't wrap try/catch for region: R(15:1|(1:3)(1:1692)|4|(13:(1:6)(1:(22:1690|8|9|10|11|12|13|14|(56:(2:17|(1:19)(2:645|(1:647)(1:648)))(1:(1:650))|(3:21|22|23)(1:644)|618|619|620|(4:622|(1:624)|625|626)|627|(4:629|(1:631)|632|633)|25|26|27|(2:602|603)|29|31|32|33|34|35|36|37|38|39|41|42|(3:560|561|(31:563|45|46|47|49|50|51|(2:545|546)(1:53)|54|(6:527|528|529|530|531|532)(11:56|57|58|59|60|61|62|63|64|65|66)|67|68|(5:487|488|489|490|491)(1:70)|71|(2:(5:204|205|(2:475|476)|207|(1:(8:212|(1:214)(1:474)|215|216|217|(1:219)(3:286|(4:460|461|(1:463)|464)(2:288|(6:412|413|(4:415|416|417|418)(1:456)|419|(1:453)(5:422|423|424|(1:446)(7:428|429|430|431|(1:433)(1:440)|(1:435)(1:439)|436)|437)|438)(3:290|291|(5:293|294|295|(1:297)(1:397)|(10:299|300|(4:318|319|320|(4:(1:349)(3:325|326|327)|(1:331)|332|(1:341)(9:336|(1:338)(1:340)|339|304|305|306|(1:308)(1:312)|309|310))(8:350|(2:352|(6:354|(3:358|(2:364|(2:366|367)(1:373))|374)|379|368|(1:371)|372)(1:381))(1:385)|304|305|306|(0)(0)|309|310))(1:302)|303|304|305|306|(0)(0)|309|310)(4:393|394|395|396))(3:404|405|406)))|311)|(3:283|284|285)(4:221|(7:223|224|225|226|227|228|(2:230|231))(1:282)|232|233)|234)))(2:74|75)|211)|(2:202|203)|(1:78)|(1:80)|(1:82)|83|84|85|(1:87)|88|(2:126|127)|(2:122|123)|(2:118|119)|(2:114|115)|(2:110|111)|94|(2:96|97)(2:99|(3:106|(1:108)|109)(2:104|105))))|44|45|46|47|49|50|51|(0)(0)|54|(0)(0)|67|68|(0)(0)|71|(7:(0)|204|205|(0)|207|(9:(0)|212|(0)(0)|215|216|217|(0)(0)|(0)(0)|234)|211)|(0)|(0)|(0)|(0)|83|84|85|(0)|88|(0)|(0)|(0)|(0)|(0)|94|(0)(0))(31:651|652|653|654|655|656|657|(1:1673)(3:662|663|664)|665|(2:667|(13:669|670|(8:686|(73:688|689|690|691|(3:693|694|695)(2:1659|1660)|696|697|(5:699|(1:701)(2:1646|(1:1648)(1:1649))|702|(2:704|705)(1:1645)|706)(3:1650|(1:1652)(1:1654)|1653)|(2:1638|1639)(1:708)|709|(1:711)(1:1637)|712|713|(1:715)(2:1616|(2:1618|1619)(60:1620|1621|1622|(1:1615)(4:720|(2:725|726)|1614|726)|(55:1610|1611|(2:730|731)|806|807|(1:809)|810|(1:814)|815|816|(8:818|(1:820)(1:1603)|821|(1:823)(1:1602)|824|(1:826)|827|(1:1601)(1:831))(1:1604)|832|(2:834|(3:837|(1:839)|840))(1:1598)|842|843|844|846|847|848|849|850|851|852|853|854|(1:1571)(3:857|858|(1:860)(1:1566))|861|862|863|864|865|866|(3:869|870|(25:872|873|874|875|876|877|878|879|881|882|883|(2:1516|1517)(1:885)|(2:887|888)(8:1500|1501|1502|1503|1504|1505|1506|1507)|889|(10:1435|1436|1437|(4:1439|1440|(8:1442|(1:1444)|1482|1448|(1:1450)|(1:(8:1453|1454|1455|(1:1457)|1458|(1:1460)(1:1463)|1461|1462)(7:1468|(1:1470)|1471|(1:1473)|1474|1475|1476))(1:1481)|1477|1462)(1:1483)|1445)(1:1484)|1447|1448|(0)|(0)(0)|1477|1462)(4:891|892|(4:894|895|896|897)(1:1429)|898)|(1:900)(1:1424)|901|902|903|(2:(6:910|911|(3:913|914|915)(1:1411)|(7:917|918|919|920|(5:922|923|924|(4:926|(1:928)(1:1327)|929|(1:931)(1:1326))(1:1328)|932)(2:1335|(2:1395|(2:1397|(3:1315|1316|(2:1318|1319))))(16:1340|1341|1342|(4:1376|1377|1378|(3:1380|1381|1382))(1:1344)|1345|1346|1347|1348|1349|(1:1351)|1352|(1:1354)(1:1371)|1355|(2:1361|(4:1365|(1:1367)|1368|1369))|1370|1369))|933|(0))(1:1403)|935|(1:(10:940|941|942|(1:944)(1:1309)|945|946|947|(1:949)(4:1134|(4:1291|1292|(1:1294)|1295)(2:1136|(3:1138|(1:1178)(7:1141|1142|1143|1144|(3:1146|1147|(7:1149|1150|1151|(1:1153)(1:1162)|(1:1155)(1:1161)|1156|1157))(1:1172)|1171|1157)|1158)(3:1179|1180|(4:1182|1183|(1:1185)(1:1282)|(10:1187|1188|(10:1205|1206|1207|(5:(2:1212|1213)|(2:1224|1225)|1226|(1:1242)(5:1230|1231|1232|(1:1234)|1235)|1236)(2:1243|(7:1245|(3:1249|(2:1255|(2:1257|1258)(1:1265))|1266)|1271|1259|(1:1262)|1263|1264))|1192|1193|(1:1195)(1:1198)|1196|1197|1160)(1:1190)|1191|1192|1193|(0)(0)|1196|1197|1160)(4:1278|1279|1280|1281))(3:1283|1284|1285)))|1159|1160)|(2:951|952)(4:(6:955|956|957|(1:959)(3:962|(2:966|(3:1117|1118|(1:1120))(1:(21:969|(1:971)(1:1112)|972|973|(1:1111)(2:977|978)|979|(4:981|982|983|(19:985|986|987|988|989|(14:991|(3:993|994|995)(4:1089|1090|1091|1092)|996|997|(1:1083)(1:1003)|1004|(1:1006)(1:1082)|1007|(2:1011|(7:1013|(1:1015)|1016|(1:1018)(3:1071|(1:1075)|1076)|(9:1028|1029|1030|(2:1032|1033)(1:1063)|1034|1035|1036|(7:1038|1039|1040|1041|1042|1043|1044)(1:1058)|1045)(1:1020)|1021|(3:1023|(1:1025)|1026)(1:1027))(3:1077|(1:1079)|1080))|1081|(0)(0)|(0)(0)|1021|(0)(0))|1097|997|(1:999)|1083|1004|(0)(0)|1007|(3:1009|1011|(0)(0))|1081|(0)(0)|(0)(0)|1021|(0)(0)))(1:1110)|1103|1097|997|(0)|1083|1004|(0)(0)|1007|(0)|1081|(0)(0)|(0)(0)|1021|(0)(0))(1:1113)))|964)|960|961)(1:1133)|965|960|961)|953)))|939)|908|756|757|(1:759)|761))|1536|(4:1538|1539|1540|(25:1542|(1:1544)(1:1551)|1545|1546|(1:1548)(1:1550)|1549|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761))|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761)|728|(0)|806|807|(0)|810|(2:812|814)|815|816|(0)(0)|832|(0)(0)|842|843|844|846|847|848|849|850|851|852|853|854|(0)|1571|861|862|863|864|865|866|(3:869|870|(0))|1536|(0)|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761))|716|(1:718)|1615|(0)|728|(0)|806|807|(0)|810|(0)|815|816|(0)(0)|832|(0)(0)|842|843|844|846|847|848|849|850|851|852|853|854|(0)|1571|861|862|863|864|865|866|(0)|1536|(0)|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761)(1:1665)|(2:782|783)|(1:764)|(2:766|767)(1:781)|(2:776|777)|769|770)(7:673|674|675|(1:682)(1:678)|679|680|681)|85|(0)|88|(0)|(0)|(0)|(0)|(0)|94|(0)(0)))(1:1670)|1668|670|(0)|686|(0)(0)|(0)|(0)|(0)(0)|(0)|769|770|85|(0)|88|(0)|(0)|(0)|(0)|(0)|94|(0)(0))|581|135|136|137|(1:139)|140|(2:163|164)|(2:159|160)|(2:155|156)|(2:151|152)|(2:147|148)|146|(0)(0))(1:1691))|135|136|137|(0)|140|(0)|(0)|(0)|(0)|(0)|146|(0)(0))|7|8|9|10|11|12|13|14|(0)(0)|581|(1:(0))) */
    /* JADX WARN: Can't wrap try/catch for region: R(31:651|652|653|654|655|656|657|(1:1673)(3:662|663|664)|665|(2:667|(13:669|670|(8:686|(73:688|689|690|691|(3:693|694|695)(2:1659|1660)|696|697|(5:699|(1:701)(2:1646|(1:1648)(1:1649))|702|(2:704|705)(1:1645)|706)(3:1650|(1:1652)(1:1654)|1653)|(2:1638|1639)(1:708)|709|(1:711)(1:1637)|712|713|(1:715)(2:1616|(2:1618|1619)(60:1620|1621|1622|(1:1615)(4:720|(2:725|726)|1614|726)|(55:1610|1611|(2:730|731)|806|807|(1:809)|810|(1:814)|815|816|(8:818|(1:820)(1:1603)|821|(1:823)(1:1602)|824|(1:826)|827|(1:1601)(1:831))(1:1604)|832|(2:834|(3:837|(1:839)|840))(1:1598)|842|843|844|846|847|848|849|850|851|852|853|854|(1:1571)(3:857|858|(1:860)(1:1566))|861|862|863|864|865|866|(3:869|870|(25:872|873|874|875|876|877|878|879|881|882|883|(2:1516|1517)(1:885)|(2:887|888)(8:1500|1501|1502|1503|1504|1505|1506|1507)|889|(10:1435|1436|1437|(4:1439|1440|(8:1442|(1:1444)|1482|1448|(1:1450)|(1:(8:1453|1454|1455|(1:1457)|1458|(1:1460)(1:1463)|1461|1462)(7:1468|(1:1470)|1471|(1:1473)|1474|1475|1476))(1:1481)|1477|1462)(1:1483)|1445)(1:1484)|1447|1448|(0)|(0)(0)|1477|1462)(4:891|892|(4:894|895|896|897)(1:1429)|898)|(1:900)(1:1424)|901|902|903|(2:(6:910|911|(3:913|914|915)(1:1411)|(7:917|918|919|920|(5:922|923|924|(4:926|(1:928)(1:1327)|929|(1:931)(1:1326))(1:1328)|932)(2:1335|(2:1395|(2:1397|(3:1315|1316|(2:1318|1319))))(16:1340|1341|1342|(4:1376|1377|1378|(3:1380|1381|1382))(1:1344)|1345|1346|1347|1348|1349|(1:1351)|1352|(1:1354)(1:1371)|1355|(2:1361|(4:1365|(1:1367)|1368|1369))|1370|1369))|933|(0))(1:1403)|935|(1:(10:940|941|942|(1:944)(1:1309)|945|946|947|(1:949)(4:1134|(4:1291|1292|(1:1294)|1295)(2:1136|(3:1138|(1:1178)(7:1141|1142|1143|1144|(3:1146|1147|(7:1149|1150|1151|(1:1153)(1:1162)|(1:1155)(1:1161)|1156|1157))(1:1172)|1171|1157)|1158)(3:1179|1180|(4:1182|1183|(1:1185)(1:1282)|(10:1187|1188|(10:1205|1206|1207|(5:(2:1212|1213)|(2:1224|1225)|1226|(1:1242)(5:1230|1231|1232|(1:1234)|1235)|1236)(2:1243|(7:1245|(3:1249|(2:1255|(2:1257|1258)(1:1265))|1266)|1271|1259|(1:1262)|1263|1264))|1192|1193|(1:1195)(1:1198)|1196|1197|1160)(1:1190)|1191|1192|1193|(0)(0)|1196|1197|1160)(4:1278|1279|1280|1281))(3:1283|1284|1285)))|1159|1160)|(2:951|952)(4:(6:955|956|957|(1:959)(3:962|(2:966|(3:1117|1118|(1:1120))(1:(21:969|(1:971)(1:1112)|972|973|(1:1111)(2:977|978)|979|(4:981|982|983|(19:985|986|987|988|989|(14:991|(3:993|994|995)(4:1089|1090|1091|1092)|996|997|(1:1083)(1:1003)|1004|(1:1006)(1:1082)|1007|(2:1011|(7:1013|(1:1015)|1016|(1:1018)(3:1071|(1:1075)|1076)|(9:1028|1029|1030|(2:1032|1033)(1:1063)|1034|1035|1036|(7:1038|1039|1040|1041|1042|1043|1044)(1:1058)|1045)(1:1020)|1021|(3:1023|(1:1025)|1026)(1:1027))(3:1077|(1:1079)|1080))|1081|(0)(0)|(0)(0)|1021|(0)(0))|1097|997|(1:999)|1083|1004|(0)(0)|1007|(3:1009|1011|(0)(0))|1081|(0)(0)|(0)(0)|1021|(0)(0)))(1:1110)|1103|1097|997|(0)|1083|1004|(0)(0)|1007|(0)|1081|(0)(0)|(0)(0)|1021|(0)(0))(1:1113)))|964)|960|961)(1:1133)|965|960|961)|953)))|939)|908|756|757|(1:759)|761))|1536|(4:1538|1539|1540|(25:1542|(1:1544)(1:1551)|1545|1546|(1:1548)(1:1550)|1549|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761))|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761)|728|(0)|806|807|(0)|810|(2:812|814)|815|816|(0)(0)|832|(0)(0)|842|843|844|846|847|848|849|850|851|852|853|854|(0)|1571|861|862|863|864|865|866|(3:869|870|(0))|1536|(0)|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761))|716|(1:718)|1615|(0)|728|(0)|806|807|(0)|810|(0)|815|816|(0)(0)|832|(0)(0)|842|843|844|846|847|848|849|850|851|852|853|854|(0)|1571|861|862|863|864|865|866|(0)|1536|(0)|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761)(1:1665)|(2:782|783)|(1:764)|(2:766|767)(1:781)|(2:776|777)|769|770)(7:673|674|675|(1:682)(1:678)|679|680|681)|85|(0)|88|(0)|(0)|(0)|(0)|(0)|94|(0)(0)))(1:1670)|1668|670|(0)|686|(0)(0)|(0)|(0)|(0)(0)|(0)|769|770|85|(0)|88|(0)|(0)|(0)|(0)|(0)|94|(0)(0)) */
    /* JADX WARN: Can't wrap try/catch for region: R(55:(2:17|(1:19)(2:645|(1:647)(1:648)))(1:(1:650))|(3:21|22|23)(1:644)|618|619|620|(4:622|(1:624)|625|626)|627|(4:629|(1:631)|632|633)|25|26|27|(2:602|603)|29|31|32|33|34|35|36|37|38|39|(2:41|42)|(3:560|561|(31:563|45|46|47|49|50|51|(2:545|546)(1:53)|54|(6:527|528|529|530|531|532)(11:56|57|58|59|60|61|62|63|64|65|66)|67|68|(5:487|488|489|490|491)(1:70)|71|(2:(5:204|205|(2:475|476)|207|(1:(8:212|(1:214)(1:474)|215|216|217|(1:219)(3:286|(4:460|461|(1:463)|464)(2:288|(6:412|413|(4:415|416|417|418)(1:456)|419|(1:453)(5:422|423|424|(1:446)(7:428|429|430|431|(1:433)(1:440)|(1:435)(1:439)|436)|437)|438)(3:290|291|(5:293|294|295|(1:297)(1:397)|(10:299|300|(4:318|319|320|(4:(1:349)(3:325|326|327)|(1:331)|332|(1:341)(9:336|(1:338)(1:340)|339|304|305|306|(1:308)(1:312)|309|310))(8:350|(2:352|(6:354|(3:358|(2:364|(2:366|367)(1:373))|374)|379|368|(1:371)|372)(1:381))(1:385)|304|305|306|(0)(0)|309|310))(1:302)|303|304|305|306|(0)(0)|309|310)(4:393|394|395|396))(3:404|405|406)))|311)|(3:283|284|285)(4:221|(7:223|224|225|226|227|228|(2:230|231))(1:282)|232|233)|234)))(2:74|75)|211)|(2:202|203)|(1:78)|(1:80)|(1:82)|83|84|85|(1:87)|88|(2:126|127)|(2:122|123)|(2:118|119)|(2:114|115)|(2:110|111)|94|(2:96|97)(2:99|(3:106|(1:108)|109)(2:104|105))))|44|45|46|47|49|50|51|(0)(0)|54|(0)(0)|67|68|(0)(0)|71|(7:(0)|204|205|(0)|207|(9:(0)|212|(0)(0)|215|216|217|(0)(0)|(0)(0)|234)|211)|(0)|(0)|(0)|(0)|83|84|85|(0)|88|(0)|(0)|(0)|(0)|(0)|94|(0)(0)) */
    /* JADX WARN: Can't wrap try/catch for region: R(58:688|(12:689|690|691|(3:693|694|695)(2:1659|1660)|696|697|(5:699|(1:701)(2:1646|(1:1648)(1:1649))|702|(2:704|705)(1:1645)|706)(3:1650|(1:1652)(1:1654)|1653)|(2:1638|1639)(1:708)|709|(1:711)(1:1637)|712|713)|(5:(1:715)(2:1616|(2:1618|1619)(60:1620|1621|1622|(1:1615)(4:720|(2:725|726)|1614|726)|(55:1610|1611|(2:730|731)|806|807|(1:809)|810|(1:814)|815|816|(8:818|(1:820)(1:1603)|821|(1:823)(1:1602)|824|(1:826)|827|(1:1601)(1:831))(1:1604)|832|(2:834|(3:837|(1:839)|840))(1:1598)|842|843|844|846|847|848|849|850|851|852|853|854|(1:1571)(3:857|858|(1:860)(1:1566))|861|862|863|864|865|866|(3:869|870|(25:872|873|874|875|876|877|878|879|881|882|883|(2:1516|1517)(1:885)|(2:887|888)(8:1500|1501|1502|1503|1504|1505|1506|1507)|889|(10:1435|1436|1437|(4:1439|1440|(8:1442|(1:1444)|1482|1448|(1:1450)|(1:(8:1453|1454|1455|(1:1457)|1458|(1:1460)(1:1463)|1461|1462)(7:1468|(1:1470)|1471|(1:1473)|1474|1475|1476))(1:1481)|1477|1462)(1:1483)|1445)(1:1484)|1447|1448|(0)|(0)(0)|1477|1462)(4:891|892|(4:894|895|896|897)(1:1429)|898)|(1:900)(1:1424)|901|902|903|(2:(6:910|911|(3:913|914|915)(1:1411)|(7:917|918|919|920|(5:922|923|924|(4:926|(1:928)(1:1327)|929|(1:931)(1:1326))(1:1328)|932)(2:1335|(2:1395|(2:1397|(3:1315|1316|(2:1318|1319))))(16:1340|1341|1342|(4:1376|1377|1378|(3:1380|1381|1382))(1:1344)|1345|1346|1347|1348|1349|(1:1351)|1352|(1:1354)(1:1371)|1355|(2:1361|(4:1365|(1:1367)|1368|1369))|1370|1369))|933|(0))(1:1403)|935|(1:(10:940|941|942|(1:944)(1:1309)|945|946|947|(1:949)(4:1134|(4:1291|1292|(1:1294)|1295)(2:1136|(3:1138|(1:1178)(7:1141|1142|1143|1144|(3:1146|1147|(7:1149|1150|1151|(1:1153)(1:1162)|(1:1155)(1:1161)|1156|1157))(1:1172)|1171|1157)|1158)(3:1179|1180|(4:1182|1183|(1:1185)(1:1282)|(10:1187|1188|(10:1205|1206|1207|(5:(2:1212|1213)|(2:1224|1225)|1226|(1:1242)(5:1230|1231|1232|(1:1234)|1235)|1236)(2:1243|(7:1245|(3:1249|(2:1255|(2:1257|1258)(1:1265))|1266)|1271|1259|(1:1262)|1263|1264))|1192|1193|(1:1195)(1:1198)|1196|1197|1160)(1:1190)|1191|1192|1193|(0)(0)|1196|1197|1160)(4:1278|1279|1280|1281))(3:1283|1284|1285)))|1159|1160)|(2:951|952)(4:(6:955|956|957|(1:959)(3:962|(2:966|(3:1117|1118|(1:1120))(1:(21:969|(1:971)(1:1112)|972|973|(1:1111)(2:977|978)|979|(4:981|982|983|(19:985|986|987|988|989|(14:991|(3:993|994|995)(4:1089|1090|1091|1092)|996|997|(1:1083)(1:1003)|1004|(1:1006)(1:1082)|1007|(2:1011|(7:1013|(1:1015)|1016|(1:1018)(3:1071|(1:1075)|1076)|(9:1028|1029|1030|(2:1032|1033)(1:1063)|1034|1035|1036|(7:1038|1039|1040|1041|1042|1043|1044)(1:1058)|1045)(1:1020)|1021|(3:1023|(1:1025)|1026)(1:1027))(3:1077|(1:1079)|1080))|1081|(0)(0)|(0)(0)|1021|(0)(0))|1097|997|(1:999)|1083|1004|(0)(0)|1007|(3:1009|1011|(0)(0))|1081|(0)(0)|(0)(0)|1021|(0)(0)))(1:1110)|1103|1097|997|(0)|1083|1004|(0)(0)|1007|(0)|1081|(0)(0)|(0)(0)|1021|(0)(0))(1:1113)))|964)|960|961)(1:1133)|965|960|961)|953)))|939)|908|756|757|(1:759)|761))|1536|(4:1538|1539|1540|(25:1542|(1:1544)(1:1551)|1545|1546|(1:1548)(1:1550)|1549|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761))|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761)|728|(0)|806|807|(0)|810|(2:812|814)|815|816|(0)(0)|832|(0)(0)|842|843|844|846|847|848|849|850|851|852|853|854|(0)|1571|861|862|863|864|865|866|(3:869|870|(0))|1536|(0)|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761))|756|757|(0)|761)|716|(1:718)|1615|(0)|728|(0)|806|807|(0)|810|(0)|815|816|(0)(0)|832|(0)(0)|842|843|844|846|847|848|849|850|851|852|853|854|(0)|1571|861|862|863|864|865|866|(0)|1536|(0)|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908) */
    /* JADX WARN: Can't wrap try/catch for region: R(62:688|(12:689|690|691|(3:693|694|695)(2:1659|1660)|696|697|(5:699|(1:701)(2:1646|(1:1648)(1:1649))|702|(2:704|705)(1:1645)|706)(3:1650|(1:1652)(1:1654)|1653)|(2:1638|1639)(1:708)|709|(1:711)(1:1637)|712|713)|(1:715)(2:1616|(2:1618|1619)(60:1620|1621|1622|(1:1615)(4:720|(2:725|726)|1614|726)|(55:1610|1611|(2:730|731)|806|807|(1:809)|810|(1:814)|815|816|(8:818|(1:820)(1:1603)|821|(1:823)(1:1602)|824|(1:826)|827|(1:1601)(1:831))(1:1604)|832|(2:834|(3:837|(1:839)|840))(1:1598)|842|843|844|846|847|848|849|850|851|852|853|854|(1:1571)(3:857|858|(1:860)(1:1566))|861|862|863|864|865|866|(3:869|870|(25:872|873|874|875|876|877|878|879|881|882|883|(2:1516|1517)(1:885)|(2:887|888)(8:1500|1501|1502|1503|1504|1505|1506|1507)|889|(10:1435|1436|1437|(4:1439|1440|(8:1442|(1:1444)|1482|1448|(1:1450)|(1:(8:1453|1454|1455|(1:1457)|1458|(1:1460)(1:1463)|1461|1462)(7:1468|(1:1470)|1471|(1:1473)|1474|1475|1476))(1:1481)|1477|1462)(1:1483)|1445)(1:1484)|1447|1448|(0)|(0)(0)|1477|1462)(4:891|892|(4:894|895|896|897)(1:1429)|898)|(1:900)(1:1424)|901|902|903|(2:(6:910|911|(3:913|914|915)(1:1411)|(7:917|918|919|920|(5:922|923|924|(4:926|(1:928)(1:1327)|929|(1:931)(1:1326))(1:1328)|932)(2:1335|(2:1395|(2:1397|(3:1315|1316|(2:1318|1319))))(16:1340|1341|1342|(4:1376|1377|1378|(3:1380|1381|1382))(1:1344)|1345|1346|1347|1348|1349|(1:1351)|1352|(1:1354)(1:1371)|1355|(2:1361|(4:1365|(1:1367)|1368|1369))|1370|1369))|933|(0))(1:1403)|935|(1:(10:940|941|942|(1:944)(1:1309)|945|946|947|(1:949)(4:1134|(4:1291|1292|(1:1294)|1295)(2:1136|(3:1138|(1:1178)(7:1141|1142|1143|1144|(3:1146|1147|(7:1149|1150|1151|(1:1153)(1:1162)|(1:1155)(1:1161)|1156|1157))(1:1172)|1171|1157)|1158)(3:1179|1180|(4:1182|1183|(1:1185)(1:1282)|(10:1187|1188|(10:1205|1206|1207|(5:(2:1212|1213)|(2:1224|1225)|1226|(1:1242)(5:1230|1231|1232|(1:1234)|1235)|1236)(2:1243|(7:1245|(3:1249|(2:1255|(2:1257|1258)(1:1265))|1266)|1271|1259|(1:1262)|1263|1264))|1192|1193|(1:1195)(1:1198)|1196|1197|1160)(1:1190)|1191|1192|1193|(0)(0)|1196|1197|1160)(4:1278|1279|1280|1281))(3:1283|1284|1285)))|1159|1160)|(2:951|952)(4:(6:955|956|957|(1:959)(3:962|(2:966|(3:1117|1118|(1:1120))(1:(21:969|(1:971)(1:1112)|972|973|(1:1111)(2:977|978)|979|(4:981|982|983|(19:985|986|987|988|989|(14:991|(3:993|994|995)(4:1089|1090|1091|1092)|996|997|(1:1083)(1:1003)|1004|(1:1006)(1:1082)|1007|(2:1011|(7:1013|(1:1015)|1016|(1:1018)(3:1071|(1:1075)|1076)|(9:1028|1029|1030|(2:1032|1033)(1:1063)|1034|1035|1036|(7:1038|1039|1040|1041|1042|1043|1044)(1:1058)|1045)(1:1020)|1021|(3:1023|(1:1025)|1026)(1:1027))(3:1077|(1:1079)|1080))|1081|(0)(0)|(0)(0)|1021|(0)(0))|1097|997|(1:999)|1083|1004|(0)(0)|1007|(3:1009|1011|(0)(0))|1081|(0)(0)|(0)(0)|1021|(0)(0)))(1:1110)|1103|1097|997|(0)|1083|1004|(0)(0)|1007|(0)|1081|(0)(0)|(0)(0)|1021|(0)(0))(1:1113)))|964)|960|961)(1:1133)|965|960|961)|953)))|939)|908|756|757|(1:759)|761))|1536|(4:1538|1539|1540|(25:1542|(1:1544)(1:1551)|1545|1546|(1:1548)(1:1550)|1549|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761))|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761)|728|(0)|806|807|(0)|810|(2:812|814)|815|816|(0)(0)|832|(0)(0)|842|843|844|846|847|848|849|850|851|852|853|854|(0)|1571|861|862|863|864|865|866|(3:869|870|(0))|1536|(0)|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761))|716|(1:718)|1615|(0)|728|(0)|806|807|(0)|810|(0)|815|816|(0)(0)|832|(0)(0)|842|843|844|846|847|848|849|850|851|852|853|854|(0)|1571|861|862|863|864|865|866|(0)|1536|(0)|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761) */
    /* JADX WARN: Can't wrap try/catch for region: R(73:688|689|690|691|(3:693|694|695)(2:1659|1660)|696|697|(5:699|(1:701)(2:1646|(1:1648)(1:1649))|702|(2:704|705)(1:1645)|706)(3:1650|(1:1652)(1:1654)|1653)|(2:1638|1639)(1:708)|709|(1:711)(1:1637)|712|713|(1:715)(2:1616|(2:1618|1619)(60:1620|1621|1622|(1:1615)(4:720|(2:725|726)|1614|726)|(55:1610|1611|(2:730|731)|806|807|(1:809)|810|(1:814)|815|816|(8:818|(1:820)(1:1603)|821|(1:823)(1:1602)|824|(1:826)|827|(1:1601)(1:831))(1:1604)|832|(2:834|(3:837|(1:839)|840))(1:1598)|842|843|844|846|847|848|849|850|851|852|853|854|(1:1571)(3:857|858|(1:860)(1:1566))|861|862|863|864|865|866|(3:869|870|(25:872|873|874|875|876|877|878|879|881|882|883|(2:1516|1517)(1:885)|(2:887|888)(8:1500|1501|1502|1503|1504|1505|1506|1507)|889|(10:1435|1436|1437|(4:1439|1440|(8:1442|(1:1444)|1482|1448|(1:1450)|(1:(8:1453|1454|1455|(1:1457)|1458|(1:1460)(1:1463)|1461|1462)(7:1468|(1:1470)|1471|(1:1473)|1474|1475|1476))(1:1481)|1477|1462)(1:1483)|1445)(1:1484)|1447|1448|(0)|(0)(0)|1477|1462)(4:891|892|(4:894|895|896|897)(1:1429)|898)|(1:900)(1:1424)|901|902|903|(2:(6:910|911|(3:913|914|915)(1:1411)|(7:917|918|919|920|(5:922|923|924|(4:926|(1:928)(1:1327)|929|(1:931)(1:1326))(1:1328)|932)(2:1335|(2:1395|(2:1397|(3:1315|1316|(2:1318|1319))))(16:1340|1341|1342|(4:1376|1377|1378|(3:1380|1381|1382))(1:1344)|1345|1346|1347|1348|1349|(1:1351)|1352|(1:1354)(1:1371)|1355|(2:1361|(4:1365|(1:1367)|1368|1369))|1370|1369))|933|(0))(1:1403)|935|(1:(10:940|941|942|(1:944)(1:1309)|945|946|947|(1:949)(4:1134|(4:1291|1292|(1:1294)|1295)(2:1136|(3:1138|(1:1178)(7:1141|1142|1143|1144|(3:1146|1147|(7:1149|1150|1151|(1:1153)(1:1162)|(1:1155)(1:1161)|1156|1157))(1:1172)|1171|1157)|1158)(3:1179|1180|(4:1182|1183|(1:1185)(1:1282)|(10:1187|1188|(10:1205|1206|1207|(5:(2:1212|1213)|(2:1224|1225)|1226|(1:1242)(5:1230|1231|1232|(1:1234)|1235)|1236)(2:1243|(7:1245|(3:1249|(2:1255|(2:1257|1258)(1:1265))|1266)|1271|1259|(1:1262)|1263|1264))|1192|1193|(1:1195)(1:1198)|1196|1197|1160)(1:1190)|1191|1192|1193|(0)(0)|1196|1197|1160)(4:1278|1279|1280|1281))(3:1283|1284|1285)))|1159|1160)|(2:951|952)(4:(6:955|956|957|(1:959)(3:962|(2:966|(3:1117|1118|(1:1120))(1:(21:969|(1:971)(1:1112)|972|973|(1:1111)(2:977|978)|979|(4:981|982|983|(19:985|986|987|988|989|(14:991|(3:993|994|995)(4:1089|1090|1091|1092)|996|997|(1:1083)(1:1003)|1004|(1:1006)(1:1082)|1007|(2:1011|(7:1013|(1:1015)|1016|(1:1018)(3:1071|(1:1075)|1076)|(9:1028|1029|1030|(2:1032|1033)(1:1063)|1034|1035|1036|(7:1038|1039|1040|1041|1042|1043|1044)(1:1058)|1045)(1:1020)|1021|(3:1023|(1:1025)|1026)(1:1027))(3:1077|(1:1079)|1080))|1081|(0)(0)|(0)(0)|1021|(0)(0))|1097|997|(1:999)|1083|1004|(0)(0)|1007|(3:1009|1011|(0)(0))|1081|(0)(0)|(0)(0)|1021|(0)(0)))(1:1110)|1103|1097|997|(0)|1083|1004|(0)(0)|1007|(0)|1081|(0)(0)|(0)(0)|1021|(0)(0))(1:1113)))|964)|960|961)(1:1133)|965|960|961)|953)))|939)|908|756|757|(1:759)|761))|1536|(4:1538|1539|1540|(25:1542|(1:1544)(1:1551)|1545|1546|(1:1548)(1:1550)|1549|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761))|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761)|728|(0)|806|807|(0)|810|(2:812|814)|815|816|(0)(0)|832|(0)(0)|842|843|844|846|847|848|849|850|851|852|853|854|(0)|1571|861|862|863|864|865|866|(3:869|870|(0))|1536|(0)|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761))|716|(1:718)|1615|(0)|728|(0)|806|807|(0)|810|(0)|815|816|(0)(0)|832|(0)(0)|842|843|844|846|847|848|849|850|851|852|853|854|(0)|1571|861|862|863|864|865|866|(0)|1536|(0)|877|878|879|881|882|883|(0)(0)|(0)(0)|889|(0)(0)|(0)(0)|901|902|903|(8:(0)|910|911|(0)(0)|(0)(0)|935|(11:(0)|940|941|942|(0)(0)|945|946|947|(0)(0)|(0)(0)|953)|939)|908|756|757|(0)|761) */
    /* JADX WARN: Code restructure failed: missing block: B:1188:0x17e3, code lost:
        r55 = r4;
        r8 = r21;
        r7 = r65;
        r3 = r77;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1189:0x1802, code lost:
        throw new java.lang.RuntimeException("unexpected result from decoder.dequeueOutputBuffer: " + r2);
     */
    /* JADX WARN: Code restructure failed: missing block: B:1238:0x1952, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1239:0x1953, code lost:
        r24 = r1;
        r6 = r5;
        r42 = r9;
        r72 = r11;
        r63 = r12;
        r9 = r20;
        r14 = r61;
        r75 = r65;
        r3 = r77;
        r1 = r0;
        r65 = r10;
        r4 = r43;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1248:0x19a6, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1249:0x19a7, code lost:
        r24 = r1;
        r7 = r10;
        r9 = r20;
        r42 = r34;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1252:0x19c6, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1253:0x19c7, code lost:
        r24 = r1;
        r6 = r5;
        r7 = r10;
        r9 = r20;
        r42 = r34;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1256:0x19e0, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1257:0x19e1, code lost:
        r24 = r1;
        r9 = r20;
        r42 = r34;
        r14 = r61;
        r3 = r77;
        r2 = r88;
        r1 = r0;
        r65 = r10;
        r11 = r24;
        r6 = r43;
        r10 = "x";
        r15 = r15;
        r21 = r21;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1258:0x19ff, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1259:0x1a00, code lost:
        r24 = r1;
        r9 = r20;
        r42 = r34;
        r14 = r61;
        r72 = r15;
        r75 = r65;
        r3 = r77;
        r1 = r0;
        r65 = r10;
        r4 = r43;
        r5 = -5;
        r6 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1261:0x1a1c, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1262:0x1a1d, code lost:
        r16 = r5;
        r24 = r19;
        r42 = r34;
        r14 = r61;
        r72 = r15;
        r3 = r77;
        r9 = r8;
        r8 = r12;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1263:0x1a2c, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1264:0x1a2d, code lost:
        r16 = r5;
        r24 = r19;
        r42 = r34;
        r14 = r61;
        r72 = r15;
        r75 = r65;
        r3 = r77;
        r9 = r8;
        r8 = r12;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1265:0x1a3e, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1266:0x1a3f, code lost:
        r16 = r5;
        r8 = r12;
        r9 = r14;
        r3 = r5;
        r72 = r15;
        r24 = r19;
        r42 = r34;
        r14 = r61;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1267:0x1a4c, code lost:
        r2 = r88;
        r1 = r0;
        r21 = r8;
        r11 = r24;
        r6 = r43;
        r10 = "x";
        r15 = r72;
        r5 = null;
        r7 = -5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1268:0x1a5d, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1269:0x1a5e, code lost:
        r16 = r5;
        r8 = r12;
        r9 = r14;
        r3 = r5;
        r72 = r15;
        r24 = r19;
        r42 = r34;
        r14 = r61;
        r75 = r65;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1270:0x1a6d, code lost:
        r1 = r0;
        r21 = r8;
        r4 = r43;
        r5 = -5;
        r6 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1271:0x1a76, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1272:0x1a77, code lost:
        r16 = r5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1273:0x1a7a, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1274:0x1a7b, code lost:
        r16 = r5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1275:0x1a7e, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1276:0x1a7f, code lost:
        r16 = r5;
        r43 = r12;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1277:0x1a83, code lost:
        r9 = r14;
        r3 = r5;
        r42 = r34;
        r14 = r61;
        r2 = r88;
        r1 = r0;
        r11 = r19;
        r6 = r43;
        r10 = "x";
        r15 = r15;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1278:0x1a9a, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1279:0x1a9b, code lost:
        r16 = r5;
        r43 = r12;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1280:0x1a9f, code lost:
        r9 = r14;
        r3 = r5;
        r72 = r15;
        r24 = r19;
        r42 = r34;
        r14 = r61;
        r75 = r65;
        r1 = r0;
        r4 = r43;
        r5 = -5;
        r6 = null;
        r21 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1281:0x1ab4, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1282:0x1ab5, code lost:
        r16 = r5;
        r9 = r14;
        r3 = r5;
        r42 = r34;
        r14 = r61;
        r2 = r88;
        r1 = r0;
        r11 = r19;
        r6 = r12;
        r10 = "x";
        r15 = r15;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1283:0x1ad0, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1284:0x1ad1, code lost:
        r16 = r5;
        r9 = r14;
        r3 = r5;
        r72 = r15;
        r24 = r19;
        r42 = r34;
        r14 = r61;
        r75 = r65;
        r1 = r0;
        r4 = r12;
        r5 = -5;
        r6 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1285:0x1ae8, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1286:0x1ae9, code lost:
        r9 = r14;
        r3 = r5;
        r72 = r15;
        r42 = r34;
        r14 = r61;
        r2 = r88;
        r1 = r0;
        r11 = r19;
        r6 = r12;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1287:0x1afd, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1288:0x1afe, code lost:
        r9 = r14;
        r3 = r5;
        r72 = r15;
        r24 = r19;
        r42 = r34;
        r14 = r61;
        r75 = r65;
        r1 = r0;
        r4 = r12;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1289:0x1b10, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1290:0x1b11, code lost:
        r9 = r14;
        r3 = r5;
        r72 = r15;
        r42 = r34;
        r14 = r61;
        r2 = r88;
        r1 = r0;
        r6 = r4;
        r11 = r19;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1291:0x1b21, code lost:
        r10 = "x";
        r15 = r72;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1292:0x1b27, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1293:0x1b28, code lost:
        r9 = r14;
        r3 = r5;
        r72 = r15;
        r24 = r19;
        r42 = r34;
        r14 = r61;
        r75 = r65;
        r1 = r0;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1389:0x1cde, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1390:0x1cdf, code lost:
        r2 = r88;
        r10 = "x";
        r8 = r14;
        r42 = r33;
        r62 = r34;
        r3 = r5;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1393:0x1cf3, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1394:0x1cf4, code lost:
        r2 = r88;
        r10 = "x";
        r8 = r14;
        r42 = r33;
        r62 = r34;
        r3 = r5;
        r1 = r0;
        r5 = null;
        r7 = -5;
        r9 = null;
        r14 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:284:0x0624, code lost:
        throw new java.lang.RuntimeException("unsupported!!");
     */
    /* JADX WARN: Code restructure failed: missing block: B:32:0x0110, code lost:
        if (r2.useMatrix == null) goto L618;
     */
    /* JADX WARN: Code restructure failed: missing block: B:369:0x07b4, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:370:0x07b5, code lost:
        r21 = r10;
        r3 = r2;
        r14 = r55;
        r65 = r6;
        r15 = r12;
        r42 = r33;
        r62 = r34;
        r57 = r36;
        r6 = r37;
        r16 = r38;
        r10 = "x";
        r5 = null;
        r7 = -5;
        r47 = false;
     */
    /* JADX WARN: Code restructure failed: missing block: B:371:0x07d0, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:372:0x07d1, code lost:
        r17 = r2;
     */
    /* JADX WARN: Code restructure failed: missing block: B:375:0x07db, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:376:0x07dc, code lost:
        r21 = r10;
        r3 = r2;
        r14 = r55;
        r15 = r12;
        r42 = r33;
        r62 = r34;
        r57 = r36;
        r6 = r37;
        r16 = r38;
        r10 = "x";
        r5 = null;
        r7 = -5;
        r47 = false;
        r65 = null;
     */
    /* JADX WARN: Code restructure failed: missing block: B:377:0x07f6, code lost:
        r2 = r88;
        r21 = r21;
     */
    /* JADX WARN: Code restructure failed: missing block: B:378:0x07f9, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:379:0x07fa, code lost:
        r17 = r2;
        r4 = r55;
     */
    /* JADX WARN: Code restructure failed: missing block: B:385:0x082d, code lost:
        r14 = r11;
        r15 = r12;
        r6 = null;
        r10 = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:505:0x0b6b, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:506:0x0b6c, code lost:
        r2 = r88;
        r1 = r0;
        r3 = r15;
        r6 = r3;
        r19 = r19;
     */
    /* JADX WARN: Code restructure failed: missing block: B:657:0x0e83, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:685:0x0f18, code lost:
        r0 = e;
     */
    /* JADX WARN: Code restructure failed: missing block: B:722:0x1000, code lost:
        if (r3.getString(r8).equals("audio/mpeg") != false) goto L1482;
     */
    /* JADX WARN: Code restructure failed: missing block: B:774:0x114e, code lost:
        r0 = th;
     */
    /* JADX WARN: Code restructure failed: missing block: B:776:0x1150, code lost:
        r0 = e;
     */
    /* JADX WARN: Finally extract failed */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:100:0x02d7  */
    /* JADX WARN: Removed duplicated region for block: B:1040:0x15af  */
    /* JADX WARN: Removed duplicated region for block: B:1041:0x15b1  */
    /* JADX WARN: Removed duplicated region for block: B:1045:0x15bd  */
    /* JADX WARN: Removed duplicated region for block: B:1047:0x15d8  */
    /* JADX WARN: Removed duplicated region for block: B:1114:0x16e3 A[Catch: all -> 0x16f6, Exception -> 0x16f9, TryCatch #17 {Exception -> 0x16f9, blocks: (B:1092:0x1688, B:1097:0x169c, B:1114:0x16e3, B:1116:0x16eb, B:1134:0x1715, B:1136:0x1719, B:1156:0x176c, B:1149:0x1757, B:1138:0x1739, B:1140:0x1742, B:1094:0x1692, B:1096:0x1699), top: B:1474:0x1688 }] */
    /* JADX WARN: Removed duplicated region for block: B:1126:0x1704  */
    /* JADX WARN: Removed duplicated region for block: B:1127:0x1707  */
    /* JADX WARN: Removed duplicated region for block: B:1130:0x170d  */
    /* JADX WARN: Removed duplicated region for block: B:1134:0x1715 A[Catch: all -> 0x16f6, Exception -> 0x16f9, TryCatch #17 {Exception -> 0x16f9, blocks: (B:1092:0x1688, B:1097:0x169c, B:1114:0x16e3, B:1116:0x16eb, B:1134:0x1715, B:1136:0x1719, B:1156:0x176c, B:1149:0x1757, B:1138:0x1739, B:1140:0x1742, B:1094:0x1692, B:1096:0x1699), top: B:1474:0x1688 }] */
    /* JADX WARN: Removed duplicated region for block: B:1138:0x1739 A[Catch: all -> 0x16f6, Exception -> 0x16f9, TryCatch #17 {Exception -> 0x16f9, blocks: (B:1092:0x1688, B:1097:0x169c, B:1114:0x16e3, B:1116:0x16eb, B:1134:0x1715, B:1136:0x1719, B:1156:0x176c, B:1149:0x1757, B:1138:0x1739, B:1140:0x1742, B:1094:0x1692, B:1096:0x1699), top: B:1474:0x1688 }] */
    /* JADX WARN: Removed duplicated region for block: B:1144:0x174a  */
    /* JADX WARN: Removed duplicated region for block: B:1145:0x174d  */
    /* JADX WARN: Removed duplicated region for block: B:1176:0x17b4  */
    /* JADX WARN: Removed duplicated region for block: B:1179:0x17c0 A[Catch: all -> 0x1803, Exception -> 0x180d, TryCatch #157 {Exception -> 0x180d, all -> 0x1803, blocks: (B:1169:0x1793, B:1177:0x17ba, B:1179:0x17c0, B:1181:0x17c4, B:1182:0x17c9, B:1188:0x17e3, B:1189:0x1802), top: B:1693:0x1793 }] */
    /* JADX WARN: Removed duplicated region for block: B:1183:0x17d1  */
    /* JADX WARN: Removed duplicated region for block: B:119:0x031f  */
    /* JADX WARN: Removed duplicated region for block: B:1310:0x1b8c  */
    /* JADX WARN: Removed duplicated region for block: B:1313:0x1b93  */
    /* JADX WARN: Removed duplicated region for block: B:1325:0x1bdf A[Catch: all -> 0x1bea, TRY_LEAVE, TryCatch #180 {all -> 0x1bea, blocks: (B:1323:0x1bd6, B:1325:0x1bdf), top: B:1567:0x1bd6 }] */
    /* JADX WARN: Removed duplicated region for block: B:1343:0x1c19  */
    /* JADX WARN: Removed duplicated region for block: B:1350:0x1c4f A[Catch: all -> 0x1c3f, TryCatch #10 {all -> 0x1c3f, blocks: (B:1345:0x1c3a, B:1350:0x1c4f, B:1352:0x1c56), top: B:1469:0x1c3a }] */
    /* JADX WARN: Removed duplicated region for block: B:1352:0x1c56 A[Catch: all -> 0x1c3f, TRY_LEAVE, TryCatch #10 {all -> 0x1c3f, blocks: (B:1345:0x1c3a, B:1350:0x1c4f, B:1352:0x1c56), top: B:1469:0x1c3a }] */
    /* JADX WARN: Removed duplicated region for block: B:1354:0x1c5f  */
    /* JADX WARN: Removed duplicated region for block: B:1361:0x1c7c  */
    /* JADX WARN: Removed duplicated region for block: B:138:0x03a2  */
    /* JADX WARN: Removed duplicated region for block: B:1400:0x1d42  */
    /* JADX WARN: Removed duplicated region for block: B:1423:0x1d7d  */
    /* JADX WARN: Removed duplicated region for block: B:1425:0x1d89  */
    /* JADX WARN: Removed duplicated region for block: B:1469:0x1c3a A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1478:0x1cab A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1482:0x1c96 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1484:0x1ca4 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1486:0x1c9d A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1488:0x02ab A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1492:0x1c83 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1496:0x1d6a A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1500:0x1d71 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1502:0x1d5c A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1507:0x1c63 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1509:0x1d63 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1531:0x02dd A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1539:0x0ebb A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1547:0x1d49 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1550:0x035b A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1552:0x0975 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1560:0x0c75 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1595:0x0fc6 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:161:0x041b  */
    /* JADX WARN: Removed duplicated region for block: B:162:0x042a  */
    /* JADX WARN: Removed duplicated region for block: B:1641:0x0c7d A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1662:0x0f46 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:166:0x043b  */
    /* JADX WARN: Removed duplicated region for block: B:1679:0x1334 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:167:0x0449  */
    /* JADX WARN: Removed duplicated region for block: B:1685:0x03d2 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1687:0x1762 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1728:0x067c A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1729:0x0668 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:19:0x00ea  */
    /* JADX WARN: Removed duplicated region for block: B:300:0x065b  */
    /* JADX WARN: Removed duplicated region for block: B:301:0x065d  */
    /* JADX WARN: Removed duplicated region for block: B:424:0x0933 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:441:0x0998 A[Catch: all -> 0x097a, TryCatch #138 {all -> 0x097a, blocks: (B:436:0x0975, B:441:0x0998, B:443:0x099e, B:445:0x09a7, B:446:0x09aa), top: B:1552:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:443:0x099e A[Catch: all -> 0x097a, TryCatch #138 {all -> 0x097a, blocks: (B:436:0x0975, B:441:0x0998, B:443:0x099e, B:445:0x09a7, B:446:0x09aa), top: B:1552:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:445:0x09a7 A[Catch: all -> 0x097a, TryCatch #138 {all -> 0x097a, blocks: (B:436:0x0975, B:441:0x0998, B:443:0x099e, B:445:0x09a7, B:446:0x09aa), top: B:1552:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:461:0x0a2c  */
    /* JADX WARN: Removed duplicated region for block: B:498:0x0b58  */
    /* JADX WARN: Removed duplicated region for block: B:585:0x0ca9 A[Catch: all -> 0x0c82, Exception -> 0x0c95, TRY_ENTER, TRY_LEAVE, TryCatch #184 {Exception -> 0x0c95, all -> 0x0c82, blocks: (B:577:0x0c7d, B:585:0x0ca9, B:588:0x0ce4, B:590:0x0cea, B:594:0x0d06, B:596:0x0d10, B:598:0x0d1c, B:600:0x0d24, B:602:0x0d30, B:604:0x0d38, B:616:0x0d5b, B:622:0x0d6f), top: B:1641:0x0c7d }] */
    /* JADX WARN: Removed duplicated region for block: B:588:0x0ce4 A[Catch: all -> 0x0c82, Exception -> 0x0c95, TRY_ENTER, TryCatch #184 {Exception -> 0x0c95, all -> 0x0c82, blocks: (B:577:0x0c7d, B:585:0x0ca9, B:588:0x0ce4, B:590:0x0cea, B:594:0x0d06, B:596:0x0d10, B:598:0x0d1c, B:600:0x0d24, B:602:0x0d30, B:604:0x0d38, B:616:0x0d5b, B:622:0x0d6f), top: B:1641:0x0c7d }] */
    /* JADX WARN: Removed duplicated region for block: B:594:0x0d06 A[Catch: all -> 0x0c82, Exception -> 0x0c95, TRY_ENTER, TryCatch #184 {Exception -> 0x0c95, all -> 0x0c82, blocks: (B:577:0x0c7d, B:585:0x0ca9, B:588:0x0ce4, B:590:0x0cea, B:594:0x0d06, B:596:0x0d10, B:598:0x0d1c, B:600:0x0d24, B:602:0x0d30, B:604:0x0d38, B:616:0x0d5b, B:622:0x0d6f), top: B:1641:0x0c7d }] */
    /* JADX WARN: Removed duplicated region for block: B:613:0x0d4c  */
    /* JADX WARN: Removed duplicated region for block: B:616:0x0d5b A[Catch: all -> 0x0c82, Exception -> 0x0c95, TryCatch #184 {Exception -> 0x0c95, all -> 0x0c82, blocks: (B:577:0x0c7d, B:585:0x0ca9, B:588:0x0ce4, B:590:0x0cea, B:594:0x0d06, B:596:0x0d10, B:598:0x0d1c, B:600:0x0d24, B:602:0x0d30, B:604:0x0d38, B:616:0x0d5b, B:622:0x0d6f), top: B:1641:0x0c7d }] */
    /* JADX WARN: Removed duplicated region for block: B:624:0x0d75  */
    /* JADX WARN: Removed duplicated region for block: B:633:0x0db0 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:649:0x0e31 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:652:0x0e39  */
    /* JADX WARN: Removed duplicated region for block: B:700:0x0f7f  */
    /* JADX WARN: Removed duplicated region for block: B:702:0x0f83 A[Catch: all -> 0x0f4f, Exception -> 0x0f65, TRY_LEAVE, TryCatch #173 {Exception -> 0x0f65, all -> 0x0f4f, blocks: (B:694:0x0f46, B:702:0x0f83), top: B:1662:0x0f46 }] */
    /* JADX WARN: Removed duplicated region for block: B:704:0x0f99  */
    /* JADX WARN: Removed duplicated region for block: B:728:0x1015  */
    /* JADX WARN: Removed duplicated region for block: B:730:0x1018  */
    /* JADX WARN: Removed duplicated region for block: B:755:0x10bf  */
    /* JADX WARN: Removed duplicated region for block: B:765:0x1105  */
    /* JADX WARN: Removed duplicated region for block: B:781:0x115b  */
    /* JADX WARN: Removed duplicated region for block: B:782:0x115d  */
    /* JADX WARN: Removed duplicated region for block: B:786:0x1183 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:792:0x11a1  */
    /* JADX WARN: Removed duplicated region for block: B:799:0x11d4  */
    /* JADX WARN: Removed duplicated region for block: B:801:0x11da  */
    /* JADX WARN: Removed duplicated region for block: B:901:0x137f  */
    /* JADX WARN: Removed duplicated region for block: B:904:0x139b A[ADDED_TO_REGION, EDGE_INSN: B:904:0x139b->B:1745:0x139e ?: BREAK  ] */
    /* JADX WARN: Removed duplicated region for block: B:910:0x13c0  */
    /* JADX WARN: Removed duplicated region for block: B:911:0x13d1  */
    /* JADX WARN: Removed duplicated region for block: B:915:0x13e4  */
    /* JADX WARN: Removed duplicated region for block: B:916:0x13f6  */
    /* JADX WARN: Type inference failed for: r10v162, types: [org.telegram.messenger.video.MediaCodecVideoConvertor$Muxer] */
    /* JADX WARN: Type inference failed for: r15v186, types: [java.lang.StringBuilder] */
    /* JADX WARN: Type inference failed for: r1v158, types: [android.media.MediaExtractor] */
    /* JADX WARN: Type inference failed for: r1v21, types: [java.lang.String] */
    /* JADX WARN: Type inference failed for: r1v258 */
    /* JADX WARN: Type inference failed for: r1v259 */
    /* JADX WARN: Type inference failed for: r1v260 */
    /* JADX WARN: Type inference failed for: r1v261 */
    /* JADX WARN: Type inference failed for: r1v262 */
    /* JADX WARN: Type inference failed for: r1v267, types: [java.lang.String] */
    /* JADX WARN: Type inference failed for: r1v268 */
    /* JADX WARN: Type inference failed for: r1v269 */
    /* JADX WARN: Type inference failed for: r1v309 */
    /* JADX WARN: Type inference failed for: r1v311 */
    /* JADX WARN: Type inference failed for: r20v27 */
    /* JADX WARN: Type inference failed for: r20v28 */
    /* JADX WARN: Type inference failed for: r20v8, types: [android.media.MediaCodec] */
    /* JADX WARN: Type inference failed for: r21v18, types: [int] */
    /* JADX WARN: Type inference failed for: r21v19 */
    /* JADX WARN: Type inference failed for: r21v20 */
    /* JADX WARN: Type inference failed for: r21v23 */
    /* JADX WARN: Type inference failed for: r21v44 */
    /* JADX WARN: Type inference failed for: r21v45 */
    /* JADX WARN: Type inference failed for: r21v46 */
    /* JADX WARN: Type inference failed for: r24v109 */
    /* JADX WARN: Type inference failed for: r2v18, types: [boolean] */
    /* JADX WARN: Type inference failed for: r2v198, types: [android.media.MediaFormat, java.lang.Object] */
    /* JADX WARN: Type inference failed for: r3v1, types: [long] */
    /* JADX WARN: Type inference failed for: r4v4, types: [java.lang.StringBuilder] */
    /* JADX WARN: Type inference failed for: r5v44, types: [android.media.MediaExtractor] */
    /* JADX WARN: Type inference failed for: r5v75 */
    /* JADX WARN: Type inference failed for: r6v257 */
    /* JADX WARN: Type inference failed for: r6v61, types: [org.telegram.messenger.video.MP4Builder] */
    /* JADX WARN: Type inference failed for: r7v112 */
    /* JADX WARN: Type inference failed for: r7v196 */
    /* JADX WARN: Type inference failed for: r7v197 */
    /* JADX WARN: Type inference failed for: r7v62, types: [long] */
    /* JADX WARN: Type inference failed for: r7v78 */
    /* JADX WARN: Type inference failed for: r86v0, types: [org.telegram.messenger.video.MediaCodecVideoConvertor] */
    /* JADX WARN: Type inference failed for: r8v103, types: [org.telegram.messenger.video.MediaCodecVideoConvertor$Muxer] */
    /* JADX WARN: Type inference failed for: r8v48, types: [org.telegram.messenger.video.Mp4Movie] */
    /* JADX WARN: Type inference failed for: r9v106 */
    /* JADX WARN: Type inference failed for: r9v118 */
    /* JADX WARN: Type inference failed for: r9v158 */
    /* JADX WARN: Type inference failed for: r9v159 */
    /* JADX WARN: Type inference failed for: r9v163 */
    /* JADX WARN: Type inference failed for: r9v180 */
    /* JADX WARN: Type inference failed for: r9v52 */
    /* JADX WARN: Type inference failed for: r9v90 */
    /* JADX WARN: Type inference failed for: r9v91 */
    @TargetApi(18)
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private boolean convertVideoInternal(ConvertVideoParams convertVideoParams, boolean z, int i) {
        String str;
        String str2;
        boolean z2;
        String str3;
        int i2;
        File file;
        File file2;
        int i3;
        Throwable th;
        MediaCodec mediaCodec;
        int i4;
        MediaCodec mediaCodec2;
        MediaCodec.BufferInfo bufferInfo;
        String str4;
        InputSurface inputSurface;
        boolean z3;
        boolean z4;
        OutputSurface outputSurface;
        int i5;
        InputSurface inputSurface2;
        MediaExtractor mediaExtractor;
        Muxer muxer;
        String str5;
        boolean z5;
        boolean z6;
        boolean z7;
        int findTrack;
        boolean z8;
        String str6;
        int i6;
        int i7;
        boolean z9;
        int i8;
        boolean z10;
        MediaCodec mediaCodec3;
        OutputSurface outputSurface2;
        AudioRecoder audioRecoder;
        int i9;
        MediaCodec mediaCodec4;
        boolean z11;
        MediaCodec mediaCodec5;
        OutputSurface outputSurface3;
        int i10;
        InputSurface inputSurface3;
        MediaCodec mediaCodec6;
        int i11;
        int i12;
        int i13;
        int i14;
        int i15;
        int i16;
        Exception exc;
        int i17;
        int i18;
        MediaCodec mediaCodec7;
        MediaCodec mediaCodec8;
        AudioRecoder audioRecoder2;
        int i19;
        long j;
        int i20;
        long j2;
        MediaFormat trackFormat;
        int i21;
        int i22;
        int i23;
        String str7;
        String str8;
        long j3;
        long j4;
        long j5;
        long j6;
        int i24;
        int i25;
        int i26;
        MediaCodec createByCodecName;
        MediaFormat createVideoFormat;
        int i27;
        boolean z12;
        MediaFormat mediaFormat;
        float f;
        boolean z13;
        int i28;
        int i29;
        int i30;
        InputSurface inputSurface4;
        StoryEntry.HDRInfo hDRInfo;
        OutputSurface outputSurface4;
        int i31;
        MediaController.CropState cropState;
        InputSurface inputSurface5;
        InputSurface inputSurface6;
        MediaCodec mediaCodec9;
        Object obj;
        boolean z14;
        String str9;
        long j7;
        long j8;
        int i32;
        MediaFormat mediaFormat2;
        int i33;
        int i34;
        long j9;
        int i35;
        InputSurface inputSurface7;
        ?? r20;
        int i36;
        MediaCodec mediaCodec10;
        int i37;
        OutputSurface outputSurface5;
        OutputSurface outputSurface6;
        int i38;
        ByteBuffer[] inputBuffers;
        ByteBuffer[] outputBuffers;
        boolean z15;
        File file3;
        int i39;
        InputSurface inputSurface8;
        ConvertVideoParams convertVideoParams2;
        String str10;
        boolean z16;
        boolean equals;
        int i40;
        ByteBuffer[] byteBufferArr;
        boolean z17;
        long j10;
        AudioRecoder audioRecoder3;
        int i41;
        int i42;
        ByteBuffer byteBuffer;
        boolean z18;
        long j11;
        boolean z19;
        int i43;
        int i44;
        long j12;
        ByteBuffer byteBuffer2;
        ByteBuffer byteBuffer3;
        int i45;
        long j13;
        boolean z20;
        int i46;
        boolean z21;
        boolean z22;
        boolean z23;
        long j14;
        ByteBuffer byteBuffer4;
        InputSurface inputSurface9;
        MediaCodec mediaCodec11;
        int i47;
        long j15;
        ConvertVideoParams convertVideoParams3;
        int i48;
        InputSurface inputSurface10;
        InputSurface inputSurface11;
        boolean z24;
        boolean z25;
        ByteBuffer[] byteBufferArr2;
        boolean z26;
        boolean z27;
        int i49;
        int i50;
        InputSurface inputSurface12;
        InputSurface inputSurface13;
        int i51;
        InputSurface inputSurface14;
        Exception e;
        boolean z28;
        int i52;
        long j16;
        int i53;
        InputSurface inputSurface15;
        MediaCodec mediaCodec12;
        InputSurface inputSurface16;
        ?? r7;
        ConvertVideoParams convertVideoParams4;
        int i54;
        int i55;
        MediaCodec mediaCodec13;
        int i56;
        int i57;
        InputSurface inputSurface17;
        int i58;
        boolean z29;
        boolean z30;
        long j17;
        int i59;
        int dequeueOutputBuffer;
        int i60;
        int i61;
        MediaCodec mediaCodec14;
        long j18;
        String str11;
        int i62;
        int i63;
        int i64;
        int i65;
        ByteBuffer outputBuffer;
        ByteBuffer byteBuffer5;
        ByteBuffer byteBuffer6;
        MediaController.VideoConvertorListener videoConvertorListener;
        int i66;
        int i67;
        int i68;
        int i69;
        int i70;
        long j19;
        long j20;
        OutputSurface outputSurface7;
        ConvertVideoParams convertVideoParams5;
        InputSurface inputSurface18;
        InputSurface inputSurface19;
        boolean z31;
        boolean z32;
        long j21;
        boolean z33;
        boolean z34;
        boolean z35;
        boolean z36;
        long j22;
        long j23;
        long j24;
        boolean z37;
        boolean z38;
        InputSurface inputSurface20;
        InputSurface inputSurface21;
        boolean z39;
        int i71;
        ByteBuffer byteBuffer7;
        int i72;
        ByteBuffer byteBuffer8;
        MediaController.VideoConvertorListener videoConvertorListener2;
        int i73;
        int i74;
        ByteBuffer inputBuffer;
        InputSurface inputSurface22;
        MediaController.CropState cropState2;
        InputSurface inputSurface23;
        int i75;
        int i76;
        int i77;
        InputSurface inputSurface24;
        InputSurface inputSurface25;
        InputSurface inputSurface26;
        InputSurface inputSurface27;
        InputSurface inputSurface28;
        MediaExtractor mediaExtractor2;
        Muxer muxer2;
        MediaController.CropState cropState3;
        Exception exc2;
        int i78;
        int i79;
        MediaCodec.BufferInfo bufferInfo2;
        OutputSurface outputSurface8;
        InputSurface inputSurface29;
        AudioRecoder audioRecoder4;
        String str12;
        int i80;
        InputSurface inputSurface30;
        int i81;
        InputSurface inputSurface31;
        int i82;
        InputSurface inputSurface32;
        String str13;
        int i83;
        boolean z40;
        OutputSurface outputSurface9;
        InputSurface inputSurface33;
        InputSurface inputSurface34;
        int i84;
        String name;
        String str14;
        InputSurface inputSurface35;
        OutputSurface outputSurface10;
        MediaController.CropState cropState4;
        int i85;
        ByteBuffer[] outputBuffers2;
        ByteBuffer[] byteBufferArr3;
        InputSurface inputSurface36;
        ConvertVideoParams convertVideoParams6;
        InputSurface inputSurface37;
        InputSurface inputSurface38;
        InputSurface inputSurface39;
        AudioRecoder audioRecoder5;
        int addTrack;
        boolean z41;
        boolean z42;
        boolean z43;
        boolean z44;
        int i86;
        InputSurface inputSurface40;
        InputSurface inputSurface41;
        InputSurface inputSurface42;
        boolean z45;
        int i87;
        boolean z46;
        int i88;
        int i89;
        long j25;
        int dequeueOutputBuffer2;
        Object obj2;
        OutputSurface outputSurface11;
        int i90;
        String str15;
        InputSurface inputSurface43;
        int i91;
        int i92;
        ByteBuffer outputBuffer2;
        int i93;
        boolean z47;
        ByteBuffer byteBuffer9;
        ByteBuffer byteBuffer10;
        MediaController.VideoConvertorListener videoConvertorListener3;
        InputSurface inputSurface44;
        InputSurface inputSurface45;
        String str16 = convertVideoParams.videoPath;
        File file4 = convertVideoParams.cacheFile;
        int i94 = convertVideoParams.rotationValue;
        boolean z48 = convertVideoParams.isSecret;
        int i95 = convertVideoParams.originalWidth;
        int i96 = convertVideoParams.originalHeight;
        int i97 = convertVideoParams.resultWidth;
        int i98 = convertVideoParams.resultHeight;
        int i99 = convertVideoParams.framerate;
        int i100 = convertVideoParams.bitrate;
        int i101 = convertVideoParams.originalBitrate;
        ?? r3 = convertVideoParams.startTime;
        long j26 = convertVideoParams.endTime;
        long j27 = convertVideoParams.avatarStartTime;
        File file5 = convertVideoParams.needCompress ? 1 : 0;
        File file6 = file4;
        long j28 = convertVideoParams.duration;
        MediaController.SavedFilterState savedFilterState = convertVideoParams.savedFilterState;
        String str17 = convertVideoParams.paintPath;
        String str18 = convertVideoParams.blurPath;
        ArrayList<VideoEditedInfo.MediaEntity> arrayList = convertVideoParams.mediaEntities;
        boolean z49 = convertVideoParams.isPhoto;
        MediaController.CropState cropState5 = convertVideoParams.cropState;
        boolean z50 = convertVideoParams.isRound;
        Integer num = convertVideoParams.gradientTopColor;
        Integer num2 = convertVideoParams.gradientBottomColor;
        boolean z51 = convertVideoParams.muted;
        float f2 = convertVideoParams.volume;
        boolean z52 = convertVideoParams.isStory;
        StoryEntry.HDRInfo hDRInfo2 = convertVideoParams.hdrInfo;
        FileLog.d("convertVideoInternal original=" + i95 + "x" + i96 + "  result=" + i97 + "x" + i98 + " " + j27);
        long currentTimeMillis = System.currentTimeMillis();
        boolean z53 = j27 >= 0;
        boolean z54 = convertVideoParams.isSticker;
        try {
            if (z54) {
                str = "video/x-vnd.on2.vp9";
            } else if (z52) {
                str2 = "video/hevc";
                this.outputMimeType = str2;
                long j29 = j27;
                float f3 = ((float) j28) / 1000.0f;
                MediaCodec.BufferInfo bufferInfo3 = new MediaCodec.BufferInfo();
                long j30 = j28 * 1000;
                this.endPresentationTime = j30;
                checkConversionCanceled();
                Object obj3 = "prepend-sps-pps-to-idr-frames";
                String str19 = "csd-0";
                if (!z49) {
                    if (z53) {
                        i100 = f3 <= 2000.0f ? 2600000 : f3 <= 5000.0f ? 2200000 : 1560000;
                    } else if (i100 <= 0) {
                        i100 = 921600;
                    }
                    if (cropState5 != null) {
                        cropState3 = cropState5;
                        try {
                        } catch (Exception e2) {
                            exc2 = e2;
                            i78 = i100;
                            i79 = i99;
                            bufferInfo2 = bufferInfo3;
                            outputSurface8 = null;
                            mediaCodec2 = null;
                            inputSurface29 = null;
                            audioRecoder4 = null;
                            z6 = false;
                            str12 = null;
                            i80 = -5;
                            inputSurface30 = inputSurface29;
                            try {
                                if (exc2 instanceof IllegalStateException) {
                                }
                                try {
                                    StringBuilder sb = new StringBuilder();
                                    sb.append("bitrate: ");
                                    i81 = i78;
                                    try {
                                        sb.append(i81);
                                        sb.append(" framerate: ");
                                        i82 = i79;
                                        try {
                                            sb.append(i82);
                                            sb.append(" size: ");
                                            sb.append(i98);
                                            str13 = "x";
                                            try {
                                                sb.append(str13);
                                                sb.append(i97);
                                                FileLog.e(sb.toString());
                                                FileLog.e(exc2);
                                                i83 = i98;
                                                z40 = z3;
                                                z11 = true;
                                                outputSurface9 = outputSurface8;
                                                inputSurface34 = inputSurface30;
                                                if (outputSurface9 != null) {
                                                }
                                                if (inputSurface34 != null) {
                                                }
                                                if (mediaCodec2 != null) {
                                                }
                                                if (audioRecoder4 != null) {
                                                }
                                                checkConversionCanceled();
                                                i11 = i83;
                                                i100 = i81;
                                                inputSurface3 = inputSurface34;
                                                file = file6;
                                                file2 = file5;
                                                str4 = str12;
                                                i10 = i80;
                                                mediaCodec6 = null;
                                                z2 = z;
                                                z5 = z40;
                                                outputSurface3 = outputSurface9;
                                                bufferInfo = bufferInfo2;
                                                mediaExtractor2 = this.extractor;
                                                if (mediaExtractor2 != null) {
                                                }
                                                muxer2 = this.muxer;
                                                if (muxer2 != null) {
                                                }
                                                if (mediaCodec2 != null) {
                                                }
                                                if (mediaCodec6 != null) {
                                                }
                                                if (outputSurface3 != null) {
                                                }
                                                if (inputSurface3 != null) {
                                                }
                                                str5 = str4;
                                                i5 = i11;
                                                z7 = z11;
                                            } catch (Throwable th2) {
                                                z2 = z;
                                                th = th2;
                                                outputSurface = outputSurface8;
                                                inputSurface32 = inputSurface30;
                                                str3 = str13;
                                                i5 = i98;
                                                file = file6;
                                                file2 = file5;
                                                z4 = z6;
                                                str4 = str12;
                                                mediaCodec = null;
                                                i100 = i81;
                                                bufferInfo = bufferInfo2;
                                                i3 = i82;
                                                i4 = i80;
                                                inputSurface2 = inputSurface32;
                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                FileLog.e(th);
                                                mediaExtractor = this.extractor;
                                                if (mediaExtractor != null) {
                                                }
                                                muxer = this.muxer;
                                                if (muxer != null) {
                                                }
                                                if (mediaCodec2 != null) {
                                                }
                                                if (mediaCodec != null) {
                                                }
                                                if (outputSurface != null) {
                                                }
                                                if (inputSurface2 != null) {
                                                }
                                                str5 = str4;
                                                z5 = z3;
                                                z6 = z4;
                                                z7 = true;
                                                if (z5) {
                                                }
                                            }
                                        } catch (Throwable th3) {
                                            z2 = z;
                                            th = th3;
                                            outputSurface = outputSurface8;
                                            inputSurface32 = inputSurface30;
                                            i5 = i98;
                                            file = file6;
                                            file2 = file5;
                                            z4 = z6;
                                            str4 = str12;
                                            str3 = "x";
                                        }
                                    } catch (Throwable th4) {
                                        th = th4;
                                        z2 = z;
                                        th = th;
                                        outputSurface = outputSurface8;
                                        inputSurface31 = inputSurface30;
                                        i5 = i98;
                                        file = file6;
                                        file2 = file5;
                                        z4 = z6;
                                        str4 = str12;
                                        i4 = i80;
                                        str3 = "x";
                                        mediaCodec = null;
                                        i100 = i81;
                                        bufferInfo = bufferInfo2;
                                        i3 = i79;
                                        inputSurface2 = inputSurface31;
                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                        FileLog.e(th);
                                        mediaExtractor = this.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        muxer = this.muxer;
                                        if (muxer != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface2 != null) {
                                        }
                                        str5 = str4;
                                        z5 = z3;
                                        z6 = z4;
                                        z7 = true;
                                        if (z5) {
                                        }
                                    }
                                } catch (Throwable th5) {
                                    th = th5;
                                    i81 = i78;
                                }
                            } catch (Throwable th6) {
                                i81 = i78;
                                z2 = z;
                                th = th6;
                                outputSurface = outputSurface8;
                                inputSurface31 = inputSurface30;
                                i5 = i98;
                                file = file6;
                                file2 = file5;
                                z4 = z6;
                                str4 = str12;
                                i4 = i80;
                                str3 = "x";
                                mediaCodec = null;
                                z3 = false;
                            }
                            if (z5) {
                            }
                        } catch (Throwable th7) {
                            z2 = z;
                            th = th7;
                            i5 = i98;
                            file = file6;
                            file2 = file5;
                            i3 = i99;
                            str3 = "x";
                            bufferInfo = bufferInfo3;
                            mediaCodec = null;
                            i4 = -5;
                            mediaCodec2 = null;
                            str4 = null;
                            inputSurface4 = null;
                            z3 = false;
                            z4 = false;
                            outputSurface = null;
                            inputSurface2 = inputSurface4;
                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                            FileLog.e(th);
                            mediaExtractor = this.extractor;
                            if (mediaExtractor != null) {
                            }
                            muxer = this.muxer;
                            if (muxer != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface2 != null) {
                            }
                            str5 = str4;
                            z5 = z3;
                            z6 = z4;
                            z7 = true;
                            if (z5) {
                            }
                        }
                    } else {
                        cropState3 = cropState5;
                    }
                    try {
                        if (i97 % 16 != 0) {
                            if (BuildVars.LOGS_ENABLED) {
                                FileLog.d("changing width from " + i97 + " to " + (Math.round(i97 / 16.0f) * 16));
                            }
                            i97 = Math.round(i97 / 16.0f) * 16;
                        }
                        if (i98 % 16 != 0) {
                            if (BuildVars.LOGS_ENABLED) {
                                FileLog.d("changing height from " + i98 + " to " + (Math.round(i98 / 16.0f) * 16));
                            }
                            i98 = Math.round(i98 / 16.0f) * 16;
                        }
                        i5 = i98;
                        i84 = i97;
                        try {
                            if (BuildVars.LOGS_ENABLED) {
                                try {
                                    FileLog.d("create photo encoder " + i84 + " " + i5 + " duration = " + j28);
                                } catch (Exception e3) {
                                    exc2 = e3;
                                    i78 = i100;
                                    i98 = i5;
                                    i97 = i84;
                                    i79 = i99;
                                    bufferInfo2 = bufferInfo3;
                                    outputSurface8 = null;
                                    mediaCodec2 = null;
                                    inputSurface29 = null;
                                    audioRecoder4 = null;
                                    z6 = false;
                                    str12 = null;
                                    i80 = -5;
                                    inputSurface30 = inputSurface29;
                                    if (exc2 instanceof IllegalStateException) {
                                    }
                                    StringBuilder sb2 = new StringBuilder();
                                    sb2.append("bitrate: ");
                                    i81 = i78;
                                    sb2.append(i81);
                                    sb2.append(" framerate: ");
                                    i82 = i79;
                                    sb2.append(i82);
                                    sb2.append(" size: ");
                                    sb2.append(i98);
                                    str13 = "x";
                                    sb2.append(str13);
                                    sb2.append(i97);
                                    FileLog.e(sb2.toString());
                                    FileLog.e(exc2);
                                    i83 = i98;
                                    z40 = z3;
                                    z11 = true;
                                    outputSurface9 = outputSurface8;
                                    inputSurface34 = inputSurface30;
                                    if (outputSurface9 != null) {
                                    }
                                    if (inputSurface34 != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (audioRecoder4 != null) {
                                    }
                                    checkConversionCanceled();
                                    i11 = i83;
                                    i100 = i81;
                                    inputSurface3 = inputSurface34;
                                    file = file6;
                                    file2 = file5;
                                    str4 = str12;
                                    i10 = i80;
                                    mediaCodec6 = null;
                                    z2 = z;
                                    z5 = z40;
                                    outputSurface3 = outputSurface9;
                                    bufferInfo = bufferInfo2;
                                    mediaExtractor2 = this.extractor;
                                    if (mediaExtractor2 != null) {
                                    }
                                    muxer2 = this.muxer;
                                    if (muxer2 != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec6 != null) {
                                    }
                                    if (outputSurface3 != null) {
                                    }
                                    if (inputSurface3 != null) {
                                    }
                                    str5 = str4;
                                    i5 = i11;
                                    z7 = z11;
                                    if (z5) {
                                    }
                                } catch (Throwable th8) {
                                    z2 = z;
                                    th = th8;
                                    i97 = i84;
                                    file = file6;
                                    file2 = file5;
                                    i3 = i99;
                                    str3 = "x";
                                    bufferInfo = bufferInfo3;
                                    mediaCodec = null;
                                    i4 = -5;
                                    mediaCodec2 = null;
                                    str4 = null;
                                    inputSurface4 = null;
                                    z3 = false;
                                    z4 = false;
                                    outputSurface = null;
                                    inputSurface2 = inputSurface4;
                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                    FileLog.e(th);
                                    mediaExtractor = this.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    muxer = this.muxer;
                                    if (muxer != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface2 != null) {
                                    }
                                    str5 = str4;
                                    z5 = z3;
                                    z6 = z4;
                                    z7 = true;
                                    if (z5) {
                                    }
                                }
                            }
                            mediaCodec2 = createEncoderForMimeType();
                        } catch (Exception e4) {
                            i78 = i100;
                            i79 = i99;
                            bufferInfo2 = bufferInfo3;
                            exc2 = e4;
                            i98 = i5;
                            i97 = i84;
                            outputSurface8 = null;
                            mediaCodec2 = null;
                            inputSurface29 = null;
                            audioRecoder4 = null;
                            z6 = false;
                            str12 = null;
                            i80 = -5;
                            inputSurface30 = inputSurface29;
                            if (exc2 instanceof IllegalStateException) {
                            }
                            StringBuilder sb22 = new StringBuilder();
                            sb22.append("bitrate: ");
                            i81 = i78;
                            sb22.append(i81);
                            sb22.append(" framerate: ");
                            i82 = i79;
                            sb22.append(i82);
                            sb22.append(" size: ");
                            sb22.append(i98);
                            str13 = "x";
                            sb22.append(str13);
                            sb22.append(i97);
                            FileLog.e(sb22.toString());
                            FileLog.e(exc2);
                            i83 = i98;
                            z40 = z3;
                            z11 = true;
                            outputSurface9 = outputSurface8;
                            inputSurface34 = inputSurface30;
                            if (outputSurface9 != null) {
                            }
                            if (inputSurface34 != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (audioRecoder4 != null) {
                            }
                            checkConversionCanceled();
                            i11 = i83;
                            i100 = i81;
                            inputSurface3 = inputSurface34;
                            file = file6;
                            file2 = file5;
                            str4 = str12;
                            i10 = i80;
                            mediaCodec6 = null;
                            z2 = z;
                            z5 = z40;
                            outputSurface3 = outputSurface9;
                            bufferInfo = bufferInfo2;
                            mediaExtractor2 = this.extractor;
                            if (mediaExtractor2 != null) {
                            }
                            muxer2 = this.muxer;
                            if (muxer2 != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec6 != null) {
                            }
                            if (outputSurface3 != null) {
                            }
                            if (inputSurface3 != null) {
                            }
                            str5 = str4;
                            i5 = i11;
                            z7 = z11;
                            if (z5) {
                            }
                        } catch (Throwable th9) {
                            z2 = z;
                            th = th9;
                            bufferInfo = bufferInfo3;
                            i97 = i84;
                            file = file6;
                            file2 = file5;
                            i3 = i99;
                            str3 = "x";
                            mediaCodec = null;
                            i4 = -5;
                            mediaCodec2 = null;
                            str4 = null;
                            inputSurface4 = null;
                            z3 = false;
                            z4 = false;
                            outputSurface = null;
                            inputSurface2 = inputSurface4;
                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                            FileLog.e(th);
                            mediaExtractor = this.extractor;
                            if (mediaExtractor != null) {
                            }
                            muxer = this.muxer;
                            if (muxer != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface2 != null) {
                            }
                            str5 = str4;
                            z5 = z3;
                            z6 = z4;
                            z7 = true;
                            if (z5) {
                            }
                        }
                        try {
                            MediaFormat createVideoFormat2 = MediaFormat.createVideoFormat(this.outputMimeType, i84, i5);
                            createVideoFormat2.setInteger("color-format", 2130708361);
                            createVideoFormat2.setInteger("bitrate", i100);
                            createVideoFormat2.setInteger("frame-rate", 30);
                            createVideoFormat2.setInteger("i-frame-interval", 1);
                            name = mediaCodec2.getName();
                            try {
                                z6 = "c2.qti.avc.encoder".equalsIgnoreCase(name);
                                try {
                                    StringBuilder sb3 = new StringBuilder();
                                    i78 = i100;
                                    try {
                                        sb3.append("selected encoder ");
                                        sb3.append(name);
                                        FileLog.d(sb3.toString());
                                        mediaCodec2.configure(createVideoFormat2, (Surface) null, (MediaCrypto) null, 1);
                                        inputSurface29 = new InputSurface(mediaCodec2.createInputSurface());
                                        try {
                                            inputSurface29.makeCurrent();
                                            mediaCodec2.start();
                                        } catch (Exception e5) {
                                            e = e5;
                                            i79 = i99;
                                            bufferInfo2 = bufferInfo3;
                                            str12 = name;
                                        } catch (Throwable th10) {
                                            th = th10;
                                            z2 = z;
                                            inputSurface26 = inputSurface29;
                                            bufferInfo = bufferInfo3;
                                            i97 = i84;
                                            i3 = i99;
                                            file = file6;
                                            file2 = file5;
                                            z4 = z6;
                                            i100 = i78;
                                            str4 = name;
                                            str3 = "x";
                                            mediaCodec = null;
                                            i4 = -5;
                                            z3 = false;
                                            outputSurface = null;
                                        }
                                    } catch (Exception e6) {
                                        e = e6;
                                        i79 = i99;
                                        bufferInfo2 = bufferInfo3;
                                        str12 = name;
                                        exc2 = e;
                                        i98 = i5;
                                        i97 = i84;
                                        outputSurface8 = null;
                                        inputSurface29 = null;
                                        audioRecoder4 = null;
                                        i80 = -5;
                                        inputSurface30 = inputSurface29;
                                        if (exc2 instanceof IllegalStateException) {
                                        }
                                        StringBuilder sb222 = new StringBuilder();
                                        sb222.append("bitrate: ");
                                        i81 = i78;
                                        sb222.append(i81);
                                        sb222.append(" framerate: ");
                                        i82 = i79;
                                        sb222.append(i82);
                                        sb222.append(" size: ");
                                        sb222.append(i98);
                                        str13 = "x";
                                        sb222.append(str13);
                                        sb222.append(i97);
                                        FileLog.e(sb222.toString());
                                        FileLog.e(exc2);
                                        i83 = i98;
                                        z40 = z3;
                                        z11 = true;
                                        outputSurface9 = outputSurface8;
                                        inputSurface34 = inputSurface30;
                                        if (outputSurface9 != null) {
                                        }
                                        if (inputSurface34 != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (audioRecoder4 != null) {
                                        }
                                        checkConversionCanceled();
                                        i11 = i83;
                                        i100 = i81;
                                        inputSurface3 = inputSurface34;
                                        file = file6;
                                        file2 = file5;
                                        str4 = str12;
                                        i10 = i80;
                                        mediaCodec6 = null;
                                        z2 = z;
                                        z5 = z40;
                                        outputSurface3 = outputSurface9;
                                        bufferInfo = bufferInfo2;
                                        mediaExtractor2 = this.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        muxer2 = this.muxer;
                                        if (muxer2 != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec6 != null) {
                                        }
                                        if (outputSurface3 != null) {
                                        }
                                        if (inputSurface3 != null) {
                                        }
                                        str5 = str4;
                                        i5 = i11;
                                        z7 = z11;
                                        if (z5) {
                                        }
                                    } catch (Throwable th11) {
                                        str14 = name;
                                        z2 = z;
                                        th = th11;
                                        bufferInfo = bufferInfo3;
                                        i97 = i84;
                                        i3 = i99;
                                        file = file6;
                                        file2 = file5;
                                        z4 = z6;
                                        i100 = i78;
                                        str4 = str14;
                                        str3 = "x";
                                        mediaCodec = null;
                                        i4 = -5;
                                        inputSurface4 = null;
                                        z3 = false;
                                        outputSurface = null;
                                        inputSurface2 = inputSurface4;
                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                        FileLog.e(th);
                                        mediaExtractor = this.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        muxer = this.muxer;
                                        if (muxer != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface2 != null) {
                                        }
                                        str5 = str4;
                                        z5 = z3;
                                        z6 = z4;
                                        z7 = true;
                                        if (z5) {
                                        }
                                    }
                                } catch (Exception e7) {
                                    e = e7;
                                    i78 = i100;
                                } catch (Throwable th12) {
                                    str14 = name;
                                    z2 = z;
                                    th = th12;
                                    bufferInfo = bufferInfo3;
                                    i97 = i84;
                                    i3 = i99;
                                    file = file6;
                                    file2 = file5;
                                    z4 = z6;
                                }
                            } catch (Exception e8) {
                                i78 = i100;
                                i79 = i99;
                                bufferInfo2 = bufferInfo3;
                                str12 = name;
                                exc2 = e8;
                                i98 = i5;
                                i97 = i84;
                                outputSurface8 = null;
                                inputSurface29 = null;
                                audioRecoder4 = null;
                                z6 = false;
                            } catch (Throwable th13) {
                                z2 = z;
                                th = th13;
                                bufferInfo = bufferInfo3;
                                i97 = i84;
                                i3 = i99;
                                file = file6;
                                file2 = file5;
                                str4 = name;
                                str3 = "x";
                                mediaCodec = null;
                                i4 = -5;
                                inputSurface4 = null;
                                z3 = false;
                                z4 = false;
                                outputSurface = null;
                                inputSurface2 = inputSurface4;
                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                FileLog.e(th);
                                mediaExtractor = this.extractor;
                                if (mediaExtractor != null) {
                                }
                                muxer = this.muxer;
                                if (muxer != null) {
                                }
                                if (mediaCodec2 != null) {
                                }
                                if (mediaCodec != null) {
                                }
                                if (outputSurface != null) {
                                }
                                if (inputSurface2 != null) {
                                }
                                str5 = str4;
                                z5 = z3;
                                z6 = z4;
                                z7 = true;
                                if (z5) {
                                }
                            }
                        } catch (Exception e9) {
                            i78 = i100;
                            i79 = i99;
                            bufferInfo2 = bufferInfo3;
                            exc2 = e9;
                            i98 = i5;
                            i97 = i84;
                            outputSurface8 = null;
                            inputSurface29 = null;
                            audioRecoder4 = null;
                            z6 = false;
                            str12 = null;
                            i80 = -5;
                            inputSurface30 = inputSurface29;
                            if (exc2 instanceof IllegalStateException) {
                            }
                            StringBuilder sb2222 = new StringBuilder();
                            sb2222.append("bitrate: ");
                            i81 = i78;
                            sb2222.append(i81);
                            sb2222.append(" framerate: ");
                            i82 = i79;
                            sb2222.append(i82);
                            sb2222.append(" size: ");
                            sb2222.append(i98);
                            str13 = "x";
                            sb2222.append(str13);
                            sb2222.append(i97);
                            FileLog.e(sb2222.toString());
                            FileLog.e(exc2);
                            i83 = i98;
                            z40 = z3;
                            z11 = true;
                            outputSurface9 = outputSurface8;
                            inputSurface34 = inputSurface30;
                            if (outputSurface9 != null) {
                            }
                            if (inputSurface34 != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (audioRecoder4 != null) {
                            }
                            checkConversionCanceled();
                            i11 = i83;
                            i100 = i81;
                            inputSurface3 = inputSurface34;
                            file = file6;
                            file2 = file5;
                            str4 = str12;
                            i10 = i80;
                            mediaCodec6 = null;
                            z2 = z;
                            z5 = z40;
                            outputSurface3 = outputSurface9;
                            bufferInfo = bufferInfo2;
                            mediaExtractor2 = this.extractor;
                            if (mediaExtractor2 != null) {
                            }
                            muxer2 = this.muxer;
                            if (muxer2 != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec6 != null) {
                            }
                            if (outputSurface3 != null) {
                            }
                            if (inputSurface3 != null) {
                            }
                            str5 = str4;
                            i5 = i11;
                            z7 = z11;
                            if (z5) {
                            }
                        } catch (Throwable th14) {
                            z2 = z;
                            th = th14;
                            bufferInfo = bufferInfo3;
                            i97 = i84;
                            file = file6;
                            file2 = file5;
                            i3 = i99;
                            str3 = "x";
                            mediaCodec = null;
                            i4 = -5;
                            str4 = null;
                            inputSurface4 = null;
                            z3 = false;
                            z4 = false;
                            outputSurface = null;
                            inputSurface2 = inputSurface4;
                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                            FileLog.e(th);
                            mediaExtractor = this.extractor;
                            if (mediaExtractor != null) {
                            }
                            muxer = this.muxer;
                            if (muxer != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface2 != null) {
                            }
                            str5 = str4;
                            z5 = z3;
                            z6 = z4;
                            z7 = true;
                            if (z5) {
                            }
                        }
                    } catch (Exception e10) {
                        i78 = i100;
                        i79 = i99;
                        bufferInfo2 = bufferInfo3;
                        exc2 = e10;
                        outputSurface8 = null;
                        mediaCodec2 = null;
                        inputSurface29 = null;
                        audioRecoder4 = null;
                        z6 = false;
                        str12 = null;
                        i80 = -5;
                        inputSurface30 = inputSurface29;
                        if (exc2 instanceof IllegalStateException) {
                        }
                        StringBuilder sb22222 = new StringBuilder();
                        sb22222.append("bitrate: ");
                        i81 = i78;
                        sb22222.append(i81);
                        sb22222.append(" framerate: ");
                        i82 = i79;
                        sb22222.append(i82);
                        sb22222.append(" size: ");
                        sb22222.append(i98);
                        str13 = "x";
                        sb22222.append(str13);
                        sb22222.append(i97);
                        FileLog.e(sb22222.toString());
                        FileLog.e(exc2);
                        i83 = i98;
                        z40 = z3;
                        z11 = true;
                        outputSurface9 = outputSurface8;
                        inputSurface34 = inputSurface30;
                        if (outputSurface9 != null) {
                        }
                        if (inputSurface34 != null) {
                        }
                        if (mediaCodec2 != null) {
                        }
                        if (audioRecoder4 != null) {
                        }
                        checkConversionCanceled();
                        i11 = i83;
                        i100 = i81;
                        inputSurface3 = inputSurface34;
                        file = file6;
                        file2 = file5;
                        str4 = str12;
                        i10 = i80;
                        mediaCodec6 = null;
                        z2 = z;
                        z5 = z40;
                        outputSurface3 = outputSurface9;
                        bufferInfo = bufferInfo2;
                        mediaExtractor2 = this.extractor;
                        if (mediaExtractor2 != null) {
                        }
                        muxer2 = this.muxer;
                        if (muxer2 != null) {
                        }
                        if (mediaCodec2 != null) {
                        }
                        if (mediaCodec6 != null) {
                        }
                        if (outputSurface3 != null) {
                        }
                        if (inputSurface3 != null) {
                        }
                        str5 = str4;
                        i5 = i11;
                        z7 = z11;
                        if (z5) {
                        }
                    } catch (Throwable th15) {
                        z2 = z;
                        th = th15;
                        i5 = i98;
                        file = file6;
                        file2 = file5;
                        i3 = i99;
                        str3 = "x";
                        mediaCodec = null;
                        i4 = -5;
                        mediaCodec2 = null;
                        str4 = null;
                        inputSurface2 = null;
                        z3 = false;
                        z4 = false;
                        outputSurface = null;
                        bufferInfo = bufferInfo3;
                    }
                    if (cropState3 != null) {
                        try {
                        } catch (Exception e11) {
                            exc2 = e11;
                            i98 = i5;
                            i79 = i99;
                            bufferInfo2 = bufferInfo3;
                            outputSurface8 = null;
                            audioRecoder4 = null;
                            i80 = -5;
                            str12 = name;
                            i97 = i84;
                            inputSurface30 = inputSurface29;
                            if (exc2 instanceof IllegalStateException) {
                            }
                            StringBuilder sb222222 = new StringBuilder();
                            sb222222.append("bitrate: ");
                            i81 = i78;
                            sb222222.append(i81);
                            sb222222.append(" framerate: ");
                            i82 = i79;
                            sb222222.append(i82);
                            sb222222.append(" size: ");
                            sb222222.append(i98);
                            str13 = "x";
                            sb222222.append(str13);
                            sb222222.append(i97);
                            FileLog.e(sb222222.toString());
                            FileLog.e(exc2);
                            i83 = i98;
                            z40 = z3;
                            z11 = true;
                            outputSurface9 = outputSurface8;
                            inputSurface34 = inputSurface30;
                            if (outputSurface9 != null) {
                            }
                            if (inputSurface34 != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (audioRecoder4 != null) {
                            }
                            checkConversionCanceled();
                            i11 = i83;
                            i100 = i81;
                            inputSurface3 = inputSurface34;
                            file = file6;
                            file2 = file5;
                            str4 = str12;
                            i10 = i80;
                            mediaCodec6 = null;
                            z2 = z;
                            z5 = z40;
                            outputSurface3 = outputSurface9;
                            bufferInfo = bufferInfo2;
                            mediaExtractor2 = this.extractor;
                            if (mediaExtractor2 != null) {
                            }
                            muxer2 = this.muxer;
                            if (muxer2 != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec6 != null) {
                            }
                            if (outputSurface3 != null) {
                            }
                            if (inputSurface3 != null) {
                            }
                            str5 = str4;
                            i5 = i11;
                            z7 = z11;
                            if (z5) {
                            }
                        } catch (Throwable th16) {
                            z2 = z;
                            th = th16;
                            inputSurface2 = inputSurface29;
                            str4 = name;
                            file = file6;
                            file2 = file5;
                            z4 = z6;
                            i100 = i78;
                            i3 = i99;
                            str3 = "x";
                            bufferInfo = bufferInfo3;
                            mediaCodec = null;
                            i4 = -5;
                            z3 = false;
                            outputSurface = null;
                            i97 = i84;
                        }
                        if (cropState3.useMatrix != null) {
                            cropState4 = cropState3;
                            i85 = i99;
                            outputSurface8 = outputSurface10;
                            str12 = name;
                            outputSurface10 = new OutputSurface(savedFilterState, str16, str17, str18, arrayList, cropState4, i84, i5, i95, i96, i94, i85, true, num, num2, null, convertVideoParams);
                            if (Build.VERSION.SDK_INT >= 21) {
                                try {
                                    try {
                                        outputBuffers2 = mediaCodec2.getOutputBuffers();
                                    } catch (Exception e12) {
                                        exc2 = e12;
                                        i79 = i85;
                                        i98 = i5;
                                        i97 = i84;
                                        bufferInfo2 = bufferInfo3;
                                        audioRecoder4 = null;
                                        i80 = -5;
                                        inputSurface30 = inputSurface29;
                                        z3 = ((exc2 instanceof IllegalStateException) || z) ? false : true;
                                        StringBuilder sb2222222 = new StringBuilder();
                                        sb2222222.append("bitrate: ");
                                        i81 = i78;
                                        sb2222222.append(i81);
                                        sb2222222.append(" framerate: ");
                                        i82 = i79;
                                        sb2222222.append(i82);
                                        sb2222222.append(" size: ");
                                        sb2222222.append(i98);
                                        str13 = "x";
                                        sb2222222.append(str13);
                                        sb2222222.append(i97);
                                        FileLog.e(sb2222222.toString());
                                        FileLog.e(exc2);
                                        i83 = i98;
                                        z40 = z3;
                                        z11 = true;
                                        outputSurface9 = outputSurface8;
                                        inputSurface34 = inputSurface30;
                                        if (outputSurface9 != null) {
                                        }
                                        if (inputSurface34 != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (audioRecoder4 != null) {
                                        }
                                        checkConversionCanceled();
                                        i11 = i83;
                                        i100 = i81;
                                        inputSurface3 = inputSurface34;
                                        file = file6;
                                        file2 = file5;
                                        str4 = str12;
                                        i10 = i80;
                                        mediaCodec6 = null;
                                        z2 = z;
                                        z5 = z40;
                                        outputSurface3 = outputSurface9;
                                        bufferInfo = bufferInfo2;
                                        mediaExtractor2 = this.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        muxer2 = this.muxer;
                                        if (muxer2 != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec6 != null) {
                                        }
                                        if (outputSurface3 != null) {
                                        }
                                        if (inputSurface3 != null) {
                                        }
                                        str5 = str4;
                                        i5 = i11;
                                        z7 = z11;
                                        if (z5) {
                                        }
                                    }
                                } catch (Throwable th17) {
                                    th = th17;
                                    i3 = i85;
                                    outputSurface = outputSurface8;
                                    inputSurface33 = inputSurface29;
                                    i97 = i84;
                                    file = file6;
                                    file2 = file5;
                                    z4 = z6;
                                    i100 = i78;
                                    str4 = str12;
                                    str3 = "x";
                                    bufferInfo = bufferInfo3;
                                    mediaCodec = null;
                                    i4 = -5;
                                    z3 = false;
                                    z2 = z;
                                    inputSurface2 = inputSurface33;
                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                    FileLog.e(th);
                                    mediaExtractor = this.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    muxer = this.muxer;
                                    if (muxer != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface2 != null) {
                                    }
                                    str5 = str4;
                                    z5 = z3;
                                    z6 = z4;
                                    z7 = true;
                                    if (z5) {
                                    }
                                }
                            } else {
                                outputBuffers2 = null;
                            }
                            checkConversionCanceled();
                            if (!z54) {
                                try {
                                    byteBufferArr3 = outputBuffers2;
                                    i79 = i85;
                                } catch (Exception e13) {
                                    e = e13;
                                    i79 = i85;
                                }
                                try {
                                    this.muxer = new Muxer(new MediaMuxer(file6.getAbsolutePath(), 1));
                                    convertVideoParams6 = convertVideoParams;
                                    inputSurface37 = inputSurface29;
                                } catch (Exception e14) {
                                    e = e14;
                                    exc2 = e;
                                    i98 = i5;
                                    i97 = i84;
                                    bufferInfo2 = bufferInfo3;
                                    audioRecoder4 = null;
                                    i80 = -5;
                                    inputSurface30 = inputSurface29;
                                    if (exc2 instanceof IllegalStateException) {
                                    }
                                    StringBuilder sb22222222 = new StringBuilder();
                                    sb22222222.append("bitrate: ");
                                    i81 = i78;
                                    sb22222222.append(i81);
                                    sb22222222.append(" framerate: ");
                                    i82 = i79;
                                    sb22222222.append(i82);
                                    sb22222222.append(" size: ");
                                    sb22222222.append(i98);
                                    str13 = "x";
                                    sb22222222.append(str13);
                                    sb22222222.append(i97);
                                    FileLog.e(sb22222222.toString());
                                    FileLog.e(exc2);
                                    i83 = i98;
                                    z40 = z3;
                                    z11 = true;
                                    outputSurface9 = outputSurface8;
                                    inputSurface34 = inputSurface30;
                                    if (outputSurface9 != null) {
                                    }
                                    if (inputSurface34 != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (audioRecoder4 != null) {
                                    }
                                    checkConversionCanceled();
                                    i11 = i83;
                                    i100 = i81;
                                    inputSurface3 = inputSurface34;
                                    file = file6;
                                    file2 = file5;
                                    str4 = str12;
                                    i10 = i80;
                                    mediaCodec6 = null;
                                    z2 = z;
                                    z5 = z40;
                                    outputSurface3 = outputSurface9;
                                    bufferInfo = bufferInfo2;
                                    mediaExtractor2 = this.extractor;
                                    if (mediaExtractor2 != null) {
                                    }
                                    muxer2 = this.muxer;
                                    if (muxer2 != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec6 != null) {
                                    }
                                    if (outputSurface3 != null) {
                                    }
                                    if (inputSurface3 != null) {
                                    }
                                    str5 = str4;
                                    i5 = i11;
                                    z7 = z11;
                                    if (z5) {
                                    }
                                } catch (Throwable th18) {
                                    z2 = z;
                                    th = th18;
                                    outputSurface = outputSurface8;
                                    inputSurface36 = inputSurface29;
                                    i97 = i84;
                                    i3 = i79;
                                    file = file6;
                                    file2 = file5;
                                    z4 = z6;
                                    i100 = i78;
                                    str4 = str12;
                                    str3 = "x";
                                    bufferInfo = bufferInfo3;
                                    InputSurface inputSurface46 = inputSurface36;
                                    mediaCodec = null;
                                    inputSurface23 = inputSurface46;
                                    i4 = -5;
                                    inputSurface28 = inputSurface23;
                                    z3 = false;
                                    inputSurface2 = inputSurface28;
                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                    FileLog.e(th);
                                    mediaExtractor = this.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    muxer = this.muxer;
                                    if (muxer != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface2 != null) {
                                    }
                                    str5 = str4;
                                    z5 = z3;
                                    z6 = z4;
                                    z7 = true;
                                    if (z5) {
                                    }
                                }
                            } else {
                                i79 = i85;
                                byteBufferArr3 = outputBuffers2;
                                try {
                                    Mp4Movie mp4Movie = new Mp4Movie();
                                    try {
                                        mp4Movie.setCacheFile(file6);
                                        mp4Movie.setRotation(0);
                                        mp4Movie.setSize(i84, i5);
                                        file6 = file6;
                                        inputSurface37 = inputSurface29;
                                        try {
                                            this.muxer = new Muxer(new MP4Builder().createMovie(mp4Movie, z48, this.outputMimeType.equals("video/hevc")));
                                            convertVideoParams6 = convertVideoParams;
                                        } catch (Exception e15) {
                                            e = e15;
                                            bufferInfo2 = bufferInfo3;
                                            inputSurface29 = inputSurface37;
                                            i98 = i5;
                                            i97 = i84;
                                            InputSurface inputSurface47 = inputSurface29;
                                            audioRecoder4 = null;
                                            i80 = -5;
                                            inputSurface35 = inputSurface47;
                                            exc2 = e;
                                            inputSurface30 = inputSurface35;
                                            if (exc2 instanceof IllegalStateException) {
                                            }
                                            StringBuilder sb222222222 = new StringBuilder();
                                            sb222222222.append("bitrate: ");
                                            i81 = i78;
                                            sb222222222.append(i81);
                                            sb222222222.append(" framerate: ");
                                            i82 = i79;
                                            sb222222222.append(i82);
                                            sb222222222.append(" size: ");
                                            sb222222222.append(i98);
                                            str13 = "x";
                                            sb222222222.append(str13);
                                            sb222222222.append(i97);
                                            FileLog.e(sb222222222.toString());
                                            FileLog.e(exc2);
                                            i83 = i98;
                                            z40 = z3;
                                            z11 = true;
                                            outputSurface9 = outputSurface8;
                                            inputSurface34 = inputSurface30;
                                            if (outputSurface9 != null) {
                                            }
                                            if (inputSurface34 != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (audioRecoder4 != null) {
                                            }
                                            checkConversionCanceled();
                                            i11 = i83;
                                            i100 = i81;
                                            inputSurface3 = inputSurface34;
                                            file = file6;
                                            file2 = file5;
                                            str4 = str12;
                                            i10 = i80;
                                            mediaCodec6 = null;
                                            z2 = z;
                                            z5 = z40;
                                            outputSurface3 = outputSurface9;
                                            bufferInfo = bufferInfo2;
                                            mediaExtractor2 = this.extractor;
                                            if (mediaExtractor2 != null) {
                                            }
                                            muxer2 = this.muxer;
                                            if (muxer2 != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (mediaCodec6 != null) {
                                            }
                                            if (outputSurface3 != null) {
                                            }
                                            if (inputSurface3 != null) {
                                            }
                                            str5 = str4;
                                            i5 = i11;
                                            z7 = z11;
                                            if (z5) {
                                            }
                                        } catch (Throwable th19) {
                                            th = th19;
                                            inputSurface39 = inputSurface37;
                                            z2 = z;
                                            inputSurface38 = inputSurface39;
                                            bufferInfo = bufferInfo3;
                                            outputSurface = outputSurface8;
                                            i97 = i84;
                                            i3 = i79;
                                            file = file6;
                                            file2 = file5;
                                            z4 = z6;
                                            i100 = i78;
                                            str4 = str12;
                                            str3 = "x";
                                            inputSurface25 = inputSurface38;
                                            mediaCodec = null;
                                            inputSurface24 = inputSurface25;
                                            i4 = -5;
                                            inputSurface27 = inputSurface24;
                                            z3 = false;
                                            inputSurface26 = inputSurface27;
                                            th = th;
                                            inputSurface2 = inputSurface26;
                                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                            FileLog.e(th);
                                            mediaExtractor = this.extractor;
                                            if (mediaExtractor != null) {
                                            }
                                            muxer = this.muxer;
                                            if (muxer != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (mediaCodec != null) {
                                            }
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface2 != null) {
                                            }
                                            str5 = str4;
                                            z5 = z3;
                                            z6 = z4;
                                            z7 = true;
                                            if (z5) {
                                            }
                                        }
                                    } catch (Exception e16) {
                                        e = e16;
                                        file6 = file6;
                                        bufferInfo2 = bufferInfo3;
                                        i98 = i5;
                                        i97 = i84;
                                        InputSurface inputSurface472 = inputSurface29;
                                        audioRecoder4 = null;
                                        i80 = -5;
                                        inputSurface35 = inputSurface472;
                                        exc2 = e;
                                        inputSurface30 = inputSurface35;
                                        if (exc2 instanceof IllegalStateException) {
                                        }
                                        StringBuilder sb2222222222 = new StringBuilder();
                                        sb2222222222.append("bitrate: ");
                                        i81 = i78;
                                        sb2222222222.append(i81);
                                        sb2222222222.append(" framerate: ");
                                        i82 = i79;
                                        sb2222222222.append(i82);
                                        sb2222222222.append(" size: ");
                                        sb2222222222.append(i98);
                                        str13 = "x";
                                        sb2222222222.append(str13);
                                        sb2222222222.append(i97);
                                        FileLog.e(sb2222222222.toString());
                                        FileLog.e(exc2);
                                        i83 = i98;
                                        z40 = z3;
                                        z11 = true;
                                        outputSurface9 = outputSurface8;
                                        inputSurface34 = inputSurface30;
                                        if (outputSurface9 != null) {
                                        }
                                        if (inputSurface34 != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (audioRecoder4 != null) {
                                        }
                                        checkConversionCanceled();
                                        i11 = i83;
                                        i100 = i81;
                                        inputSurface3 = inputSurface34;
                                        file = file6;
                                        file2 = file5;
                                        str4 = str12;
                                        i10 = i80;
                                        mediaCodec6 = null;
                                        z2 = z;
                                        z5 = z40;
                                        outputSurface3 = outputSurface9;
                                        bufferInfo = bufferInfo2;
                                        mediaExtractor2 = this.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        muxer2 = this.muxer;
                                        if (muxer2 != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec6 != null) {
                                        }
                                        if (outputSurface3 != null) {
                                        }
                                        if (inputSurface3 != null) {
                                        }
                                        str5 = str4;
                                        i5 = i11;
                                        z7 = z11;
                                        if (z5) {
                                        }
                                    } catch (Throwable th20) {
                                        th = th20;
                                        z2 = z;
                                        inputSurface38 = inputSurface29;
                                        bufferInfo = bufferInfo3;
                                        outputSurface = outputSurface8;
                                        file = file6;
                                        i97 = i84;
                                        i3 = i79;
                                        file2 = file5;
                                        z4 = z6;
                                        i100 = i78;
                                        str4 = str12;
                                        str3 = "x";
                                        inputSurface25 = inputSurface38;
                                        mediaCodec = null;
                                        inputSurface24 = inputSurface25;
                                        i4 = -5;
                                        inputSurface27 = inputSurface24;
                                        z3 = false;
                                        inputSurface26 = inputSurface27;
                                        th = th;
                                        inputSurface2 = inputSurface26;
                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                        FileLog.e(th);
                                        mediaExtractor = this.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        muxer = this.muxer;
                                        if (muxer != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface2 != null) {
                                        }
                                        str5 = str4;
                                        z5 = z3;
                                        z6 = z4;
                                        z7 = true;
                                        if (z5) {
                                        }
                                    }
                                } catch (Exception e17) {
                                    e = e17;
                                } catch (Throwable th21) {
                                    th = th21;
                                    inputSurface39 = inputSurface29;
                                    z2 = z;
                                    inputSurface38 = inputSurface39;
                                    bufferInfo = bufferInfo3;
                                    outputSurface = outputSurface8;
                                    i97 = i84;
                                    i3 = i79;
                                    file = file6;
                                    file2 = file5;
                                    z4 = z6;
                                    i100 = i78;
                                    str4 = str12;
                                    str3 = "x";
                                    inputSurface25 = inputSurface38;
                                    mediaCodec = null;
                                    inputSurface24 = inputSurface25;
                                    i4 = -5;
                                    inputSurface27 = inputSurface24;
                                    z3 = false;
                                    inputSurface26 = inputSurface27;
                                    th = th;
                                    inputSurface2 = inputSurface26;
                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                    FileLog.e(th);
                                    mediaExtractor = this.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    muxer = this.muxer;
                                    if (muxer != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface2 != null) {
                                    }
                                    str5 = str4;
                                    z5 = z3;
                                    z6 = z4;
                                    z7 = true;
                                    if (z5) {
                                    }
                                }
                            }
                            if (convertVideoParams6.soundInfos.isEmpty()) {
                                try {
                                    try {
                                        ArrayList arrayList2 = new ArrayList();
                                        arrayList2.add(new BlankAudioInput(j30));
                                        applyAudioInputs(convertVideoParams6.soundInfos, arrayList2);
                                        audioRecoder5 = new AudioRecoder(arrayList2, j30);
                                        try {
                                            addTrack = this.muxer.addTrack(audioRecoder5.format, true);
                                            z41 = false;
                                            z42 = true;
                                            i4 = -5;
                                        } catch (Exception e18) {
                                            exc2 = e18;
                                            audioRecoder4 = audioRecoder5;
                                            i98 = i5;
                                            i97 = i84;
                                            inputSurface29 = inputSurface37;
                                            bufferInfo2 = bufferInfo3;
                                            i80 = -5;
                                            inputSurface30 = inputSurface29;
                                            if (exc2 instanceof IllegalStateException) {
                                            }
                                            StringBuilder sb22222222222 = new StringBuilder();
                                            sb22222222222.append("bitrate: ");
                                            i81 = i78;
                                            sb22222222222.append(i81);
                                            sb22222222222.append(" framerate: ");
                                            i82 = i79;
                                            sb22222222222.append(i82);
                                            sb22222222222.append(" size: ");
                                            sb22222222222.append(i98);
                                            str13 = "x";
                                            sb22222222222.append(str13);
                                            sb22222222222.append(i97);
                                            FileLog.e(sb22222222222.toString());
                                            FileLog.e(exc2);
                                            i83 = i98;
                                            z40 = z3;
                                            z11 = true;
                                            outputSurface9 = outputSurface8;
                                            inputSurface34 = inputSurface30;
                                            if (outputSurface9 != null) {
                                            }
                                            if (inputSurface34 != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (audioRecoder4 != null) {
                                            }
                                            checkConversionCanceled();
                                            i11 = i83;
                                            i100 = i81;
                                            inputSurface3 = inputSurface34;
                                            file = file6;
                                            file2 = file5;
                                            str4 = str12;
                                            i10 = i80;
                                            mediaCodec6 = null;
                                            z2 = z;
                                            z5 = z40;
                                            outputSurface3 = outputSurface9;
                                            bufferInfo = bufferInfo2;
                                            mediaExtractor2 = this.extractor;
                                            if (mediaExtractor2 != null) {
                                            }
                                            muxer2 = this.muxer;
                                            if (muxer2 != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (mediaCodec6 != null) {
                                            }
                                            if (outputSurface3 != null) {
                                            }
                                            if (inputSurface3 != null) {
                                            }
                                            str5 = str4;
                                            i5 = i11;
                                            z7 = z11;
                                            if (z5) {
                                            }
                                        }
                                    } catch (Exception e19) {
                                        exc2 = e19;
                                        i98 = i5;
                                        i97 = i84;
                                        inputSurface29 = inputSurface37;
                                        bufferInfo2 = bufferInfo3;
                                        audioRecoder4 = null;
                                        i80 = -5;
                                        inputSurface30 = inputSurface29;
                                        if (exc2 instanceof IllegalStateException) {
                                        }
                                        StringBuilder sb222222222222 = new StringBuilder();
                                        sb222222222222.append("bitrate: ");
                                        i81 = i78;
                                        sb222222222222.append(i81);
                                        sb222222222222.append(" framerate: ");
                                        i82 = i79;
                                        sb222222222222.append(i82);
                                        sb222222222222.append(" size: ");
                                        sb222222222222.append(i98);
                                        str13 = "x";
                                        sb222222222222.append(str13);
                                        sb222222222222.append(i97);
                                        FileLog.e(sb222222222222.toString());
                                        FileLog.e(exc2);
                                        i83 = i98;
                                        z40 = z3;
                                        z11 = true;
                                        outputSurface9 = outputSurface8;
                                        inputSurface34 = inputSurface30;
                                        if (outputSurface9 != null) {
                                        }
                                        if (inputSurface34 != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (audioRecoder4 != null) {
                                        }
                                        checkConversionCanceled();
                                        i11 = i83;
                                        i100 = i81;
                                        inputSurface3 = inputSurface34;
                                        file = file6;
                                        file2 = file5;
                                        str4 = str12;
                                        i10 = i80;
                                        mediaCodec6 = null;
                                        z2 = z;
                                        z5 = z40;
                                        outputSurface3 = outputSurface9;
                                        bufferInfo = bufferInfo2;
                                        mediaExtractor2 = this.extractor;
                                        if (mediaExtractor2 != null) {
                                        }
                                        muxer2 = this.muxer;
                                        if (muxer2 != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec6 != null) {
                                        }
                                        if (outputSurface3 != null) {
                                        }
                                        if (inputSurface3 != null) {
                                        }
                                        str5 = str4;
                                        i5 = i11;
                                        z7 = z11;
                                        if (z5) {
                                        }
                                    }
                                } catch (Throwable th22) {
                                    z2 = z;
                                    th = th22;
                                    outputSurface = outputSurface8;
                                    i97 = i84;
                                    i3 = i79;
                                    inputSurface36 = inputSurface37;
                                    file = file6;
                                    file2 = file5;
                                    z4 = z6;
                                    i100 = i78;
                                    str4 = str12;
                                    str3 = "x";
                                    bufferInfo = bufferInfo3;
                                    InputSurface inputSurface462 = inputSurface36;
                                    mediaCodec = null;
                                    inputSurface23 = inputSurface462;
                                    i4 = -5;
                                    inputSurface28 = inputSurface23;
                                    z3 = false;
                                    inputSurface2 = inputSurface28;
                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                    FileLog.e(th);
                                    mediaExtractor = this.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    muxer = this.muxer;
                                    if (muxer != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface2 != null) {
                                    }
                                    str5 = str4;
                                    z5 = z3;
                                    z6 = z4;
                                    z7 = true;
                                    if (z5) {
                                    }
                                }
                            } else {
                                z41 = true;
                                z42 = true;
                                i4 = -5;
                                audioRecoder5 = null;
                                addTrack = -1;
                            }
                            long j31 = 0;
                            z43 = false;
                            z44 = false;
                            int i102 = 0;
                            i86 = 0;
                            inputSurface40 = inputSurface37;
                            loop0: while (true) {
                                if (!z43 && z41) {
                                    outputSurface9 = outputSurface8;
                                    i80 = i4;
                                    audioRecoder4 = audioRecoder5;
                                    i83 = i5;
                                    i97 = i84;
                                    i82 = i79;
                                    inputSurface34 = inputSurface40;
                                    i81 = i78;
                                    str13 = "x";
                                    bufferInfo2 = bufferInfo3;
                                    z40 = false;
                                    z11 = false;
                                    break;
                                }
                                try {
                                    checkConversionCanceled();
                                    if (audioRecoder5 != null) {
                                        try {
                                            z41 = audioRecoder5.step(this.muxer, addTrack);
                                        } catch (Exception e20) {
                                            exc2 = e20;
                                            i80 = i4;
                                            audioRecoder4 = audioRecoder5;
                                            i98 = i5;
                                            i97 = i84;
                                            inputSurface42 = inputSurface40;
                                            bufferInfo2 = bufferInfo3;
                                            inputSurface30 = inputSurface42;
                                            if (exc2 instanceof IllegalStateException) {
                                            }
                                            StringBuilder sb2222222222222 = new StringBuilder();
                                            sb2222222222222.append("bitrate: ");
                                            i81 = i78;
                                            sb2222222222222.append(i81);
                                            sb2222222222222.append(" framerate: ");
                                            i82 = i79;
                                            sb2222222222222.append(i82);
                                            sb2222222222222.append(" size: ");
                                            sb2222222222222.append(i98);
                                            str13 = "x";
                                            sb2222222222222.append(str13);
                                            sb2222222222222.append(i97);
                                            FileLog.e(sb2222222222222.toString());
                                            FileLog.e(exc2);
                                            i83 = i98;
                                            z40 = z3;
                                            z11 = true;
                                            outputSurface9 = outputSurface8;
                                            inputSurface34 = inputSurface30;
                                            if (outputSurface9 != null) {
                                            }
                                            if (inputSurface34 != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (audioRecoder4 != null) {
                                            }
                                            checkConversionCanceled();
                                            i11 = i83;
                                            i100 = i81;
                                            inputSurface3 = inputSurface34;
                                            file = file6;
                                            file2 = file5;
                                            str4 = str12;
                                            i10 = i80;
                                            mediaCodec6 = null;
                                            z2 = z;
                                            z5 = z40;
                                            outputSurface3 = outputSurface9;
                                            bufferInfo = bufferInfo2;
                                            mediaExtractor2 = this.extractor;
                                            if (mediaExtractor2 != null) {
                                            }
                                            muxer2 = this.muxer;
                                            if (muxer2 != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (mediaCodec6 != null) {
                                            }
                                            if (outputSurface3 != null) {
                                            }
                                            if (inputSurface3 != null) {
                                            }
                                            str5 = str4;
                                            i5 = i11;
                                            z7 = z11;
                                            if (z5) {
                                            }
                                        } catch (Throwable th23) {
                                            z2 = z;
                                            th = th23;
                                            outputSurface = outputSurface8;
                                            i97 = i84;
                                            i3 = i79;
                                            inputSurface41 = inputSurface40;
                                            file = file6;
                                            file2 = file5;
                                            z4 = z6;
                                            i100 = i78;
                                            str4 = str12;
                                            str3 = "x";
                                            bufferInfo = bufferInfo3;
                                            mediaCodec = null;
                                            inputSurface28 = inputSurface41;
                                            z3 = false;
                                            inputSurface2 = inputSurface28;
                                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                            FileLog.e(th);
                                            mediaExtractor = this.extractor;
                                            if (mediaExtractor != null) {
                                            }
                                            muxer = this.muxer;
                                            if (muxer != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (mediaCodec != null) {
                                            }
                                            if (outputSurface != null) {
                                            }
                                            if (inputSurface2 != null) {
                                            }
                                            str5 = str4;
                                            z5 = z3;
                                            z6 = z4;
                                            z7 = true;
                                            if (z5) {
                                            }
                                        }
                                    }
                                    boolean z55 = true;
                                    int i103 = i86;
                                    z45 = !z44;
                                    i87 = i103;
                                    while (true) {
                                        if (!z45 || z55) {
                                            checkConversionCanceled();
                                            if (z) {
                                                z46 = z41;
                                                i88 = addTrack;
                                                i89 = i87;
                                                bufferInfo2 = bufferInfo3;
                                                j25 = 2500;
                                            } else {
                                                z46 = z41;
                                                bufferInfo2 = bufferInfo3;
                                                i88 = addTrack;
                                                i89 = i87;
                                                j25 = 22000;
                                            }
                                            try {
                                                try {
                                                    dequeueOutputBuffer2 = mediaCodec2.dequeueOutputBuffer(bufferInfo2, j25);
                                                    if (dequeueOutputBuffer2 != -1) {
                                                        obj2 = obj3;
                                                        outputSurface11 = outputSurface8;
                                                        audioRecoder4 = audioRecoder5;
                                                        i90 = dequeueOutputBuffer2;
                                                        str15 = str19;
                                                        i91 = -1;
                                                        z55 = false;
                                                    } else {
                                                        if (dequeueOutputBuffer2 == -3) {
                                                            try {
                                                                try {
                                                                    if (Build.VERSION.SDK_INT < 21) {
                                                                        byteBufferArr3 = mediaCodec2.getOutputBuffers();
                                                                    }
                                                                    obj2 = obj3;
                                                                    outputSurface11 = outputSurface8;
                                                                    audioRecoder4 = audioRecoder5;
                                                                    i90 = dequeueOutputBuffer2;
                                                                    str15 = str19;
                                                                } catch (Throwable th24) {
                                                                    th = th24;
                                                                    z2 = z;
                                                                    th = th;
                                                                    bufferInfo = bufferInfo2;
                                                                    outputSurface = outputSurface8;
                                                                    i97 = i84;
                                                                    i3 = i79;
                                                                    inputSurface43 = inputSurface40;
                                                                    file = file6;
                                                                    file2 = file5;
                                                                    z4 = z6;
                                                                    i100 = i78;
                                                                    str4 = str12;
                                                                    str3 = "x";
                                                                    inputSurface41 = inputSurface43;
                                                                    mediaCodec = null;
                                                                    inputSurface28 = inputSurface41;
                                                                    z3 = false;
                                                                    inputSurface2 = inputSurface28;
                                                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                    FileLog.e(th);
                                                                    mediaExtractor = this.extractor;
                                                                    if (mediaExtractor != null) {
                                                                    }
                                                                    muxer = this.muxer;
                                                                    if (muxer != null) {
                                                                    }
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    if (mediaCodec != null) {
                                                                    }
                                                                    if (outputSurface != null) {
                                                                    }
                                                                    if (inputSurface2 != null) {
                                                                    }
                                                                    str5 = str4;
                                                                    z5 = z3;
                                                                    z6 = z4;
                                                                    z7 = true;
                                                                    if (z5) {
                                                                    }
                                                                }
                                                            } catch (Exception e21) {
                                                                exc2 = e21;
                                                                i80 = i4;
                                                                audioRecoder4 = audioRecoder5;
                                                                i98 = i5;
                                                                i97 = i84;
                                                                inputSurface42 = inputSurface40;
                                                                inputSurface30 = inputSurface42;
                                                                if (exc2 instanceof IllegalStateException) {
                                                                }
                                                                StringBuilder sb22222222222222 = new StringBuilder();
                                                                sb22222222222222.append("bitrate: ");
                                                                i81 = i78;
                                                                sb22222222222222.append(i81);
                                                                sb22222222222222.append(" framerate: ");
                                                                i82 = i79;
                                                                sb22222222222222.append(i82);
                                                                sb22222222222222.append(" size: ");
                                                                sb22222222222222.append(i98);
                                                                str13 = "x";
                                                                sb22222222222222.append(str13);
                                                                sb22222222222222.append(i97);
                                                                FileLog.e(sb22222222222222.toString());
                                                                FileLog.e(exc2);
                                                                i83 = i98;
                                                                z40 = z3;
                                                                z11 = true;
                                                                outputSurface9 = outputSurface8;
                                                                inputSurface34 = inputSurface30;
                                                                if (outputSurface9 != null) {
                                                                }
                                                                if (inputSurface34 != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (audioRecoder4 != null) {
                                                                }
                                                                checkConversionCanceled();
                                                                i11 = i83;
                                                                i100 = i81;
                                                                inputSurface3 = inputSurface34;
                                                                file = file6;
                                                                file2 = file5;
                                                                str4 = str12;
                                                                i10 = i80;
                                                                mediaCodec6 = null;
                                                                z2 = z;
                                                                z5 = z40;
                                                                outputSurface3 = outputSurface9;
                                                                bufferInfo = bufferInfo2;
                                                                mediaExtractor2 = this.extractor;
                                                                if (mediaExtractor2 != null) {
                                                                }
                                                                muxer2 = this.muxer;
                                                                if (muxer2 != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (mediaCodec6 != null) {
                                                                }
                                                                if (outputSurface3 != null) {
                                                                }
                                                                if (inputSurface3 != null) {
                                                                }
                                                                str5 = str4;
                                                                i5 = i11;
                                                                z7 = z11;
                                                                if (z5) {
                                                                }
                                                            }
                                                        } else if (dequeueOutputBuffer2 == -2) {
                                                            try {
                                                                ?? outputFormat = mediaCodec2.getOutputFormat();
                                                                if (BuildVars.LOGS_ENABLED) {
                                                                    ?? sb4 = new StringBuilder();
                                                                    audioRecoder4 = audioRecoder5;
                                                                    try {
                                                                        sb4.append("photo encoder new format ");
                                                                        sb4.append(outputFormat);
                                                                        FileLog.d(sb4.toString());
                                                                    } catch (Exception e22) {
                                                                        e = e22;
                                                                        exc2 = e;
                                                                        i80 = i4;
                                                                        i98 = i5;
                                                                        i97 = i84;
                                                                        inputSurface42 = inputSurface40;
                                                                        inputSurface30 = inputSurface42;
                                                                        if (exc2 instanceof IllegalStateException) {
                                                                        }
                                                                        StringBuilder sb222222222222222 = new StringBuilder();
                                                                        sb222222222222222.append("bitrate: ");
                                                                        i81 = i78;
                                                                        sb222222222222222.append(i81);
                                                                        sb222222222222222.append(" framerate: ");
                                                                        i82 = i79;
                                                                        sb222222222222222.append(i82);
                                                                        sb222222222222222.append(" size: ");
                                                                        sb222222222222222.append(i98);
                                                                        str13 = "x";
                                                                        sb222222222222222.append(str13);
                                                                        sb222222222222222.append(i97);
                                                                        FileLog.e(sb222222222222222.toString());
                                                                        FileLog.e(exc2);
                                                                        i83 = i98;
                                                                        z40 = z3;
                                                                        z11 = true;
                                                                        outputSurface9 = outputSurface8;
                                                                        inputSurface34 = inputSurface30;
                                                                        if (outputSurface9 != null) {
                                                                        }
                                                                        if (inputSurface34 != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (audioRecoder4 != null) {
                                                                        }
                                                                        checkConversionCanceled();
                                                                        i11 = i83;
                                                                        i100 = i81;
                                                                        inputSurface3 = inputSurface34;
                                                                        file = file6;
                                                                        file2 = file5;
                                                                        str4 = str12;
                                                                        i10 = i80;
                                                                        mediaCodec6 = null;
                                                                        z2 = z;
                                                                        z5 = z40;
                                                                        outputSurface3 = outputSurface9;
                                                                        bufferInfo = bufferInfo2;
                                                                        mediaExtractor2 = this.extractor;
                                                                        if (mediaExtractor2 != null) {
                                                                        }
                                                                        muxer2 = this.muxer;
                                                                        if (muxer2 != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec6 != null) {
                                                                        }
                                                                        if (outputSurface3 != null) {
                                                                        }
                                                                        if (inputSurface3 != null) {
                                                                        }
                                                                        str5 = str4;
                                                                        i5 = i11;
                                                                        z7 = z11;
                                                                        if (z5) {
                                                                        }
                                                                    }
                                                                } else {
                                                                    audioRecoder4 = audioRecoder5;
                                                                }
                                                                if (i4 != -5 || outputFormat == null) {
                                                                    str15 = str19;
                                                                } else {
                                                                    i4 = this.muxer.addTrack(outputFormat, false);
                                                                    try {
                                                                        if (outputFormat.containsKey(obj3) && outputFormat.getInteger(obj3) == 1) {
                                                                            str15 = str19;
                                                                            ByteBuffer byteBuffer11 = outputFormat.getByteBuffer(str15);
                                                                            i92 = i4;
                                                                            try {
                                                                                ByteBuffer byteBuffer12 = outputFormat.getByteBuffer("csd-1");
                                                                                i102 = (byteBuffer11 == null ? 0 : byteBuffer11.limit()) + (byteBuffer12 == null ? 0 : byteBuffer12.limit());
                                                                            } catch (Exception e23) {
                                                                                e = e23;
                                                                                exc2 = e;
                                                                                i98 = i5;
                                                                                i97 = i84;
                                                                                inputSurface42 = inputSurface40;
                                                                                i80 = i92;
                                                                                inputSurface30 = inputSurface42;
                                                                                if (exc2 instanceof IllegalStateException) {
                                                                                }
                                                                                StringBuilder sb2222222222222222 = new StringBuilder();
                                                                                sb2222222222222222.append("bitrate: ");
                                                                                i81 = i78;
                                                                                sb2222222222222222.append(i81);
                                                                                sb2222222222222222.append(" framerate: ");
                                                                                i82 = i79;
                                                                                sb2222222222222222.append(i82);
                                                                                sb2222222222222222.append(" size: ");
                                                                                sb2222222222222222.append(i98);
                                                                                str13 = "x";
                                                                                sb2222222222222222.append(str13);
                                                                                sb2222222222222222.append(i97);
                                                                                FileLog.e(sb2222222222222222.toString());
                                                                                FileLog.e(exc2);
                                                                                i83 = i98;
                                                                                z40 = z3;
                                                                                z11 = true;
                                                                                outputSurface9 = outputSurface8;
                                                                                inputSurface34 = inputSurface30;
                                                                                if (outputSurface9 != null) {
                                                                                }
                                                                                if (inputSurface34 != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (audioRecoder4 != null) {
                                                                                }
                                                                                checkConversionCanceled();
                                                                                i11 = i83;
                                                                                i100 = i81;
                                                                                inputSurface3 = inputSurface34;
                                                                                file = file6;
                                                                                file2 = file5;
                                                                                str4 = str12;
                                                                                i10 = i80;
                                                                                mediaCodec6 = null;
                                                                                z2 = z;
                                                                                z5 = z40;
                                                                                outputSurface3 = outputSurface9;
                                                                                bufferInfo = bufferInfo2;
                                                                                mediaExtractor2 = this.extractor;
                                                                                if (mediaExtractor2 != null) {
                                                                                }
                                                                                muxer2 = this.muxer;
                                                                                if (muxer2 != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (mediaCodec6 != null) {
                                                                                }
                                                                                if (outputSurface3 != null) {
                                                                                }
                                                                                if (inputSurface3 != null) {
                                                                                }
                                                                                str5 = str4;
                                                                                i5 = i11;
                                                                                z7 = z11;
                                                                                if (z5) {
                                                                                }
                                                                            } catch (Throwable th25) {
                                                                                z2 = z;
                                                                                th = th25;
                                                                                bufferInfo = bufferInfo2;
                                                                                outputSurface = outputSurface8;
                                                                                i97 = i84;
                                                                                i3 = i79;
                                                                                inputSurface43 = inputSurface40;
                                                                                i4 = i92;
                                                                                file = file6;
                                                                                file2 = file5;
                                                                                z4 = z6;
                                                                                i100 = i78;
                                                                                str4 = str12;
                                                                                str3 = "x";
                                                                                inputSurface41 = inputSurface43;
                                                                                mediaCodec = null;
                                                                                inputSurface28 = inputSurface41;
                                                                                z3 = false;
                                                                                inputSurface2 = inputSurface28;
                                                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                FileLog.e(th);
                                                                                mediaExtractor = this.extractor;
                                                                                if (mediaExtractor != null) {
                                                                                }
                                                                                muxer = this.muxer;
                                                                                if (muxer != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (mediaCodec != null) {
                                                                                }
                                                                                if (outputSurface != null) {
                                                                                }
                                                                                if (inputSurface2 != null) {
                                                                                }
                                                                                str5 = str4;
                                                                                z5 = z3;
                                                                                z6 = z4;
                                                                                z7 = true;
                                                                                if (z5) {
                                                                                }
                                                                            }
                                                                        } else {
                                                                            i92 = i4;
                                                                            str15 = str19;
                                                                        }
                                                                        i4 = i92;
                                                                    } catch (Exception e24) {
                                                                        e = e24;
                                                                        i92 = i4;
                                                                    } catch (Throwable th26) {
                                                                        th = th26;
                                                                        z2 = z;
                                                                        th = th;
                                                                        bufferInfo = bufferInfo2;
                                                                        outputSurface = outputSurface8;
                                                                        i97 = i84;
                                                                        i3 = i79;
                                                                        inputSurface43 = inputSurface40;
                                                                        file = file6;
                                                                        file2 = file5;
                                                                        z4 = z6;
                                                                        i100 = i78;
                                                                        str4 = str12;
                                                                        str3 = "x";
                                                                        inputSurface41 = inputSurface43;
                                                                        mediaCodec = null;
                                                                        inputSurface28 = inputSurface41;
                                                                        z3 = false;
                                                                        inputSurface2 = inputSurface28;
                                                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                        FileLog.e(th);
                                                                        mediaExtractor = this.extractor;
                                                                        if (mediaExtractor != null) {
                                                                        }
                                                                        muxer = this.muxer;
                                                                        if (muxer != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        if (outputSurface != null) {
                                                                        }
                                                                        if (inputSurface2 != null) {
                                                                        }
                                                                        str5 = str4;
                                                                        z5 = z3;
                                                                        z6 = z4;
                                                                        z7 = true;
                                                                        if (z5) {
                                                                        }
                                                                    }
                                                                }
                                                                obj2 = obj3;
                                                                outputSurface11 = outputSurface8;
                                                                i90 = dequeueOutputBuffer2;
                                                            } catch (Exception e25) {
                                                                e = e25;
                                                                audioRecoder4 = audioRecoder5;
                                                            }
                                                        } else {
                                                            audioRecoder4 = audioRecoder5;
                                                            str15 = str19;
                                                            try {
                                                                if (dequeueOutputBuffer2 < 0) {
                                                                    throw new RuntimeException("unexpected result from encoder.dequeueOutputBuffer: " + dequeueOutputBuffer2);
                                                                }
                                                                try {
                                                                    if (Build.VERSION.SDK_INT < 21) {
                                                                        outputBuffer2 = byteBufferArr3[dequeueOutputBuffer2];
                                                                    } else {
                                                                        outputBuffer2 = mediaCodec2.getOutputBuffer(dequeueOutputBuffer2);
                                                                    }
                                                                    if (outputBuffer2 == null) {
                                                                        throw new RuntimeException("encoderOutputBuffer " + dequeueOutputBuffer2 + " was null");
                                                                    }
                                                                    int i104 = bufferInfo2.size;
                                                                    obj2 = obj3;
                                                                    try {
                                                                        if (i104 > 1) {
                                                                            try {
                                                                                int i105 = bufferInfo2.flags;
                                                                                if ((i105 & 2) == 0) {
                                                                                    if (i102 == 0 || (i105 & 1) == 0) {
                                                                                        outputSurface11 = outputSurface8;
                                                                                    } else {
                                                                                        outputSurface11 = outputSurface8;
                                                                                        try {
                                                                                            bufferInfo2.offset += i102;
                                                                                            bufferInfo2.size = i104 - i102;
                                                                                        } catch (Exception e26) {
                                                                                            exc2 = e26;
                                                                                            i80 = i4;
                                                                                            i98 = i5;
                                                                                            i97 = i84;
                                                                                            inputSurface42 = inputSurface40;
                                                                                            outputSurface8 = outputSurface11;
                                                                                            inputSurface30 = inputSurface42;
                                                                                            if (exc2 instanceof IllegalStateException) {
                                                                                            }
                                                                                            StringBuilder sb22222222222222222 = new StringBuilder();
                                                                                            sb22222222222222222.append("bitrate: ");
                                                                                            i81 = i78;
                                                                                            sb22222222222222222.append(i81);
                                                                                            sb22222222222222222.append(" framerate: ");
                                                                                            i82 = i79;
                                                                                            sb22222222222222222.append(i82);
                                                                                            sb22222222222222222.append(" size: ");
                                                                                            sb22222222222222222.append(i98);
                                                                                            str13 = "x";
                                                                                            sb22222222222222222.append(str13);
                                                                                            sb22222222222222222.append(i97);
                                                                                            FileLog.e(sb22222222222222222.toString());
                                                                                            FileLog.e(exc2);
                                                                                            i83 = i98;
                                                                                            z40 = z3;
                                                                                            z11 = true;
                                                                                            outputSurface9 = outputSurface8;
                                                                                            inputSurface34 = inputSurface30;
                                                                                            if (outputSurface9 != null) {
                                                                                            }
                                                                                            if (inputSurface34 != null) {
                                                                                            }
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            if (audioRecoder4 != null) {
                                                                                            }
                                                                                            checkConversionCanceled();
                                                                                            i11 = i83;
                                                                                            i100 = i81;
                                                                                            inputSurface3 = inputSurface34;
                                                                                            file = file6;
                                                                                            file2 = file5;
                                                                                            str4 = str12;
                                                                                            i10 = i80;
                                                                                            mediaCodec6 = null;
                                                                                            z2 = z;
                                                                                            z5 = z40;
                                                                                            outputSurface3 = outputSurface9;
                                                                                            bufferInfo = bufferInfo2;
                                                                                            mediaExtractor2 = this.extractor;
                                                                                            if (mediaExtractor2 != null) {
                                                                                            }
                                                                                            muxer2 = this.muxer;
                                                                                            if (muxer2 != null) {
                                                                                            }
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            if (mediaCodec6 != null) {
                                                                                            }
                                                                                            if (outputSurface3 != null) {
                                                                                            }
                                                                                            if (inputSurface3 != null) {
                                                                                            }
                                                                                            str5 = str4;
                                                                                            i5 = i11;
                                                                                            z7 = z11;
                                                                                            if (z5) {
                                                                                            }
                                                                                        } catch (Throwable th27) {
                                                                                            th = th27;
                                                                                            z2 = z;
                                                                                            th = th;
                                                                                            bufferInfo = bufferInfo2;
                                                                                            i97 = i84;
                                                                                            i3 = i79;
                                                                                            inputSurface43 = inputSurface40;
                                                                                            outputSurface = outputSurface11;
                                                                                            file = file6;
                                                                                            file2 = file5;
                                                                                            z4 = z6;
                                                                                            i100 = i78;
                                                                                            str4 = str12;
                                                                                            str3 = "x";
                                                                                            inputSurface41 = inputSurface43;
                                                                                            mediaCodec = null;
                                                                                            inputSurface28 = inputSurface41;
                                                                                            z3 = false;
                                                                                            inputSurface2 = inputSurface28;
                                                                                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                            FileLog.e(th);
                                                                                            mediaExtractor = this.extractor;
                                                                                            if (mediaExtractor != null) {
                                                                                            }
                                                                                            muxer = this.muxer;
                                                                                            if (muxer != null) {
                                                                                            }
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            if (mediaCodec != null) {
                                                                                            }
                                                                                            if (outputSurface != null) {
                                                                                            }
                                                                                            if (inputSurface2 != null) {
                                                                                            }
                                                                                            str5 = str4;
                                                                                            z5 = z3;
                                                                                            z6 = z4;
                                                                                            z7 = true;
                                                                                            if (z5) {
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (z42 && (i105 & 1) != 0) {
                                                                                        cutOfNalData(this.outputMimeType, outputBuffer2, bufferInfo2);
                                                                                        z42 = false;
                                                                                    }
                                                                                    long writeSampleData = this.muxer.writeSampleData(i4, outputBuffer2, bufferInfo2, true);
                                                                                    if (writeSampleData == 0 || (videoConvertorListener3 = this.callback) == null) {
                                                                                        z47 = z42;
                                                                                    } else {
                                                                                        i93 = dequeueOutputBuffer2;
                                                                                        long j32 = bufferInfo2.presentationTimeUs;
                                                                                        if (j32 <= j31) {
                                                                                            j32 = j31;
                                                                                        }
                                                                                        z47 = z42;
                                                                                        videoConvertorListener3.didWriteData(writeSampleData, ((((float) j32) / 1000.0f) / 1000.0f) / f3);
                                                                                        j31 = j32;
                                                                                        z42 = z47;
                                                                                        i90 = i93;
                                                                                        boolean z56 = (bufferInfo2.flags & 4) != 0;
                                                                                        mediaCodec2.releaseOutputBuffer(i90, false);
                                                                                        z43 = z56;
                                                                                    }
                                                                                } else {
                                                                                    outputSurface11 = outputSurface8;
                                                                                    i93 = dequeueOutputBuffer2;
                                                                                    if (i4 != -5) {
                                                                                        z47 = z42;
                                                                                    } else if (this.outputMimeType.equals("video/hevc")) {
                                                                                        break loop0;
                                                                                    } else {
                                                                                        int i106 = bufferInfo2.size;
                                                                                        byte[] bArr = new byte[i106];
                                                                                        outputBuffer2.limit(bufferInfo2.offset + i106);
                                                                                        outputBuffer2.position(bufferInfo2.offset);
                                                                                        outputBuffer2.get(bArr);
                                                                                        byte b = 1;
                                                                                        int i107 = bufferInfo2.size - 1;
                                                                                        while (i107 >= 0 && i107 > 3) {
                                                                                            if (bArr[i107] == b && bArr[i107 - 1] == 0 && bArr[i107 - 2] == 0) {
                                                                                                int i108 = i107 - 3;
                                                                                                if (bArr[i108] == 0) {
                                                                                                    byteBuffer9 = ByteBuffer.allocate(i108);
                                                                                                    byteBuffer10 = ByteBuffer.allocate(bufferInfo2.size - i108);
                                                                                                    z47 = z42;
                                                                                                    byteBuffer9.put(bArr, 0, i108).position(0);
                                                                                                    byteBuffer10.put(bArr, i108, bufferInfo2.size - i108).position(0);
                                                                                                    break;
                                                                                                }
                                                                                            }
                                                                                            i107--;
                                                                                            z42 = z42;
                                                                                            b = 1;
                                                                                        }
                                                                                        z47 = z42;
                                                                                        byteBuffer9 = null;
                                                                                        byteBuffer10 = null;
                                                                                        MediaFormat createVideoFormat3 = MediaFormat.createVideoFormat(this.outputMimeType, i84, i5);
                                                                                        if (byteBuffer9 != null && byteBuffer10 != null) {
                                                                                            createVideoFormat3.setByteBuffer(str15, byteBuffer9);
                                                                                            createVideoFormat3.setByteBuffer("csd-1", byteBuffer10);
                                                                                        }
                                                                                        i4 = this.muxer.addTrack(createVideoFormat3, false);
                                                                                    }
                                                                                    z42 = z47;
                                                                                    i90 = i93;
                                                                                    if ((bufferInfo2.flags & 4) != 0) {
                                                                                    }
                                                                                    mediaCodec2.releaseOutputBuffer(i90, false);
                                                                                    z43 = z56;
                                                                                }
                                                                            } catch (Exception e27) {
                                                                                e = e27;
                                                                                exc2 = e;
                                                                                i80 = i4;
                                                                                i98 = i5;
                                                                                i97 = i84;
                                                                                inputSurface42 = inputSurface40;
                                                                                inputSurface30 = inputSurface42;
                                                                                if (exc2 instanceof IllegalStateException) {
                                                                                }
                                                                                StringBuilder sb222222222222222222 = new StringBuilder();
                                                                                sb222222222222222222.append("bitrate: ");
                                                                                i81 = i78;
                                                                                sb222222222222222222.append(i81);
                                                                                sb222222222222222222.append(" framerate: ");
                                                                                i82 = i79;
                                                                                sb222222222222222222.append(i82);
                                                                                sb222222222222222222.append(" size: ");
                                                                                sb222222222222222222.append(i98);
                                                                                str13 = "x";
                                                                                sb222222222222222222.append(str13);
                                                                                sb222222222222222222.append(i97);
                                                                                FileLog.e(sb222222222222222222.toString());
                                                                                FileLog.e(exc2);
                                                                                i83 = i98;
                                                                                z40 = z3;
                                                                                z11 = true;
                                                                                outputSurface9 = outputSurface8;
                                                                                inputSurface34 = inputSurface30;
                                                                                if (outputSurface9 != null) {
                                                                                }
                                                                                if (inputSurface34 != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (audioRecoder4 != null) {
                                                                                }
                                                                                checkConversionCanceled();
                                                                                i11 = i83;
                                                                                i100 = i81;
                                                                                inputSurface3 = inputSurface34;
                                                                                file = file6;
                                                                                file2 = file5;
                                                                                str4 = str12;
                                                                                i10 = i80;
                                                                                mediaCodec6 = null;
                                                                                z2 = z;
                                                                                z5 = z40;
                                                                                outputSurface3 = outputSurface9;
                                                                                bufferInfo = bufferInfo2;
                                                                                mediaExtractor2 = this.extractor;
                                                                                if (mediaExtractor2 != null) {
                                                                                }
                                                                                muxer2 = this.muxer;
                                                                                if (muxer2 != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (mediaCodec6 != null) {
                                                                                }
                                                                                if (outputSurface3 != null) {
                                                                                }
                                                                                if (inputSurface3 != null) {
                                                                                }
                                                                                str5 = str4;
                                                                                i5 = i11;
                                                                                z7 = z11;
                                                                                if (z5) {
                                                                                }
                                                                            } catch (Throwable th28) {
                                                                                th = th28;
                                                                                outputSurface11 = outputSurface8;
                                                                            }
                                                                        } else {
                                                                            z47 = z42;
                                                                            outputSurface11 = outputSurface8;
                                                                        }
                                                                        i90 = i93;
                                                                        if ((bufferInfo2.flags & 4) != 0) {
                                                                        }
                                                                        mediaCodec2.releaseOutputBuffer(i90, false);
                                                                        z43 = z56;
                                                                    } catch (Exception e28) {
                                                                        e = e28;
                                                                        inputSurface44 = inputSurface40;
                                                                        outputSurface8 = outputSurface11;
                                                                        exc2 = e;
                                                                        inputSurface42 = inputSurface44;
                                                                        i80 = i4;
                                                                        i98 = i5;
                                                                        i97 = i84;
                                                                        inputSurface30 = inputSurface42;
                                                                        if (exc2 instanceof IllegalStateException) {
                                                                        }
                                                                        StringBuilder sb2222222222222222222 = new StringBuilder();
                                                                        sb2222222222222222222.append("bitrate: ");
                                                                        i81 = i78;
                                                                        sb2222222222222222222.append(i81);
                                                                        sb2222222222222222222.append(" framerate: ");
                                                                        i82 = i79;
                                                                        sb2222222222222222222.append(i82);
                                                                        sb2222222222222222222.append(" size: ");
                                                                        sb2222222222222222222.append(i98);
                                                                        str13 = "x";
                                                                        sb2222222222222222222.append(str13);
                                                                        sb2222222222222222222.append(i97);
                                                                        FileLog.e(sb2222222222222222222.toString());
                                                                        FileLog.e(exc2);
                                                                        i83 = i98;
                                                                        z40 = z3;
                                                                        z11 = true;
                                                                        outputSurface9 = outputSurface8;
                                                                        inputSurface34 = inputSurface30;
                                                                        if (outputSurface9 != null) {
                                                                        }
                                                                        if (inputSurface34 != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (audioRecoder4 != null) {
                                                                        }
                                                                        checkConversionCanceled();
                                                                        i11 = i83;
                                                                        i100 = i81;
                                                                        inputSurface3 = inputSurface34;
                                                                        file = file6;
                                                                        file2 = file5;
                                                                        str4 = str12;
                                                                        i10 = i80;
                                                                        mediaCodec6 = null;
                                                                        z2 = z;
                                                                        z5 = z40;
                                                                        outputSurface3 = outputSurface9;
                                                                        bufferInfo = bufferInfo2;
                                                                        mediaExtractor2 = this.extractor;
                                                                        if (mediaExtractor2 != null) {
                                                                        }
                                                                        muxer2 = this.muxer;
                                                                        if (muxer2 != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec6 != null) {
                                                                        }
                                                                        if (outputSurface3 != null) {
                                                                        }
                                                                        if (inputSurface3 != null) {
                                                                        }
                                                                        str5 = str4;
                                                                        i5 = i11;
                                                                        z7 = z11;
                                                                        if (z5) {
                                                                        }
                                                                    } catch (Throwable th29) {
                                                                        th = th29;
                                                                        inputSurface44 = inputSurface40;
                                                                        outputSurface8 = outputSurface11;
                                                                        th = th;
                                                                        inputSurface33 = inputSurface44;
                                                                        bufferInfo = bufferInfo2;
                                                                        outputSurface = outputSurface8;
                                                                        i97 = i84;
                                                                        i3 = i79;
                                                                        file = file6;
                                                                        file2 = file5;
                                                                        z4 = z6;
                                                                        i100 = i78;
                                                                        str4 = str12;
                                                                        str3 = "x";
                                                                        mediaCodec = null;
                                                                        z3 = false;
                                                                        z2 = z;
                                                                        inputSurface2 = inputSurface33;
                                                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                        FileLog.e(th);
                                                                        mediaExtractor = this.extractor;
                                                                        if (mediaExtractor != null) {
                                                                        }
                                                                        muxer = this.muxer;
                                                                        if (muxer != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        if (outputSurface != null) {
                                                                        }
                                                                        if (inputSurface2 != null) {
                                                                        }
                                                                        str5 = str4;
                                                                        z5 = z3;
                                                                        z6 = z4;
                                                                        z7 = true;
                                                                        if (z5) {
                                                                        }
                                                                    }
                                                                    i93 = dequeueOutputBuffer2;
                                                                    z42 = z47;
                                                                } catch (Exception e29) {
                                                                    e = e29;
                                                                    obj3 = inputSurface40;
                                                                    inputSurface35 = obj3;
                                                                    i80 = i4;
                                                                    i98 = i5;
                                                                    i97 = i84;
                                                                    exc2 = e;
                                                                    inputSurface30 = inputSurface35;
                                                                    if (exc2 instanceof IllegalStateException) {
                                                                    }
                                                                    StringBuilder sb22222222222222222222 = new StringBuilder();
                                                                    sb22222222222222222222.append("bitrate: ");
                                                                    i81 = i78;
                                                                    sb22222222222222222222.append(i81);
                                                                    sb22222222222222222222.append(" framerate: ");
                                                                    i82 = i79;
                                                                    sb22222222222222222222.append(i82);
                                                                    sb22222222222222222222.append(" size: ");
                                                                    sb22222222222222222222.append(i98);
                                                                    str13 = "x";
                                                                    sb22222222222222222222.append(str13);
                                                                    sb22222222222222222222.append(i97);
                                                                    FileLog.e(sb22222222222222222222.toString());
                                                                    FileLog.e(exc2);
                                                                    i83 = i98;
                                                                    z40 = z3;
                                                                    z11 = true;
                                                                    outputSurface9 = outputSurface8;
                                                                    inputSurface34 = inputSurface30;
                                                                    if (outputSurface9 != null) {
                                                                    }
                                                                    if (inputSurface34 != null) {
                                                                    }
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    if (audioRecoder4 != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    i11 = i83;
                                                                    i100 = i81;
                                                                    inputSurface3 = inputSurface34;
                                                                    file = file6;
                                                                    file2 = file5;
                                                                    str4 = str12;
                                                                    i10 = i80;
                                                                    mediaCodec6 = null;
                                                                    z2 = z;
                                                                    z5 = z40;
                                                                    outputSurface3 = outputSurface9;
                                                                    bufferInfo = bufferInfo2;
                                                                    mediaExtractor2 = this.extractor;
                                                                    if (mediaExtractor2 != null) {
                                                                    }
                                                                    muxer2 = this.muxer;
                                                                    if (muxer2 != null) {
                                                                    }
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    if (mediaCodec6 != null) {
                                                                    }
                                                                    if (outputSurface3 != null) {
                                                                    }
                                                                    if (inputSurface3 != null) {
                                                                    }
                                                                    str5 = str4;
                                                                    i5 = i11;
                                                                    z7 = z11;
                                                                    if (z5) {
                                                                    }
                                                                }
                                                            } catch (Exception e30) {
                                                                e = e30;
                                                                inputSurface35 = obj3;
                                                                i80 = i4;
                                                                i98 = i5;
                                                                i97 = i84;
                                                                exc2 = e;
                                                                inputSurface30 = inputSurface35;
                                                                if (exc2 instanceof IllegalStateException) {
                                                                }
                                                                StringBuilder sb222222222222222222222 = new StringBuilder();
                                                                sb222222222222222222222.append("bitrate: ");
                                                                i81 = i78;
                                                                sb222222222222222222222.append(i81);
                                                                sb222222222222222222222.append(" framerate: ");
                                                                i82 = i79;
                                                                sb222222222222222222222.append(i82);
                                                                sb222222222222222222222.append(" size: ");
                                                                sb222222222222222222222.append(i98);
                                                                str13 = "x";
                                                                sb222222222222222222222.append(str13);
                                                                sb222222222222222222222.append(i97);
                                                                FileLog.e(sb222222222222222222222.toString());
                                                                FileLog.e(exc2);
                                                                i83 = i98;
                                                                z40 = z3;
                                                                z11 = true;
                                                                outputSurface9 = outputSurface8;
                                                                inputSurface34 = inputSurface30;
                                                                if (outputSurface9 != null) {
                                                                }
                                                                if (inputSurface34 != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (audioRecoder4 != null) {
                                                                }
                                                                checkConversionCanceled();
                                                                i11 = i83;
                                                                i100 = i81;
                                                                inputSurface3 = inputSurface34;
                                                                file = file6;
                                                                file2 = file5;
                                                                str4 = str12;
                                                                i10 = i80;
                                                                mediaCodec6 = null;
                                                                z2 = z;
                                                                z5 = z40;
                                                                outputSurface3 = outputSurface9;
                                                                bufferInfo = bufferInfo2;
                                                                mediaExtractor2 = this.extractor;
                                                                if (mediaExtractor2 != null) {
                                                                }
                                                                muxer2 = this.muxer;
                                                                if (muxer2 != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (mediaCodec6 != null) {
                                                                }
                                                                if (outputSurface3 != null) {
                                                                }
                                                                if (inputSurface3 != null) {
                                                                }
                                                                str5 = str4;
                                                                i5 = i11;
                                                                z7 = z11;
                                                                if (z5) {
                                                                }
                                                            } catch (Throwable th30) {
                                                                th = th30;
                                                                z2 = z;
                                                                inputSurface27 = obj3;
                                                                bufferInfo = bufferInfo2;
                                                                outputSurface = outputSurface8;
                                                                i97 = i84;
                                                                i3 = i79;
                                                                file = file6;
                                                                file2 = file5;
                                                                z4 = z6;
                                                                i100 = i78;
                                                                str4 = str12;
                                                                str3 = "x";
                                                                mediaCodec = null;
                                                                z3 = false;
                                                                inputSurface26 = inputSurface27;
                                                                th = th;
                                                                inputSurface2 = inputSurface26;
                                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                FileLog.e(th);
                                                                mediaExtractor = this.extractor;
                                                                if (mediaExtractor != null) {
                                                                }
                                                                muxer = this.muxer;
                                                                if (muxer != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (mediaCodec != null) {
                                                                }
                                                                if (outputSurface != null) {
                                                                }
                                                                if (inputSurface2 != null) {
                                                                }
                                                                str5 = str4;
                                                                z5 = z3;
                                                                z6 = z4;
                                                                z7 = true;
                                                                if (z5) {
                                                                }
                                                            }
                                                        }
                                                        i91 = -1;
                                                    }
                                                    if (i90 == i91) {
                                                        bufferInfo3 = bufferInfo2;
                                                        str19 = str15;
                                                        addTrack = i88;
                                                        i87 = i89;
                                                        z41 = z46;
                                                        audioRecoder5 = audioRecoder4;
                                                        outputSurface8 = outputSurface11;
                                                        obj3 = obj2;
                                                    } else {
                                                        if (z44) {
                                                            inputSurface45 = inputSurface40;
                                                            outputSurface8 = outputSurface11;
                                                            i87 = i89;
                                                        } else {
                                                            int i109 = i89;
                                                            long j33 = (i109 / 30.0f) * 1000.0f * 1000.0f * 1000.0f;
                                                            outputSurface8 = outputSurface11;
                                                            try {
                                                                outputSurface8.drawImage(j33);
                                                                inputSurface44 = inputSurface40;
                                                                try {
                                                                    inputSurface44.setPresentationTime(j33);
                                                                    inputSurface44.swapBuffers();
                                                                    i87 = i109 + 1;
                                                                    inputSurface45 = inputSurface44;
                                                                    if (i87 >= 30.0f * f3) {
                                                                        mediaCodec2.signalEndOfInputStream();
                                                                        z44 = true;
                                                                        z45 = false;
                                                                        inputSurface45 = inputSurface44;
                                                                    }
                                                                } catch (Exception e31) {
                                                                    e = e31;
                                                                    exc2 = e;
                                                                    inputSurface42 = inputSurface44;
                                                                    i80 = i4;
                                                                    i98 = i5;
                                                                    i97 = i84;
                                                                    inputSurface30 = inputSurface42;
                                                                    if (exc2 instanceof IllegalStateException) {
                                                                    }
                                                                    StringBuilder sb2222222222222222222222 = new StringBuilder();
                                                                    sb2222222222222222222222.append("bitrate: ");
                                                                    i81 = i78;
                                                                    sb2222222222222222222222.append(i81);
                                                                    sb2222222222222222222222.append(" framerate: ");
                                                                    i82 = i79;
                                                                    sb2222222222222222222222.append(i82);
                                                                    sb2222222222222222222222.append(" size: ");
                                                                    sb2222222222222222222222.append(i98);
                                                                    str13 = "x";
                                                                    sb2222222222222222222222.append(str13);
                                                                    sb2222222222222222222222.append(i97);
                                                                    FileLog.e(sb2222222222222222222222.toString());
                                                                    FileLog.e(exc2);
                                                                    i83 = i98;
                                                                    z40 = z3;
                                                                    z11 = true;
                                                                    outputSurface9 = outputSurface8;
                                                                    inputSurface34 = inputSurface30;
                                                                    if (outputSurface9 != null) {
                                                                    }
                                                                    if (inputSurface34 != null) {
                                                                    }
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    if (audioRecoder4 != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    i11 = i83;
                                                                    i100 = i81;
                                                                    inputSurface3 = inputSurface34;
                                                                    file = file6;
                                                                    file2 = file5;
                                                                    str4 = str12;
                                                                    i10 = i80;
                                                                    mediaCodec6 = null;
                                                                    z2 = z;
                                                                    z5 = z40;
                                                                    outputSurface3 = outputSurface9;
                                                                    bufferInfo = bufferInfo2;
                                                                    mediaExtractor2 = this.extractor;
                                                                    if (mediaExtractor2 != null) {
                                                                    }
                                                                    muxer2 = this.muxer;
                                                                    if (muxer2 != null) {
                                                                    }
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    if (mediaCodec6 != null) {
                                                                    }
                                                                    if (outputSurface3 != null) {
                                                                    }
                                                                    if (inputSurface3 != null) {
                                                                    }
                                                                    str5 = str4;
                                                                    i5 = i11;
                                                                    z7 = z11;
                                                                    if (z5) {
                                                                    }
                                                                } catch (Throwable th31) {
                                                                    th = th31;
                                                                    th = th;
                                                                    inputSurface33 = inputSurface44;
                                                                    bufferInfo = bufferInfo2;
                                                                    outputSurface = outputSurface8;
                                                                    i97 = i84;
                                                                    i3 = i79;
                                                                    file = file6;
                                                                    file2 = file5;
                                                                    z4 = z6;
                                                                    i100 = i78;
                                                                    str4 = str12;
                                                                    str3 = "x";
                                                                    mediaCodec = null;
                                                                    z3 = false;
                                                                    z2 = z;
                                                                    inputSurface2 = inputSurface33;
                                                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                    FileLog.e(th);
                                                                    mediaExtractor = this.extractor;
                                                                    if (mediaExtractor != null) {
                                                                    }
                                                                    muxer = this.muxer;
                                                                    if (muxer != null) {
                                                                    }
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    if (mediaCodec != null) {
                                                                    }
                                                                    if (outputSurface != null) {
                                                                    }
                                                                    if (inputSurface2 != null) {
                                                                    }
                                                                    str5 = str4;
                                                                    z5 = z3;
                                                                    z6 = z4;
                                                                    z7 = true;
                                                                    if (z5) {
                                                                    }
                                                                }
                                                            } catch (Exception e32) {
                                                                e = e32;
                                                                inputSurface44 = inputSurface40;
                                                            } catch (Throwable th32) {
                                                                th = th32;
                                                                inputSurface44 = inputSurface40;
                                                            }
                                                        }
                                                        inputSurface40 = inputSurface45;
                                                        bufferInfo3 = bufferInfo2;
                                                        str19 = str15;
                                                        addTrack = i88;
                                                        z41 = z46;
                                                        audioRecoder5 = audioRecoder4;
                                                        obj3 = obj2;
                                                    }
                                                } catch (Exception e33) {
                                                    e = e33;
                                                    audioRecoder4 = audioRecoder5;
                                                }
                                            } catch (Throwable th33) {
                                                th = th33;
                                                obj3 = inputSurface40;
                                            }
                                        }
                                    }
                                } catch (Exception e34) {
                                    e = e34;
                                    audioRecoder4 = audioRecoder5;
                                    obj3 = inputSurface40;
                                    bufferInfo2 = bufferInfo3;
                                } catch (Throwable th34) {
                                    th = th34;
                                    obj3 = inputSurface40;
                                    bufferInfo2 = bufferInfo3;
                                }
                                i86 = i87;
                                inputSurface40 = inputSurface40;
                            }
                            if (outputSurface9 != null) {
                                try {
                                    outputSurface9.release();
                                    outputSurface9 = null;
                                } catch (Throwable th35) {
                                    z3 = z40;
                                    i100 = i81;
                                    i3 = i82;
                                    inputSurface33 = inputSurface34;
                                    str3 = str13;
                                    outputSurface = outputSurface9;
                                    file = file6;
                                    file2 = file5;
                                    z4 = z6;
                                    str4 = str12;
                                    i4 = i80;
                                    mediaCodec = null;
                                    th = th35;
                                    i5 = i83;
                                    bufferInfo = bufferInfo2;
                                    z2 = z;
                                    inputSurface2 = inputSurface33;
                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                    FileLog.e(th);
                                    mediaExtractor = this.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    muxer = this.muxer;
                                    if (muxer != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface2 != null) {
                                    }
                                    str5 = str4;
                                    z5 = z3;
                                    z6 = z4;
                                    z7 = true;
                                    if (z5) {
                                    }
                                }
                            }
                            if (inputSurface34 != null) {
                                inputSurface34.release();
                                inputSurface34 = null;
                            }
                            if (mediaCodec2 != null) {
                                mediaCodec2.stop();
                                mediaCodec2.release();
                                mediaCodec2 = null;
                            }
                            if (audioRecoder4 != null) {
                                audioRecoder4.release();
                            }
                            checkConversionCanceled();
                            i11 = i83;
                            i100 = i81;
                            inputSurface3 = inputSurface34;
                            file = file6;
                            file2 = file5;
                            str4 = str12;
                            i10 = i80;
                            mediaCodec6 = null;
                            z2 = z;
                            z5 = z40;
                            outputSurface3 = outputSurface9;
                            bufferInfo = bufferInfo2;
                            mediaExtractor2 = this.extractor;
                            if (mediaExtractor2 != null) {
                                mediaExtractor2.release();
                            }
                            muxer2 = this.muxer;
                            if (muxer2 != null) {
                                try {
                                    muxer2.finishMovie();
                                    this.endPresentationTime = this.muxer.getLastFrameTimestamp(i10, bufferInfo);
                                } catch (Throwable th36) {
                                    FileLog.e(th36);
                                }
                            }
                            if (mediaCodec2 != null) {
                                try {
                                    mediaCodec2.release();
                                } catch (Exception unused) {
                                }
                            }
                            if (mediaCodec6 != null) {
                                try {
                                    mediaCodec6.release();
                                } catch (Exception unused2) {
                                }
                            }
                            if (outputSurface3 != null) {
                                try {
                                    outputSurface3.release();
                                } catch (Exception unused3) {
                                }
                            }
                            if (inputSurface3 != null) {
                                try {
                                    inputSurface3.release();
                                } catch (Exception unused4) {
                                }
                            }
                            str5 = str4;
                            i5 = i11;
                            z7 = z11;
                            if (z5) {
                                return convertVideoInternal(convertVideoParams, true, i + 1);
                            }
                            if (z7 && z6 && i < 3) {
                                return convertVideoInternal(convertVideoParams, z2, i + 1);
                            }
                            long currentTimeMillis2 = System.currentTimeMillis() - currentTimeMillis;
                            if (BuildVars.LOGS_ENABLED) {
                                FileLog.d("compression completed time=" + currentTimeMillis2 + " needCompress=" + file2 + " w=" + i97 + " h=" + i5 + " bitrate=" + i100 + " file size=" + AndroidUtilities.formatFileSize(file.length()) + " encoder_name=" + str5);
                            }
                            return z7;
                        }
                    }
                    i85 = i99;
                    cropState4 = null;
                    outputSurface8 = outputSurface10;
                    str12 = name;
                    outputSurface10 = new OutputSurface(savedFilterState, str16, str17, str18, arrayList, cropState4, i84, i5, i95, i96, i94, i85, true, num, num2, null, convertVideoParams);
                    if (Build.VERSION.SDK_INT >= 21) {
                    }
                    checkConversionCanceled();
                    if (!z54) {
                    }
                    if (convertVideoParams6.soundInfos.isEmpty()) {
                    }
                    long j312 = 0;
                    z43 = false;
                    z44 = false;
                    int i1022 = 0;
                    i86 = 0;
                    inputSurface40 = inputSurface37;
                    loop0: while (true) {
                        if (!z43) {
                        }
                        checkConversionCanceled();
                        if (audioRecoder5 != null) {
                        }
                        boolean z552 = true;
                        int i1032 = i86;
                        z45 = !z44;
                        i87 = i1032;
                        while (true) {
                            if (!z45) {
                            }
                            checkConversionCanceled();
                            if (z) {
                            }
                            dequeueOutputBuffer2 = mediaCodec2.dequeueOutputBuffer(bufferInfo2, j25);
                            if (dequeueOutputBuffer2 != -1) {
                            }
                            if (i90 == i91) {
                            }
                        }
                        i86 = i87;
                        inputSurface40 = inputSurface40;
                    }
                    if (outputSurface9 != null) {
                    }
                    if (inputSurface34 != null) {
                    }
                    if (mediaCodec2 != null) {
                    }
                    if (audioRecoder4 != null) {
                    }
                    checkConversionCanceled();
                    i11 = i83;
                    i100 = i81;
                    inputSurface3 = inputSurface34;
                    file = file6;
                    file2 = file5;
                    str4 = str12;
                    i10 = i80;
                    mediaCodec6 = null;
                    z2 = z;
                    z5 = z40;
                    outputSurface3 = outputSurface9;
                    bufferInfo = bufferInfo2;
                    mediaExtractor2 = this.extractor;
                    if (mediaExtractor2 != null) {
                    }
                    muxer2 = this.muxer;
                    if (muxer2 != null) {
                    }
                    if (mediaCodec2 != null) {
                    }
                    if (mediaCodec6 != null) {
                    }
                    if (outputSurface3 != null) {
                    }
                    if (inputSurface3 != null) {
                    }
                    str5 = str4;
                    i5 = i11;
                    z7 = z11;
                    if (z5) {
                    }
                } else {
                    String str20 = str19;
                    String str21 = "prepend-sps-pps-to-idr-frames";
                    try {
                        MediaExtractor mediaExtractor3 = new MediaExtractor();
                        this.extractor = mediaExtractor3;
                        mediaExtractor3.setDataSource(str16);
                        bufferInfo3 = bufferInfo3;
                        try {
                            findTrack = MediaController.findTrack(this.extractor, false);
                            if (i100 == -1 || z51 || f2 <= 0.0f) {
                                z8 = z54;
                                str6 = str16;
                                i6 = -1;
                            } else {
                                try {
                                    z8 = z54;
                                    i6 = MediaController.findTrack(this.extractor, true);
                                    str6 = str16;
                                } catch (Throwable th37) {
                                    z2 = z;
                                    th = th37;
                                    file = file6;
                                    str3 = "x";
                                    i3 = i99;
                                    i5 = i98;
                                    mediaCodec = null;
                                    mediaCodec2 = null;
                                    str4 = null;
                                    inputSurface2 = null;
                                    outputSurface = null;
                                    file2 = file5;
                                    bufferInfo = bufferInfo3;
                                    i4 = -5;
                                    z3 = false;
                                    z4 = false;
                                }
                            }
                        } catch (Throwable th38) {
                            th = th38;
                            z2 = z;
                            file = file6;
                            str3 = "x";
                            i3 = i99;
                            i2 = i98;
                            file2 = file5;
                            bufferInfo = bufferInfo3;
                            th = th;
                            mediaCodec = null;
                            i4 = -5;
                            mediaCodec2 = null;
                            str4 = null;
                            inputSurface = null;
                            z3 = false;
                            z4 = false;
                            outputSurface = null;
                            i5 = i2;
                            inputSurface2 = inputSurface;
                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                            FileLog.e(th);
                            mediaExtractor = this.extractor;
                            if (mediaExtractor != null) {
                            }
                            muxer = this.muxer;
                            if (muxer != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec != null) {
                            }
                            if (outputSurface != null) {
                            }
                            if (inputSurface2 != null) {
                            }
                            str5 = str4;
                            z5 = z3;
                            z6 = z4;
                            z7 = true;
                            if (z5) {
                            }
                        }
                    } catch (Throwable th39) {
                        th = th39;
                        z2 = z;
                        file = file6;
                        str3 = "x";
                        i3 = i99;
                        i2 = i98;
                        file2 = file5;
                        bufferInfo = bufferInfo3;
                        th = th;
                        mediaCodec = null;
                        i4 = -5;
                        mediaCodec2 = null;
                        str4 = null;
                        inputSurface = null;
                        z3 = false;
                        z4 = false;
                        outputSurface = null;
                        i5 = i2;
                        inputSurface2 = inputSurface;
                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                        FileLog.e(th);
                        mediaExtractor = this.extractor;
                        if (mediaExtractor != null) {
                        }
                        muxer = this.muxer;
                        if (muxer != null) {
                        }
                        if (mediaCodec2 != null) {
                        }
                        if (mediaCodec != null) {
                        }
                        if (outputSurface != null) {
                        }
                        if (inputSurface2 != null) {
                        }
                        str5 = str4;
                        z5 = z3;
                        z6 = z4;
                        z7 = true;
                        if (z5) {
                        }
                    }
                    if (findTrack >= 0) {
                        i7 = i6;
                        if (!this.extractor.getTrackFormat(findTrack).getString("mime").equals(MediaController.VIDEO_MIME_TYPE)) {
                            z9 = true;
                            if (file5 == null || z9) {
                                long j34 = j26;
                                file2 = file5;
                                MediaCodec.BufferInfo bufferInfo4 = bufferInfo3;
                                file5 = file6;
                                int i110 = i98;
                                if (findTrack < 0) {
                                    try {
                                        j = (1000 / i99) * 1000;
                                        if (i99 < 30) {
                                            try {
                                                i20 = 1000 / (i99 + 5);
                                            } catch (Exception e35) {
                                                exc = e35;
                                                i14 = findTrack;
                                                i3 = i99;
                                                i17 = i100;
                                                i15 = i97;
                                                i16 = i110;
                                                file = file5;
                                                bufferInfo = bufferInfo4;
                                                i18 = -5;
                                                mediaCodec7 = null;
                                                mediaCodec8 = null;
                                                str4 = null;
                                                InputSurface inputSurface48 = null;
                                                z4 = false;
                                                audioRecoder2 = null;
                                                outputSurface = null;
                                                mediaCodec2 = mediaCodec8;
                                                inputSurface = inputSurface48;
                                                i19 = i16;
                                                try {
                                                    if (exc instanceof IllegalStateException) {
                                                    }
                                                    z3 = false;
                                                    try {
                                                        StringBuilder sb5 = new StringBuilder();
                                                        sb5.append("bitrate: ");
                                                        sb5.append(i17);
                                                        sb5.append(" framerate: ");
                                                        sb5.append(i3);
                                                        sb5.append(" size: ");
                                                        i2 = i19;
                                                        try {
                                                            sb5.append(i2);
                                                            str3 = "x";
                                                            try {
                                                                sb5.append(str3);
                                                                i8 = i15;
                                                                try {
                                                                    sb5.append(i8);
                                                                    FileLog.e(sb5.toString());
                                                                    FileLog.e(exc);
                                                                    i9 = i18;
                                                                    mediaCodec = mediaCodec7;
                                                                    mediaCodec4 = mediaCodec2;
                                                                    z10 = z3;
                                                                    audioRecoder = audioRecoder2;
                                                                    z11 = true;
                                                                    i100 = i17;
                                                                    inputSurface = inputSurface;
                                                                    this.extractor.unselectTrack(i14);
                                                                    if (mediaCodec != null) {
                                                                    }
                                                                    mediaCodec3 = mediaCodec;
                                                                    outputSurface2 = outputSurface;
                                                                    if (outputSurface2 != null) {
                                                                    }
                                                                    if (inputSurface != null) {
                                                                    }
                                                                    if (mediaCodec4 == null) {
                                                                    }
                                                                    if (audioRecoder != null) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    z5 = z10;
                                                                    outputSurface3 = outputSurface2;
                                                                    i97 = i8;
                                                                    i10 = i9;
                                                                    inputSurface3 = inputSurface;
                                                                    mediaCodec2 = mediaCodec5;
                                                                    z6 = z4;
                                                                    mediaCodec6 = mediaCodec3;
                                                                    i11 = i2;
                                                                    mediaExtractor2 = this.extractor;
                                                                    if (mediaExtractor2 != null) {
                                                                    }
                                                                    muxer2 = this.muxer;
                                                                    if (muxer2 != null) {
                                                                    }
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    if (mediaCodec6 != null) {
                                                                    }
                                                                    if (outputSurface3 != null) {
                                                                    }
                                                                    if (inputSurface3 != null) {
                                                                    }
                                                                    str5 = str4;
                                                                    i5 = i11;
                                                                    z7 = z11;
                                                                } catch (Throwable th40) {
                                                                    th = th40;
                                                                    th = th;
                                                                    i4 = i18;
                                                                    mediaCodec = mediaCodec7;
                                                                    i97 = i8;
                                                                    i100 = i17;
                                                                    i5 = i2;
                                                                    inputSurface2 = inputSurface;
                                                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                    FileLog.e(th);
                                                                    mediaExtractor = this.extractor;
                                                                    if (mediaExtractor != null) {
                                                                    }
                                                                    muxer = this.muxer;
                                                                    if (muxer != null) {
                                                                    }
                                                                    if (mediaCodec2 != null) {
                                                                    }
                                                                    if (mediaCodec != null) {
                                                                    }
                                                                    if (outputSurface != null) {
                                                                    }
                                                                    if (inputSurface2 != null) {
                                                                    }
                                                                    str5 = str4;
                                                                    z5 = z3;
                                                                    z6 = z4;
                                                                    z7 = true;
                                                                    if (z5) {
                                                                    }
                                                                }
                                                            } catch (Throwable th41) {
                                                                th = th41;
                                                                i8 = i15;
                                                                th = th;
                                                                i4 = i18;
                                                                mediaCodec = mediaCodec7;
                                                                i97 = i8;
                                                                i100 = i17;
                                                                i5 = i2;
                                                                inputSurface2 = inputSurface;
                                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                FileLog.e(th);
                                                                mediaExtractor = this.extractor;
                                                                if (mediaExtractor != null) {
                                                                }
                                                                muxer = this.muxer;
                                                                if (muxer != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (mediaCodec != null) {
                                                                }
                                                                if (outputSurface != null) {
                                                                }
                                                                if (inputSurface2 != null) {
                                                                }
                                                                str5 = str4;
                                                                z5 = z3;
                                                                z6 = z4;
                                                                z7 = true;
                                                                if (z5) {
                                                                }
                                                            }
                                                        } catch (Throwable th42) {
                                                            th = th42;
                                                            str3 = "x";
                                                            i8 = i15;
                                                            th = th;
                                                            i4 = i18;
                                                            mediaCodec = mediaCodec7;
                                                            i97 = i8;
                                                            i100 = i17;
                                                            i5 = i2;
                                                            inputSurface2 = inputSurface;
                                                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                            FileLog.e(th);
                                                            mediaExtractor = this.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            muxer = this.muxer;
                                                            if (muxer != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface2 != null) {
                                                            }
                                                            str5 = str4;
                                                            z5 = z3;
                                                            z6 = z4;
                                                            z7 = true;
                                                            if (z5) {
                                                            }
                                                        }
                                                    } catch (Throwable th43) {
                                                        th = th43;
                                                        i2 = i19;
                                                    }
                                                } catch (Throwable th44) {
                                                    z2 = z;
                                                    i2 = i19;
                                                    str3 = "x";
                                                    th = th44;
                                                    i4 = i18;
                                                    mediaCodec = mediaCodec7;
                                                    i97 = i15;
                                                    z3 = false;
                                                }
                                                if (z5) {
                                                }
                                            }
                                        } else {
                                            i20 = 1000 / (i99 + 1);
                                        }
                                        j2 = i20 * 1000;
                                        this.extractor.selectTrack(findTrack);
                                        trackFormat = this.extractor.getTrackFormat(findTrack);
                                        if (z53) {
                                            int i111 = f3 <= 2000.0f ? 2600000 : f3 <= 5000.0f ? 2200000 : 1560000;
                                            i21 = i101;
                                            if (i21 >= 15000000) {
                                                str7 = "OMX.google.h264.encoder";
                                                i22 = findTrack;
                                                i23 = i111;
                                            } else {
                                                i22 = findTrack;
                                                i23 = i111;
                                                str7 = null;
                                            }
                                            j29 = 0;
                                        } else {
                                            i21 = i101;
                                            i22 = findTrack;
                                            i23 = i100 <= 0 ? 921600 : i100;
                                            str7 = null;
                                        }
                                        if (i21 > 0) {
                                            try {
                                                i17 = Math.min(i21, i23);
                                            } catch (Exception e36) {
                                                exc = e36;
                                                i17 = i23;
                                                i3 = i99;
                                                i15 = i97;
                                                i16 = i110;
                                                file = file5;
                                                bufferInfo = bufferInfo4;
                                                i14 = i22;
                                                i18 = -5;
                                                mediaCodec7 = null;
                                                mediaCodec8 = null;
                                                str4 = null;
                                                InputSurface inputSurface482 = null;
                                                z4 = false;
                                                audioRecoder2 = null;
                                                outputSurface = null;
                                                mediaCodec2 = mediaCodec8;
                                                inputSurface = inputSurface482;
                                                i19 = i16;
                                                if (exc instanceof IllegalStateException) {
                                                }
                                                z3 = false;
                                                StringBuilder sb52 = new StringBuilder();
                                                sb52.append("bitrate: ");
                                                sb52.append(i17);
                                                sb52.append(" framerate: ");
                                                sb52.append(i3);
                                                sb52.append(" size: ");
                                                i2 = i19;
                                                sb52.append(i2);
                                                str3 = "x";
                                                sb52.append(str3);
                                                i8 = i15;
                                                sb52.append(i8);
                                                FileLog.e(sb52.toString());
                                                FileLog.e(exc);
                                                i9 = i18;
                                                mediaCodec = mediaCodec7;
                                                mediaCodec4 = mediaCodec2;
                                                z10 = z3;
                                                audioRecoder = audioRecoder2;
                                                z11 = true;
                                                i100 = i17;
                                                inputSurface = inputSurface;
                                                this.extractor.unselectTrack(i14);
                                                if (mediaCodec != null) {
                                                }
                                                mediaCodec3 = mediaCodec;
                                                outputSurface2 = outputSurface;
                                                if (outputSurface2 != null) {
                                                }
                                                if (inputSurface != null) {
                                                }
                                                if (mediaCodec4 == null) {
                                                }
                                                if (audioRecoder != null) {
                                                }
                                                checkConversionCanceled();
                                                z5 = z10;
                                                outputSurface3 = outputSurface2;
                                                i97 = i8;
                                                i10 = i9;
                                                inputSurface3 = inputSurface;
                                                mediaCodec2 = mediaCodec5;
                                                z6 = z4;
                                                mediaCodec6 = mediaCodec3;
                                                i11 = i2;
                                                mediaExtractor2 = this.extractor;
                                                if (mediaExtractor2 != null) {
                                                }
                                                muxer2 = this.muxer;
                                                if (muxer2 != null) {
                                                }
                                                if (mediaCodec2 != null) {
                                                }
                                                if (mediaCodec6 != null) {
                                                }
                                                if (outputSurface3 != null) {
                                                }
                                                if (inputSurface3 != null) {
                                                }
                                                str5 = str4;
                                                i5 = i11;
                                                z7 = z11;
                                                if (z5) {
                                                }
                                            } catch (Throwable th45) {
                                                z2 = z;
                                                th = th45;
                                                i100 = i23;
                                                i3 = i99;
                                                int i112 = i110;
                                                i97 = i97;
                                                i5 = i112;
                                                file = file5;
                                                bufferInfo = bufferInfo4;
                                                str3 = "x";
                                                mediaCodec = null;
                                                i4 = -5;
                                                mediaCodec2 = null;
                                                str4 = null;
                                                inputSurface4 = null;
                                                z3 = false;
                                                z4 = false;
                                                outputSurface = null;
                                                inputSurface2 = inputSurface4;
                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                FileLog.e(th);
                                                mediaExtractor = this.extractor;
                                                if (mediaExtractor != null) {
                                                }
                                                muxer = this.muxer;
                                                if (muxer != null) {
                                                }
                                                if (mediaCodec2 != null) {
                                                }
                                                if (mediaCodec != null) {
                                                }
                                                if (outputSurface != null) {
                                                }
                                                if (inputSurface2 != null) {
                                                }
                                                str5 = str4;
                                                z5 = z3;
                                                z6 = z4;
                                                z7 = true;
                                                if (z5) {
                                                }
                                            }
                                        } else {
                                            i17 = i23;
                                        }
                                        str8 = "mime";
                                        j3 = j29 >= 0 ? -1L : j29;
                                        try {
                                            try {
                                            } catch (Throwable th46) {
                                                z2 = z;
                                                th = th46;
                                                i100 = i17;
                                                i3 = i99;
                                                int i1122 = i110;
                                                i97 = i97;
                                                i5 = i1122;
                                                file = file5;
                                                bufferInfo = bufferInfo4;
                                                str3 = "x";
                                                mediaCodec = null;
                                                i4 = -5;
                                                mediaCodec2 = null;
                                                str4 = null;
                                                inputSurface4 = null;
                                                z3 = false;
                                                z4 = false;
                                                outputSurface = null;
                                                inputSurface2 = inputSurface4;
                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                FileLog.e(th);
                                                mediaExtractor = this.extractor;
                                                if (mediaExtractor != null) {
                                                }
                                                muxer = this.muxer;
                                                if (muxer != null) {
                                                }
                                                if (mediaCodec2 != null) {
                                                }
                                                if (mediaCodec != null) {
                                                }
                                                if (outputSurface != null) {
                                                }
                                                if (inputSurface2 != null) {
                                                }
                                                str5 = str4;
                                                z5 = z3;
                                                z6 = z4;
                                                z7 = true;
                                                if (z5) {
                                                }
                                            }
                                        } catch (Exception e37) {
                                            exc = e37;
                                            i3 = i99;
                                            i15 = i97;
                                            i16 = i110;
                                            file = file5;
                                            bufferInfo = bufferInfo4;
                                            i14 = i22;
                                            i18 = -5;
                                            mediaCodec7 = null;
                                            mediaCodec8 = null;
                                            str4 = null;
                                            InputSurface inputSurface4822 = null;
                                            z4 = false;
                                            audioRecoder2 = null;
                                            outputSurface = null;
                                            mediaCodec2 = mediaCodec8;
                                            inputSurface = inputSurface4822;
                                            i19 = i16;
                                            if (exc instanceof IllegalStateException) {
                                            }
                                            z3 = false;
                                            StringBuilder sb522 = new StringBuilder();
                                            sb522.append("bitrate: ");
                                            sb522.append(i17);
                                            sb522.append(" framerate: ");
                                            sb522.append(i3);
                                            sb522.append(" size: ");
                                            i2 = i19;
                                            sb522.append(i2);
                                            str3 = "x";
                                            sb522.append(str3);
                                            i8 = i15;
                                            sb522.append(i8);
                                            FileLog.e(sb522.toString());
                                            FileLog.e(exc);
                                            i9 = i18;
                                            mediaCodec = mediaCodec7;
                                            mediaCodec4 = mediaCodec2;
                                            z10 = z3;
                                            audioRecoder = audioRecoder2;
                                            z11 = true;
                                            i100 = i17;
                                            inputSurface = inputSurface;
                                            this.extractor.unselectTrack(i14);
                                            if (mediaCodec != null) {
                                            }
                                            mediaCodec3 = mediaCodec;
                                            outputSurface2 = outputSurface;
                                            if (outputSurface2 != null) {
                                            }
                                            if (inputSurface != null) {
                                            }
                                            if (mediaCodec4 == null) {
                                            }
                                            if (audioRecoder != null) {
                                            }
                                            checkConversionCanceled();
                                            z5 = z10;
                                            outputSurface3 = outputSurface2;
                                            i97 = i8;
                                            i10 = i9;
                                            inputSurface3 = inputSurface;
                                            mediaCodec2 = mediaCodec5;
                                            z6 = z4;
                                            mediaCodec6 = mediaCodec3;
                                            i11 = i2;
                                            mediaExtractor2 = this.extractor;
                                            if (mediaExtractor2 != null) {
                                            }
                                            muxer2 = this.muxer;
                                            if (muxer2 != null) {
                                            }
                                            if (mediaCodec2 != null) {
                                            }
                                            if (mediaCodec6 != null) {
                                            }
                                            if (outputSurface3 != null) {
                                            }
                                            if (inputSurface3 != null) {
                                            }
                                            str5 = str4;
                                            i5 = i11;
                                            z7 = z11;
                                            if (z5) {
                                            }
                                        }
                                    } catch (Exception e38) {
                                        i14 = findTrack;
                                        i3 = i99;
                                        i15 = i97;
                                        i16 = i110;
                                        file = file5;
                                        bufferInfo = bufferInfo4;
                                        exc = e38;
                                        i17 = i100;
                                    } catch (Throwable th47) {
                                        i3 = i99;
                                        i12 = i97;
                                        i13 = i110;
                                        file = file5;
                                        bufferInfo = bufferInfo4;
                                        z2 = z;
                                        th = th47;
                                        i100 = i100;
                                    }
                                    try {
                                        if (j3 >= 0) {
                                            j4 = j;
                                            this.extractor.seekTo(j3, 0);
                                            j6 = r3;
                                            j5 = j3;
                                        } else {
                                            j4 = j;
                                            if (r3 > 0) {
                                                j5 = j3;
                                                this.extractor.seekTo(r3, 0);
                                                j6 = r3;
                                            } else {
                                                j5 = j3;
                                                try {
                                                    j6 = r3;
                                                    this.extractor.seekTo(0L, 0);
                                                    if (cropState5 == null && cropState5.useMatrix == null) {
                                                        i24 = i94;
                                                        if (i24 != 90 && i24 != 270) {
                                                            i76 = cropState5.transformWidth;
                                                            i77 = cropState5.transformHeight;
                                                            int i113 = i77;
                                                            i25 = i76;
                                                            i26 = i113;
                                                        }
                                                        i76 = cropState5.transformHeight;
                                                        i77 = cropState5.transformWidth;
                                                        int i1132 = i77;
                                                        i25 = i76;
                                                        i26 = i1132;
                                                    } else {
                                                        i24 = i94;
                                                        i25 = i97;
                                                        i26 = i110;
                                                    }
                                                } catch (Exception e39) {
                                                    i3 = i99;
                                                    i15 = i97;
                                                    i16 = i110;
                                                    file = file5;
                                                    bufferInfo = bufferInfo4;
                                                    i14 = i22;
                                                    exc = e39;
                                                    i18 = -5;
                                                    mediaCodec7 = null;
                                                    mediaCodec8 = null;
                                                    str4 = null;
                                                    InputSurface inputSurface48222 = null;
                                                    z4 = false;
                                                    audioRecoder2 = null;
                                                    outputSurface = null;
                                                    mediaCodec2 = mediaCodec8;
                                                    inputSurface = inputSurface48222;
                                                    i19 = i16;
                                                    if (exc instanceof IllegalStateException) {
                                                    }
                                                    z3 = false;
                                                    StringBuilder sb5222 = new StringBuilder();
                                                    sb5222.append("bitrate: ");
                                                    sb5222.append(i17);
                                                    sb5222.append(" framerate: ");
                                                    sb5222.append(i3);
                                                    sb5222.append(" size: ");
                                                    i2 = i19;
                                                    sb5222.append(i2);
                                                    str3 = "x";
                                                    sb5222.append(str3);
                                                    i8 = i15;
                                                    sb5222.append(i8);
                                                    FileLog.e(sb5222.toString());
                                                    FileLog.e(exc);
                                                    i9 = i18;
                                                    mediaCodec = mediaCodec7;
                                                    mediaCodec4 = mediaCodec2;
                                                    z10 = z3;
                                                    audioRecoder = audioRecoder2;
                                                    z11 = true;
                                                    i100 = i17;
                                                    inputSurface = inputSurface;
                                                    this.extractor.unselectTrack(i14);
                                                    if (mediaCodec != null) {
                                                    }
                                                    mediaCodec3 = mediaCodec;
                                                    outputSurface2 = outputSurface;
                                                    if (outputSurface2 != null) {
                                                    }
                                                    if (inputSurface != null) {
                                                    }
                                                    if (mediaCodec4 == null) {
                                                    }
                                                    if (audioRecoder != null) {
                                                    }
                                                    checkConversionCanceled();
                                                    z5 = z10;
                                                    outputSurface3 = outputSurface2;
                                                    i97 = i8;
                                                    i10 = i9;
                                                    inputSurface3 = inputSurface;
                                                    mediaCodec2 = mediaCodec5;
                                                    z6 = z4;
                                                    mediaCodec6 = mediaCodec3;
                                                    i11 = i2;
                                                    mediaExtractor2 = this.extractor;
                                                    if (mediaExtractor2 != null) {
                                                    }
                                                    muxer2 = this.muxer;
                                                    if (muxer2 != null) {
                                                    }
                                                    if (mediaCodec2 != null) {
                                                    }
                                                    if (mediaCodec6 != null) {
                                                    }
                                                    if (outputSurface3 != null) {
                                                    }
                                                    if (inputSurface3 != null) {
                                                    }
                                                    str5 = str4;
                                                    i5 = i11;
                                                    z7 = z11;
                                                    if (z5) {
                                                    }
                                                } catch (Throwable th48) {
                                                    i3 = i99;
                                                    i12 = i97;
                                                    i13 = i110;
                                                    file = file5;
                                                    bufferInfo = bufferInfo4;
                                                    z2 = z;
                                                    th = th48;
                                                    i100 = i17;
                                                    i5 = i13;
                                                    str3 = "x";
                                                    i97 = i12;
                                                    mediaCodec = null;
                                                    i4 = -5;
                                                    mediaCodec2 = null;
                                                    str4 = null;
                                                    inputSurface4 = null;
                                                    z3 = false;
                                                    z4 = false;
                                                    outputSurface = null;
                                                    inputSurface2 = inputSurface4;
                                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                    FileLog.e(th);
                                                    mediaExtractor = this.extractor;
                                                    if (mediaExtractor != null) {
                                                    }
                                                    muxer = this.muxer;
                                                    if (muxer != null) {
                                                    }
                                                    if (mediaCodec2 != null) {
                                                    }
                                                    if (mediaCodec != null) {
                                                    }
                                                    if (outputSurface != null) {
                                                    }
                                                    if (inputSurface2 != null) {
                                                    }
                                                    str5 = str4;
                                                    z5 = z3;
                                                    z6 = z4;
                                                    z7 = true;
                                                    if (z5) {
                                                    }
                                                }
                                                if (str7 != null) {
                                                    try {
                                                        createByCodecName = MediaCodec.createByCodecName(str7);
                                                    } catch (Exception unused5) {
                                                    }
                                                    if (createByCodecName == null) {
                                                        try {
                                                            createByCodecName = createEncoderForMimeType();
                                                        } catch (Exception e40) {
                                                            exc = e40;
                                                            mediaCodec8 = createByCodecName;
                                                            i3 = i99;
                                                            i15 = i97;
                                                            i16 = i110;
                                                            file = file5;
                                                            bufferInfo = bufferInfo4;
                                                            i14 = i22;
                                                            i18 = -5;
                                                            mediaCodec7 = null;
                                                            str4 = null;
                                                            InputSurface inputSurface482222 = null;
                                                            z4 = false;
                                                            audioRecoder2 = null;
                                                            outputSurface = null;
                                                            mediaCodec2 = mediaCodec8;
                                                            inputSurface = inputSurface482222;
                                                            i19 = i16;
                                                            if (exc instanceof IllegalStateException) {
                                                            }
                                                            z3 = false;
                                                            StringBuilder sb52222 = new StringBuilder();
                                                            sb52222.append("bitrate: ");
                                                            sb52222.append(i17);
                                                            sb52222.append(" framerate: ");
                                                            sb52222.append(i3);
                                                            sb52222.append(" size: ");
                                                            i2 = i19;
                                                            sb52222.append(i2);
                                                            str3 = "x";
                                                            sb52222.append(str3);
                                                            i8 = i15;
                                                            sb52222.append(i8);
                                                            FileLog.e(sb52222.toString());
                                                            FileLog.e(exc);
                                                            i9 = i18;
                                                            mediaCodec = mediaCodec7;
                                                            mediaCodec4 = mediaCodec2;
                                                            z10 = z3;
                                                            audioRecoder = audioRecoder2;
                                                            z11 = true;
                                                            i100 = i17;
                                                            inputSurface = inputSurface;
                                                            this.extractor.unselectTrack(i14);
                                                            if (mediaCodec != null) {
                                                            }
                                                            mediaCodec3 = mediaCodec;
                                                            outputSurface2 = outputSurface;
                                                            if (outputSurface2 != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            if (mediaCodec4 == null) {
                                                            }
                                                            if (audioRecoder != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            z5 = z10;
                                                            outputSurface3 = outputSurface2;
                                                            i97 = i8;
                                                            i10 = i9;
                                                            inputSurface3 = inputSurface;
                                                            mediaCodec2 = mediaCodec5;
                                                            z6 = z4;
                                                            mediaCodec6 = mediaCodec3;
                                                            i11 = i2;
                                                            mediaExtractor2 = this.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            muxer2 = this.muxer;
                                                            if (muxer2 != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec6 != null) {
                                                            }
                                                            if (outputSurface3 != null) {
                                                            }
                                                            if (inputSurface3 != null) {
                                                            }
                                                            str5 = str4;
                                                            i5 = i11;
                                                            z7 = z11;
                                                            if (z5) {
                                                            }
                                                        } catch (Throwable th49) {
                                                            z2 = z;
                                                            th = th49;
                                                            i100 = i17;
                                                            mediaCodec2 = createByCodecName;
                                                            i3 = i99;
                                                            i97 = i97;
                                                            i5 = i110;
                                                            file = file5;
                                                            bufferInfo = bufferInfo4;
                                                            str3 = "x";
                                                            mediaCodec = null;
                                                            i4 = -5;
                                                            str4 = null;
                                                            inputSurface4 = null;
                                                            z3 = false;
                                                            z4 = false;
                                                            outputSurface = null;
                                                            inputSurface2 = inputSurface4;
                                                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                            FileLog.e(th);
                                                            mediaExtractor = this.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            muxer = this.muxer;
                                                            if (muxer != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface2 != null) {
                                                            }
                                                            str5 = str4;
                                                            z5 = z3;
                                                            z6 = z4;
                                                            z7 = true;
                                                            if (z5) {
                                                            }
                                                        }
                                                    }
                                                    if (BuildVars.LOGS_ENABLED) {
                                                        FileLog.d("create encoder with w = " + i25 + " h = " + i26 + " bitrate = " + i17);
                                                    }
                                                    createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i25, i26);
                                                    createVideoFormat.setInteger("color-format", 2130708361);
                                                    createVideoFormat.setInteger("bitrate", i17);
                                                    if (z53 && Build.VERSION.SDK_INT >= 21) {
                                                        createVideoFormat.setInteger("bitrate-mode", 2);
                                                    }
                                                    createVideoFormat.setInteger("max-bitrate", i17);
                                                    createVideoFormat.setInteger("frame-rate", i99);
                                                    createVideoFormat.setInteger("i-frame-interval", 1);
                                                    i27 = Build.VERSION.SDK_INT;
                                                    if (i27 >= 24) {
                                                        mediaFormat = trackFormat;
                                                        if (mediaFormat.containsKey("color-transfer")) {
                                                            i28 = mediaFormat.getInteger("color-transfer");
                                                            f = f3;
                                                        } else {
                                                            f = f3;
                                                            i28 = 0;
                                                        }
                                                        if (mediaFormat.containsKey("color-standard")) {
                                                            i75 = mediaFormat.getInteger("color-standard");
                                                            z12 = z48;
                                                        } else {
                                                            z12 = z48;
                                                            i75 = 0;
                                                        }
                                                        if (mediaFormat.containsKey("color-range")) {
                                                            mediaFormat.getInteger("color-range");
                                                        }
                                                        if ((i28 == 6 || i28 == 7) && i75 == 6) {
                                                            i29 = i75;
                                                            z13 = true;
                                                        } else {
                                                            i29 = i75;
                                                            z13 = false;
                                                        }
                                                    } else {
                                                        z12 = z48;
                                                        mediaFormat = trackFormat;
                                                        f = f3;
                                                        z13 = false;
                                                        i28 = 0;
                                                        i29 = 0;
                                                    }
                                                    MediaFormat mediaFormat3 = mediaFormat;
                                                    if (i27 < 23) {
                                                        i30 = i26;
                                                        if (Math.min(i26, i25) <= 480 && !z53) {
                                                            if (i17 > 921600) {
                                                                i17 = 921600;
                                                            }
                                                            createVideoFormat.setInteger("bitrate", i17);
                                                        }
                                                    } else {
                                                        i30 = i26;
                                                    }
                                                    int i114 = i17;
                                                    String name2 = createByCodecName.getName();
                                                    z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name2);
                                                    StringBuilder sb6 = new StringBuilder();
                                                    int i115 = i25;
                                                    sb6.append("selected encoder ");
                                                    sb6.append(name2);
                                                    FileLog.d(sb6.toString());
                                                    mediaCodec7 = null;
                                                    createByCodecName.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                    int i116 = i114;
                                                    InputSurface inputSurface49 = new InputSurface(createByCodecName.createInputSurface());
                                                    inputSurface49.makeCurrent();
                                                    createByCodecName.start();
                                                    if (hDRInfo2 == null || !z13) {
                                                        hDRInfo = hDRInfo2;
                                                    } else {
                                                        try {
                                                            hDRInfo = new StoryEntry.HDRInfo();
                                                            hDRInfo.colorTransfer = i28;
                                                            hDRInfo.colorStandard = i29;
                                                            if (i27 >= 24) {
                                                                createVideoFormat.setInteger("color-transfer", 3);
                                                            }
                                                        } catch (Exception e41) {
                                                            exc = e41;
                                                            str4 = name2;
                                                            audioRecoder2 = null;
                                                            inputSurface = inputSurface49;
                                                            mediaCodec2 = createByCodecName;
                                                            i3 = i99;
                                                            i15 = i97;
                                                            i19 = i110;
                                                            file = file5;
                                                            i17 = i116;
                                                            bufferInfo = bufferInfo4;
                                                            i14 = i22;
                                                            i18 = -5;
                                                            outputSurface = null;
                                                            if (exc instanceof IllegalStateException) {
                                                            }
                                                            z3 = false;
                                                            StringBuilder sb522222 = new StringBuilder();
                                                            sb522222.append("bitrate: ");
                                                            sb522222.append(i17);
                                                            sb522222.append(" framerate: ");
                                                            sb522222.append(i3);
                                                            sb522222.append(" size: ");
                                                            i2 = i19;
                                                            sb522222.append(i2);
                                                            str3 = "x";
                                                            sb522222.append(str3);
                                                            i8 = i15;
                                                            sb522222.append(i8);
                                                            FileLog.e(sb522222.toString());
                                                            FileLog.e(exc);
                                                            i9 = i18;
                                                            mediaCodec = mediaCodec7;
                                                            mediaCodec4 = mediaCodec2;
                                                            z10 = z3;
                                                            audioRecoder = audioRecoder2;
                                                            z11 = true;
                                                            i100 = i17;
                                                            inputSurface = inputSurface;
                                                            this.extractor.unselectTrack(i14);
                                                            if (mediaCodec != null) {
                                                            }
                                                            mediaCodec3 = mediaCodec;
                                                            outputSurface2 = outputSurface;
                                                            if (outputSurface2 != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            if (mediaCodec4 == null) {
                                                            }
                                                            if (audioRecoder != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            z5 = z10;
                                                            outputSurface3 = outputSurface2;
                                                            i97 = i8;
                                                            i10 = i9;
                                                            inputSurface3 = inputSurface;
                                                            mediaCodec2 = mediaCodec5;
                                                            z6 = z4;
                                                            mediaCodec6 = mediaCodec3;
                                                            i11 = i2;
                                                            mediaExtractor2 = this.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            muxer2 = this.muxer;
                                                            if (muxer2 != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec6 != null) {
                                                            }
                                                            if (outputSurface3 != null) {
                                                            }
                                                            if (inputSurface3 != null) {
                                                            }
                                                            str5 = str4;
                                                            i5 = i11;
                                                            z7 = z11;
                                                            if (z5) {
                                                            }
                                                        } catch (Throwable th50) {
                                                            z2 = z;
                                                            th = th50;
                                                            str4 = name2;
                                                            mediaCodec = null;
                                                            outputSurface = null;
                                                            inputSurface23 = inputSurface49;
                                                            mediaCodec2 = createByCodecName;
                                                            i3 = i99;
                                                            i97 = i97;
                                                            i5 = i110;
                                                            file = file5;
                                                            i100 = i116;
                                                            bufferInfo = bufferInfo4;
                                                            str3 = "x";
                                                            i4 = -5;
                                                            inputSurface28 = inputSurface23;
                                                            z3 = false;
                                                            inputSurface2 = inputSurface28;
                                                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                            FileLog.e(th);
                                                            mediaExtractor = this.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            muxer = this.muxer;
                                                            if (muxer != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface2 != null) {
                                                            }
                                                            str5 = str4;
                                                            z5 = z3;
                                                            z6 = z4;
                                                            z7 = true;
                                                            if (z5) {
                                                            }
                                                        }
                                                    }
                                                    str4 = null;
                                                    MediaCodec mediaCodec15 = createByCodecName;
                                                    int i117 = i99;
                                                    MediaController.CropState cropState6 = cropState5;
                                                    InputSurface inputSurface50 = i97;
                                                    outputSurface4 = new OutputSurface(savedFilterState, null, str17, str18, arrayList, cropState6, inputSurface50, i110, i95, i96, i24, i99, false, num, num2, hDRInfo, convertVideoParams);
                                                    int i118 = 24;
                                                    if (i27 >= 24 && hDRInfo != null) {
                                                        try {
                                                        } catch (Exception e42) {
                                                            e = e42;
                                                            str4 = name2;
                                                            cropState6 = mediaCodec15;
                                                            i118 = i110;
                                                            inputSurface50 = inputSurface49;
                                                            i31 = i118;
                                                            cropState = cropState6;
                                                            file = file5;
                                                            i17 = i116;
                                                            bufferInfo = bufferInfo4;
                                                            i15 = i97;
                                                            i14 = i22;
                                                            i3 = i117;
                                                            i18 = -5;
                                                            mediaCodec7 = null;
                                                            inputSurface5 = inputSurface50;
                                                            audioRecoder2 = null;
                                                            mediaCodec9 = cropState;
                                                            inputSurface6 = inputSurface5;
                                                            exc = e;
                                                            outputSurface = outputSurface4;
                                                            mediaCodec2 = mediaCodec9;
                                                            inputSurface = inputSurface6;
                                                            i19 = i31;
                                                            if (exc instanceof IllegalStateException) {
                                                            }
                                                            z3 = false;
                                                            StringBuilder sb5222222 = new StringBuilder();
                                                            sb5222222.append("bitrate: ");
                                                            sb5222222.append(i17);
                                                            sb5222222.append(" framerate: ");
                                                            sb5222222.append(i3);
                                                            sb5222222.append(" size: ");
                                                            i2 = i19;
                                                            sb5222222.append(i2);
                                                            str3 = "x";
                                                            sb5222222.append(str3);
                                                            i8 = i15;
                                                            sb5222222.append(i8);
                                                            FileLog.e(sb5222222.toString());
                                                            FileLog.e(exc);
                                                            i9 = i18;
                                                            mediaCodec = mediaCodec7;
                                                            mediaCodec4 = mediaCodec2;
                                                            z10 = z3;
                                                            audioRecoder = audioRecoder2;
                                                            z11 = true;
                                                            i100 = i17;
                                                            inputSurface = inputSurface;
                                                            this.extractor.unselectTrack(i14);
                                                            if (mediaCodec != null) {
                                                            }
                                                            mediaCodec3 = mediaCodec;
                                                            outputSurface2 = outputSurface;
                                                            if (outputSurface2 != null) {
                                                            }
                                                            if (inputSurface != null) {
                                                            }
                                                            if (mediaCodec4 == null) {
                                                            }
                                                            if (audioRecoder != null) {
                                                            }
                                                            checkConversionCanceled();
                                                            z5 = z10;
                                                            outputSurface3 = outputSurface2;
                                                            i97 = i8;
                                                            i10 = i9;
                                                            inputSurface3 = inputSurface;
                                                            mediaCodec2 = mediaCodec5;
                                                            z6 = z4;
                                                            mediaCodec6 = mediaCodec3;
                                                            i11 = i2;
                                                            mediaExtractor2 = this.extractor;
                                                            if (mediaExtractor2 != null) {
                                                            }
                                                            muxer2 = this.muxer;
                                                            if (muxer2 != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec6 != null) {
                                                            }
                                                            if (outputSurface3 != null) {
                                                            }
                                                            if (inputSurface3 != null) {
                                                            }
                                                            str5 = str4;
                                                            i5 = i11;
                                                            z7 = z11;
                                                            if (z5) {
                                                            }
                                                        } catch (Throwable th51) {
                                                            th = th51;
                                                            str4 = name2;
                                                            cropState6 = mediaCodec15;
                                                            i118 = i110;
                                                            inputSurface50 = inputSurface49;
                                                        }
                                                        if (hDRInfo.getHDRType() != 0) {
                                                            i32 = i7;
                                                            str4 = name2;
                                                            j8 = j4;
                                                            i34 = i115;
                                                            i33 = i30;
                                                            z14 = z8;
                                                            cropState6 = mediaCodec15;
                                                            obj = "video/hevc";
                                                            str9 = str6;
                                                            j9 = j5;
                                                            i118 = i110;
                                                            inputSurface50 = inputSurface49;
                                                            j7 = j28;
                                                            mediaFormat2 = mediaFormat3;
                                                            try {
                                                                str8 = str8;
                                                                outputSurface4.changeFragmentShader(hdrFragmentShader(i95, i96, i97, i110, true, hDRInfo), hdrFragmentShader(i95, i96, i97, i118, false, hDRInfo), false);
                                                                cropState2 = cropState6;
                                                                inputSurface22 = inputSurface50;
                                                                i35 = 0;
                                                                r20 = cropState2;
                                                                inputSurface7 = inputSurface22;
                                                                mediaCodec = getDecoderByFormat(mediaFormat2);
                                                                mediaCodec.configure(mediaFormat2, outputSurface4.getSurface(), (MediaCrypto) null, i35);
                                                                mediaCodec.start();
                                                                if (i27 < 21) {
                                                                    try {
                                                                        inputBuffers = mediaCodec.getInputBuffers();
                                                                        outputBuffers = r20.getOutputBuffers();
                                                                    } catch (Exception e43) {
                                                                        int i119 = i118;
                                                                        MediaCodec mediaCodec16 = r20;
                                                                        file = file5;
                                                                        i17 = i116;
                                                                        bufferInfo = bufferInfo4;
                                                                        i15 = i97;
                                                                        i14 = i22;
                                                                        i3 = i117;
                                                                        exc = e43;
                                                                        audioRecoder2 = null;
                                                                        outputSurface = outputSurface4;
                                                                        mediaCodec7 = mediaCodec;
                                                                        i18 = -5;
                                                                        mediaCodec2 = mediaCodec16;
                                                                        inputSurface = inputSurface7;
                                                                        i19 = i119;
                                                                        if (exc instanceof IllegalStateException) {
                                                                        }
                                                                        z3 = false;
                                                                        StringBuilder sb52222222 = new StringBuilder();
                                                                        sb52222222.append("bitrate: ");
                                                                        sb52222222.append(i17);
                                                                        sb52222222.append(" framerate: ");
                                                                        sb52222222.append(i3);
                                                                        sb52222222.append(" size: ");
                                                                        i2 = i19;
                                                                        sb52222222.append(i2);
                                                                        str3 = "x";
                                                                        sb52222222.append(str3);
                                                                        i8 = i15;
                                                                        sb52222222.append(i8);
                                                                        FileLog.e(sb52222222.toString());
                                                                        FileLog.e(exc);
                                                                        i9 = i18;
                                                                        mediaCodec = mediaCodec7;
                                                                        mediaCodec4 = mediaCodec2;
                                                                        z10 = z3;
                                                                        audioRecoder = audioRecoder2;
                                                                        z11 = true;
                                                                        i100 = i17;
                                                                        inputSurface = inputSurface;
                                                                        this.extractor.unselectTrack(i14);
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        mediaCodec3 = mediaCodec;
                                                                        outputSurface2 = outputSurface;
                                                                        if (outputSurface2 != null) {
                                                                        }
                                                                        if (inputSurface != null) {
                                                                        }
                                                                        if (mediaCodec4 == null) {
                                                                        }
                                                                        if (audioRecoder != null) {
                                                                        }
                                                                        checkConversionCanceled();
                                                                        z5 = z10;
                                                                        outputSurface3 = outputSurface2;
                                                                        i97 = i8;
                                                                        i10 = i9;
                                                                        inputSurface3 = inputSurface;
                                                                        mediaCodec2 = mediaCodec5;
                                                                        z6 = z4;
                                                                        mediaCodec6 = mediaCodec3;
                                                                        i11 = i2;
                                                                        mediaExtractor2 = this.extractor;
                                                                        if (mediaExtractor2 != null) {
                                                                        }
                                                                        muxer2 = this.muxer;
                                                                        if (muxer2 != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec6 != null) {
                                                                        }
                                                                        if (outputSurface3 != null) {
                                                                        }
                                                                        if (inputSurface3 != null) {
                                                                        }
                                                                        str5 = str4;
                                                                        i5 = i11;
                                                                        z7 = z11;
                                                                        if (z5) {
                                                                        }
                                                                    } catch (Throwable th52) {
                                                                        th = th52;
                                                                        z2 = z;
                                                                        i5 = i118;
                                                                        outputSurface = outputSurface4;
                                                                        mediaCodec2 = r20;
                                                                        file = file5;
                                                                        i100 = i116;
                                                                        bufferInfo = bufferInfo4;
                                                                        i97 = i97;
                                                                        str3 = "x";
                                                                        i3 = i117;
                                                                        inputSurface24 = inputSurface7;
                                                                        i4 = -5;
                                                                        inputSurface27 = inputSurface24;
                                                                        z3 = false;
                                                                        inputSurface26 = inputSurface27;
                                                                        th = th;
                                                                        inputSurface2 = inputSurface26;
                                                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                        FileLog.e(th);
                                                                        mediaExtractor = this.extractor;
                                                                        if (mediaExtractor != null) {
                                                                        }
                                                                        muxer = this.muxer;
                                                                        if (muxer != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        if (outputSurface != null) {
                                                                        }
                                                                        if (inputSurface2 != null) {
                                                                        }
                                                                        str5 = str4;
                                                                        z5 = z3;
                                                                        z6 = z4;
                                                                        z7 = true;
                                                                        if (z5) {
                                                                        }
                                                                    }
                                                                } else {
                                                                    inputBuffers = null;
                                                                    outputBuffers = null;
                                                                }
                                                                if (z14) {
                                                                    z15 = true;
                                                                    ?? muxer3 = new Muxer(new MediaMuxer(file5.getAbsolutePath(), 1));
                                                                    this.muxer = muxer3;
                                                                    file3 = file5;
                                                                    i8 = i97;
                                                                    i39 = muxer3;
                                                                } else {
                                                                    z15 = true;
                                                                    ?? mp4Movie2 = new Mp4Movie();
                                                                    file3 = file5;
                                                                    try {
                                                                        mp4Movie2.setCacheFile(file3);
                                                                        mp4Movie2.setRotation(i35);
                                                                        i8 = i97;
                                                                        try {
                                                                            try {
                                                                                mp4Movie2.setSize(i8, i118);
                                                                                this.muxer = new Muxer(new MP4Builder().createMovie(mp4Movie2, z12, this.outputMimeType.equals(obj)));
                                                                                i39 = mp4Movie2;
                                                                            } catch (Exception e44) {
                                                                                e = e44;
                                                                                i36 = i118;
                                                                                mediaCodec7 = mediaCodec;
                                                                                file = file3;
                                                                                outputSurface6 = outputSurface4;
                                                                                i15 = i8;
                                                                                mediaCodec10 = r20;
                                                                                bufferInfo = bufferInfo4;
                                                                                i14 = i22;
                                                                                i3 = i117;
                                                                                exc = e;
                                                                                outputSurface = outputSurface6;
                                                                                i17 = i116;
                                                                                i18 = -5;
                                                                                audioRecoder2 = null;
                                                                                mediaCodec2 = mediaCodec10;
                                                                                inputSurface = inputSurface7;
                                                                                i19 = i36;
                                                                                if (exc instanceof IllegalStateException) {
                                                                                }
                                                                                z3 = false;
                                                                                StringBuilder sb522222222 = new StringBuilder();
                                                                                sb522222222.append("bitrate: ");
                                                                                sb522222222.append(i17);
                                                                                sb522222222.append(" framerate: ");
                                                                                sb522222222.append(i3);
                                                                                sb522222222.append(" size: ");
                                                                                i2 = i19;
                                                                                sb522222222.append(i2);
                                                                                str3 = "x";
                                                                                sb522222222.append(str3);
                                                                                i8 = i15;
                                                                                sb522222222.append(i8);
                                                                                FileLog.e(sb522222222.toString());
                                                                                FileLog.e(exc);
                                                                                i9 = i18;
                                                                                mediaCodec = mediaCodec7;
                                                                                mediaCodec4 = mediaCodec2;
                                                                                z10 = z3;
                                                                                audioRecoder = audioRecoder2;
                                                                                z11 = true;
                                                                                i100 = i17;
                                                                                inputSurface = inputSurface;
                                                                                this.extractor.unselectTrack(i14);
                                                                                if (mediaCodec != null) {
                                                                                }
                                                                                mediaCodec3 = mediaCodec;
                                                                                outputSurface2 = outputSurface;
                                                                                if (outputSurface2 != null) {
                                                                                }
                                                                                if (inputSurface != null) {
                                                                                }
                                                                                if (mediaCodec4 == null) {
                                                                                }
                                                                                if (audioRecoder != null) {
                                                                                }
                                                                                checkConversionCanceled();
                                                                                z5 = z10;
                                                                                outputSurface3 = outputSurface2;
                                                                                i97 = i8;
                                                                                i10 = i9;
                                                                                inputSurface3 = inputSurface;
                                                                                mediaCodec2 = mediaCodec5;
                                                                                z6 = z4;
                                                                                mediaCodec6 = mediaCodec3;
                                                                                i11 = i2;
                                                                                mediaExtractor2 = this.extractor;
                                                                                if (mediaExtractor2 != null) {
                                                                                }
                                                                                muxer2 = this.muxer;
                                                                                if (muxer2 != null) {
                                                                                }
                                                                                if (mediaCodec2 != null) {
                                                                                }
                                                                                if (mediaCodec6 != null) {
                                                                                }
                                                                                if (outputSurface3 != null) {
                                                                                }
                                                                                if (inputSurface3 != null) {
                                                                                }
                                                                                str5 = str4;
                                                                                i5 = i11;
                                                                                z7 = z11;
                                                                                if (z5) {
                                                                                }
                                                                            }
                                                                        } catch (Throwable th53) {
                                                                            th = th53;
                                                                            i37 = i118;
                                                                            file = file3;
                                                                            outputSurface5 = outputSurface4;
                                                                            i38 = i8;
                                                                            mediaCodec2 = r20;
                                                                            bufferInfo = bufferInfo4;
                                                                            i3 = i117;
                                                                            z2 = z;
                                                                            th = th;
                                                                            outputSurface = outputSurface5;
                                                                            i5 = i37;
                                                                            i100 = i116;
                                                                            str3 = "x";
                                                                            i97 = i38;
                                                                            inputSurface23 = inputSurface7;
                                                                            i4 = -5;
                                                                            inputSurface28 = inputSurface23;
                                                                            z3 = false;
                                                                            inputSurface2 = inputSurface28;
                                                                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                            FileLog.e(th);
                                                                            mediaExtractor = this.extractor;
                                                                            if (mediaExtractor != null) {
                                                                            }
                                                                            muxer = this.muxer;
                                                                            if (muxer != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            if (outputSurface != null) {
                                                                            }
                                                                            if (inputSurface2 != null) {
                                                                            }
                                                                            str5 = str4;
                                                                            z5 = z3;
                                                                            z6 = z4;
                                                                            z7 = true;
                                                                            if (z5) {
                                                                            }
                                                                        }
                                                                    } catch (Exception e45) {
                                                                        e = e45;
                                                                        i36 = i118;
                                                                        mediaCodec7 = mediaCodec;
                                                                        file = file3;
                                                                        outputSurface6 = outputSurface4;
                                                                        mediaCodec10 = r20;
                                                                        bufferInfo = bufferInfo4;
                                                                        i15 = i97;
                                                                        i14 = i22;
                                                                        i3 = i117;
                                                                        exc = e;
                                                                        outputSurface = outputSurface6;
                                                                        i17 = i116;
                                                                        i18 = -5;
                                                                        audioRecoder2 = null;
                                                                        mediaCodec2 = mediaCodec10;
                                                                        inputSurface = inputSurface7;
                                                                        i19 = i36;
                                                                        if (exc instanceof IllegalStateException) {
                                                                        }
                                                                        z3 = false;
                                                                        StringBuilder sb5222222222 = new StringBuilder();
                                                                        sb5222222222.append("bitrate: ");
                                                                        sb5222222222.append(i17);
                                                                        sb5222222222.append(" framerate: ");
                                                                        sb5222222222.append(i3);
                                                                        sb5222222222.append(" size: ");
                                                                        i2 = i19;
                                                                        sb5222222222.append(i2);
                                                                        str3 = "x";
                                                                        sb5222222222.append(str3);
                                                                        i8 = i15;
                                                                        sb5222222222.append(i8);
                                                                        FileLog.e(sb5222222222.toString());
                                                                        FileLog.e(exc);
                                                                        i9 = i18;
                                                                        mediaCodec = mediaCodec7;
                                                                        mediaCodec4 = mediaCodec2;
                                                                        z10 = z3;
                                                                        audioRecoder = audioRecoder2;
                                                                        z11 = true;
                                                                        i100 = i17;
                                                                        inputSurface = inputSurface;
                                                                        this.extractor.unselectTrack(i14);
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        mediaCodec3 = mediaCodec;
                                                                        outputSurface2 = outputSurface;
                                                                        if (outputSurface2 != null) {
                                                                        }
                                                                        if (inputSurface != null) {
                                                                        }
                                                                        if (mediaCodec4 == null) {
                                                                        }
                                                                        if (audioRecoder != null) {
                                                                        }
                                                                        checkConversionCanceled();
                                                                        z5 = z10;
                                                                        outputSurface3 = outputSurface2;
                                                                        i97 = i8;
                                                                        i10 = i9;
                                                                        inputSurface3 = inputSurface;
                                                                        mediaCodec2 = mediaCodec5;
                                                                        z6 = z4;
                                                                        mediaCodec6 = mediaCodec3;
                                                                        i11 = i2;
                                                                        mediaExtractor2 = this.extractor;
                                                                        if (mediaExtractor2 != null) {
                                                                        }
                                                                        muxer2 = this.muxer;
                                                                        if (muxer2 != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec6 != null) {
                                                                        }
                                                                        if (outputSurface3 != null) {
                                                                        }
                                                                        if (inputSurface3 != null) {
                                                                        }
                                                                        str5 = str4;
                                                                        i5 = i11;
                                                                        z7 = z11;
                                                                        if (z5) {
                                                                        }
                                                                    } catch (Throwable th54) {
                                                                        th = th54;
                                                                        i37 = i118;
                                                                        file = file3;
                                                                        outputSurface5 = outputSurface4;
                                                                        mediaCodec2 = r20;
                                                                        bufferInfo = bufferInfo4;
                                                                        i38 = i97;
                                                                        i3 = i117;
                                                                        z2 = z;
                                                                        th = th;
                                                                        outputSurface = outputSurface5;
                                                                        i5 = i37;
                                                                        i100 = i116;
                                                                        str3 = "x";
                                                                        i97 = i38;
                                                                        inputSurface23 = inputSurface7;
                                                                        i4 = -5;
                                                                        inputSurface28 = inputSurface23;
                                                                        z3 = false;
                                                                        inputSurface2 = inputSurface28;
                                                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                        FileLog.e(th);
                                                                        mediaExtractor = this.extractor;
                                                                        if (mediaExtractor != null) {
                                                                        }
                                                                        muxer = this.muxer;
                                                                        if (muxer != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        if (outputSurface != null) {
                                                                        }
                                                                        if (inputSurface2 != null) {
                                                                        }
                                                                        str5 = str4;
                                                                        z5 = z3;
                                                                        z6 = z4;
                                                                        z7 = true;
                                                                        if (z5) {
                                                                        }
                                                                    }
                                                                }
                                                                if (i32 >= 0) {
                                                                    try {
                                                                        MediaFormat trackFormat2 = this.extractor.getTrackFormat(i32);
                                                                        if (Math.abs(f2 - 1.0f) < 0.001f) {
                                                                            convertVideoParams2 = convertVideoParams;
                                                                            if (convertVideoParams2.soundInfos.isEmpty()) {
                                                                                str10 = str8;
                                                                                if (!trackFormat2.getString(str10).equals(MediaController.AUDIO_MIME_TYPE)) {
                                                                                }
                                                                                z16 = true;
                                                                                equals = trackFormat2.getString(str10).equals("audio/unknown");
                                                                                if (equals) {
                                                                                    i32 = -1;
                                                                                }
                                                                                if (i32 >= 0) {
                                                                                    i40 = i32;
                                                                                    byteBufferArr = outputBuffers;
                                                                                    z17 = z16;
                                                                                    j10 = j6;
                                                                                    audioRecoder3 = null;
                                                                                    i41 = -5;
                                                                                } else if (z16) {
                                                                                    int addTrack2 = this.muxer.addTrack(trackFormat2, z15);
                                                                                    this.extractor.selectTrack(i32);
                                                                                    try {
                                                                                        i43 = trackFormat2.getInteger("max-input-size");
                                                                                    } catch (Exception e46) {
                                                                                        FileLog.e(e46);
                                                                                        i43 = 0;
                                                                                    }
                                                                                    if (i43 <= 0) {
                                                                                        i43 = 65536;
                                                                                    }
                                                                                    ByteBuffer allocateDirect = ByteBuffer.allocateDirect(i43);
                                                                                    if (j6 > 0) {
                                                                                        i42 = i43;
                                                                                        byteBufferArr = outputBuffers;
                                                                                        i44 = addTrack2;
                                                                                        j12 = j6;
                                                                                        this.extractor.seekTo(j12, 0);
                                                                                        z17 = z16;
                                                                                        byteBuffer2 = allocateDirect;
                                                                                    } else {
                                                                                        i42 = i43;
                                                                                        byteBufferArr = outputBuffers;
                                                                                        i44 = addTrack2;
                                                                                        j12 = j6;
                                                                                        z17 = z16;
                                                                                        byteBuffer2 = allocateDirect;
                                                                                        this.extractor.seekTo(0L, 0);
                                                                                    }
                                                                                    i41 = i44;
                                                                                    i40 = i32;
                                                                                    audioRecoder3 = null;
                                                                                    j11 = j12;
                                                                                    z18 = addTrack2;
                                                                                    byteBuffer = byteBuffer2;
                                                                                    audioRecoder = audioRecoder3;
                                                                                    i32 = i40;
                                                                                    z19 = z17;
                                                                                    j13 = j11;
                                                                                    i45 = z18;
                                                                                    byteBuffer3 = byteBuffer;
                                                                                } else {
                                                                                    byteBufferArr = outputBuffers;
                                                                                    z17 = z16;
                                                                                    j10 = j6;
                                                                                    ArrayList arrayList3 = new ArrayList();
                                                                                    GeneralAudioInput generalAudioInput = new GeneralAudioInput(str9, i32);
                                                                                    if (j34 > 0) {
                                                                                        generalAudioInput.setEndTimeUs(j34);
                                                                                    }
                                                                                    if (j10 > 0) {
                                                                                        generalAudioInput.setStartTimeUs(j10);
                                                                                    }
                                                                                    i40 = i32;
                                                                                    generalAudioInput.setVolume(f2);
                                                                                    arrayList3.add(generalAudioInput);
                                                                                    applyAudioInputs(convertVideoParams2.soundInfos, arrayList3);
                                                                                    j34 = j34;
                                                                                    audioRecoder3 = new AudioRecoder(arrayList3, j7);
                                                                                    try {
                                                                                        i41 = this.muxer.addTrack(audioRecoder3.format, true);
                                                                                    } catch (Exception e47) {
                                                                                        e = e47;
                                                                                        i31 = i118;
                                                                                        audioRecoder2 = audioRecoder3;
                                                                                        mediaCodec7 = mediaCodec;
                                                                                        file = file3;
                                                                                        i15 = i8;
                                                                                        mediaCodec9 = r20;
                                                                                        i17 = i116;
                                                                                        bufferInfo = bufferInfo4;
                                                                                        i14 = i22;
                                                                                        i3 = i117;
                                                                                        i18 = -5;
                                                                                        inputSurface6 = inputSurface7;
                                                                                        exc = e;
                                                                                        outputSurface = outputSurface4;
                                                                                        mediaCodec2 = mediaCodec9;
                                                                                        inputSurface = inputSurface6;
                                                                                        i19 = i31;
                                                                                        if (exc instanceof IllegalStateException) {
                                                                                        }
                                                                                        z3 = false;
                                                                                        StringBuilder sb52222222222 = new StringBuilder();
                                                                                        sb52222222222.append("bitrate: ");
                                                                                        sb52222222222.append(i17);
                                                                                        sb52222222222.append(" framerate: ");
                                                                                        sb52222222222.append(i3);
                                                                                        sb52222222222.append(" size: ");
                                                                                        i2 = i19;
                                                                                        sb52222222222.append(i2);
                                                                                        str3 = "x";
                                                                                        sb52222222222.append(str3);
                                                                                        i8 = i15;
                                                                                        sb52222222222.append(i8);
                                                                                        FileLog.e(sb52222222222.toString());
                                                                                        FileLog.e(exc);
                                                                                        i9 = i18;
                                                                                        mediaCodec = mediaCodec7;
                                                                                        mediaCodec4 = mediaCodec2;
                                                                                        z10 = z3;
                                                                                        audioRecoder = audioRecoder2;
                                                                                        z11 = true;
                                                                                        i100 = i17;
                                                                                        inputSurface = inputSurface;
                                                                                        this.extractor.unselectTrack(i14);
                                                                                        if (mediaCodec != null) {
                                                                                        }
                                                                                        mediaCodec3 = mediaCodec;
                                                                                        outputSurface2 = outputSurface;
                                                                                        if (outputSurface2 != null) {
                                                                                        }
                                                                                        if (inputSurface != null) {
                                                                                        }
                                                                                        if (mediaCodec4 == null) {
                                                                                        }
                                                                                        if (audioRecoder != null) {
                                                                                        }
                                                                                        checkConversionCanceled();
                                                                                        z5 = z10;
                                                                                        outputSurface3 = outputSurface2;
                                                                                        i97 = i8;
                                                                                        i10 = i9;
                                                                                        inputSurface3 = inputSurface;
                                                                                        mediaCodec2 = mediaCodec5;
                                                                                        z6 = z4;
                                                                                        mediaCodec6 = mediaCodec3;
                                                                                        i11 = i2;
                                                                                        mediaExtractor2 = this.extractor;
                                                                                        if (mediaExtractor2 != null) {
                                                                                        }
                                                                                        muxer2 = this.muxer;
                                                                                        if (muxer2 != null) {
                                                                                        }
                                                                                        if (mediaCodec2 != null) {
                                                                                        }
                                                                                        if (mediaCodec6 != null) {
                                                                                        }
                                                                                        if (outputSurface3 != null) {
                                                                                        }
                                                                                        if (inputSurface3 != null) {
                                                                                        }
                                                                                        str5 = str4;
                                                                                        i5 = i11;
                                                                                        z7 = z11;
                                                                                        if (z5) {
                                                                                        }
                                                                                    }
                                                                                }
                                                                                i42 = 0;
                                                                                byteBuffer = null;
                                                                                j11 = j10;
                                                                                z18 = equals;
                                                                                audioRecoder = audioRecoder3;
                                                                                i32 = i40;
                                                                                z19 = z17;
                                                                                j13 = j11;
                                                                                i45 = z18;
                                                                                byteBuffer3 = byteBuffer;
                                                                            } else {
                                                                                str10 = str8;
                                                                            }
                                                                        } else {
                                                                            convertVideoParams2 = convertVideoParams;
                                                                            str10 = str8;
                                                                        }
                                                                        z16 = false;
                                                                        equals = trackFormat2.getString(str10).equals("audio/unknown");
                                                                        if (equals) {
                                                                        }
                                                                        if (i32 >= 0) {
                                                                        }
                                                                        i42 = 0;
                                                                        byteBuffer = null;
                                                                        j11 = j10;
                                                                        z18 = equals;
                                                                        audioRecoder = audioRecoder3;
                                                                        i32 = i40;
                                                                        z19 = z17;
                                                                        j13 = j11;
                                                                        i45 = z18;
                                                                        byteBuffer3 = byteBuffer;
                                                                    } catch (Exception e48) {
                                                                        e = e48;
                                                                        i31 = i118;
                                                                        mediaCodec7 = mediaCodec;
                                                                        file = file3;
                                                                        i15 = i8;
                                                                        cropState = r20;
                                                                        i17 = i116;
                                                                        bufferInfo = bufferInfo4;
                                                                        i14 = i22;
                                                                        i3 = i117;
                                                                        i18 = -5;
                                                                        inputSurface5 = inputSurface7;
                                                                        audioRecoder2 = null;
                                                                        mediaCodec9 = cropState;
                                                                        inputSurface6 = inputSurface5;
                                                                        exc = e;
                                                                        outputSurface = outputSurface4;
                                                                        mediaCodec2 = mediaCodec9;
                                                                        inputSurface = inputSurface6;
                                                                        i19 = i31;
                                                                        if (exc instanceof IllegalStateException) {
                                                                        }
                                                                        z3 = false;
                                                                        StringBuilder sb522222222222 = new StringBuilder();
                                                                        sb522222222222.append("bitrate: ");
                                                                        sb522222222222.append(i17);
                                                                        sb522222222222.append(" framerate: ");
                                                                        sb522222222222.append(i3);
                                                                        sb522222222222.append(" size: ");
                                                                        i2 = i19;
                                                                        sb522222222222.append(i2);
                                                                        str3 = "x";
                                                                        sb522222222222.append(str3);
                                                                        i8 = i15;
                                                                        sb522222222222.append(i8);
                                                                        FileLog.e(sb522222222222.toString());
                                                                        FileLog.e(exc);
                                                                        i9 = i18;
                                                                        mediaCodec = mediaCodec7;
                                                                        mediaCodec4 = mediaCodec2;
                                                                        z10 = z3;
                                                                        audioRecoder = audioRecoder2;
                                                                        z11 = true;
                                                                        i100 = i17;
                                                                        inputSurface = inputSurface;
                                                                        this.extractor.unselectTrack(i14);
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        mediaCodec3 = mediaCodec;
                                                                        outputSurface2 = outputSurface;
                                                                        if (outputSurface2 != null) {
                                                                        }
                                                                        if (inputSurface != null) {
                                                                        }
                                                                        if (mediaCodec4 == null) {
                                                                        }
                                                                        if (audioRecoder != null) {
                                                                        }
                                                                        checkConversionCanceled();
                                                                        z5 = z10;
                                                                        outputSurface3 = outputSurface2;
                                                                        i97 = i8;
                                                                        i10 = i9;
                                                                        inputSurface3 = inputSurface;
                                                                        mediaCodec2 = mediaCodec5;
                                                                        z6 = z4;
                                                                        mediaCodec6 = mediaCodec3;
                                                                        i11 = i2;
                                                                        mediaExtractor2 = this.extractor;
                                                                        if (mediaExtractor2 != null) {
                                                                        }
                                                                        muxer2 = this.muxer;
                                                                        if (muxer2 != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec6 != null) {
                                                                        }
                                                                        if (outputSurface3 != null) {
                                                                        }
                                                                        if (inputSurface3 != null) {
                                                                        }
                                                                        str5 = str4;
                                                                        i5 = i11;
                                                                        z7 = z11;
                                                                        if (z5) {
                                                                        }
                                                                    } catch (Throwable th55) {
                                                                        th = th55;
                                                                        z2 = z;
                                                                        file = file3;
                                                                        outputSurface = outputSurface4;
                                                                        i97 = i8;
                                                                        mediaCodec2 = r20;
                                                                        i100 = i116;
                                                                        bufferInfo = bufferInfo4;
                                                                        str3 = "x";
                                                                        i3 = i117;
                                                                        i4 = -5;
                                                                        inputSurface8 = inputSurface7;
                                                                        z3 = false;
                                                                        i5 = i118;
                                                                        inputSurface26 = inputSurface8;
                                                                        th = th;
                                                                        inputSurface2 = inputSurface26;
                                                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                        FileLog.e(th);
                                                                        mediaExtractor = this.extractor;
                                                                        if (mediaExtractor != null) {
                                                                        }
                                                                        muxer = this.muxer;
                                                                        if (muxer != null) {
                                                                        }
                                                                        if (mediaCodec2 != null) {
                                                                        }
                                                                        if (mediaCodec != null) {
                                                                        }
                                                                        if (outputSurface != null) {
                                                                        }
                                                                        if (inputSurface2 != null) {
                                                                        }
                                                                        str5 = str4;
                                                                        z5 = z3;
                                                                        z6 = z4;
                                                                        z7 = true;
                                                                        if (z5) {
                                                                        }
                                                                    }
                                                                } else {
                                                                    convertVideoParams2 = convertVideoParams;
                                                                    byteBufferArr = outputBuffers;
                                                                    j13 = j6;
                                                                    long j35 = j7;
                                                                    if (convertVideoParams2.soundInfos.isEmpty()) {
                                                                        i41 = -5;
                                                                        audioRecoder = null;
                                                                        z19 = true;
                                                                    } else {
                                                                        ArrayList arrayList4 = new ArrayList();
                                                                        arrayList4.add(new BlankAudioInput(j35));
                                                                        applyAudioInputs(convertVideoParams2.soundInfos, arrayList4);
                                                                        audioRecoder = new AudioRecoder(arrayList4, j35);
                                                                        try {
                                                                            i41 = this.muxer.addTrack(audioRecoder.format, true);
                                                                            z19 = false;
                                                                        } catch (Exception e49) {
                                                                            e = e49;
                                                                            i31 = i118;
                                                                            mediaCodec7 = mediaCodec;
                                                                            file = file3;
                                                                            i15 = i8;
                                                                            audioRecoder2 = audioRecoder;
                                                                            mediaCodec9 = r20;
                                                                            i17 = i116;
                                                                            bufferInfo = bufferInfo4;
                                                                            i14 = i22;
                                                                            i3 = i117;
                                                                            i18 = -5;
                                                                            inputSurface6 = inputSurface7;
                                                                            exc = e;
                                                                            outputSurface = outputSurface4;
                                                                            mediaCodec2 = mediaCodec9;
                                                                            inputSurface = inputSurface6;
                                                                            i19 = i31;
                                                                            if (exc instanceof IllegalStateException) {
                                                                            }
                                                                            z3 = false;
                                                                            StringBuilder sb5222222222222 = new StringBuilder();
                                                                            sb5222222222222.append("bitrate: ");
                                                                            sb5222222222222.append(i17);
                                                                            sb5222222222222.append(" framerate: ");
                                                                            sb5222222222222.append(i3);
                                                                            sb5222222222222.append(" size: ");
                                                                            i2 = i19;
                                                                            sb5222222222222.append(i2);
                                                                            str3 = "x";
                                                                            sb5222222222222.append(str3);
                                                                            i8 = i15;
                                                                            sb5222222222222.append(i8);
                                                                            FileLog.e(sb5222222222222.toString());
                                                                            FileLog.e(exc);
                                                                            i9 = i18;
                                                                            mediaCodec = mediaCodec7;
                                                                            mediaCodec4 = mediaCodec2;
                                                                            z10 = z3;
                                                                            audioRecoder = audioRecoder2;
                                                                            z11 = true;
                                                                            i100 = i17;
                                                                            inputSurface = inputSurface;
                                                                            this.extractor.unselectTrack(i14);
                                                                            if (mediaCodec != null) {
                                                                            }
                                                                            mediaCodec3 = mediaCodec;
                                                                            outputSurface2 = outputSurface;
                                                                            if (outputSurface2 != null) {
                                                                            }
                                                                            if (inputSurface != null) {
                                                                            }
                                                                            if (mediaCodec4 == null) {
                                                                            }
                                                                            if (audioRecoder != null) {
                                                                            }
                                                                            checkConversionCanceled();
                                                                            z5 = z10;
                                                                            outputSurface3 = outputSurface2;
                                                                            i97 = i8;
                                                                            i10 = i9;
                                                                            inputSurface3 = inputSurface;
                                                                            mediaCodec2 = mediaCodec5;
                                                                            z6 = z4;
                                                                            mediaCodec6 = mediaCodec3;
                                                                            i11 = i2;
                                                                            mediaExtractor2 = this.extractor;
                                                                            if (mediaExtractor2 != null) {
                                                                            }
                                                                            muxer2 = this.muxer;
                                                                            if (muxer2 != null) {
                                                                            }
                                                                            if (mediaCodec2 != null) {
                                                                            }
                                                                            if (mediaCodec6 != null) {
                                                                            }
                                                                            if (outputSurface3 != null) {
                                                                            }
                                                                            if (inputSurface3 != null) {
                                                                            }
                                                                            str5 = str4;
                                                                            i5 = i11;
                                                                            z7 = z11;
                                                                            if (z5) {
                                                                            }
                                                                        }
                                                                    }
                                                                    i42 = 0;
                                                                    byteBuffer3 = 0;
                                                                    i45 = i39;
                                                                }
                                                                boolean z57 = audioRecoder == null;
                                                                checkConversionCanceled();
                                                                file = file3;
                                                                z20 = z57;
                                                                ByteBuffer[] byteBufferArr4 = byteBufferArr;
                                                                i46 = i42;
                                                                ByteBuffer byteBuffer13 = byteBuffer3;
                                                                long j36 = -1;
                                                                long j37 = -1;
                                                                z21 = false;
                                                                i9 = -5;
                                                                z22 = false;
                                                                z23 = false;
                                                                int i120 = 0;
                                                                boolean z58 = true;
                                                                long j38 = 0;
                                                                long j39 = 0;
                                                                j14 = -2147483648L;
                                                                convertVideoParams3 = convertVideoParams2;
                                                                j15 = j13;
                                                                i47 = i45;
                                                                mediaCodec11 = r20;
                                                                inputSurface9 = inputSurface7;
                                                                byteBuffer4 = byteBuffer3;
                                                                loop3: while (true) {
                                                                    if (z21 || (!z19 && !z20)) {
                                                                        try {
                                                                            checkConversionCanceled();
                                                                            if (audioRecoder != null) {
                                                                                z24 = z21;
                                                                                try {
                                                                                    z25 = audioRecoder.step(this.muxer, i41);
                                                                                } catch (Exception e50) {
                                                                                    e = e50;
                                                                                    i31 = i118;
                                                                                    mediaCodec7 = mediaCodec;
                                                                                    i15 = i8;
                                                                                    audioRecoder2 = audioRecoder;
                                                                                    i18 = i9;
                                                                                    mediaCodec9 = mediaCodec11;
                                                                                    i17 = i116;
                                                                                    bufferInfo = bufferInfo4;
                                                                                    i14 = i22;
                                                                                    i3 = i117;
                                                                                    inputSurface6 = inputSurface9;
                                                                                    exc = e;
                                                                                    outputSurface = outputSurface4;
                                                                                    mediaCodec2 = mediaCodec9;
                                                                                    inputSurface = inputSurface6;
                                                                                    i19 = i31;
                                                                                    if (exc instanceof IllegalStateException) {
                                                                                    }
                                                                                    z3 = false;
                                                                                    StringBuilder sb52222222222222 = new StringBuilder();
                                                                                    sb52222222222222.append("bitrate: ");
                                                                                    sb52222222222222.append(i17);
                                                                                    sb52222222222222.append(" framerate: ");
                                                                                    sb52222222222222.append(i3);
                                                                                    sb52222222222222.append(" size: ");
                                                                                    i2 = i19;
                                                                                    sb52222222222222.append(i2);
                                                                                    str3 = "x";
                                                                                    sb52222222222222.append(str3);
                                                                                    i8 = i15;
                                                                                    sb52222222222222.append(i8);
                                                                                    FileLog.e(sb52222222222222.toString());
                                                                                    FileLog.e(exc);
                                                                                    i9 = i18;
                                                                                    mediaCodec = mediaCodec7;
                                                                                    mediaCodec4 = mediaCodec2;
                                                                                    z10 = z3;
                                                                                    audioRecoder = audioRecoder2;
                                                                                    z11 = true;
                                                                                    i100 = i17;
                                                                                    inputSurface = inputSurface;
                                                                                    this.extractor.unselectTrack(i14);
                                                                                    if (mediaCodec != null) {
                                                                                    }
                                                                                    mediaCodec3 = mediaCodec;
                                                                                    outputSurface2 = outputSurface;
                                                                                    if (outputSurface2 != null) {
                                                                                    }
                                                                                    if (inputSurface != null) {
                                                                                    }
                                                                                    if (mediaCodec4 == null) {
                                                                                    }
                                                                                    if (audioRecoder != null) {
                                                                                    }
                                                                                    checkConversionCanceled();
                                                                                    z5 = z10;
                                                                                    outputSurface3 = outputSurface2;
                                                                                    i97 = i8;
                                                                                    i10 = i9;
                                                                                    inputSurface3 = inputSurface;
                                                                                    mediaCodec2 = mediaCodec5;
                                                                                    z6 = z4;
                                                                                    mediaCodec6 = mediaCodec3;
                                                                                    i11 = i2;
                                                                                    mediaExtractor2 = this.extractor;
                                                                                    if (mediaExtractor2 != null) {
                                                                                    }
                                                                                    muxer2 = this.muxer;
                                                                                    if (muxer2 != null) {
                                                                                    }
                                                                                    if (mediaCodec2 != null) {
                                                                                    }
                                                                                    if (mediaCodec6 != null) {
                                                                                    }
                                                                                    if (outputSurface3 != null) {
                                                                                    }
                                                                                    if (inputSurface3 != null) {
                                                                                    }
                                                                                    str5 = str4;
                                                                                    i5 = i11;
                                                                                    z7 = z11;
                                                                                    if (z5) {
                                                                                    }
                                                                                } catch (Throwable th56) {
                                                                                    th = th56;
                                                                                    z2 = z;
                                                                                    outputSurface = outputSurface4;
                                                                                    i97 = i8;
                                                                                    i4 = i9;
                                                                                    mediaCodec2 = mediaCodec11;
                                                                                    i100 = i116;
                                                                                    bufferInfo = bufferInfo4;
                                                                                    str3 = "x";
                                                                                    i3 = i117;
                                                                                    inputSurface8 = inputSurface9;
                                                                                    z3 = false;
                                                                                    i5 = i118;
                                                                                    inputSurface26 = inputSurface8;
                                                                                    th = th;
                                                                                    inputSurface2 = inputSurface26;
                                                                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                    FileLog.e(th);
                                                                                    mediaExtractor = this.extractor;
                                                                                    if (mediaExtractor != null) {
                                                                                    }
                                                                                    muxer = this.muxer;
                                                                                    if (muxer != null) {
                                                                                    }
                                                                                    if (mediaCodec2 != null) {
                                                                                    }
                                                                                    if (mediaCodec != null) {
                                                                                    }
                                                                                    if (outputSurface != null) {
                                                                                    }
                                                                                    if (inputSurface2 != null) {
                                                                                    }
                                                                                    str5 = str4;
                                                                                    z5 = z3;
                                                                                    z6 = z4;
                                                                                    z7 = true;
                                                                                    if (z5) {
                                                                                    }
                                                                                }
                                                                            } else {
                                                                                z24 = z21;
                                                                                z25 = z20;
                                                                            }
                                                                            if (z22) {
                                                                                byteBufferArr2 = inputBuffers;
                                                                                i15 = i8;
                                                                                audioRecoder2 = audioRecoder;
                                                                                z26 = z19;
                                                                                z27 = z25;
                                                                                bufferInfo = bufferInfo4;
                                                                                i14 = i22;
                                                                                i49 = i32;
                                                                                i50 = i41;
                                                                                outputSurface = outputSurface4;
                                                                            } else {
                                                                                audioRecoder2 = audioRecoder;
                                                                                try {
                                                                                    int sampleTrackIndex = this.extractor.getSampleTrackIndex();
                                                                                    z27 = z25;
                                                                                    int i121 = i22;
                                                                                    if (sampleTrackIndex == i121) {
                                                                                        outputSurface = outputSurface4;
                                                                                        i15 = i8;
                                                                                        try {
                                                                                            try {
                                                                                                int dequeueInputBuffer = mediaCodec.dequeueInputBuffer(2500L);
                                                                                                if (dequeueInputBuffer >= 0) {
                                                                                                    if (Build.VERSION.SDK_INT < 21) {
                                                                                                        inputBuffer = inputBuffers[dequeueInputBuffer];
                                                                                                    } else {
                                                                                                        inputBuffer = mediaCodec.getInputBuffer(dequeueInputBuffer);
                                                                                                    }
                                                                                                    byteBufferArr2 = inputBuffers;
                                                                                                    int readSampleData = this.extractor.readSampleData(inputBuffer, 0);
                                                                                                    if (readSampleData < 0) {
                                                                                                        i74 = 0;
                                                                                                        mediaCodec.queueInputBuffer(dequeueInputBuffer, 0, 0, 0L, 4);
                                                                                                        z22 = true;
                                                                                                    } else {
                                                                                                        i74 = 0;
                                                                                                        mediaCodec.queueInputBuffer(dequeueInputBuffer, 0, readSampleData, this.extractor.getSampleTime(), 0);
                                                                                                        this.extractor.advance();
                                                                                                    }
                                                                                                } else {
                                                                                                    byteBufferArr2 = inputBuffers;
                                                                                                    i74 = byteBuffer4;
                                                                                                }
                                                                                                z26 = z19;
                                                                                                i14 = i121;
                                                                                                bufferInfo = bufferInfo4;
                                                                                                i49 = i32;
                                                                                                i50 = i41;
                                                                                                i73 = i74;
                                                                                            } catch (Throwable th57) {
                                                                                                th = th57;
                                                                                                z2 = z;
                                                                                                i5 = i118;
                                                                                                i4 = i9;
                                                                                                mediaCodec2 = mediaCodec11;
                                                                                                i100 = i116;
                                                                                                bufferInfo = bufferInfo4;
                                                                                                inputSurface12 = inputSurface9;
                                                                                                str3 = "x";
                                                                                                i97 = i15;
                                                                                                i3 = i117;
                                                                                                inputSurface27 = inputSurface12;
                                                                                                z3 = false;
                                                                                                inputSurface26 = inputSurface27;
                                                                                                th = th;
                                                                                                inputSurface2 = inputSurface26;
                                                                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                FileLog.e(th);
                                                                                                mediaExtractor = this.extractor;
                                                                                                if (mediaExtractor != null) {
                                                                                                }
                                                                                                muxer = this.muxer;
                                                                                                if (muxer != null) {
                                                                                                }
                                                                                                if (mediaCodec2 != null) {
                                                                                                }
                                                                                                if (mediaCodec != null) {
                                                                                                }
                                                                                                if (outputSurface != null) {
                                                                                                }
                                                                                                if (inputSurface2 != null) {
                                                                                                }
                                                                                                str5 = str4;
                                                                                                z5 = z3;
                                                                                                z6 = z4;
                                                                                                z7 = true;
                                                                                                if (z5) {
                                                                                                }
                                                                                            }
                                                                                        } catch (Exception e51) {
                                                                                            e = e51;
                                                                                            i51 = i118;
                                                                                            mediaCodec7 = mediaCodec;
                                                                                            i14 = i121;
                                                                                            i18 = i9;
                                                                                            mediaCodec2 = mediaCodec11;
                                                                                            i17 = i116;
                                                                                            bufferInfo = bufferInfo4;
                                                                                            i3 = i117;
                                                                                            inputSurface14 = inputSurface9;
                                                                                            exc = e;
                                                                                            mediaCodec2 = mediaCodec2;
                                                                                            inputSurface = inputSurface14;
                                                                                            i19 = i51;
                                                                                            if (exc instanceof IllegalStateException) {
                                                                                            }
                                                                                            z3 = false;
                                                                                            StringBuilder sb522222222222222 = new StringBuilder();
                                                                                            sb522222222222222.append("bitrate: ");
                                                                                            sb522222222222222.append(i17);
                                                                                            sb522222222222222.append(" framerate: ");
                                                                                            sb522222222222222.append(i3);
                                                                                            sb522222222222222.append(" size: ");
                                                                                            i2 = i19;
                                                                                            sb522222222222222.append(i2);
                                                                                            str3 = "x";
                                                                                            sb522222222222222.append(str3);
                                                                                            i8 = i15;
                                                                                            sb522222222222222.append(i8);
                                                                                            FileLog.e(sb522222222222222.toString());
                                                                                            FileLog.e(exc);
                                                                                            i9 = i18;
                                                                                            mediaCodec = mediaCodec7;
                                                                                            mediaCodec4 = mediaCodec2;
                                                                                            z10 = z3;
                                                                                            audioRecoder = audioRecoder2;
                                                                                            z11 = true;
                                                                                            i100 = i17;
                                                                                            inputSurface = inputSurface;
                                                                                            this.extractor.unselectTrack(i14);
                                                                                            if (mediaCodec != null) {
                                                                                            }
                                                                                            mediaCodec3 = mediaCodec;
                                                                                            outputSurface2 = outputSurface;
                                                                                            if (outputSurface2 != null) {
                                                                                            }
                                                                                            if (inputSurface != null) {
                                                                                            }
                                                                                            if (mediaCodec4 == null) {
                                                                                            }
                                                                                            if (audioRecoder != null) {
                                                                                            }
                                                                                            checkConversionCanceled();
                                                                                            z5 = z10;
                                                                                            outputSurface3 = outputSurface2;
                                                                                            i97 = i8;
                                                                                            i10 = i9;
                                                                                            inputSurface3 = inputSurface;
                                                                                            mediaCodec2 = mediaCodec5;
                                                                                            z6 = z4;
                                                                                            mediaCodec6 = mediaCodec3;
                                                                                            i11 = i2;
                                                                                            mediaExtractor2 = this.extractor;
                                                                                            if (mediaExtractor2 != null) {
                                                                                            }
                                                                                            muxer2 = this.muxer;
                                                                                            if (muxer2 != null) {
                                                                                            }
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            if (mediaCodec6 != null) {
                                                                                            }
                                                                                            if (outputSurface3 != null) {
                                                                                            }
                                                                                            if (inputSurface3 != null) {
                                                                                            }
                                                                                            str5 = str4;
                                                                                            i5 = i11;
                                                                                            z7 = z11;
                                                                                            if (z5) {
                                                                                            }
                                                                                        }
                                                                                    } else {
                                                                                        byteBufferArr2 = inputBuffers;
                                                                                        outputSurface = outputSurface4;
                                                                                        i15 = i8;
                                                                                        if (z19 && i32 != -1 && sampleTrackIndex == i32) {
                                                                                            try {
                                                                                                try {
                                                                                                    i71 = Build.VERSION.SDK_INT;
                                                                                                    if (i71 >= 28) {
                                                                                                        try {
                                                                                                            long sampleSize = this.extractor.getSampleSize();
                                                                                                            z26 = z19;
                                                                                                            i14 = i121;
                                                                                                            if (sampleSize > i46) {
                                                                                                                i46 = (int) (sampleSize + 1024);
                                                                                                                try {
                                                                                                                    byteBuffer13 = ByteBuffer.allocateDirect(i46);
                                                                                                                } catch (Exception e52) {
                                                                                                                    e = e52;
                                                                                                                    i51 = i118;
                                                                                                                    mediaCodec7 = mediaCodec;
                                                                                                                    i18 = i9;
                                                                                                                    mediaCodec2 = mediaCodec11;
                                                                                                                    i17 = i116;
                                                                                                                    bufferInfo = bufferInfo4;
                                                                                                                    i3 = i117;
                                                                                                                    inputSurface14 = inputSurface9;
                                                                                                                    exc = e;
                                                                                                                    mediaCodec2 = mediaCodec2;
                                                                                                                    inputSurface = inputSurface14;
                                                                                                                    i19 = i51;
                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                    }
                                                                                                                    z3 = false;
                                                                                                                    StringBuilder sb5222222222222222 = new StringBuilder();
                                                                                                                    sb5222222222222222.append("bitrate: ");
                                                                                                                    sb5222222222222222.append(i17);
                                                                                                                    sb5222222222222222.append(" framerate: ");
                                                                                                                    sb5222222222222222.append(i3);
                                                                                                                    sb5222222222222222.append(" size: ");
                                                                                                                    i2 = i19;
                                                                                                                    sb5222222222222222.append(i2);
                                                                                                                    str3 = "x";
                                                                                                                    sb5222222222222222.append(str3);
                                                                                                                    i8 = i15;
                                                                                                                    sb5222222222222222.append(i8);
                                                                                                                    FileLog.e(sb5222222222222222.toString());
                                                                                                                    FileLog.e(exc);
                                                                                                                    i9 = i18;
                                                                                                                    mediaCodec = mediaCodec7;
                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                    z10 = z3;
                                                                                                                    audioRecoder = audioRecoder2;
                                                                                                                    z11 = true;
                                                                                                                    i100 = i17;
                                                                                                                    inputSurface = inputSurface;
                                                                                                                    this.extractor.unselectTrack(i14);
                                                                                                                    if (mediaCodec != null) {
                                                                                                                    }
                                                                                                                    mediaCodec3 = mediaCodec;
                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                    if (outputSurface2 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                    }
                                                                                                                    if (audioRecoder != null) {
                                                                                                                    }
                                                                                                                    checkConversionCanceled();
                                                                                                                    z5 = z10;
                                                                                                                    outputSurface3 = outputSurface2;
                                                                                                                    i97 = i8;
                                                                                                                    i10 = i9;
                                                                                                                    inputSurface3 = inputSurface;
                                                                                                                    mediaCodec2 = mediaCodec5;
                                                                                                                    z6 = z4;
                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                    i11 = i2;
                                                                                                                    mediaExtractor2 = this.extractor;
                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                    }
                                                                                                                    muxer2 = this.muxer;
                                                                                                                    if (muxer2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                    }
                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                    }
                                                                                                                    if (outputSurface3 != null) {
                                                                                                                    }
                                                                                                                    if (inputSurface3 != null) {
                                                                                                                    }
                                                                                                                    str5 = str4;
                                                                                                                    i5 = i11;
                                                                                                                    z7 = z11;
                                                                                                                    if (z5) {
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        } catch (Exception e53) {
                                                                                                            e = e53;
                                                                                                            i14 = i121;
                                                                                                        }
                                                                                                    } else {
                                                                                                        z26 = z19;
                                                                                                        i14 = i121;
                                                                                                    }
                                                                                                    byteBuffer7 = byteBuffer13;
                                                                                                } catch (Exception e54) {
                                                                                                    e = e54;
                                                                                                    i14 = i121;
                                                                                                }
                                                                                                try {
                                                                                                    bufferInfo = bufferInfo4;
                                                                                                    bufferInfo.size = this.extractor.readSampleData(byteBuffer7, 0);
                                                                                                    if (i71 < 21) {
                                                                                                        byteBuffer7.position(0);
                                                                                                        byteBuffer7.limit(bufferInfo.size);
                                                                                                    }
                                                                                                    if (bufferInfo.size >= 0) {
                                                                                                        bufferInfo.presentationTimeUs = this.extractor.getSampleTime();
                                                                                                        this.extractor.advance();
                                                                                                    } else {
                                                                                                        bufferInfo.size = 0;
                                                                                                        z22 = true;
                                                                                                    }
                                                                                                    if (bufferInfo.size > 0 && (j34 < 0 || bufferInfo.presentationTimeUs < j34)) {
                                                                                                        bufferInfo.offset = 0;
                                                                                                        bufferInfo.flags = this.extractor.getSampleFlags();
                                                                                                        long writeSampleData2 = this.muxer.writeSampleData(i41, byteBuffer7, bufferInfo, false);
                                                                                                        if (writeSampleData2 != 0 && (videoConvertorListener2 = this.callback) != null) {
                                                                                                            i49 = i32;
                                                                                                            i50 = i41;
                                                                                                            long j40 = bufferInfo.presentationTimeUs;
                                                                                                            int i122 = ((j40 - j15) > j38 ? 1 : ((j40 - j15) == j38 ? 0 : -1));
                                                                                                            if (i122 > 0) {
                                                                                                                j38 = j40 - j15;
                                                                                                            }
                                                                                                            long j41 = j38;
                                                                                                            i72 = i46;
                                                                                                            videoConvertorListener2.didWriteData(writeSampleData2, (((float) j41) / 1000.0f) / f);
                                                                                                            j38 = j41;
                                                                                                            byteBuffer8 = i122;
                                                                                                            byteBuffer13 = byteBuffer7;
                                                                                                            i46 = i72;
                                                                                                            i73 = byteBuffer8;
                                                                                                        }
                                                                                                    }
                                                                                                    i49 = i32;
                                                                                                    i50 = i41;
                                                                                                    i72 = i46;
                                                                                                    byteBuffer8 = byteBuffer4;
                                                                                                    byteBuffer13 = byteBuffer7;
                                                                                                    i46 = i72;
                                                                                                    i73 = byteBuffer8;
                                                                                                } catch (Exception e55) {
                                                                                                    e = e55;
                                                                                                    bufferInfo = bufferInfo4;
                                                                                                    i51 = i118;
                                                                                                    mediaCodec7 = mediaCodec;
                                                                                                    i18 = i9;
                                                                                                    mediaCodec2 = mediaCodec11;
                                                                                                    i17 = i116;
                                                                                                    i3 = i117;
                                                                                                    inputSurface14 = inputSurface9;
                                                                                                    exc = e;
                                                                                                    mediaCodec2 = mediaCodec2;
                                                                                                    inputSurface = inputSurface14;
                                                                                                    i19 = i51;
                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                    }
                                                                                                    z3 = false;
                                                                                                    StringBuilder sb52222222222222222 = new StringBuilder();
                                                                                                    sb52222222222222222.append("bitrate: ");
                                                                                                    sb52222222222222222.append(i17);
                                                                                                    sb52222222222222222.append(" framerate: ");
                                                                                                    sb52222222222222222.append(i3);
                                                                                                    sb52222222222222222.append(" size: ");
                                                                                                    i2 = i19;
                                                                                                    sb52222222222222222.append(i2);
                                                                                                    str3 = "x";
                                                                                                    sb52222222222222222.append(str3);
                                                                                                    i8 = i15;
                                                                                                    sb52222222222222222.append(i8);
                                                                                                    FileLog.e(sb52222222222222222.toString());
                                                                                                    FileLog.e(exc);
                                                                                                    i9 = i18;
                                                                                                    mediaCodec = mediaCodec7;
                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                    z10 = z3;
                                                                                                    audioRecoder = audioRecoder2;
                                                                                                    z11 = true;
                                                                                                    i100 = i17;
                                                                                                    inputSurface = inputSurface;
                                                                                                    this.extractor.unselectTrack(i14);
                                                                                                    if (mediaCodec != null) {
                                                                                                    }
                                                                                                    mediaCodec3 = mediaCodec;
                                                                                                    outputSurface2 = outputSurface;
                                                                                                    if (outputSurface2 != null) {
                                                                                                    }
                                                                                                    if (inputSurface != null) {
                                                                                                    }
                                                                                                    if (mediaCodec4 == null) {
                                                                                                    }
                                                                                                    if (audioRecoder != null) {
                                                                                                    }
                                                                                                    checkConversionCanceled();
                                                                                                    z5 = z10;
                                                                                                    outputSurface3 = outputSurface2;
                                                                                                    i97 = i8;
                                                                                                    i10 = i9;
                                                                                                    inputSurface3 = inputSurface;
                                                                                                    mediaCodec2 = mediaCodec5;
                                                                                                    z6 = z4;
                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                    i11 = i2;
                                                                                                    mediaExtractor2 = this.extractor;
                                                                                                    if (mediaExtractor2 != null) {
                                                                                                    }
                                                                                                    muxer2 = this.muxer;
                                                                                                    if (muxer2 != null) {
                                                                                                    }
                                                                                                    if (mediaCodec2 != null) {
                                                                                                    }
                                                                                                    if (mediaCodec6 != null) {
                                                                                                    }
                                                                                                    if (outputSurface3 != null) {
                                                                                                    }
                                                                                                    if (inputSurface3 != null) {
                                                                                                    }
                                                                                                    str5 = str4;
                                                                                                    i5 = i11;
                                                                                                    z7 = z11;
                                                                                                    if (z5) {
                                                                                                    }
                                                                                                }
                                                                                            } catch (Throwable th58) {
                                                                                                th = th58;
                                                                                                bufferInfo = bufferInfo4;
                                                                                                z2 = z;
                                                                                                i5 = i118;
                                                                                                i4 = i9;
                                                                                                mediaCodec2 = mediaCodec11;
                                                                                                inputSurface13 = inputSurface9;
                                                                                                i100 = i116;
                                                                                                inputSurface12 = inputSurface13;
                                                                                                str3 = "x";
                                                                                                i97 = i15;
                                                                                                i3 = i117;
                                                                                                inputSurface27 = inputSurface12;
                                                                                                z3 = false;
                                                                                                inputSurface26 = inputSurface27;
                                                                                                th = th;
                                                                                                inputSurface2 = inputSurface26;
                                                                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                FileLog.e(th);
                                                                                                mediaExtractor = this.extractor;
                                                                                                if (mediaExtractor != null) {
                                                                                                }
                                                                                                muxer = this.muxer;
                                                                                                if (muxer != null) {
                                                                                                }
                                                                                                if (mediaCodec2 != null) {
                                                                                                }
                                                                                                if (mediaCodec != null) {
                                                                                                }
                                                                                                if (outputSurface != null) {
                                                                                                }
                                                                                                if (inputSurface2 != null) {
                                                                                                }
                                                                                                str5 = str4;
                                                                                                z5 = z3;
                                                                                                z6 = z4;
                                                                                                z7 = true;
                                                                                                if (z5) {
                                                                                                }
                                                                                            }
                                                                                        } else {
                                                                                            z26 = z19;
                                                                                            i14 = i121;
                                                                                            bufferInfo = bufferInfo4;
                                                                                            i49 = i32;
                                                                                            i50 = i41;
                                                                                            i73 = byteBuffer4;
                                                                                            if (sampleTrackIndex == -1) {
                                                                                                z39 = true;
                                                                                                byteBuffer4 = byteBuffer4;
                                                                                                if (z39) {
                                                                                                    try {
                                                                                                        int dequeueInputBuffer2 = mediaCodec.dequeueInputBuffer(2500L);
                                                                                                        if (dequeueInputBuffer2 >= 0) {
                                                                                                            byteBuffer4 = 0;
                                                                                                            mediaCodec.queueInputBuffer(dequeueInputBuffer2, 0, 0, 0L, 4);
                                                                                                            z22 = true;
                                                                                                        }
                                                                                                    } catch (Exception e56) {
                                                                                                        e = e56;
                                                                                                        i51 = i118;
                                                                                                        mediaCodec7 = mediaCodec;
                                                                                                        i18 = i9;
                                                                                                        mediaCodec2 = mediaCodec11;
                                                                                                        i17 = i116;
                                                                                                        i3 = i117;
                                                                                                        inputSurface14 = inputSurface9;
                                                                                                        exc = e;
                                                                                                        mediaCodec2 = mediaCodec2;
                                                                                                        inputSurface = inputSurface14;
                                                                                                        i19 = i51;
                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                        }
                                                                                                        z3 = false;
                                                                                                        StringBuilder sb522222222222222222 = new StringBuilder();
                                                                                                        sb522222222222222222.append("bitrate: ");
                                                                                                        sb522222222222222222.append(i17);
                                                                                                        sb522222222222222222.append(" framerate: ");
                                                                                                        sb522222222222222222.append(i3);
                                                                                                        sb522222222222222222.append(" size: ");
                                                                                                        i2 = i19;
                                                                                                        sb522222222222222222.append(i2);
                                                                                                        str3 = "x";
                                                                                                        sb522222222222222222.append(str3);
                                                                                                        i8 = i15;
                                                                                                        sb522222222222222222.append(i8);
                                                                                                        FileLog.e(sb522222222222222222.toString());
                                                                                                        FileLog.e(exc);
                                                                                                        i9 = i18;
                                                                                                        mediaCodec = mediaCodec7;
                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                        z10 = z3;
                                                                                                        audioRecoder = audioRecoder2;
                                                                                                        z11 = true;
                                                                                                        i100 = i17;
                                                                                                        inputSurface = inputSurface;
                                                                                                        this.extractor.unselectTrack(i14);
                                                                                                        if (mediaCodec != null) {
                                                                                                        }
                                                                                                        mediaCodec3 = mediaCodec;
                                                                                                        outputSurface2 = outputSurface;
                                                                                                        if (outputSurface2 != null) {
                                                                                                        }
                                                                                                        if (inputSurface != null) {
                                                                                                        }
                                                                                                        if (mediaCodec4 == null) {
                                                                                                        }
                                                                                                        if (audioRecoder != null) {
                                                                                                        }
                                                                                                        checkConversionCanceled();
                                                                                                        z5 = z10;
                                                                                                        outputSurface3 = outputSurface2;
                                                                                                        i97 = i8;
                                                                                                        i10 = i9;
                                                                                                        inputSurface3 = inputSurface;
                                                                                                        mediaCodec2 = mediaCodec5;
                                                                                                        z6 = z4;
                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                        i11 = i2;
                                                                                                        mediaExtractor2 = this.extractor;
                                                                                                        if (mediaExtractor2 != null) {
                                                                                                        }
                                                                                                        muxer2 = this.muxer;
                                                                                                        if (muxer2 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec2 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec6 != null) {
                                                                                                        }
                                                                                                        if (outputSurface3 != null) {
                                                                                                        }
                                                                                                        if (inputSurface3 != null) {
                                                                                                        }
                                                                                                        str5 = str4;
                                                                                                        i5 = i11;
                                                                                                        z7 = z11;
                                                                                                        if (z5) {
                                                                                                        }
                                                                                                    } catch (Throwable th59) {
                                                                                                        th = th59;
                                                                                                        z2 = z;
                                                                                                        i5 = i118;
                                                                                                        i4 = i9;
                                                                                                        mediaCodec2 = mediaCodec11;
                                                                                                        inputSurface13 = inputSurface9;
                                                                                                        i100 = i116;
                                                                                                        inputSurface12 = inputSurface13;
                                                                                                        str3 = "x";
                                                                                                        i97 = i15;
                                                                                                        i3 = i117;
                                                                                                        inputSurface27 = inputSurface12;
                                                                                                        z3 = false;
                                                                                                        inputSurface26 = inputSurface27;
                                                                                                        th = th;
                                                                                                        inputSurface2 = inputSurface26;
                                                                                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                        FileLog.e(th);
                                                                                                        mediaExtractor = this.extractor;
                                                                                                        if (mediaExtractor != null) {
                                                                                                        }
                                                                                                        muxer = this.muxer;
                                                                                                        if (muxer != null) {
                                                                                                        }
                                                                                                        if (mediaCodec2 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec != null) {
                                                                                                        }
                                                                                                        if (outputSurface != null) {
                                                                                                        }
                                                                                                        if (inputSurface2 != null) {
                                                                                                        }
                                                                                                        str5 = str4;
                                                                                                        z5 = z3;
                                                                                                        z6 = z4;
                                                                                                        z7 = true;
                                                                                                        if (z5) {
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    z39 = false;
                                                                                    byteBuffer4 = i73;
                                                                                    if (z39) {
                                                                                    }
                                                                                } catch (Exception e57) {
                                                                                    e = e57;
                                                                                    i15 = i8;
                                                                                    bufferInfo = bufferInfo4;
                                                                                    i14 = i22;
                                                                                    outputSurface = outputSurface4;
                                                                                } catch (Throwable th60) {
                                                                                    th = th60;
                                                                                    outputSurface = outputSurface4;
                                                                                    i15 = i8;
                                                                                }
                                                                            }
                                                                            z28 = !z23;
                                                                            i52 = i9;
                                                                            j16 = j14;
                                                                            boolean z59 = true;
                                                                            convertVideoParams4 = convertVideoParams3;
                                                                            r7 = j15;
                                                                            inputSurface16 = i47;
                                                                            mediaCodec12 = mediaCodec11;
                                                                            inputSurface15 = inputSurface9;
                                                                            i53 = byteBuffer4;
                                                                            while (true) {
                                                                                if (!z28 || z59) {
                                                                                    try {
                                                                                        checkConversionCanceled();
                                                                                        if (z) {
                                                                                            z29 = z28;
                                                                                            z30 = z59;
                                                                                            j17 = 22000;
                                                                                            MediaCodec mediaCodec17 = mediaCodec12;
                                                                                            i59 = i46;
                                                                                            mediaCodec2 = mediaCodec17;
                                                                                        } else {
                                                                                            z29 = z28;
                                                                                            z30 = z59;
                                                                                            j17 = 2500;
                                                                                            MediaCodec mediaCodec18 = mediaCodec12;
                                                                                            i59 = i46;
                                                                                            mediaCodec2 = mediaCodec18;
                                                                                        }
                                                                                        try {
                                                                                            dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo, j17);
                                                                                            if (dequeueOutputBuffer == -1) {
                                                                                                i69 = i118;
                                                                                                mediaCodec14 = mediaCodec;
                                                                                                j18 = j16;
                                                                                                i60 = i49;
                                                                                                str11 = str20;
                                                                                                i64 = i34;
                                                                                                i63 = i33;
                                                                                                i65 = -1;
                                                                                                z30 = false;
                                                                                            } else {
                                                                                                if (dequeueOutputBuffer == -3) {
                                                                                                    try {
                                                                                                        i60 = i49;
                                                                                                        if (Build.VERSION.SDK_INT < 21) {
                                                                                                            byteBufferArr4 = mediaCodec2.getOutputBuffers();
                                                                                                        }
                                                                                                        i61 = i118;
                                                                                                        mediaCodec14 = mediaCodec;
                                                                                                        j18 = j16;
                                                                                                        str11 = str20;
                                                                                                    } catch (Exception e58) {
                                                                                                        e = e58;
                                                                                                        i56 = i118;
                                                                                                        mediaCodec13 = mediaCodec;
                                                                                                        i3 = i117;
                                                                                                        exc = e;
                                                                                                        i58 = i56;
                                                                                                        i18 = i52;
                                                                                                        mediaCodec7 = mediaCodec13;
                                                                                                        inputSurface10 = inputSurface15;
                                                                                                        i48 = i58;
                                                                                                        i17 = i116;
                                                                                                        mediaCodec2 = mediaCodec2;
                                                                                                        inputSurface = inputSurface10;
                                                                                                        i19 = i48;
                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                        }
                                                                                                        z3 = false;
                                                                                                        StringBuilder sb5222222222222222222 = new StringBuilder();
                                                                                                        sb5222222222222222222.append("bitrate: ");
                                                                                                        sb5222222222222222222.append(i17);
                                                                                                        sb5222222222222222222.append(" framerate: ");
                                                                                                        sb5222222222222222222.append(i3);
                                                                                                        sb5222222222222222222.append(" size: ");
                                                                                                        i2 = i19;
                                                                                                        sb5222222222222222222.append(i2);
                                                                                                        str3 = "x";
                                                                                                        sb5222222222222222222.append(str3);
                                                                                                        i8 = i15;
                                                                                                        sb5222222222222222222.append(i8);
                                                                                                        FileLog.e(sb5222222222222222222.toString());
                                                                                                        FileLog.e(exc);
                                                                                                        i9 = i18;
                                                                                                        mediaCodec = mediaCodec7;
                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                        z10 = z3;
                                                                                                        audioRecoder = audioRecoder2;
                                                                                                        z11 = true;
                                                                                                        i100 = i17;
                                                                                                        inputSurface = inputSurface;
                                                                                                        this.extractor.unselectTrack(i14);
                                                                                                        if (mediaCodec != null) {
                                                                                                        }
                                                                                                        mediaCodec3 = mediaCodec;
                                                                                                        outputSurface2 = outputSurface;
                                                                                                        if (outputSurface2 != null) {
                                                                                                        }
                                                                                                        if (inputSurface != null) {
                                                                                                        }
                                                                                                        if (mediaCodec4 == null) {
                                                                                                        }
                                                                                                        if (audioRecoder != null) {
                                                                                                        }
                                                                                                        checkConversionCanceled();
                                                                                                        z5 = z10;
                                                                                                        outputSurface3 = outputSurface2;
                                                                                                        i97 = i8;
                                                                                                        i10 = i9;
                                                                                                        inputSurface3 = inputSurface;
                                                                                                        mediaCodec2 = mediaCodec5;
                                                                                                        z6 = z4;
                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                        i11 = i2;
                                                                                                        mediaExtractor2 = this.extractor;
                                                                                                        if (mediaExtractor2 != null) {
                                                                                                        }
                                                                                                        muxer2 = this.muxer;
                                                                                                        if (muxer2 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec2 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec6 != null) {
                                                                                                        }
                                                                                                        if (outputSurface3 != null) {
                                                                                                        }
                                                                                                        if (inputSurface3 != null) {
                                                                                                        }
                                                                                                        str5 = str4;
                                                                                                        i5 = i11;
                                                                                                        z7 = z11;
                                                                                                        if (z5) {
                                                                                                        }
                                                                                                    } catch (Throwable th61) {
                                                                                                        th = th61;
                                                                                                        i5 = i118;
                                                                                                        i4 = i52;
                                                                                                        z2 = z;
                                                                                                        inputSurface13 = inputSurface15;
                                                                                                        i100 = i116;
                                                                                                        inputSurface12 = inputSurface13;
                                                                                                        str3 = "x";
                                                                                                        i97 = i15;
                                                                                                        i3 = i117;
                                                                                                        inputSurface27 = inputSurface12;
                                                                                                        z3 = false;
                                                                                                        inputSurface26 = inputSurface27;
                                                                                                        th = th;
                                                                                                        inputSurface2 = inputSurface26;
                                                                                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                        FileLog.e(th);
                                                                                                        mediaExtractor = this.extractor;
                                                                                                        if (mediaExtractor != null) {
                                                                                                        }
                                                                                                        muxer = this.muxer;
                                                                                                        if (muxer != null) {
                                                                                                        }
                                                                                                        if (mediaCodec2 != null) {
                                                                                                        }
                                                                                                        if (mediaCodec != null) {
                                                                                                        }
                                                                                                        if (outputSurface != null) {
                                                                                                        }
                                                                                                        if (inputSurface2 != null) {
                                                                                                        }
                                                                                                        str5 = str4;
                                                                                                        z5 = z3;
                                                                                                        z6 = z4;
                                                                                                        z7 = true;
                                                                                                        if (z5) {
                                                                                                        }
                                                                                                    }
                                                                                                } else {
                                                                                                    i60 = i49;
                                                                                                    i3 = -2;
                                                                                                    if (dequeueOutputBuffer == -2) {
                                                                                                        MediaFormat outputFormat2 = mediaCodec2.getOutputFormat();
                                                                                                        if (i52 != -5 || outputFormat2 == null) {
                                                                                                            str11 = str20;
                                                                                                        } else {
                                                                                                            int addTrack3 = this.muxer.addTrack(outputFormat2, false);
                                                                                                            String str22 = str21;
                                                                                                            try {
                                                                                                                if (outputFormat2.containsKey(str22)) {
                                                                                                                    i66 = addTrack3;
                                                                                                                    if (outputFormat2.getInteger(str22) == 1) {
                                                                                                                        str11 = str20;
                                                                                                                        try {
                                                                                                                            ByteBuffer byteBuffer14 = outputFormat2.getByteBuffer(str11);
                                                                                                                            str21 = str22;
                                                                                                                            ByteBuffer byteBuffer15 = outputFormat2.getByteBuffer("csd-1");
                                                                                                                            i120 = (byteBuffer14 == null ? 0 : byteBuffer14.limit()) + (byteBuffer15 == null ? 0 : byteBuffer15.limit());
                                                                                                                            i52 = i66;
                                                                                                                        } catch (Exception e59) {
                                                                                                                            e = e59;
                                                                                                                            mediaCodec7 = mediaCodec;
                                                                                                                            i18 = i66;
                                                                                                                            i17 = i116;
                                                                                                                            i3 = i117;
                                                                                                                            i51 = i118;
                                                                                                                            inputSurface14 = inputSurface15;
                                                                                                                            exc = e;
                                                                                                                            mediaCodec2 = mediaCodec2;
                                                                                                                            inputSurface = inputSurface14;
                                                                                                                            i19 = i51;
                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                            }
                                                                                                                            z3 = false;
                                                                                                                            StringBuilder sb52222222222222222222 = new StringBuilder();
                                                                                                                            sb52222222222222222222.append("bitrate: ");
                                                                                                                            sb52222222222222222222.append(i17);
                                                                                                                            sb52222222222222222222.append(" framerate: ");
                                                                                                                            sb52222222222222222222.append(i3);
                                                                                                                            sb52222222222222222222.append(" size: ");
                                                                                                                            i2 = i19;
                                                                                                                            sb52222222222222222222.append(i2);
                                                                                                                            str3 = "x";
                                                                                                                            sb52222222222222222222.append(str3);
                                                                                                                            i8 = i15;
                                                                                                                            sb52222222222222222222.append(i8);
                                                                                                                            FileLog.e(sb52222222222222222222.toString());
                                                                                                                            FileLog.e(exc);
                                                                                                                            i9 = i18;
                                                                                                                            mediaCodec = mediaCodec7;
                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                            z10 = z3;
                                                                                                                            audioRecoder = audioRecoder2;
                                                                                                                            z11 = true;
                                                                                                                            i100 = i17;
                                                                                                                            inputSurface = inputSurface;
                                                                                                                            this.extractor.unselectTrack(i14);
                                                                                                                            if (mediaCodec != null) {
                                                                                                                            }
                                                                                                                            mediaCodec3 = mediaCodec;
                                                                                                                            outputSurface2 = outputSurface;
                                                                                                                            if (outputSurface2 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec4 == null) {
                                                                                                                            }
                                                                                                                            if (audioRecoder != null) {
                                                                                                                            }
                                                                                                                            checkConversionCanceled();
                                                                                                                            z5 = z10;
                                                                                                                            outputSurface3 = outputSurface2;
                                                                                                                            i97 = i8;
                                                                                                                            i10 = i9;
                                                                                                                            inputSurface3 = inputSurface;
                                                                                                                            mediaCodec2 = mediaCodec5;
                                                                                                                            z6 = z4;
                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                            i11 = i2;
                                                                                                                            mediaExtractor2 = this.extractor;
                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                            }
                                                                                                                            muxer2 = this.muxer;
                                                                                                                            if (muxer2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                            }
                                                                                                                            if (outputSurface3 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface3 != null) {
                                                                                                                            }
                                                                                                                            str5 = str4;
                                                                                                                            i5 = i11;
                                                                                                                            z7 = z11;
                                                                                                                            if (z5) {
                                                                                                                            }
                                                                                                                        } catch (Throwable th62) {
                                                                                                                            th = th62;
                                                                                                                            i5 = i118;
                                                                                                                            z2 = z;
                                                                                                                            i4 = i66;
                                                                                                                            inputSurface13 = inputSurface15;
                                                                                                                            i100 = i116;
                                                                                                                            inputSurface12 = inputSurface13;
                                                                                                                            str3 = "x";
                                                                                                                            i97 = i15;
                                                                                                                            i3 = i117;
                                                                                                                            inputSurface27 = inputSurface12;
                                                                                                                            z3 = false;
                                                                                                                            inputSurface26 = inputSurface27;
                                                                                                                            th = th;
                                                                                                                            inputSurface2 = inputSurface26;
                                                                                                                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                                            FileLog.e(th);
                                                                                                                            mediaExtractor = this.extractor;
                                                                                                                            if (mediaExtractor != null) {
                                                                                                                            }
                                                                                                                            muxer = this.muxer;
                                                                                                                            if (muxer != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec != null) {
                                                                                                                            }
                                                                                                                            if (outputSurface != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface2 != null) {
                                                                                                                            }
                                                                                                                            str5 = str4;
                                                                                                                            z5 = z3;
                                                                                                                            z6 = z4;
                                                                                                                            z7 = true;
                                                                                                                            if (z5) {
                                                                                                                            }
                                                                                                                        }
                                                                                                                    }
                                                                                                                } else {
                                                                                                                    i66 = addTrack3;
                                                                                                                }
                                                                                                                str21 = str22;
                                                                                                                str11 = str20;
                                                                                                                i52 = i66;
                                                                                                            } catch (Exception e60) {
                                                                                                                e = e60;
                                                                                                                i66 = addTrack3;
                                                                                                            } catch (Throwable th63) {
                                                                                                                th = th63;
                                                                                                                i66 = addTrack3;
                                                                                                            }
                                                                                                        }
                                                                                                        i61 = i118;
                                                                                                        mediaCodec14 = mediaCodec;
                                                                                                        j18 = j16;
                                                                                                    } else {
                                                                                                        str11 = str20;
                                                                                                        try {
                                                                                                            if (dequeueOutputBuffer < 0) {
                                                                                                                throw new RuntimeException("unexpected result from encoder.dequeueOutputBuffer: " + dequeueOutputBuffer);
                                                                                                            }
                                                                                                            if (Build.VERSION.SDK_INT < 21) {
                                                                                                                outputBuffer = byteBufferArr4[dequeueOutputBuffer];
                                                                                                            } else {
                                                                                                                outputBuffer = mediaCodec2.getOutputBuffer(dequeueOutputBuffer);
                                                                                                            }
                                                                                                            if (outputBuffer == null) {
                                                                                                                throw new RuntimeException("encoderOutputBuffer " + dequeueOutputBuffer + " was null");
                                                                                                            }
                                                                                                            int i123 = bufferInfo.size;
                                                                                                            int i124 = i118;
                                                                                                            try {
                                                                                                                if (i123 > 1) {
                                                                                                                    try {
                                                                                                                        int i125 = bufferInfo.flags;
                                                                                                                        if ((i125 & 2) == 0) {
                                                                                                                            if (i120 != 0 && (i125 & 1) != 0) {
                                                                                                                                try {
                                                                                                                                    bufferInfo.offset += i120;
                                                                                                                                    bufferInfo.size = i123 - i120;
                                                                                                                                } catch (Exception e61) {
                                                                                                                                    exc = e61;
                                                                                                                                    mediaCodec13 = mediaCodec;
                                                                                                                                    i3 = i117;
                                                                                                                                    i58 = i124;
                                                                                                                                    i18 = i52;
                                                                                                                                    mediaCodec7 = mediaCodec13;
                                                                                                                                    inputSurface10 = inputSurface15;
                                                                                                                                    i48 = i58;
                                                                                                                                    i17 = i116;
                                                                                                                                    mediaCodec2 = mediaCodec2;
                                                                                                                                    inputSurface = inputSurface10;
                                                                                                                                    i19 = i48;
                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                    }
                                                                                                                                    z3 = false;
                                                                                                                                    StringBuilder sb522222222222222222222 = new StringBuilder();
                                                                                                                                    sb522222222222222222222.append("bitrate: ");
                                                                                                                                    sb522222222222222222222.append(i17);
                                                                                                                                    sb522222222222222222222.append(" framerate: ");
                                                                                                                                    sb522222222222222222222.append(i3);
                                                                                                                                    sb522222222222222222222.append(" size: ");
                                                                                                                                    i2 = i19;
                                                                                                                                    sb522222222222222222222.append(i2);
                                                                                                                                    str3 = "x";
                                                                                                                                    sb522222222222222222222.append(str3);
                                                                                                                                    i8 = i15;
                                                                                                                                    sb522222222222222222222.append(i8);
                                                                                                                                    FileLog.e(sb522222222222222222222.toString());
                                                                                                                                    FileLog.e(exc);
                                                                                                                                    i9 = i18;
                                                                                                                                    mediaCodec = mediaCodec7;
                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                    z10 = z3;
                                                                                                                                    audioRecoder = audioRecoder2;
                                                                                                                                    z11 = true;
                                                                                                                                    i100 = i17;
                                                                                                                                    inputSurface = inputSurface;
                                                                                                                                    this.extractor.unselectTrack(i14);
                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                    }
                                                                                                                                    mediaCodec3 = mediaCodec;
                                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                    }
                                                                                                                                    if (inputSurface != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                                    }
                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                    }
                                                                                                                                    checkConversionCanceled();
                                                                                                                                    z5 = z10;
                                                                                                                                    outputSurface3 = outputSurface2;
                                                                                                                                    i97 = i8;
                                                                                                                                    i10 = i9;
                                                                                                                                    inputSurface3 = inputSurface;
                                                                                                                                    mediaCodec2 = mediaCodec5;
                                                                                                                                    z6 = z4;
                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                    i11 = i2;
                                                                                                                                    mediaExtractor2 = this.extractor;
                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                    }
                                                                                                                                    muxer2 = this.muxer;
                                                                                                                                    if (muxer2 != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                    }
                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                    }
                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                    }
                                                                                                                                    str5 = str4;
                                                                                                                                    i5 = i11;
                                                                                                                                    z7 = z11;
                                                                                                                                    if (z5) {
                                                                                                                                    }
                                                                                                                                } catch (Throwable th64) {
                                                                                                                                    th = th64;
                                                                                                                                    z2 = z;
                                                                                                                                    th = th;
                                                                                                                                    i4 = i52;
                                                                                                                                    i67 = i124;
                                                                                                                                    i5 = i67;
                                                                                                                                    i100 = i116;
                                                                                                                                    str3 = "x";
                                                                                                                                    i97 = i15;
                                                                                                                                    i3 = i117;
                                                                                                                                    inputSurface28 = inputSurface15;
                                                                                                                                    z3 = false;
                                                                                                                                    inputSurface2 = inputSurface28;
                                                                                                                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                                                    FileLog.e(th);
                                                                                                                                    mediaExtractor = this.extractor;
                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                    }
                                                                                                                                    muxer = this.muxer;
                                                                                                                                    if (muxer != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                    }
                                                                                                                                    if (outputSurface != null) {
                                                                                                                                    }
                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                    }
                                                                                                                                    str5 = str4;
                                                                                                                                    z5 = z3;
                                                                                                                                    z6 = z4;
                                                                                                                                    z7 = true;
                                                                                                                                    if (z5) {
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                            if (z58 && (i125 & 1) != 0) {
                                                                                                                                cutOfNalData(this.outputMimeType, outputBuffer, bufferInfo);
                                                                                                                                z58 = false;
                                                                                                                            }
                                                                                                                            j18 = j16;
                                                                                                                            long writeSampleData3 = this.muxer.writeSampleData(i52, outputBuffer, bufferInfo, true);
                                                                                                                            if (writeSampleData3 == 0 || (videoConvertorListener = this.callback) == null) {
                                                                                                                                mediaCodec14 = mediaCodec;
                                                                                                                            } else {
                                                                                                                                mediaCodec14 = mediaCodec;
                                                                                                                                try {
                                                                                                                                    long j42 = bufferInfo.presentationTimeUs;
                                                                                                                                    if (j42 - r7 > j38) {
                                                                                                                                        j38 = j42 - r7;
                                                                                                                                    }
                                                                                                                                    long j43 = j38;
                                                                                                                                    videoConvertorListener.didWriteData(writeSampleData3, (((float) j43) / 1000.0f) / f);
                                                                                                                                    j38 = j43;
                                                                                                                                } catch (Exception e62) {
                                                                                                                                    e = e62;
                                                                                                                                    exc = e;
                                                                                                                                    i18 = i52;
                                                                                                                                    mediaCodec7 = mediaCodec14;
                                                                                                                                    i68 = i124;
                                                                                                                                    i17 = i116;
                                                                                                                                    i3 = i117;
                                                                                                                                    mediaCodec2 = mediaCodec2;
                                                                                                                                    inputSurface = inputSurface15;
                                                                                                                                    i19 = i68;
                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                    }
                                                                                                                                    z3 = false;
                                                                                                                                    StringBuilder sb5222222222222222222222 = new StringBuilder();
                                                                                                                                    sb5222222222222222222222.append("bitrate: ");
                                                                                                                                    sb5222222222222222222222.append(i17);
                                                                                                                                    sb5222222222222222222222.append(" framerate: ");
                                                                                                                                    sb5222222222222222222222.append(i3);
                                                                                                                                    sb5222222222222222222222.append(" size: ");
                                                                                                                                    i2 = i19;
                                                                                                                                    sb5222222222222222222222.append(i2);
                                                                                                                                    str3 = "x";
                                                                                                                                    sb5222222222222222222222.append(str3);
                                                                                                                                    i8 = i15;
                                                                                                                                    sb5222222222222222222222.append(i8);
                                                                                                                                    FileLog.e(sb5222222222222222222222.toString());
                                                                                                                                    FileLog.e(exc);
                                                                                                                                    i9 = i18;
                                                                                                                                    mediaCodec = mediaCodec7;
                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                    z10 = z3;
                                                                                                                                    audioRecoder = audioRecoder2;
                                                                                                                                    z11 = true;
                                                                                                                                    i100 = i17;
                                                                                                                                    inputSurface = inputSurface;
                                                                                                                                    this.extractor.unselectTrack(i14);
                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                    }
                                                                                                                                    mediaCodec3 = mediaCodec;
                                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                    }
                                                                                                                                    if (inputSurface != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                                    }
                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                    }
                                                                                                                                    checkConversionCanceled();
                                                                                                                                    z5 = z10;
                                                                                                                                    outputSurface3 = outputSurface2;
                                                                                                                                    i97 = i8;
                                                                                                                                    i10 = i9;
                                                                                                                                    inputSurface3 = inputSurface;
                                                                                                                                    mediaCodec2 = mediaCodec5;
                                                                                                                                    z6 = z4;
                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                    i11 = i2;
                                                                                                                                    mediaExtractor2 = this.extractor;
                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                    }
                                                                                                                                    muxer2 = this.muxer;
                                                                                                                                    if (muxer2 != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                    }
                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                    }
                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                    }
                                                                                                                                    str5 = str4;
                                                                                                                                    i5 = i11;
                                                                                                                                    z7 = z11;
                                                                                                                                    if (z5) {
                                                                                                                                    }
                                                                                                                                } catch (Throwable th65) {
                                                                                                                                    z2 = z;
                                                                                                                                    th = th65;
                                                                                                                                    i4 = i52;
                                                                                                                                    mediaCodec = mediaCodec14;
                                                                                                                                    i67 = i124;
                                                                                                                                    i5 = i67;
                                                                                                                                    i100 = i116;
                                                                                                                                    str3 = "x";
                                                                                                                                    i97 = i15;
                                                                                                                                    i3 = i117;
                                                                                                                                    inputSurface28 = inputSurface15;
                                                                                                                                    z3 = false;
                                                                                                                                    inputSurface2 = inputSurface28;
                                                                                                                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                                                    FileLog.e(th);
                                                                                                                                    mediaExtractor = this.extractor;
                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                    }
                                                                                                                                    muxer = this.muxer;
                                                                                                                                    if (muxer != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                    }
                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                    }
                                                                                                                                    if (outputSurface != null) {
                                                                                                                                    }
                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                    }
                                                                                                                                    str5 = str4;
                                                                                                                                    z5 = z3;
                                                                                                                                    z6 = z4;
                                                                                                                                    z7 = true;
                                                                                                                                    if (z5) {
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                            i18 = i52;
                                                                                                                            i64 = i34;
                                                                                                                            i63 = i33;
                                                                                                                        } else {
                                                                                                                            mediaCodec14 = mediaCodec;
                                                                                                                            j18 = j16;
                                                                                                                            if (i52 == -5) {
                                                                                                                                byte[] bArr2 = new byte[i123];
                                                                                                                                outputBuffer.limit(bufferInfo.offset + i123);
                                                                                                                                outputBuffer.position(bufferInfo.offset);
                                                                                                                                outputBuffer.get(bArr2);
                                                                                                                                byte b2 = 1;
                                                                                                                                int i126 = bufferInfo.size - 1;
                                                                                                                                while (i126 >= 0 && i126 > 3) {
                                                                                                                                    if (bArr2[i126] == b2 && bArr2[i126 - 1] == 0 && bArr2[i126 - 2] == 0) {
                                                                                                                                        int i127 = i126 - 3;
                                                                                                                                        if (bArr2[i127] == 0) {
                                                                                                                                            ByteBuffer allocate = ByteBuffer.allocate(i127);
                                                                                                                                            byteBuffer6 = ByteBuffer.allocate(bufferInfo.size - i127);
                                                                                                                                            allocate.put(bArr2, 0, i127).position(0);
                                                                                                                                            byteBuffer6.put(bArr2, i127, bufferInfo.size - i127).position(0);
                                                                                                                                            byteBuffer5 = allocate;
                                                                                                                                            break;
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                    i126--;
                                                                                                                                    b2 = 1;
                                                                                                                                }
                                                                                                                                byteBuffer5 = null;
                                                                                                                                byteBuffer6 = null;
                                                                                                                                i64 = i34;
                                                                                                                                i63 = i33;
                                                                                                                                MediaFormat createVideoFormat4 = MediaFormat.createVideoFormat(this.outputMimeType, i64, i63);
                                                                                                                                if (byteBuffer5 != null && byteBuffer6 != null) {
                                                                                                                                    createVideoFormat4.setByteBuffer(str11, byteBuffer5);
                                                                                                                                    createVideoFormat4.setByteBuffer("csd-1", byteBuffer6);
                                                                                                                                }
                                                                                                                                i18 = this.muxer.addTrack(createVideoFormat4, false);
                                                                                                                            }
                                                                                                                        }
                                                                                                                        boolean z60 = (bufferInfo.flags & 4) == 0;
                                                                                                                        mediaCodec2.releaseOutputBuffer(dequeueOutputBuffer, false);
                                                                                                                        z24 = z60;
                                                                                                                        i52 = i18;
                                                                                                                        i62 = i124;
                                                                                                                        i65 = -1;
                                                                                                                        i69 = i62;
                                                                                                                    } catch (Exception e63) {
                                                                                                                        e = e63;
                                                                                                                        mediaCodec14 = mediaCodec;
                                                                                                                    } catch (Throwable th66) {
                                                                                                                        th = th66;
                                                                                                                    }
                                                                                                                } else {
                                                                                                                    mediaCodec14 = mediaCodec;
                                                                                                                    j18 = j16;
                                                                                                                }
                                                                                                                if ((bufferInfo.flags & 4) == 0) {
                                                                                                                }
                                                                                                                mediaCodec2.releaseOutputBuffer(dequeueOutputBuffer, false);
                                                                                                                z24 = z60;
                                                                                                                i52 = i18;
                                                                                                                i62 = i124;
                                                                                                                i65 = -1;
                                                                                                                i69 = i62;
                                                                                                            } catch (Exception e64) {
                                                                                                                mediaCodec7 = mediaCodec14;
                                                                                                                i3 = i117;
                                                                                                                exc = e64;
                                                                                                                inputSurface10 = inputSurface15;
                                                                                                                i48 = i124;
                                                                                                                i17 = i116;
                                                                                                                mediaCodec2 = mediaCodec2;
                                                                                                                inputSurface = inputSurface10;
                                                                                                                i19 = i48;
                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                }
                                                                                                                z3 = false;
                                                                                                                StringBuilder sb52222222222222222222222 = new StringBuilder();
                                                                                                                sb52222222222222222222222.append("bitrate: ");
                                                                                                                sb52222222222222222222222.append(i17);
                                                                                                                sb52222222222222222222222.append(" framerate: ");
                                                                                                                sb52222222222222222222222.append(i3);
                                                                                                                sb52222222222222222222222.append(" size: ");
                                                                                                                i2 = i19;
                                                                                                                sb52222222222222222222222.append(i2);
                                                                                                                str3 = "x";
                                                                                                                sb52222222222222222222222.append(str3);
                                                                                                                i8 = i15;
                                                                                                                sb52222222222222222222222.append(i8);
                                                                                                                FileLog.e(sb52222222222222222222222.toString());
                                                                                                                FileLog.e(exc);
                                                                                                                i9 = i18;
                                                                                                                mediaCodec = mediaCodec7;
                                                                                                                mediaCodec4 = mediaCodec2;
                                                                                                                z10 = z3;
                                                                                                                audioRecoder = audioRecoder2;
                                                                                                                z11 = true;
                                                                                                                i100 = i17;
                                                                                                                inputSurface = inputSurface;
                                                                                                                this.extractor.unselectTrack(i14);
                                                                                                                if (mediaCodec != null) {
                                                                                                                }
                                                                                                                mediaCodec3 = mediaCodec;
                                                                                                                outputSurface2 = outputSurface;
                                                                                                                if (outputSurface2 != null) {
                                                                                                                }
                                                                                                                if (inputSurface != null) {
                                                                                                                }
                                                                                                                if (mediaCodec4 == null) {
                                                                                                                }
                                                                                                                if (audioRecoder != null) {
                                                                                                                }
                                                                                                                checkConversionCanceled();
                                                                                                                z5 = z10;
                                                                                                                outputSurface3 = outputSurface2;
                                                                                                                i97 = i8;
                                                                                                                i10 = i9;
                                                                                                                inputSurface3 = inputSurface;
                                                                                                                mediaCodec2 = mediaCodec5;
                                                                                                                z6 = z4;
                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                i11 = i2;
                                                                                                                mediaExtractor2 = this.extractor;
                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                }
                                                                                                                muxer2 = this.muxer;
                                                                                                                if (muxer2 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec2 != null) {
                                                                                                                }
                                                                                                                if (mediaCodec6 != null) {
                                                                                                                }
                                                                                                                if (outputSurface3 != null) {
                                                                                                                }
                                                                                                                if (inputSurface3 != null) {
                                                                                                                }
                                                                                                                str5 = str4;
                                                                                                                i5 = i11;
                                                                                                                z7 = z11;
                                                                                                                if (z5) {
                                                                                                                }
                                                                                                            } catch (Throwable th67) {
                                                                                                                i3 = i117;
                                                                                                                z2 = z;
                                                                                                                th = th67;
                                                                                                                i5 = i124;
                                                                                                                str3 = "x";
                                                                                                                i97 = i15;
                                                                                                                z3 = false;
                                                                                                                i4 = i18;
                                                                                                                mediaCodec = mediaCodec14;
                                                                                                                i100 = i116;
                                                                                                                inputSurface2 = inputSurface15;
                                                                                                            }
                                                                                                            i64 = i34;
                                                                                                            i63 = i33;
                                                                                                            i18 = i52;
                                                                                                        } catch (Exception e65) {
                                                                                                            exc = e65;
                                                                                                            i18 = i52;
                                                                                                            outputSurface = r7;
                                                                                                            inputSurface10 = inputSurface16;
                                                                                                            mediaCodec7 = convertVideoParams4;
                                                                                                            i48 = i53;
                                                                                                        } catch (Throwable th68) {
                                                                                                            z2 = z;
                                                                                                            th = th68;
                                                                                                            mediaCodec = convertVideoParams4;
                                                                                                            outputSurface = r7;
                                                                                                            inputSurface17 = inputSurface16;
                                                                                                            i57 = i53;
                                                                                                            i5 = i57;
                                                                                                            i100 = i116;
                                                                                                            str3 = "x";
                                                                                                            i97 = i15;
                                                                                                            z3 = false;
                                                                                                            i4 = i52;
                                                                                                            inputSurface2 = inputSurface17;
                                                                                                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                            FileLog.e(th);
                                                                                                            mediaExtractor = this.extractor;
                                                                                                            if (mediaExtractor != null) {
                                                                                                            }
                                                                                                            muxer = this.muxer;
                                                                                                            if (muxer != null) {
                                                                                                            }
                                                                                                            if (mediaCodec2 != null) {
                                                                                                            }
                                                                                                            if (mediaCodec != null) {
                                                                                                            }
                                                                                                            if (outputSurface != null) {
                                                                                                            }
                                                                                                            if (inputSurface2 != null) {
                                                                                                            }
                                                                                                            str5 = str4;
                                                                                                            z5 = z3;
                                                                                                            z6 = z4;
                                                                                                            z7 = true;
                                                                                                            if (z5) {
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                i64 = i34;
                                                                                                i63 = i33;
                                                                                                i62 = i61;
                                                                                                i65 = -1;
                                                                                                i69 = i62;
                                                                                            }
                                                                                            if (dequeueOutputBuffer != i65) {
                                                                                                convertVideoParams5 = convertVideoParams;
                                                                                                i34 = i64;
                                                                                                i33 = i63;
                                                                                                mediaCodec = mediaCodec14;
                                                                                                str20 = str11;
                                                                                                z28 = z29;
                                                                                                z59 = z30;
                                                                                                i49 = i60;
                                                                                                i118 = i69;
                                                                                                j16 = j18;
                                                                                            } else {
                                                                                                if (z23) {
                                                                                                    i34 = i64;
                                                                                                    i70 = i52;
                                                                                                    mediaCodec7 = mediaCodec14;
                                                                                                } else {
                                                                                                    mediaCodec7 = mediaCodec14;
                                                                                                    try {
                                                                                                        int dequeueOutputBuffer3 = mediaCodec7.dequeueOutputBuffer(bufferInfo, 2500L);
                                                                                                        if (dequeueOutputBuffer3 == i65) {
                                                                                                            i34 = i64;
                                                                                                            i70 = i52;
                                                                                                            j19 = j18;
                                                                                                            i3 = i117;
                                                                                                            z28 = false;
                                                                                                            j20 = r7;
                                                                                                            inputSurface16 = inputSurface15;
                                                                                                            outputSurface7 = outputSurface;
                                                                                                        } else {
                                                                                                            if (dequeueOutputBuffer3 != -3) {
                                                                                                                if (dequeueOutputBuffer3 != -2) {
                                                                                                                    if (dequeueOutputBuffer3 < 0) {
                                                                                                                        break loop3;
                                                                                                                    }
                                                                                                                    boolean z61 = bufferInfo.size != 0;
                                                                                                                    long j44 = bufferInfo.presentationTimeUs;
                                                                                                                    if (j34 <= 0 || j44 < j34) {
                                                                                                                        z31 = z61;
                                                                                                                        z32 = z22;
                                                                                                                        j21 = 0;
                                                                                                                    } else {
                                                                                                                        bufferInfo.flags |= 4;
                                                                                                                        z31 = false;
                                                                                                                        z32 = true;
                                                                                                                        j21 = 0;
                                                                                                                        z23 = true;
                                                                                                                    }
                                                                                                                    if (j9 >= j21) {
                                                                                                                        z33 = z31;
                                                                                                                        try {
                                                                                                                            if ((bufferInfo.flags & 4) != 0) {
                                                                                                                                i34 = i64;
                                                                                                                                i3 = i117;
                                                                                                                                try {
                                                                                                                                    i70 = i52;
                                                                                                                                    z34 = z32;
                                                                                                                                    if (Math.abs(j9 - r7) > MediaController.VIDEO_BITRATE_480 / i3) {
                                                                                                                                        if (r7 > 0) {
                                                                                                                                            try {
                                                                                                                                                try {
                                                                                                                                                    this.extractor.seekTo(r7, 0);
                                                                                                                                                    j20 = r7;
                                                                                                                                                } catch (Exception e66) {
                                                                                                                                                    e = e66;
                                                                                                                                                    exc = e;
                                                                                                                                                    inputSurface19 = inputSurface15;
                                                                                                                                                    i17 = i116;
                                                                                                                                                    i18 = i70;
                                                                                                                                                    mediaCodec2 = mediaCodec2;
                                                                                                                                                    inputSurface = inputSurface19;
                                                                                                                                                    i19 = i69;
                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                        z2 = z;
                                                                                                                                                        if (!z2) {
                                                                                                                                                            z3 = true;
                                                                                                                                                            StringBuilder sb522222222222222222222222 = new StringBuilder();
                                                                                                                                                            sb522222222222222222222222.append("bitrate: ");
                                                                                                                                                            sb522222222222222222222222.append(i17);
                                                                                                                                                            sb522222222222222222222222.append(" framerate: ");
                                                                                                                                                            sb522222222222222222222222.append(i3);
                                                                                                                                                            sb522222222222222222222222.append(" size: ");
                                                                                                                                                            i2 = i19;
                                                                                                                                                            sb522222222222222222222222.append(i2);
                                                                                                                                                            str3 = "x";
                                                                                                                                                            sb522222222222222222222222.append(str3);
                                                                                                                                                            i8 = i15;
                                                                                                                                                            sb522222222222222222222222.append(i8);
                                                                                                                                                            FileLog.e(sb522222222222222222222222.toString());
                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                            i9 = i18;
                                                                                                                                                            mediaCodec = mediaCodec7;
                                                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                                                            z10 = z3;
                                                                                                                                                            audioRecoder = audioRecoder2;
                                                                                                                                                            z11 = true;
                                                                                                                                                            i100 = i17;
                                                                                                                                                            inputSurface = inputSurface;
                                                                                                                                                            this.extractor.unselectTrack(i14);
                                                                                                                                                            if (mediaCodec != null) {
                                                                                                                                                            }
                                                                                                                                                            mediaCodec3 = mediaCodec;
                                                                                                                                                            outputSurface2 = outputSurface;
                                                                                                                                                            if (outputSurface2 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (inputSurface != null) {
                                                                                                                                                            }
                                                                                                                                                            if (mediaCodec4 == null) {
                                                                                                                                                            }
                                                                                                                                                            if (audioRecoder != null) {
                                                                                                                                                            }
                                                                                                                                                            checkConversionCanceled();
                                                                                                                                                            z5 = z10;
                                                                                                                                                            outputSurface3 = outputSurface2;
                                                                                                                                                            i97 = i8;
                                                                                                                                                            i10 = i9;
                                                                                                                                                            inputSurface3 = inputSurface;
                                                                                                                                                            mediaCodec2 = mediaCodec5;
                                                                                                                                                            z6 = z4;
                                                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                                                            i11 = i2;
                                                                                                                                                            mediaExtractor2 = this.extractor;
                                                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                                                            }
                                                                                                                                                            muxer2 = this.muxer;
                                                                                                                                                            if (muxer2 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (outputSurface3 != null) {
                                                                                                                                                            }
                                                                                                                                                            if (inputSurface3 != null) {
                                                                                                                                                            }
                                                                                                                                                            str5 = str4;
                                                                                                                                                            i5 = i11;
                                                                                                                                                            z7 = z11;
                                                                                                                                                            if (z5) {
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                    } else {
                                                                                                                                                        z2 = z;
                                                                                                                                                    }
                                                                                                                                                    z3 = false;
                                                                                                                                                    StringBuilder sb5222222222222222222222222 = new StringBuilder();
                                                                                                                                                    sb5222222222222222222222222.append("bitrate: ");
                                                                                                                                                    sb5222222222222222222222222.append(i17);
                                                                                                                                                    sb5222222222222222222222222.append(" framerate: ");
                                                                                                                                                    sb5222222222222222222222222.append(i3);
                                                                                                                                                    sb5222222222222222222222222.append(" size: ");
                                                                                                                                                    i2 = i19;
                                                                                                                                                    sb5222222222222222222222222.append(i2);
                                                                                                                                                    str3 = "x";
                                                                                                                                                    sb5222222222222222222222222.append(str3);
                                                                                                                                                    i8 = i15;
                                                                                                                                                    sb5222222222222222222222222.append(i8);
                                                                                                                                                    FileLog.e(sb5222222222222222222222222.toString());
                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                    i9 = i18;
                                                                                                                                                    mediaCodec = mediaCodec7;
                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                    z10 = z3;
                                                                                                                                                    audioRecoder = audioRecoder2;
                                                                                                                                                    z11 = true;
                                                                                                                                                    i100 = i17;
                                                                                                                                                    inputSurface = inputSurface;
                                                                                                                                                    this.extractor.unselectTrack(i14);
                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                    }
                                                                                                                                                    mediaCodec3 = mediaCodec;
                                                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                                                    }
                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                    }
                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                    z5 = z10;
                                                                                                                                                    outputSurface3 = outputSurface2;
                                                                                                                                                    i97 = i8;
                                                                                                                                                    i10 = i9;
                                                                                                                                                    inputSurface3 = inputSurface;
                                                                                                                                                    mediaCodec2 = mediaCodec5;
                                                                                                                                                    z6 = z4;
                                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                                    i11 = i2;
                                                                                                                                                    mediaExtractor2 = this.extractor;
                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                    }
                                                                                                                                                    muxer2 = this.muxer;
                                                                                                                                                    if (muxer2 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                    }
                                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                                    }
                                                                                                                                                    str5 = str4;
                                                                                                                                                    i5 = i11;
                                                                                                                                                    z7 = z11;
                                                                                                                                                    if (z5) {
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                            } catch (Throwable th69) {
                                                                                                                                                th = th69;
                                                                                                                                                z2 = z;
                                                                                                                                                th = th;
                                                                                                                                                mediaCodec = mediaCodec7;
                                                                                                                                                inputSurface18 = inputSurface15;
                                                                                                                                                i5 = i69;
                                                                                                                                                i100 = i116;
                                                                                                                                                i4 = i70;
                                                                                                                                                inputSurface11 = inputSurface18;
                                                                                                                                                str3 = "x";
                                                                                                                                                i97 = i15;
                                                                                                                                                inputSurface28 = inputSurface11;
                                                                                                                                                z3 = false;
                                                                                                                                                inputSurface2 = inputSurface28;
                                                                                                                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                                                                FileLog.e(th);
                                                                                                                                                mediaExtractor = this.extractor;
                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                }
                                                                                                                                                muxer = this.muxer;
                                                                                                                                                if (muxer != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                }
                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                }
                                                                                                                                                str5 = str4;
                                                                                                                                                z5 = z3;
                                                                                                                                                z6 = z4;
                                                                                                                                                z7 = true;
                                                                                                                                                if (z5) {
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                        } else {
                                                                                                                                            try {
                                                                                                                                                j20 = r7;
                                                                                                                                                this.extractor.seekTo(0L, 0);
                                                                                                                                            } catch (Throwable th70) {
                                                                                                                                                th = th70;
                                                                                                                                                z2 = z;
                                                                                                                                                th = th;
                                                                                                                                                mediaCodec = mediaCodec7;
                                                                                                                                                inputSurface18 = inputSurface15;
                                                                                                                                                i5 = i69;
                                                                                                                                                i100 = i116;
                                                                                                                                                i4 = i70;
                                                                                                                                                inputSurface11 = inputSurface18;
                                                                                                                                                str3 = "x";
                                                                                                                                                i97 = i15;
                                                                                                                                                inputSurface28 = inputSurface11;
                                                                                                                                                z3 = false;
                                                                                                                                                inputSurface2 = inputSurface28;
                                                                                                                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                                                                FileLog.e(th);
                                                                                                                                                mediaExtractor = this.extractor;
                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                }
                                                                                                                                                muxer = this.muxer;
                                                                                                                                                if (muxer != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                }
                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                }
                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                }
                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                }
                                                                                                                                                str5 = str4;
                                                                                                                                                z5 = z3;
                                                                                                                                                z6 = z4;
                                                                                                                                                z7 = true;
                                                                                                                                                if (z5) {
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                        j39 = j18 + j8;
                                                                                                                                        bufferInfo.flags &= -5;
                                                                                                                                        mediaCodec7.flush();
                                                                                                                                        j34 = j9;
                                                                                                                                        j9 = -1;
                                                                                                                                        z36 = true;
                                                                                                                                        z35 = false;
                                                                                                                                        z33 = false;
                                                                                                                                        j22 = 0;
                                                                                                                                        z23 = false;
                                                                                                                                        if (j37 > j22 || bufferInfo.presentationTimeUs - j37 >= j2 || (bufferInfo.flags & 4) != 0) {
                                                                                                                                            j23 = 0;
                                                                                                                                        } else {
                                                                                                                                            j23 = 0;
                                                                                                                                            z33 = false;
                                                                                                                                        }
                                                                                                                                        boolean z62 = z35;
                                                                                                                                        j24 = j9 >= j23 ? j9 : j20;
                                                                                                                                        if (j24 > j23 && j36 == -1) {
                                                                                                                                            if (j44 >= j24) {
                                                                                                                                                if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                    FileLog.d("drop frame startTime = " + j24 + " present time = " + bufferInfo.presentationTimeUs);
                                                                                                                                                }
                                                                                                                                                z37 = false;
                                                                                                                                                if (z36) {
                                                                                                                                                    if (j9 == -1 && j39 != 0) {
                                                                                                                                                        bufferInfo.presentationTimeUs += j39;
                                                                                                                                                    }
                                                                                                                                                    mediaCodec7.releaseOutputBuffer(dequeueOutputBuffer3, z37);
                                                                                                                                                } else {
                                                                                                                                                    j36 = -1;
                                                                                                                                                }
                                                                                                                                                if (z37) {
                                                                                                                                                    inputSurface21 = inputSurface15;
                                                                                                                                                    j19 = j18;
                                                                                                                                                    outputSurface7 = outputSurface;
                                                                                                                                                } else {
                                                                                                                                                    try {
                                                                                                                                                        long j45 = bufferInfo.presentationTimeUs;
                                                                                                                                                        j19 = j9 >= 0 ? Math.max(j18, j45) : j18;
                                                                                                                                                        try {
                                                                                                                                                            outputSurface.awaitNewImage();
                                                                                                                                                            z38 = false;
                                                                                                                                                        } catch (Exception e67) {
                                                                                                                                                            FileLog.e(e67);
                                                                                                                                                            z38 = true;
                                                                                                                                                        }
                                                                                                                                                        if (z38) {
                                                                                                                                                            inputSurface20 = inputSurface15;
                                                                                                                                                            outputSurface7 = outputSurface;
                                                                                                                                                        } else {
                                                                                                                                                            outputSurface7 = outputSurface;
                                                                                                                                                            try {
                                                                                                                                                                outputSurface7.drawImage(bufferInfo.presentationTimeUs * 1000);
                                                                                                                                                                InputSurface inputSurface51 = inputSurface15;
                                                                                                                                                                try {
                                                                                                                                                                    inputSurface51.setPresentationTime(bufferInfo.presentationTimeUs * 1000);
                                                                                                                                                                    inputSurface51.swapBuffers();
                                                                                                                                                                    inputSurface20 = inputSurface51;
                                                                                                                                                                } catch (Exception e68) {
                                                                                                                                                                    exc = e68;
                                                                                                                                                                    outputSurface = outputSurface7;
                                                                                                                                                                    inputSurface19 = inputSurface51;
                                                                                                                                                                    i17 = i116;
                                                                                                                                                                    i18 = i70;
                                                                                                                                                                    mediaCodec2 = mediaCodec2;
                                                                                                                                                                    inputSurface = inputSurface19;
                                                                                                                                                                    i19 = i69;
                                                                                                                                                                    if (exc instanceof IllegalStateException) {
                                                                                                                                                                    }
                                                                                                                                                                    z3 = false;
                                                                                                                                                                    StringBuilder sb52222222222222222222222222 = new StringBuilder();
                                                                                                                                                                    sb52222222222222222222222222.append("bitrate: ");
                                                                                                                                                                    sb52222222222222222222222222.append(i17);
                                                                                                                                                                    sb52222222222222222222222222.append(" framerate: ");
                                                                                                                                                                    sb52222222222222222222222222.append(i3);
                                                                                                                                                                    sb52222222222222222222222222.append(" size: ");
                                                                                                                                                                    i2 = i19;
                                                                                                                                                                    sb52222222222222222222222222.append(i2);
                                                                                                                                                                    str3 = "x";
                                                                                                                                                                    sb52222222222222222222222222.append(str3);
                                                                                                                                                                    i8 = i15;
                                                                                                                                                                    sb52222222222222222222222222.append(i8);
                                                                                                                                                                    FileLog.e(sb52222222222222222222222222.toString());
                                                                                                                                                                    FileLog.e(exc);
                                                                                                                                                                    i9 = i18;
                                                                                                                                                                    mediaCodec = mediaCodec7;
                                                                                                                                                                    mediaCodec4 = mediaCodec2;
                                                                                                                                                                    z10 = z3;
                                                                                                                                                                    audioRecoder = audioRecoder2;
                                                                                                                                                                    z11 = true;
                                                                                                                                                                    i100 = i17;
                                                                                                                                                                    inputSurface = inputSurface;
                                                                                                                                                                    this.extractor.unselectTrack(i14);
                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                    }
                                                                                                                                                                    mediaCodec3 = mediaCodec;
                                                                                                                                                                    outputSurface2 = outputSurface;
                                                                                                                                                                    if (outputSurface2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (inputSurface != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec4 == null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (audioRecoder != null) {
                                                                                                                                                                    }
                                                                                                                                                                    checkConversionCanceled();
                                                                                                                                                                    z5 = z10;
                                                                                                                                                                    outputSurface3 = outputSurface2;
                                                                                                                                                                    i97 = i8;
                                                                                                                                                                    i10 = i9;
                                                                                                                                                                    inputSurface3 = inputSurface;
                                                                                                                                                                    mediaCodec2 = mediaCodec5;
                                                                                                                                                                    z6 = z4;
                                                                                                                                                                    mediaCodec6 = mediaCodec3;
                                                                                                                                                                    i11 = i2;
                                                                                                                                                                    mediaExtractor2 = this.extractor;
                                                                                                                                                                    if (mediaExtractor2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    muxer2 = this.muxer;
                                                                                                                                                                    if (muxer2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec6 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (outputSurface3 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (inputSurface3 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    str5 = str4;
                                                                                                                                                                    i5 = i11;
                                                                                                                                                                    z7 = z11;
                                                                                                                                                                    if (z5) {
                                                                                                                                                                    }
                                                                                                                                                                } catch (Throwable th71) {
                                                                                                                                                                    z2 = z;
                                                                                                                                                                    th = th71;
                                                                                                                                                                    mediaCodec = mediaCodec7;
                                                                                                                                                                    outputSurface = outputSurface7;
                                                                                                                                                                    inputSurface18 = inputSurface51;
                                                                                                                                                                    i5 = i69;
                                                                                                                                                                    i100 = i116;
                                                                                                                                                                    i4 = i70;
                                                                                                                                                                    inputSurface11 = inputSurface18;
                                                                                                                                                                    str3 = "x";
                                                                                                                                                                    i97 = i15;
                                                                                                                                                                    inputSurface28 = inputSurface11;
                                                                                                                                                                    z3 = false;
                                                                                                                                                                    inputSurface2 = inputSurface28;
                                                                                                                                                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                                                                                    FileLog.e(th);
                                                                                                                                                                    mediaExtractor = this.extractor;
                                                                                                                                                                    if (mediaExtractor != null) {
                                                                                                                                                                    }
                                                                                                                                                                    muxer = this.muxer;
                                                                                                                                                                    if (muxer != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (mediaCodec != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (outputSurface != null) {
                                                                                                                                                                    }
                                                                                                                                                                    if (inputSurface2 != null) {
                                                                                                                                                                    }
                                                                                                                                                                    str5 = str4;
                                                                                                                                                                    z5 = z3;
                                                                                                                                                                    z6 = z4;
                                                                                                                                                                    z7 = true;
                                                                                                                                                                    if (z5) {
                                                                                                                                                                    }
                                                                                                                                                                }
                                                                                                                                                            } catch (Exception e69) {
                                                                                                                                                                exc = e69;
                                                                                                                                                                outputSurface = outputSurface7;
                                                                                                                                                                inputSurface19 = inputSurface15;
                                                                                                                                                                i17 = i116;
                                                                                                                                                                i18 = i70;
                                                                                                                                                                mediaCodec2 = mediaCodec2;
                                                                                                                                                                inputSurface = inputSurface19;
                                                                                                                                                                i19 = i69;
                                                                                                                                                                if (exc instanceof IllegalStateException) {
                                                                                                                                                                }
                                                                                                                                                                z3 = false;
                                                                                                                                                                StringBuilder sb522222222222222222222222222 = new StringBuilder();
                                                                                                                                                                sb522222222222222222222222222.append("bitrate: ");
                                                                                                                                                                sb522222222222222222222222222.append(i17);
                                                                                                                                                                sb522222222222222222222222222.append(" framerate: ");
                                                                                                                                                                sb522222222222222222222222222.append(i3);
                                                                                                                                                                sb522222222222222222222222222.append(" size: ");
                                                                                                                                                                i2 = i19;
                                                                                                                                                                sb522222222222222222222222222.append(i2);
                                                                                                                                                                str3 = "x";
                                                                                                                                                                sb522222222222222222222222222.append(str3);
                                                                                                                                                                i8 = i15;
                                                                                                                                                                sb522222222222222222222222222.append(i8);
                                                                                                                                                                FileLog.e(sb522222222222222222222222222.toString());
                                                                                                                                                                FileLog.e(exc);
                                                                                                                                                                i9 = i18;
                                                                                                                                                                mediaCodec = mediaCodec7;
                                                                                                                                                                mediaCodec4 = mediaCodec2;
                                                                                                                                                                z10 = z3;
                                                                                                                                                                audioRecoder = audioRecoder2;
                                                                                                                                                                z11 = true;
                                                                                                                                                                i100 = i17;
                                                                                                                                                                inputSurface = inputSurface;
                                                                                                                                                                this.extractor.unselectTrack(i14);
                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                }
                                                                                                                                                                mediaCodec3 = mediaCodec;
                                                                                                                                                                outputSurface2 = outputSurface;
                                                                                                                                                                if (outputSurface2 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (inputSurface != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec4 == null) {
                                                                                                                                                                }
                                                                                                                                                                if (audioRecoder != null) {
                                                                                                                                                                }
                                                                                                                                                                checkConversionCanceled();
                                                                                                                                                                z5 = z10;
                                                                                                                                                                outputSurface3 = outputSurface2;
                                                                                                                                                                i97 = i8;
                                                                                                                                                                i10 = i9;
                                                                                                                                                                inputSurface3 = inputSurface;
                                                                                                                                                                mediaCodec2 = mediaCodec5;
                                                                                                                                                                z6 = z4;
                                                                                                                                                                mediaCodec6 = mediaCodec3;
                                                                                                                                                                i11 = i2;
                                                                                                                                                                mediaExtractor2 = this.extractor;
                                                                                                                                                                if (mediaExtractor2 != null) {
                                                                                                                                                                }
                                                                                                                                                                muxer2 = this.muxer;
                                                                                                                                                                if (muxer2 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec6 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (outputSurface3 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (inputSurface3 != null) {
                                                                                                                                                                }
                                                                                                                                                                str5 = str4;
                                                                                                                                                                i5 = i11;
                                                                                                                                                                z7 = z11;
                                                                                                                                                                if (z5) {
                                                                                                                                                                }
                                                                                                                                                            } catch (Throwable th72) {
                                                                                                                                                                z2 = z;
                                                                                                                                                                th = th72;
                                                                                                                                                                mediaCodec = mediaCodec7;
                                                                                                                                                                outputSurface = outputSurface7;
                                                                                                                                                                inputSurface18 = inputSurface15;
                                                                                                                                                                i5 = i69;
                                                                                                                                                                i100 = i116;
                                                                                                                                                                i4 = i70;
                                                                                                                                                                inputSurface11 = inputSurface18;
                                                                                                                                                                str3 = "x";
                                                                                                                                                                i97 = i15;
                                                                                                                                                                inputSurface28 = inputSurface11;
                                                                                                                                                                z3 = false;
                                                                                                                                                                inputSurface2 = inputSurface28;
                                                                                                                                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                                                                                FileLog.e(th);
                                                                                                                                                                mediaExtractor = this.extractor;
                                                                                                                                                                if (mediaExtractor != null) {
                                                                                                                                                                }
                                                                                                                                                                muxer = this.muxer;
                                                                                                                                                                if (muxer != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec2 != null) {
                                                                                                                                                                }
                                                                                                                                                                if (mediaCodec != null) {
                                                                                                                                                                }
                                                                                                                                                                if (outputSurface != null) {
                                                                                                                                                                }
                                                                                                                                                                if (inputSurface2 != null) {
                                                                                                                                                                }
                                                                                                                                                                str5 = str4;
                                                                                                                                                                z5 = z3;
                                                                                                                                                                z6 = z4;
                                                                                                                                                                z7 = true;
                                                                                                                                                                if (z5) {
                                                                                                                                                                }
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                        j37 = j45;
                                                                                                                                                        inputSurface21 = inputSurface20;
                                                                                                                                                    } catch (Exception e70) {
                                                                                                                                                        e = e70;
                                                                                                                                                        exc = e;
                                                                                                                                                        inputSurface19 = inputSurface15;
                                                                                                                                                        i17 = i116;
                                                                                                                                                        i18 = i70;
                                                                                                                                                        mediaCodec2 = mediaCodec2;
                                                                                                                                                        inputSurface = inputSurface19;
                                                                                                                                                        i19 = i69;
                                                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                                                        }
                                                                                                                                                        z3 = false;
                                                                                                                                                        StringBuilder sb5222222222222222222222222222 = new StringBuilder();
                                                                                                                                                        sb5222222222222222222222222222.append("bitrate: ");
                                                                                                                                                        sb5222222222222222222222222222.append(i17);
                                                                                                                                                        sb5222222222222222222222222222.append(" framerate: ");
                                                                                                                                                        sb5222222222222222222222222222.append(i3);
                                                                                                                                                        sb5222222222222222222222222222.append(" size: ");
                                                                                                                                                        i2 = i19;
                                                                                                                                                        sb5222222222222222222222222222.append(i2);
                                                                                                                                                        str3 = "x";
                                                                                                                                                        sb5222222222222222222222222222.append(str3);
                                                                                                                                                        i8 = i15;
                                                                                                                                                        sb5222222222222222222222222222.append(i8);
                                                                                                                                                        FileLog.e(sb5222222222222222222222222222.toString());
                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                        i9 = i18;
                                                                                                                                                        mediaCodec = mediaCodec7;
                                                                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                                                                        z10 = z3;
                                                                                                                                                        audioRecoder = audioRecoder2;
                                                                                                                                                        z11 = true;
                                                                                                                                                        i100 = i17;
                                                                                                                                                        inputSurface = inputSurface;
                                                                                                                                                        this.extractor.unselectTrack(i14);
                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                        }
                                                                                                                                                        mediaCodec3 = mediaCodec;
                                                                                                                                                        outputSurface2 = outputSurface;
                                                                                                                                                        if (outputSurface2 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (inputSurface != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec4 == null) {
                                                                                                                                                        }
                                                                                                                                                        if (audioRecoder != null) {
                                                                                                                                                        }
                                                                                                                                                        checkConversionCanceled();
                                                                                                                                                        z5 = z10;
                                                                                                                                                        outputSurface3 = outputSurface2;
                                                                                                                                                        i97 = i8;
                                                                                                                                                        i10 = i9;
                                                                                                                                                        inputSurface3 = inputSurface;
                                                                                                                                                        mediaCodec2 = mediaCodec5;
                                                                                                                                                        z6 = z4;
                                                                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                                                                        i11 = i2;
                                                                                                                                                        mediaExtractor2 = this.extractor;
                                                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                                                        }
                                                                                                                                                        muxer2 = this.muxer;
                                                                                                                                                        if (muxer2 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (outputSurface3 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (inputSurface3 != null) {
                                                                                                                                                        }
                                                                                                                                                        str5 = str4;
                                                                                                                                                        i5 = i11;
                                                                                                                                                        z7 = z11;
                                                                                                                                                        if (z5) {
                                                                                                                                                        }
                                                                                                                                                    } catch (Throwable th73) {
                                                                                                                                                        th = th73;
                                                                                                                                                        z2 = z;
                                                                                                                                                        th = th;
                                                                                                                                                        mediaCodec = mediaCodec7;
                                                                                                                                                        inputSurface18 = inputSurface15;
                                                                                                                                                        i5 = i69;
                                                                                                                                                        i100 = i116;
                                                                                                                                                        i4 = i70;
                                                                                                                                                        inputSurface11 = inputSurface18;
                                                                                                                                                        str3 = "x";
                                                                                                                                                        i97 = i15;
                                                                                                                                                        inputSurface28 = inputSurface11;
                                                                                                                                                        z3 = false;
                                                                                                                                                        inputSurface2 = inputSurface28;
                                                                                                                                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                                                                        FileLog.e(th);
                                                                                                                                                        mediaExtractor = this.extractor;
                                                                                                                                                        if (mediaExtractor != null) {
                                                                                                                                                        }
                                                                                                                                                        muxer = this.muxer;
                                                                                                                                                        if (muxer != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                                                        }
                                                                                                                                                        if (mediaCodec != null) {
                                                                                                                                                        }
                                                                                                                                                        if (outputSurface != null) {
                                                                                                                                                        }
                                                                                                                                                        if (inputSurface2 != null) {
                                                                                                                                                        }
                                                                                                                                                        str5 = str4;
                                                                                                                                                        z5 = z3;
                                                                                                                                                        z6 = z4;
                                                                                                                                                        z7 = true;
                                                                                                                                                        if (z5) {
                                                                                                                                                        }
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                                if ((bufferInfo.flags & 4) == 0) {
                                                                                                                                                    if (BuildVars.LOGS_ENABLED) {
                                                                                                                                                        FileLog.d("decoder stream end");
                                                                                                                                                    }
                                                                                                                                                    mediaCodec2.signalEndOfInputStream();
                                                                                                                                                    z22 = z62;
                                                                                                                                                    z28 = false;
                                                                                                                                                    inputSurface16 = inputSurface21;
                                                                                                                                                } else {
                                                                                                                                                    z28 = z29;
                                                                                                                                                    z22 = z62;
                                                                                                                                                    inputSurface16 = inputSurface21;
                                                                                                                                                }
                                                                                                                                            } else {
                                                                                                                                                long j46 = bufferInfo.presentationTimeUs;
                                                                                                                                                if (j18 != -2147483648L) {
                                                                                                                                                    j39 -= j46;
                                                                                                                                                }
                                                                                                                                                j36 = j46;
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                        z37 = z33;
                                                                                                                                        if (z36) {
                                                                                                                                        }
                                                                                                                                        if (z37) {
                                                                                                                                        }
                                                                                                                                        if ((bufferInfo.flags & 4) == 0) {
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                    j20 = r7;
                                                                                                                                    z35 = z34;
                                                                                                                                    z36 = false;
                                                                                                                                    j22 = 0;
                                                                                                                                    if (j37 > j22) {
                                                                                                                                    }
                                                                                                                                    j23 = 0;
                                                                                                                                    boolean z622 = z35;
                                                                                                                                    if (j9 >= j23) {
                                                                                                                                    }
                                                                                                                                    if (j24 > j23) {
                                                                                                                                        if (j44 >= j24) {
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                    z37 = z33;
                                                                                                                                    if (z36) {
                                                                                                                                    }
                                                                                                                                    if (z37) {
                                                                                                                                    }
                                                                                                                                    if ((bufferInfo.flags & 4) == 0) {
                                                                                                                                    }
                                                                                                                                } catch (Exception e71) {
                                                                                                                                    e = e71;
                                                                                                                                    i70 = i52;
                                                                                                                                } catch (Throwable th74) {
                                                                                                                                    th = th74;
                                                                                                                                    i70 = i52;
                                                                                                                                }
                                                                                                                            }
                                                                                                                        } catch (Exception e72) {
                                                                                                                            e = e72;
                                                                                                                            i70 = i52;
                                                                                                                            i3 = i117;
                                                                                                                            exc = e;
                                                                                                                            inputSurface19 = inputSurface15;
                                                                                                                            i17 = i116;
                                                                                                                            i18 = i70;
                                                                                                                            mediaCodec2 = mediaCodec2;
                                                                                                                            inputSurface = inputSurface19;
                                                                                                                            i19 = i69;
                                                                                                                            if (exc instanceof IllegalStateException) {
                                                                                                                            }
                                                                                                                            z3 = false;
                                                                                                                            StringBuilder sb52222222222222222222222222222 = new StringBuilder();
                                                                                                                            sb52222222222222222222222222222.append("bitrate: ");
                                                                                                                            sb52222222222222222222222222222.append(i17);
                                                                                                                            sb52222222222222222222222222222.append(" framerate: ");
                                                                                                                            sb52222222222222222222222222222.append(i3);
                                                                                                                            sb52222222222222222222222222222.append(" size: ");
                                                                                                                            i2 = i19;
                                                                                                                            sb52222222222222222222222222222.append(i2);
                                                                                                                            str3 = "x";
                                                                                                                            sb52222222222222222222222222222.append(str3);
                                                                                                                            i8 = i15;
                                                                                                                            sb52222222222222222222222222222.append(i8);
                                                                                                                            FileLog.e(sb52222222222222222222222222222.toString());
                                                                                                                            FileLog.e(exc);
                                                                                                                            i9 = i18;
                                                                                                                            mediaCodec = mediaCodec7;
                                                                                                                            mediaCodec4 = mediaCodec2;
                                                                                                                            z10 = z3;
                                                                                                                            audioRecoder = audioRecoder2;
                                                                                                                            z11 = true;
                                                                                                                            i100 = i17;
                                                                                                                            inputSurface = inputSurface;
                                                                                                                            this.extractor.unselectTrack(i14);
                                                                                                                            if (mediaCodec != null) {
                                                                                                                            }
                                                                                                                            mediaCodec3 = mediaCodec;
                                                                                                                            outputSurface2 = outputSurface;
                                                                                                                            if (outputSurface2 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec4 == null) {
                                                                                                                            }
                                                                                                                            if (audioRecoder != null) {
                                                                                                                            }
                                                                                                                            checkConversionCanceled();
                                                                                                                            z5 = z10;
                                                                                                                            outputSurface3 = outputSurface2;
                                                                                                                            i97 = i8;
                                                                                                                            i10 = i9;
                                                                                                                            inputSurface3 = inputSurface;
                                                                                                                            mediaCodec2 = mediaCodec5;
                                                                                                                            z6 = z4;
                                                                                                                            mediaCodec6 = mediaCodec3;
                                                                                                                            i11 = i2;
                                                                                                                            mediaExtractor2 = this.extractor;
                                                                                                                            if (mediaExtractor2 != null) {
                                                                                                                            }
                                                                                                                            muxer2 = this.muxer;
                                                                                                                            if (muxer2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec2 != null) {
                                                                                                                            }
                                                                                                                            if (mediaCodec6 != null) {
                                                                                                                            }
                                                                                                                            if (outputSurface3 != null) {
                                                                                                                            }
                                                                                                                            if (inputSurface3 != null) {
                                                                                                                            }
                                                                                                                            str5 = str4;
                                                                                                                            i5 = i11;
                                                                                                                            z7 = z11;
                                                                                                                            if (z5) {
                                                                                                                            }
                                                                                                                        } catch (Throwable th75) {
                                                                                                                            th = th75;
                                                                                                                            i70 = i52;
                                                                                                                            i3 = i117;
                                                                                                                        }
                                                                                                                    } else {
                                                                                                                        z33 = z31;
                                                                                                                    }
                                                                                                                    i34 = i64;
                                                                                                                    i70 = i52;
                                                                                                                    z34 = z32;
                                                                                                                    i3 = i117;
                                                                                                                    j20 = r7;
                                                                                                                    z35 = z34;
                                                                                                                    z36 = false;
                                                                                                                    j22 = 0;
                                                                                                                    if (j37 > j22) {
                                                                                                                    }
                                                                                                                    j23 = 0;
                                                                                                                    boolean z6222 = z35;
                                                                                                                    if (j9 >= j23) {
                                                                                                                    }
                                                                                                                    if (j24 > j23) {
                                                                                                                    }
                                                                                                                    z37 = z33;
                                                                                                                    if (z36) {
                                                                                                                    }
                                                                                                                    if (z37) {
                                                                                                                    }
                                                                                                                    if ((bufferInfo.flags & 4) == 0) {
                                                                                                                    }
                                                                                                                } else {
                                                                                                                    try {
                                                                                                                        MediaFormat outputFormat3 = mediaCodec7.getOutputFormat();
                                                                                                                        if (BuildVars.LOGS_ENABLED) {
                                                                                                                            FileLog.d("newFormat = " + outputFormat3);
                                                                                                                        }
                                                                                                                    } catch (Exception e73) {
                                                                                                                        exc = e73;
                                                                                                                        i18 = i52;
                                                                                                                        i68 = i69;
                                                                                                                        i17 = i116;
                                                                                                                        i3 = i117;
                                                                                                                        mediaCodec2 = mediaCodec2;
                                                                                                                        inputSurface = inputSurface15;
                                                                                                                        i19 = i68;
                                                                                                                        if (exc instanceof IllegalStateException) {
                                                                                                                        }
                                                                                                                        z3 = false;
                                                                                                                        StringBuilder sb522222222222222222222222222222 = new StringBuilder();
                                                                                                                        sb522222222222222222222222222222.append("bitrate: ");
                                                                                                                        sb522222222222222222222222222222.append(i17);
                                                                                                                        sb522222222222222222222222222222.append(" framerate: ");
                                                                                                                        sb522222222222222222222222222222.append(i3);
                                                                                                                        sb522222222222222222222222222222.append(" size: ");
                                                                                                                        i2 = i19;
                                                                                                                        sb522222222222222222222222222222.append(i2);
                                                                                                                        str3 = "x";
                                                                                                                        sb522222222222222222222222222222.append(str3);
                                                                                                                        i8 = i15;
                                                                                                                        sb522222222222222222222222222222.append(i8);
                                                                                                                        FileLog.e(sb522222222222222222222222222222.toString());
                                                                                                                        FileLog.e(exc);
                                                                                                                        i9 = i18;
                                                                                                                        mediaCodec = mediaCodec7;
                                                                                                                        mediaCodec4 = mediaCodec2;
                                                                                                                        z10 = z3;
                                                                                                                        audioRecoder = audioRecoder2;
                                                                                                                        z11 = true;
                                                                                                                        i100 = i17;
                                                                                                                        inputSurface = inputSurface;
                                                                                                                        this.extractor.unselectTrack(i14);
                                                                                                                        if (mediaCodec != null) {
                                                                                                                        }
                                                                                                                        mediaCodec3 = mediaCodec;
                                                                                                                        outputSurface2 = outputSurface;
                                                                                                                        if (outputSurface2 != null) {
                                                                                                                        }
                                                                                                                        if (inputSurface != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec4 == null) {
                                                                                                                        }
                                                                                                                        if (audioRecoder != null) {
                                                                                                                        }
                                                                                                                        checkConversionCanceled();
                                                                                                                        z5 = z10;
                                                                                                                        outputSurface3 = outputSurface2;
                                                                                                                        i97 = i8;
                                                                                                                        i10 = i9;
                                                                                                                        inputSurface3 = inputSurface;
                                                                                                                        mediaCodec2 = mediaCodec5;
                                                                                                                        z6 = z4;
                                                                                                                        mediaCodec6 = mediaCodec3;
                                                                                                                        i11 = i2;
                                                                                                                        mediaExtractor2 = this.extractor;
                                                                                                                        if (mediaExtractor2 != null) {
                                                                                                                        }
                                                                                                                        muxer2 = this.muxer;
                                                                                                                        if (muxer2 != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec6 != null) {
                                                                                                                        }
                                                                                                                        if (outputSurface3 != null) {
                                                                                                                        }
                                                                                                                        if (inputSurface3 != null) {
                                                                                                                        }
                                                                                                                        str5 = str4;
                                                                                                                        i5 = i11;
                                                                                                                        z7 = z11;
                                                                                                                        if (z5) {
                                                                                                                        }
                                                                                                                    } catch (Throwable th76) {
                                                                                                                        z2 = z;
                                                                                                                        th = th76;
                                                                                                                        i4 = i52;
                                                                                                                        mediaCodec = mediaCodec7;
                                                                                                                        i67 = i69;
                                                                                                                        i5 = i67;
                                                                                                                        i100 = i116;
                                                                                                                        str3 = "x";
                                                                                                                        i97 = i15;
                                                                                                                        i3 = i117;
                                                                                                                        inputSurface28 = inputSurface15;
                                                                                                                        z3 = false;
                                                                                                                        inputSurface2 = inputSurface28;
                                                                                                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                                                        FileLog.e(th);
                                                                                                                        mediaExtractor = this.extractor;
                                                                                                                        if (mediaExtractor != null) {
                                                                                                                        }
                                                                                                                        muxer = this.muxer;
                                                                                                                        if (muxer != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec2 != null) {
                                                                                                                        }
                                                                                                                        if (mediaCodec != null) {
                                                                                                                        }
                                                                                                                        if (outputSurface != null) {
                                                                                                                        }
                                                                                                                        if (inputSurface2 != null) {
                                                                                                                        }
                                                                                                                        str5 = str4;
                                                                                                                        z5 = z3;
                                                                                                                        z6 = z4;
                                                                                                                        z7 = true;
                                                                                                                        if (z5) {
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                            i34 = i64;
                                                                                                            i70 = i52;
                                                                                                        }
                                                                                                        outputSurface = outputSurface7;
                                                                                                        inputSurface15 = inputSurface16;
                                                                                                        i33 = i63;
                                                                                                        str20 = str11;
                                                                                                        i49 = i60;
                                                                                                        i118 = i69;
                                                                                                        r7 = j20;
                                                                                                        i117 = i3;
                                                                                                        j16 = j19;
                                                                                                        mediaCodec = mediaCodec7;
                                                                                                        z59 = z30;
                                                                                                        i52 = i70;
                                                                                                        convertVideoParams5 = convertVideoParams;
                                                                                                    } catch (Exception e74) {
                                                                                                        e = e74;
                                                                                                        i70 = i52;
                                                                                                    } catch (Throwable th77) {
                                                                                                        th = th77;
                                                                                                        i70 = i52;
                                                                                                        i3 = i117;
                                                                                                    }
                                                                                                }
                                                                                                j19 = j18;
                                                                                                i3 = i117;
                                                                                                j20 = r7;
                                                                                                inputSurface16 = inputSurface15;
                                                                                                outputSurface7 = outputSurface;
                                                                                                z28 = z29;
                                                                                                outputSurface = outputSurface7;
                                                                                                inputSurface15 = inputSurface16;
                                                                                                i33 = i63;
                                                                                                str20 = str11;
                                                                                                i49 = i60;
                                                                                                i118 = i69;
                                                                                                r7 = j20;
                                                                                                i117 = i3;
                                                                                                j16 = j19;
                                                                                                mediaCodec = mediaCodec7;
                                                                                                z59 = z30;
                                                                                                i52 = i70;
                                                                                                convertVideoParams5 = convertVideoParams;
                                                                                            }
                                                                                            int i128 = i59;
                                                                                            mediaCodec12 = mediaCodec2;
                                                                                            i46 = i128;
                                                                                            convertVideoParams4 = convertVideoParams5;
                                                                                            r7 = r7;
                                                                                            inputSurface16 = inputSurface16;
                                                                                            inputSurface15 = inputSurface15;
                                                                                            i53 = i69;
                                                                                        } catch (Exception e75) {
                                                                                            e = e75;
                                                                                            i55 = i118;
                                                                                            mediaCodec13 = mediaCodec;
                                                                                            i56 = i55;
                                                                                            i3 = i117;
                                                                                            exc = e;
                                                                                            i58 = i56;
                                                                                            i18 = i52;
                                                                                            mediaCodec7 = mediaCodec13;
                                                                                            inputSurface10 = inputSurface15;
                                                                                            i48 = i58;
                                                                                            i17 = i116;
                                                                                            mediaCodec2 = mediaCodec2;
                                                                                            inputSurface = inputSurface10;
                                                                                            i19 = i48;
                                                                                            if (exc instanceof IllegalStateException) {
                                                                                            }
                                                                                            z3 = false;
                                                                                            StringBuilder sb5222222222222222222222222222222 = new StringBuilder();
                                                                                            sb5222222222222222222222222222222.append("bitrate: ");
                                                                                            sb5222222222222222222222222222222.append(i17);
                                                                                            sb5222222222222222222222222222222.append(" framerate: ");
                                                                                            sb5222222222222222222222222222222.append(i3);
                                                                                            sb5222222222222222222222222222222.append(" size: ");
                                                                                            i2 = i19;
                                                                                            sb5222222222222222222222222222222.append(i2);
                                                                                            str3 = "x";
                                                                                            sb5222222222222222222222222222222.append(str3);
                                                                                            i8 = i15;
                                                                                            sb5222222222222222222222222222222.append(i8);
                                                                                            FileLog.e(sb5222222222222222222222222222222.toString());
                                                                                            FileLog.e(exc);
                                                                                            i9 = i18;
                                                                                            mediaCodec = mediaCodec7;
                                                                                            mediaCodec4 = mediaCodec2;
                                                                                            z10 = z3;
                                                                                            audioRecoder = audioRecoder2;
                                                                                            z11 = true;
                                                                                            i100 = i17;
                                                                                            inputSurface = inputSurface;
                                                                                            this.extractor.unselectTrack(i14);
                                                                                            if (mediaCodec != null) {
                                                                                            }
                                                                                            mediaCodec3 = mediaCodec;
                                                                                            outputSurface2 = outputSurface;
                                                                                            if (outputSurface2 != null) {
                                                                                            }
                                                                                            if (inputSurface != null) {
                                                                                            }
                                                                                            if (mediaCodec4 == null) {
                                                                                            }
                                                                                            if (audioRecoder != null) {
                                                                                            }
                                                                                            checkConversionCanceled();
                                                                                            z5 = z10;
                                                                                            outputSurface3 = outputSurface2;
                                                                                            i97 = i8;
                                                                                            i10 = i9;
                                                                                            inputSurface3 = inputSurface;
                                                                                            mediaCodec2 = mediaCodec5;
                                                                                            z6 = z4;
                                                                                            mediaCodec6 = mediaCodec3;
                                                                                            i11 = i2;
                                                                                            mediaExtractor2 = this.extractor;
                                                                                            if (mediaExtractor2 != null) {
                                                                                            }
                                                                                            muxer2 = this.muxer;
                                                                                            if (muxer2 != null) {
                                                                                            }
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            if (mediaCodec6 != null) {
                                                                                            }
                                                                                            if (outputSurface3 != null) {
                                                                                            }
                                                                                            if (inputSurface3 != null) {
                                                                                            }
                                                                                            str5 = str4;
                                                                                            i5 = i11;
                                                                                            z7 = z11;
                                                                                            if (z5) {
                                                                                            }
                                                                                        } catch (Throwable th78) {
                                                                                            th = th78;
                                                                                            i54 = i118;
                                                                                            i3 = i117;
                                                                                            z2 = z;
                                                                                            th = th;
                                                                                            inputSurface17 = inputSurface15;
                                                                                            i57 = i54;
                                                                                            i5 = i57;
                                                                                            i100 = i116;
                                                                                            str3 = "x";
                                                                                            i97 = i15;
                                                                                            z3 = false;
                                                                                            i4 = i52;
                                                                                            inputSurface2 = inputSurface17;
                                                                                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                                            FileLog.e(th);
                                                                                            mediaExtractor = this.extractor;
                                                                                            if (mediaExtractor != null) {
                                                                                            }
                                                                                            muxer = this.muxer;
                                                                                            if (muxer != null) {
                                                                                            }
                                                                                            if (mediaCodec2 != null) {
                                                                                            }
                                                                                            if (mediaCodec != null) {
                                                                                            }
                                                                                            if (outputSurface != null) {
                                                                                            }
                                                                                            if (inputSurface2 != null) {
                                                                                            }
                                                                                            str5 = str4;
                                                                                            z5 = z3;
                                                                                            z6 = z4;
                                                                                            z7 = true;
                                                                                            if (z5) {
                                                                                            }
                                                                                        }
                                                                                    } catch (Exception e76) {
                                                                                        e = e76;
                                                                                        i55 = i118;
                                                                                        mediaCodec13 = mediaCodec;
                                                                                        mediaCodec2 = mediaCodec12;
                                                                                    } catch (Throwable th79) {
                                                                                        th = th79;
                                                                                        i54 = i118;
                                                                                        mediaCodec2 = mediaCodec12;
                                                                                    }
                                                                                }
                                                                            }
                                                                        } catch (Exception e77) {
                                                                            i48 = i118;
                                                                            mediaCodec7 = mediaCodec;
                                                                            i15 = i8;
                                                                            audioRecoder2 = audioRecoder;
                                                                            mediaCodec2 = mediaCodec11;
                                                                            bufferInfo = bufferInfo4;
                                                                            i14 = i22;
                                                                            i3 = i117;
                                                                            exc = e77;
                                                                            outputSurface = outputSurface4;
                                                                            i18 = i9;
                                                                            inputSurface10 = inputSurface9;
                                                                        } catch (Throwable th80) {
                                                                            int i129 = i118;
                                                                            i15 = i8;
                                                                            mediaCodec2 = mediaCodec11;
                                                                            bufferInfo = bufferInfo4;
                                                                            i3 = i117;
                                                                            z2 = z;
                                                                            th = th80;
                                                                            outputSurface = outputSurface4;
                                                                            i4 = i9;
                                                                            i5 = i129;
                                                                            i100 = i116;
                                                                            inputSurface11 = inputSurface9;
                                                                        }
                                                                    }
                                                                    i9 = i52;
                                                                    j14 = j16;
                                                                    i32 = i49;
                                                                    z21 = z24;
                                                                    i41 = i50;
                                                                    audioRecoder = audioRecoder2;
                                                                    outputSurface4 = outputSurface;
                                                                    z20 = z27;
                                                                    i8 = i15;
                                                                    inputBuffers = byteBufferArr2;
                                                                    i22 = i14;
                                                                    bufferInfo4 = bufferInfo;
                                                                    z19 = z26;
                                                                    convertVideoParams3 = convertVideoParams4;
                                                                    j15 = r7;
                                                                    i47 = inputSurface16;
                                                                    mediaCodec11 = mediaCodec12;
                                                                    inputSurface9 = inputSurface15;
                                                                    byteBuffer4 = i53;
                                                                }
                                                                z2 = z;
                                                                i2 = i118;
                                                                i100 = i116;
                                                                bufferInfo = bufferInfo4;
                                                                i14 = i22;
                                                                i3 = i117;
                                                                z10 = false;
                                                                z11 = false;
                                                                outputSurface = outputSurface4;
                                                                str3 = "x";
                                                                mediaCodec4 = mediaCodec11;
                                                                inputSurface = inputSurface9;
                                                                this.extractor.unselectTrack(i14);
                                                                if (mediaCodec != null) {
                                                                    mediaCodec.stop();
                                                                    mediaCodec.release();
                                                                }
                                                                mediaCodec3 = mediaCodec;
                                                                outputSurface2 = outputSurface;
                                                            } catch (Throwable th81) {
                                                                th = th81;
                                                                z2 = z;
                                                                i5 = i118;
                                                                outputSurface = outputSurface4;
                                                                mediaCodec2 = cropState6;
                                                                file = file5;
                                                                i100 = i116;
                                                                bufferInfo = bufferInfo4;
                                                                i97 = i97;
                                                                str3 = "x";
                                                                i3 = i117;
                                                                inputSurface25 = inputSurface50;
                                                                mediaCodec = null;
                                                                inputSurface24 = inputSurface25;
                                                                i4 = -5;
                                                                inputSurface27 = inputSurface24;
                                                                z3 = false;
                                                                inputSurface26 = inputSurface27;
                                                                th = th;
                                                                inputSurface2 = inputSurface26;
                                                                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                                FileLog.e(th);
                                                                mediaExtractor = this.extractor;
                                                                if (mediaExtractor != null) {
                                                                }
                                                                muxer = this.muxer;
                                                                if (muxer != null) {
                                                                }
                                                                if (mediaCodec2 != null) {
                                                                }
                                                                if (mediaCodec != null) {
                                                                }
                                                                if (outputSurface != null) {
                                                                }
                                                                if (inputSurface2 != null) {
                                                                }
                                                                str5 = str4;
                                                                z5 = z3;
                                                                z6 = z4;
                                                                z7 = true;
                                                                if (z5) {
                                                                }
                                                            }
                                                        }
                                                    }
                                                    str4 = name2;
                                                    cropState6 = mediaCodec15;
                                                    i118 = i110;
                                                    inputSurface50 = inputSurface49;
                                                    obj = "video/hevc";
                                                    z14 = z8;
                                                    str9 = str6;
                                                    j7 = j28;
                                                    j8 = j4;
                                                    i32 = i7;
                                                    mediaFormat2 = mediaFormat3;
                                                    i33 = i30;
                                                    i34 = i115;
                                                    j9 = j5;
                                                    cropState2 = cropState6;
                                                    inputSurface22 = inputSurface50;
                                                    if (!z50) {
                                                        try {
                                                            cropState2 = cropState6;
                                                            inputSurface22 = inputSurface50;
                                                            if (Math.max(i118, i118) / Math.max(i96, i95) < 0.9f) {
                                                                i35 = 0;
                                                                outputSurface4.changeFragmentShader(createFragmentShader(i95, i96, i97, i118, true, z52 ? 0 : 3), createFragmentShader(i95, i96, i97, i118, false, z52 ? 0 : 3), false);
                                                                r20 = cropState6;
                                                                inputSurface7 = inputSurface50;
                                                                mediaCodec = getDecoderByFormat(mediaFormat2);
                                                                mediaCodec.configure(mediaFormat2, outputSurface4.getSurface(), (MediaCrypto) null, i35);
                                                                mediaCodec.start();
                                                                if (i27 < 21) {
                                                                }
                                                                if (z14) {
                                                                }
                                                                if (i32 >= 0) {
                                                                }
                                                                if (audioRecoder == null) {
                                                                }
                                                                checkConversionCanceled();
                                                                file = file3;
                                                                z20 = z57;
                                                                ByteBuffer[] byteBufferArr42 = byteBufferArr;
                                                                i46 = i42;
                                                                ByteBuffer byteBuffer132 = byteBuffer3;
                                                                long j362 = -1;
                                                                long j372 = -1;
                                                                z21 = false;
                                                                i9 = -5;
                                                                z22 = false;
                                                                z23 = false;
                                                                int i1202 = 0;
                                                                boolean z582 = true;
                                                                long j382 = 0;
                                                                long j392 = 0;
                                                                j14 = -2147483648L;
                                                                convertVideoParams3 = convertVideoParams2;
                                                                j15 = j13;
                                                                i47 = i45;
                                                                mediaCodec11 = r20;
                                                                inputSurface9 = inputSurface7;
                                                                byteBuffer4 = byteBuffer3;
                                                                loop3: while (true) {
                                                                    if (z21) {
                                                                    }
                                                                    checkConversionCanceled();
                                                                    if (audioRecoder != null) {
                                                                    }
                                                                    if (z22) {
                                                                    }
                                                                    z28 = !z23;
                                                                    i52 = i9;
                                                                    j16 = j14;
                                                                    boolean z592 = true;
                                                                    convertVideoParams4 = convertVideoParams3;
                                                                    r7 = j15;
                                                                    inputSurface16 = i47;
                                                                    mediaCodec12 = mediaCodec11;
                                                                    inputSurface15 = inputSurface9;
                                                                    i53 = byteBuffer4;
                                                                    while (true) {
                                                                        if (!z28) {
                                                                        }
                                                                        checkConversionCanceled();
                                                                        if (z) {
                                                                        }
                                                                        dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo, j17);
                                                                        if (dequeueOutputBuffer == -1) {
                                                                        }
                                                                        if (dequeueOutputBuffer != i65) {
                                                                        }
                                                                        int i1282 = i59;
                                                                        mediaCodec12 = mediaCodec2;
                                                                        i46 = i1282;
                                                                        convertVideoParams4 = convertVideoParams5;
                                                                        r7 = r7;
                                                                        inputSurface16 = inputSurface16;
                                                                        inputSurface15 = inputSurface15;
                                                                        i53 = i69;
                                                                    }
                                                                    i9 = i52;
                                                                    j14 = j16;
                                                                    i32 = i49;
                                                                    z21 = z24;
                                                                    i41 = i50;
                                                                    audioRecoder = audioRecoder2;
                                                                    outputSurface4 = outputSurface;
                                                                    z20 = z27;
                                                                    i8 = i15;
                                                                    inputBuffers = byteBufferArr2;
                                                                    i22 = i14;
                                                                    bufferInfo4 = bufferInfo;
                                                                    z19 = z26;
                                                                    convertVideoParams3 = convertVideoParams4;
                                                                    j15 = r7;
                                                                    i47 = inputSurface16;
                                                                    mediaCodec11 = mediaCodec12;
                                                                    inputSurface9 = inputSurface15;
                                                                    byteBuffer4 = i53;
                                                                }
                                                                z2 = z;
                                                                i2 = i118;
                                                                i100 = i116;
                                                                bufferInfo = bufferInfo4;
                                                                i14 = i22;
                                                                i3 = i117;
                                                                z10 = false;
                                                                z11 = false;
                                                                outputSurface = outputSurface4;
                                                                str3 = "x";
                                                                mediaCodec4 = mediaCodec11;
                                                                inputSurface = inputSurface9;
                                                                this.extractor.unselectTrack(i14);
                                                                if (mediaCodec != null) {
                                                                }
                                                                mediaCodec3 = mediaCodec;
                                                                outputSurface2 = outputSurface;
                                                            }
                                                        } catch (Throwable th82) {
                                                            th = th82;
                                                            z2 = z;
                                                            i5 = i118;
                                                            outputSurface = outputSurface4;
                                                            mediaCodec2 = cropState6;
                                                            file = file5;
                                                            i100 = i116;
                                                            bufferInfo = bufferInfo4;
                                                            i97 = i97;
                                                            str3 = "x";
                                                            i3 = i117;
                                                            inputSurface25 = inputSurface50;
                                                            mediaCodec = null;
                                                            inputSurface24 = inputSurface25;
                                                            i4 = -5;
                                                            inputSurface27 = inputSurface24;
                                                            z3 = false;
                                                            inputSurface26 = inputSurface27;
                                                            th = th;
                                                            inputSurface2 = inputSurface26;
                                                            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                                            FileLog.e(th);
                                                            mediaExtractor = this.extractor;
                                                            if (mediaExtractor != null) {
                                                            }
                                                            muxer = this.muxer;
                                                            if (muxer != null) {
                                                            }
                                                            if (mediaCodec2 != null) {
                                                            }
                                                            if (mediaCodec != null) {
                                                            }
                                                            if (outputSurface != null) {
                                                            }
                                                            if (inputSurface2 != null) {
                                                            }
                                                            str5 = str4;
                                                            z5 = z3;
                                                            z6 = z4;
                                                            z7 = true;
                                                            if (z5) {
                                                            }
                                                        }
                                                    }
                                                    i35 = 0;
                                                    r20 = cropState2;
                                                    inputSurface7 = inputSurface22;
                                                    mediaCodec = getDecoderByFormat(mediaFormat2);
                                                    mediaCodec.configure(mediaFormat2, outputSurface4.getSurface(), (MediaCrypto) null, i35);
                                                    mediaCodec.start();
                                                    if (i27 < 21) {
                                                    }
                                                    if (z14) {
                                                    }
                                                    if (i32 >= 0) {
                                                    }
                                                    if (audioRecoder == null) {
                                                    }
                                                    checkConversionCanceled();
                                                    file = file3;
                                                    z20 = z57;
                                                    ByteBuffer[] byteBufferArr422 = byteBufferArr;
                                                    i46 = i42;
                                                    ByteBuffer byteBuffer1322 = byteBuffer3;
                                                    long j3622 = -1;
                                                    long j3722 = -1;
                                                    z21 = false;
                                                    i9 = -5;
                                                    z22 = false;
                                                    z23 = false;
                                                    int i12022 = 0;
                                                    boolean z5822 = true;
                                                    long j3822 = 0;
                                                    long j3922 = 0;
                                                    j14 = -2147483648L;
                                                    convertVideoParams3 = convertVideoParams2;
                                                    j15 = j13;
                                                    i47 = i45;
                                                    mediaCodec11 = r20;
                                                    inputSurface9 = inputSurface7;
                                                    byteBuffer4 = byteBuffer3;
                                                    loop3: while (true) {
                                                        if (z21) {
                                                        }
                                                        checkConversionCanceled();
                                                        if (audioRecoder != null) {
                                                        }
                                                        if (z22) {
                                                        }
                                                        z28 = !z23;
                                                        i52 = i9;
                                                        j16 = j14;
                                                        boolean z5922 = true;
                                                        convertVideoParams4 = convertVideoParams3;
                                                        r7 = j15;
                                                        inputSurface16 = i47;
                                                        mediaCodec12 = mediaCodec11;
                                                        inputSurface15 = inputSurface9;
                                                        i53 = byteBuffer4;
                                                        while (true) {
                                                            if (!z28) {
                                                            }
                                                            checkConversionCanceled();
                                                            if (z) {
                                                            }
                                                            dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo, j17);
                                                            if (dequeueOutputBuffer == -1) {
                                                            }
                                                            if (dequeueOutputBuffer != i65) {
                                                            }
                                                            int i12822 = i59;
                                                            mediaCodec12 = mediaCodec2;
                                                            i46 = i12822;
                                                            convertVideoParams4 = convertVideoParams5;
                                                            r7 = r7;
                                                            inputSurface16 = inputSurface16;
                                                            inputSurface15 = inputSurface15;
                                                            i53 = i69;
                                                        }
                                                        i9 = i52;
                                                        j14 = j16;
                                                        i32 = i49;
                                                        z21 = z24;
                                                        i41 = i50;
                                                        audioRecoder = audioRecoder2;
                                                        outputSurface4 = outputSurface;
                                                        z20 = z27;
                                                        i8 = i15;
                                                        inputBuffers = byteBufferArr2;
                                                        i22 = i14;
                                                        bufferInfo4 = bufferInfo;
                                                        z19 = z26;
                                                        convertVideoParams3 = convertVideoParams4;
                                                        j15 = r7;
                                                        i47 = inputSurface16;
                                                        mediaCodec11 = mediaCodec12;
                                                        inputSurface9 = inputSurface15;
                                                        byteBuffer4 = i53;
                                                    }
                                                    z2 = z;
                                                    i2 = i118;
                                                    i100 = i116;
                                                    bufferInfo = bufferInfo4;
                                                    i14 = i22;
                                                    i3 = i117;
                                                    z10 = false;
                                                    z11 = false;
                                                    outputSurface = outputSurface4;
                                                    str3 = "x";
                                                    mediaCodec4 = mediaCodec11;
                                                    inputSurface = inputSurface9;
                                                    this.extractor.unselectTrack(i14);
                                                    if (mediaCodec != null) {
                                                    }
                                                    mediaCodec3 = mediaCodec;
                                                    outputSurface2 = outputSurface;
                                                }
                                                createByCodecName = null;
                                                if (createByCodecName == null) {
                                                }
                                                if (BuildVars.LOGS_ENABLED) {
                                                }
                                                createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i25, i26);
                                                createVideoFormat.setInteger("color-format", 2130708361);
                                                createVideoFormat.setInteger("bitrate", i17);
                                                if (z53) {
                                                    createVideoFormat.setInteger("bitrate-mode", 2);
                                                }
                                                createVideoFormat.setInteger("max-bitrate", i17);
                                                createVideoFormat.setInteger("frame-rate", i99);
                                                createVideoFormat.setInteger("i-frame-interval", 1);
                                                i27 = Build.VERSION.SDK_INT;
                                                if (i27 >= 24) {
                                                }
                                                MediaFormat mediaFormat32 = mediaFormat;
                                                if (i27 < 23) {
                                                }
                                                int i1142 = i17;
                                                String name22 = createByCodecName.getName();
                                                z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name22);
                                                StringBuilder sb62 = new StringBuilder();
                                                int i1152 = i25;
                                                sb62.append("selected encoder ");
                                                sb62.append(name22);
                                                FileLog.d(sb62.toString());
                                                mediaCodec7 = null;
                                                createByCodecName.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                                int i1162 = i1142;
                                                InputSurface inputSurface492 = new InputSurface(createByCodecName.createInputSurface());
                                                inputSurface492.makeCurrent();
                                                createByCodecName.start();
                                                if (hDRInfo2 == null) {
                                                }
                                                hDRInfo = hDRInfo2;
                                                str4 = null;
                                                MediaCodec mediaCodec152 = createByCodecName;
                                                int i1172 = i99;
                                                MediaController.CropState cropState62 = cropState5;
                                                InputSurface inputSurface502 = i97;
                                                outputSurface4 = new OutputSurface(savedFilterState, null, str17, str18, arrayList, cropState62, inputSurface502, i110, i95, i96, i24, i99, false, num, num2, hDRInfo, convertVideoParams);
                                                int i1182 = 24;
                                                if (i27 >= 24) {
                                                    if (hDRInfo.getHDRType() != 0) {
                                                    }
                                                }
                                                str4 = name22;
                                                cropState62 = mediaCodec152;
                                                i1182 = i110;
                                                inputSurface502 = inputSurface492;
                                                obj = "video/hevc";
                                                z14 = z8;
                                                str9 = str6;
                                                j7 = j28;
                                                j8 = j4;
                                                i32 = i7;
                                                mediaFormat2 = mediaFormat32;
                                                i33 = i30;
                                                i34 = i1152;
                                                j9 = j5;
                                                cropState2 = cropState62;
                                                inputSurface22 = inputSurface502;
                                                if (!z50) {
                                                }
                                                i35 = 0;
                                                r20 = cropState2;
                                                inputSurface7 = inputSurface22;
                                                mediaCodec = getDecoderByFormat(mediaFormat2);
                                                mediaCodec.configure(mediaFormat2, outputSurface4.getSurface(), (MediaCrypto) null, i35);
                                                mediaCodec.start();
                                                if (i27 < 21) {
                                                }
                                                if (z14) {
                                                }
                                                if (i32 >= 0) {
                                                }
                                                if (audioRecoder == null) {
                                                }
                                                checkConversionCanceled();
                                                file = file3;
                                                z20 = z57;
                                                ByteBuffer[] byteBufferArr4222 = byteBufferArr;
                                                i46 = i42;
                                                ByteBuffer byteBuffer13222 = byteBuffer3;
                                                long j36222 = -1;
                                                long j37222 = -1;
                                                z21 = false;
                                                i9 = -5;
                                                z22 = false;
                                                z23 = false;
                                                int i120222 = 0;
                                                boolean z58222 = true;
                                                long j38222 = 0;
                                                long j39222 = 0;
                                                j14 = -2147483648L;
                                                convertVideoParams3 = convertVideoParams2;
                                                j15 = j13;
                                                i47 = i45;
                                                mediaCodec11 = r20;
                                                inputSurface9 = inputSurface7;
                                                byteBuffer4 = byteBuffer3;
                                                loop3: while (true) {
                                                    if (z21) {
                                                    }
                                                    checkConversionCanceled();
                                                    if (audioRecoder != null) {
                                                    }
                                                    if (z22) {
                                                    }
                                                    z28 = !z23;
                                                    i52 = i9;
                                                    j16 = j14;
                                                    boolean z59222 = true;
                                                    convertVideoParams4 = convertVideoParams3;
                                                    r7 = j15;
                                                    inputSurface16 = i47;
                                                    mediaCodec12 = mediaCodec11;
                                                    inputSurface15 = inputSurface9;
                                                    i53 = byteBuffer4;
                                                    while (true) {
                                                        if (!z28) {
                                                        }
                                                        checkConversionCanceled();
                                                        if (z) {
                                                        }
                                                        dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo, j17);
                                                        if (dequeueOutputBuffer == -1) {
                                                        }
                                                        if (dequeueOutputBuffer != i65) {
                                                        }
                                                        int i128222 = i59;
                                                        mediaCodec12 = mediaCodec2;
                                                        i46 = i128222;
                                                        convertVideoParams4 = convertVideoParams5;
                                                        r7 = r7;
                                                        inputSurface16 = inputSurface16;
                                                        inputSurface15 = inputSurface15;
                                                        i53 = i69;
                                                    }
                                                    i9 = i52;
                                                    j14 = j16;
                                                    i32 = i49;
                                                    z21 = z24;
                                                    i41 = i50;
                                                    audioRecoder = audioRecoder2;
                                                    outputSurface4 = outputSurface;
                                                    z20 = z27;
                                                    i8 = i15;
                                                    inputBuffers = byteBufferArr2;
                                                    i22 = i14;
                                                    bufferInfo4 = bufferInfo;
                                                    z19 = z26;
                                                    convertVideoParams3 = convertVideoParams4;
                                                    j15 = r7;
                                                    i47 = inputSurface16;
                                                    mediaCodec11 = mediaCodec12;
                                                    inputSurface9 = inputSurface15;
                                                    byteBuffer4 = i53;
                                                }
                                                z2 = z;
                                                i2 = i1182;
                                                i100 = i1162;
                                                bufferInfo = bufferInfo4;
                                                i14 = i22;
                                                i3 = i1172;
                                                z10 = false;
                                                z11 = false;
                                                outputSurface = outputSurface4;
                                                str3 = "x";
                                                mediaCodec4 = mediaCodec11;
                                                inputSurface = inputSurface9;
                                                this.extractor.unselectTrack(i14);
                                                if (mediaCodec != null) {
                                                }
                                                mediaCodec3 = mediaCodec;
                                                outputSurface2 = outputSurface;
                                            }
                                        }
                                        this.extractor.unselectTrack(i14);
                                        if (mediaCodec != null) {
                                        }
                                        mediaCodec3 = mediaCodec;
                                        outputSurface2 = outputSurface;
                                    } catch (Throwable th83) {
                                        z3 = z10;
                                        i97 = i8;
                                        i4 = i9;
                                        mediaCodec2 = mediaCodec4;
                                        th = th83;
                                        i5 = i2;
                                        inputSurface2 = inputSurface;
                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                        FileLog.e(th);
                                        mediaExtractor = this.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        muxer = this.muxer;
                                        if (muxer != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface2 != null) {
                                        }
                                        str5 = str4;
                                        z5 = z3;
                                        z6 = z4;
                                        z7 = true;
                                        if (z5) {
                                        }
                                    }
                                    if (cropState5 == null) {
                                    }
                                    i24 = i94;
                                    i25 = i97;
                                    i26 = i110;
                                    if (str7 != null) {
                                    }
                                    createByCodecName = null;
                                    if (createByCodecName == null) {
                                    }
                                    if (BuildVars.LOGS_ENABLED) {
                                    }
                                    createVideoFormat = MediaFormat.createVideoFormat(this.outputMimeType, i25, i26);
                                    createVideoFormat.setInteger("color-format", 2130708361);
                                    createVideoFormat.setInteger("bitrate", i17);
                                    if (z53) {
                                    }
                                    createVideoFormat.setInteger("max-bitrate", i17);
                                    createVideoFormat.setInteger("frame-rate", i99);
                                    createVideoFormat.setInteger("i-frame-interval", 1);
                                    i27 = Build.VERSION.SDK_INT;
                                    if (i27 >= 24) {
                                    }
                                    MediaFormat mediaFormat322 = mediaFormat;
                                    if (i27 < 23) {
                                    }
                                    int i11422 = i17;
                                    String name222 = createByCodecName.getName();
                                    z4 = "c2.qti.avc.encoder".equalsIgnoreCase(name222);
                                    StringBuilder sb622 = new StringBuilder();
                                    int i11522 = i25;
                                    sb622.append("selected encoder ");
                                    sb622.append(name222);
                                    FileLog.d(sb622.toString());
                                    mediaCodec7 = null;
                                    createByCodecName.configure(createVideoFormat, (Surface) null, (MediaCrypto) null, 1);
                                    int i11622 = i11422;
                                    InputSurface inputSurface4922 = new InputSurface(createByCodecName.createInputSurface());
                                    inputSurface4922.makeCurrent();
                                    createByCodecName.start();
                                    if (hDRInfo2 == null) {
                                    }
                                    hDRInfo = hDRInfo2;
                                    str4 = null;
                                    MediaCodec mediaCodec1522 = createByCodecName;
                                    int i11722 = i99;
                                    MediaController.CropState cropState622 = cropState5;
                                    InputSurface inputSurface5022 = i97;
                                    outputSurface4 = new OutputSurface(savedFilterState, null, str17, str18, arrayList, cropState622, inputSurface5022, i110, i95, i96, i24, i99, false, num, num2, hDRInfo, convertVideoParams);
                                    int i11822 = 24;
                                    if (i27 >= 24) {
                                    }
                                    str4 = name222;
                                    cropState622 = mediaCodec1522;
                                    i11822 = i110;
                                    inputSurface5022 = inputSurface4922;
                                    obj = "video/hevc";
                                    z14 = z8;
                                    str9 = str6;
                                    j7 = j28;
                                    j8 = j4;
                                    i32 = i7;
                                    mediaFormat2 = mediaFormat322;
                                    i33 = i30;
                                    i34 = i11522;
                                    j9 = j5;
                                    cropState2 = cropState622;
                                    inputSurface22 = inputSurface5022;
                                    if (!z50) {
                                    }
                                    i35 = 0;
                                    r20 = cropState2;
                                    inputSurface7 = inputSurface22;
                                    mediaCodec = getDecoderByFormat(mediaFormat2);
                                    mediaCodec.configure(mediaFormat2, outputSurface4.getSurface(), (MediaCrypto) null, i35);
                                    mediaCodec.start();
                                    if (i27 < 21) {
                                    }
                                    if (z14) {
                                    }
                                    if (i32 >= 0) {
                                    }
                                    if (audioRecoder == null) {
                                    }
                                    checkConversionCanceled();
                                    file = file3;
                                    z20 = z57;
                                    ByteBuffer[] byteBufferArr42222 = byteBufferArr;
                                    i46 = i42;
                                    ByteBuffer byteBuffer132222 = byteBuffer3;
                                    long j362222 = -1;
                                    long j372222 = -1;
                                    z21 = false;
                                    i9 = -5;
                                    z22 = false;
                                    z23 = false;
                                    int i1202222 = 0;
                                    boolean z582222 = true;
                                    long j382222 = 0;
                                    long j392222 = 0;
                                    j14 = -2147483648L;
                                    convertVideoParams3 = convertVideoParams2;
                                    j15 = j13;
                                    i47 = i45;
                                    mediaCodec11 = r20;
                                    inputSurface9 = inputSurface7;
                                    byteBuffer4 = byteBuffer3;
                                    loop3: while (true) {
                                        if (z21) {
                                        }
                                        checkConversionCanceled();
                                        if (audioRecoder != null) {
                                        }
                                        if (z22) {
                                        }
                                        z28 = !z23;
                                        i52 = i9;
                                        j16 = j14;
                                        boolean z592222 = true;
                                        convertVideoParams4 = convertVideoParams3;
                                        r7 = j15;
                                        inputSurface16 = i47;
                                        mediaCodec12 = mediaCodec11;
                                        inputSurface15 = inputSurface9;
                                        i53 = byteBuffer4;
                                        while (true) {
                                            if (!z28) {
                                            }
                                            checkConversionCanceled();
                                            if (z) {
                                            }
                                            dequeueOutputBuffer = mediaCodec2.dequeueOutputBuffer(bufferInfo, j17);
                                            if (dequeueOutputBuffer == -1) {
                                            }
                                            if (dequeueOutputBuffer != i65) {
                                            }
                                            int i1282222 = i59;
                                            mediaCodec12 = mediaCodec2;
                                            i46 = i1282222;
                                            convertVideoParams4 = convertVideoParams5;
                                            r7 = r7;
                                            inputSurface16 = inputSurface16;
                                            inputSurface15 = inputSurface15;
                                            i53 = i69;
                                        }
                                        i9 = i52;
                                        j14 = j16;
                                        i32 = i49;
                                        z21 = z24;
                                        i41 = i50;
                                        audioRecoder = audioRecoder2;
                                        outputSurface4 = outputSurface;
                                        z20 = z27;
                                        i8 = i15;
                                        inputBuffers = byteBufferArr2;
                                        i22 = i14;
                                        bufferInfo4 = bufferInfo;
                                        z19 = z26;
                                        convertVideoParams3 = convertVideoParams4;
                                        j15 = r7;
                                        i47 = inputSurface16;
                                        mediaCodec11 = mediaCodec12;
                                        inputSurface9 = inputSurface15;
                                        byteBuffer4 = i53;
                                    }
                                    z2 = z;
                                    i2 = i11822;
                                    i100 = i11622;
                                    bufferInfo = bufferInfo4;
                                    i14 = i22;
                                    i3 = i11722;
                                    z10 = false;
                                    z11 = false;
                                    outputSurface = outputSurface4;
                                    str3 = "x";
                                    mediaCodec4 = mediaCodec11;
                                    inputSurface = inputSurface9;
                                } else {
                                    z2 = z;
                                    i3 = i99;
                                    i8 = i97;
                                    i2 = i110;
                                    file = file5;
                                    bufferInfo = bufferInfo4;
                                    str3 = "x";
                                    i100 = i100;
                                    z10 = false;
                                    mediaCodec3 = null;
                                    outputSurface2 = null;
                                    audioRecoder = null;
                                    str4 = null;
                                    i9 = -5;
                                    mediaCodec4 = null;
                                    inputSurface = null;
                                    z11 = false;
                                    z4 = false;
                                }
                                if (outputSurface2 != null) {
                                    try {
                                        outputSurface2.release();
                                        outputSurface2 = null;
                                    } catch (Throwable th84) {
                                        th = th84;
                                        z3 = z10;
                                        outputSurface = outputSurface2;
                                        i97 = i8;
                                        i4 = i9;
                                        mediaCodec2 = mediaCodec4;
                                        th = th;
                                        mediaCodec = mediaCodec3;
                                        i5 = i2;
                                        inputSurface2 = inputSurface;
                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                        FileLog.e(th);
                                        mediaExtractor = this.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        muxer = this.muxer;
                                        if (muxer != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface2 != null) {
                                        }
                                        str5 = str4;
                                        z5 = z3;
                                        z6 = z4;
                                        z7 = true;
                                        if (z5) {
                                        }
                                    }
                                }
                                if (inputSurface != null) {
                                    inputSurface.release();
                                    inputSurface = null;
                                }
                                if (mediaCodec4 == null) {
                                    mediaCodec4.stop();
                                    mediaCodec4.release();
                                    mediaCodec5 = null;
                                } else {
                                    mediaCodec5 = mediaCodec4;
                                }
                                if (audioRecoder != null) {
                                    try {
                                        audioRecoder.release();
                                    } catch (Throwable th85) {
                                        th = th85;
                                        z3 = z10;
                                        outputSurface = outputSurface2;
                                        i97 = i8;
                                        i4 = i9;
                                        mediaCodec2 = mediaCodec5;
                                        th = th;
                                        mediaCodec = mediaCodec3;
                                        i5 = i2;
                                        inputSurface2 = inputSurface;
                                        FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                        FileLog.e(th);
                                        mediaExtractor = this.extractor;
                                        if (mediaExtractor != null) {
                                        }
                                        muxer = this.muxer;
                                        if (muxer != null) {
                                        }
                                        if (mediaCodec2 != null) {
                                        }
                                        if (mediaCodec != null) {
                                        }
                                        if (outputSurface != null) {
                                        }
                                        if (inputSurface2 != null) {
                                        }
                                        str5 = str4;
                                        z5 = z3;
                                        z6 = z4;
                                        z7 = true;
                                        if (z5) {
                                        }
                                    }
                                }
                                checkConversionCanceled();
                                z5 = z10;
                                outputSurface3 = outputSurface2;
                                i97 = i8;
                                i10 = i9;
                                inputSurface3 = inputSurface;
                                mediaCodec2 = mediaCodec5;
                                z6 = z4;
                                mediaCodec6 = mediaCodec3;
                                i11 = i2;
                            } else {
                                try {
                                    Mp4Movie mp4Movie3 = new Mp4Movie();
                                    mp4Movie3.setCacheFile(file6);
                                    mp4Movie3.setRotation(0);
                                    mp4Movie3.setSize(i97, i98);
                                    Muxer muxer4 = new Muxer(new MP4Builder().createMovie(mp4Movie3, z48, false));
                                    this.muxer = muxer4;
                                    i11 = i98;
                                    file2 = file5;
                                    readAndWriteTracks(this.extractor, muxer4, bufferInfo3, r3, j26, j28, file6, (i100 == -1 || z51) ? false : true);
                                    z2 = z;
                                    i100 = i100;
                                    i97 = i97;
                                    file = file6;
                                    bufferInfo = bufferInfo3;
                                    outputSurface3 = null;
                                    z5 = false;
                                    i10 = -5;
                                    mediaCodec2 = null;
                                    str4 = null;
                                    z6 = false;
                                    z11 = false;
                                    mediaCodec6 = null;
                                    inputSurface3 = null;
                                } catch (Throwable th86) {
                                    file2 = file5;
                                    z2 = z;
                                    th = th86;
                                    file = file6;
                                    str3 = "x";
                                    i3 = i99;
                                    i5 = i98;
                                    bufferInfo = bufferInfo3;
                                    mediaCodec = null;
                                    i4 = -5;
                                    mediaCodec2 = null;
                                    str4 = null;
                                    inputSurface4 = null;
                                    z3 = false;
                                    z4 = false;
                                    outputSurface = null;
                                    inputSurface2 = inputSurface4;
                                    FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                                    FileLog.e(th);
                                    mediaExtractor = this.extractor;
                                    if (mediaExtractor != null) {
                                    }
                                    muxer = this.muxer;
                                    if (muxer != null) {
                                    }
                                    if (mediaCodec2 != null) {
                                    }
                                    if (mediaCodec != null) {
                                    }
                                    if (outputSurface != null) {
                                    }
                                    if (inputSurface2 != null) {
                                    }
                                    str5 = str4;
                                    z5 = z3;
                                    z6 = z4;
                                    z7 = true;
                                    if (z5) {
                                    }
                                }
                            }
                            mediaExtractor2 = this.extractor;
                            if (mediaExtractor2 != null) {
                            }
                            muxer2 = this.muxer;
                            if (muxer2 != null) {
                            }
                            if (mediaCodec2 != null) {
                            }
                            if (mediaCodec6 != null) {
                            }
                            if (outputSurface3 != null) {
                            }
                            if (inputSurface3 != null) {
                            }
                            str5 = str4;
                            i5 = i11;
                            z7 = z11;
                            if (z5) {
                            }
                        }
                    } else {
                        i7 = i6;
                    }
                    z9 = false;
                    if (file5 == null) {
                    }
                    long j342 = j26;
                    file2 = file5;
                    MediaCodec.BufferInfo bufferInfo42 = bufferInfo3;
                    file5 = file6;
                    int i1102 = i98;
                    if (findTrack < 0) {
                    }
                    if (outputSurface2 != null) {
                    }
                    if (inputSurface != null) {
                    }
                    if (mediaCodec4 == null) {
                    }
                    if (audioRecoder != null) {
                    }
                    checkConversionCanceled();
                    z5 = z10;
                    outputSurface3 = outputSurface2;
                    i97 = i8;
                    i10 = i9;
                    inputSurface3 = inputSurface;
                    mediaCodec2 = mediaCodec5;
                    z6 = z4;
                    mediaCodec6 = mediaCodec3;
                    i11 = i2;
                    mediaExtractor2 = this.extractor;
                    if (mediaExtractor2 != null) {
                    }
                    muxer2 = this.muxer;
                    if (muxer2 != null) {
                    }
                    if (mediaCodec2 != null) {
                    }
                    if (mediaCodec6 != null) {
                    }
                    if (outputSurface3 != null) {
                    }
                    if (inputSurface3 != null) {
                    }
                    str5 = str4;
                    i5 = i11;
                    z7 = z11;
                    if (z5) {
                    }
                }
                outputSurface = null;
                inputSurface2 = inputSurface4;
                FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
                FileLog.e(th);
                mediaExtractor = this.extractor;
                if (mediaExtractor != null) {
                    mediaExtractor.release();
                }
                muxer = this.muxer;
                if (muxer != null) {
                    try {
                        muxer.finishMovie();
                        this.endPresentationTime = this.muxer.getLastFrameTimestamp(i4, bufferInfo);
                    } catch (Throwable th87) {
                        FileLog.e(th87);
                    }
                }
                if (mediaCodec2 != null) {
                    try {
                        mediaCodec2.release();
                    } catch (Exception unused6) {
                    }
                }
                if (mediaCodec != null) {
                    try {
                        mediaCodec.release();
                    } catch (Exception unused7) {
                    }
                }
                if (outputSurface != null) {
                    try {
                        outputSurface.release();
                    } catch (Exception unused8) {
                    }
                }
                if (inputSurface2 != null) {
                    try {
                        inputSurface2.release();
                    } catch (Exception unused9) {
                    }
                }
                str5 = str4;
                z5 = z3;
                z6 = z4;
                z7 = true;
                if (z5) {
                }
            } else {
                str = MediaController.VIDEO_MIME_TYPE;
            }
            FileLog.e("bitrate: " + i100 + " framerate: " + i3 + " size: " + i5 + str3 + i97);
            FileLog.e(th);
            mediaExtractor = this.extractor;
            if (mediaExtractor != null) {
            }
            muxer = this.muxer;
            if (muxer != null) {
            }
            if (mediaCodec2 != null) {
            }
            if (mediaCodec != null) {
            }
            if (outputSurface != null) {
            }
            if (inputSurface2 != null) {
            }
            str5 = str4;
            z5 = z3;
            z6 = z4;
            z7 = true;
            if (z5) {
            }
        } catch (Throwable th88) {
            MediaExtractor mediaExtractor4 = this.extractor;
            if (mediaExtractor4 != null) {
                mediaExtractor4.release();
            }
            Muxer muxer5 = this.muxer;
            if (muxer5 != null) {
                try {
                    muxer5.finishMovie();
                    this.endPresentationTime = this.muxer.getLastFrameTimestamp(i4, bufferInfo);
                } catch (Throwable th89) {
                    FileLog.e(th89);
                }
            }
            if (mediaCodec2 != null) {
                try {
                    mediaCodec2.release();
                } catch (Exception unused10) {
                }
            }
            if (mediaCodec != null) {
                try {
                    mediaCodec.release();
                } catch (Exception unused11) {
                }
            }
            if (outputSurface != null) {
                try {
                    outputSurface.release();
                } catch (Exception unused12) {
                }
            }
            if (inputSurface2 != null) {
                try {
                    inputSurface2.release();
                } catch (Exception unused13) {
                }
            }
            throw th88;
        }
        str2 = str;
        this.outputMimeType = str2;
        long j292 = j27;
        float f32 = ((float) j28) / 1000.0f;
        MediaCodec.BufferInfo bufferInfo32 = new MediaCodec.BufferInfo();
        long j302 = j28 * 1000;
        this.endPresentationTime = j302;
        checkConversionCanceled();
        Object obj32 = "prepend-sps-pps-to-idr-frames";
        String str192 = "csd-0";
        if (!z49) {
        }
        outputSurface = null;
        inputSurface2 = inputSurface4;
    }

    private static void applyAudioInputs(ArrayList<MixedSoundInfo> arrayList, ArrayList<AudioInput> arrayList2) throws IOException {
        for (int i = 0; i < arrayList.size(); i++) {
            MixedSoundInfo mixedSoundInfo = arrayList.get(i);
            GeneralAudioInput generalAudioInput = new GeneralAudioInput(mixedSoundInfo.audioFile);
            generalAudioInput.setVolume(mixedSoundInfo.volume);
            long j = mixedSoundInfo.startTime;
            if (j > 0) {
                generalAudioInput.setStartOffsetUs(j);
            }
            long j2 = mixedSoundInfo.audioOffset;
            if (j2 > 0) {
                generalAudioInput.setStartTimeUs(j2);
            } else {
                j2 = 0;
            }
            long j3 = mixedSoundInfo.duration;
            if (j3 > 0) {
                generalAudioInput.setEndTimeUs(j2 + j3);
            }
            arrayList2.add(generalAudioInput);
        }
    }

    private MediaCodec createEncoderForMimeType() throws IOException {
        MediaCodec createEncoderByType;
        if (this.outputMimeType.equals("video/hevc") && Build.VERSION.SDK_INT >= 29) {
            String findGoodHevcEncoder = SharedConfig.findGoodHevcEncoder();
            createEncoderByType = findGoodHevcEncoder != null ? MediaCodec.createByCodecName(findGoodHevcEncoder) : null;
        } else {
            if (this.outputMimeType.equals("video/hevc")) {
                this.outputMimeType = MediaController.VIDEO_MIME_TYPE;
            }
            createEncoderByType = MediaCodec.createEncoderByType(this.outputMimeType);
        }
        if (createEncoderByType == null && this.outputMimeType.equals("video/hevc")) {
            this.outputMimeType = MediaController.VIDEO_MIME_TYPE;
            return MediaCodec.createEncoderByType(MediaController.VIDEO_MIME_TYPE);
        }
        return createEncoderByType;
    }

    public static void cutOfNalData(String str, ByteBuffer byteBuffer, MediaCodec.BufferInfo bufferInfo) {
        int i = str.equals("video/hevc") ? 3 : 1;
        if (bufferInfo.size > 100) {
            byteBuffer.position(bufferInfo.offset);
            byte[] bArr = new byte[100];
            byteBuffer.get(bArr);
            int i2 = 0;
            for (int i3 = 0; i3 < 96; i3++) {
                if (bArr[i3] == 0 && bArr[i3 + 1] == 0 && bArr[i3 + 2] == 0 && bArr[i3 + 3] == 1 && (i2 = i2 + 1) > i) {
                    bufferInfo.offset += i3;
                    bufferInfo.size -= i3;
                    return;
                }
            }
        }
    }

    private boolean isMediatekAvcEncoder(MediaCodec mediaCodec) {
        return mediaCodec.getName().equals("c2.mtk.avc.encoder");
    }

    /* loaded from: classes3.dex */
    public static class Muxer {
        public final MediaMuxer mediaMuxer;
        public final MP4Builder mp4Builder;
        private boolean started;

        public Muxer(MP4Builder mP4Builder) {
            this.started = false;
            this.mp4Builder = mP4Builder;
            this.mediaMuxer = null;
        }

        public Muxer(MediaMuxer mediaMuxer) {
            this.started = false;
            this.mp4Builder = null;
            this.mediaMuxer = mediaMuxer;
        }

        public int addTrack(MediaFormat mediaFormat, boolean z) {
            MediaMuxer mediaMuxer = this.mediaMuxer;
            if (mediaMuxer != null) {
                return mediaMuxer.addTrack(mediaFormat);
            }
            MP4Builder mP4Builder = this.mp4Builder;
            if (mP4Builder != null) {
                return mP4Builder.addTrack(mediaFormat, z);
            }
            return 0;
        }

        public long writeSampleData(int i, ByteBuffer byteBuffer, MediaCodec.BufferInfo bufferInfo, boolean z) throws Exception {
            MediaMuxer mediaMuxer = this.mediaMuxer;
            if (mediaMuxer != null) {
                if (!this.started) {
                    mediaMuxer.start();
                    this.started = true;
                }
                this.mediaMuxer.writeSampleData(i, byteBuffer, bufferInfo);
                return 0L;
            }
            MP4Builder mP4Builder = this.mp4Builder;
            if (mP4Builder != null) {
                return mP4Builder.writeSampleData(i, byteBuffer, bufferInfo, z);
            }
            return 0L;
        }

        public long getLastFrameTimestamp(int i, MediaCodec.BufferInfo bufferInfo) {
            if (this.mediaMuxer != null) {
                return bufferInfo.presentationTimeUs;
            }
            MP4Builder mP4Builder = this.mp4Builder;
            if (mP4Builder != null) {
                return mP4Builder.getLastFrameTimestamp(i);
            }
            return 0L;
        }

        public void start() {
            MediaMuxer mediaMuxer = this.mediaMuxer;
            if (mediaMuxer != null) {
                mediaMuxer.start();
            }
        }

        public void finishMovie() throws Exception {
            MediaMuxer mediaMuxer = this.mediaMuxer;
            if (mediaMuxer != null) {
                mediaMuxer.stop();
                this.mediaMuxer.release();
                return;
            }
            MP4Builder mP4Builder = this.mp4Builder;
            if (mP4Builder != null) {
                mP4Builder.finishMovie();
            }
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:73:0x0123, code lost:
        if (r9[r6 + 3] != 1) goto L62;
     */
    /* JADX WARN: Removed duplicated region for block: B:119:0x01d0  */
    /* JADX WARN: Removed duplicated region for block: B:121:0x01d5  */
    /* JADX WARN: Removed duplicated region for block: B:126:0x01ec  */
    /* JADX WARN: Removed duplicated region for block: B:127:0x01ee  */
    /* JADX WARN: Removed duplicated region for block: B:57:0x00df  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private long readAndWriteTracks(MediaExtractor mediaExtractor, Muxer muxer, MediaCodec.BufferInfo bufferInfo, long j, long j2, long j3, File file, boolean z) throws Exception {
        long j4;
        int i;
        int i2;
        int i3;
        int i4;
        int i5;
        int i6;
        int i7;
        int i8;
        int i9;
        boolean z2;
        int i10;
        int i11;
        boolean z3;
        long j5;
        byte[] array;
        int i12;
        int i13;
        int i14;
        int findTrack = MediaController.findTrack(mediaExtractor, false);
        if (z) {
            j4 = j3;
            i = MediaController.findTrack(mediaExtractor, true);
        } else {
            j4 = j3;
            i = -1;
        }
        float f = ((float) j4) / 1000.0f;
        if (findTrack >= 0) {
            mediaExtractor.selectTrack(findTrack);
            MediaFormat trackFormat = mediaExtractor.getTrackFormat(findTrack);
            i3 = muxer.addTrack(trackFormat, false);
            try {
                i14 = trackFormat.getInteger("max-input-size");
            } catch (Exception e) {
                FileLog.e(e);
                i14 = 0;
            }
            if (j > 0) {
                mediaExtractor.seekTo(j, 0);
            } else {
                mediaExtractor.seekTo(0L, 0);
            }
            i2 = i14;
        } else {
            i2 = 0;
            i3 = -1;
        }
        if (i >= 0) {
            mediaExtractor.selectTrack(i);
            MediaFormat trackFormat2 = mediaExtractor.getTrackFormat(i);
            if (trackFormat2.getString("mime").equals("audio/unknown")) {
                i4 = -1;
                i = -1;
            } else {
                i4 = muxer.addTrack(trackFormat2, true);
                try {
                    i2 = Math.max(trackFormat2.getInteger("max-input-size"), i2);
                } catch (Exception e2) {
                    FileLog.e(e2);
                }
                if (j > 0) {
                    mediaExtractor.seekTo(j, 0);
                } else {
                    mediaExtractor.seekTo(0L, 0);
                }
            }
        } else {
            i4 = -1;
        }
        if (i2 <= 0) {
            i2 = 65536;
        }
        ByteBuffer allocateDirect = ByteBuffer.allocateDirect(i2);
        if (i >= 0 || findTrack >= 0) {
            checkConversionCanceled();
            long j6 = 0;
            long j7 = -1;
            boolean z4 = false;
            while (!z4) {
                checkConversionCanceled();
                int i15 = Build.VERSION.SDK_INT;
                if (i15 >= 28) {
                    long sampleSize = mediaExtractor.getSampleSize();
                    i5 = i;
                    if (sampleSize > i2) {
                        int i16 = (int) (sampleSize + 1024);
                        i2 = i16;
                        allocateDirect = ByteBuffer.allocateDirect(i16);
                    }
                } else {
                    i5 = i;
                }
                bufferInfo.size = mediaExtractor.readSampleData(allocateDirect, 0);
                int sampleTrackIndex = mediaExtractor.getSampleTrackIndex();
                if (sampleTrackIndex == findTrack) {
                    i6 = i5;
                    i8 = i3;
                } else {
                    i6 = i5;
                    if (sampleTrackIndex == i6) {
                        i8 = i4;
                    } else {
                        i7 = -1;
                        i8 = -1;
                        if (i8 == i7) {
                            if (i15 < 21) {
                                allocateDirect.position(0);
                                allocateDirect.limit(bufferInfo.size);
                            }
                            if (sampleTrackIndex != i6 && (array = allocateDirect.array()) != null) {
                                int arrayOffset = allocateDirect.arrayOffset();
                                int limit = arrayOffset + allocateDirect.limit();
                                i9 = i4;
                                int i17 = arrayOffset;
                                int i18 = -1;
                                while (true) {
                                    z2 = z4;
                                    int i19 = limit - 4;
                                    if (i17 > i19) {
                                        break;
                                    }
                                    if (array[i17] == 0 && array[i17 + 1] == 0 && array[i17 + 2] == 0) {
                                        i12 = i2;
                                        i13 = i6;
                                    } else {
                                        i12 = i2;
                                        i13 = i6;
                                    }
                                    if (i17 != i19) {
                                        i17++;
                                        z4 = z2;
                                        i6 = i13;
                                        i2 = i12;
                                    }
                                    if (i18 != -1) {
                                        int i20 = (i17 - i18) - (i17 == i19 ? 0 : 4);
                                        array[i18] = (byte) (i20 >> 24);
                                        array[i18 + 1] = (byte) (i20 >> 16);
                                        array[i18 + 2] = (byte) (i20 >> 8);
                                        array[i18 + 3] = (byte) i20;
                                    }
                                    i18 = i17;
                                    i17++;
                                    z4 = z2;
                                    i6 = i13;
                                    i2 = i12;
                                }
                            } else {
                                i9 = i4;
                                z2 = z4;
                            }
                            i10 = i2;
                            i11 = i6;
                            if (bufferInfo.size >= 0) {
                                bufferInfo.presentationTimeUs = mediaExtractor.getSampleTime();
                                z3 = false;
                            } else {
                                bufferInfo.size = 0;
                                z3 = true;
                            }
                            if (bufferInfo.size > 0 && !z3) {
                                if (sampleTrackIndex == findTrack) {
                                    j5 = 0;
                                    if (j > 0 && j7 == -1) {
                                        j7 = bufferInfo.presentationTimeUs;
                                    }
                                } else {
                                    j5 = 0;
                                }
                                if (j2 < j5 || bufferInfo.presentationTimeUs < j2) {
                                    bufferInfo.offset = 0;
                                    bufferInfo.flags = mediaExtractor.getSampleFlags();
                                    long writeSampleData = muxer.writeSampleData(i8, allocateDirect, bufferInfo, false);
                                    if (writeSampleData != 0) {
                                        MediaController.VideoConvertorListener videoConvertorListener = this.callback;
                                        if (videoConvertorListener != null) {
                                            long j8 = bufferInfo.presentationTimeUs;
                                            long j9 = j8 - j7 > j6 ? j8 - j7 : j6;
                                            videoConvertorListener.didWriteData(writeSampleData, (((float) j9) / 1000.0f) / f);
                                            j6 = j9;
                                            if (!z3) {
                                                mediaExtractor.advance();
                                            }
                                        }
                                        if (!z3) {
                                        }
                                    }
                                } else {
                                    z3 = true;
                                }
                            }
                            if (!z3) {
                            }
                        } else {
                            i9 = i4;
                            z2 = z4;
                            i10 = i2;
                            i11 = i6;
                            if (sampleTrackIndex == -1) {
                                z3 = true;
                            } else {
                                mediaExtractor.advance();
                                z3 = false;
                            }
                        }
                        z4 = !z3 ? true : z2;
                        i4 = i9;
                        i = i11;
                        i2 = i10;
                    }
                }
                i7 = -1;
                if (i8 == i7) {
                }
                if (!z3) {
                }
                i4 = i9;
                i = i11;
                i2 = i10;
            }
            int i21 = i;
            if (findTrack >= 0) {
                mediaExtractor.unselectTrack(findTrack);
            }
            if (i21 >= 0) {
                mediaExtractor.unselectTrack(i21);
            }
            return j7;
        }
        return -1L;
    }

    private void checkConversionCanceled() {
        MediaController.VideoConvertorListener videoConvertorListener = this.callback;
        if (videoConvertorListener != null && videoConvertorListener.checkConversionCanceled()) {
            throw new ConversionCanceledException();
        }
    }

    private static String hdrFragmentShader(int i, int i2, int i3, int i4, boolean z, StoryEntry.HDRInfo hDRInfo) {
        String readRes;
        if (z) {
            if (hDRInfo.getHDRType() == 1) {
                readRes = RLottieDrawable.readRes(null, R.raw.hdr2sdr_hlg);
            } else {
                readRes = RLottieDrawable.readRes(null, R.raw.hdr2sdr_pq);
            }
            String replace = readRes.replace("$dstWidth", i3 + ".0");
            String replace2 = replace.replace("$dstHeight", i4 + ".0");
            return replace2 + "\nvarying vec2 vTextureCoord;\nvoid main() {\n    gl_FragColor = TEX(vTextureCoord);\n}";
        }
        return "precision mediump float;\nvarying vec2 vTextureCoord;\nuniform sampler2D sTexture;\nvoid main() {\n    gl_FragColor = texture2D(sTexture, vTextureCoord);\n}\n";
    }

    private static String createFragmentShader(int i, int i2, int i3, int i4, boolean z, int i5) {
        int clamp = (int) Utilities.clamp((Math.max(i, i2) / Math.max(i4, i3)) * 0.8f, 2.0f, 1.0f);
        if (clamp > 1 && SharedConfig.deviceIsAverage()) {
            clamp = 1;
        }
        int min = Math.min(i5, clamp);
        FileLog.d("source size " + i + "x" + i2 + "    dest size " + i3 + i4 + "   kernelRadius " + min);
        if (z) {
            return "#extension GL_OES_EGL_image_external : require\nprecision mediump float;\nvarying vec2 vTextureCoord;\nconst float kernel = " + min + ".0;\nconst float pixelSizeX = 1.0 / " + i + ".0;\nconst float pixelSizeY = 1.0 / " + i2 + ".0;\nuniform samplerExternalOES sTexture;\nvoid main() {\nvec3 accumulation = vec3(0);\nvec3 weightsum = vec3(0);\nfor (float x = -kernel; x <= kernel; x++){\n   for (float y = -kernel; y <= kernel; y++){\n       accumulation += texture2D(sTexture, vTextureCoord + vec2(x * pixelSizeX, y * pixelSizeY)).xyz;\n       weightsum += 1.0;\n   }\n}\ngl_FragColor = vec4(accumulation / weightsum, 1.0);\n}\n";
        }
        return "precision mediump float;\nvarying vec2 vTextureCoord;\nconst float kernel = " + min + ".0;\nconst float pixelSizeX = 1.0 / " + i2 + ".0;\nconst float pixelSizeY = 1.0 / " + i + ".0;\nuniform sampler2D sTexture;\nvoid main() {\nvec3 accumulation = vec3(0);\nvec3 weightsum = vec3(0);\nfor (float x = -kernel; x <= kernel; x++){\n   for (float y = -kernel; y <= kernel; y++){\n       accumulation += texture2D(sTexture, vTextureCoord + vec2(x * pixelSizeX, y * pixelSizeY)).xyz;\n       weightsum += 1.0;\n   }\n}\ngl_FragColor = vec4(accumulation / weightsum, 1.0);\n}\n";
    }

    /* loaded from: classes3.dex */
    public class ConversionCanceledException extends RuntimeException {
        public ConversionCanceledException() {
            super("canceled conversion");
        }
    }

    private MediaCodec getDecoderByFormat(MediaFormat mediaFormat) {
        if (mediaFormat == null) {
            throw new RuntimeException("getDecoderByFormat: format is null");
        }
        ArrayList arrayList = new ArrayList();
        String string = mediaFormat.getString("mime");
        arrayList.add(string);
        if ("video/dolby-vision".equals(string)) {
            arrayList.add("video/hevc");
            arrayList.add(MediaController.VIDEO_MIME_TYPE);
        }
        Exception exc = null;
        while (!arrayList.isEmpty()) {
            try {
                String str = (String) arrayList.remove(0);
                mediaFormat.setString("mime", str);
                return MediaCodec.createDecoderByType(str);
            } catch (Exception e) {
                if (exc == null) {
                    exc = e;
                }
            }
        }
        throw new RuntimeException(exc);
    }

    /* loaded from: classes3.dex */
    public static class ConvertVideoParams {
        int account;
        long avatarStartTime;
        String backgroundPath;
        int bitrate;
        String blurPath;
        File cacheFile;
        MediaController.VideoConvertorListener callback;
        MediaController.CropState cropState;
        long duration;
        long endTime;
        int framerate;
        Integer gradientBottomColor;
        Integer gradientTopColor;
        StoryEntry.HDRInfo hdrInfo;
        boolean isDark;
        boolean isPhoto;
        boolean isRound;
        boolean isSecret;
        boolean isSticker;
        boolean isStory;
        ArrayList<VideoEditedInfo.MediaEntity> mediaEntities;
        String messagePath;
        String messageVideoMaskPath;
        boolean muted;
        boolean needCompress;
        int originalBitrate;
        int originalHeight;
        int originalWidth;
        String paintPath;
        int resultHeight;
        int resultWidth;
        int rotationValue;
        MediaController.SavedFilterState savedFilterState;
        public ArrayList<MixedSoundInfo> soundInfos = new ArrayList<>();
        long startTime;
        String videoPath;
        float volume;
        long wallpaperPeerId;

        private ConvertVideoParams() {
        }

        public static ConvertVideoParams of(String str, File file, int i, boolean z, int i2, int i3, int i4, int i5, int i6, int i7, int i8, long j, long j2, long j3, boolean z2, long j4, MediaController.VideoConvertorListener videoConvertorListener, VideoEditedInfo videoEditedInfo) {
            ConvertVideoParams convertVideoParams = new ConvertVideoParams();
            convertVideoParams.videoPath = str;
            convertVideoParams.cacheFile = file;
            convertVideoParams.rotationValue = i;
            convertVideoParams.isSecret = z;
            convertVideoParams.originalWidth = i2;
            convertVideoParams.originalHeight = i3;
            convertVideoParams.resultWidth = i4;
            convertVideoParams.resultHeight = i5;
            convertVideoParams.framerate = i6;
            convertVideoParams.bitrate = i7;
            convertVideoParams.originalBitrate = i8;
            convertVideoParams.startTime = j;
            convertVideoParams.endTime = j2;
            convertVideoParams.avatarStartTime = j3;
            convertVideoParams.needCompress = z2;
            convertVideoParams.duration = j4;
            convertVideoParams.savedFilterState = videoEditedInfo.filterState;
            convertVideoParams.paintPath = videoEditedInfo.paintPath;
            convertVideoParams.blurPath = videoEditedInfo.blurPath;
            convertVideoParams.mediaEntities = videoEditedInfo.mediaEntities;
            convertVideoParams.isPhoto = videoEditedInfo.isPhoto;
            convertVideoParams.cropState = videoEditedInfo.cropState;
            convertVideoParams.isRound = videoEditedInfo.roundVideo;
            convertVideoParams.callback = videoConvertorListener;
            convertVideoParams.gradientTopColor = videoEditedInfo.gradientTopColor;
            convertVideoParams.gradientBottomColor = videoEditedInfo.gradientBottomColor;
            convertVideoParams.muted = videoEditedInfo.muted;
            convertVideoParams.volume = videoEditedInfo.volume;
            convertVideoParams.isStory = videoEditedInfo.isStory;
            convertVideoParams.hdrInfo = videoEditedInfo.hdrInfo;
            convertVideoParams.isDark = videoEditedInfo.isDark;
            convertVideoParams.wallpaperPeerId = videoEditedInfo.wallpaperPeerId;
            convertVideoParams.account = videoEditedInfo.account;
            convertVideoParams.messagePath = videoEditedInfo.messagePath;
            convertVideoParams.messageVideoMaskPath = videoEditedInfo.messageVideoMaskPath;
            convertVideoParams.backgroundPath = videoEditedInfo.backgroundPath;
            convertVideoParams.isSticker = videoEditedInfo.isSticker;
            return convertVideoParams;
        }
    }

    /* loaded from: classes3.dex */
    public static class MixedSoundInfo {
        final String audioFile;
        public long audioOffset;
        public long duration;
        public long startTime;
        public float volume = 1.0f;

        public MixedSoundInfo(String str) {
            this.audioFile = str;
        }
    }
}
