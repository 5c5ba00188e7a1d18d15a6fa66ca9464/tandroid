package org.telegram.messenger;

import android.annotation.SuppressLint;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.res.AssetFileDescriptor;
import android.database.Cursor;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.PorterDuff;
import android.graphics.PorterDuffColorFilter;
import android.graphics.drawable.BitmapDrawable;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.media.MediaCodecInfo;
import android.media.MediaMetadataRetriever;
import android.media.MediaPlayer;
import android.net.Uri;
import android.os.Build;
import android.os.Bundle;
import android.os.SystemClock;
import android.text.Spannable;
import android.text.TextUtils;
import android.util.Base64;
import android.util.SparseArray;
import android.webkit.MimeTypeMap;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;
import android.widget.Toast;
import androidx.collection.LongSparseArray;
import androidx.core.view.inputmethod.InputContentInfoCompat;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.InputStream;
import java.io.RandomAccessFile;
import java.nio.MappedByteBuffer;
import java.nio.channels.FileChannel;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.HashSet;
import java.util.List;
import java.util.Locale;
import java.util.Map;
import java.util.concurrent.CountDownLatch;
import java.util.concurrent.LinkedBlockingQueue;
import java.util.concurrent.ThreadPoolExecutor;
import java.util.concurrent.TimeUnit;
import org.json.JSONObject;
import org.telegram.messenger.MediaController;
import org.telegram.messenger.MessageObject;
import org.telegram.messenger.MessagesStorage;
import org.telegram.messenger.NotificationCenter;
import org.telegram.messenger.SendMessagesHelper;
import org.telegram.messenger.audioinfo.AudioInfo;
import org.telegram.messenger.support.SparseLongArray;
import org.telegram.tgnet.ConnectionsManager;
import org.telegram.tgnet.NativeByteBuffer;
import org.telegram.tgnet.QuickAckDelegate;
import org.telegram.tgnet.RequestDelegate;
import org.telegram.tgnet.SerializedData;
import org.telegram.tgnet.TLObject;
import org.telegram.tgnet.TLRPC$BotInlineMessage;
import org.telegram.tgnet.TLRPC$BotInlineResult;
import org.telegram.tgnet.TLRPC$Chat;
import org.telegram.tgnet.TLRPC$ChatFull;
import org.telegram.tgnet.TLRPC$DecryptedMessage;
import org.telegram.tgnet.TLRPC$DecryptedMessageAction;
import org.telegram.tgnet.TLRPC$DecryptedMessageMedia;
import org.telegram.tgnet.TLRPC$Document;
import org.telegram.tgnet.TLRPC$DocumentAttribute;
import org.telegram.tgnet.TLRPC$EncryptedChat;
import org.telegram.tgnet.TLRPC$FileLocation;
import org.telegram.tgnet.TLRPC$GeoPoint;
import org.telegram.tgnet.TLRPC$InputCheckPasswordSRP;
import org.telegram.tgnet.TLRPC$InputDocument;
import org.telegram.tgnet.TLRPC$InputEncryptedFile;
import org.telegram.tgnet.TLRPC$InputFile;
import org.telegram.tgnet.TLRPC$InputMedia;
import org.telegram.tgnet.TLRPC$InputPeer;
import org.telegram.tgnet.TLRPC$InputReplyTo;
import org.telegram.tgnet.TLRPC$InputStickerSet;
import org.telegram.tgnet.TLRPC$KeyboardButton;
import org.telegram.tgnet.TLRPC$Message;
import org.telegram.tgnet.TLRPC$MessageAction;
import org.telegram.tgnet.TLRPC$MessageEntity;
import org.telegram.tgnet.TLRPC$MessageFwdHeader;
import org.telegram.tgnet.TLRPC$MessageMedia;
import org.telegram.tgnet.TLRPC$MessageReplies;
import org.telegram.tgnet.TLRPC$MessageReplyHeader;
import org.telegram.tgnet.TLRPC$Peer;
import org.telegram.tgnet.TLRPC$Photo;
import org.telegram.tgnet.TLRPC$PhotoSize;
import org.telegram.tgnet.TLRPC$PollResults;
import org.telegram.tgnet.TLRPC$ReplyMarkup;
import org.telegram.tgnet.TLRPC$TL_account_getPassword;
import org.telegram.tgnet.TLRPC$TL_botInlineMediaResult;
import org.telegram.tgnet.TLRPC$TL_botInlineMessageMediaAuto;
import org.telegram.tgnet.TLRPC$TL_botInlineMessageMediaContact;
import org.telegram.tgnet.TLRPC$TL_botInlineMessageMediaGeo;
import org.telegram.tgnet.TLRPC$TL_botInlineMessageMediaInvoice;
import org.telegram.tgnet.TLRPC$TL_botInlineMessageMediaVenue;
import org.telegram.tgnet.TLRPC$TL_botInlineMessageMediaWebPage;
import org.telegram.tgnet.TLRPC$TL_botInlineMessageText;
import org.telegram.tgnet.TLRPC$TL_dataJSON;
import org.telegram.tgnet.TLRPC$TL_decryptedMessage;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionAbortKey;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionAcceptKey;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionCommitKey;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionDeleteMessages;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionFlushHistory;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionNoop;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionNotifyLayer;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionReadMessages;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionRequestKey;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionResend;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionScreenshotMessages;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionSetMessageTTL;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionTyping;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageMediaContact;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageMediaDocument;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageMediaEmpty;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageMediaExternalDocument;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageMediaGeoPoint;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageMediaPhoto;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageMediaVenue;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageMediaVideo;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageMediaWebPage;
import org.telegram.tgnet.TLRPC$TL_decryptedMessage_layer45;
import org.telegram.tgnet.TLRPC$TL_document;
import org.telegram.tgnet.TLRPC$TL_documentAttributeAnimated;
import org.telegram.tgnet.TLRPC$TL_documentAttributeAudio;
import org.telegram.tgnet.TLRPC$TL_documentAttributeFilename;
import org.telegram.tgnet.TLRPC$TL_documentAttributeHasStickers;
import org.telegram.tgnet.TLRPC$TL_documentAttributeImageSize;
import org.telegram.tgnet.TLRPC$TL_documentAttributeSticker;
import org.telegram.tgnet.TLRPC$TL_documentAttributeSticker_layer55;
import org.telegram.tgnet.TLRPC$TL_documentAttributeVideo;
import org.telegram.tgnet.TLRPC$TL_documentAttributeVideo_layer159;
import org.telegram.tgnet.TLRPC$TL_document_layer82;
import org.telegram.tgnet.TLRPC$TL_error;
import org.telegram.tgnet.TLRPC$TL_fileLocationUnavailable;
import org.telegram.tgnet.TLRPC$TL_fileLocation_layer82;
import org.telegram.tgnet.TLRPC$TL_forumTopic;
import org.telegram.tgnet.TLRPC$TL_game;
import org.telegram.tgnet.TLRPC$TL_geoPoint;
import org.telegram.tgnet.TLRPC$TL_inputCheckPasswordEmpty;
import org.telegram.tgnet.TLRPC$TL_inputDocument;
import org.telegram.tgnet.TLRPC$TL_inputEncryptedFile;
import org.telegram.tgnet.TLRPC$TL_inputGeoPoint;
import org.telegram.tgnet.TLRPC$TL_inputInvoiceMessage;
import org.telegram.tgnet.TLRPC$TL_inputMediaContact;
import org.telegram.tgnet.TLRPC$TL_inputMediaDice;
import org.telegram.tgnet.TLRPC$TL_inputMediaDocument;
import org.telegram.tgnet.TLRPC$TL_inputMediaEmpty;
import org.telegram.tgnet.TLRPC$TL_inputMediaGame;
import org.telegram.tgnet.TLRPC$TL_inputMediaGeoLive;
import org.telegram.tgnet.TLRPC$TL_inputMediaGeoPoint;
import org.telegram.tgnet.TLRPC$TL_inputMediaPhoto;
import org.telegram.tgnet.TLRPC$TL_inputMediaPoll;
import org.telegram.tgnet.TLRPC$TL_inputMediaStory;
import org.telegram.tgnet.TLRPC$TL_inputMediaUploadedDocument;
import org.telegram.tgnet.TLRPC$TL_inputMediaUploadedPhoto;
import org.telegram.tgnet.TLRPC$TL_inputMediaVenue;
import org.telegram.tgnet.TLRPC$TL_inputMediaWebPage;
import org.telegram.tgnet.TLRPC$TL_inputPeerChannel;
import org.telegram.tgnet.TLRPC$TL_inputPeerChat;
import org.telegram.tgnet.TLRPC$TL_inputPeerEmpty;
import org.telegram.tgnet.TLRPC$TL_inputPeerSelf;
import org.telegram.tgnet.TLRPC$TL_inputPeerUser;
import org.telegram.tgnet.TLRPC$TL_inputPhoto;
import org.telegram.tgnet.TLRPC$TL_inputReplyToMessage;
import org.telegram.tgnet.TLRPC$TL_inputReplyToStory;
import org.telegram.tgnet.TLRPC$TL_inputSingleMedia;
import org.telegram.tgnet.TLRPC$TL_inputStickerSetEmpty;
import org.telegram.tgnet.TLRPC$TL_inputStickerSetID;
import org.telegram.tgnet.TLRPC$TL_inputStickerSetItem;
import org.telegram.tgnet.TLRPC$TL_inputStickerSetShortName;
import org.telegram.tgnet.TLRPC$TL_inputUserSelf;
import org.telegram.tgnet.TLRPC$TL_keyboardButtonBuy;
import org.telegram.tgnet.TLRPC$TL_keyboardButtonGame;
import org.telegram.tgnet.TLRPC$TL_keyboardButtonRow;
import org.telegram.tgnet.TLRPC$TL_keyboardButtonSwitchInline;
import org.telegram.tgnet.TLRPC$TL_keyboardButtonUrl;
import org.telegram.tgnet.TLRPC$TL_keyboardButtonUrlAuth;
import org.telegram.tgnet.TLRPC$TL_message;
import org.telegram.tgnet.TLRPC$TL_messageActionScreenshotTaken;
import org.telegram.tgnet.TLRPC$TL_messageEncryptedAction;
import org.telegram.tgnet.TLRPC$TL_messageEntityBold;
import org.telegram.tgnet.TLRPC$TL_messageEntityCode;
import org.telegram.tgnet.TLRPC$TL_messageEntityCustomEmoji;
import org.telegram.tgnet.TLRPC$TL_messageEntityItalic;
import org.telegram.tgnet.TLRPC$TL_messageEntityPre;
import org.telegram.tgnet.TLRPC$TL_messageEntitySpoiler;
import org.telegram.tgnet.TLRPC$TL_messageEntityTextUrl;
import org.telegram.tgnet.TLRPC$TL_messageEntityUrl;
import org.telegram.tgnet.TLRPC$TL_messageFwdHeader;
import org.telegram.tgnet.TLRPC$TL_messageMediaContact;
import org.telegram.tgnet.TLRPC$TL_messageMediaDice;
import org.telegram.tgnet.TLRPC$TL_messageMediaDocument;
import org.telegram.tgnet.TLRPC$TL_messageMediaEmpty;
import org.telegram.tgnet.TLRPC$TL_messageMediaGame;
import org.telegram.tgnet.TLRPC$TL_messageMediaGeo;
import org.telegram.tgnet.TLRPC$TL_messageMediaGeoLive;
import org.telegram.tgnet.TLRPC$TL_messageMediaInvoice;
import org.telegram.tgnet.TLRPC$TL_messageMediaPhoto;
import org.telegram.tgnet.TLRPC$TL_messageMediaPoll;
import org.telegram.tgnet.TLRPC$TL_messageMediaVenue;
import org.telegram.tgnet.TLRPC$TL_messageMediaWebPage;
import org.telegram.tgnet.TLRPC$TL_messageReplies;
import org.telegram.tgnet.TLRPC$TL_messageReplyHeader;
import org.telegram.tgnet.TLRPC$TL_messageReplyStoryHeader;
import org.telegram.tgnet.TLRPC$TL_messageService;
import org.telegram.tgnet.TLRPC$TL_message_secret;
import org.telegram.tgnet.TLRPC$TL_messages_botCallbackAnswer;
import org.telegram.tgnet.TLRPC$TL_messages_editMessage;
import org.telegram.tgnet.TLRPC$TL_messages_forwardMessages;
import org.telegram.tgnet.TLRPC$TL_messages_getBotCallbackAnswer;
import org.telegram.tgnet.TLRPC$TL_messages_getStickerSet;
import org.telegram.tgnet.TLRPC$TL_messages_historyImport;
import org.telegram.tgnet.TLRPC$TL_messages_initHistoryImport;
import org.telegram.tgnet.TLRPC$TL_messages_messages;
import org.telegram.tgnet.TLRPC$TL_messages_requestUrlAuth;
import org.telegram.tgnet.TLRPC$TL_messages_sendEncryptedMultiMedia;
import org.telegram.tgnet.TLRPC$TL_messages_sendInlineBotResult;
import org.telegram.tgnet.TLRPC$TL_messages_sendMedia;
import org.telegram.tgnet.TLRPC$TL_messages_sendMessage;
import org.telegram.tgnet.TLRPC$TL_messages_sendMultiMedia;
import org.telegram.tgnet.TLRPC$TL_messages_sendReaction;
import org.telegram.tgnet.TLRPC$TL_messages_sendScreenshotNotification;
import org.telegram.tgnet.TLRPC$TL_messages_sendVote;
import org.telegram.tgnet.TLRPC$TL_messages_startHistoryImport;
import org.telegram.tgnet.TLRPC$TL_messages_stickerSet;
import org.telegram.tgnet.TLRPC$TL_messages_uploadImportedMedia;
import org.telegram.tgnet.TLRPC$TL_messages_uploadMedia;
import org.telegram.tgnet.TLRPC$TL_payments_getPaymentForm;
import org.telegram.tgnet.TLRPC$TL_payments_getPaymentReceipt;
import org.telegram.tgnet.TLRPC$TL_payments_paymentForm;
import org.telegram.tgnet.TLRPC$TL_payments_paymentReceipt;
import org.telegram.tgnet.TLRPC$TL_peerChannel;
import org.telegram.tgnet.TLRPC$TL_peerUser;
import org.telegram.tgnet.TLRPC$TL_photo;
import org.telegram.tgnet.TLRPC$TL_photoCachedSize;
import org.telegram.tgnet.TLRPC$TL_photoEmpty;
import org.telegram.tgnet.TLRPC$TL_photoPathSize;
import org.telegram.tgnet.TLRPC$TL_photoSize;
import org.telegram.tgnet.TLRPC$TL_photoSizeEmpty;
import org.telegram.tgnet.TLRPC$TL_photoSizeProgressive;
import org.telegram.tgnet.TLRPC$TL_photoSize_layer127;
import org.telegram.tgnet.TLRPC$TL_photoStrippedSize;
import org.telegram.tgnet.TLRPC$TL_pollAnswer;
import org.telegram.tgnet.TLRPC$TL_reactionCustomEmoji;
import org.telegram.tgnet.TLRPC$TL_reactionEmoji;
import org.telegram.tgnet.TLRPC$TL_replyInlineMarkup;
import org.telegram.tgnet.TLRPC$TL_restrictionReason;
import org.telegram.tgnet.TLRPC$TL_stickers_createStickerSet;
import org.telegram.tgnet.TLRPC$TL_updateEditChannelMessage;
import org.telegram.tgnet.TLRPC$TL_updateEditMessage;
import org.telegram.tgnet.TLRPC$TL_updateMessageID;
import org.telegram.tgnet.TLRPC$TL_updateNewChannelMessage;
import org.telegram.tgnet.TLRPC$TL_updateNewMessage;
import org.telegram.tgnet.TLRPC$TL_updateNewScheduledMessage;
import org.telegram.tgnet.TLRPC$TL_updateShortSentMessage;
import org.telegram.tgnet.TLRPC$TL_urlAuthResultAccepted;
import org.telegram.tgnet.TLRPC$TL_urlAuthResultDefault;
import org.telegram.tgnet.TLRPC$TL_urlAuthResultRequest;
import org.telegram.tgnet.TLRPC$TL_user;
import org.telegram.tgnet.TLRPC$TL_userContact_old2;
import org.telegram.tgnet.TLRPC$TL_userRequest_old2;
import org.telegram.tgnet.TLRPC$TL_webDocument;
import org.telegram.tgnet.TLRPC$TL_webPageEmpty;
import org.telegram.tgnet.TLRPC$TL_webPagePending;
import org.telegram.tgnet.TLRPC$TL_webPageUrlPending;
import org.telegram.tgnet.TLRPC$Update;
import org.telegram.tgnet.TLRPC$Updates;
import org.telegram.tgnet.TLRPC$User;
import org.telegram.tgnet.TLRPC$UserFull;
import org.telegram.tgnet.TLRPC$VideoSize;
import org.telegram.tgnet.TLRPC$WebDocument;
import org.telegram.tgnet.TLRPC$WebPage;
import org.telegram.tgnet.TLRPC$account_Password;
import org.telegram.tgnet.TLRPC$messages_Messages;
import org.telegram.tgnet.tl.TL_stories$StoryItem;
import org.telegram.ui.ActionBar.AlertDialog;
import org.telegram.ui.ActionBar.BaseFragment;
import org.telegram.ui.ActionBar.Theme;
import org.telegram.ui.Cells.ChatMessageCell;
import org.telegram.ui.ChatActivity;
import org.telegram.ui.Components.AlertsCreator;
import org.telegram.ui.Components.AnimatedEmojiSpan;
import org.telegram.ui.Components.AnimatedFileDrawable;
import org.telegram.ui.Components.BotWebViewSheet;
import org.telegram.ui.Components.LayoutHelper;
import org.telegram.ui.Components.Point;
import org.telegram.ui.Components.Reactions.ReactionsLayoutInBubble;
import org.telegram.ui.Components.Reactions.ReactionsUtils;
import org.telegram.ui.PaymentFormActivity;
import org.telegram.ui.Stories.MessageMediaStoryFull;
import org.telegram.ui.TwoStepVerificationActivity;
import org.telegram.ui.TwoStepVerificationSetupActivity;
import org.webrtc.MediaStreamTrack;
/* loaded from: classes.dex */
public class SendMessagesHelper extends BaseController implements NotificationCenter.NotificationCenterDelegate {
    private static final int ERROR_TYPE_FILE_TOO_LARGE = 2;
    private static final int ERROR_TYPE_UNSUPPORTED = 1;
    private static volatile SendMessagesHelper[] Instance = null;
    public static final int MEDIA_TYPE_DICE = 11;
    public static final int MEDIA_TYPE_STORY = 12;
    private static DispatchQueue mediaSendQueue = new DispatchQueue("mediaSendQueue");
    private static ThreadPoolExecutor mediaSendThreadPool;
    private HashMap<String, ArrayList<DelayedMessage>> delayedMessages;
    private SparseArray<TLRPC$Message> editingMessages;
    private HashMap<String, ImportingHistory> importingHistoryFiles;
    private LongSparseArray<ImportingHistory> importingHistoryMap;
    private HashMap<String, ImportingStickers> importingStickersFiles;
    private HashMap<String, ImportingStickers> importingStickersMap;
    private LocationProvider locationProvider;
    private SparseArray<TLRPC$Message> sendingMessages;
    private LongSparseArray<Integer> sendingMessagesIdDialogs;
    private SparseArray<MessageObject> unsentMessages;
    private SparseArray<TLRPC$Message> uploadMessages;
    private LongSparseArray<Integer> uploadingMessagesIdDialogs;
    private LongSparseArray<Long> voteSendTime;
    private HashMap<String, Boolean> waitingForCallback;
    private HashMap<String, List<String>> waitingForCallbackMap;
    private HashMap<String, MessageObject> waitingForLocation;
    private HashMap<String, byte[]> waitingForVote;

    /* loaded from: classes.dex */
    public static class SendingMediaInfo {
        public boolean canDeleteAfter;
        public String caption;
        public TLRPC$VideoSize emojiMarkup;
        public ArrayList<TLRPC$MessageEntity> entities;
        public boolean forceImage;
        public boolean hasMediaSpoilers;
        public TLRPC$BotInlineResult inlineResult;
        public boolean isVideo;
        public ArrayList<TLRPC$InputDocument> masks;
        public String paintPath;
        public HashMap<String, String> params;
        public String path;
        public MediaController.SearchImage searchImage;
        public String thumbPath;
        public int ttl;
        public boolean updateStickersOrder;
        public Uri uri;
        public VideoEditedInfo videoEditedInfo;
    }

    public static boolean checkUpdateStickersOrder(CharSequence charSequence) {
        if (charSequence instanceof Spannable) {
            for (AnimatedEmojiSpan animatedEmojiSpan : (AnimatedEmojiSpan[]) ((Spannable) charSequence).getSpans(0, charSequence.length(), AnimatedEmojiSpan.class)) {
                if (animatedEmojiSpan.fromEmojiKeyboard) {
                    return true;
                }
            }
        }
        return false;
    }

    public TLRPC$InputReplyTo createReplyInput(TL_stories$StoryItem tL_stories$StoryItem) {
        TLRPC$TL_inputReplyToStory tLRPC$TL_inputReplyToStory = new TLRPC$TL_inputReplyToStory();
        tLRPC$TL_inputReplyToStory.story_id = tL_stories$StoryItem.id;
        tLRPC$TL_inputReplyToStory.user_id = getMessagesController().getInputUser(tL_stories$StoryItem.dialogId);
        return tLRPC$TL_inputReplyToStory;
    }

    public TLRPC$InputReplyTo createReplyInput(int i) {
        return createReplyInput(null, i, 0, null);
    }

    public TLRPC$InputReplyTo createReplyInput(TLRPC$InputPeer tLRPC$InputPeer, int i, int i2, ChatActivity.ReplyQuote replyQuote) {
        MessageObject messageObject;
        TLRPC$TL_inputReplyToMessage tLRPC$TL_inputReplyToMessage = new TLRPC$TL_inputReplyToMessage();
        tLRPC$TL_inputReplyToMessage.reply_to_msg_id = i;
        if (i2 != 0) {
            tLRPC$TL_inputReplyToMessage.flags |= 1;
            tLRPC$TL_inputReplyToMessage.top_msg_id = i2;
        }
        if (replyQuote != null) {
            String text = replyQuote.getText();
            tLRPC$TL_inputReplyToMessage.quote_text = text;
            if (!TextUtils.isEmpty(text)) {
                tLRPC$TL_inputReplyToMessage.flags |= 4;
                ArrayList<TLRPC$MessageEntity> entities = replyQuote.getEntities();
                tLRPC$TL_inputReplyToMessage.quote_entities = entities;
                if (entities != null && !entities.isEmpty()) {
                    tLRPC$TL_inputReplyToMessage.quote_entities = new ArrayList<>(tLRPC$TL_inputReplyToMessage.quote_entities);
                    tLRPC$TL_inputReplyToMessage.flags |= 8;
                }
            }
        }
        if (replyQuote != null && (messageObject = replyQuote.message) != null) {
            TLRPC$InputPeer inputPeer = getMessagesController().getInputPeer(messageObject.getDialogId());
            if (inputPeer != null && !MessageObject.peersEqual(inputPeer, tLRPC$InputPeer)) {
                tLRPC$TL_inputReplyToMessage.flags |= 2;
                tLRPC$TL_inputReplyToMessage.reply_to_peer_id = inputPeer;
            }
        }
        return tLRPC$TL_inputReplyToMessage;
    }

    public TLRPC$InputReplyTo createReplyInput(TLRPC$TL_messageReplyHeader tLRPC$TL_messageReplyHeader) {
        TLRPC$TL_inputReplyToMessage tLRPC$TL_inputReplyToMessage = new TLRPC$TL_inputReplyToMessage();
        tLRPC$TL_inputReplyToMessage.reply_to_msg_id = tLRPC$TL_messageReplyHeader.reply_to_msg_id;
        int i = tLRPC$TL_messageReplyHeader.flags;
        if ((i & 2) != 0) {
            tLRPC$TL_inputReplyToMessage.flags |= 1;
            tLRPC$TL_inputReplyToMessage.top_msg_id = tLRPC$TL_messageReplyHeader.reply_to_top_id;
        }
        if ((i & 1) != 0) {
            tLRPC$TL_inputReplyToMessage.flags |= 2;
            tLRPC$TL_inputReplyToMessage.reply_to_peer_id = MessagesController.getInstance(this.currentAccount).getInputPeer(tLRPC$TL_messageReplyHeader.reply_to_peer_id);
        }
        if (tLRPC$TL_messageReplyHeader.quote) {
            int i2 = tLRPC$TL_messageReplyHeader.flags;
            if ((i2 & 64) != 0) {
                tLRPC$TL_inputReplyToMessage.flags |= 4;
                tLRPC$TL_inputReplyToMessage.quote_text = tLRPC$TL_messageReplyHeader.quote_text;
            }
            if ((i2 & 128) != 0) {
                tLRPC$TL_inputReplyToMessage.flags |= 8;
                tLRPC$TL_inputReplyToMessage.quote_entities = tLRPC$TL_messageReplyHeader.quote_entities;
            }
        }
        return tLRPC$TL_inputReplyToMessage;
    }

    /* loaded from: classes.dex */
    public class ImportingHistory {
        public long dialogId;
        public double estimatedUploadSpeed;
        public String historyPath;
        public long importId;
        private long lastUploadSize;
        private long lastUploadTime;
        public TLRPC$InputPeer peer;
        public long totalSize;
        public int uploadProgress;
        public long uploadedSize;
        public ArrayList<Uri> mediaPaths = new ArrayList<>();
        public HashSet<String> uploadSet = new HashSet<>();
        public HashMap<String, Float> uploadProgresses = new HashMap<>();
        public HashMap<String, Long> uploadSize = new HashMap<>();
        public ArrayList<String> uploadMedia = new ArrayList<>();
        public int timeUntilFinish = ConnectionsManager.DEFAULT_DATACENTER_ID;

        public ImportingHistory() {
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void initImport(TLRPC$InputFile tLRPC$InputFile) {
            TLRPC$TL_messages_initHistoryImport tLRPC$TL_messages_initHistoryImport = new TLRPC$TL_messages_initHistoryImport();
            tLRPC$TL_messages_initHistoryImport.file = tLRPC$InputFile;
            tLRPC$TL_messages_initHistoryImport.media_count = this.mediaPaths.size();
            tLRPC$TL_messages_initHistoryImport.peer = this.peer;
            SendMessagesHelper.this.getConnectionsManager().sendRequest(tLRPC$TL_messages_initHistoryImport, new 1(tLRPC$TL_messages_initHistoryImport), 2);
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        /* loaded from: classes.dex */
        public class 1 implements RequestDelegate {
            final /* synthetic */ TLRPC$TL_messages_initHistoryImport val$req;

            1(TLRPC$TL_messages_initHistoryImport tLRPC$TL_messages_initHistoryImport) {
                this.val$req = tLRPC$TL_messages_initHistoryImport;
            }

            @Override // org.telegram.tgnet.RequestDelegate
            public void run(final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
                final TLRPC$TL_messages_initHistoryImport tLRPC$TL_messages_initHistoryImport = this.val$req;
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$ImportingHistory$1$$ExternalSyntheticLambda0
                    @Override // java.lang.Runnable
                    public final void run() {
                        SendMessagesHelper.ImportingHistory.1.this.lambda$run$0(tLObject, tLRPC$TL_messages_initHistoryImport, tLRPC$TL_error);
                    }
                });
            }

            /* JADX INFO: Access modifiers changed from: private */
            public /* synthetic */ void lambda$run$0(TLObject tLObject, TLRPC$TL_messages_initHistoryImport tLRPC$TL_messages_initHistoryImport, TLRPC$TL_error tLRPC$TL_error) {
                if (!(tLObject instanceof TLRPC$TL_messages_historyImport)) {
                    SendMessagesHelper.this.importingHistoryMap.remove(ImportingHistory.this.dialogId);
                    SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.historyImportProgressChanged, Long.valueOf(ImportingHistory.this.dialogId), tLRPC$TL_messages_initHistoryImport, tLRPC$TL_error);
                    return;
                }
                ImportingHistory importingHistory = ImportingHistory.this;
                importingHistory.importId = ((TLRPC$TL_messages_historyImport) tLObject).id;
                importingHistory.uploadSet.remove(importingHistory.historyPath);
                SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.historyImportProgressChanged, Long.valueOf(ImportingHistory.this.dialogId));
                if (ImportingHistory.this.uploadSet.isEmpty()) {
                    ImportingHistory.this.startImport();
                }
                ImportingHistory.this.lastUploadTime = SystemClock.elapsedRealtime();
                int size = ImportingHistory.this.uploadMedia.size();
                for (int i = 0; i < size; i++) {
                    SendMessagesHelper.this.getFileLoader().uploadFile(ImportingHistory.this.uploadMedia.get(i), false, true, ConnectionsManager.FileTypeFile);
                }
            }
        }

        public long getUploadedCount() {
            return this.uploadedSize;
        }

        public long getTotalCount() {
            return this.totalSize;
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void onFileFailedToUpload(String str) {
            if (str.equals(this.historyPath)) {
                SendMessagesHelper.this.importingHistoryMap.remove(this.dialogId);
                TLRPC$TL_error tLRPC$TL_error = new TLRPC$TL_error();
                tLRPC$TL_error.code = 400;
                tLRPC$TL_error.text = "IMPORT_UPLOAD_FAILED";
                SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.historyImportProgressChanged, Long.valueOf(this.dialogId), new TLRPC$TL_messages_initHistoryImport(), tLRPC$TL_error);
                return;
            }
            this.uploadSet.remove(str);
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void addUploadProgress(String str, long j, float f) {
            this.uploadProgresses.put(str, Float.valueOf(f));
            this.uploadSize.put(str, Long.valueOf(j));
            this.uploadedSize = 0L;
            for (Map.Entry<String, Long> entry : this.uploadSize.entrySet()) {
                this.uploadedSize += entry.getValue().longValue();
            }
            long elapsedRealtime = SystemClock.elapsedRealtime();
            if (!str.equals(this.historyPath)) {
                long j2 = this.uploadedSize;
                long j3 = this.lastUploadSize;
                if (j2 != j3) {
                    long j4 = this.lastUploadTime;
                    if (elapsedRealtime != j4) {
                        double d = elapsedRealtime - j4;
                        Double.isNaN(d);
                        double d2 = j2 - j3;
                        Double.isNaN(d2);
                        double d3 = d2 / (d / 1000.0d);
                        double d4 = this.estimatedUploadSpeed;
                        if (d4 == 0.0d) {
                            this.estimatedUploadSpeed = d3;
                        } else {
                            this.estimatedUploadSpeed = (d3 * 0.01d) + (0.99d * d4);
                        }
                        double d5 = (this.totalSize - j2) * 1000;
                        double d6 = this.estimatedUploadSpeed;
                        Double.isNaN(d5);
                        this.timeUntilFinish = (int) (d5 / d6);
                        this.lastUploadSize = j2;
                        this.lastUploadTime = elapsedRealtime;
                    }
                }
            }
            int uploadedCount = (int) ((((float) getUploadedCount()) / ((float) getTotalCount())) * 100.0f);
            if (this.uploadProgress != uploadedCount) {
                this.uploadProgress = uploadedCount;
                SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.historyImportProgressChanged, Long.valueOf(this.dialogId));
            }
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void onMediaImport(String str, long j, TLRPC$InputFile tLRPC$InputFile) {
            addUploadProgress(str, j, 1.0f);
            TLRPC$TL_messages_uploadImportedMedia tLRPC$TL_messages_uploadImportedMedia = new TLRPC$TL_messages_uploadImportedMedia();
            tLRPC$TL_messages_uploadImportedMedia.peer = this.peer;
            tLRPC$TL_messages_uploadImportedMedia.import_id = this.importId;
            tLRPC$TL_messages_uploadImportedMedia.file_name = new File(str).getName();
            MimeTypeMap singleton = MimeTypeMap.getSingleton();
            int lastIndexOf = tLRPC$TL_messages_uploadImportedMedia.file_name.lastIndexOf(46);
            String lowerCase = lastIndexOf != -1 ? tLRPC$TL_messages_uploadImportedMedia.file_name.substring(lastIndexOf + 1).toLowerCase() : "txt";
            String mimeTypeFromExtension = singleton.getMimeTypeFromExtension(lowerCase);
            if (mimeTypeFromExtension == null) {
                if ("opus".equals(lowerCase)) {
                    mimeTypeFromExtension = "audio/opus";
                } else {
                    mimeTypeFromExtension = "webp".equals(lowerCase) ? "image/webp" : "text/plain";
                }
            }
            if (mimeTypeFromExtension.equals("image/jpg") || mimeTypeFromExtension.equals("image/jpeg")) {
                TLRPC$TL_inputMediaUploadedPhoto tLRPC$TL_inputMediaUploadedPhoto = new TLRPC$TL_inputMediaUploadedPhoto();
                tLRPC$TL_inputMediaUploadedPhoto.file = tLRPC$InputFile;
                tLRPC$TL_messages_uploadImportedMedia.media = tLRPC$TL_inputMediaUploadedPhoto;
            } else {
                TLRPC$TL_inputMediaUploadedDocument tLRPC$TL_inputMediaUploadedDocument = new TLRPC$TL_inputMediaUploadedDocument();
                tLRPC$TL_inputMediaUploadedDocument.file = tLRPC$InputFile;
                tLRPC$TL_inputMediaUploadedDocument.mime_type = mimeTypeFromExtension;
                tLRPC$TL_messages_uploadImportedMedia.media = tLRPC$TL_inputMediaUploadedDocument;
            }
            SendMessagesHelper.this.getConnectionsManager().sendRequest(tLRPC$TL_messages_uploadImportedMedia, new 2(str), 2);
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        /* loaded from: classes.dex */
        public class 2 implements RequestDelegate {
            final /* synthetic */ String val$path;

            2(String str) {
                this.val$path = str;
            }

            @Override // org.telegram.tgnet.RequestDelegate
            public void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                final String str = this.val$path;
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$ImportingHistory$2$$ExternalSyntheticLambda0
                    @Override // java.lang.Runnable
                    public final void run() {
                        SendMessagesHelper.ImportingHistory.2.this.lambda$run$0(str);
                    }
                });
            }

            /* JADX INFO: Access modifiers changed from: private */
            public /* synthetic */ void lambda$run$0(String str) {
                ImportingHistory.this.uploadSet.remove(str);
                SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.historyImportProgressChanged, Long.valueOf(ImportingHistory.this.dialogId));
                if (ImportingHistory.this.uploadSet.isEmpty()) {
                    ImportingHistory.this.startImport();
                }
            }
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void startImport() {
            TLRPC$TL_messages_startHistoryImport tLRPC$TL_messages_startHistoryImport = new TLRPC$TL_messages_startHistoryImport();
            tLRPC$TL_messages_startHistoryImport.peer = this.peer;
            tLRPC$TL_messages_startHistoryImport.import_id = this.importId;
            SendMessagesHelper.this.getConnectionsManager().sendRequest(tLRPC$TL_messages_startHistoryImport, new 3(tLRPC$TL_messages_startHistoryImport));
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        /* loaded from: classes.dex */
        public class 3 implements RequestDelegate {
            final /* synthetic */ TLRPC$TL_messages_startHistoryImport val$req;

            3(TLRPC$TL_messages_startHistoryImport tLRPC$TL_messages_startHistoryImport) {
                this.val$req = tLRPC$TL_messages_startHistoryImport;
            }

            @Override // org.telegram.tgnet.RequestDelegate
            public void run(TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
                final TLRPC$TL_messages_startHistoryImport tLRPC$TL_messages_startHistoryImport = this.val$req;
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$ImportingHistory$3$$ExternalSyntheticLambda0
                    @Override // java.lang.Runnable
                    public final void run() {
                        SendMessagesHelper.ImportingHistory.3.this.lambda$run$0(tLRPC$TL_error, tLRPC$TL_messages_startHistoryImport);
                    }
                });
            }

            /* JADX INFO: Access modifiers changed from: private */
            public /* synthetic */ void lambda$run$0(TLRPC$TL_error tLRPC$TL_error, TLRPC$TL_messages_startHistoryImport tLRPC$TL_messages_startHistoryImport) {
                SendMessagesHelper.this.importingHistoryMap.remove(ImportingHistory.this.dialogId);
                if (tLRPC$TL_error == null) {
                    SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.historyImportProgressChanged, Long.valueOf(ImportingHistory.this.dialogId));
                } else {
                    SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.historyImportProgressChanged, Long.valueOf(ImportingHistory.this.dialogId), tLRPC$TL_messages_startHistoryImport, tLRPC$TL_error);
                }
            }
        }

        public void setImportProgress(int i) {
            if (i == 100) {
                SendMessagesHelper.this.importingHistoryMap.remove(this.dialogId);
            }
            SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.historyImportProgressChanged, Long.valueOf(this.dialogId));
        }
    }

    /* loaded from: classes.dex */
    public static class ImportingSticker {
        public boolean animated;
        public String emoji;
        public TLRPC$TL_inputStickerSetItem item;
        public String mimeType;
        public String path;
        public boolean validated;

        public void uploadMedia(int i, TLRPC$InputFile tLRPC$InputFile, Runnable runnable) {
            TLRPC$TL_messages_uploadMedia tLRPC$TL_messages_uploadMedia = new TLRPC$TL_messages_uploadMedia();
            tLRPC$TL_messages_uploadMedia.peer = new TLRPC$TL_inputPeerSelf();
            TLRPC$TL_inputMediaUploadedDocument tLRPC$TL_inputMediaUploadedDocument = new TLRPC$TL_inputMediaUploadedDocument();
            tLRPC$TL_messages_uploadMedia.media = tLRPC$TL_inputMediaUploadedDocument;
            tLRPC$TL_inputMediaUploadedDocument.file = tLRPC$InputFile;
            tLRPC$TL_inputMediaUploadedDocument.mime_type = this.mimeType;
            ConnectionsManager.getInstance(i).sendRequest(tLRPC$TL_messages_uploadMedia, new 1(runnable), 2);
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        /* loaded from: classes.dex */
        public class 1 implements RequestDelegate {
            final /* synthetic */ Runnable val$onFinish;

            1(Runnable runnable) {
                this.val$onFinish = runnable;
            }

            @Override // org.telegram.tgnet.RequestDelegate
            public void run(final TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                final Runnable runnable = this.val$onFinish;
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$ImportingSticker$1$$ExternalSyntheticLambda0
                    @Override // java.lang.Runnable
                    public final void run() {
                        SendMessagesHelper.ImportingSticker.1.this.lambda$run$0(tLObject, runnable);
                    }
                });
            }

            /* JADX INFO: Access modifiers changed from: private */
            public /* synthetic */ void lambda$run$0(TLObject tLObject, Runnable runnable) {
                if (tLObject instanceof TLRPC$TL_messageMediaDocument) {
                    ImportingSticker.this.item = new TLRPC$TL_inputStickerSetItem();
                    ImportingSticker.this.item.document = new TLRPC$TL_inputDocument();
                    ImportingSticker importingSticker = ImportingSticker.this;
                    TLRPC$TL_inputStickerSetItem tLRPC$TL_inputStickerSetItem = importingSticker.item;
                    TLRPC$InputDocument tLRPC$InputDocument = tLRPC$TL_inputStickerSetItem.document;
                    TLRPC$Document tLRPC$Document = ((TLRPC$TL_messageMediaDocument) tLObject).document;
                    tLRPC$InputDocument.id = tLRPC$Document.id;
                    tLRPC$InputDocument.access_hash = tLRPC$Document.access_hash;
                    tLRPC$InputDocument.file_reference = tLRPC$Document.file_reference;
                    String str = importingSticker.emoji;
                    if (str == null) {
                        str = "";
                    }
                    tLRPC$TL_inputStickerSetItem.emoji = str;
                    importingSticker.mimeType = tLRPC$Document.mime_type;
                } else {
                    ImportingSticker importingSticker2 = ImportingSticker.this;
                    if (importingSticker2.animated) {
                        importingSticker2.mimeType = "application/x-bad-tgsticker";
                    }
                }
                runnable.run();
            }
        }
    }

    /* loaded from: classes.dex */
    public class ImportingStickers {
        public double estimatedUploadSpeed;
        private long lastUploadSize;
        private long lastUploadTime;
        public String shortName;
        public String software;
        public String title;
        public long totalSize;
        public int uploadProgress;
        public long uploadedSize;
        public HashMap<String, ImportingSticker> uploadSet = new HashMap<>();
        public HashMap<String, Float> uploadProgresses = new HashMap<>();
        public HashMap<String, Long> uploadSize = new HashMap<>();
        public ArrayList<ImportingSticker> uploadMedia = new ArrayList<>();
        public int timeUntilFinish = ConnectionsManager.DEFAULT_DATACENTER_ID;

        public ImportingStickers() {
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void initImport() {
            SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.stickersImportProgressChanged, this.shortName);
            this.lastUploadTime = SystemClock.elapsedRealtime();
            int size = this.uploadMedia.size();
            for (int i = 0; i < size; i++) {
                SendMessagesHelper.this.getFileLoader().uploadFile(this.uploadMedia.get(i).path, false, true, ConnectionsManager.FileTypeFile);
            }
        }

        public long getUploadedCount() {
            return this.uploadedSize;
        }

        public long getTotalCount() {
            return this.totalSize;
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void onFileFailedToUpload(String str) {
            ImportingSticker remove = this.uploadSet.remove(str);
            if (remove != null) {
                this.uploadMedia.remove(remove);
            }
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void addUploadProgress(String str, long j, float f) {
            this.uploadProgresses.put(str, Float.valueOf(f));
            this.uploadSize.put(str, Long.valueOf(j));
            this.uploadedSize = 0L;
            for (Map.Entry<String, Long> entry : this.uploadSize.entrySet()) {
                this.uploadedSize += entry.getValue().longValue();
            }
            long elapsedRealtime = SystemClock.elapsedRealtime();
            long j2 = this.uploadedSize;
            long j3 = this.lastUploadSize;
            if (j2 != j3) {
                long j4 = this.lastUploadTime;
                if (elapsedRealtime != j4) {
                    double d = elapsedRealtime - j4;
                    Double.isNaN(d);
                    double d2 = j2 - j3;
                    Double.isNaN(d2);
                    double d3 = d2 / (d / 1000.0d);
                    double d4 = this.estimatedUploadSpeed;
                    if (d4 == 0.0d) {
                        this.estimatedUploadSpeed = d3;
                    } else {
                        this.estimatedUploadSpeed = (d3 * 0.01d) + (0.99d * d4);
                    }
                    double d5 = (this.totalSize - j2) * 1000;
                    double d6 = this.estimatedUploadSpeed;
                    Double.isNaN(d5);
                    this.timeUntilFinish = (int) (d5 / d6);
                    this.lastUploadSize = j2;
                    this.lastUploadTime = elapsedRealtime;
                }
            }
            int uploadedCount = (int) ((((float) getUploadedCount()) / ((float) getTotalCount())) * 100.0f);
            if (this.uploadProgress != uploadedCount) {
                this.uploadProgress = uploadedCount;
                SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.stickersImportProgressChanged, this.shortName);
            }
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void onMediaImport(final String str, long j, TLRPC$InputFile tLRPC$InputFile) {
            addUploadProgress(str, j, 1.0f);
            ImportingSticker importingSticker = this.uploadSet.get(str);
            if (importingSticker == null) {
                return;
            }
            importingSticker.uploadMedia(SendMessagesHelper.this.currentAccount, tLRPC$InputFile, new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$ImportingStickers$$ExternalSyntheticLambda0
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.ImportingStickers.this.lambda$onMediaImport$0(str);
                }
            });
        }

        /* JADX INFO: Access modifiers changed from: private */
        public /* synthetic */ void lambda$onMediaImport$0(String str) {
            this.uploadSet.remove(str);
            SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.stickersImportProgressChanged, this.shortName);
            if (this.uploadSet.isEmpty()) {
                startImport();
            }
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void startImport() {
            TLRPC$TL_stickers_createStickerSet tLRPC$TL_stickers_createStickerSet = new TLRPC$TL_stickers_createStickerSet();
            tLRPC$TL_stickers_createStickerSet.user_id = new TLRPC$TL_inputUserSelf();
            tLRPC$TL_stickers_createStickerSet.title = this.title;
            tLRPC$TL_stickers_createStickerSet.short_name = this.shortName;
            tLRPC$TL_stickers_createStickerSet.animated = this.uploadMedia.get(0).animated;
            String str = this.software;
            if (str != null) {
                tLRPC$TL_stickers_createStickerSet.software = str;
                tLRPC$TL_stickers_createStickerSet.flags |= 8;
            }
            int size = this.uploadMedia.size();
            for (int i = 0; i < size; i++) {
                TLRPC$TL_inputStickerSetItem tLRPC$TL_inputStickerSetItem = this.uploadMedia.get(i).item;
                if (tLRPC$TL_inputStickerSetItem != null) {
                    tLRPC$TL_stickers_createStickerSet.stickers.add(tLRPC$TL_inputStickerSetItem);
                }
            }
            SendMessagesHelper.this.getConnectionsManager().sendRequest(tLRPC$TL_stickers_createStickerSet, new 1(tLRPC$TL_stickers_createStickerSet));
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        /* loaded from: classes.dex */
        public class 1 implements RequestDelegate {
            final /* synthetic */ TLRPC$TL_stickers_createStickerSet val$req;

            1(TLRPC$TL_stickers_createStickerSet tLRPC$TL_stickers_createStickerSet) {
                this.val$req = tLRPC$TL_stickers_createStickerSet;
            }

            @Override // org.telegram.tgnet.RequestDelegate
            public void run(final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
                final TLRPC$TL_stickers_createStickerSet tLRPC$TL_stickers_createStickerSet = this.val$req;
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$ImportingStickers$1$$ExternalSyntheticLambda0
                    @Override // java.lang.Runnable
                    public final void run() {
                        SendMessagesHelper.ImportingStickers.1.this.lambda$run$0(tLRPC$TL_error, tLRPC$TL_stickers_createStickerSet, tLObject);
                    }
                });
            }

            /* JADX INFO: Access modifiers changed from: private */
            public /* synthetic */ void lambda$run$0(TLRPC$TL_error tLRPC$TL_error, TLRPC$TL_stickers_createStickerSet tLRPC$TL_stickers_createStickerSet, TLObject tLObject) {
                SendMessagesHelper.this.importingStickersMap.remove(ImportingStickers.this.shortName);
                if (tLRPC$TL_error == null) {
                    SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.stickersImportProgressChanged, ImportingStickers.this.shortName);
                } else {
                    SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.stickersImportProgressChanged, ImportingStickers.this.shortName, tLRPC$TL_stickers_createStickerSet, tLRPC$TL_error);
                }
                if (tLObject instanceof TLRPC$TL_messages_stickerSet) {
                    NotificationCenter notificationCenter = SendMessagesHelper.this.getNotificationCenter();
                    int i = NotificationCenter.stickersImportComplete;
                    if (notificationCenter.hasObservers(i)) {
                        SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(i, tLObject);
                    } else {
                        SendMessagesHelper.this.getMediaDataController().toggleStickerSet(null, tLObject, 2, null, false, false);
                    }
                }
            }
        }

        public void setImportProgress(int i) {
            if (i == 100) {
                SendMessagesHelper.this.importingStickersMap.remove(this.shortName);
            }
            SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.stickersImportProgressChanged, this.shortName);
        }
    }

    static {
        int availableProcessors = Build.VERSION.SDK_INT >= 17 ? Runtime.getRuntime().availableProcessors() : 2;
        mediaSendThreadPool = new ThreadPoolExecutor(availableProcessors, availableProcessors, 60L, TimeUnit.SECONDS, new LinkedBlockingQueue());
        Instance = new SendMessagesHelper[4];
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: classes.dex */
    public static class MediaSendPrepareWorker {
        public volatile String parentObject;
        public volatile TLRPC$TL_photo photo;
        public CountDownLatch sync;

        private MediaSendPrepareWorker() {
        }
    }

    @SuppressLint({"MissingPermission"})
    /* loaded from: classes.dex */
    public static class LocationProvider {
        private LocationProviderDelegate delegate;
        private Location lastKnownLocation;
        private LocationManager locationManager;
        private Runnable locationQueryCancelRunnable;
        private GpsLocationListener gpsLocationListener = new GpsLocationListener();
        private GpsLocationListener networkLocationListener = new GpsLocationListener();

        /* loaded from: classes.dex */
        public interface LocationProviderDelegate {
            void onLocationAcquired(Location location);

            void onUnableLocationAcquire();
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* loaded from: classes.dex */
        public class GpsLocationListener implements LocationListener {
            @Override // android.location.LocationListener
            public void onProviderDisabled(String str) {
            }

            @Override // android.location.LocationListener
            public void onProviderEnabled(String str) {
            }

            @Override // android.location.LocationListener
            public void onStatusChanged(String str, int i, Bundle bundle) {
            }

            private GpsLocationListener() {
            }

            @Override // android.location.LocationListener
            public void onLocationChanged(Location location) {
                if (location == null || LocationProvider.this.locationQueryCancelRunnable == null) {
                    return;
                }
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("found location " + location);
                }
                LocationProvider.this.lastKnownLocation = location;
                if (location.getAccuracy() < 100.0f) {
                    if (LocationProvider.this.delegate != null) {
                        LocationProvider.this.delegate.onLocationAcquired(location);
                    }
                    if (LocationProvider.this.locationQueryCancelRunnable != null) {
                        AndroidUtilities.cancelRunOnUIThread(LocationProvider.this.locationQueryCancelRunnable);
                    }
                    LocationProvider.this.cleanup();
                }
            }
        }

        public LocationProvider() {
        }

        public LocationProvider(LocationProviderDelegate locationProviderDelegate) {
            this.delegate = locationProviderDelegate;
        }

        public void setDelegate(LocationProviderDelegate locationProviderDelegate) {
            this.delegate = locationProviderDelegate;
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void cleanup() {
            this.locationManager.removeUpdates(this.gpsLocationListener);
            this.locationManager.removeUpdates(this.networkLocationListener);
            this.lastKnownLocation = null;
            this.locationQueryCancelRunnable = null;
        }

        public void start() {
            if (this.locationManager == null) {
                this.locationManager = (LocationManager) ApplicationLoader.applicationContext.getSystemService("location");
            }
            try {
                this.locationManager.requestLocationUpdates("gps", 1L, 0.0f, this.gpsLocationListener);
            } catch (Exception e) {
                FileLog.e(e);
            }
            try {
                this.locationManager.requestLocationUpdates("network", 1L, 0.0f, this.networkLocationListener);
            } catch (Exception e2) {
                FileLog.e(e2);
            }
            try {
                Location lastKnownLocation = this.locationManager.getLastKnownLocation("gps");
                this.lastKnownLocation = lastKnownLocation;
                if (lastKnownLocation == null) {
                    this.lastKnownLocation = this.locationManager.getLastKnownLocation("network");
                }
            } catch (Exception e3) {
                FileLog.e(e3);
            }
            Runnable runnable = this.locationQueryCancelRunnable;
            if (runnable != null) {
                AndroidUtilities.cancelRunOnUIThread(runnable);
            }
            Runnable runnable2 = new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$LocationProvider$$ExternalSyntheticLambda0
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.LocationProvider.this.lambda$start$0();
                }
            };
            this.locationQueryCancelRunnable = runnable2;
            AndroidUtilities.runOnUIThread(runnable2, 5000L);
        }

        /* JADX INFO: Access modifiers changed from: private */
        public /* synthetic */ void lambda$start$0() {
            LocationProviderDelegate locationProviderDelegate = this.delegate;
            if (locationProviderDelegate != null) {
                Location location = this.lastKnownLocation;
                if (location != null) {
                    locationProviderDelegate.onLocationAcquired(location);
                } else {
                    locationProviderDelegate.onUnableLocationAcquire();
                }
            }
            cleanup();
        }

        public void stop() {
            if (this.locationManager == null) {
                return;
            }
            Runnable runnable = this.locationQueryCancelRunnable;
            if (runnable != null) {
                AndroidUtilities.cancelRunOnUIThread(runnable);
            }
            cleanup();
        }
    }

    /* JADX INFO: Access modifiers changed from: protected */
    /* loaded from: classes.dex */
    public class DelayedMessageSendAfterRequest {
        public DelayedMessage delayedMessage;
        public MessageObject msgObj;
        public ArrayList<MessageObject> msgObjs;
        public String originalPath;
        public ArrayList<String> originalPaths;
        public Object parentObject;
        public ArrayList<Object> parentObjects;
        public TLObject request;
        public boolean scheduled;

        protected DelayedMessageSendAfterRequest() {
        }
    }

    /* JADX INFO: Access modifiers changed from: protected */
    /* loaded from: classes.dex */
    public class DelayedMessage {
        public TLRPC$EncryptedChat encryptedChat;
        public HashMap<Object, Object> extraHashMap;
        public int finalGroupMessage;
        public long groupId;
        public String httpLocation;
        public ArrayList<String> httpLocations;
        public ArrayList<TLRPC$InputMedia> inputMedias;
        public TLRPC$InputMedia inputUploadMedia;
        public TLObject locationParent;
        public ArrayList<TLRPC$PhotoSize> locations;
        public ArrayList<MessageObject> messageObjects;
        public ArrayList<TLRPC$Message> messages;
        public MessageObject obj;
        public String originalPath;
        public ArrayList<String> originalPaths;
        public Object parentObject;
        public ArrayList<Object> parentObjects;
        public long peer;
        public boolean performMediaUpload;
        public TLRPC$PhotoSize photoSize;
        ArrayList<DelayedMessageSendAfterRequest> requests;
        public boolean retriedToSend;
        public boolean scheduled;
        public TLObject sendEncryptedRequest;
        public TLObject sendRequest;
        public int topMessageId;
        public int type;
        public VideoEditedInfo videoEditedInfo;
        public ArrayList<VideoEditedInfo> videoEditedInfos;

        public DelayedMessage(long j) {
            this.peer = j;
        }

        public void initForGroup(long j) {
            this.type = 4;
            this.groupId = j;
            this.messageObjects = new ArrayList<>();
            this.messages = new ArrayList<>();
            this.inputMedias = new ArrayList<>();
            this.originalPaths = new ArrayList<>();
            this.parentObjects = new ArrayList<>();
            this.extraHashMap = new HashMap<>();
            this.locations = new ArrayList<>();
            this.httpLocations = new ArrayList<>();
            this.videoEditedInfos = new ArrayList<>();
        }

        public void addDelayedRequest(TLObject tLObject, MessageObject messageObject, String str, Object obj, DelayedMessage delayedMessage, boolean z) {
            DelayedMessageSendAfterRequest delayedMessageSendAfterRequest = new DelayedMessageSendAfterRequest();
            delayedMessageSendAfterRequest.request = tLObject;
            delayedMessageSendAfterRequest.msgObj = messageObject;
            delayedMessageSendAfterRequest.originalPath = str;
            delayedMessageSendAfterRequest.delayedMessage = delayedMessage;
            delayedMessageSendAfterRequest.parentObject = obj;
            delayedMessageSendAfterRequest.scheduled = z;
            if (this.requests == null) {
                this.requests = new ArrayList<>();
            }
            this.requests.add(delayedMessageSendAfterRequest);
        }

        public void addDelayedRequest(TLObject tLObject, ArrayList<MessageObject> arrayList, ArrayList<String> arrayList2, ArrayList<Object> arrayList3, DelayedMessage delayedMessage, boolean z) {
            DelayedMessageSendAfterRequest delayedMessageSendAfterRequest = new DelayedMessageSendAfterRequest();
            delayedMessageSendAfterRequest.request = tLObject;
            delayedMessageSendAfterRequest.msgObjs = arrayList;
            delayedMessageSendAfterRequest.originalPaths = arrayList2;
            delayedMessageSendAfterRequest.delayedMessage = delayedMessage;
            delayedMessageSendAfterRequest.parentObjects = arrayList3;
            delayedMessageSendAfterRequest.scheduled = z;
            if (this.requests == null) {
                this.requests = new ArrayList<>();
            }
            this.requests.add(delayedMessageSendAfterRequest);
        }

        public void sendDelayedRequests() {
            ArrayList<DelayedMessageSendAfterRequest> arrayList = this.requests;
            if (arrayList != null) {
                int i = this.type;
                if (i == 4 || i == 0) {
                    int size = arrayList.size();
                    for (int i2 = 0; i2 < size; i2++) {
                        DelayedMessageSendAfterRequest delayedMessageSendAfterRequest = this.requests.get(i2);
                        TLObject tLObject = delayedMessageSendAfterRequest.request;
                        if (tLObject instanceof TLRPC$TL_messages_sendEncryptedMultiMedia) {
                            SendMessagesHelper.this.getSecretChatHelper().performSendEncryptedRequest((TLRPC$TL_messages_sendEncryptedMultiMedia) delayedMessageSendAfterRequest.request, this);
                        } else if (!(tLObject instanceof TLRPC$TL_messages_sendMultiMedia)) {
                            SendMessagesHelper.this.performSendMessageRequest(tLObject, delayedMessageSendAfterRequest.msgObj, delayedMessageSendAfterRequest.originalPath, delayedMessageSendAfterRequest.delayedMessage, delayedMessageSendAfterRequest.parentObject, null, delayedMessageSendAfterRequest.scheduled);
                        } else {
                            SendMessagesHelper.this.performSendMessageRequestMulti((TLRPC$TL_messages_sendMultiMedia) tLObject, delayedMessageSendAfterRequest.msgObjs, delayedMessageSendAfterRequest.originalPaths, delayedMessageSendAfterRequest.parentObjects, delayedMessageSendAfterRequest.delayedMessage, delayedMessageSendAfterRequest.scheduled);
                        }
                    }
                    this.requests = null;
                }
            }
        }

        public void markAsError() {
            if (this.type == 4) {
                for (int i = 0; i < this.messageObjects.size(); i++) {
                    MessageObject messageObject = this.messageObjects.get(i);
                    SendMessagesHelper.this.getMessagesStorage().markMessageAsSendError(messageObject.messageOwner, messageObject.scheduled);
                    messageObject.messageOwner.send_state = 2;
                    SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(messageObject.getId()));
                    SendMessagesHelper.this.processSentMessage(messageObject.getId());
                    SendMessagesHelper.this.removeFromUploadingMessages(messageObject.getId(), this.scheduled);
                }
                HashMap hashMap = SendMessagesHelper.this.delayedMessages;
                hashMap.remove("group_" + this.groupId);
            } else {
                MessagesStorage messagesStorage = SendMessagesHelper.this.getMessagesStorage();
                MessageObject messageObject2 = this.obj;
                messagesStorage.markMessageAsSendError(messageObject2.messageOwner, messageObject2.scheduled);
                this.obj.messageOwner.send_state = 2;
                SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(this.obj.getId()));
                SendMessagesHelper.this.processSentMessage(this.obj.getId());
                SendMessagesHelper.this.removeFromUploadingMessages(this.obj.getId(), this.scheduled);
            }
            sendDelayedRequests();
        }
    }

    public static SendMessagesHelper getInstance(int i) {
        SendMessagesHelper sendMessagesHelper = Instance[i];
        if (sendMessagesHelper == null) {
            synchronized (SendMessagesHelper.class) {
                sendMessagesHelper = Instance[i];
                if (sendMessagesHelper == null) {
                    SendMessagesHelper[] sendMessagesHelperArr = Instance;
                    SendMessagesHelper sendMessagesHelper2 = new SendMessagesHelper(i);
                    sendMessagesHelperArr[i] = sendMessagesHelper2;
                    sendMessagesHelper = sendMessagesHelper2;
                }
            }
        }
        return sendMessagesHelper;
    }

    public SendMessagesHelper(int i) {
        super(i);
        this.delayedMessages = new HashMap<>();
        this.unsentMessages = new SparseArray<>();
        this.sendingMessages = new SparseArray<>();
        this.editingMessages = new SparseArray<>();
        this.uploadMessages = new SparseArray<>();
        this.sendingMessagesIdDialogs = new LongSparseArray<>();
        this.uploadingMessagesIdDialogs = new LongSparseArray<>();
        this.waitingForLocation = new HashMap<>();
        this.waitingForCallback = new HashMap<>();
        this.waitingForCallbackMap = new HashMap<>();
        this.waitingForVote = new HashMap<>();
        this.voteSendTime = new LongSparseArray<>();
        this.importingHistoryFiles = new HashMap<>();
        this.importingHistoryMap = new LongSparseArray<>();
        this.importingStickersFiles = new HashMap<>();
        this.importingStickersMap = new HashMap<>();
        this.locationProvider = new LocationProvider(new LocationProvider.LocationProviderDelegate() { // from class: org.telegram.messenger.SendMessagesHelper.1
            @Override // org.telegram.messenger.SendMessagesHelper.LocationProvider.LocationProviderDelegate
            public void onLocationAcquired(Location location) {
                SendMessagesHelper.this.sendLocation(location);
                SendMessagesHelper.this.waitingForLocation.clear();
            }

            @Override // org.telegram.messenger.SendMessagesHelper.LocationProvider.LocationProviderDelegate
            public void onUnableLocationAcquire() {
                SendMessagesHelper.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.wasUnableToFindCurrentLocation, new HashMap(SendMessagesHelper.this.waitingForLocation));
                SendMessagesHelper.this.waitingForLocation.clear();
            }
        });
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda22
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$new$0();
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$new$0() {
        getNotificationCenter().addObserver(this, NotificationCenter.fileUploaded);
        getNotificationCenter().addObserver(this, NotificationCenter.fileUploadProgressChanged);
        getNotificationCenter().addObserver(this, NotificationCenter.fileUploadFailed);
        getNotificationCenter().addObserver(this, NotificationCenter.filePreparingStarted);
        getNotificationCenter().addObserver(this, NotificationCenter.fileNewChunkAvailable);
        getNotificationCenter().addObserver(this, NotificationCenter.filePreparingFailed);
        getNotificationCenter().addObserver(this, NotificationCenter.httpFileDidFailedLoad);
        getNotificationCenter().addObserver(this, NotificationCenter.httpFileDidLoad);
        getNotificationCenter().addObserver(this, NotificationCenter.fileLoaded);
        getNotificationCenter().addObserver(this, NotificationCenter.fileLoadFailed);
    }

    public void cleanup() {
        this.delayedMessages.clear();
        this.unsentMessages.clear();
        this.sendingMessages.clear();
        this.editingMessages.clear();
        this.sendingMessagesIdDialogs.clear();
        this.uploadMessages.clear();
        this.uploadingMessagesIdDialogs.clear();
        this.waitingForLocation.clear();
        this.waitingForCallback.clear();
        this.waitingForVote.clear();
        this.importingHistoryFiles.clear();
        this.importingHistoryMap.clear();
        this.importingStickersFiles.clear();
        this.importingStickersMap.clear();
        this.locationProvider.stop();
    }

    @Override // org.telegram.messenger.NotificationCenter.NotificationCenterDelegate
    public void didReceivedNotification(int i, int i2, Object... objArr) {
        String str;
        ArrayList<DelayedMessage> arrayList;
        char c;
        final MessageObject messageObject;
        MessageObject messageObject2;
        String str2;
        ArrayList<DelayedMessage> arrayList2;
        ArrayList<DelayedMessage> arrayList3;
        TLRPC$InputMedia tLRPC$InputMedia;
        ArrayList<DelayedMessage> arrayList4;
        TLRPC$InputFile tLRPC$InputFile;
        String str3;
        TLRPC$InputEncryptedFile tLRPC$InputEncryptedFile;
        TLObject tLObject;
        TLRPC$TL_decryptedMessage tLRPC$TL_decryptedMessage;
        ArrayList<DelayedMessage> arrayList5;
        TLRPC$InputEncryptedFile tLRPC$InputEncryptedFile2;
        int i3;
        String str4;
        int i4;
        TLRPC$PhotoSize tLRPC$PhotoSize;
        TLRPC$PhotoSize tLRPC$PhotoSize2;
        int i5 = 0;
        if (i == NotificationCenter.fileUploadProgressChanged) {
            String str5 = (String) objArr[0];
            ImportingHistory importingHistory = this.importingHistoryFiles.get(str5);
            if (importingHistory != null) {
                Long l = (Long) objArr[1];
                importingHistory.addUploadProgress(str5, l.longValue(), ((float) l.longValue()) / ((float) ((Long) objArr[2]).longValue()));
            }
            ImportingStickers importingStickers = this.importingStickersFiles.get(str5);
            if (importingStickers != null) {
                Long l2 = (Long) objArr[1];
                importingStickers.addUploadProgress(str5, l2.longValue(), ((float) l2.longValue()) / ((float) ((Long) objArr[2]).longValue()));
            }
        } else if (i == NotificationCenter.fileUploaded) {
            String str6 = (String) objArr[0];
            TLRPC$InputFile tLRPC$InputFile2 = (TLRPC$InputFile) objArr[1];
            TLRPC$InputEncryptedFile tLRPC$InputEncryptedFile3 = (TLRPC$InputEncryptedFile) objArr[2];
            ImportingHistory importingHistory2 = this.importingHistoryFiles.get(str6);
            if (importingHistory2 != null) {
                if (str6.equals(importingHistory2.historyPath)) {
                    importingHistory2.initImport(tLRPC$InputFile2);
                } else {
                    importingHistory2.onMediaImport(str6, ((Long) objArr[5]).longValue(), tLRPC$InputFile2);
                }
            }
            ImportingStickers importingStickers2 = this.importingStickersFiles.get(str6);
            if (importingStickers2 != null) {
                importingStickers2.onMediaImport(str6, ((Long) objArr[5]).longValue(), tLRPC$InputFile2);
            }
            ArrayList<DelayedMessage> arrayList6 = this.delayedMessages.get(str6);
            if (arrayList6 != null) {
                while (i5 < arrayList6.size()) {
                    DelayedMessage delayedMessage = arrayList6.get(i5);
                    TLObject tLObject2 = delayedMessage.sendRequest;
                    if (tLObject2 instanceof TLRPC$TL_messages_sendMedia) {
                        tLRPC$InputMedia = ((TLRPC$TL_messages_sendMedia) tLObject2).media;
                    } else if (tLObject2 instanceof TLRPC$TL_messages_editMessage) {
                        tLRPC$InputMedia = ((TLRPC$TL_messages_editMessage) tLObject2).media;
                    } else {
                        tLRPC$InputMedia = tLObject2 instanceof TLRPC$TL_messages_sendMultiMedia ? (TLRPC$InputMedia) delayedMessage.extraHashMap.get(str6) : null;
                    }
                    if (tLRPC$InputFile2 == null || tLRPC$InputMedia == null) {
                        arrayList4 = arrayList6;
                        tLRPC$InputFile = tLRPC$InputFile2;
                        str3 = str6;
                        tLRPC$InputEncryptedFile = tLRPC$InputEncryptedFile3;
                        if (tLRPC$InputEncryptedFile != null && (tLObject = delayedMessage.sendEncryptedRequest) != null) {
                            if (delayedMessage.type == 4) {
                                TLRPC$TL_messages_sendEncryptedMultiMedia tLRPC$TL_messages_sendEncryptedMultiMedia = (TLRPC$TL_messages_sendEncryptedMultiMedia) tLObject;
                                TLRPC$InputEncryptedFile tLRPC$InputEncryptedFile4 = (TLRPC$InputEncryptedFile) delayedMessage.extraHashMap.get(str3);
                                int indexOf = tLRPC$TL_messages_sendEncryptedMultiMedia.files.indexOf(tLRPC$InputEncryptedFile4);
                                if (indexOf >= 0) {
                                    tLRPC$TL_messages_sendEncryptedMultiMedia.files.set(indexOf, tLRPC$InputEncryptedFile);
                                    if (tLRPC$InputEncryptedFile4.id == 1) {
                                        delayedMessage.photoSize = (TLRPC$PhotoSize) delayedMessage.extraHashMap.get(str3 + "_t");
                                    }
                                    tLRPC$TL_decryptedMessage = tLRPC$TL_messages_sendEncryptedMultiMedia.messages.get(indexOf);
                                } else {
                                    tLRPC$TL_decryptedMessage = null;
                                }
                            } else {
                                tLRPC$TL_decryptedMessage = (TLRPC$TL_decryptedMessage) tLObject;
                            }
                            if (tLRPC$TL_decryptedMessage != null) {
                                TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia = tLRPC$TL_decryptedMessage.media;
                                if ((tLRPC$DecryptedMessageMedia instanceof TLRPC$TL_decryptedMessageMediaVideo) || (tLRPC$DecryptedMessageMedia instanceof TLRPC$TL_decryptedMessageMediaPhoto) || (tLRPC$DecryptedMessageMedia instanceof TLRPC$TL_decryptedMessageMediaDocument)) {
                                    tLRPC$TL_decryptedMessage.media.size = ((Long) objArr[5]).longValue();
                                }
                                TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia2 = tLRPC$TL_decryptedMessage.media;
                                tLRPC$DecryptedMessageMedia2.key = (byte[]) objArr[3];
                                tLRPC$DecryptedMessageMedia2.iv = (byte[]) objArr[4];
                                if (delayedMessage.type == 4) {
                                    uploadMultiMedia(delayedMessage, null, tLRPC$InputEncryptedFile, str3);
                                } else {
                                    SecretChatHelper secretChatHelper = getSecretChatHelper();
                                    MessageObject messageObject3 = delayedMessage.obj;
                                    secretChatHelper.performSendEncryptedRequest(tLRPC$TL_decryptedMessage, messageObject3.messageOwner, delayedMessage.encryptedChat, tLRPC$InputEncryptedFile, delayedMessage.originalPath, messageObject3);
                                }
                            }
                            arrayList4.remove(i5);
                            i5--;
                        }
                    } else {
                        int i6 = delayedMessage.type;
                        if (i6 == 0) {
                            tLRPC$InputMedia.file = tLRPC$InputFile2;
                            arrayList5 = arrayList6;
                            tLRPC$InputEncryptedFile2 = tLRPC$InputEncryptedFile3;
                            i3 = i5;
                            tLRPC$InputFile = tLRPC$InputFile2;
                            str4 = str6;
                            performSendMessageRequest(delayedMessage.sendRequest, delayedMessage.obj, delayedMessage.originalPath, delayedMessage, true, null, delayedMessage.parentObject, null, delayedMessage.scheduled);
                        } else {
                            arrayList5 = arrayList6;
                            tLRPC$InputEncryptedFile2 = tLRPC$InputEncryptedFile3;
                            i3 = i5;
                            tLRPC$InputFile = tLRPC$InputFile2;
                            str4 = str6;
                            if (i6 == 1) {
                                if (tLRPC$InputMedia.file == null) {
                                    tLRPC$InputMedia.file = tLRPC$InputFile;
                                    if (tLRPC$InputMedia.thumb == null && (tLRPC$PhotoSize2 = delayedMessage.photoSize) != null && tLRPC$PhotoSize2.location != null) {
                                        performSendDelayedMessage(delayedMessage);
                                    } else {
                                        performSendMessageRequest(delayedMessage.sendRequest, delayedMessage.obj, delayedMessage.originalPath, null, delayedMessage.parentObject, null, delayedMessage.scheduled);
                                    }
                                } else {
                                    tLRPC$InputMedia.thumb = tLRPC$InputFile;
                                    tLRPC$InputMedia.flags |= 4;
                                    performSendMessageRequest(delayedMessage.sendRequest, delayedMessage.obj, delayedMessage.originalPath, null, delayedMessage.parentObject, null, delayedMessage.scheduled);
                                }
                            } else if (i6 == 2) {
                                if (tLRPC$InputMedia.file == null) {
                                    tLRPC$InputMedia.file = tLRPC$InputFile;
                                    if (tLRPC$InputMedia.thumb == null && (tLRPC$PhotoSize = delayedMessage.photoSize) != null && tLRPC$PhotoSize.location != null) {
                                        performSendDelayedMessage(delayedMessage);
                                    } else {
                                        performSendMessageRequest(delayedMessage.sendRequest, delayedMessage.obj, delayedMessage.originalPath, null, delayedMessage.parentObject, null, delayedMessage.scheduled);
                                    }
                                } else {
                                    tLRPC$InputMedia.thumb = tLRPC$InputFile;
                                    tLRPC$InputMedia.flags |= 4;
                                    performSendMessageRequest(delayedMessage.sendRequest, delayedMessage.obj, delayedMessage.originalPath, null, delayedMessage.parentObject, null, delayedMessage.scheduled);
                                }
                            } else if (i6 == 3) {
                                tLRPC$InputMedia.file = tLRPC$InputFile;
                                performSendMessageRequest(delayedMessage.sendRequest, delayedMessage.obj, delayedMessage.originalPath, null, delayedMessage.parentObject, null, delayedMessage.scheduled);
                            } else {
                                if (i6 != 4) {
                                    str3 = str4;
                                } else if (tLRPC$InputMedia instanceof TLRPC$TL_inputMediaUploadedDocument) {
                                    if (tLRPC$InputMedia.file == null) {
                                        tLRPC$InputMedia.file = tLRPC$InputFile;
                                        HashMap<Object, Object> hashMap = delayedMessage.extraHashMap;
                                        StringBuilder sb = new StringBuilder();
                                        str3 = str4;
                                        sb.append(str3);
                                        sb.append("_i");
                                        int indexOf2 = delayedMessage.messageObjects.indexOf((MessageObject) hashMap.get(sb.toString()));
                                        TLRPC$PhotoSize tLRPC$PhotoSize3 = (TLRPC$PhotoSize) delayedMessage.extraHashMap.get(str3 + "_t");
                                        delayedMessage.photoSize = tLRPC$PhotoSize3;
                                        if (tLRPC$InputMedia.thumb == null && tLRPC$PhotoSize3 != null && tLRPC$PhotoSize3.location != null) {
                                            delayedMessage.performMediaUpload = true;
                                            performSendDelayedMessage(delayedMessage, indexOf2);
                                        } else {
                                            uploadMultiMedia(delayedMessage, tLRPC$InputMedia, null, str3);
                                        }
                                    } else {
                                        str3 = str4;
                                        tLRPC$InputMedia.thumb = tLRPC$InputFile;
                                        tLRPC$InputMedia.flags |= 4;
                                        uploadMultiMedia(delayedMessage, tLRPC$InputMedia, null, (String) delayedMessage.extraHashMap.get(str3 + "_o"));
                                    }
                                } else {
                                    str3 = str4;
                                    tLRPC$InputMedia.file = tLRPC$InputFile;
                                    uploadMultiMedia(delayedMessage, tLRPC$InputMedia, null, str3);
                                }
                                arrayList4 = arrayList5;
                                i4 = i3;
                                arrayList4.remove(i4);
                                i5 = i4 - 1;
                                tLRPC$InputEncryptedFile = tLRPC$InputEncryptedFile2;
                            }
                        }
                        arrayList4 = arrayList5;
                        i4 = i3;
                        str3 = str4;
                        arrayList4.remove(i4);
                        i5 = i4 - 1;
                        tLRPC$InputEncryptedFile = tLRPC$InputEncryptedFile2;
                    }
                    i5++;
                    tLRPC$InputEncryptedFile3 = tLRPC$InputEncryptedFile;
                    str6 = str3;
                    tLRPC$InputFile2 = tLRPC$InputFile;
                    arrayList6 = arrayList4;
                }
                ArrayList<DelayedMessage> arrayList7 = arrayList6;
                String str7 = str6;
                if (arrayList7.isEmpty()) {
                    this.delayedMessages.remove(str7);
                }
            }
        } else if (i == NotificationCenter.fileUploadFailed) {
            String str8 = (String) objArr[0];
            boolean booleanValue = ((Boolean) objArr[1]).booleanValue();
            ImportingHistory importingHistory3 = this.importingHistoryFiles.get(str8);
            if (importingHistory3 != null) {
                importingHistory3.onFileFailedToUpload(str8);
            }
            ImportingStickers importingStickers3 = this.importingStickersFiles.get(str8);
            if (importingStickers3 != null) {
                importingStickers3.onFileFailedToUpload(str8);
            }
            ArrayList<DelayedMessage> arrayList8 = this.delayedMessages.get(str8);
            if (arrayList8 != null) {
                while (i5 < arrayList8.size()) {
                    DelayedMessage delayedMessage2 = arrayList8.get(i5);
                    if ((booleanValue && delayedMessage2.sendEncryptedRequest != null) || (!booleanValue && delayedMessage2.sendRequest != null)) {
                        delayedMessage2.markAsError();
                        arrayList8.remove(i5);
                        i5--;
                    }
                    i5++;
                }
                if (arrayList8.isEmpty()) {
                    this.delayedMessages.remove(str8);
                }
            }
        } else if (i == NotificationCenter.filePreparingStarted) {
            MessageObject messageObject4 = (MessageObject) objArr[0];
            if (messageObject4.getId() == 0) {
                return;
            }
            String str9 = (String) objArr[1];
            ArrayList<DelayedMessage> arrayList9 = this.delayedMessages.get(messageObject4.messageOwner.attachPath);
            if (arrayList9 != null) {
                while (true) {
                    if (i5 >= arrayList9.size()) {
                        break;
                    }
                    DelayedMessage delayedMessage3 = arrayList9.get(i5);
                    if (delayedMessage3.type == 4) {
                        int indexOf3 = delayedMessage3.messageObjects.indexOf(messageObject4);
                        delayedMessage3.photoSize = (TLRPC$PhotoSize) delayedMessage3.extraHashMap.get(messageObject4.messageOwner.attachPath + "_t");
                        delayedMessage3.performMediaUpload = true;
                        performSendDelayedMessage(delayedMessage3, indexOf3);
                        arrayList9.remove(i5);
                        break;
                    } else if (delayedMessage3.obj == messageObject4) {
                        delayedMessage3.videoEditedInfo = null;
                        performSendDelayedMessage(delayedMessage3);
                        arrayList9.remove(i5);
                        break;
                    } else {
                        i5++;
                    }
                }
                if (arrayList9.isEmpty()) {
                    this.delayedMessages.remove(messageObject4.messageOwner.attachPath);
                }
            }
        } else {
            MessageObject messageObject5 = null;
            if (i == NotificationCenter.fileNewChunkAvailable) {
                MessageObject messageObject6 = (MessageObject) objArr[0];
                if (messageObject6.getId() == 0) {
                    return;
                }
                String str10 = (String) objArr[1];
                long longValue = ((Long) objArr[2]).longValue();
                long longValue2 = ((Long) objArr[3]).longValue();
                getFileLoader().checkUploadNewDataAvailable(str10, DialogObject.isEncryptedDialog(messageObject6.getDialogId()), longValue, longValue2, (Float) objArr[4]);
                if (longValue2 == 0 || (arrayList3 = this.delayedMessages.get(messageObject6.messageOwner.attachPath)) == null) {
                    return;
                }
                for (int i7 = 0; i7 < arrayList3.size(); i7++) {
                    DelayedMessage delayedMessage4 = arrayList3.get(i7);
                    if (delayedMessage4.type == 4) {
                        int i8 = 0;
                        while (true) {
                            if (i8 >= delayedMessage4.messageObjects.size()) {
                                break;
                            }
                            MessageObject messageObject7 = delayedMessage4.messageObjects.get(i8);
                            if (messageObject7 == messageObject6) {
                                delayedMessage4.obj.shouldRemoveVideoEditedInfo = true;
                                messageObject7.messageOwner.params.remove("ve");
                                messageObject7.messageOwner.media.document.size = longValue2;
                                ArrayList<TLRPC$Message> arrayList10 = new ArrayList<>();
                                arrayList10.add(messageObject7.messageOwner);
                                getMessagesStorage().putMessages(arrayList10, false, true, false, 0, messageObject7.scheduled, 0);
                                break;
                            }
                            i8++;
                        }
                    } else {
                        MessageObject messageObject8 = delayedMessage4.obj;
                        if (messageObject8 == messageObject6) {
                            messageObject8.shouldRemoveVideoEditedInfo = true;
                            messageObject8.messageOwner.params.remove("ve");
                            delayedMessage4.obj.messageOwner.media.document.size = longValue2;
                            ArrayList<TLRPC$Message> arrayList11 = new ArrayList<>();
                            arrayList11.add(delayedMessage4.obj.messageOwner);
                            getMessagesStorage().putMessages(arrayList11, false, true, false, 0, delayedMessage4.obj.scheduled, 0);
                            return;
                        }
                    }
                }
            } else if (i == NotificationCenter.filePreparingFailed) {
                MessageObject messageObject9 = (MessageObject) objArr[0];
                if (messageObject9.getId() == 0 || (arrayList2 = this.delayedMessages.get((str2 = (String) objArr[1]))) == null) {
                    return;
                }
                int i9 = 0;
                while (i9 < arrayList2.size()) {
                    DelayedMessage delayedMessage5 = arrayList2.get(i9);
                    if (delayedMessage5.type == 4) {
                        for (int i10 = 0; i10 < delayedMessage5.messages.size(); i10++) {
                            if (delayedMessage5.messageObjects.get(i10) == messageObject9) {
                                delayedMessage5.markAsError();
                                arrayList2.remove(i9);
                                i9--;
                                break;
                            }
                        }
                        i9++;
                    } else if (delayedMessage5.obj == messageObject9) {
                        delayedMessage5.markAsError();
                        arrayList2.remove(i9);
                        i9--;
                        break;
                        i9++;
                    } else {
                        i9++;
                    }
                }
                if (arrayList2.isEmpty()) {
                    this.delayedMessages.remove(str2);
                }
            } else if (i == NotificationCenter.httpFileDidLoad) {
                final String str11 = (String) objArr[0];
                ArrayList<DelayedMessage> arrayList12 = this.delayedMessages.get(str11);
                if (arrayList12 != null) {
                    int i11 = 0;
                    while (i11 < arrayList12.size()) {
                        final DelayedMessage delayedMessage6 = arrayList12.get(i11);
                        int i12 = delayedMessage6.type;
                        if (i12 == 0) {
                            messageObject = delayedMessage6.obj;
                            c = 0;
                        } else {
                            if (i12 == 2) {
                                messageObject2 = delayedMessage6.obj;
                            } else if (i12 == 4) {
                                messageObject2 = (MessageObject) delayedMessage6.extraHashMap.get(str11);
                                if (messageObject2.getDocument() == null) {
                                    messageObject = messageObject2;
                                    c = 0;
                                }
                            } else {
                                c = 65535;
                                messageObject = messageObject5;
                            }
                            messageObject = messageObject2;
                            c = 1;
                        }
                        if (c == 0) {
                            final File file = new File(FileLoader.getDirectory(4), Utilities.MD5(str11) + "." + ImageLoader.getHttpUrlExtension(str11, "file"));
                            Utilities.globalQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda25
                                @Override // java.lang.Runnable
                                public final void run() {
                                    SendMessagesHelper.this.lambda$didReceivedNotification$2(file, messageObject, delayedMessage6, str11);
                                }
                            });
                        } else if (c == 1) {
                            final File file2 = new File(FileLoader.getDirectory(4), Utilities.MD5(str11) + ".gif");
                            Utilities.globalQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda37
                                @Override // java.lang.Runnable
                                public final void run() {
                                    SendMessagesHelper.this.lambda$didReceivedNotification$4(delayedMessage6, file2, messageObject);
                                }
                            });
                        }
                        i11++;
                        messageObject5 = null;
                    }
                    this.delayedMessages.remove(str11);
                }
            } else if (i == NotificationCenter.fileLoaded) {
                String str12 = (String) objArr[0];
                ArrayList<DelayedMessage> arrayList13 = this.delayedMessages.get(str12);
                if (arrayList13 != null) {
                    while (i5 < arrayList13.size()) {
                        performSendDelayedMessage(arrayList13.get(i5));
                        i5++;
                    }
                    this.delayedMessages.remove(str12);
                }
            } else if ((i == NotificationCenter.httpFileDidFailedLoad || i == NotificationCenter.fileLoadFailed) && (arrayList = this.delayedMessages.get((str = (String) objArr[0]))) != null) {
                while (i5 < arrayList.size()) {
                    arrayList.get(i5).markAsError();
                    i5++;
                }
                this.delayedMessages.remove(str);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$didReceivedNotification$2(final File file, final MessageObject messageObject, final DelayedMessage delayedMessage, final String str) {
        final TLRPC$TL_photo generatePhotoSizes = generatePhotoSizes(file.toString(), null);
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda60
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$didReceivedNotification$1(generatePhotoSizes, messageObject, file, delayedMessage, str);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$didReceivedNotification$1(TLRPC$TL_photo tLRPC$TL_photo, MessageObject messageObject, File file, DelayedMessage delayedMessage, String str) {
        if (tLRPC$TL_photo != null) {
            TLRPC$Message tLRPC$Message = messageObject.messageOwner;
            tLRPC$Message.media.photo = tLRPC$TL_photo;
            tLRPC$Message.attachPath = file.toString();
            ArrayList<TLRPC$Message> arrayList = new ArrayList<>();
            arrayList.add(messageObject.messageOwner);
            getMessagesStorage().putMessages(arrayList, false, true, false, 0, messageObject.scheduled, 0);
            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.updateMessageMedia, messageObject.messageOwner);
            ArrayList<TLRPC$PhotoSize> arrayList2 = tLRPC$TL_photo.sizes;
            delayedMessage.photoSize = arrayList2.get(arrayList2.size() - 1);
            delayedMessage.locationParent = tLRPC$TL_photo;
            delayedMessage.httpLocation = null;
            if (delayedMessage.type == 4) {
                delayedMessage.performMediaUpload = true;
                performSendDelayedMessage(delayedMessage, delayedMessage.messageObjects.indexOf(messageObject));
                return;
            }
            performSendDelayedMessage(delayedMessage);
            return;
        }
        if (BuildVars.LOGS_ENABLED) {
            FileLog.e("can't load image " + str + " to file " + file.toString());
        }
        delayedMessage.markAsError();
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$didReceivedNotification$4(final DelayedMessage delayedMessage, final File file, final MessageObject messageObject) {
        final TLRPC$Document document = delayedMessage.obj.getDocument();
        if (document.thumbs.isEmpty() || (document.thumbs.get(0).location instanceof TLRPC$TL_fileLocationUnavailable)) {
            try {
                Bitmap loadBitmap = ImageLoader.loadBitmap(file.getAbsolutePath(), null, 90.0f, 90.0f, true);
                if (loadBitmap != null) {
                    document.thumbs.clear();
                    document.thumbs.add(ImageLoader.scaleAndSaveImage(loadBitmap, 90.0f, 90.0f, 55, delayedMessage.sendEncryptedRequest != null));
                    loadBitmap.recycle();
                }
            } catch (Exception e) {
                document.thumbs.clear();
                FileLog.e(e);
            }
        }
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda38
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$didReceivedNotification$3(delayedMessage, file, document, messageObject);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$didReceivedNotification$3(DelayedMessage delayedMessage, File file, TLRPC$Document tLRPC$Document, MessageObject messageObject) {
        delayedMessage.httpLocation = null;
        delayedMessage.obj.messageOwner.attachPath = file.toString();
        if (!tLRPC$Document.thumbs.isEmpty()) {
            TLRPC$PhotoSize tLRPC$PhotoSize = tLRPC$Document.thumbs.get(0);
            if (!(tLRPC$PhotoSize instanceof TLRPC$TL_photoStrippedSize)) {
                delayedMessage.photoSize = tLRPC$PhotoSize;
                delayedMessage.locationParent = tLRPC$Document;
            }
        }
        ArrayList<TLRPC$Message> arrayList = new ArrayList<>();
        arrayList.add(messageObject.messageOwner);
        getMessagesStorage().putMessages(arrayList, false, true, false, 0, messageObject.scheduled, 0);
        delayedMessage.performMediaUpload = true;
        performSendDelayedMessage(delayedMessage);
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.updateMessageMedia, delayedMessage.obj.messageOwner);
    }

    private void revertEditingMessageObject(MessageObject messageObject) {
        messageObject.cancelEditing = true;
        TLRPC$Message tLRPC$Message = messageObject.messageOwner;
        tLRPC$Message.media = messageObject.previousMedia;
        tLRPC$Message.message = messageObject.previousMessage;
        ArrayList<TLRPC$MessageEntity> arrayList = messageObject.previousMessageEntities;
        tLRPC$Message.entities = arrayList;
        tLRPC$Message.attachPath = messageObject.previousAttachPath;
        tLRPC$Message.send_state = 0;
        if (arrayList != null) {
            tLRPC$Message.flags |= 128;
        } else {
            tLRPC$Message.flags &= -129;
        }
        messageObject.previousMedia = null;
        messageObject.previousMessage = null;
        messageObject.previousMessageEntities = null;
        messageObject.previousAttachPath = null;
        messageObject.videoEditedInfo = null;
        messageObject.type = -1;
        messageObject.setType();
        messageObject.caption = null;
        if (messageObject.type != 0) {
            messageObject.generateCaption();
        } else {
            messageObject.resetLayout();
        }
        ArrayList<TLRPC$Message> arrayList2 = new ArrayList<>();
        arrayList2.add(messageObject.messageOwner);
        getMessagesStorage().putMessages(arrayList2, false, true, false, 0, messageObject.scheduled, 0);
        ArrayList arrayList3 = new ArrayList();
        arrayList3.add(messageObject);
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.replaceMessagesObjects, Long.valueOf(messageObject.getDialogId()), arrayList3);
    }

    public void cancelSendingMessage(MessageObject messageObject) {
        ArrayList<MessageObject> arrayList = new ArrayList<>();
        arrayList.add(messageObject);
        cancelSendingMessage(arrayList);
    }

    public void cancelSendingMessage(ArrayList<MessageObject> arrayList) {
        boolean z;
        long j;
        ArrayList arrayList2 = new ArrayList();
        ArrayList arrayList3 = new ArrayList();
        ArrayList<Integer> arrayList4 = new ArrayList<>();
        long j2 = 0;
        int i = 0;
        boolean z2 = false;
        boolean z3 = false;
        while (i < arrayList.size()) {
            MessageObject messageObject = arrayList.get(i);
            if (messageObject.scheduled) {
                z3 = true;
            }
            long dialogId = messageObject.getDialogId();
            arrayList4.add(Integer.valueOf(messageObject.getId()));
            TLRPC$Message removeFromSendingMessages = removeFromSendingMessages(messageObject.getId(), messageObject.scheduled);
            if (removeFromSendingMessages != null) {
                getConnectionsManager().cancelRequest(removeFromSendingMessages.reqId, true);
            }
            for (Map.Entry<String, ArrayList<DelayedMessage>> entry : this.delayedMessages.entrySet()) {
                ArrayList<DelayedMessage> value = entry.getValue();
                int i2 = 0;
                while (true) {
                    if (i2 >= value.size()) {
                        z = z2;
                        break;
                    }
                    DelayedMessage delayedMessage = value.get(i2);
                    z = z2;
                    if (delayedMessage.type == 4) {
                        int i3 = -1;
                        MessageObject messageObject2 = null;
                        int i4 = 0;
                        while (true) {
                            if (i4 >= delayedMessage.messageObjects.size()) {
                                break;
                            }
                            messageObject2 = delayedMessage.messageObjects.get(i4);
                            if (messageObject2.getId() == messageObject.getId()) {
                                removeFromUploadingMessages(messageObject.getId(), messageObject.scheduled);
                                i3 = i4;
                                break;
                            }
                            i4++;
                        }
                        if (i3 >= 0) {
                            delayedMessage.messageObjects.remove(i3);
                            delayedMessage.messages.remove(i3);
                            delayedMessage.originalPaths.remove(i3);
                            if (!delayedMessage.parentObjects.isEmpty()) {
                                delayedMessage.parentObjects.remove(i3);
                            }
                            TLObject tLObject = delayedMessage.sendRequest;
                            if (tLObject != null) {
                                ((TLRPC$TL_messages_sendMultiMedia) tLObject).multi_media.remove(i3);
                            } else {
                                TLRPC$TL_messages_sendEncryptedMultiMedia tLRPC$TL_messages_sendEncryptedMultiMedia = (TLRPC$TL_messages_sendEncryptedMultiMedia) delayedMessage.sendEncryptedRequest;
                                tLRPC$TL_messages_sendEncryptedMultiMedia.messages.remove(i3);
                                tLRPC$TL_messages_sendEncryptedMultiMedia.files.remove(i3);
                            }
                            MediaController.getInstance().cancelVideoConvert(messageObject);
                            String str = (String) delayedMessage.extraHashMap.get(messageObject2);
                            if (str != null) {
                                arrayList2.add(str);
                            }
                            if (delayedMessage.messageObjects.isEmpty()) {
                                delayedMessage.sendDelayedRequests();
                            } else {
                                if (delayedMessage.finalGroupMessage == messageObject.getId()) {
                                    ArrayList<MessageObject> arrayList5 = delayedMessage.messageObjects;
                                    MessageObject messageObject3 = arrayList5.get(arrayList5.size() - 1);
                                    delayedMessage.finalGroupMessage = messageObject3.getId();
                                    messageObject3.messageOwner.params.put("final", "1");
                                    TLRPC$TL_messages_messages tLRPC$TL_messages_messages = new TLRPC$TL_messages_messages();
                                    tLRPC$TL_messages_messages.messages.add(messageObject3.messageOwner);
                                    j = dialogId;
                                    getMessagesStorage().putMessages((TLRPC$messages_Messages) tLRPC$TL_messages_messages, delayedMessage.peer, -2, 0, false, z3, 0);
                                } else {
                                    j = dialogId;
                                }
                                if (!arrayList3.contains(delayedMessage)) {
                                    arrayList3.add(delayedMessage);
                                }
                            }
                        }
                    } else {
                        j = dialogId;
                        if (delayedMessage.obj.getId() == messageObject.getId()) {
                            removeFromUploadingMessages(messageObject.getId(), messageObject.scheduled);
                            value.remove(i2);
                            delayedMessage.sendDelayedRequests();
                            MediaController.getInstance().cancelVideoConvert(delayedMessage.obj);
                            if (value.size() == 0) {
                                arrayList2.add(entry.getKey());
                                if (delayedMessage.sendEncryptedRequest != null) {
                                    z2 = true;
                                }
                            }
                        } else {
                            i2++;
                            z2 = z;
                            dialogId = j;
                        }
                    }
                }
                j = dialogId;
                z2 = z;
                dialogId = j;
            }
            i++;
            j2 = dialogId;
        }
        for (int i5 = 0; i5 < arrayList2.size(); i5++) {
            String str2 = (String) arrayList2.get(i5);
            if (str2.startsWith("http")) {
                ImageLoader.getInstance().cancelLoadHttpFile(str2);
            } else {
                getFileLoader().cancelFileUpload(str2, z2);
            }
            this.delayedMessages.remove(str2);
        }
        int size = arrayList3.size();
        for (int i6 = 0; i6 < size; i6++) {
            sendReadyToSendGroup((DelayedMessage) arrayList3.get(i6), false, true);
        }
        if (arrayList.size() == 1 && arrayList.get(0).isEditing() && arrayList.get(0).previousMedia != null) {
            revertEditingMessageObject(arrayList.get(0));
        } else {
            getMessagesController().deleteMessages(arrayList4, null, null, j2, false, z3);
        }
    }

    public boolean retrySendMessage(MessageObject messageObject, boolean z) {
        if (messageObject.getId() >= 0) {
            if (messageObject.isEditing()) {
                editMessage(messageObject, null, null, null, null, null, true, messageObject.hasMediaSpoilers(), messageObject);
            }
            return false;
        }
        TLRPC$MessageAction tLRPC$MessageAction = messageObject.messageOwner.action;
        if (tLRPC$MessageAction instanceof TLRPC$TL_messageEncryptedAction) {
            TLRPC$EncryptedChat encryptedChat = getMessagesController().getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(messageObject.getDialogId())));
            if (encryptedChat == null) {
                getMessagesStorage().markMessageAsSendError(messageObject.messageOwner, messageObject.scheduled);
                messageObject.messageOwner.send_state = 2;
                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(messageObject.getId()));
                processSentMessage(messageObject.getId());
                return false;
            }
            TLRPC$Message tLRPC$Message = messageObject.messageOwner;
            if (tLRPC$Message.random_id == 0) {
                tLRPC$Message.random_id = getNextRandomId();
            }
            TLRPC$DecryptedMessageAction tLRPC$DecryptedMessageAction = messageObject.messageOwner.action.encryptedAction;
            if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionSetMessageTTL) {
                getSecretChatHelper().sendTTLMessage(encryptedChat, messageObject.messageOwner);
            } else if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionDeleteMessages) {
                getSecretChatHelper().sendMessagesDeleteMessage(encryptedChat, null, messageObject.messageOwner);
            } else if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionFlushHistory) {
                getSecretChatHelper().sendClearHistoryMessage(encryptedChat, messageObject.messageOwner);
            } else if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionNotifyLayer) {
                getSecretChatHelper().sendNotifyLayerMessage(encryptedChat, messageObject.messageOwner);
            } else if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionReadMessages) {
                getSecretChatHelper().sendMessagesReadMessage(encryptedChat, null, messageObject.messageOwner);
            } else if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionScreenshotMessages) {
                getSecretChatHelper().sendScreenshotMessage(encryptedChat, null, messageObject.messageOwner);
            } else if (!(tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionTyping)) {
                if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionResend) {
                    getSecretChatHelper().sendResendMessage(encryptedChat, 0, 0, messageObject.messageOwner);
                } else if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionCommitKey) {
                    getSecretChatHelper().sendCommitKeyMessage(encryptedChat, messageObject.messageOwner);
                } else if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionAbortKey) {
                    getSecretChatHelper().sendAbortKeyMessage(encryptedChat, messageObject.messageOwner, 0L);
                } else if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionRequestKey) {
                    getSecretChatHelper().sendRequestKeyMessage(encryptedChat, messageObject.messageOwner);
                } else if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionAcceptKey) {
                    getSecretChatHelper().sendAcceptKeyMessage(encryptedChat, messageObject.messageOwner);
                } else if (tLRPC$DecryptedMessageAction instanceof TLRPC$TL_decryptedMessageActionNoop) {
                    getSecretChatHelper().sendNoopMessage(encryptedChat, messageObject.messageOwner);
                }
            }
            return true;
        }
        if (tLRPC$MessageAction instanceof TLRPC$TL_messageActionScreenshotTaken) {
            sendScreenshotMessage(getMessagesController().getUser(Long.valueOf(messageObject.getDialogId())), messageObject.getReplyMsgId(), messageObject.messageOwner);
        }
        if (z) {
            this.unsentMessages.put(messageObject.getId(), messageObject);
        }
        sendMessage(SendMessageParams.of(messageObject));
        return true;
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public void processSentMessage(int i) {
        int size = this.unsentMessages.size();
        this.unsentMessages.remove(i);
        if (size == 0 || this.unsentMessages.size() != 0) {
            return;
        }
        checkUnsentMessages();
    }

    /* JADX WARN: Removed duplicated region for block: B:27:0x0091  */
    /* JADX WARN: Removed duplicated region for block: B:28:0x00ba  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void processForwardFromMyName(MessageObject messageObject, long j) {
        HashMap hashMap;
        TLRPC$Photo tLRPC$Photo;
        if (messageObject == null) {
            return;
        }
        TLRPC$Message tLRPC$Message = messageObject.messageOwner;
        TLRPC$MessageMedia tLRPC$MessageMedia = tLRPC$Message.media;
        ArrayList arrayList = null;
        if (tLRPC$MessageMedia != null && !(tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaEmpty) && !(tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaWebPage) && !(tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaGame) && !(tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaInvoice)) {
            if (DialogObject.isEncryptedDialog(j)) {
                TLRPC$Message tLRPC$Message2 = messageObject.messageOwner;
                if (tLRPC$Message2.peer_id != null) {
                    TLRPC$MessageMedia tLRPC$MessageMedia2 = tLRPC$Message2.media;
                    if ((tLRPC$MessageMedia2.photo instanceof TLRPC$TL_photo) || (tLRPC$MessageMedia2.document instanceof TLRPC$TL_document)) {
                        HashMap hashMap2 = new HashMap();
                        hashMap2.put("parentObject", "sent_" + messageObject.messageOwner.peer_id.channel_id + "_" + messageObject.getId() + "_" + messageObject.getDialogId() + "_" + messageObject.type + "_" + messageObject.getSize());
                        hashMap = hashMap2;
                        TLRPC$Message tLRPC$Message3 = messageObject.messageOwner;
                        TLRPC$MessageMedia tLRPC$MessageMedia3 = tLRPC$Message3.media;
                        tLRPC$Photo = tLRPC$MessageMedia3.photo;
                        if (!(tLRPC$Photo instanceof TLRPC$TL_photo)) {
                            sendMessage(SendMessageParams.of((TLRPC$TL_photo) tLRPC$Photo, null, j, messageObject.replyMessageObject, null, tLRPC$Message3.message, tLRPC$Message3.entities, null, hashMap, true, 0, tLRPC$MessageMedia3.ttl_seconds, messageObject, false));
                            return;
                        }
                        TLRPC$Document tLRPC$Document = tLRPC$MessageMedia3.document;
                        if (tLRPC$Document instanceof TLRPC$TL_document) {
                            sendMessage(SendMessageParams.of((TLRPC$TL_document) tLRPC$Document, null, tLRPC$Message3.attachPath, j, messageObject.replyMessageObject, null, tLRPC$Message3.message, tLRPC$Message3.entities, null, hashMap, true, 0, tLRPC$MessageMedia3.ttl_seconds, messageObject, null, false));
                            return;
                        } else if ((tLRPC$MessageMedia3 instanceof TLRPC$TL_messageMediaVenue) || (tLRPC$MessageMedia3 instanceof TLRPC$TL_messageMediaGeo)) {
                            sendMessage(SendMessageParams.of(tLRPC$MessageMedia3, j, messageObject.replyMessageObject, (MessageObject) null, (TLRPC$ReplyMarkup) null, (HashMap<String, String>) null, true, 0));
                            return;
                        } else if (tLRPC$MessageMedia3.phone_number != null) {
                            TLRPC$TL_userContact_old2 tLRPC$TL_userContact_old2 = new TLRPC$TL_userContact_old2();
                            TLRPC$MessageMedia tLRPC$MessageMedia4 = messageObject.messageOwner.media;
                            tLRPC$TL_userContact_old2.phone = tLRPC$MessageMedia4.phone_number;
                            tLRPC$TL_userContact_old2.first_name = tLRPC$MessageMedia4.first_name;
                            tLRPC$TL_userContact_old2.last_name = tLRPC$MessageMedia4.last_name;
                            tLRPC$TL_userContact_old2.id = tLRPC$MessageMedia4.user_id;
                            sendMessage(SendMessageParams.of((TLRPC$User) tLRPC$TL_userContact_old2, j, messageObject.replyMessageObject, (MessageObject) null, (TLRPC$ReplyMarkup) null, (HashMap<String, String>) null, true, 0));
                            return;
                        } else if (DialogObject.isEncryptedDialog(j)) {
                            return;
                        } else {
                            ArrayList<MessageObject> arrayList2 = new ArrayList<>();
                            arrayList2.add(messageObject);
                            sendMessage(arrayList2, j, true, false, true, 0);
                            return;
                        }
                    }
                }
            }
            hashMap = null;
            TLRPC$Message tLRPC$Message32 = messageObject.messageOwner;
            TLRPC$MessageMedia tLRPC$MessageMedia32 = tLRPC$Message32.media;
            tLRPC$Photo = tLRPC$MessageMedia32.photo;
            if (!(tLRPC$Photo instanceof TLRPC$TL_photo)) {
            }
        } else if (tLRPC$Message.message != null) {
            TLRPC$WebPage tLRPC$WebPage = tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaWebPage ? tLRPC$MessageMedia.webpage : null;
            ArrayList<TLRPC$MessageEntity> arrayList3 = tLRPC$Message.entities;
            if (arrayList3 != null && !arrayList3.isEmpty()) {
                arrayList = new ArrayList();
                for (int i = 0; i < messageObject.messageOwner.entities.size(); i++) {
                    TLRPC$MessageEntity tLRPC$MessageEntity = messageObject.messageOwner.entities.get(i);
                    if ((tLRPC$MessageEntity instanceof TLRPC$TL_messageEntityBold) || (tLRPC$MessageEntity instanceof TLRPC$TL_messageEntityItalic) || (tLRPC$MessageEntity instanceof TLRPC$TL_messageEntityPre) || (tLRPC$MessageEntity instanceof TLRPC$TL_messageEntityCode) || (tLRPC$MessageEntity instanceof TLRPC$TL_messageEntityTextUrl) || (tLRPC$MessageEntity instanceof TLRPC$TL_messageEntitySpoiler) || (tLRPC$MessageEntity instanceof TLRPC$TL_messageEntityCustomEmoji)) {
                        arrayList.add(tLRPC$MessageEntity);
                    }
                }
            }
            sendMessage(SendMessageParams.of(messageObject.messageOwner.message, j, messageObject.replyMessageObject, null, tLRPC$WebPage, true, arrayList, null, null, true, 0, null, false));
        } else if (DialogObject.isEncryptedDialog(j)) {
            ArrayList<MessageObject> arrayList4 = new ArrayList<>();
            arrayList4.add(messageObject);
            sendMessage(arrayList4, j, true, false, true, 0);
        }
    }

    public void sendScreenshotMessage(TLRPC$User tLRPC$User, int i, TLRPC$Message tLRPC$Message) {
        TLRPC$Message tLRPC$Message2 = tLRPC$Message;
        if (tLRPC$User == null || i == 0 || tLRPC$User.id == getUserConfig().getClientUserId()) {
            return;
        }
        TLRPC$TL_messages_sendScreenshotNotification tLRPC$TL_messages_sendScreenshotNotification = new TLRPC$TL_messages_sendScreenshotNotification();
        TLRPC$TL_inputPeerUser tLRPC$TL_inputPeerUser = new TLRPC$TL_inputPeerUser();
        tLRPC$TL_messages_sendScreenshotNotification.peer = tLRPC$TL_inputPeerUser;
        tLRPC$TL_inputPeerUser.access_hash = tLRPC$User.access_hash;
        tLRPC$TL_inputPeerUser.user_id = tLRPC$User.id;
        if (tLRPC$Message2 != null) {
            tLRPC$TL_messages_sendScreenshotNotification.reply_to = createReplyInput(i);
            tLRPC$TL_messages_sendScreenshotNotification.random_id = tLRPC$Message2.random_id;
        } else {
            tLRPC$Message2 = new TLRPC$TL_messageService();
            tLRPC$Message2.random_id = getNextRandomId();
            tLRPC$Message2.dialog_id = tLRPC$User.id;
            tLRPC$Message2.unread = true;
            tLRPC$Message2.out = true;
            int newMessageId = getUserConfig().getNewMessageId();
            tLRPC$Message2.id = newMessageId;
            tLRPC$Message2.local_id = newMessageId;
            TLRPC$TL_peerUser tLRPC$TL_peerUser = new TLRPC$TL_peerUser();
            tLRPC$Message2.from_id = tLRPC$TL_peerUser;
            tLRPC$TL_peerUser.user_id = getUserConfig().getClientUserId();
            int i2 = tLRPC$Message2.flags | LiteMode.FLAG_CHAT_BLUR;
            tLRPC$Message2.flags = i2;
            tLRPC$Message2.flags = i2 | 8;
            TLRPC$TL_messageReplyHeader tLRPC$TL_messageReplyHeader = new TLRPC$TL_messageReplyHeader();
            tLRPC$Message2.reply_to = tLRPC$TL_messageReplyHeader;
            tLRPC$TL_messageReplyHeader.flags |= 16;
            tLRPC$TL_messageReplyHeader.reply_to_msg_id = i;
            TLRPC$TL_peerUser tLRPC$TL_peerUser2 = new TLRPC$TL_peerUser();
            tLRPC$Message2.peer_id = tLRPC$TL_peerUser2;
            tLRPC$TL_peerUser2.user_id = tLRPC$User.id;
            tLRPC$Message2.date = getConnectionsManager().getCurrentTime();
            tLRPC$Message2.action = new TLRPC$TL_messageActionScreenshotTaken();
            getUserConfig().saveConfig(false);
        }
        tLRPC$TL_messages_sendScreenshotNotification.random_id = tLRPC$Message2.random_id;
        MessageObject messageObject = new MessageObject(this.currentAccount, tLRPC$Message2, false, true);
        messageObject.messageOwner.send_state = 1;
        messageObject.wasJustSent = true;
        ArrayList<MessageObject> arrayList = new ArrayList<>();
        arrayList.add(messageObject);
        getMessagesController().updateInterfaceWithMessages(tLRPC$Message2.dialog_id, arrayList, false);
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.dialogsNeedReload, new Object[0]);
        ArrayList<TLRPC$Message> arrayList2 = new ArrayList<>();
        arrayList2.add(tLRPC$Message2);
        getMessagesStorage().putMessages(arrayList2, false, true, false, 0, false, 0);
        performSendMessageRequest(tLRPC$TL_messages_sendScreenshotNotification, messageObject, null, null, null, null, false);
    }

    public void sendSticker(TLRPC$Document tLRPC$Document, String str, final long j, final MessageObject messageObject, final MessageObject messageObject2, final TL_stories$StoryItem tL_stories$StoryItem, final ChatActivity.ReplyQuote replyQuote, final MessageObject.SendAnimationData sendAnimationData, final boolean z, final int i, boolean z2, final Object obj) {
        final TLRPC$TL_document_layer82 tLRPC$TL_document_layer82;
        HashMap hashMap;
        TLRPC$PhotoSize tLRPC$PhotoSize;
        byte[] bArr;
        if (tLRPC$Document == null) {
            return;
        }
        if (DialogObject.isEncryptedDialog(j)) {
            if (getMessagesController().getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(j))) == null) {
                return;
            }
            TLRPC$TL_document_layer82 tLRPC$TL_document_layer822 = new TLRPC$TL_document_layer82();
            tLRPC$TL_document_layer822.id = tLRPC$Document.id;
            tLRPC$TL_document_layer822.access_hash = tLRPC$Document.access_hash;
            tLRPC$TL_document_layer822.date = tLRPC$Document.date;
            tLRPC$TL_document_layer822.mime_type = tLRPC$Document.mime_type;
            byte[] bArr2 = tLRPC$Document.file_reference;
            tLRPC$TL_document_layer822.file_reference = bArr2;
            if (bArr2 == null) {
                tLRPC$TL_document_layer822.file_reference = new byte[0];
            }
            tLRPC$TL_document_layer822.size = tLRPC$Document.size;
            tLRPC$TL_document_layer822.dc_id = tLRPC$Document.dc_id;
            tLRPC$TL_document_layer822.attributes = new ArrayList<>(tLRPC$Document.attributes);
            if (tLRPC$TL_document_layer822.mime_type == null) {
                tLRPC$TL_document_layer822.mime_type = "";
            }
            TLRPC$PhotoSize closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(tLRPC$Document.thumbs, 10);
            if ((closestPhotoSizeWithSize instanceof TLRPC$TL_photoSize) || (closestPhotoSizeWithSize instanceof TLRPC$TL_photoSizeProgressive) || (closestPhotoSizeWithSize instanceof TLRPC$TL_photoStrippedSize)) {
                File pathToAttach = FileLoader.getInstance(this.currentAccount).getPathToAttach(closestPhotoSizeWithSize, true);
                if ((closestPhotoSizeWithSize instanceof TLRPC$TL_photoStrippedSize) || pathToAttach.exists()) {
                    try {
                        if (closestPhotoSizeWithSize instanceof TLRPC$TL_photoStrippedSize) {
                            tLRPC$PhotoSize = new TLRPC$TL_photoStrippedSize();
                            bArr = closestPhotoSizeWithSize.bytes;
                        } else {
                            TLRPC$TL_photoCachedSize tLRPC$TL_photoCachedSize = new TLRPC$TL_photoCachedSize();
                            pathToAttach.length();
                            byte[] bArr3 = new byte[(int) pathToAttach.length()];
                            new RandomAccessFile(pathToAttach, "r").readFully(bArr3);
                            tLRPC$PhotoSize = tLRPC$TL_photoCachedSize;
                            bArr = bArr3;
                        }
                        TLRPC$TL_fileLocation_layer82 tLRPC$TL_fileLocation_layer82 = new TLRPC$TL_fileLocation_layer82();
                        TLRPC$FileLocation tLRPC$FileLocation = closestPhotoSizeWithSize.location;
                        tLRPC$TL_fileLocation_layer82.dc_id = tLRPC$FileLocation.dc_id;
                        tLRPC$TL_fileLocation_layer82.volume_id = tLRPC$FileLocation.volume_id;
                        tLRPC$TL_fileLocation_layer82.local_id = tLRPC$FileLocation.local_id;
                        tLRPC$TL_fileLocation_layer82.secret = tLRPC$FileLocation.secret;
                        tLRPC$PhotoSize.location = tLRPC$TL_fileLocation_layer82;
                        tLRPC$PhotoSize.size = closestPhotoSizeWithSize.size;
                        tLRPC$PhotoSize.w = closestPhotoSizeWithSize.w;
                        tLRPC$PhotoSize.h = closestPhotoSizeWithSize.h;
                        tLRPC$PhotoSize.type = closestPhotoSizeWithSize.type;
                        tLRPC$PhotoSize.bytes = bArr;
                        tLRPC$TL_document_layer822.thumbs.add(tLRPC$PhotoSize);
                        tLRPC$TL_document_layer822.flags |= 1;
                    } catch (Exception e) {
                        FileLog.e(e);
                    }
                }
            }
            if (tLRPC$TL_document_layer822.thumbs.isEmpty()) {
                TLRPC$TL_photoSizeEmpty tLRPC$TL_photoSizeEmpty = new TLRPC$TL_photoSizeEmpty();
                tLRPC$TL_photoSizeEmpty.type = "s";
                tLRPC$TL_document_layer822.thumbs.add(tLRPC$TL_photoSizeEmpty);
            }
            tLRPC$TL_document_layer82 = tLRPC$TL_document_layer822;
        } else {
            tLRPC$TL_document_layer82 = tLRPC$Document;
        }
        if (MessageObject.isGifDocument(tLRPC$TL_document_layer82)) {
            mediaSendQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda42
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.this.lambda$sendSticker$6(tLRPC$TL_document_layer82, j, messageObject, messageObject2, z, i, obj, sendAnimationData, tL_stories$StoryItem, replyQuote);
                }
            });
            return;
        }
        if (TextUtils.isEmpty(str)) {
            hashMap = null;
        } else {
            hashMap = new HashMap();
            hashMap.put("query", str);
        }
        SendMessageParams of = SendMessageParams.of((TLRPC$TL_document) tLRPC$TL_document_layer82, null, null, j, messageObject, messageObject2, null, null, null, hashMap, z, i, 0, obj, sendAnimationData, z2);
        of.replyToStoryItem = tL_stories$StoryItem;
        of.replyQuote = replyQuote;
        sendMessage(of);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendSticker$6(final TLRPC$Document tLRPC$Document, final long j, final MessageObject messageObject, final MessageObject messageObject2, final boolean z, final int i, final Object obj, final MessageObject.SendAnimationData sendAnimationData, final TL_stories$StoryItem tL_stories$StoryItem, final ChatActivity.ReplyQuote replyQuote) {
        String str;
        final Bitmap[] bitmapArr = new Bitmap[1];
        final String[] strArr = new String[1];
        String key = ImageLocation.getForDocument(tLRPC$Document).getKey(null, null, false);
        if ("video/mp4".equals(tLRPC$Document.mime_type)) {
            str = ".mp4";
        } else {
            str = "video/x-matroska".equals(tLRPC$Document.mime_type) ? ".mkv" : "";
        }
        File directory = FileLoader.getDirectory(3);
        File file = new File(directory, key + str);
        if (!file.exists()) {
            File directory2 = FileLoader.getDirectory(2);
            file = new File(directory2, key + str);
        }
        ensureMediaThumbExists(getAccountInstance(), false, tLRPC$Document, file.getAbsolutePath(), null, 0L);
        strArr[0] = getKeyForPhotoSize(getAccountInstance(), FileLoader.getClosestPhotoSizeWithSize(tLRPC$Document.thumbs, 320), bitmapArr, true, true);
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda72
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$sendSticker$5(bitmapArr, strArr, tLRPC$Document, j, messageObject, messageObject2, z, i, obj, sendAnimationData, tL_stories$StoryItem, replyQuote);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendSticker$5(Bitmap[] bitmapArr, String[] strArr, TLRPC$Document tLRPC$Document, long j, MessageObject messageObject, MessageObject messageObject2, boolean z, int i, Object obj, MessageObject.SendAnimationData sendAnimationData, TL_stories$StoryItem tL_stories$StoryItem, ChatActivity.ReplyQuote replyQuote) {
        if (bitmapArr[0] != null && strArr[0] != null) {
            ImageLoader.getInstance().putImageToCache(new BitmapDrawable(bitmapArr[0]), strArr[0], false);
        }
        SendMessageParams of = SendMessageParams.of((TLRPC$TL_document) tLRPC$Document, null, null, j, messageObject, messageObject2, null, null, null, null, z, i, 0, obj, sendAnimationData, false);
        of.replyToStoryItem = tL_stories$StoryItem;
        of.replyQuote = replyQuote;
        sendMessage(of);
    }

    public int sendMessage(ArrayList<MessageObject> arrayList, long j, boolean z, boolean z2, boolean z3, int i) {
        return sendMessage(arrayList, j, z, z2, z3, i, null);
    }

    /* JADX WARN: Code restructure failed: missing block: B:335:0x076f, code lost:
        if (r15.contains(java.lang.Integer.valueOf(r0.reply_to_msg_id)) != false) goto L245;
     */
    /* JADX WARN: Removed duplicated region for block: B:206:0x0466  */
    /* JADX WARN: Removed duplicated region for block: B:272:0x0603  */
    /* JADX WARN: Removed duplicated region for block: B:275:0x060d  */
    /* JADX WARN: Removed duplicated region for block: B:278:0x0626  */
    /* JADX WARN: Removed duplicated region for block: B:291:0x0680  */
    /* JADX WARN: Removed duplicated region for block: B:292:0x0692  */
    /* JADX WARN: Removed duplicated region for block: B:297:0x06af  */
    /* JADX WARN: Removed duplicated region for block: B:300:0x06da  */
    /* JADX WARN: Removed duplicated region for block: B:301:0x06dc  */
    /* JADX WARN: Removed duplicated region for block: B:334:0x0765  */
    /* JADX WARN: Removed duplicated region for block: B:339:0x078d  */
    /* JADX WARN: Removed duplicated region for block: B:340:0x078f  */
    /* JADX WARN: Removed duplicated region for block: B:343:0x07a8  */
    /* JADX WARN: Removed duplicated region for block: B:352:0x07e1  */
    /* JADX WARN: Removed duplicated region for block: B:353:0x07e3  */
    /* JADX WARN: Removed duplicated region for block: B:356:0x07eb  */
    /* JADX WARN: Removed duplicated region for block: B:358:0x0821  */
    /* JADX WARN: Removed duplicated region for block: B:364:0x0851  */
    /* JADX WARN: Removed duplicated region for block: B:374:0x08a9  */
    /* JADX WARN: Removed duplicated region for block: B:375:0x08ac  */
    /* JADX WARN: Removed duplicated region for block: B:378:0x08bb  */
    /* JADX WARN: Removed duplicated region for block: B:379:0x08bd  */
    /* JADX WARN: Removed duplicated region for block: B:382:0x08dd  */
    /* JADX WARN: Removed duplicated region for block: B:389:0x0904  */
    /* JADX WARN: Removed duplicated region for block: B:391:0x0912  */
    /* JADX WARN: Removed duplicated region for block: B:394:0x0922  */
    /* JADX WARN: Removed duplicated region for block: B:397:0x094c  */
    /* JADX WARN: Removed duplicated region for block: B:400:0x096e  */
    /* JADX WARN: Removed duplicated region for block: B:403:0x097f A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:407:0x098d  */
    /* JADX WARN: Removed duplicated region for block: B:408:0x0990  */
    /* JADX WARN: Removed duplicated region for block: B:411:0x09ec  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public int sendMessage(ArrayList<MessageObject> arrayList, final long j, boolean z, boolean z2, boolean z3, final int i, MessageObject messageObject) {
        TLRPC$UserFull userFull;
        TLRPC$Peer tLRPC$Peer;
        long j2;
        boolean z4;
        boolean z5;
        long j3;
        boolean z6;
        String str;
        boolean z7;
        boolean z8;
        boolean z9;
        boolean z10;
        long j4;
        boolean z11;
        boolean z12;
        boolean canSendEmbed;
        boolean canSendPolls;
        boolean canSendRoundVideo;
        boolean canSendVoice;
        boolean canSendMusic;
        TLRPC$Chat tLRPC$Chat;
        String str2;
        LongSparseArray longSparseArray;
        long j5;
        final LongSparseArray longSparseArray2;
        long j6;
        String str3;
        TLRPC$Chat tLRPC$Chat2;
        int i2;
        final TLRPC$Peer tLRPC$Peer2;
        ArrayList<MessageObject> arrayList2;
        TLRPC$InputPeer tLRPC$InputPeer;
        ArrayList<Integer> arrayList3;
        final ArrayList arrayList4;
        ArrayList<Long> arrayList5;
        int i3;
        boolean z13;
        ArrayList<Long> arrayList6;
        long j7;
        LongSparseArray longSparseArray3;
        String str4;
        TLRPC$Chat tLRPC$Chat3;
        LongSparseArray longSparseArray4;
        long j8;
        long j9;
        long j10;
        TLRPC$Peer tLRPC$Peer3;
        TLRPC$Chat tLRPC$Chat4;
        long sendAsPeerId;
        String str5;
        boolean z14;
        LongSparseArray longSparseArray5;
        TLRPC$Message tLRPC$Message;
        long j11;
        ArrayList arrayList7;
        ArrayList<MessageObject> arrayList8;
        ArrayList<Long> arrayList9;
        ArrayList<Integer> arrayList10;
        int i4;
        boolean z15;
        int i5;
        boolean z16;
        TLRPC$Message tLRPC$Message2;
        TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader;
        TLRPC$Peer tLRPC$Peer4;
        TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader2;
        TLRPC$TL_keyboardButtonRow tLRPC$TL_keyboardButtonRow;
        TLRPC$User user;
        TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader;
        TLRPC$Peer tLRPC$Peer5;
        int i6;
        boolean z17;
        boolean z18;
        ArrayList<MessageObject> arrayList11 = arrayList;
        long j12 = j;
        boolean z19 = z;
        boolean z20 = z2;
        if (arrayList11 == null || arrayList.isEmpty()) {
            return 0;
        }
        long clientUserId = getUserConfig().getClientUserId();
        if (!DialogObject.isEncryptedDialog(j)) {
            TLRPC$Peer peer = getMessagesController().getPeer(j12);
            if (DialogObject.isUserDialog(j)) {
                if (getMessagesController().getUser(Long.valueOf(j)) == null) {
                    return 0;
                }
                TLRPC$UserFull userFull2 = getMessagesController().getUserFull(j12);
                if (userFull2 != null) {
                    z17 = !userFull2.voice_messages_forbidden;
                    z18 = z17;
                } else {
                    z17 = true;
                    z18 = true;
                }
                canSendVoice = z17;
                canSendRoundVideo = z18;
                tLRPC$Peer = peer;
                j4 = 0;
                str2 = null;
                tLRPC$Chat = null;
                z8 = false;
                z7 = true;
                z9 = false;
                z10 = true;
                z11 = true;
                z12 = true;
                canSendEmbed = true;
                canSendPolls = true;
                canSendMusic = true;
            } else {
                TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(-j12));
                if (ChatObject.isChannel(chat)) {
                    z4 = chat.signatures;
                    z5 = !chat.megagroup;
                    if (z5 && chat.has_link) {
                        tLRPC$Peer = peer;
                        TLRPC$ChatFull chatFull = getMessagesController().getChatFull(chat.id);
                        if (chatFull != null) {
                            j2 = chatFull.linked_chat_id;
                        }
                    } else {
                        tLRPC$Peer = peer;
                    }
                    j2 = 0;
                } else {
                    tLRPC$Peer = peer;
                    j2 = 0;
                    z4 = false;
                    z5 = false;
                }
                if (chat != null) {
                    j3 = j2;
                    z6 = z4;
                    str = getMessagesController().getAdminRank(chat.id, clientUserId);
                } else {
                    j3 = j2;
                    z6 = z4;
                    str = null;
                }
                boolean canSendStickers = ChatObject.canSendStickers(chat);
                boolean canSendPhoto = ChatObject.canSendPhoto(chat);
                boolean canSendVideo = ChatObject.canSendVideo(chat);
                boolean canSendDocument = ChatObject.canSendDocument(chat);
                z7 = canSendStickers;
                z8 = z6;
                z9 = z5;
                z10 = canSendPhoto;
                j4 = j3;
                z11 = canSendVideo;
                z12 = canSendDocument;
                canSendEmbed = ChatObject.canSendEmbed(chat);
                canSendPolls = ChatObject.canSendPolls(chat);
                canSendRoundVideo = ChatObject.canSendRoundVideo(chat);
                canSendVoice = ChatObject.canSendVoice(chat);
                canSendMusic = ChatObject.canSendMusic(chat);
                tLRPC$Chat = chat;
                str2 = str;
            }
            LongSparseArray longSparseArray6 = new LongSparseArray();
            ArrayList<MessageObject> arrayList12 = new ArrayList<>();
            ArrayList arrayList13 = new ArrayList();
            ArrayList<Long> arrayList14 = new ArrayList<>();
            ArrayList<Integer> arrayList15 = new ArrayList<>();
            LongSparseArray longSparseArray7 = new LongSparseArray();
            TLRPC$InputPeer inputPeer = getMessagesController().getInputPeer(j12);
            boolean z21 = j12 == clientUserId;
            ArrayList arrayList16 = arrayList13;
            int i7 = 0;
            int i8 = 0;
            ArrayList<MessageObject> arrayList17 = arrayList12;
            ArrayList<Long> arrayList18 = arrayList14;
            TLRPC$InputPeer tLRPC$InputPeer2 = inputPeer;
            LongSparseArray longSparseArray8 = longSparseArray7;
            while (i7 < arrayList.size()) {
                final MessageObject messageObject2 = arrayList11.get(i7);
                if (messageObject2.getId() <= 0 || messageObject2.needDrawBluredPreview()) {
                    longSparseArray = longSparseArray6;
                    j5 = j4;
                    longSparseArray2 = longSparseArray8;
                    j6 = clientUserId;
                    str3 = str2;
                    tLRPC$Chat2 = tLRPC$Chat;
                    i2 = i7;
                    tLRPC$Peer2 = tLRPC$Peer;
                    arrayList2 = arrayList17;
                    tLRPC$InputPeer = tLRPC$InputPeer2;
                    arrayList3 = arrayList15;
                    arrayList4 = arrayList16;
                    arrayList5 = arrayList18;
                    if (messageObject2.type == 0 && !TextUtils.isEmpty(messageObject2.messageText)) {
                        TLRPC$MessageMedia tLRPC$MessageMedia = messageObject2.messageOwner.media;
                        TLRPC$WebPage tLRPC$WebPage = tLRPC$MessageMedia != null ? tLRPC$MessageMedia.webpage : null;
                        sendMessage(SendMessageParams.of(messageObject2.messageText.toString(), j, null, messageObject, tLRPC$WebPage, tLRPC$WebPage != null, messageObject2.messageOwner.entities, null, null, z3, i, null, false));
                        arrayList18 = arrayList5;
                        arrayList17 = arrayList2;
                        arrayList16 = arrayList4;
                        longSparseArray8 = longSparseArray2;
                        arrayList15 = arrayList3;
                    }
                    arrayList18 = arrayList5;
                    arrayList17 = arrayList2;
                    arrayList16 = arrayList4;
                    longSparseArray8 = longSparseArray2;
                    arrayList15 = arrayList3;
                } else {
                    if (messageObject2.isSticker() || messageObject2.isAnimatedSticker() || messageObject2.isGif() || messageObject2.isGame()) {
                        i3 = i7;
                        z13 = true;
                    } else {
                        i3 = i7;
                        z13 = false;
                    }
                    if (!z7 && z13) {
                        if (i8 == 0) {
                            i6 = ChatObject.isActionBannedByDefault(tLRPC$Chat, 8) ? 4 : 1;
                            longSparseArray = longSparseArray6;
                            j5 = j4;
                            j6 = clientUserId;
                            str3 = str2;
                            tLRPC$Chat2 = tLRPC$Chat;
                            i8 = i6;
                            tLRPC$Peer2 = tLRPC$Peer;
                            tLRPC$InputPeer = tLRPC$InputPeer2;
                            i2 = i3;
                        }
                        longSparseArray = longSparseArray6;
                        j5 = j4;
                        longSparseArray2 = longSparseArray8;
                        j6 = clientUserId;
                        str3 = str2;
                        tLRPC$Chat2 = tLRPC$Chat;
                        tLRPC$Peer2 = tLRPC$Peer;
                        arrayList2 = arrayList17;
                        tLRPC$InputPeer = tLRPC$InputPeer2;
                        arrayList3 = arrayList15;
                        i2 = i3;
                        arrayList4 = arrayList16;
                        arrayList5 = arrayList18;
                        arrayList18 = arrayList5;
                        arrayList17 = arrayList2;
                        arrayList16 = arrayList4;
                        longSparseArray8 = longSparseArray2;
                        arrayList15 = arrayList3;
                    } else if (!z10 && (messageObject2.messageOwner.media instanceof TLRPC$TL_messageMediaPhoto) && !messageObject2.isVideo() && !z13) {
                        if (i8 == 0) {
                            i6 = ChatObject.isActionBannedByDefault(tLRPC$Chat, 16) ? 10 : 12;
                            longSparseArray = longSparseArray6;
                            j5 = j4;
                            j6 = clientUserId;
                            str3 = str2;
                            tLRPC$Chat2 = tLRPC$Chat;
                            i8 = i6;
                            tLRPC$Peer2 = tLRPC$Peer;
                            tLRPC$InputPeer = tLRPC$InputPeer2;
                            i2 = i3;
                        }
                        longSparseArray = longSparseArray6;
                        j5 = j4;
                        longSparseArray2 = longSparseArray8;
                        j6 = clientUserId;
                        str3 = str2;
                        tLRPC$Chat2 = tLRPC$Chat;
                        tLRPC$Peer2 = tLRPC$Peer;
                        arrayList2 = arrayList17;
                        tLRPC$InputPeer = tLRPC$InputPeer2;
                        arrayList3 = arrayList15;
                        i2 = i3;
                        arrayList4 = arrayList16;
                        arrayList5 = arrayList18;
                        arrayList18 = arrayList5;
                        arrayList17 = arrayList2;
                        arrayList16 = arrayList4;
                        longSparseArray8 = longSparseArray2;
                        arrayList15 = arrayList3;
                    } else if (!canSendMusic && messageObject2.isMusic()) {
                        if (i8 == 0) {
                            i6 = ChatObject.isActionBannedByDefault(tLRPC$Chat, 18) ? 19 : 20;
                            longSparseArray = longSparseArray6;
                            j5 = j4;
                            j6 = clientUserId;
                            str3 = str2;
                            tLRPC$Chat2 = tLRPC$Chat;
                            i8 = i6;
                            tLRPC$Peer2 = tLRPC$Peer;
                            tLRPC$InputPeer = tLRPC$InputPeer2;
                            i2 = i3;
                        }
                        longSparseArray = longSparseArray6;
                        j5 = j4;
                        longSparseArray2 = longSparseArray8;
                        j6 = clientUserId;
                        str3 = str2;
                        tLRPC$Chat2 = tLRPC$Chat;
                        tLRPC$Peer2 = tLRPC$Peer;
                        arrayList2 = arrayList17;
                        tLRPC$InputPeer = tLRPC$InputPeer2;
                        arrayList3 = arrayList15;
                        i2 = i3;
                        arrayList4 = arrayList16;
                        arrayList5 = arrayList18;
                        arrayList18 = arrayList5;
                        arrayList17 = arrayList2;
                        arrayList16 = arrayList4;
                        longSparseArray8 = longSparseArray2;
                        arrayList15 = arrayList3;
                    } else if (!z11 && (messageObject2.messageOwner.media instanceof TLRPC$TL_messageMediaPhoto) && messageObject2.isVideo() && !z13) {
                        if (i8 == 0) {
                            i6 = ChatObject.isActionBannedByDefault(tLRPC$Chat, 17) ? 9 : 11;
                            longSparseArray = longSparseArray6;
                            j5 = j4;
                            j6 = clientUserId;
                            str3 = str2;
                            tLRPC$Chat2 = tLRPC$Chat;
                            i8 = i6;
                            tLRPC$Peer2 = tLRPC$Peer;
                            tLRPC$InputPeer = tLRPC$InputPeer2;
                            i2 = i3;
                        }
                        longSparseArray = longSparseArray6;
                        j5 = j4;
                        longSparseArray2 = longSparseArray8;
                        j6 = clientUserId;
                        str3 = str2;
                        tLRPC$Chat2 = tLRPC$Chat;
                        tLRPC$Peer2 = tLRPC$Peer;
                        arrayList2 = arrayList17;
                        tLRPC$InputPeer = tLRPC$InputPeer2;
                        arrayList3 = arrayList15;
                        i2 = i3;
                        arrayList4 = arrayList16;
                        arrayList5 = arrayList18;
                        arrayList18 = arrayList5;
                        arrayList17 = arrayList2;
                        arrayList16 = arrayList4;
                        longSparseArray8 = longSparseArray2;
                        arrayList15 = arrayList3;
                    } else if (!canSendPolls && (messageObject2.messageOwner.media instanceof TLRPC$TL_messageMediaPoll)) {
                        if (i8 == 0) {
                            i6 = ChatObject.isActionBannedByDefault(tLRPC$Chat, 10) ? 6 : 3;
                            longSparseArray = longSparseArray6;
                            j5 = j4;
                            j6 = clientUserId;
                            str3 = str2;
                            tLRPC$Chat2 = tLRPC$Chat;
                            i8 = i6;
                            tLRPC$Peer2 = tLRPC$Peer;
                            tLRPC$InputPeer = tLRPC$InputPeer2;
                            i2 = i3;
                        }
                        longSparseArray = longSparseArray6;
                        j5 = j4;
                        longSparseArray2 = longSparseArray8;
                        j6 = clientUserId;
                        str3 = str2;
                        tLRPC$Chat2 = tLRPC$Chat;
                        tLRPC$Peer2 = tLRPC$Peer;
                        arrayList2 = arrayList17;
                        tLRPC$InputPeer = tLRPC$InputPeer2;
                        arrayList3 = arrayList15;
                        i2 = i3;
                        arrayList4 = arrayList16;
                        arrayList5 = arrayList18;
                        arrayList18 = arrayList5;
                        arrayList17 = arrayList2;
                        arrayList16 = arrayList4;
                        longSparseArray8 = longSparseArray2;
                        arrayList15 = arrayList3;
                    } else if (!canSendVoice && MessageObject.isVoiceMessage(messageObject2.messageOwner)) {
                        if (tLRPC$Chat != null) {
                            if (i8 == 0) {
                                i6 = ChatObject.isActionBannedByDefault(tLRPC$Chat, 20) ? 13 : 14;
                                longSparseArray = longSparseArray6;
                                j5 = j4;
                                j6 = clientUserId;
                                str3 = str2;
                                tLRPC$Chat2 = tLRPC$Chat;
                                i8 = i6;
                                tLRPC$Peer2 = tLRPC$Peer;
                                tLRPC$InputPeer = tLRPC$InputPeer2;
                                i2 = i3;
                            }
                        } else if (i8 == 0) {
                            longSparseArray = longSparseArray6;
                            j5 = j4;
                            j6 = clientUserId;
                            str3 = str2;
                            tLRPC$Chat2 = tLRPC$Chat;
                            tLRPC$Peer2 = tLRPC$Peer;
                            tLRPC$InputPeer = tLRPC$InputPeer2;
                            i2 = i3;
                            i8 = 7;
                        }
                        longSparseArray = longSparseArray6;
                        j5 = j4;
                        longSparseArray2 = longSparseArray8;
                        j6 = clientUserId;
                        str3 = str2;
                        tLRPC$Chat2 = tLRPC$Chat;
                        tLRPC$Peer2 = tLRPC$Peer;
                        arrayList2 = arrayList17;
                        tLRPC$InputPeer = tLRPC$InputPeer2;
                        arrayList3 = arrayList15;
                        i2 = i3;
                        arrayList4 = arrayList16;
                        arrayList5 = arrayList18;
                        arrayList18 = arrayList5;
                        arrayList17 = arrayList2;
                        arrayList16 = arrayList4;
                        longSparseArray8 = longSparseArray2;
                        arrayList15 = arrayList3;
                    } else if (!canSendRoundVideo && MessageObject.isRoundVideoMessage(messageObject2.messageOwner)) {
                        if (tLRPC$Chat != null) {
                            if (i8 == 0) {
                                i6 = ChatObject.isActionBannedByDefault(tLRPC$Chat, 21) ? 15 : 16;
                                longSparseArray = longSparseArray6;
                                j5 = j4;
                                j6 = clientUserId;
                                str3 = str2;
                                tLRPC$Chat2 = tLRPC$Chat;
                                i8 = i6;
                                tLRPC$Peer2 = tLRPC$Peer;
                                tLRPC$InputPeer = tLRPC$InputPeer2;
                                i2 = i3;
                            }
                        } else if (i8 == 0) {
                            longSparseArray = longSparseArray6;
                            j5 = j4;
                            j6 = clientUserId;
                            str3 = str2;
                            tLRPC$Chat2 = tLRPC$Chat;
                            tLRPC$Peer2 = tLRPC$Peer;
                            tLRPC$InputPeer = tLRPC$InputPeer2;
                            i2 = i3;
                            i8 = 8;
                        }
                        longSparseArray = longSparseArray6;
                        j5 = j4;
                        longSparseArray2 = longSparseArray8;
                        j6 = clientUserId;
                        str3 = str2;
                        tLRPC$Chat2 = tLRPC$Chat;
                        tLRPC$Peer2 = tLRPC$Peer;
                        arrayList2 = arrayList17;
                        tLRPC$InputPeer = tLRPC$InputPeer2;
                        arrayList3 = arrayList15;
                        i2 = i3;
                        arrayList4 = arrayList16;
                        arrayList5 = arrayList18;
                        arrayList18 = arrayList5;
                        arrayList17 = arrayList2;
                        arrayList16 = arrayList4;
                        longSparseArray8 = longSparseArray2;
                        arrayList15 = arrayList3;
                    } else if (z12 || !(messageObject2.messageOwner.media instanceof TLRPC$TL_messageMediaDocument) || z13) {
                        TLRPC$TL_message tLRPC$TL_message = new TLRPC$TL_message();
                        if (z19) {
                            arrayList6 = arrayList18;
                            j7 = j4;
                            longSparseArray3 = longSparseArray8;
                            str4 = str2;
                            tLRPC$Chat3 = tLRPC$Chat;
                            longSparseArray4 = longSparseArray6;
                        } else {
                            boolean z22 = messageObject2.getDialogId() == clientUserId && messageObject2.isFromUser() && messageObject2.messageOwner.from_id.user_id == clientUserId;
                            if (messageObject2.isForwarded()) {
                                TLRPC$TL_messageFwdHeader tLRPC$TL_messageFwdHeader = new TLRPC$TL_messageFwdHeader();
                                tLRPC$TL_message.fwd_from = tLRPC$TL_messageFwdHeader;
                                TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader2 = messageObject2.messageOwner.fwd_from;
                                longSparseArray3 = longSparseArray8;
                                if ((tLRPC$MessageFwdHeader2.flags & 1) != 0) {
                                    tLRPC$TL_messageFwdHeader.flags |= 1;
                                    tLRPC$TL_messageFwdHeader.from_id = tLRPC$MessageFwdHeader2.from_id;
                                }
                                if ((tLRPC$MessageFwdHeader2.flags & 32) != 0) {
                                    tLRPC$TL_messageFwdHeader.flags |= 32;
                                    tLRPC$TL_messageFwdHeader.from_name = tLRPC$MessageFwdHeader2.from_name;
                                }
                                if ((tLRPC$MessageFwdHeader2.flags & 4) != 0) {
                                    tLRPC$TL_messageFwdHeader.flags |= 4;
                                    tLRPC$TL_messageFwdHeader.channel_post = tLRPC$MessageFwdHeader2.channel_post;
                                }
                                if ((tLRPC$MessageFwdHeader2.flags & 8) != 0) {
                                    tLRPC$TL_messageFwdHeader.flags |= 8;
                                    tLRPC$TL_messageFwdHeader.post_author = tLRPC$MessageFwdHeader2.post_author;
                                }
                                if ((j12 == clientUserId || z9) && (tLRPC$MessageFwdHeader2.flags & 16) != 0 && !UserObject.isReplyUser(messageObject2.getDialogId())) {
                                    TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader3 = tLRPC$TL_message.fwd_from;
                                    tLRPC$MessageFwdHeader3.flags |= 16;
                                    TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader4 = messageObject2.messageOwner.fwd_from;
                                    tLRPC$MessageFwdHeader3.saved_from_peer = tLRPC$MessageFwdHeader4.saved_from_peer;
                                    tLRPC$MessageFwdHeader3.saved_from_msg_id = tLRPC$MessageFwdHeader4.saved_from_msg_id;
                                }
                                tLRPC$TL_message.fwd_from.date = messageObject2.messageOwner.fwd_from.date;
                                tLRPC$TL_message.flags = 4;
                            } else {
                                longSparseArray3 = longSparseArray8;
                                if (!z22) {
                                    long fromChatId = messageObject2.getFromChatId();
                                    TLRPC$TL_messageFwdHeader tLRPC$TL_messageFwdHeader2 = new TLRPC$TL_messageFwdHeader();
                                    tLRPC$TL_message.fwd_from = tLRPC$TL_messageFwdHeader2;
                                    arrayList6 = arrayList18;
                                    tLRPC$TL_messageFwdHeader2.channel_post = messageObject2.getId();
                                    tLRPC$TL_message.fwd_from.flags |= 4;
                                    if (messageObject2.isFromUser()) {
                                        TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader5 = tLRPC$TL_message.fwd_from;
                                        tLRPC$MessageFwdHeader5.from_id = messageObject2.messageOwner.from_id;
                                        tLRPC$MessageFwdHeader5.flags |= 1;
                                        j7 = j4;
                                        str4 = str2;
                                        tLRPC$Chat3 = tLRPC$Chat;
                                        longSparseArray4 = longSparseArray6;
                                    } else {
                                        tLRPC$TL_message.fwd_from.from_id = new TLRPC$TL_peerChannel();
                                        TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader6 = tLRPC$TL_message.fwd_from;
                                        TLRPC$Peer tLRPC$Peer6 = tLRPC$MessageFwdHeader6.from_id;
                                        str4 = str2;
                                        TLRPC$Message tLRPC$Message3 = messageObject2.messageOwner;
                                        tLRPC$Chat3 = tLRPC$Chat;
                                        TLRPC$Peer tLRPC$Peer7 = tLRPC$Message3.peer_id;
                                        j7 = j4;
                                        longSparseArray4 = longSparseArray6;
                                        tLRPC$Peer6.channel_id = tLRPC$Peer7.channel_id;
                                        tLRPC$MessageFwdHeader6.flags |= 1;
                                        if (tLRPC$Message3.post && fromChatId > 0) {
                                            TLRPC$Peer tLRPC$Peer8 = tLRPC$Message3.from_id;
                                            if (tLRPC$Peer8 != null) {
                                                tLRPC$Peer7 = tLRPC$Peer8;
                                            }
                                            tLRPC$MessageFwdHeader6.from_id = tLRPC$Peer7;
                                        }
                                    }
                                    if (messageObject2.messageOwner.post_author == null && !messageObject2.isOutOwner() && fromChatId > 0 && messageObject2.messageOwner.post && (user = getMessagesController().getUser(Long.valueOf(fromChatId))) != null) {
                                        tLRPC$TL_message.fwd_from.post_author = ContactsController.formatName(user.first_name, user.last_name);
                                        tLRPC$TL_message.fwd_from.flags |= 8;
                                    }
                                    tLRPC$TL_message.date = messageObject2.messageOwner.date;
                                    tLRPC$TL_message.flags = 4;
                                    if (j12 == clientUserId && (tLRPC$MessageFwdHeader = tLRPC$TL_message.fwd_from) != null) {
                                        tLRPC$MessageFwdHeader.flags |= 16;
                                        tLRPC$MessageFwdHeader.saved_from_msg_id = messageObject2.getId();
                                        TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader7 = tLRPC$TL_message.fwd_from;
                                        tLRPC$Peer5 = messageObject2.messageOwner.peer_id;
                                        tLRPC$MessageFwdHeader7.saved_from_peer = tLRPC$Peer5;
                                        if (tLRPC$Peer5.user_id == clientUserId) {
                                            tLRPC$Peer5.user_id = messageObject2.getDialogId();
                                        }
                                    }
                                }
                            }
                            arrayList6 = arrayList18;
                            j7 = j4;
                            str4 = str2;
                            tLRPC$Chat3 = tLRPC$Chat;
                            longSparseArray4 = longSparseArray6;
                            if (j12 == clientUserId) {
                                tLRPC$MessageFwdHeader.flags |= 16;
                                tLRPC$MessageFwdHeader.saved_from_msg_id = messageObject2.getId();
                                TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader72 = tLRPC$TL_message.fwd_from;
                                tLRPC$Peer5 = messageObject2.messageOwner.peer_id;
                                tLRPC$MessageFwdHeader72.saved_from_peer = tLRPC$Peer5;
                                if (tLRPC$Peer5.user_id == clientUserId) {
                                }
                            }
                        }
                        HashMap<String, String> hashMap = new HashMap<>();
                        tLRPC$TL_message.params = hashMap;
                        hashMap.put("fwd_id", "" + messageObject2.getId());
                        tLRPC$TL_message.params.put("fwd_peer", "" + messageObject2.getDialogId());
                        if (!messageObject2.messageOwner.restriction_reason.isEmpty()) {
                            tLRPC$TL_message.restriction_reason = messageObject2.messageOwner.restriction_reason;
                            tLRPC$TL_message.flags |= 4194304;
                        }
                        if (!canSendEmbed && (messageObject2.messageOwner.media instanceof TLRPC$TL_messageMediaWebPage)) {
                            tLRPC$TL_message.media = new TLRPC$TL_messageMediaEmpty();
                        } else {
                            tLRPC$TL_message.media = messageObject2.messageOwner.media;
                        }
                        if (tLRPC$TL_message.media != null) {
                            tLRPC$TL_message.flags |= LiteMode.FLAG_CALLS_ANIMATIONS;
                        }
                        long j13 = messageObject2.messageOwner.via_bot_id;
                        if (j13 != 0) {
                            tLRPC$TL_message.via_bot_id = j13;
                            tLRPC$TL_message.flags |= LiteMode.FLAG_AUTOPLAY_GIFS;
                        }
                        if (j7 != 0) {
                            TLRPC$TL_messageReplies tLRPC$TL_messageReplies = new TLRPC$TL_messageReplies();
                            tLRPC$TL_message.replies = tLRPC$TL_messageReplies;
                            tLRPC$TL_messageReplies.comments = true;
                            j8 = j7;
                            tLRPC$TL_messageReplies.channel_id = j8;
                            tLRPC$TL_messageReplies.flags |= 1;
                            tLRPC$TL_message.flags |= 8388608;
                        } else {
                            j8 = j7;
                        }
                        if (!z20 || tLRPC$TL_message.media == null) {
                            tLRPC$TL_message.message = messageObject2.messageOwner.message;
                        }
                        if (tLRPC$TL_message.message == null) {
                            tLRPC$TL_message.message = "";
                        }
                        tLRPC$TL_message.fwd_msg_id = messageObject2.getId();
                        TLRPC$Message tLRPC$Message4 = messageObject2.messageOwner;
                        tLRPC$TL_message.attachPath = tLRPC$Message4.attachPath;
                        tLRPC$TL_message.entities = tLRPC$Message4.entities;
                        if (tLRPC$Message4.reply_markup instanceof TLRPC$TL_replyInlineMarkup) {
                            tLRPC$TL_message.reply_markup = new TLRPC$TL_replyInlineMarkup();
                            int size = messageObject2.messageOwner.reply_markup.rows.size();
                            int i9 = 0;
                            boolean z23 = false;
                            while (true) {
                                if (i9 >= size) {
                                    j9 = j8;
                                    break;
                                }
                                TLRPC$TL_keyboardButtonRow tLRPC$TL_keyboardButtonRow2 = messageObject2.messageOwner.reply_markup.rows.get(i9);
                                int size2 = tLRPC$TL_keyboardButtonRow2.buttons.size();
                                int i10 = size;
                                int i11 = 0;
                                TLRPC$TL_keyboardButtonRow tLRPC$TL_keyboardButtonRow3 = null;
                                while (true) {
                                    boolean z24 = z23;
                                    if (i11 >= size2) {
                                        j9 = j8;
                                        break;
                                    }
                                    TLRPC$KeyboardButton tLRPC$KeyboardButton = tLRPC$TL_keyboardButtonRow2.buttons.get(i11);
                                    j9 = j8;
                                    boolean z25 = tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonUrlAuth;
                                    if (!z25 && !(tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonUrl) && !(tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonSwitchInline) && !(tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonBuy)) {
                                        z23 = true;
                                        break;
                                    }
                                    if (z25) {
                                        TLRPC$TL_keyboardButtonUrlAuth tLRPC$TL_keyboardButtonUrlAuth = new TLRPC$TL_keyboardButtonUrlAuth();
                                        tLRPC$TL_keyboardButtonUrlAuth.flags = tLRPC$KeyboardButton.flags;
                                        String str6 = tLRPC$KeyboardButton.fwd_text;
                                        if (str6 != null) {
                                            tLRPC$TL_keyboardButtonUrlAuth.fwd_text = str6;
                                            tLRPC$TL_keyboardButtonUrlAuth.text = str6;
                                        } else {
                                            tLRPC$TL_keyboardButtonUrlAuth.text = tLRPC$KeyboardButton.text;
                                        }
                                        tLRPC$TL_keyboardButtonUrlAuth.url = tLRPC$KeyboardButton.url;
                                        tLRPC$TL_keyboardButtonUrlAuth.button_id = tLRPC$KeyboardButton.button_id;
                                        tLRPC$KeyboardButton = tLRPC$TL_keyboardButtonUrlAuth;
                                    }
                                    if (tLRPC$TL_keyboardButtonRow3 == null) {
                                        tLRPC$TL_keyboardButtonRow = new TLRPC$TL_keyboardButtonRow();
                                        tLRPC$TL_message.reply_markup.rows.add(tLRPC$TL_keyboardButtonRow);
                                    } else {
                                        tLRPC$TL_keyboardButtonRow = tLRPC$TL_keyboardButtonRow3;
                                    }
                                    tLRPC$TL_keyboardButtonRow.buttons.add(tLRPC$KeyboardButton);
                                    i11++;
                                    tLRPC$TL_keyboardButtonRow3 = tLRPC$TL_keyboardButtonRow;
                                    z23 = z24;
                                    j8 = j9;
                                }
                                if (z23) {
                                    break;
                                }
                                i9++;
                                size = i10;
                                j8 = j9;
                            }
                            if (z23) {
                                messageObject2.messageOwner.reply_markup = null;
                                tLRPC$TL_message.flags &= -65;
                                if (!tLRPC$TL_message.entities.isEmpty()) {
                                    tLRPC$TL_message.flags |= 128;
                                }
                                if (tLRPC$TL_message.attachPath == null) {
                                    tLRPC$TL_message.attachPath = "";
                                }
                                int newMessageId = getUserConfig().getNewMessageId();
                                tLRPC$TL_message.id = newMessageId;
                                tLRPC$TL_message.local_id = newMessageId;
                                tLRPC$TL_message.out = true;
                                j10 = messageObject2.messageOwner.grouped_id;
                                if (j10 != 0) {
                                    Long l = (Long) longSparseArray4.get(j10);
                                    if (l == null) {
                                        l = Long.valueOf(Utilities.random.nextLong());
                                        longSparseArray4.put(messageObject2.messageOwner.grouped_id, l);
                                    }
                                    tLRPC$TL_message.grouped_id = l.longValue();
                                    tLRPC$TL_message.flags |= 131072;
                                }
                                tLRPC$Peer3 = tLRPC$Peer;
                                if (tLRPC$Peer3.channel_id == 0 && z9) {
                                    if (z8) {
                                        TLRPC$TL_peerUser tLRPC$TL_peerUser = new TLRPC$TL_peerUser();
                                        tLRPC$TL_message.from_id = tLRPC$TL_peerUser;
                                        tLRPC$TL_peerUser.user_id = clientUserId;
                                    } else {
                                        tLRPC$TL_message.from_id = tLRPC$Peer3;
                                    }
                                    tLRPC$TL_message.post = true;
                                    str5 = str4;
                                    tLRPC$Chat4 = tLRPC$Chat3;
                                } else {
                                    tLRPC$Chat4 = tLRPC$Chat3;
                                    sendAsPeerId = ChatObject.getSendAsPeerId(tLRPC$Chat4, getMessagesController().getChatFull(-j12), true);
                                    if (sendAsPeerId != clientUserId) {
                                        TLRPC$TL_peerUser tLRPC$TL_peerUser2 = new TLRPC$TL_peerUser();
                                        tLRPC$TL_message.from_id = tLRPC$TL_peerUser2;
                                        tLRPC$TL_peerUser2.user_id = clientUserId;
                                        tLRPC$TL_message.flags |= LiteMode.FLAG_CHAT_BLUR;
                                        str5 = str4;
                                    } else {
                                        tLRPC$TL_message.from_id = getMessagesController().getPeer(sendAsPeerId);
                                        str5 = str4;
                                        if (str4 != null) {
                                            tLRPC$TL_message.post_author = str5;
                                            tLRPC$TL_message.flags |= 65536;
                                        }
                                    }
                                }
                                if (tLRPC$TL_message.random_id == 0) {
                                    tLRPC$TL_message.random_id = getNextRandomId();
                                }
                                ArrayList<Long> arrayList19 = arrayList6;
                                arrayList19.add(Long.valueOf(tLRPC$TL_message.random_id));
                                LongSparseArray longSparseArray9 = longSparseArray3;
                                longSparseArray9.put(tLRPC$TL_message.random_id, tLRPC$TL_message);
                                ArrayList<Integer> arrayList20 = arrayList15;
                                arrayList20.add(Integer.valueOf(tLRPC$TL_message.fwd_msg_id));
                                tLRPC$Chat2 = tLRPC$Chat4;
                                int i12 = i3;
                                tLRPC$TL_message.date = i == 0 ? i : getConnectionsManager().getCurrentTime();
                                TLRPC$InputPeer tLRPC$InputPeer3 = tLRPC$InputPeer2;
                                z14 = tLRPC$InputPeer3 instanceof TLRPC$TL_inputPeerChannel;
                                if (z14 || !z9) {
                                    longSparseArray5 = longSparseArray4;
                                    tLRPC$Message = messageObject2.messageOwner;
                                    j11 = clientUserId;
                                    if ((tLRPC$Message.flags & 1024) != 0 && i == 0) {
                                        tLRPC$TL_message.views = tLRPC$Message.views;
                                        tLRPC$TL_message.flags |= 1024;
                                    }
                                    tLRPC$TL_message.unread = true;
                                } else {
                                    longSparseArray5 = longSparseArray4;
                                    if (i == 0) {
                                        tLRPC$TL_message.views = 1;
                                        tLRPC$TL_message.flags |= 1024;
                                    }
                                    j11 = clientUserId;
                                }
                                tLRPC$TL_message.dialog_id = j12;
                                tLRPC$TL_message.peer_id = tLRPC$Peer3;
                                if (!MessageObject.isVoiceMessage(tLRPC$TL_message) || MessageObject.isRoundVideoMessage(tLRPC$TL_message)) {
                                    if (!z14 && messageObject2.getChannelId() != 0) {
                                        tLRPC$TL_message.media_unread = messageObject2.isContentUnread();
                                    } else {
                                        tLRPC$TL_message.media_unread = true;
                                    }
                                }
                                if (messageObject == null && (tLRPC$MessageReplyHeader = (tLRPC$Message2 = messageObject2.messageOwner).reply_to) != null) {
                                    tLRPC$Peer4 = tLRPC$MessageReplyHeader.reply_to_peer_id;
                                    if (tLRPC$Peer4 != null || MessageObject.peersEqual(tLRPC$Peer4, tLRPC$Message2.peer_id)) {
                                        tLRPC$MessageReplyHeader2 = messageObject2.messageOwner.reply_to;
                                        if ((tLRPC$MessageReplyHeader2.flags & 16) != 0) {
                                        }
                                    }
                                    tLRPC$TL_message.flags |= 8;
                                    tLRPC$TL_message.reply_to = messageObject2.messageOwner.reply_to;
                                }
                                ArrayList<Integer> arrayList21 = arrayList20;
                                MessageObject messageObject3 = new MessageObject(this.currentAccount, tLRPC$TL_message, true, true);
                                messageObject3.scheduled = i == 0;
                                messageObject3.messageOwner.send_state = 1;
                                messageObject3.wasJustSent = true;
                                ArrayList<MessageObject> arrayList22 = arrayList17;
                                arrayList22.add(messageObject3);
                                arrayList7 = arrayList16;
                                arrayList7.add(tLRPC$TL_message);
                                String str7 = str5;
                                if (messageObject2.replyMessageObject != null) {
                                    int i13 = 0;
                                    while (i13 < arrayList.size()) {
                                        arrayList8 = arrayList;
                                        arrayList10 = arrayList21;
                                        arrayList9 = arrayList19;
                                        if (arrayList8.get(i13).getId() == messageObject2.replyMessageObject.getId()) {
                                            TLRPC$Message tLRPC$Message5 = messageObject3.messageOwner;
                                            MessageObject messageObject4 = messageObject2.replyMessageObject;
                                            tLRPC$Message5.replyMessage = messageObject4.messageOwner;
                                            messageObject3.replyMessageObject = messageObject4;
                                            break;
                                        }
                                        i13++;
                                        arrayList21 = arrayList10;
                                        arrayList19 = arrayList9;
                                    }
                                }
                                arrayList8 = arrayList;
                                arrayList9 = arrayList19;
                                arrayList10 = arrayList21;
                                putToSendingMessages(tLRPC$TL_message, i == 0);
                                if (BuildVars.LOGS_ENABLED) {
                                    FileLog.d("forward message user_id = " + tLRPC$InputPeer3.user_id + " chat_id = " + tLRPC$InputPeer3.chat_id + " channel_id = " + tLRPC$InputPeer3.channel_id + " access_hash = " + tLRPC$InputPeer3.access_hash);
                                }
                                if (messageObject != null) {
                                    TLRPC$TL_messageReplyHeader tLRPC$TL_messageReplyHeader = new TLRPC$TL_messageReplyHeader();
                                    tLRPC$TL_message.reply_to = tLRPC$TL_messageReplyHeader;
                                    tLRPC$TL_messageReplyHeader.flags |= 16;
                                    tLRPC$TL_messageReplyHeader.reply_to_msg_id = messageObject.getId();
                                    if (messageObject.isTopicMainMessage) {
                                        TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader3 = tLRPC$TL_message.reply_to;
                                        i4 = 1;
                                        tLRPC$MessageReplyHeader3.forum_topic = true;
                                        tLRPC$MessageReplyHeader3.flags |= 8;
                                        if (arrayList7.size() == 100 && i12 != arrayList.size() - i4 && (i12 == arrayList.size() - i4 || arrayList8.get(i12 + 1).getDialogId() == messageObject2.getDialogId())) {
                                            tLRPC$InputPeer = tLRPC$InputPeer3;
                                            arrayList2 = arrayList22;
                                            arrayList4 = arrayList7;
                                            i2 = i12;
                                            longSparseArray = longSparseArray5;
                                            j6 = j11;
                                            longSparseArray2 = longSparseArray9;
                                            arrayList3 = arrayList10;
                                            arrayList5 = arrayList9;
                                            str3 = str7;
                                            j5 = j9;
                                            tLRPC$Peer2 = tLRPC$Peer3;
                                            arrayList18 = arrayList5;
                                            arrayList17 = arrayList2;
                                            arrayList16 = arrayList4;
                                            longSparseArray8 = longSparseArray2;
                                            arrayList15 = arrayList3;
                                        } else {
                                            getMessagesStorage().putMessages(new ArrayList<>(arrayList7), false, true, false, 0, i != 0, 0);
                                            getMessagesController().updateInterfaceWithMessages(j12, arrayList22, i != 0);
                                            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.dialogsNeedReload, new Object[0]);
                                            getUserConfig().saveConfig(false);
                                            final TLRPC$TL_messages_forwardMessages tLRPC$TL_messages_forwardMessages = new TLRPC$TL_messages_forwardMessages();
                                            tLRPC$TL_messages_forwardMessages.to_peer = tLRPC$InputPeer3;
                                            if (z3) {
                                                if (!MessagesController.getNotificationsSettings(this.currentAccount).getBoolean(NotificationsSettingsFacade.PROPERTY_SILENT + j12, false)) {
                                                    z15 = false;
                                                    tLRPC$TL_messages_forwardMessages.silent = z15;
                                                    if (messageObject != null) {
                                                        tLRPC$TL_messages_forwardMessages.top_msg_id = messageObject.getId();
                                                        tLRPC$TL_messages_forwardMessages.flags |= LiteMode.FLAG_CALLS_ANIMATIONS;
                                                    }
                                                    if (i != 0) {
                                                        tLRPC$TL_messages_forwardMessages.schedule_date = i;
                                                        tLRPC$TL_messages_forwardMessages.flags |= 1024;
                                                    }
                                                    if (!(messageObject2.messageOwner.peer_id instanceof TLRPC$TL_peerChannel)) {
                                                        TLRPC$Chat chat2 = getMessagesController().getChat(Long.valueOf(messageObject2.messageOwner.peer_id.channel_id));
                                                        TLRPC$TL_inputPeerChannel tLRPC$TL_inputPeerChannel = new TLRPC$TL_inputPeerChannel();
                                                        tLRPC$TL_messages_forwardMessages.from_peer = tLRPC$TL_inputPeerChannel;
                                                        i5 = i12;
                                                        tLRPC$TL_inputPeerChannel.channel_id = messageObject2.messageOwner.peer_id.channel_id;
                                                        if (chat2 != null) {
                                                            tLRPC$TL_inputPeerChannel.access_hash = chat2.access_hash;
                                                        }
                                                    } else {
                                                        i5 = i12;
                                                        tLRPC$TL_messages_forwardMessages.from_peer = new TLRPC$TL_inputPeerEmpty();
                                                    }
                                                    ArrayList<Long> arrayList23 = arrayList9;
                                                    tLRPC$TL_messages_forwardMessages.random_id = arrayList23;
                                                    ArrayList<Integer> arrayList24 = arrayList10;
                                                    tLRPC$TL_messages_forwardMessages.id = arrayList24;
                                                    tLRPC$TL_messages_forwardMessages.drop_author = z;
                                                    tLRPC$TL_messages_forwardMessages.drop_media_captions = z2;
                                                    if (arrayList.size() == 1 && arrayList8.get(0).messageOwner.with_my_score) {
                                                        z16 = true;
                                                        tLRPC$TL_messages_forwardMessages.with_my_score = z16;
                                                        final ArrayList arrayList25 = new ArrayList(arrayList22);
                                                        arrayList5 = arrayList23;
                                                        arrayList2 = arrayList22;
                                                        longSparseArray = longSparseArray5;
                                                        arrayList4 = arrayList7;
                                                        j5 = j9;
                                                        tLRPC$Peer2 = tLRPC$Peer3;
                                                        tLRPC$InputPeer = tLRPC$InputPeer3;
                                                        longSparseArray2 = longSparseArray9;
                                                        arrayList3 = arrayList24;
                                                        j6 = j11;
                                                        final boolean z26 = i != 2147483646;
                                                        final boolean z27 = z21;
                                                        str3 = str7;
                                                        getConnectionsManager().sendRequest(tLRPC$TL_messages_forwardMessages, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda81
                                                            @Override // org.telegram.tgnet.RequestDelegate
                                                            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                                                                SendMessagesHelper.this.lambda$sendMessage$14(j, i, z26, z27, longSparseArray2, arrayList4, arrayList25, messageObject2, tLRPC$Peer2, tLRPC$TL_messages_forwardMessages, tLObject, tLRPC$TL_error);
                                                            }
                                                        }, 68);
                                                        i2 = i5;
                                                        if (i2 != arrayList.size() - 1) {
                                                            arrayList17 = new ArrayList<>();
                                                            arrayList16 = new ArrayList();
                                                            arrayList18 = new ArrayList<>();
                                                            arrayList15 = new ArrayList<>();
                                                            longSparseArray8 = new LongSparseArray();
                                                        }
                                                        arrayList18 = arrayList5;
                                                        arrayList17 = arrayList2;
                                                        arrayList16 = arrayList4;
                                                        longSparseArray8 = longSparseArray2;
                                                        arrayList15 = arrayList3;
                                                    }
                                                    z16 = false;
                                                    tLRPC$TL_messages_forwardMessages.with_my_score = z16;
                                                    final ArrayList arrayList252 = new ArrayList(arrayList22);
                                                    arrayList5 = arrayList23;
                                                    arrayList2 = arrayList22;
                                                    longSparseArray = longSparseArray5;
                                                    arrayList4 = arrayList7;
                                                    j5 = j9;
                                                    tLRPC$Peer2 = tLRPC$Peer3;
                                                    tLRPC$InputPeer = tLRPC$InputPeer3;
                                                    longSparseArray2 = longSparseArray9;
                                                    arrayList3 = arrayList24;
                                                    j6 = j11;
                                                    final boolean z262 = i != 2147483646;
                                                    final boolean z272 = z21;
                                                    str3 = str7;
                                                    getConnectionsManager().sendRequest(tLRPC$TL_messages_forwardMessages, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda81
                                                        @Override // org.telegram.tgnet.RequestDelegate
                                                        public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                                                            SendMessagesHelper.this.lambda$sendMessage$14(j, i, z262, z272, longSparseArray2, arrayList4, arrayList252, messageObject2, tLRPC$Peer2, tLRPC$TL_messages_forwardMessages, tLObject, tLRPC$TL_error);
                                                        }
                                                    }, 68);
                                                    i2 = i5;
                                                    if (i2 != arrayList.size() - 1) {
                                                    }
                                                    arrayList18 = arrayList5;
                                                    arrayList17 = arrayList2;
                                                    arrayList16 = arrayList4;
                                                    longSparseArray8 = longSparseArray2;
                                                    arrayList15 = arrayList3;
                                                }
                                            }
                                            z15 = true;
                                            tLRPC$TL_messages_forwardMessages.silent = z15;
                                            if (messageObject != null) {
                                            }
                                            if (i != 0) {
                                            }
                                            if (!(messageObject2.messageOwner.peer_id instanceof TLRPC$TL_peerChannel)) {
                                            }
                                            ArrayList<Long> arrayList232 = arrayList9;
                                            tLRPC$TL_messages_forwardMessages.random_id = arrayList232;
                                            ArrayList<Integer> arrayList242 = arrayList10;
                                            tLRPC$TL_messages_forwardMessages.id = arrayList242;
                                            tLRPC$TL_messages_forwardMessages.drop_author = z;
                                            tLRPC$TL_messages_forwardMessages.drop_media_captions = z2;
                                            if (arrayList.size() == 1) {
                                                z16 = true;
                                                tLRPC$TL_messages_forwardMessages.with_my_score = z16;
                                                final ArrayList arrayList2522 = new ArrayList(arrayList22);
                                                arrayList5 = arrayList232;
                                                arrayList2 = arrayList22;
                                                longSparseArray = longSparseArray5;
                                                arrayList4 = arrayList7;
                                                j5 = j9;
                                                tLRPC$Peer2 = tLRPC$Peer3;
                                                tLRPC$InputPeer = tLRPC$InputPeer3;
                                                longSparseArray2 = longSparseArray9;
                                                arrayList3 = arrayList242;
                                                j6 = j11;
                                                final boolean z2622 = i != 2147483646;
                                                final boolean z2722 = z21;
                                                str3 = str7;
                                                getConnectionsManager().sendRequest(tLRPC$TL_messages_forwardMessages, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda81
                                                    @Override // org.telegram.tgnet.RequestDelegate
                                                    public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                                                        SendMessagesHelper.this.lambda$sendMessage$14(j, i, z2622, z2722, longSparseArray2, arrayList4, arrayList2522, messageObject2, tLRPC$Peer2, tLRPC$TL_messages_forwardMessages, tLObject, tLRPC$TL_error);
                                                    }
                                                }, 68);
                                                i2 = i5;
                                                if (i2 != arrayList.size() - 1) {
                                                }
                                                arrayList18 = arrayList5;
                                                arrayList17 = arrayList2;
                                                arrayList16 = arrayList4;
                                                longSparseArray8 = longSparseArray2;
                                                arrayList15 = arrayList3;
                                            }
                                            z16 = false;
                                            tLRPC$TL_messages_forwardMessages.with_my_score = z16;
                                            final ArrayList arrayList25222 = new ArrayList(arrayList22);
                                            arrayList5 = arrayList232;
                                            arrayList2 = arrayList22;
                                            longSparseArray = longSparseArray5;
                                            arrayList4 = arrayList7;
                                            j5 = j9;
                                            tLRPC$Peer2 = tLRPC$Peer3;
                                            tLRPC$InputPeer = tLRPC$InputPeer3;
                                            longSparseArray2 = longSparseArray9;
                                            arrayList3 = arrayList242;
                                            j6 = j11;
                                            final boolean z26222 = i != 2147483646;
                                            final boolean z27222 = z21;
                                            str3 = str7;
                                            getConnectionsManager().sendRequest(tLRPC$TL_messages_forwardMessages, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda81
                                                @Override // org.telegram.tgnet.RequestDelegate
                                                public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                                                    SendMessagesHelper.this.lambda$sendMessage$14(j, i, z26222, z27222, longSparseArray2, arrayList4, arrayList25222, messageObject2, tLRPC$Peer2, tLRPC$TL_messages_forwardMessages, tLObject, tLRPC$TL_error);
                                                }
                                            }, 68);
                                            i2 = i5;
                                            if (i2 != arrayList.size() - 1) {
                                            }
                                            arrayList18 = arrayList5;
                                            arrayList17 = arrayList2;
                                            arrayList16 = arrayList4;
                                            longSparseArray8 = longSparseArray2;
                                            arrayList15 = arrayList3;
                                        }
                                    }
                                }
                                i4 = 1;
                                if (arrayList7.size() == 100) {
                                }
                                getMessagesStorage().putMessages(new ArrayList<>(arrayList7), false, true, false, 0, i != 0, 0);
                                getMessagesController().updateInterfaceWithMessages(j12, arrayList22, i != 0);
                                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.dialogsNeedReload, new Object[0]);
                                getUserConfig().saveConfig(false);
                                final TLRPC$TL_messages_forwardMessages tLRPC$TL_messages_forwardMessages2 = new TLRPC$TL_messages_forwardMessages();
                                tLRPC$TL_messages_forwardMessages2.to_peer = tLRPC$InputPeer3;
                                if (z3) {
                                }
                                z15 = true;
                                tLRPC$TL_messages_forwardMessages2.silent = z15;
                                if (messageObject != null) {
                                }
                                if (i != 0) {
                                }
                                if (!(messageObject2.messageOwner.peer_id instanceof TLRPC$TL_peerChannel)) {
                                }
                                ArrayList<Long> arrayList2322 = arrayList9;
                                tLRPC$TL_messages_forwardMessages2.random_id = arrayList2322;
                                ArrayList<Integer> arrayList2422 = arrayList10;
                                tLRPC$TL_messages_forwardMessages2.id = arrayList2422;
                                tLRPC$TL_messages_forwardMessages2.drop_author = z;
                                tLRPC$TL_messages_forwardMessages2.drop_media_captions = z2;
                                if (arrayList.size() == 1) {
                                }
                                z16 = false;
                                tLRPC$TL_messages_forwardMessages2.with_my_score = z16;
                                final ArrayList arrayList252222 = new ArrayList(arrayList22);
                                arrayList5 = arrayList2322;
                                arrayList2 = arrayList22;
                                longSparseArray = longSparseArray5;
                                arrayList4 = arrayList7;
                                j5 = j9;
                                tLRPC$Peer2 = tLRPC$Peer3;
                                tLRPC$InputPeer = tLRPC$InputPeer3;
                                longSparseArray2 = longSparseArray9;
                                arrayList3 = arrayList2422;
                                j6 = j11;
                                final boolean z262222 = i != 2147483646;
                                final boolean z272222 = z21;
                                str3 = str7;
                                getConnectionsManager().sendRequest(tLRPC$TL_messages_forwardMessages2, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda81
                                    @Override // org.telegram.tgnet.RequestDelegate
                                    public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                                        SendMessagesHelper.this.lambda$sendMessage$14(j, i, z262222, z272222, longSparseArray2, arrayList4, arrayList252222, messageObject2, tLRPC$Peer2, tLRPC$TL_messages_forwardMessages2, tLObject, tLRPC$TL_error);
                                    }
                                }, 68);
                                i2 = i5;
                                if (i2 != arrayList.size() - 1) {
                                }
                                arrayList18 = arrayList5;
                                arrayList17 = arrayList2;
                                arrayList16 = arrayList4;
                                longSparseArray8 = longSparseArray2;
                                arrayList15 = arrayList3;
                            } else {
                                tLRPC$TL_message.flags |= 64;
                            }
                        } else {
                            j9 = j8;
                        }
                        if (!tLRPC$TL_message.entities.isEmpty()) {
                        }
                        if (tLRPC$TL_message.attachPath == null) {
                        }
                        int newMessageId2 = getUserConfig().getNewMessageId();
                        tLRPC$TL_message.id = newMessageId2;
                        tLRPC$TL_message.local_id = newMessageId2;
                        tLRPC$TL_message.out = true;
                        j10 = messageObject2.messageOwner.grouped_id;
                        if (j10 != 0) {
                        }
                        tLRPC$Peer3 = tLRPC$Peer;
                        if (tLRPC$Peer3.channel_id == 0) {
                        }
                        tLRPC$Chat4 = tLRPC$Chat3;
                        sendAsPeerId = ChatObject.getSendAsPeerId(tLRPC$Chat4, getMessagesController().getChatFull(-j12), true);
                        if (sendAsPeerId != clientUserId) {
                        }
                        if (tLRPC$TL_message.random_id == 0) {
                        }
                        ArrayList<Long> arrayList192 = arrayList6;
                        arrayList192.add(Long.valueOf(tLRPC$TL_message.random_id));
                        LongSparseArray longSparseArray92 = longSparseArray3;
                        longSparseArray92.put(tLRPC$TL_message.random_id, tLRPC$TL_message);
                        ArrayList<Integer> arrayList202 = arrayList15;
                        arrayList202.add(Integer.valueOf(tLRPC$TL_message.fwd_msg_id));
                        tLRPC$Chat2 = tLRPC$Chat4;
                        int i122 = i3;
                        tLRPC$TL_message.date = i == 0 ? i : getConnectionsManager().getCurrentTime();
                        TLRPC$InputPeer tLRPC$InputPeer32 = tLRPC$InputPeer2;
                        z14 = tLRPC$InputPeer32 instanceof TLRPC$TL_inputPeerChannel;
                        if (z14) {
                        }
                        longSparseArray5 = longSparseArray4;
                        tLRPC$Message = messageObject2.messageOwner;
                        j11 = clientUserId;
                        if ((tLRPC$Message.flags & 1024) != 0) {
                            tLRPC$TL_message.views = tLRPC$Message.views;
                            tLRPC$TL_message.flags |= 1024;
                        }
                        tLRPC$TL_message.unread = true;
                        tLRPC$TL_message.dialog_id = j12;
                        tLRPC$TL_message.peer_id = tLRPC$Peer3;
                        if (!MessageObject.isVoiceMessage(tLRPC$TL_message)) {
                        }
                        if (!z14) {
                        }
                        tLRPC$TL_message.media_unread = true;
                        if (messageObject == null) {
                            tLRPC$Peer4 = tLRPC$MessageReplyHeader.reply_to_peer_id;
                            if (tLRPC$Peer4 != null) {
                            }
                            tLRPC$MessageReplyHeader2 = messageObject2.messageOwner.reply_to;
                            if ((tLRPC$MessageReplyHeader2.flags & 16) != 0) {
                            }
                        }
                        ArrayList<Integer> arrayList212 = arrayList202;
                        MessageObject messageObject32 = new MessageObject(this.currentAccount, tLRPC$TL_message, true, true);
                        messageObject32.scheduled = i == 0;
                        messageObject32.messageOwner.send_state = 1;
                        messageObject32.wasJustSent = true;
                        ArrayList<MessageObject> arrayList222 = arrayList17;
                        arrayList222.add(messageObject32);
                        arrayList7 = arrayList16;
                        arrayList7.add(tLRPC$TL_message);
                        String str72 = str5;
                        if (messageObject2.replyMessageObject != null) {
                        }
                        arrayList8 = arrayList;
                        arrayList9 = arrayList192;
                        arrayList10 = arrayList212;
                        putToSendingMessages(tLRPC$TL_message, i == 0);
                        if (BuildVars.LOGS_ENABLED) {
                        }
                        if (messageObject != null) {
                        }
                        i4 = 1;
                        if (arrayList7.size() == 100) {
                        }
                        getMessagesStorage().putMessages(new ArrayList<>(arrayList7), false, true, false, 0, i != 0, 0);
                        getMessagesController().updateInterfaceWithMessages(j12, arrayList222, i != 0);
                        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.dialogsNeedReload, new Object[0]);
                        getUserConfig().saveConfig(false);
                        final TLRPC$TL_messages_forwardMessages tLRPC$TL_messages_forwardMessages22 = new TLRPC$TL_messages_forwardMessages();
                        tLRPC$TL_messages_forwardMessages22.to_peer = tLRPC$InputPeer32;
                        if (z3) {
                        }
                        z15 = true;
                        tLRPC$TL_messages_forwardMessages22.silent = z15;
                        if (messageObject != null) {
                        }
                        if (i != 0) {
                        }
                        if (!(messageObject2.messageOwner.peer_id instanceof TLRPC$TL_peerChannel)) {
                        }
                        ArrayList<Long> arrayList23222 = arrayList9;
                        tLRPC$TL_messages_forwardMessages22.random_id = arrayList23222;
                        ArrayList<Integer> arrayList24222 = arrayList10;
                        tLRPC$TL_messages_forwardMessages22.id = arrayList24222;
                        tLRPC$TL_messages_forwardMessages22.drop_author = z;
                        tLRPC$TL_messages_forwardMessages22.drop_media_captions = z2;
                        if (arrayList.size() == 1) {
                        }
                        z16 = false;
                        tLRPC$TL_messages_forwardMessages22.with_my_score = z16;
                        final ArrayList arrayList2522222 = new ArrayList(arrayList222);
                        arrayList5 = arrayList23222;
                        arrayList2 = arrayList222;
                        longSparseArray = longSparseArray5;
                        arrayList4 = arrayList7;
                        j5 = j9;
                        tLRPC$Peer2 = tLRPC$Peer3;
                        tLRPC$InputPeer = tLRPC$InputPeer32;
                        longSparseArray2 = longSparseArray92;
                        arrayList3 = arrayList24222;
                        j6 = j11;
                        final boolean z2622222 = i != 2147483646;
                        final boolean z2722222 = z21;
                        str3 = str72;
                        getConnectionsManager().sendRequest(tLRPC$TL_messages_forwardMessages22, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda81
                            @Override // org.telegram.tgnet.RequestDelegate
                            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                                SendMessagesHelper.this.lambda$sendMessage$14(j, i, z2622222, z2722222, longSparseArray2, arrayList4, arrayList2522222, messageObject2, tLRPC$Peer2, tLRPC$TL_messages_forwardMessages22, tLObject, tLRPC$TL_error);
                            }
                        }, 68);
                        i2 = i5;
                        if (i2 != arrayList.size() - 1) {
                        }
                        arrayList18 = arrayList5;
                        arrayList17 = arrayList2;
                        arrayList16 = arrayList4;
                        longSparseArray8 = longSparseArray2;
                        arrayList15 = arrayList3;
                    } else {
                        if (i8 == 0) {
                            i6 = ChatObject.isActionBannedByDefault(tLRPC$Chat, 19) ? 17 : 18;
                            longSparseArray = longSparseArray6;
                            j5 = j4;
                            j6 = clientUserId;
                            str3 = str2;
                            tLRPC$Chat2 = tLRPC$Chat;
                            i8 = i6;
                            tLRPC$Peer2 = tLRPC$Peer;
                            tLRPC$InputPeer = tLRPC$InputPeer2;
                            i2 = i3;
                        }
                        longSparseArray = longSparseArray6;
                        j5 = j4;
                        longSparseArray2 = longSparseArray8;
                        j6 = clientUserId;
                        str3 = str2;
                        tLRPC$Chat2 = tLRPC$Chat;
                        tLRPC$Peer2 = tLRPC$Peer;
                        arrayList2 = arrayList17;
                        tLRPC$InputPeer = tLRPC$InputPeer2;
                        arrayList3 = arrayList15;
                        i2 = i3;
                        arrayList4 = arrayList16;
                        arrayList5 = arrayList18;
                        arrayList18 = arrayList5;
                        arrayList17 = arrayList2;
                        arrayList16 = arrayList4;
                        longSparseArray8 = longSparseArray2;
                        arrayList15 = arrayList3;
                    }
                }
                i7 = i2 + 1;
                arrayList11 = arrayList;
                j12 = j;
                z19 = z;
                z20 = z2;
                tLRPC$Chat = tLRPC$Chat2;
                longSparseArray6 = longSparseArray;
                tLRPC$Peer = tLRPC$Peer2;
                j4 = j5;
                tLRPC$InputPeer2 = tLRPC$InputPeer;
                clientUserId = j6;
                str2 = str3;
            }
            return i8;
        }
        long j14 = getMessagesController().getEncryptedChat(Integer.valueOf((int) j)).user_id;
        boolean z28 = (!DialogObject.isUserDialog(j14) || getMessagesController().getUser(Long.valueOf(j14)) == null || (userFull = getMessagesController().getUserFull(j14)) == null) ? true : !userFull.voice_messages_forbidden;
        int i14 = 0;
        for (int i15 = 0; i15 < arrayList.size(); i15++) {
            MessageObject messageObject5 = arrayList.get(i15);
            if (z28 || !MessageObject.isVoiceMessage(messageObject5.messageOwner)) {
                if (!z28 && MessageObject.isRoundVideoMessage(messageObject5.messageOwner) && i14 == 0) {
                    i14 = 8;
                }
            } else if (i14 == 0) {
                i14 = 7;
            }
        }
        if (i14 == 0) {
            for (int i16 = 0; i16 < arrayList.size(); i16++) {
                processForwardFromMyName(arrayList.get(i16), j);
            }
        }
        return i14;
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* JADX WARN: Removed duplicated region for block: B:44:0x00ed  */
    /* JADX WARN: Removed duplicated region for block: B:50:0x00fc  */
    /* JADX WARN: Removed duplicated region for block: B:51:0x0104  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$sendMessage$14(final long j, final int i, boolean z, boolean z2, LongSparseArray longSparseArray, ArrayList arrayList, ArrayList arrayList2, final MessageObject messageObject, final TLRPC$Peer tLRPC$Peer, final TLRPC$TL_messages_forwardMessages tLRPC$TL_messages_forwardMessages, TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        boolean z3;
        TLRPC$Message tLRPC$Message;
        boolean z4;
        long j2;
        TLRPC$Updates tLRPC$Updates;
        SparseLongArray sparseLongArray;
        int i2;
        final TLRPC$Message tLRPC$Message2;
        int indexOf;
        int i3 = i;
        ArrayList arrayList3 = arrayList;
        ArrayList arrayList4 = arrayList2;
        boolean z5 = true;
        if (tLRPC$TL_error == null) {
            SparseLongArray sparseLongArray2 = new SparseLongArray();
            TLRPC$Updates tLRPC$Updates2 = (TLRPC$Updates) tLObject;
            int i4 = 0;
            while (i4 < tLRPC$Updates2.updates.size()) {
                TLRPC$Update tLRPC$Update = tLRPC$Updates2.updates.get(i4);
                if (tLRPC$Update instanceof TLRPC$TL_updateMessageID) {
                    TLRPC$TL_updateMessageID tLRPC$TL_updateMessageID = (TLRPC$TL_updateMessageID) tLRPC$Update;
                    sparseLongArray2.put(tLRPC$TL_updateMessageID.id, tLRPC$TL_updateMessageID.random_id);
                    tLRPC$Updates2.updates.remove(i4);
                    i4--;
                }
                i4++;
            }
            Integer num = getMessagesController().dialogs_read_outbox_max.get(Long.valueOf(j));
            if (num == null) {
                num = Integer.valueOf(getMessagesStorage().getDialogReadMax(true, j));
                getMessagesController().dialogs_read_outbox_max.put(Long.valueOf(j), num);
            }
            Integer num2 = num;
            int i5 = 0;
            int i6 = 0;
            while (i5 < tLRPC$Updates2.updates.size()) {
                TLRPC$Update tLRPC$Update2 = tLRPC$Updates2.updates.get(i5);
                boolean z6 = tLRPC$Update2 instanceof TLRPC$TL_updateNewMessage;
                if (z6 || (tLRPC$Update2 instanceof TLRPC$TL_updateNewChannelMessage) || (tLRPC$Update2 instanceof TLRPC$TL_updateNewScheduledMessage)) {
                    boolean z7 = i3 != 0;
                    tLRPC$Updates2.updates.remove(i5);
                    int i7 = i5 - 1;
                    if (z6) {
                        TLRPC$TL_updateNewMessage tLRPC$TL_updateNewMessage = (TLRPC$TL_updateNewMessage) tLRPC$Update2;
                        TLRPC$Message tLRPC$Message3 = tLRPC$TL_updateNewMessage.message;
                        getMessagesController().processNewDifferenceParams(-1, tLRPC$TL_updateNewMessage.pts, -1, tLRPC$TL_updateNewMessage.pts_count);
                        tLRPC$Message = tLRPC$Message3;
                    } else if (tLRPC$Update2 instanceof TLRPC$TL_updateNewScheduledMessage) {
                        tLRPC$Message = ((TLRPC$TL_updateNewScheduledMessage) tLRPC$Update2).message;
                    } else {
                        TLRPC$TL_updateNewChannelMessage tLRPC$TL_updateNewChannelMessage = (TLRPC$TL_updateNewChannelMessage) tLRPC$Update2;
                        TLRPC$Message tLRPC$Message4 = tLRPC$TL_updateNewChannelMessage.message;
                        z3 = z7;
                        getMessagesController().processNewChannelDifferenceParams(tLRPC$TL_updateNewChannelMessage.pts, tLRPC$TL_updateNewChannelMessage.pts_count, tLRPC$Message4.peer_id.channel_id);
                        tLRPC$Message = tLRPC$Message4;
                        z4 = (z || tLRPC$Message.date == 2147483646) ? z3 : false;
                        ImageLoader.saveMessageThumbs(tLRPC$Message);
                        if (!z4) {
                            tLRPC$Message.unread = num2.intValue() < tLRPC$Message.id;
                        }
                        if (!z2) {
                            tLRPC$Message.out = z5;
                            tLRPC$Message.unread = false;
                            tLRPC$Message.media_unread = false;
                        }
                        j2 = sparseLongArray2.get(tLRPC$Message.id);
                        if (j2 != 0 || (tLRPC$Message2 = (TLRPC$Message) longSparseArray.get(j2)) == null || (indexOf = arrayList3.indexOf(tLRPC$Message2)) == -1) {
                            tLRPC$Updates = tLRPC$Updates2;
                            sparseLongArray = sparseLongArray2;
                            i5 = i7;
                        } else {
                            MessageObject messageObject2 = (MessageObject) arrayList4.get(indexOf);
                            arrayList3.remove(indexOf);
                            arrayList4.remove(indexOf);
                            final int i8 = tLRPC$Message2.id;
                            final ArrayList arrayList5 = new ArrayList();
                            arrayList5.add(tLRPC$Message);
                            TLRPC$Message tLRPC$Message5 = messageObject2.messageOwner;
                            tLRPC$Message5.post_author = tLRPC$Message.post_author;
                            if ((tLRPC$Message.flags & ConnectionsManager.FileTypeVideo) != 0) {
                                tLRPC$Message5.ttl_period = tLRPC$Message.ttl_period;
                                tLRPC$Message5.flags |= ConnectionsManager.FileTypeVideo;
                            }
                            updateMediaPaths(messageObject2, tLRPC$Message, tLRPC$Message.id, null, true);
                            final int mediaExistanceFlags = messageObject2.getMediaExistanceFlags();
                            tLRPC$Message2.id = tLRPC$Message.id;
                            int i9 = i6 + 1;
                            if (i3 != 0 && !z4) {
                                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda23
                                    @Override // java.lang.Runnable
                                    public final void run() {
                                        SendMessagesHelper.this.lambda$sendMessage$9(i8, tLRPC$Message2, arrayList5, messageObject, i);
                                    }
                                });
                                tLRPC$Updates = tLRPC$Updates2;
                                sparseLongArray = sparseLongArray2;
                            } else {
                                tLRPC$Updates = tLRPC$Updates2;
                                sparseLongArray = sparseLongArray2;
                                final TLRPC$Message tLRPC$Message6 = tLRPC$Message;
                                getMessagesStorage().getStorageQueue().postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda50
                                    @Override // java.lang.Runnable
                                    public final void run() {
                                        SendMessagesHelper.this.lambda$sendMessage$11(tLRPC$Message2, tLRPC$Peer, i8, i, arrayList5, j, tLRPC$Message6, mediaExistanceFlags);
                                    }
                                });
                            }
                            i5 = i7;
                            i6 = i9;
                        }
                        i2 = 1;
                    }
                    z3 = z7;
                    if (z) {
                    }
                    ImageLoader.saveMessageThumbs(tLRPC$Message);
                    if (!z4) {
                    }
                    if (!z2) {
                    }
                    j2 = sparseLongArray2.get(tLRPC$Message.id);
                    if (j2 != 0) {
                    }
                    tLRPC$Updates = tLRPC$Updates2;
                    sparseLongArray = sparseLongArray2;
                    i5 = i7;
                    i2 = 1;
                } else {
                    tLRPC$Updates = tLRPC$Updates2;
                    sparseLongArray = sparseLongArray2;
                    i2 = 1;
                }
                i5 += i2;
                i3 = i;
                arrayList3 = arrayList;
                arrayList4 = arrayList2;
                tLRPC$Updates2 = tLRPC$Updates;
                sparseLongArray2 = sparseLongArray;
                z5 = true;
            }
            TLRPC$Updates tLRPC$Updates3 = tLRPC$Updates2;
            if (!tLRPC$Updates3.updates.isEmpty()) {
                getMessagesController().processUpdates(tLRPC$Updates3, false);
            }
            getStatsController().incrementSentItemsCount(ApplicationLoader.getCurrentNetworkType(), 1, i6);
        } else {
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda57
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.this.lambda$sendMessage$12(tLRPC$TL_error, tLRPC$TL_messages_forwardMessages);
                }
            });
        }
        for (int i10 = 0; i10 < arrayList.size(); i10++) {
            final TLRPC$Message tLRPC$Message7 = (TLRPC$Message) arrayList.get(i10);
            getMessagesStorage().markMessageAsSendError(tLRPC$Message7, i != 0);
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda43
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.this.lambda$sendMessage$13(tLRPC$Message7, i);
                }
            });
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendMessage$9(final int i, final TLRPC$Message tLRPC$Message, final ArrayList arrayList, final MessageObject messageObject, final int i2) {
        ArrayList<Integer> arrayList2 = new ArrayList<>();
        arrayList2.add(Integer.valueOf(i));
        getMessagesController().deleteMessages(arrayList2, null, null, tLRPC$Message.dialog_id, false, true);
        getMessagesStorage().getStorageQueue().postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda32
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$sendMessage$8(arrayList, messageObject, tLRPC$Message, i, i2);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendMessage$8(ArrayList arrayList, final MessageObject messageObject, final TLRPC$Message tLRPC$Message, final int i, final int i2) {
        getMessagesStorage().putMessages((ArrayList<TLRPC$Message>) arrayList, true, false, false, 0, false, 0);
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda35
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$sendMessage$7(messageObject, tLRPC$Message, i, i2);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendMessage$7(MessageObject messageObject, TLRPC$Message tLRPC$Message, int i, int i2) {
        ArrayList<MessageObject> arrayList = new ArrayList<>();
        arrayList.add(new MessageObject(messageObject.currentAccount, messageObject.messageOwner, true, true));
        getMessagesController().updateInterfaceWithMessages(tLRPC$Message.dialog_id, arrayList, false);
        getMediaDataController().increasePeerRaiting(tLRPC$Message.dialog_id);
        processSentMessage(i);
        removeFromSendingMessages(i, i2 != 0);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendMessage$11(final TLRPC$Message tLRPC$Message, TLRPC$Peer tLRPC$Peer, final int i, final int i2, ArrayList arrayList, final long j, final TLRPC$Message tLRPC$Message2, final int i3) {
        getMessagesStorage().updateMessageStateAndId(tLRPC$Message.random_id, MessageObject.getPeerId(tLRPC$Peer), Integer.valueOf(i), tLRPC$Message.id, 0, false, i2 != 0 ? 1 : 0);
        getMessagesStorage().putMessages((ArrayList<TLRPC$Message>) arrayList, true, false, false, 0, i2 != 0, 0);
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda49
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$sendMessage$10(tLRPC$Message, j, i, tLRPC$Message2, i3, i2);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendMessage$10(TLRPC$Message tLRPC$Message, long j, int i, TLRPC$Message tLRPC$Message2, int i2, int i3) {
        tLRPC$Message.send_state = 0;
        getMediaDataController().increasePeerRaiting(j);
        NotificationCenter notificationCenter = getNotificationCenter();
        int i4 = NotificationCenter.messageReceivedByServer;
        Object[] objArr = new Object[7];
        objArr[0] = Integer.valueOf(i);
        objArr[1] = Integer.valueOf(tLRPC$Message2.id);
        objArr[2] = tLRPC$Message2;
        objArr[3] = Long.valueOf(j);
        objArr[4] = 0L;
        objArr[5] = Integer.valueOf(i2);
        objArr[6] = Boolean.valueOf(i3 != 0);
        notificationCenter.lambda$postNotificationNameOnUIThread$1(i4, objArr);
        processSentMessage(i);
        removeFromSendingMessages(i, i3 != 0);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendMessage$12(TLRPC$TL_error tLRPC$TL_error, TLRPC$TL_messages_forwardMessages tLRPC$TL_messages_forwardMessages) {
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, null, tLRPC$TL_messages_forwardMessages, new Object[0]);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendMessage$13(TLRPC$Message tLRPC$Message, int i) {
        tLRPC$Message.send_state = 2;
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message.id));
        processSentMessage(tLRPC$Message.id);
        removeFromSendingMessages(tLRPC$Message.id, i != 0);
    }

    public static int canSendMessageToChat(TLRPC$Chat tLRPC$Chat, MessageObject messageObject) {
        boolean canSendStickers = ChatObject.canSendStickers(tLRPC$Chat);
        boolean canSendPhoto = ChatObject.canSendPhoto(tLRPC$Chat);
        boolean canSendVideo = ChatObject.canSendVideo(tLRPC$Chat);
        boolean canSendDocument = ChatObject.canSendDocument(tLRPC$Chat);
        ChatObject.canSendEmbed(tLRPC$Chat);
        boolean canSendPolls = ChatObject.canSendPolls(tLRPC$Chat);
        boolean canSendRoundVideo = ChatObject.canSendRoundVideo(tLRPC$Chat);
        boolean canSendVoice = ChatObject.canSendVoice(tLRPC$Chat);
        boolean canSendMusic = ChatObject.canSendMusic(tLRPC$Chat);
        boolean z = messageObject.isSticker() || messageObject.isAnimatedSticker() || messageObject.isGif() || messageObject.isGame();
        if (!canSendStickers && z) {
            return ChatObject.isActionBannedByDefault(tLRPC$Chat, 8) ? 4 : 1;
        } else if (!canSendPhoto && (messageObject.messageOwner.media instanceof TLRPC$TL_messageMediaPhoto) && !messageObject.isVideo() && !z) {
            return ChatObject.isActionBannedByDefault(tLRPC$Chat, 16) ? 10 : 12;
        } else if (!canSendMusic && messageObject.isMusic()) {
            return ChatObject.isActionBannedByDefault(tLRPC$Chat, 18) ? 19 : 20;
        } else if (!canSendVideo && messageObject.isVideo() && !z) {
            return ChatObject.isActionBannedByDefault(tLRPC$Chat, 17) ? 9 : 11;
        } else if (!canSendPolls && (messageObject.messageOwner.media instanceof TLRPC$TL_messageMediaPoll)) {
            return ChatObject.isActionBannedByDefault(tLRPC$Chat, 10) ? 6 : 3;
        } else if (!canSendVoice && MessageObject.isVoiceMessage(messageObject.messageOwner)) {
            return ChatObject.isActionBannedByDefault(tLRPC$Chat, 20) ? 13 : 14;
        } else if (!canSendRoundVideo && MessageObject.isRoundVideoMessage(messageObject.messageOwner)) {
            return ChatObject.isActionBannedByDefault(tLRPC$Chat, 21) ? 15 : 16;
        } else if (canSendDocument || !(messageObject.messageOwner.media instanceof TLRPC$TL_messageMediaDocument) || z) {
            return 0;
        } else {
            return ChatObject.isActionBannedByDefault(tLRPC$Chat, 19) ? 17 : 18;
        }
    }

    private void writePreviousMessageData(TLRPC$Message tLRPC$Message, SerializedData serializedData) {
        TLRPC$MessageMedia tLRPC$MessageMedia = tLRPC$Message.media;
        if (tLRPC$MessageMedia == null) {
            new TLRPC$TL_messageMediaEmpty().serializeToStream(serializedData);
        } else {
            tLRPC$MessageMedia.serializeToStream(serializedData);
        }
        String str = tLRPC$Message.message;
        if (str == null) {
            str = "";
        }
        serializedData.writeString(str);
        String str2 = tLRPC$Message.attachPath;
        serializedData.writeString(str2 != null ? str2 : "");
        int size = tLRPC$Message.entities.size();
        serializedData.writeInt32(size);
        for (int i = 0; i < size; i++) {
            tLRPC$Message.entities.get(i).serializeToStream(serializedData);
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:233:0x04f8 A[Catch: Exception -> 0x0613, TryCatch #0 {Exception -> 0x0613, blocks: (B:9:0x0022, B:11:0x002c, B:13:0x003e, B:20:0x004f, B:23:0x0059, B:26:0x005e, B:28:0x0062, B:40:0x0088, B:43:0x008e, B:45:0x0094, B:47:0x009b, B:74:0x016f, B:76:0x0173, B:77:0x0177, B:85:0x0191, B:90:0x019a, B:92:0x019e, B:94:0x01ae, B:96:0x01b2, B:113:0x020b, B:115:0x0248, B:117:0x0250, B:120:0x0255, B:121:0x025c, B:122:0x025f, B:125:0x028e, B:127:0x0296, B:137:0x02ae, B:139:0x02b2, B:142:0x02b8, B:149:0x02cc, B:151:0x02d0, B:231:0x04db, B:233:0x04f8, B:234:0x0500, B:236:0x0504, B:237:0x0510, B:239:0x0514, B:243:0x0527, B:245:0x052d, B:252:0x055a, B:247:0x0536, B:249:0x054a, B:251:0x0550, B:254:0x0560, B:257:0x0565, B:261:0x0582, B:262:0x0587, B:266:0x059f, B:267:0x05a4, B:270:0x05be, B:274:0x05d9, B:275:0x05dd, B:279:0x05f9, B:280:0x05fd, B:144:0x02be, B:146:0x02c2, B:155:0x02ed, B:157:0x02f6, B:159:0x02fe, B:161:0x030f, B:162:0x0328, B:164:0x0336, B:171:0x0364, B:173:0x0378, B:175:0x037e, B:177:0x0387, B:178:0x038a, B:167:0x0340, B:169:0x035b, B:170:0x0360, B:182:0x03a7, B:184:0x03b2, B:186:0x03ba, B:188:0x03cb, B:189:0x03dc, B:190:0x03e5, B:193:0x03f7, B:197:0x0400, B:199:0x0407, B:201:0x040f, B:208:0x043a, B:210:0x0454, B:212:0x0461, B:213:0x0465, B:204:0x0418, B:206:0x0432, B:207:0x0437, B:216:0x0472, B:223:0x04ac, B:225:0x04c0, B:227:0x04cd, B:228:0x04d1, B:219:0x048a, B:221:0x04a4, B:222:0x04a9, B:97:0x01bb, B:99:0x01c1, B:100:0x01c8, B:102:0x01cc, B:111:0x0205, B:103:0x01d5, B:105:0x01e8, B:107:0x01ee, B:108:0x01f7, B:110:0x01ff, B:82:0x0186, B:84:0x018e, B:29:0x006a, B:31:0x006e, B:37:0x007e, B:48:0x00ae, B:50:0x00c0, B:51:0x00c5, B:53:0x00f0, B:55:0x0103, B:57:0x0109, B:59:0x010f, B:73:0x0163, B:60:0x0112, B:63:0x0136, B:70:0x0155, B:71:0x015f), top: B:285:0x0022 }] */
    /* JADX WARN: Removed duplicated region for block: B:236:0x0504 A[Catch: Exception -> 0x0613, TryCatch #0 {Exception -> 0x0613, blocks: (B:9:0x0022, B:11:0x002c, B:13:0x003e, B:20:0x004f, B:23:0x0059, B:26:0x005e, B:28:0x0062, B:40:0x0088, B:43:0x008e, B:45:0x0094, B:47:0x009b, B:74:0x016f, B:76:0x0173, B:77:0x0177, B:85:0x0191, B:90:0x019a, B:92:0x019e, B:94:0x01ae, B:96:0x01b2, B:113:0x020b, B:115:0x0248, B:117:0x0250, B:120:0x0255, B:121:0x025c, B:122:0x025f, B:125:0x028e, B:127:0x0296, B:137:0x02ae, B:139:0x02b2, B:142:0x02b8, B:149:0x02cc, B:151:0x02d0, B:231:0x04db, B:233:0x04f8, B:234:0x0500, B:236:0x0504, B:237:0x0510, B:239:0x0514, B:243:0x0527, B:245:0x052d, B:252:0x055a, B:247:0x0536, B:249:0x054a, B:251:0x0550, B:254:0x0560, B:257:0x0565, B:261:0x0582, B:262:0x0587, B:266:0x059f, B:267:0x05a4, B:270:0x05be, B:274:0x05d9, B:275:0x05dd, B:279:0x05f9, B:280:0x05fd, B:144:0x02be, B:146:0x02c2, B:155:0x02ed, B:157:0x02f6, B:159:0x02fe, B:161:0x030f, B:162:0x0328, B:164:0x0336, B:171:0x0364, B:173:0x0378, B:175:0x037e, B:177:0x0387, B:178:0x038a, B:167:0x0340, B:169:0x035b, B:170:0x0360, B:182:0x03a7, B:184:0x03b2, B:186:0x03ba, B:188:0x03cb, B:189:0x03dc, B:190:0x03e5, B:193:0x03f7, B:197:0x0400, B:199:0x0407, B:201:0x040f, B:208:0x043a, B:210:0x0454, B:212:0x0461, B:213:0x0465, B:204:0x0418, B:206:0x0432, B:207:0x0437, B:216:0x0472, B:223:0x04ac, B:225:0x04c0, B:227:0x04cd, B:228:0x04d1, B:219:0x048a, B:221:0x04a4, B:222:0x04a9, B:97:0x01bb, B:99:0x01c1, B:100:0x01c8, B:102:0x01cc, B:111:0x0205, B:103:0x01d5, B:105:0x01e8, B:107:0x01ee, B:108:0x01f7, B:110:0x01ff, B:82:0x0186, B:84:0x018e, B:29:0x006a, B:31:0x006e, B:37:0x007e, B:48:0x00ae, B:50:0x00c0, B:51:0x00c5, B:53:0x00f0, B:55:0x0103, B:57:0x0109, B:59:0x010f, B:73:0x0163, B:60:0x0112, B:63:0x0136, B:70:0x0155, B:71:0x015f), top: B:285:0x0022 }] */
    /* JADX WARN: Removed duplicated region for block: B:239:0x0514 A[Catch: Exception -> 0x0613, TryCatch #0 {Exception -> 0x0613, blocks: (B:9:0x0022, B:11:0x002c, B:13:0x003e, B:20:0x004f, B:23:0x0059, B:26:0x005e, B:28:0x0062, B:40:0x0088, B:43:0x008e, B:45:0x0094, B:47:0x009b, B:74:0x016f, B:76:0x0173, B:77:0x0177, B:85:0x0191, B:90:0x019a, B:92:0x019e, B:94:0x01ae, B:96:0x01b2, B:113:0x020b, B:115:0x0248, B:117:0x0250, B:120:0x0255, B:121:0x025c, B:122:0x025f, B:125:0x028e, B:127:0x0296, B:137:0x02ae, B:139:0x02b2, B:142:0x02b8, B:149:0x02cc, B:151:0x02d0, B:231:0x04db, B:233:0x04f8, B:234:0x0500, B:236:0x0504, B:237:0x0510, B:239:0x0514, B:243:0x0527, B:245:0x052d, B:252:0x055a, B:247:0x0536, B:249:0x054a, B:251:0x0550, B:254:0x0560, B:257:0x0565, B:261:0x0582, B:262:0x0587, B:266:0x059f, B:267:0x05a4, B:270:0x05be, B:274:0x05d9, B:275:0x05dd, B:279:0x05f9, B:280:0x05fd, B:144:0x02be, B:146:0x02c2, B:155:0x02ed, B:157:0x02f6, B:159:0x02fe, B:161:0x030f, B:162:0x0328, B:164:0x0336, B:171:0x0364, B:173:0x0378, B:175:0x037e, B:177:0x0387, B:178:0x038a, B:167:0x0340, B:169:0x035b, B:170:0x0360, B:182:0x03a7, B:184:0x03b2, B:186:0x03ba, B:188:0x03cb, B:189:0x03dc, B:190:0x03e5, B:193:0x03f7, B:197:0x0400, B:199:0x0407, B:201:0x040f, B:208:0x043a, B:210:0x0454, B:212:0x0461, B:213:0x0465, B:204:0x0418, B:206:0x0432, B:207:0x0437, B:216:0x0472, B:223:0x04ac, B:225:0x04c0, B:227:0x04cd, B:228:0x04d1, B:219:0x048a, B:221:0x04a4, B:222:0x04a9, B:97:0x01bb, B:99:0x01c1, B:100:0x01c8, B:102:0x01cc, B:111:0x0205, B:103:0x01d5, B:105:0x01e8, B:107:0x01ee, B:108:0x01f7, B:110:0x01ff, B:82:0x0186, B:84:0x018e, B:29:0x006a, B:31:0x006e, B:37:0x007e, B:48:0x00ae, B:50:0x00c0, B:51:0x00c5, B:53:0x00f0, B:55:0x0103, B:57:0x0109, B:59:0x010f, B:73:0x0163, B:60:0x0112, B:63:0x0136, B:70:0x0155, B:71:0x015f), top: B:285:0x0022 }] */
    /* JADX WARN: Removed duplicated region for block: B:254:0x0560 A[Catch: Exception -> 0x0613, TryCatch #0 {Exception -> 0x0613, blocks: (B:9:0x0022, B:11:0x002c, B:13:0x003e, B:20:0x004f, B:23:0x0059, B:26:0x005e, B:28:0x0062, B:40:0x0088, B:43:0x008e, B:45:0x0094, B:47:0x009b, B:74:0x016f, B:76:0x0173, B:77:0x0177, B:85:0x0191, B:90:0x019a, B:92:0x019e, B:94:0x01ae, B:96:0x01b2, B:113:0x020b, B:115:0x0248, B:117:0x0250, B:120:0x0255, B:121:0x025c, B:122:0x025f, B:125:0x028e, B:127:0x0296, B:137:0x02ae, B:139:0x02b2, B:142:0x02b8, B:149:0x02cc, B:151:0x02d0, B:231:0x04db, B:233:0x04f8, B:234:0x0500, B:236:0x0504, B:237:0x0510, B:239:0x0514, B:243:0x0527, B:245:0x052d, B:252:0x055a, B:247:0x0536, B:249:0x054a, B:251:0x0550, B:254:0x0560, B:257:0x0565, B:261:0x0582, B:262:0x0587, B:266:0x059f, B:267:0x05a4, B:270:0x05be, B:274:0x05d9, B:275:0x05dd, B:279:0x05f9, B:280:0x05fd, B:144:0x02be, B:146:0x02c2, B:155:0x02ed, B:157:0x02f6, B:159:0x02fe, B:161:0x030f, B:162:0x0328, B:164:0x0336, B:171:0x0364, B:173:0x0378, B:175:0x037e, B:177:0x0387, B:178:0x038a, B:167:0x0340, B:169:0x035b, B:170:0x0360, B:182:0x03a7, B:184:0x03b2, B:186:0x03ba, B:188:0x03cb, B:189:0x03dc, B:190:0x03e5, B:193:0x03f7, B:197:0x0400, B:199:0x0407, B:201:0x040f, B:208:0x043a, B:210:0x0454, B:212:0x0461, B:213:0x0465, B:204:0x0418, B:206:0x0432, B:207:0x0437, B:216:0x0472, B:223:0x04ac, B:225:0x04c0, B:227:0x04cd, B:228:0x04d1, B:219:0x048a, B:221:0x04a4, B:222:0x04a9, B:97:0x01bb, B:99:0x01c1, B:100:0x01c8, B:102:0x01cc, B:111:0x0205, B:103:0x01d5, B:105:0x01e8, B:107:0x01ee, B:108:0x01f7, B:110:0x01ff, B:82:0x0186, B:84:0x018e, B:29:0x006a, B:31:0x006e, B:37:0x007e, B:48:0x00ae, B:50:0x00c0, B:51:0x00c5, B:53:0x00f0, B:55:0x0103, B:57:0x0109, B:59:0x010f, B:73:0x0163, B:60:0x0112, B:63:0x0136, B:70:0x0155, B:71:0x015f), top: B:285:0x0022 }] */
    /* JADX WARN: Removed duplicated region for block: B:257:0x0565 A[Catch: Exception -> 0x0613, TryCatch #0 {Exception -> 0x0613, blocks: (B:9:0x0022, B:11:0x002c, B:13:0x003e, B:20:0x004f, B:23:0x0059, B:26:0x005e, B:28:0x0062, B:40:0x0088, B:43:0x008e, B:45:0x0094, B:47:0x009b, B:74:0x016f, B:76:0x0173, B:77:0x0177, B:85:0x0191, B:90:0x019a, B:92:0x019e, B:94:0x01ae, B:96:0x01b2, B:113:0x020b, B:115:0x0248, B:117:0x0250, B:120:0x0255, B:121:0x025c, B:122:0x025f, B:125:0x028e, B:127:0x0296, B:137:0x02ae, B:139:0x02b2, B:142:0x02b8, B:149:0x02cc, B:151:0x02d0, B:231:0x04db, B:233:0x04f8, B:234:0x0500, B:236:0x0504, B:237:0x0510, B:239:0x0514, B:243:0x0527, B:245:0x052d, B:252:0x055a, B:247:0x0536, B:249:0x054a, B:251:0x0550, B:254:0x0560, B:257:0x0565, B:261:0x0582, B:262:0x0587, B:266:0x059f, B:267:0x05a4, B:270:0x05be, B:274:0x05d9, B:275:0x05dd, B:279:0x05f9, B:280:0x05fd, B:144:0x02be, B:146:0x02c2, B:155:0x02ed, B:157:0x02f6, B:159:0x02fe, B:161:0x030f, B:162:0x0328, B:164:0x0336, B:171:0x0364, B:173:0x0378, B:175:0x037e, B:177:0x0387, B:178:0x038a, B:167:0x0340, B:169:0x035b, B:170:0x0360, B:182:0x03a7, B:184:0x03b2, B:186:0x03ba, B:188:0x03cb, B:189:0x03dc, B:190:0x03e5, B:193:0x03f7, B:197:0x0400, B:199:0x0407, B:201:0x040f, B:208:0x043a, B:210:0x0454, B:212:0x0461, B:213:0x0465, B:204:0x0418, B:206:0x0432, B:207:0x0437, B:216:0x0472, B:223:0x04ac, B:225:0x04c0, B:227:0x04cd, B:228:0x04d1, B:219:0x048a, B:221:0x04a4, B:222:0x04a9, B:97:0x01bb, B:99:0x01c1, B:100:0x01c8, B:102:0x01cc, B:111:0x0205, B:103:0x01d5, B:105:0x01e8, B:107:0x01ee, B:108:0x01f7, B:110:0x01ff, B:82:0x0186, B:84:0x018e, B:29:0x006a, B:31:0x006e, B:37:0x007e, B:48:0x00ae, B:50:0x00c0, B:51:0x00c5, B:53:0x00f0, B:55:0x0103, B:57:0x0109, B:59:0x010f, B:73:0x0163, B:60:0x0112, B:63:0x0136, B:70:0x0155, B:71:0x015f), top: B:285:0x0022 }] */
    /* JADX WARN: Removed duplicated region for block: B:258:0x057d  */
    /* JADX WARN: Removed duplicated region for block: B:70:0x0155 A[Catch: Exception -> 0x0613, TryCatch #0 {Exception -> 0x0613, blocks: (B:9:0x0022, B:11:0x002c, B:13:0x003e, B:20:0x004f, B:23:0x0059, B:26:0x005e, B:28:0x0062, B:40:0x0088, B:43:0x008e, B:45:0x0094, B:47:0x009b, B:74:0x016f, B:76:0x0173, B:77:0x0177, B:85:0x0191, B:90:0x019a, B:92:0x019e, B:94:0x01ae, B:96:0x01b2, B:113:0x020b, B:115:0x0248, B:117:0x0250, B:120:0x0255, B:121:0x025c, B:122:0x025f, B:125:0x028e, B:127:0x0296, B:137:0x02ae, B:139:0x02b2, B:142:0x02b8, B:149:0x02cc, B:151:0x02d0, B:231:0x04db, B:233:0x04f8, B:234:0x0500, B:236:0x0504, B:237:0x0510, B:239:0x0514, B:243:0x0527, B:245:0x052d, B:252:0x055a, B:247:0x0536, B:249:0x054a, B:251:0x0550, B:254:0x0560, B:257:0x0565, B:261:0x0582, B:262:0x0587, B:266:0x059f, B:267:0x05a4, B:270:0x05be, B:274:0x05d9, B:275:0x05dd, B:279:0x05f9, B:280:0x05fd, B:144:0x02be, B:146:0x02c2, B:155:0x02ed, B:157:0x02f6, B:159:0x02fe, B:161:0x030f, B:162:0x0328, B:164:0x0336, B:171:0x0364, B:173:0x0378, B:175:0x037e, B:177:0x0387, B:178:0x038a, B:167:0x0340, B:169:0x035b, B:170:0x0360, B:182:0x03a7, B:184:0x03b2, B:186:0x03ba, B:188:0x03cb, B:189:0x03dc, B:190:0x03e5, B:193:0x03f7, B:197:0x0400, B:199:0x0407, B:201:0x040f, B:208:0x043a, B:210:0x0454, B:212:0x0461, B:213:0x0465, B:204:0x0418, B:206:0x0432, B:207:0x0437, B:216:0x0472, B:223:0x04ac, B:225:0x04c0, B:227:0x04cd, B:228:0x04d1, B:219:0x048a, B:221:0x04a4, B:222:0x04a9, B:97:0x01bb, B:99:0x01c1, B:100:0x01c8, B:102:0x01cc, B:111:0x0205, B:103:0x01d5, B:105:0x01e8, B:107:0x01ee, B:108:0x01f7, B:110:0x01ff, B:82:0x0186, B:84:0x018e, B:29:0x006a, B:31:0x006e, B:37:0x007e, B:48:0x00ae, B:50:0x00c0, B:51:0x00c5, B:53:0x00f0, B:55:0x0103, B:57:0x0109, B:59:0x010f, B:73:0x0163, B:60:0x0112, B:63:0x0136, B:70:0x0155, B:71:0x015f), top: B:285:0x0022 }] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void editMessage(MessageObject messageObject, TLRPC$TL_photo tLRPC$TL_photo, VideoEditedInfo videoEditedInfo, TLRPC$TL_document tLRPC$TL_document, String str, HashMap<String, String> hashMap, boolean z, boolean z2, Object obj) {
        Object obj2;
        char c;
        Object obj3;
        String str2;
        char c2;
        HashMap<String, String> hashMap2;
        VideoEditedInfo videoEditedInfo2;
        VideoEditedInfo videoEditedInfo3;
        boolean z3;
        String str3;
        String str4;
        boolean z4;
        TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument;
        DelayedMessage delayedMessage;
        VideoEditedInfo videoEditedInfo4;
        TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument2;
        TLRPC$InputMedia tLRPC$InputMedia;
        String str5;
        HashMap<String, String> hashMap3;
        String str6;
        TLRPC$TL_inputMediaPhoto tLRPC$TL_inputMediaPhoto;
        boolean z5;
        String str7;
        TLRPC$InputMedia tLRPC$InputMedia2;
        CharSequence charSequence;
        TLRPC$TL_inputMediaWebPage tLRPC$TL_inputMediaWebPage;
        TLRPC$EncryptedChat encryptedChat;
        TLRPC$TL_photo tLRPC$TL_photo2 = tLRPC$TL_photo;
        TLRPC$TL_document tLRPC$TL_document2 = tLRPC$TL_document;
        if (messageObject == null) {
            return;
        }
        HashMap<String, String> hashMap4 = hashMap == null ? new HashMap<>() : hashMap;
        TLRPC$Message tLRPC$Message = messageObject.messageOwner;
        messageObject.cancelEditing = false;
        try {
            long dialogId = messageObject.getDialogId();
            boolean z6 = !DialogObject.isEncryptedDialog(dialogId) || ((encryptedChat = getMessagesController().getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(dialogId)))) != null && AndroidUtilities.getPeerLayerVersion(encryptedChat.layer) >= 101);
            if (z) {
                TLRPC$MessageMedia tLRPC$MessageMedia = messageObject.messageOwner.media;
                if (!(tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaWebPage) && tLRPC$MessageMedia != null && !(tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaEmpty)) {
                    if (tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaPhoto) {
                        tLRPC$TL_photo2 = (TLRPC$TL_photo) tLRPC$MessageMedia.photo;
                        videoEditedInfo2 = videoEditedInfo;
                        c2 = 2;
                    } else if (tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaDocument) {
                        tLRPC$TL_document2 = (TLRPC$TL_document) tLRPC$MessageMedia.document;
                        if (!MessageObject.isVideoDocument(tLRPC$TL_document2) && videoEditedInfo == null) {
                            c2 = 7;
                            videoEditedInfo2 = messageObject.videoEditedInfo;
                        }
                        c2 = 3;
                        videoEditedInfo2 = messageObject.videoEditedInfo;
                    } else {
                        videoEditedInfo2 = videoEditedInfo;
                        c2 = 65535;
                    }
                    HashMap<String, String> hashMap5 = tLRPC$Message.params;
                    Object obj4 = (obj == null || hashMap5 == null || !hashMap5.containsKey("parentObject")) ? obj : hashMap5.get("parentObject");
                    messageObject.editingMessage = tLRPC$Message.message;
                    messageObject.editingMessageEntities = tLRPC$Message.entities;
                    str2 = tLRPC$Message.attachPath;
                    obj2 = "originalPath";
                    obj3 = obj4;
                    hashMap2 = hashMap5;
                }
                videoEditedInfo2 = videoEditedInfo;
                c2 = 1;
                HashMap<String, String> hashMap52 = tLRPC$Message.params;
                if (obj == null) {
                }
                messageObject.editingMessage = tLRPC$Message.message;
                messageObject.editingMessageEntities = tLRPC$Message.entities;
                str2 = tLRPC$Message.attachPath;
                obj2 = "originalPath";
                obj3 = obj4;
                hashMap2 = hashMap52;
            } else {
                TLRPC$MessageMedia tLRPC$MessageMedia2 = tLRPC$Message.media;
                messageObject.previousMedia = tLRPC$MessageMedia2;
                messageObject.previousMessage = tLRPC$Message.message;
                messageObject.previousMessageEntities = tLRPC$Message.entities;
                messageObject.previousAttachPath = tLRPC$Message.attachPath;
                if (tLRPC$MessageMedia2 == null) {
                    new TLRPC$TL_messageMediaEmpty();
                }
                SerializedData serializedData = new SerializedData(true);
                writePreviousMessageData(tLRPC$Message, serializedData);
                SerializedData serializedData2 = new SerializedData(serializedData.length());
                writePreviousMessageData(tLRPC$Message, serializedData2);
                obj2 = "originalPath";
                hashMap4.put("prevMedia", Base64.encodeToString(serializedData2.toByteArray(), 0));
                serializedData2.cleanup();
                if (tLRPC$TL_photo2 != null) {
                    TLRPC$TL_messageMediaPhoto tLRPC$TL_messageMediaPhoto = new TLRPC$TL_messageMediaPhoto();
                    tLRPC$Message.media = tLRPC$TL_messageMediaPhoto;
                    tLRPC$TL_messageMediaPhoto.flags |= 3;
                    tLRPC$TL_messageMediaPhoto.photo = tLRPC$TL_photo2;
                    tLRPC$TL_messageMediaPhoto.spoiler = z2;
                    if (str != null && str.length() > 0 && str.startsWith("http")) {
                        tLRPC$Message.attachPath = str;
                    } else {
                        ArrayList<TLRPC$PhotoSize> arrayList = tLRPC$TL_photo2.sizes;
                        tLRPC$Message.attachPath = FileLoader.getInstance(this.currentAccount).getPathToAttach(arrayList.get(arrayList.size() - 1).location, true).toString();
                    }
                    c = 2;
                } else if (tLRPC$TL_document2 != null) {
                    TLRPC$TL_messageMediaDocument tLRPC$TL_messageMediaDocument = new TLRPC$TL_messageMediaDocument();
                    tLRPC$Message.media = tLRPC$TL_messageMediaDocument;
                    tLRPC$TL_messageMediaDocument.flags |= 3;
                    tLRPC$TL_messageMediaDocument.document = tLRPC$TL_document2;
                    tLRPC$TL_messageMediaDocument.spoiler = z2;
                    if (!MessageObject.isVideoDocument(tLRPC$TL_document) && videoEditedInfo == null) {
                        c = 7;
                        if (videoEditedInfo != null) {
                            hashMap4.put("ve", videoEditedInfo.getString());
                        }
                        tLRPC$Message.attachPath = str;
                    }
                    c = 3;
                    if (videoEditedInfo != null) {
                    }
                    tLRPC$Message.attachPath = str;
                } else {
                    c = 1;
                }
                tLRPC$Message.params = hashMap4;
                tLRPC$Message.send_state = 3;
                obj3 = obj;
                str2 = str;
                c2 = c;
                hashMap2 = hashMap4;
                videoEditedInfo2 = videoEditedInfo;
            }
            if (tLRPC$Message.attachPath == null) {
                tLRPC$Message.attachPath = "";
            }
            tLRPC$Message.local_id = 0;
            int i = messageObject.type;
            TLRPC$TL_document tLRPC$TL_document3 = tLRPC$TL_document2;
            if ((i == 3 || videoEditedInfo2 != null || i == 2) && !TextUtils.isEmpty(tLRPC$Message.attachPath)) {
                messageObject.attachPathExists = true;
            }
            VideoEditedInfo videoEditedInfo5 = messageObject.videoEditedInfo;
            if (videoEditedInfo5 != null && videoEditedInfo2 == null) {
                videoEditedInfo2 = videoEditedInfo5;
            }
            if (z) {
                videoEditedInfo3 = videoEditedInfo2;
                z3 = z6;
                str3 = "http";
            } else {
                CharSequence charSequence2 = messageObject.editingMessage;
                if (charSequence2 != null) {
                    String str8 = tLRPC$Message.message;
                    String charSequence3 = charSequence2.toString();
                    tLRPC$Message.message = charSequence3;
                    videoEditedInfo3 = videoEditedInfo2;
                    messageObject.caption = null;
                    if (c2 == 1) {
                        ArrayList<TLRPC$MessageEntity> arrayList2 = messageObject.editingMessageEntities;
                        if (arrayList2 != null) {
                            tLRPC$Message.entities = arrayList2;
                            tLRPC$Message.flags |= 128;
                        } else if (!TextUtils.equals(str8, charSequence3)) {
                            tLRPC$Message.flags &= -129;
                        }
                    } else {
                        ArrayList<TLRPC$MessageEntity> arrayList3 = messageObject.editingMessageEntities;
                        if (arrayList3 != null) {
                            tLRPC$Message.entities = arrayList3;
                            tLRPC$Message.flags |= 128;
                        } else {
                            ArrayList<TLRPC$MessageEntity> entities = getMediaDataController().getEntities(new CharSequence[]{messageObject.editingMessage}, z6);
                            if (entities != null && !entities.isEmpty()) {
                                tLRPC$Message.entities = entities;
                                tLRPC$Message.flags |= 128;
                            } else if (!TextUtils.equals(str8, tLRPC$Message.message)) {
                                tLRPC$Message.flags &= -129;
                            }
                        }
                        messageObject.generateCaption();
                    }
                } else {
                    videoEditedInfo3 = videoEditedInfo2;
                }
                ArrayList<TLRPC$Message> arrayList4 = new ArrayList<>();
                arrayList4.add(tLRPC$Message);
                getMessagesStorage().putMessages(arrayList4, false, true, false, 0, messageObject.scheduled, MessageObject.getTopicId(tLRPC$Message, getMessagesController().isForum(tLRPC$Message)));
                getMessagesController().getTopicsController().processEditedMessage(tLRPC$Message);
                messageObject.type = -1;
                messageObject.setType();
                if (c2 == 1) {
                    TLRPC$MessageMedia tLRPC$MessageMedia3 = messageObject.messageOwner.media;
                    if (!(tLRPC$MessageMedia3 instanceof TLRPC$TL_messageMediaPhoto) && !(tLRPC$MessageMedia3 instanceof TLRPC$TL_messageMediaDocument)) {
                        messageObject.resetLayout();
                        messageObject.checkLayout();
                    }
                    messageObject.generateCaption();
                }
                messageObject.createMessageSendInfo();
                ArrayList arrayList5 = new ArrayList();
                arrayList5.add(messageObject);
                z3 = z6;
                str3 = "http";
                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.replaceMessagesObjects, Long.valueOf(dialogId), arrayList5);
            }
            if (hashMap2 != null) {
                Object obj5 = obj2;
                if (hashMap2.containsKey(obj5)) {
                    str4 = hashMap2.get(obj5);
                    if ((c2 >= 1 || c2 > 3) && (c2 < 5 || c2 > '\b')) {
                        return;
                    }
                    if (c2 == 1) {
                        TLRPC$MessageMedia tLRPC$MessageMedia4 = tLRPC$Message.media;
                        if ((tLRPC$MessageMedia4 == null || (tLRPC$MessageMedia4 instanceof TLRPC$TL_messageMediaEmpty) || (tLRPC$MessageMedia4 != null && (tLRPC$MessageMedia4.webpage instanceof TLRPC$TL_webPageEmpty))) && !messageObject.editingMessageSearchWebPage) {
                            tLRPC$TL_inputMediaWebPage = new TLRPC$TL_inputMediaEmpty();
                        } else if (tLRPC$MessageMedia4 != null && tLRPC$MessageMedia4.webpage != null) {
                            TLRPC$TL_inputMediaWebPage tLRPC$TL_inputMediaWebPage2 = new TLRPC$TL_inputMediaWebPage();
                            TLRPC$MessageMedia tLRPC$MessageMedia5 = tLRPC$Message.media;
                            tLRPC$TL_inputMediaWebPage2.url = tLRPC$MessageMedia5.webpage.url;
                            tLRPC$TL_inputMediaWebPage2.force_small_media = tLRPC$MessageMedia5.force_small_media;
                            tLRPC$TL_inputMediaWebPage2.force_large_media = tLRPC$MessageMedia5.force_large_media;
                            tLRPC$TL_inputMediaWebPage = tLRPC$TL_inputMediaWebPage2;
                        }
                        z4 = false;
                        tLRPC$InputMedia2 = tLRPC$TL_inputMediaWebPage;
                        delayedMessage = null;
                        tLRPC$InputMedia = tLRPC$InputMedia2;
                        TLRPC$TL_messages_editMessage tLRPC$TL_messages_editMessage = new TLRPC$TL_messages_editMessage();
                        tLRPC$TL_messages_editMessage.id = messageObject.getId();
                        tLRPC$TL_messages_editMessage.peer = getMessagesController().getInputPeer(dialogId);
                        TLRPC$Message tLRPC$Message2 = messageObject.messageOwner;
                        tLRPC$TL_messages_editMessage.invert_media = tLRPC$Message2.invert_media;
                        if (tLRPC$InputMedia != null) {
                            tLRPC$TL_messages_editMessage.flags |= LiteMode.FLAG_ANIMATED_EMOJI_KEYBOARD_NOT_PREMIUM;
                            tLRPC$TL_messages_editMessage.media = tLRPC$InputMedia;
                        }
                        if (messageObject.scheduled) {
                            tLRPC$TL_messages_editMessage.schedule_date = tLRPC$Message2.date;
                            tLRPC$TL_messages_editMessage.flags |= LiteMode.FLAG_CHAT_SCALE;
                        }
                        charSequence = messageObject.editingMessage;
                        if (charSequence != null) {
                            tLRPC$TL_messages_editMessage.message = charSequence.toString();
                            int i2 = tLRPC$TL_messages_editMessage.flags | LiteMode.FLAG_AUTOPLAY_GIFS;
                            tLRPC$TL_messages_editMessage.flags = i2;
                            tLRPC$TL_messages_editMessage.no_webpage = !messageObject.editingMessageSearchWebPage;
                            ArrayList<TLRPC$MessageEntity> arrayList6 = messageObject.editingMessageEntities;
                            if (arrayList6 != null) {
                                tLRPC$TL_messages_editMessage.entities = arrayList6;
                                tLRPC$TL_messages_editMessage.flags = i2 | 8;
                            } else {
                                ArrayList<TLRPC$MessageEntity> entities2 = getMediaDataController().getEntities(new CharSequence[]{messageObject.editingMessage}, z3);
                                if (entities2 != null && !entities2.isEmpty()) {
                                    tLRPC$TL_messages_editMessage.entities = entities2;
                                    tLRPC$TL_messages_editMessage.flags |= 8;
                                }
                            }
                            messageObject.editingMessage = null;
                            messageObject.editingMessageEntities = null;
                        }
                        if (delayedMessage != null) {
                            delayedMessage.sendRequest = tLRPC$TL_messages_editMessage;
                        }
                        if (c2 == 1) {
                            performSendMessageRequest(tLRPC$TL_messages_editMessage, messageObject, null, delayedMessage, obj3, hashMap2, messageObject.scheduled);
                            return;
                        } else if (c2 == 2) {
                            if (z4) {
                                performSendDelayedMessage(delayedMessage);
                                return;
                            } else {
                                performSendMessageRequest(tLRPC$TL_messages_editMessage, messageObject, str4, null, true, delayedMessage, obj3, hashMap2, messageObject.scheduled);
                                return;
                            }
                        } else {
                            HashMap<String, String> hashMap6 = hashMap2;
                            if (c2 == 3) {
                                if (z4) {
                                    performSendDelayedMessage(delayedMessage);
                                    return;
                                } else {
                                    performSendMessageRequest(tLRPC$TL_messages_editMessage, messageObject, str4, delayedMessage, obj3, hashMap6, messageObject.scheduled);
                                    return;
                                }
                            } else if (c2 == 6) {
                                performSendMessageRequest(tLRPC$TL_messages_editMessage, messageObject, str4, delayedMessage, obj3, hashMap6, messageObject.scheduled);
                                return;
                            } else if (c2 == 7) {
                                if (z4) {
                                    performSendDelayedMessage(delayedMessage);
                                    return;
                                } else {
                                    performSendMessageRequest(tLRPC$TL_messages_editMessage, messageObject, str4, delayedMessage, obj3, hashMap6, messageObject.scheduled);
                                    return;
                                }
                            } else if (c2 == '\b') {
                                if (z4) {
                                    performSendDelayedMessage(delayedMessage);
                                    return;
                                } else {
                                    performSendMessageRequest(tLRPC$TL_messages_editMessage, messageObject, str4, delayedMessage, obj3, hashMap6, messageObject.scheduled);
                                    return;
                                }
                            } else {
                                return;
                            }
                        }
                    }
                    if (c2 == 2) {
                        TLRPC$InputMedia tLRPC$TL_inputMediaUploadedPhoto = new TLRPC$TL_inputMediaUploadedPhoto();
                        tLRPC$TL_inputMediaUploadedPhoto.spoiler = z2;
                        if (hashMap2 == null || (str7 = hashMap2.get("masks")) == null) {
                            hashMap3 = hashMap2;
                        } else {
                            SerializedData serializedData3 = new SerializedData(Utilities.hexToBytes(str7));
                            boolean z7 = false;
                            int readInt32 = serializedData3.readInt32(false);
                            int i3 = 0;
                            while (i3 < readInt32) {
                                tLRPC$TL_inputMediaUploadedPhoto.stickers.add(TLRPC$InputDocument.TLdeserialize(serializedData3, serializedData3.readInt32(z7), z7));
                                i3++;
                                readInt32 = readInt32;
                                hashMap2 = hashMap2;
                                z7 = false;
                            }
                            hashMap3 = hashMap2;
                            tLRPC$TL_inputMediaUploadedPhoto.flags |= 1;
                            serializedData3.cleanup();
                        }
                        if (tLRPC$TL_photo2.access_hash == 0) {
                            tLRPC$TL_inputMediaPhoto = tLRPC$TL_inputMediaUploadedPhoto;
                            str6 = str2;
                            z5 = true;
                        } else {
                            TLRPC$TL_inputMediaPhoto tLRPC$TL_inputMediaPhoto2 = new TLRPC$TL_inputMediaPhoto();
                            TLRPC$TL_inputPhoto tLRPC$TL_inputPhoto = new TLRPC$TL_inputPhoto();
                            tLRPC$TL_inputMediaPhoto2.id = tLRPC$TL_inputPhoto;
                            str6 = str2;
                            tLRPC$TL_inputPhoto.id = tLRPC$TL_photo2.id;
                            tLRPC$TL_inputPhoto.access_hash = tLRPC$TL_photo2.access_hash;
                            byte[] bArr = tLRPC$TL_photo2.file_reference;
                            tLRPC$TL_inputPhoto.file_reference = bArr;
                            if (bArr == null) {
                                tLRPC$TL_inputPhoto.file_reference = new byte[0];
                            }
                            tLRPC$TL_inputMediaPhoto2.spoiler = z2;
                            tLRPC$TL_inputMediaPhoto = tLRPC$TL_inputMediaPhoto2;
                            z5 = false;
                        }
                        DelayedMessage delayedMessage2 = new DelayedMessage(dialogId);
                        delayedMessage2.type = 0;
                        delayedMessage2.obj = messageObject;
                        delayedMessage2.originalPath = str4;
                        delayedMessage2.parentObject = obj3;
                        delayedMessage2.inputUploadMedia = tLRPC$TL_inputMediaUploadedPhoto;
                        delayedMessage2.performMediaUpload = z5;
                        if (str6 != null && str6.length() > 0) {
                            String str9 = str6;
                            if (str9.startsWith(str3)) {
                                delayedMessage2.httpLocation = str9;
                                hashMap2 = hashMap3;
                                delayedMessage = delayedMessage2;
                                z4 = z5;
                                tLRPC$InputMedia = tLRPC$TL_inputMediaPhoto;
                            }
                        }
                        ArrayList<TLRPC$PhotoSize> arrayList7 = tLRPC$TL_photo2.sizes;
                        delayedMessage2.photoSize = arrayList7.get(arrayList7.size() - 1);
                        delayedMessage2.locationParent = tLRPC$TL_photo2;
                        hashMap2 = hashMap3;
                        delayedMessage = delayedMessage2;
                        z4 = z5;
                        tLRPC$InputMedia = tLRPC$TL_inputMediaPhoto;
                    } else {
                        HashMap<String, String> hashMap7 = hashMap2;
                        if (c2 == 3) {
                            TLRPC$InputMedia tLRPC$TL_inputMediaUploadedDocument = new TLRPC$TL_inputMediaUploadedDocument();
                            tLRPC$TL_inputMediaUploadedDocument.spoiler = z2;
                            hashMap2 = hashMap7;
                            if (hashMap7 != null && (str5 = hashMap2.get("masks")) != null) {
                                SerializedData serializedData4 = new SerializedData(Utilities.hexToBytes(str5));
                                boolean z8 = false;
                                int readInt322 = serializedData4.readInt32(false);
                                int i4 = 0;
                                while (i4 < readInt322) {
                                    tLRPC$TL_inputMediaUploadedDocument.stickers.add(TLRPC$InputDocument.TLdeserialize(serializedData4, serializedData4.readInt32(z8), z8));
                                    i4++;
                                    z8 = false;
                                }
                                tLRPC$TL_inputMediaUploadedDocument.flags |= 1;
                                serializedData4.cleanup();
                            }
                            tLRPC$TL_inputMediaUploadedDocument.mime_type = tLRPC$TL_document3.mime_type;
                            tLRPC$TL_inputMediaUploadedDocument.attributes = tLRPC$TL_document3.attributes;
                            if (messageObject.isGif()) {
                                videoEditedInfo4 = videoEditedInfo3;
                            } else {
                                if (videoEditedInfo3 != null) {
                                    videoEditedInfo4 = videoEditedInfo3;
                                    if (!videoEditedInfo4.muted) {
                                    }
                                } else {
                                    videoEditedInfo4 = videoEditedInfo3;
                                }
                                tLRPC$TL_inputMediaUploadedDocument.nosound_video = true;
                                if (BuildVars.DEBUG_VERSION) {
                                    FileLog.d("nosound_video = true");
                                }
                            }
                            if (tLRPC$TL_document3.access_hash == 0) {
                                tLRPC$TL_inputMediaDocument2 = tLRPC$TL_inputMediaUploadedDocument;
                                z4 = true;
                            } else {
                                TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument3 = new TLRPC$TL_inputMediaDocument();
                                TLRPC$TL_inputDocument tLRPC$TL_inputDocument = new TLRPC$TL_inputDocument();
                                tLRPC$TL_inputMediaDocument3.id = tLRPC$TL_inputDocument;
                                tLRPC$TL_inputDocument.id = tLRPC$TL_document3.id;
                                tLRPC$TL_inputDocument.access_hash = tLRPC$TL_document3.access_hash;
                                byte[] bArr2 = tLRPC$TL_document3.file_reference;
                                tLRPC$TL_inputDocument.file_reference = bArr2;
                                if (bArr2 == null) {
                                    tLRPC$TL_inputDocument.file_reference = new byte[0];
                                }
                                tLRPC$TL_inputMediaDocument3.spoiler = z2;
                                z4 = false;
                                tLRPC$TL_inputMediaDocument2 = tLRPC$TL_inputMediaDocument3;
                            }
                            DelayedMessage delayedMessage3 = new DelayedMessage(dialogId);
                            delayedMessage3.type = 1;
                            delayedMessage3.obj = messageObject;
                            delayedMessage3.originalPath = str4;
                            delayedMessage3.parentObject = obj3;
                            delayedMessage3.inputUploadMedia = tLRPC$TL_inputMediaUploadedDocument;
                            delayedMessage3.performMediaUpload = z4;
                            if (!tLRPC$TL_document3.thumbs.isEmpty()) {
                                TLRPC$PhotoSize tLRPC$PhotoSize = tLRPC$TL_document3.thumbs.get(0);
                                if (!(tLRPC$PhotoSize instanceof TLRPC$TL_photoStrippedSize)) {
                                    delayedMessage3.photoSize = tLRPC$PhotoSize;
                                    delayedMessage3.locationParent = tLRPC$TL_document3;
                                }
                            }
                            delayedMessage3.videoEditedInfo = videoEditedInfo4;
                            tLRPC$InputMedia = tLRPC$TL_inputMediaDocument2;
                            delayedMessage = delayedMessage3;
                        } else {
                            hashMap2 = hashMap7;
                            if (c2 == 7) {
                                TLRPC$InputMedia tLRPC$TL_inputMediaUploadedDocument2 = new TLRPC$TL_inputMediaUploadedDocument();
                                tLRPC$TL_inputMediaUploadedDocument2.mime_type = tLRPC$TL_document3.mime_type;
                                tLRPC$TL_inputMediaUploadedDocument2.attributes = tLRPC$TL_document3.attributes;
                                tLRPC$TL_inputMediaUploadedDocument2.spoiler = z2;
                                if (tLRPC$TL_document3.access_hash == 0) {
                                    tLRPC$TL_inputMediaDocument = tLRPC$TL_inputMediaUploadedDocument2;
                                    z4 = true;
                                } else {
                                    TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument4 = new TLRPC$TL_inputMediaDocument();
                                    TLRPC$TL_inputDocument tLRPC$TL_inputDocument2 = new TLRPC$TL_inputDocument();
                                    tLRPC$TL_inputMediaDocument4.id = tLRPC$TL_inputDocument2;
                                    tLRPC$TL_inputDocument2.id = tLRPC$TL_document3.id;
                                    tLRPC$TL_inputDocument2.access_hash = tLRPC$TL_document3.access_hash;
                                    byte[] bArr3 = tLRPC$TL_document3.file_reference;
                                    tLRPC$TL_inputDocument2.file_reference = bArr3;
                                    if (bArr3 == null) {
                                        tLRPC$TL_inputDocument2.file_reference = new byte[0];
                                    }
                                    tLRPC$TL_inputMediaDocument4.spoiler = z2;
                                    z4 = false;
                                    tLRPC$TL_inputMediaDocument = tLRPC$TL_inputMediaDocument4;
                                }
                                delayedMessage = new DelayedMessage(dialogId);
                                delayedMessage.originalPath = str4;
                                delayedMessage.type = 2;
                                delayedMessage.obj = messageObject;
                                if (!tLRPC$TL_document3.thumbs.isEmpty()) {
                                    TLRPC$PhotoSize tLRPC$PhotoSize2 = tLRPC$TL_document3.thumbs.get(0);
                                    if (!(tLRPC$PhotoSize2 instanceof TLRPC$TL_photoStrippedSize)) {
                                        delayedMessage.photoSize = tLRPC$PhotoSize2;
                                        delayedMessage.locationParent = tLRPC$TL_document3;
                                    }
                                }
                                delayedMessage.parentObject = obj3;
                                delayedMessage.inputUploadMedia = tLRPC$TL_inputMediaUploadedDocument2;
                                delayedMessage.performMediaUpload = z4;
                                tLRPC$InputMedia = tLRPC$TL_inputMediaDocument;
                            }
                        }
                    }
                    TLRPC$TL_messages_editMessage tLRPC$TL_messages_editMessage2 = new TLRPC$TL_messages_editMessage();
                    tLRPC$TL_messages_editMessage2.id = messageObject.getId();
                    tLRPC$TL_messages_editMessage2.peer = getMessagesController().getInputPeer(dialogId);
                    TLRPC$Message tLRPC$Message22 = messageObject.messageOwner;
                    tLRPC$TL_messages_editMessage2.invert_media = tLRPC$Message22.invert_media;
                    if (tLRPC$InputMedia != null) {
                    }
                    if (messageObject.scheduled) {
                    }
                    charSequence = messageObject.editingMessage;
                    if (charSequence != null) {
                    }
                    if (delayedMessage != null) {
                    }
                    if (c2 == 1) {
                    }
                    z4 = false;
                    tLRPC$InputMedia2 = null;
                    delayedMessage = null;
                    tLRPC$InputMedia = tLRPC$InputMedia2;
                    TLRPC$TL_messages_editMessage tLRPC$TL_messages_editMessage22 = new TLRPC$TL_messages_editMessage();
                    tLRPC$TL_messages_editMessage22.id = messageObject.getId();
                    tLRPC$TL_messages_editMessage22.peer = getMessagesController().getInputPeer(dialogId);
                    TLRPC$Message tLRPC$Message222 = messageObject.messageOwner;
                    tLRPC$TL_messages_editMessage22.invert_media = tLRPC$Message222.invert_media;
                    if (tLRPC$InputMedia != null) {
                    }
                    if (messageObject.scheduled) {
                    }
                    charSequence = messageObject.editingMessage;
                    if (charSequence != null) {
                    }
                    if (delayedMessage != null) {
                    }
                    if (c2 == 1) {
                    }
                }
            }
            str4 = null;
            if (c2 >= 1) {
            }
        } catch (Exception e) {
            FileLog.e(e);
            revertEditingMessageObject(messageObject);
        }
    }

    public int editMessage(MessageObject messageObject, String str, boolean z, final BaseFragment baseFragment, ArrayList<TLRPC$MessageEntity> arrayList, int i) {
        if (baseFragment == null || baseFragment.getParentActivity() == null) {
            return 0;
        }
        final TLRPC$TL_messages_editMessage tLRPC$TL_messages_editMessage = new TLRPC$TL_messages_editMessage();
        tLRPC$TL_messages_editMessage.peer = getMessagesController().getInputPeer(messageObject.getDialogId());
        if (str != null) {
            tLRPC$TL_messages_editMessage.message = str;
            tLRPC$TL_messages_editMessage.flags |= LiteMode.FLAG_AUTOPLAY_GIFS;
            tLRPC$TL_messages_editMessage.no_webpage = !z;
        }
        tLRPC$TL_messages_editMessage.id = messageObject.getId();
        if (arrayList != null) {
            tLRPC$TL_messages_editMessage.entities = arrayList;
            tLRPC$TL_messages_editMessage.flags |= 8;
        }
        if (i != 0) {
            tLRPC$TL_messages_editMessage.schedule_date = i;
            tLRPC$TL_messages_editMessage.flags |= LiteMode.FLAG_CHAT_SCALE;
        }
        return getConnectionsManager().sendRequest(tLRPC$TL_messages_editMessage, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda90
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                SendMessagesHelper.this.lambda$editMessage$16(baseFragment, tLRPC$TL_messages_editMessage, tLObject, tLRPC$TL_error);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$editMessage$16(final BaseFragment baseFragment, final TLRPC$TL_messages_editMessage tLRPC$TL_messages_editMessage, TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            getMessagesController().processUpdates((TLRPC$Updates) tLObject, false);
        } else {
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda58
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.this.lambda$editMessage$15(tLRPC$TL_error, baseFragment, tLRPC$TL_messages_editMessage);
                }
            });
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$editMessage$15(TLRPC$TL_error tLRPC$TL_error, BaseFragment baseFragment, TLRPC$TL_messages_editMessage tLRPC$TL_messages_editMessage) {
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, baseFragment, tLRPC$TL_messages_editMessage, new Object[0]);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void sendLocation(Location location) {
        TLRPC$TL_messageMediaGeo tLRPC$TL_messageMediaGeo = new TLRPC$TL_messageMediaGeo();
        TLRPC$TL_geoPoint tLRPC$TL_geoPoint = new TLRPC$TL_geoPoint();
        tLRPC$TL_messageMediaGeo.geo = tLRPC$TL_geoPoint;
        tLRPC$TL_geoPoint.lat = AndroidUtilities.fixLocationCoord(location.getLatitude());
        tLRPC$TL_messageMediaGeo.geo._long = AndroidUtilities.fixLocationCoord(location.getLongitude());
        for (Map.Entry<String, MessageObject> entry : this.waitingForLocation.entrySet()) {
            MessageObject value = entry.getValue();
            sendMessage(SendMessageParams.of((TLRPC$MessageMedia) tLRPC$TL_messageMediaGeo, value.getDialogId(), value, (MessageObject) null, (TLRPC$ReplyMarkup) null, (HashMap<String, String>) null, true, 0));
        }
    }

    public void sendCurrentLocation(MessageObject messageObject, TLRPC$KeyboardButton tLRPC$KeyboardButton) {
        if (messageObject == null || tLRPC$KeyboardButton == null) {
            return;
        }
        StringBuilder sb = new StringBuilder();
        sb.append(messageObject.getDialogId());
        sb.append("_");
        sb.append(messageObject.getId());
        sb.append("_");
        sb.append(Utilities.bytesToHex(tLRPC$KeyboardButton.data));
        sb.append("_");
        sb.append(tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonGame ? "1" : "0");
        this.waitingForLocation.put(sb.toString(), messageObject);
        this.locationProvider.start();
    }

    public boolean isSendingCurrentLocation(MessageObject messageObject, TLRPC$KeyboardButton tLRPC$KeyboardButton) {
        if (messageObject == null || tLRPC$KeyboardButton == null) {
            return false;
        }
        StringBuilder sb = new StringBuilder();
        sb.append(messageObject.getDialogId());
        sb.append("_");
        sb.append(messageObject.getId());
        sb.append("_");
        sb.append(Utilities.bytesToHex(tLRPC$KeyboardButton.data));
        sb.append("_");
        sb.append(tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonGame ? "1" : "0");
        return this.waitingForLocation.containsKey(sb.toString());
    }

    public void sendNotificationCallback(final long j, final int i, final byte[] bArr) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda24
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$sendNotificationCallback$19(j, i, bArr);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendNotificationCallback$19(long j, int i, byte[] bArr) {
        TLRPC$Chat chatSync;
        TLRPC$User userSync;
        final String str = j + "_" + i + "_" + Utilities.bytesToHex(bArr) + "_0";
        this.waitingForCallback.put(str, Boolean.TRUE);
        final List<String> list = this.waitingForCallbackMap.get(j + "_" + i);
        if (list == null) {
            ArrayList arrayList = new ArrayList();
            this.waitingForCallbackMap.put(j + "_" + i, arrayList);
            list = arrayList;
        }
        list.add(str);
        if (DialogObject.isUserDialog(j)) {
            if (getMessagesController().getUser(Long.valueOf(j)) == null && (userSync = getMessagesStorage().getUserSync(j)) != null) {
                getMessagesController().putUser(userSync, true);
            }
        } else {
            long j2 = -j;
            if (getMessagesController().getChat(Long.valueOf(j2)) == null && (chatSync = getMessagesStorage().getChatSync(j2)) != null) {
                getMessagesController().putChat(chatSync, true);
            }
        }
        TLRPC$TL_messages_getBotCallbackAnswer tLRPC$TL_messages_getBotCallbackAnswer = new TLRPC$TL_messages_getBotCallbackAnswer();
        tLRPC$TL_messages_getBotCallbackAnswer.peer = getMessagesController().getInputPeer(j);
        tLRPC$TL_messages_getBotCallbackAnswer.msg_id = i;
        tLRPC$TL_messages_getBotCallbackAnswer.game = false;
        if (bArr != null) {
            tLRPC$TL_messages_getBotCallbackAnswer.flags |= 1;
            tLRPC$TL_messages_getBotCallbackAnswer.data = bArr;
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_getBotCallbackAnswer, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda83
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                SendMessagesHelper.this.lambda$sendNotificationCallback$18(str, list, tLObject, tLRPC$TL_error);
            }
        }, 2);
        getMessagesController().markDialogAsRead(j, i, i, 0, false, 0, 0, true, 0);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendNotificationCallback$18(final String str, final List list, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda28
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$sendNotificationCallback$17(str, list);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendNotificationCallback$17(String str, List list) {
        this.waitingForCallback.remove(str);
        list.remove(str);
    }

    public void onMessageEdited(TLRPC$Message tLRPC$Message) {
        if (tLRPC$Message == null || tLRPC$Message.reply_markup == null) {
            return;
        }
        HashMap<String, List<String>> hashMap = this.waitingForCallbackMap;
        List<String> remove = hashMap.remove(tLRPC$Message.dialog_id + "_" + tLRPC$Message.id);
        if (remove != null) {
            for (String str : remove) {
                this.waitingForCallback.remove(str);
            }
        }
    }

    public byte[] isSendingVote(MessageObject messageObject) {
        if (messageObject == null) {
            return null;
        }
        return this.waitingForVote.get("poll_" + messageObject.getPollId());
    }

    public int sendVote(final MessageObject messageObject, ArrayList<TLRPC$TL_pollAnswer> arrayList, final Runnable runnable) {
        byte[] bArr;
        if (messageObject == null) {
            return 0;
        }
        final String str = "poll_" + messageObject.getPollId();
        if (this.waitingForCallback.containsKey(str)) {
            return 0;
        }
        TLRPC$TL_messages_sendVote tLRPC$TL_messages_sendVote = new TLRPC$TL_messages_sendVote();
        tLRPC$TL_messages_sendVote.msg_id = messageObject.getId();
        tLRPC$TL_messages_sendVote.peer = getMessagesController().getInputPeer(messageObject.getDialogId());
        if (arrayList != null) {
            bArr = new byte[arrayList.size()];
            for (int i = 0; i < arrayList.size(); i++) {
                TLRPC$TL_pollAnswer tLRPC$TL_pollAnswer = arrayList.get(i);
                tLRPC$TL_messages_sendVote.options.add(tLRPC$TL_pollAnswer.option);
                bArr[i] = tLRPC$TL_pollAnswer.option[0];
            }
        } else {
            bArr = new byte[0];
        }
        this.waitingForVote.put(str, bArr);
        return getConnectionsManager().sendRequest(tLRPC$TL_messages_sendVote, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda86
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                SendMessagesHelper.this.lambda$sendVote$21(messageObject, str, runnable, tLObject, tLRPC$TL_error);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendVote$21(MessageObject messageObject, final String str, final Runnable runnable, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            this.voteSendTime.put(messageObject.getPollId(), 0L);
            getMessagesController().processUpdates((TLRPC$Updates) tLObject, false);
            this.voteSendTime.put(messageObject.getPollId(), Long.valueOf(SystemClock.elapsedRealtime()));
        }
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda26
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$sendVote$20(str, runnable);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendVote$20(String str, Runnable runnable) {
        this.waitingForVote.remove(str);
        if (runnable != null) {
            runnable.run();
        }
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public long getVoteSendTime(long j) {
        return this.voteSendTime.get(j, 0L).longValue();
    }

    public void sendReaction(MessageObject messageObject, ArrayList<ReactionsLayoutInBubble.VisibleReaction> arrayList, ReactionsLayoutInBubble.VisibleReaction visibleReaction, boolean z, boolean z2, ChatActivity chatActivity, final Runnable runnable) {
        if (messageObject == null || chatActivity == null) {
            return;
        }
        TLRPC$TL_messages_sendReaction tLRPC$TL_messages_sendReaction = new TLRPC$TL_messages_sendReaction();
        TLRPC$Message tLRPC$Message = messageObject.messageOwner;
        if (tLRPC$Message.isThreadMessage && tLRPC$Message.fwd_from != null) {
            tLRPC$TL_messages_sendReaction.peer = getMessagesController().getInputPeer(messageObject.getFromChatId());
            tLRPC$TL_messages_sendReaction.msg_id = messageObject.messageOwner.fwd_from.saved_from_msg_id;
        } else {
            tLRPC$TL_messages_sendReaction.peer = getMessagesController().getInputPeer(messageObject.getDialogId());
            tLRPC$TL_messages_sendReaction.msg_id = messageObject.getId();
        }
        tLRPC$TL_messages_sendReaction.add_to_recent = z2;
        if (z2 && visibleReaction != null) {
            MediaDataController.getInstance(this.currentAccount).recentReactions.add(0, ReactionsUtils.toTLReaction(visibleReaction));
        }
        if (arrayList != null && !arrayList.isEmpty()) {
            for (int i = 0; i < arrayList.size(); i++) {
                ReactionsLayoutInBubble.VisibleReaction visibleReaction2 = arrayList.get(i);
                if (visibleReaction2.documentId != 0) {
                    TLRPC$TL_reactionCustomEmoji tLRPC$TL_reactionCustomEmoji = new TLRPC$TL_reactionCustomEmoji();
                    tLRPC$TL_reactionCustomEmoji.document_id = visibleReaction2.documentId;
                    tLRPC$TL_messages_sendReaction.reaction.add(tLRPC$TL_reactionCustomEmoji);
                    tLRPC$TL_messages_sendReaction.flags |= 1;
                } else if (visibleReaction2.emojicon != null) {
                    TLRPC$TL_reactionEmoji tLRPC$TL_reactionEmoji = new TLRPC$TL_reactionEmoji();
                    tLRPC$TL_reactionEmoji.emoticon = visibleReaction2.emojicon;
                    tLRPC$TL_messages_sendReaction.reaction.add(tLRPC$TL_reactionEmoji);
                    tLRPC$TL_messages_sendReaction.flags |= 1;
                }
            }
        }
        if (z) {
            tLRPC$TL_messages_sendReaction.flags |= 2;
            tLRPC$TL_messages_sendReaction.big = true;
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_sendReaction, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda82
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                SendMessagesHelper.this.lambda$sendReaction$22(runnable, tLObject, tLRPC$TL_error);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendReaction$22(Runnable runnable, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            getMessagesController().processUpdates((TLRPC$Updates) tLObject, false);
            if (runnable != null) {
                AndroidUtilities.runOnUIThread(runnable);
            }
        }
    }

    public void requestUrlAuth(final String str, final ChatActivity chatActivity, final boolean z) {
        final TLRPC$TL_messages_requestUrlAuth tLRPC$TL_messages_requestUrlAuth = new TLRPC$TL_messages_requestUrlAuth();
        tLRPC$TL_messages_requestUrlAuth.url = str;
        tLRPC$TL_messages_requestUrlAuth.flags |= 4;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_requestUrlAuth, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda92
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                SendMessagesHelper.lambda$requestUrlAuth$23(ChatActivity.this, tLRPC$TL_messages_requestUrlAuth, str, z, tLObject, tLRPC$TL_error);
            }
        }, 2);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$requestUrlAuth$23(ChatActivity chatActivity, TLRPC$TL_messages_requestUrlAuth tLRPC$TL_messages_requestUrlAuth, String str, boolean z, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            if (tLObject instanceof TLRPC$TL_urlAuthResultRequest) {
                chatActivity.showRequestUrlAlert((TLRPC$TL_urlAuthResultRequest) tLObject, tLRPC$TL_messages_requestUrlAuth, str, z);
                return;
            } else if (tLObject instanceof TLRPC$TL_urlAuthResultAccepted) {
                AlertsCreator.showOpenUrlAlert(chatActivity, ((TLRPC$TL_urlAuthResultAccepted) tLObject).url, false, false);
                return;
            } else if (tLObject instanceof TLRPC$TL_urlAuthResultDefault) {
                AlertsCreator.showOpenUrlAlert(chatActivity, str, false, z);
                return;
            } else {
                return;
            }
        }
        AlertsCreator.showOpenUrlAlert(chatActivity, str, false, z);
    }

    public void sendCallback(boolean z, MessageObject messageObject, TLRPC$KeyboardButton tLRPC$KeyboardButton, ChatActivity chatActivity) {
        lambda$sendCallback$24(z, messageObject, tLRPC$KeyboardButton, null, null, chatActivity);
    }

    /* JADX WARN: Removed duplicated region for block: B:20:0x0084  */
    /* JADX WARN: Removed duplicated region for block: B:21:0x00aa  */
    /* JADX WARN: Removed duplicated region for block: B:24:0x00d1  */
    /* JADX WARN: Removed duplicated region for block: B:25:0x00da  */
    /* renamed from: sendCallback */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void lambda$sendCallback$24(final boolean z, final MessageObject messageObject, final TLRPC$KeyboardButton tLRPC$KeyboardButton, final TLRPC$InputCheckPasswordSRP tLRPC$InputCheckPasswordSRP, final TwoStepVerificationActivity twoStepVerificationActivity, final ChatActivity chatActivity) {
        boolean z2;
        int i;
        List<String> list;
        final ArrayList arrayList;
        if (messageObject == null || tLRPC$KeyboardButton == null || chatActivity == null) {
            return;
        }
        boolean z3 = tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonUrlAuth;
        if (z3) {
            i = 3;
        } else if (!(tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonGame)) {
            if (tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonBuy) {
                z2 = z;
                i = 2;
            } else {
                z2 = z;
                i = 0;
            }
            final String str = messageObject.getDialogId() + "_" + messageObject.getId() + "_" + Utilities.bytesToHex(tLRPC$KeyboardButton.data) + "_" + i;
            this.waitingForCallback.put(str, Boolean.TRUE);
            list = this.waitingForCallbackMap.get(messageObject.getDialogId() + "_" + messageObject.getId());
            if (list != null) {
                ArrayList arrayList2 = new ArrayList();
                this.waitingForCallbackMap.put(messageObject.getDialogId() + "_" + messageObject.getId(), arrayList2);
                arrayList = arrayList2;
            } else {
                arrayList = list;
            }
            arrayList.add(str);
            final TLObject[] tLObjectArr = new TLObject[1];
            final boolean z4 = z2;
            RequestDelegate requestDelegate = new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda84
                @Override // org.telegram.tgnet.RequestDelegate
                public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                    SendMessagesHelper.this.lambda$sendCallback$30(str, arrayList, z4, messageObject, tLRPC$KeyboardButton, chatActivity, twoStepVerificationActivity, tLObjectArr, tLRPC$InputCheckPasswordSRP, z, tLObject, tLRPC$TL_error);
                }
            };
            if (!z2) {
                getMessagesStorage().getBotCache(str, requestDelegate);
                return;
            } else if (z3) {
                TLRPC$TL_messages_requestUrlAuth tLRPC$TL_messages_requestUrlAuth = new TLRPC$TL_messages_requestUrlAuth();
                tLRPC$TL_messages_requestUrlAuth.peer = getMessagesController().getInputPeer(messageObject.getDialogId());
                tLRPC$TL_messages_requestUrlAuth.msg_id = messageObject.getId();
                tLRPC$TL_messages_requestUrlAuth.button_id = tLRPC$KeyboardButton.button_id;
                tLRPC$TL_messages_requestUrlAuth.flags |= 2;
                tLObjectArr[0] = tLRPC$TL_messages_requestUrlAuth;
                getConnectionsManager().sendRequest(tLRPC$TL_messages_requestUrlAuth, requestDelegate, 2);
                return;
            } else if (tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonBuy) {
                if ((messageObject.messageOwner.media.flags & 4) == 0) {
                    TLRPC$TL_payments_getPaymentForm tLRPC$TL_payments_getPaymentForm = new TLRPC$TL_payments_getPaymentForm();
                    TLRPC$TL_inputInvoiceMessage tLRPC$TL_inputInvoiceMessage = new TLRPC$TL_inputInvoiceMessage();
                    tLRPC$TL_inputInvoiceMessage.msg_id = messageObject.getId();
                    tLRPC$TL_inputInvoiceMessage.peer = getMessagesController().getInputPeer(messageObject.messageOwner.peer_id);
                    tLRPC$TL_payments_getPaymentForm.invoice = tLRPC$TL_inputInvoiceMessage;
                    JSONObject makeThemeParams = BotWebViewSheet.makeThemeParams(null);
                    if (makeThemeParams != null) {
                        TLRPC$TL_dataJSON tLRPC$TL_dataJSON = new TLRPC$TL_dataJSON();
                        tLRPC$TL_payments_getPaymentForm.theme_params = tLRPC$TL_dataJSON;
                        tLRPC$TL_dataJSON.data = makeThemeParams.toString();
                        tLRPC$TL_payments_getPaymentForm.flags |= 1;
                    }
                    getConnectionsManager().sendRequest(tLRPC$TL_payments_getPaymentForm, requestDelegate, 2);
                    return;
                }
                TLRPC$TL_payments_getPaymentReceipt tLRPC$TL_payments_getPaymentReceipt = new TLRPC$TL_payments_getPaymentReceipt();
                tLRPC$TL_payments_getPaymentReceipt.msg_id = messageObject.messageOwner.media.receipt_msg_id;
                tLRPC$TL_payments_getPaymentReceipt.peer = getMessagesController().getInputPeer(messageObject.messageOwner.peer_id);
                getConnectionsManager().sendRequest(tLRPC$TL_payments_getPaymentReceipt, requestDelegate, 2);
                return;
            } else {
                TLRPC$TL_messages_getBotCallbackAnswer tLRPC$TL_messages_getBotCallbackAnswer = new TLRPC$TL_messages_getBotCallbackAnswer();
                tLRPC$TL_messages_getBotCallbackAnswer.peer = getMessagesController().getInputPeer(messageObject.getDialogId());
                tLRPC$TL_messages_getBotCallbackAnswer.msg_id = messageObject.getId();
                tLRPC$TL_messages_getBotCallbackAnswer.game = tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonGame;
                if (tLRPC$KeyboardButton.requires_password) {
                    TLRPC$InputCheckPasswordSRP tLRPC$TL_inputCheckPasswordEmpty = tLRPC$InputCheckPasswordSRP != null ? tLRPC$InputCheckPasswordSRP : new TLRPC$TL_inputCheckPasswordEmpty();
                    tLRPC$TL_messages_getBotCallbackAnswer.password = tLRPC$TL_inputCheckPasswordEmpty;
                    tLRPC$TL_messages_getBotCallbackAnswer.password = tLRPC$TL_inputCheckPasswordEmpty;
                    tLRPC$TL_messages_getBotCallbackAnswer.flags |= 4;
                }
                byte[] bArr = tLRPC$KeyboardButton.data;
                if (bArr != null) {
                    tLRPC$TL_messages_getBotCallbackAnswer.flags |= 1;
                    tLRPC$TL_messages_getBotCallbackAnswer.data = bArr;
                }
                getConnectionsManager().sendRequest(tLRPC$TL_messages_getBotCallbackAnswer, requestDelegate, 2);
                return;
            }
        } else {
            i = 1;
        }
        z2 = false;
        final String str2 = messageObject.getDialogId() + "_" + messageObject.getId() + "_" + Utilities.bytesToHex(tLRPC$KeyboardButton.data) + "_" + i;
        this.waitingForCallback.put(str2, Boolean.TRUE);
        list = this.waitingForCallbackMap.get(messageObject.getDialogId() + "_" + messageObject.getId());
        if (list != null) {
        }
        arrayList.add(str2);
        final TLObject[] tLObjectArr2 = new TLObject[1];
        final boolean z42 = z2;
        RequestDelegate requestDelegate2 = new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda84
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                SendMessagesHelper.this.lambda$sendCallback$30(str2, arrayList, z42, messageObject, tLRPC$KeyboardButton, chatActivity, twoStepVerificationActivity, tLObjectArr2, tLRPC$InputCheckPasswordSRP, z, tLObject, tLRPC$TL_error);
            }
        };
        if (!z2) {
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendCallback$30(final String str, final List list, final boolean z, final MessageObject messageObject, final TLRPC$KeyboardButton tLRPC$KeyboardButton, final ChatActivity chatActivity, final TwoStepVerificationActivity twoStepVerificationActivity, final TLObject[] tLObjectArr, final TLRPC$InputCheckPasswordSRP tLRPC$InputCheckPasswordSRP, final boolean z2, final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda29
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$sendCallback$29(str, list, z, tLObject, messageObject, tLRPC$KeyboardButton, chatActivity, twoStepVerificationActivity, tLObjectArr, tLRPC$TL_error, tLRPC$InputCheckPasswordSRP, z2);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendCallback$29(String str, List list, boolean z, TLObject tLObject, final MessageObject messageObject, final TLRPC$KeyboardButton tLRPC$KeyboardButton, final ChatActivity chatActivity, final TwoStepVerificationActivity twoStepVerificationActivity, TLObject[] tLObjectArr, TLRPC$TL_error tLRPC$TL_error, TLRPC$InputCheckPasswordSRP tLRPC$InputCheckPasswordSRP, final boolean z2) {
        String str2;
        this.waitingForCallback.remove(str);
        list.remove(str);
        boolean z3 = false;
        if (z && tLObject == null) {
            sendCallback(false, messageObject, tLRPC$KeyboardButton, chatActivity);
            return;
        }
        if (tLObject != null) {
            if (twoStepVerificationActivity != null) {
                twoStepVerificationActivity.needHideProgress();
                twoStepVerificationActivity.finishFragment();
            }
            long fromChatId = messageObject.getFromChatId();
            long j = messageObject.messageOwner.via_bot_id;
            if (j != 0) {
                fromChatId = j;
            }
            if (fromChatId > 0) {
                TLRPC$User user = getMessagesController().getUser(Long.valueOf(fromChatId));
                if (user != null) {
                    str2 = ContactsController.formatName(user.first_name, user.last_name);
                }
                str2 = null;
            } else {
                TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(-fromChatId));
                if (chat != null) {
                    str2 = chat.title;
                }
                str2 = null;
            }
            if (str2 == null) {
                str2 = "bot";
            }
            if (tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonUrlAuth) {
                if (tLObject instanceof TLRPC$TL_urlAuthResultRequest) {
                    chatActivity.showRequestUrlAlert((TLRPC$TL_urlAuthResultRequest) tLObject, (TLRPC$TL_messages_requestUrlAuth) tLObjectArr[0], tLRPC$KeyboardButton.url, false);
                } else if (tLObject instanceof TLRPC$TL_urlAuthResultAccepted) {
                    AlertsCreator.showOpenUrlAlert(chatActivity, ((TLRPC$TL_urlAuthResultAccepted) tLObject).url, false, false);
                } else if (tLObject instanceof TLRPC$TL_urlAuthResultDefault) {
                    TLRPC$TL_urlAuthResultDefault tLRPC$TL_urlAuthResultDefault = (TLRPC$TL_urlAuthResultDefault) tLObject;
                    AlertsCreator.showOpenUrlAlert(chatActivity, tLRPC$KeyboardButton.url, false, true);
                }
            } else if (tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonBuy) {
                if (tLObject instanceof TLRPC$TL_payments_paymentForm) {
                    TLRPC$TL_payments_paymentForm tLRPC$TL_payments_paymentForm = (TLRPC$TL_payments_paymentForm) tLObject;
                    getMessagesController().putUsers(tLRPC$TL_payments_paymentForm.users, false);
                    chatActivity.presentFragment(new PaymentFormActivity(tLRPC$TL_payments_paymentForm, messageObject, chatActivity));
                } else if (tLObject instanceof TLRPC$TL_payments_paymentReceipt) {
                    chatActivity.presentFragment(new PaymentFormActivity((TLRPC$TL_payments_paymentReceipt) tLObject));
                }
            } else {
                TLRPC$TL_messages_botCallbackAnswer tLRPC$TL_messages_botCallbackAnswer = (TLRPC$TL_messages_botCallbackAnswer) tLObject;
                if (!z && tLRPC$TL_messages_botCallbackAnswer.cache_time != 0 && !tLRPC$KeyboardButton.requires_password) {
                    getMessagesStorage().saveBotCache(str, tLRPC$TL_messages_botCallbackAnswer);
                }
                String str3 = tLRPC$TL_messages_botCallbackAnswer.message;
                if (str3 != null) {
                    if (tLRPC$TL_messages_botCallbackAnswer.alert) {
                        if (chatActivity.getParentActivity() == null) {
                            return;
                        }
                        AlertDialog.Builder builder = new AlertDialog.Builder(chatActivity.getParentActivity());
                        builder.setTitle(str2);
                        builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), null);
                        builder.setMessage(tLRPC$TL_messages_botCallbackAnswer.message);
                        chatActivity.showDialog(builder.create());
                        return;
                    }
                    chatActivity.showAlert(str2, str3);
                } else if (tLRPC$TL_messages_botCallbackAnswer.url == null || chatActivity.getParentActivity() == null) {
                } else {
                    TLRPC$User user2 = getMessagesController().getUser(Long.valueOf(fromChatId));
                    boolean z4 = user2 != null && user2.verified;
                    if (tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonGame) {
                        TLRPC$MessageMedia tLRPC$MessageMedia = messageObject.messageOwner.media;
                        TLRPC$TL_game tLRPC$TL_game = tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaGame ? tLRPC$MessageMedia.game : null;
                        if (tLRPC$TL_game == null) {
                            return;
                        }
                        String str4 = tLRPC$TL_messages_botCallbackAnswer.url;
                        if (!z4) {
                            if (MessagesController.getNotificationsSettings(this.currentAccount).getBoolean("askgame_" + fromChatId, true)) {
                                z3 = true;
                            }
                        }
                        chatActivity.showOpenGameAlert(tLRPC$TL_game, messageObject, str4, z3, fromChatId);
                        return;
                    }
                    AlertsCreator.showOpenUrlAlert(chatActivity, tLRPC$TL_messages_botCallbackAnswer.url, false, false);
                }
            }
        } else if (tLRPC$TL_error == null || chatActivity.getParentActivity() == null) {
        } else {
            if ("PASSWORD_HASH_INVALID".equals(tLRPC$TL_error.text)) {
                if (tLRPC$InputCheckPasswordSRP == null) {
                    AlertDialog.Builder builder2 = new AlertDialog.Builder(chatActivity.getParentActivity());
                    builder2.setTitle(LocaleController.getString("BotOwnershipTransfer", R.string.BotOwnershipTransfer));
                    builder2.setMessage(AndroidUtilities.replaceTags(LocaleController.formatString("BotOwnershipTransferReadyAlertText", R.string.BotOwnershipTransferReadyAlertText, new Object[0])));
                    builder2.setPositiveButton(LocaleController.getString("BotOwnershipTransferChangeOwner", R.string.BotOwnershipTransferChangeOwner), new DialogInterface.OnClickListener() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda0
                        @Override // android.content.DialogInterface.OnClickListener
                        public final void onClick(DialogInterface dialogInterface, int i) {
                            SendMessagesHelper.this.lambda$sendCallback$25(z2, messageObject, tLRPC$KeyboardButton, chatActivity, dialogInterface, i);
                        }
                    });
                    builder2.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
                    chatActivity.showDialog(builder2.create());
                }
            } else if ("PASSWORD_MISSING".equals(tLRPC$TL_error.text) || tLRPC$TL_error.text.startsWith("PASSWORD_TOO_FRESH_") || tLRPC$TL_error.text.startsWith("SESSION_TOO_FRESH_")) {
                if (twoStepVerificationActivity != null) {
                    twoStepVerificationActivity.needHideProgress();
                }
                AlertDialog.Builder builder3 = new AlertDialog.Builder(chatActivity.getParentActivity());
                builder3.setTitle(LocaleController.getString("EditAdminTransferAlertTitle", R.string.EditAdminTransferAlertTitle));
                LinearLayout linearLayout = new LinearLayout(chatActivity.getParentActivity());
                linearLayout.setPadding(AndroidUtilities.dp(24.0f), AndroidUtilities.dp(2.0f), AndroidUtilities.dp(24.0f), 0);
                linearLayout.setOrientation(1);
                builder3.setView(linearLayout);
                TextView textView = new TextView(chatActivity.getParentActivity());
                int i = Theme.key_dialogTextBlack;
                textView.setTextColor(Theme.getColor(i));
                textView.setTextSize(1, 16.0f);
                textView.setGravity((LocaleController.isRTL ? 5 : 3) | 48);
                textView.setText(AndroidUtilities.replaceTags(LocaleController.formatString("BotOwnershipTransferAlertText", R.string.BotOwnershipTransferAlertText, new Object[0])));
                linearLayout.addView(textView, LayoutHelper.createLinear(-1, -2));
                LinearLayout linearLayout2 = new LinearLayout(chatActivity.getParentActivity());
                linearLayout2.setOrientation(0);
                linearLayout.addView(linearLayout2, LayoutHelper.createLinear(-1, -2, 0.0f, 11.0f, 0.0f, 0.0f));
                ImageView imageView = new ImageView(chatActivity.getParentActivity());
                int i2 = R.drawable.list_circle;
                imageView.setImageResource(i2);
                imageView.setPadding(LocaleController.isRTL ? AndroidUtilities.dp(11.0f) : 0, AndroidUtilities.dp(9.0f), LocaleController.isRTL ? 0 : AndroidUtilities.dp(11.0f), 0);
                imageView.setColorFilter(new PorterDuffColorFilter(Theme.getColor(i), PorterDuff.Mode.MULTIPLY));
                TextView textView2 = new TextView(chatActivity.getParentActivity());
                textView2.setTextColor(Theme.getColor(i));
                textView2.setTextSize(1, 16.0f);
                textView2.setGravity((LocaleController.isRTL ? 5 : 3) | 48);
                textView2.setText(AndroidUtilities.replaceTags(LocaleController.getString("EditAdminTransferAlertText1", R.string.EditAdminTransferAlertText1)));
                if (LocaleController.isRTL) {
                    linearLayout2.addView(textView2, LayoutHelper.createLinear(-1, -2));
                    linearLayout2.addView(imageView, LayoutHelper.createLinear(-2, -2, 5));
                } else {
                    linearLayout2.addView(imageView, LayoutHelper.createLinear(-2, -2));
                    linearLayout2.addView(textView2, LayoutHelper.createLinear(-1, -2));
                }
                LinearLayout linearLayout3 = new LinearLayout(chatActivity.getParentActivity());
                linearLayout3.setOrientation(0);
                linearLayout.addView(linearLayout3, LayoutHelper.createLinear(-1, -2, 0.0f, 11.0f, 0.0f, 0.0f));
                ImageView imageView2 = new ImageView(chatActivity.getParentActivity());
                imageView2.setImageResource(i2);
                imageView2.setPadding(LocaleController.isRTL ? AndroidUtilities.dp(11.0f) : 0, AndroidUtilities.dp(9.0f), LocaleController.isRTL ? 0 : AndroidUtilities.dp(11.0f), 0);
                imageView2.setColorFilter(new PorterDuffColorFilter(Theme.getColor(i), PorterDuff.Mode.MULTIPLY));
                TextView textView3 = new TextView(chatActivity.getParentActivity());
                textView3.setTextColor(Theme.getColor(i));
                textView3.setTextSize(1, 16.0f);
                textView3.setGravity((LocaleController.isRTL ? 5 : 3) | 48);
                textView3.setText(AndroidUtilities.replaceTags(LocaleController.getString("EditAdminTransferAlertText2", R.string.EditAdminTransferAlertText2)));
                if (LocaleController.isRTL) {
                    linearLayout3.addView(textView3, LayoutHelper.createLinear(-1, -2));
                    linearLayout3.addView(imageView2, LayoutHelper.createLinear(-2, -2, 5));
                } else {
                    linearLayout3.addView(imageView2, LayoutHelper.createLinear(-2, -2));
                    linearLayout3.addView(textView3, LayoutHelper.createLinear(-1, -2));
                }
                if ("PASSWORD_MISSING".equals(tLRPC$TL_error.text)) {
                    builder3.setPositiveButton(LocaleController.getString("EditAdminTransferSetPassword", R.string.EditAdminTransferSetPassword), new DialogInterface.OnClickListener() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda1
                        @Override // android.content.DialogInterface.OnClickListener
                        public final void onClick(DialogInterface dialogInterface, int i3) {
                            SendMessagesHelper.lambda$sendCallback$26(ChatActivity.this, dialogInterface, i3);
                        }
                    });
                    builder3.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
                } else {
                    TextView textView4 = new TextView(chatActivity.getParentActivity());
                    textView4.setTextColor(Theme.getColor(i));
                    textView4.setTextSize(1, 16.0f);
                    textView4.setGravity((LocaleController.isRTL ? 5 : 3) | 48);
                    textView4.setText(LocaleController.getString("EditAdminTransferAlertText3", R.string.EditAdminTransferAlertText3));
                    linearLayout.addView(textView4, LayoutHelper.createLinear(-1, -2, 0.0f, 11.0f, 0.0f, 0.0f));
                    builder3.setNegativeButton(LocaleController.getString("OK", R.string.OK), null);
                }
                chatActivity.showDialog(builder3.create());
            } else if ("SRP_ID_INVALID".equals(tLRPC$TL_error.text)) {
                ConnectionsManager.getInstance(this.currentAccount).sendRequest(new TLRPC$TL_account_getPassword(), new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda91
                    @Override // org.telegram.tgnet.RequestDelegate
                    public final void run(TLObject tLObject2, TLRPC$TL_error tLRPC$TL_error2) {
                        SendMessagesHelper.this.lambda$sendCallback$28(twoStepVerificationActivity, z2, messageObject, tLRPC$KeyboardButton, chatActivity, tLObject2, tLRPC$TL_error2);
                    }
                }, 8);
            } else if (twoStepVerificationActivity != null) {
                twoStepVerificationActivity.needHideProgress();
                twoStepVerificationActivity.finishFragment();
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendCallback$25(final boolean z, final MessageObject messageObject, final TLRPC$KeyboardButton tLRPC$KeyboardButton, final ChatActivity chatActivity, DialogInterface dialogInterface, int i) {
        final TwoStepVerificationActivity twoStepVerificationActivity = new TwoStepVerificationActivity();
        twoStepVerificationActivity.setDelegate(new TwoStepVerificationActivity.TwoStepVerificationActivityDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda93
            @Override // org.telegram.ui.TwoStepVerificationActivity.TwoStepVerificationActivityDelegate
            public final void didEnterPassword(TLRPC$InputCheckPasswordSRP tLRPC$InputCheckPasswordSRP) {
                SendMessagesHelper.this.lambda$sendCallback$24(z, messageObject, tLRPC$KeyboardButton, twoStepVerificationActivity, chatActivity, tLRPC$InputCheckPasswordSRP);
            }
        });
        chatActivity.presentFragment(twoStepVerificationActivity);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$sendCallback$26(ChatActivity chatActivity, DialogInterface dialogInterface, int i) {
        chatActivity.presentFragment(new TwoStepVerificationSetupActivity(6, null));
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendCallback$28(final TwoStepVerificationActivity twoStepVerificationActivity, final boolean z, final MessageObject messageObject, final TLRPC$KeyboardButton tLRPC$KeyboardButton, final ChatActivity chatActivity, final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda55
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$sendCallback$27(tLRPC$TL_error, tLObject, twoStepVerificationActivity, z, messageObject, tLRPC$KeyboardButton, chatActivity);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendCallback$27(TLRPC$TL_error tLRPC$TL_error, TLObject tLObject, TwoStepVerificationActivity twoStepVerificationActivity, boolean z, MessageObject messageObject, TLRPC$KeyboardButton tLRPC$KeyboardButton, ChatActivity chatActivity) {
        if (tLRPC$TL_error == null) {
            TLRPC$account_Password tLRPC$account_Password = (TLRPC$account_Password) tLObject;
            twoStepVerificationActivity.setCurrentPasswordInfo(null, tLRPC$account_Password);
            TwoStepVerificationActivity.initPasswordNewAlgo(tLRPC$account_Password);
            lambda$sendCallback$24(z, messageObject, tLRPC$KeyboardButton, twoStepVerificationActivity.getNewSrpPassword(), twoStepVerificationActivity, chatActivity);
        }
    }

    public boolean isSendingCallback(MessageObject messageObject, TLRPC$KeyboardButton tLRPC$KeyboardButton) {
        int i = 0;
        if (messageObject == null || tLRPC$KeyboardButton == null) {
            return false;
        }
        if (tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonUrlAuth) {
            i = 3;
        } else if (tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonGame) {
            i = 1;
        } else if (tLRPC$KeyboardButton instanceof TLRPC$TL_keyboardButtonBuy) {
            i = 2;
        }
        return this.waitingForCallback.containsKey(messageObject.getDialogId() + "_" + messageObject.getId() + "_" + Utilities.bytesToHex(tLRPC$KeyboardButton.data) + "_" + i);
    }

    public void sendGame(TLRPC$InputPeer tLRPC$InputPeer, TLRPC$TL_inputMediaGame tLRPC$TL_inputMediaGame, long j, final long j2) {
        NativeByteBuffer nativeByteBuffer;
        if (tLRPC$InputPeer == null || tLRPC$TL_inputMediaGame == null) {
            return;
        }
        TLRPC$TL_messages_sendMedia tLRPC$TL_messages_sendMedia = new TLRPC$TL_messages_sendMedia();
        tLRPC$TL_messages_sendMedia.peer = tLRPC$InputPeer;
        if (tLRPC$InputPeer instanceof TLRPC$TL_inputPeerChannel) {
            SharedPreferences notificationsSettings = MessagesController.getNotificationsSettings(this.currentAccount);
            tLRPC$TL_messages_sendMedia.silent = notificationsSettings.getBoolean(NotificationsSettingsFacade.PROPERTY_SILENT + (-tLRPC$InputPeer.channel_id), false);
        } else if (tLRPC$InputPeer instanceof TLRPC$TL_inputPeerChat) {
            SharedPreferences notificationsSettings2 = MessagesController.getNotificationsSettings(this.currentAccount);
            tLRPC$TL_messages_sendMedia.silent = notificationsSettings2.getBoolean(NotificationsSettingsFacade.PROPERTY_SILENT + (-tLRPC$InputPeer.chat_id), false);
        } else {
            SharedPreferences notificationsSettings3 = MessagesController.getNotificationsSettings(this.currentAccount);
            tLRPC$TL_messages_sendMedia.silent = notificationsSettings3.getBoolean(NotificationsSettingsFacade.PROPERTY_SILENT + tLRPC$InputPeer.user_id, false);
        }
        tLRPC$TL_messages_sendMedia.random_id = j != 0 ? j : getNextRandomId();
        tLRPC$TL_messages_sendMedia.message = "";
        tLRPC$TL_messages_sendMedia.media = tLRPC$TL_inputMediaGame;
        long sendAsPeerId = ChatObject.getSendAsPeerId(getMessagesController().getChat(Long.valueOf(tLRPC$InputPeer.chat_id)), getMessagesController().getChatFull(tLRPC$InputPeer.chat_id));
        if (sendAsPeerId != UserConfig.getInstance(this.currentAccount).getClientUserId()) {
            tLRPC$TL_messages_sendMedia.send_as = getMessagesController().getInputPeer(sendAsPeerId);
        }
        if (j2 == 0) {
            NativeByteBuffer nativeByteBuffer2 = null;
            try {
                nativeByteBuffer = new NativeByteBuffer(tLRPC$InputPeer.getObjectSize() + tLRPC$TL_inputMediaGame.getObjectSize() + 4 + 8);
            } catch (Exception e) {
                e = e;
            }
            try {
                nativeByteBuffer.writeInt32(3);
                nativeByteBuffer.writeInt64(j);
                tLRPC$InputPeer.serializeToStream(nativeByteBuffer);
                tLRPC$TL_inputMediaGame.serializeToStream(nativeByteBuffer);
            } catch (Exception e2) {
                e = e2;
                nativeByteBuffer2 = nativeByteBuffer;
                FileLog.e(e);
                nativeByteBuffer = nativeByteBuffer2;
                j2 = getMessagesStorage().createPendingTask(nativeByteBuffer);
                getConnectionsManager().sendRequest(tLRPC$TL_messages_sendMedia, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda80
                    @Override // org.telegram.tgnet.RequestDelegate
                    public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                        SendMessagesHelper.this.lambda$sendGame$31(j2, tLObject, tLRPC$TL_error);
                    }
                });
            }
            j2 = getMessagesStorage().createPendingTask(nativeByteBuffer);
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_sendMedia, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda80
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                SendMessagesHelper.this.lambda$sendGame$31(j2, tLObject, tLRPC$TL_error);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$sendGame$31(long j, TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null) {
            getMessagesController().processUpdates((TLRPC$Updates) tLObject, false);
        }
        if (j != 0) {
            getMessagesStorage().removePendingTask(j);
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:1334:0x1aa7, code lost:
        r14 = r13;
        r4 = new org.telegram.messenger.SendMessagesHelper.DelayedMessage(r12, r14);
        r4.encryptedChat = r3;
        r4.type = 1;
        r4.sendEncryptedRequest = r13;
        r2 = r39;
        r4.originalPath = r2;
        r4.obj = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1335:0x1abb, code lost:
        if (r11 == null) goto L786;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1336:0x1abd, code lost:
        r9 = r56;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1337:0x1ac3, code lost:
        if (r11.containsKey(r9) == false) goto L786;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1338:0x1ac5, code lost:
        r4.parentObject = r11.get(r9);
     */
    /* JADX WARN: Code restructure failed: missing block: B:1339:0x1acc, code lost:
        r4.parentObject = r17;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1340:0x1ad0, code lost:
        r4.performMediaUpload = true;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1341:0x1ad3, code lost:
        if (r59 == 0) goto L785;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1342:0x1ad5, code lost:
        r1 = true;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1343:0x1ad7, code lost:
        r1 = false;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1344:0x1ad8, code lost:
        r4.scheduled = r1;
        r1 = r21;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1408:0x1cca, code lost:
        r4 = new org.telegram.messenger.SendMessagesHelper.DelayedMessage(r12, r14);
        r4.encryptedChat = r3;
        r4.type = 2;
        r4.sendEncryptedRequest = r13;
        r4.originalPath = r2;
        r4.obj = r10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1409:0x1cda, code lost:
        if (r11 == null) goto L861;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1411:0x1ce0, code lost:
        if (r11.containsKey(r9) == false) goto L861;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1412:0x1ce2, code lost:
        r4.parentObject = r11.get(r9);
     */
    /* JADX WARN: Code restructure failed: missing block: B:1413:0x1ce9, code lost:
        r4.parentObject = r19;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1414:0x1ced, code lost:
        r4.performMediaUpload = true;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1415:0x1cf0, code lost:
        if (r59 == 0) goto L860;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1416:0x1cf2, code lost:
        r1 = true;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1417:0x1cf4, code lost:
        r1 = false;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1418:0x1cf5, code lost:
        r4.scheduled = r1;
     */
    /* JADX WARN: Code restructure failed: missing block: B:268:0x0603, code lost:
        if (r5.containsKey("query_id") != false) goto L1417;
     */
    /* JADX WARN: Code restructure failed: missing block: B:280:0x061f, code lost:
        if (r5.containsKey("query_id") != false) goto L1417;
     */
    /* JADX WARN: Code restructure failed: missing block: B:281:0x0621, code lost:
        r60 = r12;
        r61 = r10;
        r12 = r22;
     */
    /* JADX WARN: Code restructure failed: missing block: B:693:0x0dd8, code lost:
        if (r8.getId() != 1) goto L1181;
     */
    /* JADX WARN: Code restructure failed: missing block: B:899:0x11ee, code lost:
        if (r1.roundVideo == false) goto L571;
     */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:1057:0x1520 A[Catch: Exception -> 0x15db, TRY_ENTER, TRY_LEAVE, TryCatch #5 {Exception -> 0x15db, blocks: (B:978:0x1399, B:980:0x13a4, B:991:0x13eb, B:995:0x1402, B:983:0x13b1, B:985:0x13cd, B:987:0x13d4, B:989:0x13da, B:990:0x13e8, B:1000:0x141f, B:1002:0x142c, B:1004:0x1434, B:1007:0x1444, B:1009:0x1447, B:1010:0x1457, B:1011:0x145d, B:1013:0x1461, B:1015:0x1469, B:1018:0x147e, B:1022:0x1492, B:1029:0x14c2, B:1057:0x1520, B:1072:0x1564, B:1076:0x1579, B:1078:0x1582, B:1080:0x158e, B:1082:0x159b, B:1062:0x153f, B:1064:0x1545, B:1066:0x154b, B:1037:0x14d8, B:1039:0x14e4, B:1041:0x14ea, B:1044:0x14f8, B:1049:0x1505, B:1091:0x15d0, B:1096:0x15e3, B:1098:0x15ed, B:1100:0x15fd, B:1101:0x161a), top: B:1655:0x11b3 }] */
    /* JADX WARN: Removed duplicated region for block: B:1059:0x1524 A[Catch: Exception -> 0x15b0, TRY_ENTER, TRY_LEAVE, TryCatch #25 {Exception -> 0x15b0, blocks: (B:1054:0x151a, B:1070:0x1560, B:1059:0x1524, B:1067:0x1559, B:1035:0x14cf, B:1053:0x1510, B:1047:0x1501), top: B:1689:0x14cf }] */
    /* JADX WARN: Removed duplicated region for block: B:1069:0x155e  */
    /* JADX WARN: Removed duplicated region for block: B:1084:0x15a0  */
    /* JADX WARN: Removed duplicated region for block: B:1138:0x16a9 A[Catch: Exception -> 0x1674, TRY_ENTER, TryCatch #3 {Exception -> 0x1674, blocks: (B:1138:0x16a9, B:1140:0x16ad, B:1141:0x16b2, B:1143:0x16c3, B:1144:0x16d2, B:1146:0x16d8, B:1117:0x1660, B:1121:0x1671, B:1128:0x167f, B:1130:0x1685, B:1132:0x168f, B:1113:0x1656), top: B:1653:0x1656 }] */
    /* JADX WARN: Removed duplicated region for block: B:1161:0x1756  */
    /* JADX WARN: Removed duplicated region for block: B:1189:0x17d9 A[Catch: Exception -> 0x1750, TRY_LEAVE, TryCatch #37 {Exception -> 0x1750, blocks: (B:1152:0x16f7, B:1154:0x1739, B:1156:0x173f, B:1157:0x1749, B:1189:0x17d9, B:1149:0x16ea, B:1151:0x16f5, B:1164:0x176e, B:1166:0x1773, B:1173:0x179c, B:1176:0x17ae, B:1178:0x17b4, B:1180:0x17bf, B:1182:0x17c9, B:1184:0x17cd, B:1186:0x17d2, B:1170:0x1786), top: B:1707:0x16a7 }] */
    /* JADX WARN: Removed duplicated region for block: B:1191:0x17df  */
    /* JADX WARN: Removed duplicated region for block: B:1265:0x18d5  */
    /* JADX WARN: Removed duplicated region for block: B:1323:0x1a40 A[Catch: Exception -> 0x1e7e, TryCatch #15 {Exception -> 0x1e7e, blocks: (B:1266:0x18f5, B:1268:0x18ff, B:1270:0x1908, B:1273:0x192b, B:1275:0x1931, B:1277:0x1937, B:1278:0x193f, B:1280:0x1945, B:1282:0x194b, B:1283:0x1954, B:1285:0x1960, B:1287:0x1968, B:1288:0x1976, B:1290:0x197f, B:1292:0x1983, B:1294:0x19a2, B:1478:0x1e38, B:1483:0x1e57, B:1486:0x1e68, B:1488:0x1e6e, B:1490:0x1e74, B:1293:0x199b, B:1303:0x19db, B:1305:0x19ea, B:1308:0x19f1, B:1310:0x19fa, B:1312:0x19fe, B:1320:0x1a28, B:1321:0x1a38, B:1323:0x1a40, B:1325:0x1a4c, B:1326:0x1a5c, B:1327:0x1a5f, B:1332:0x1a72, B:1334:0x1aa7, B:1336:0x1abd, B:1338:0x1ac5, B:1340:0x1ad0, B:1344:0x1ad8, B:1346:0x1ae5, B:1348:0x1aeb, B:1339:0x1acc, B:1313:0x1a03, B:1314:0x1a0b, B:1316:0x1a18, B:1318:0x1a1c, B:1319:0x1a21, B:1352:0x1aff, B:1361:0x1b3d, B:1365:0x1b55, B:1367:0x1b6c, B:1369:0x1b8f, B:1368:0x1b81, B:1376:0x1bae, B:1378:0x1bb4, B:1380:0x1bbb, B:1382:0x1be6, B:1385:0x1c05, B:1387:0x1c0c, B:1389:0x1c16, B:1383:0x1bed, B:1272:0x1920, B:1506:0x1ecc, B:1512:0x1eef, B:1514:0x1ef3, B:1517:0x1efa, B:1519:0x1f08, B:1521:0x1f0e, B:1510:0x1edf), top: B:1671:0x0f4f }] */
    /* JADX WARN: Removed duplicated region for block: B:1348:0x1aeb A[Catch: Exception -> 0x1e7e, TryCatch #15 {Exception -> 0x1e7e, blocks: (B:1266:0x18f5, B:1268:0x18ff, B:1270:0x1908, B:1273:0x192b, B:1275:0x1931, B:1277:0x1937, B:1278:0x193f, B:1280:0x1945, B:1282:0x194b, B:1283:0x1954, B:1285:0x1960, B:1287:0x1968, B:1288:0x1976, B:1290:0x197f, B:1292:0x1983, B:1294:0x19a2, B:1478:0x1e38, B:1483:0x1e57, B:1486:0x1e68, B:1488:0x1e6e, B:1490:0x1e74, B:1293:0x199b, B:1303:0x19db, B:1305:0x19ea, B:1308:0x19f1, B:1310:0x19fa, B:1312:0x19fe, B:1320:0x1a28, B:1321:0x1a38, B:1323:0x1a40, B:1325:0x1a4c, B:1326:0x1a5c, B:1327:0x1a5f, B:1332:0x1a72, B:1334:0x1aa7, B:1336:0x1abd, B:1338:0x1ac5, B:1340:0x1ad0, B:1344:0x1ad8, B:1346:0x1ae5, B:1348:0x1aeb, B:1339:0x1acc, B:1313:0x1a03, B:1314:0x1a0b, B:1316:0x1a18, B:1318:0x1a1c, B:1319:0x1a21, B:1352:0x1aff, B:1361:0x1b3d, B:1365:0x1b55, B:1367:0x1b6c, B:1369:0x1b8f, B:1368:0x1b81, B:1376:0x1bae, B:1378:0x1bb4, B:1380:0x1bbb, B:1382:0x1be6, B:1385:0x1c05, B:1387:0x1c0c, B:1389:0x1c16, B:1383:0x1bed, B:1272:0x1920, B:1506:0x1ecc, B:1512:0x1eef, B:1514:0x1ef3, B:1517:0x1efa, B:1519:0x1f08, B:1521:0x1f0e, B:1510:0x1edf), top: B:1671:0x0f4f }] */
    /* JADX WARN: Removed duplicated region for block: B:1455:0x1dea  */
    /* JADX WARN: Removed duplicated region for block: B:1456:0x1dec  */
    /* JADX WARN: Removed duplicated region for block: B:1471:0x1e21 A[Catch: Exception -> 0x1e7a, TRY_ENTER, TRY_LEAVE, TryCatch #19 {Exception -> 0x1e7a, blocks: (B:1471:0x1e21, B:1476:0x1e2f, B:1475:0x1e28, B:1433:0x1d2c, B:1440:0x1d6f, B:1458:0x1def, B:1465:0x1e04, B:1439:0x1d65), top: B:1679:0x1d2c }] */
    /* JADX WARN: Removed duplicated region for block: B:1484:0x1e64  */
    /* JADX WARN: Removed duplicated region for block: B:1486:0x1e68 A[Catch: Exception -> 0x1e7e, TryCatch #15 {Exception -> 0x1e7e, blocks: (B:1266:0x18f5, B:1268:0x18ff, B:1270:0x1908, B:1273:0x192b, B:1275:0x1931, B:1277:0x1937, B:1278:0x193f, B:1280:0x1945, B:1282:0x194b, B:1283:0x1954, B:1285:0x1960, B:1287:0x1968, B:1288:0x1976, B:1290:0x197f, B:1292:0x1983, B:1294:0x19a2, B:1478:0x1e38, B:1483:0x1e57, B:1486:0x1e68, B:1488:0x1e6e, B:1490:0x1e74, B:1293:0x199b, B:1303:0x19db, B:1305:0x19ea, B:1308:0x19f1, B:1310:0x19fa, B:1312:0x19fe, B:1320:0x1a28, B:1321:0x1a38, B:1323:0x1a40, B:1325:0x1a4c, B:1326:0x1a5c, B:1327:0x1a5f, B:1332:0x1a72, B:1334:0x1aa7, B:1336:0x1abd, B:1338:0x1ac5, B:1340:0x1ad0, B:1344:0x1ad8, B:1346:0x1ae5, B:1348:0x1aeb, B:1339:0x1acc, B:1313:0x1a03, B:1314:0x1a0b, B:1316:0x1a18, B:1318:0x1a1c, B:1319:0x1a21, B:1352:0x1aff, B:1361:0x1b3d, B:1365:0x1b55, B:1367:0x1b6c, B:1369:0x1b8f, B:1368:0x1b81, B:1376:0x1bae, B:1378:0x1bb4, B:1380:0x1bbb, B:1382:0x1be6, B:1385:0x1c05, B:1387:0x1c0c, B:1389:0x1c16, B:1383:0x1bed, B:1272:0x1920, B:1506:0x1ecc, B:1512:0x1eef, B:1514:0x1ef3, B:1517:0x1efa, B:1519:0x1f08, B:1521:0x1f0e, B:1510:0x1edf), top: B:1671:0x0f4f }] */
    /* JADX WARN: Removed duplicated region for block: B:1499:0x1e99  */
    /* JADX WARN: Removed duplicated region for block: B:150:0x037c  */
    /* JADX WARN: Removed duplicated region for block: B:1597:0x2029  */
    /* JADX WARN: Removed duplicated region for block: B:1641:0x20e2  */
    /* JADX WARN: Removed duplicated region for block: B:1642:0x20e4  */
    /* JADX WARN: Removed duplicated region for block: B:1645:0x20ea  */
    /* JADX WARN: Removed duplicated region for block: B:1649:0x121c A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1651:0x0169 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1658:0x08d8 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1705:0x0e09 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1716:0x0b97 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:1738:0x1a5f A[EDGE_INSN: B:1738:0x1a5f->B:1327:0x1a5f ?: BREAK  , SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:369:0x07b0 A[Catch: Exception -> 0x087a, TRY_LEAVE, TryCatch #18 {Exception -> 0x087a, blocks: (B:369:0x07b0, B:367:0x07ac), top: B:1677:0x07ac }] */
    /* JADX WARN: Removed duplicated region for block: B:425:0x08ec A[Catch: Exception -> 0x08e7, TryCatch #7 {Exception -> 0x08e7, blocks: (B:419:0x08d8, B:421:0x08de, B:425:0x08ec, B:429:0x08f5, B:431:0x08f9, B:432:0x08fb, B:435:0x090e, B:441:0x0942, B:438:0x0928, B:440:0x0930, B:426:0x08ef, B:428:0x08f3), top: B:1658:0x08d8 }] */
    /* JADX WARN: Removed duplicated region for block: B:426:0x08ef A[Catch: Exception -> 0x08e7, TryCatch #7 {Exception -> 0x08e7, blocks: (B:419:0x08d8, B:421:0x08de, B:425:0x08ec, B:429:0x08f5, B:431:0x08f9, B:432:0x08fb, B:435:0x090e, B:441:0x0942, B:438:0x0928, B:440:0x0930, B:426:0x08ef, B:428:0x08f3), top: B:1658:0x08d8 }] */
    /* JADX WARN: Removed duplicated region for block: B:431:0x08f9 A[Catch: Exception -> 0x08e7, TryCatch #7 {Exception -> 0x08e7, blocks: (B:419:0x08d8, B:421:0x08de, B:425:0x08ec, B:429:0x08f5, B:431:0x08f9, B:432:0x08fb, B:435:0x090e, B:441:0x0942, B:438:0x0928, B:440:0x0930, B:426:0x08ef, B:428:0x08f3), top: B:1658:0x08d8 }] */
    /* JADX WARN: Removed duplicated region for block: B:434:0x090c A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:438:0x0928 A[Catch: Exception -> 0x08e7, TryCatch #7 {Exception -> 0x08e7, blocks: (B:419:0x08d8, B:421:0x08de, B:425:0x08ec, B:429:0x08f5, B:431:0x08f9, B:432:0x08fb, B:435:0x090e, B:441:0x0942, B:438:0x0928, B:440:0x0930, B:426:0x08ef, B:428:0x08f3), top: B:1658:0x08d8 }] */
    /* JADX WARN: Removed duplicated region for block: B:440:0x0930 A[Catch: Exception -> 0x08e7, TryCatch #7 {Exception -> 0x08e7, blocks: (B:419:0x08d8, B:421:0x08de, B:425:0x08ec, B:429:0x08f5, B:431:0x08f9, B:432:0x08fb, B:435:0x090e, B:441:0x0942, B:438:0x0928, B:440:0x0930, B:426:0x08ef, B:428:0x08f3), top: B:1658:0x08d8 }] */
    /* JADX WARN: Removed duplicated region for block: B:444:0x0973  */
    /* JADX WARN: Removed duplicated region for block: B:451:0x09a0  */
    /* JADX WARN: Removed duplicated region for block: B:456:0x09af A[Catch: Exception -> 0x099b, TRY_ENTER, TRY_LEAVE, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:459:0x09bb A[Catch: Exception -> 0x099b, TRY_ENTER, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:462:0x09c3 A[Catch: Exception -> 0x099b, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:465:0x09d0 A[Catch: Exception -> 0x099b, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:469:0x09ea  */
    /* JADX WARN: Removed duplicated region for block: B:474:0x09f6  */
    /* JADX WARN: Removed duplicated region for block: B:476:0x09fa  */
    /* JADX WARN: Removed duplicated region for block: B:477:0x09fd A[Catch: Exception -> 0x20ce, TRY_ENTER, TryCatch #38 {Exception -> 0x20ce, blocks: (B:453:0x09a7, B:467:0x09e6, B:495:0x0a4c, B:544:0x0b91, B:668:0x0d86, B:674:0x0d95, B:678:0x0d9e, B:699:0x0de4, B:673:0x0d93, B:562:0x0bd3, B:578:0x0c04, B:573:0x0bf0, B:567:0x0be5, B:478:0x0a05, B:494:0x0a4a, B:477:0x09fd), top: B:1709:0x09a7 }] */
    /* JADX WARN: Removed duplicated region for block: B:480:0x0a0b  */
    /* JADX WARN: Removed duplicated region for block: B:493:0x0a45  */
    /* JADX WARN: Removed duplicated region for block: B:497:0x0a5a A[Catch: Exception -> 0x099b, TRY_ENTER, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:498:0x0a78  */
    /* JADX WARN: Removed duplicated region for block: B:526:0x0afb A[Catch: Exception -> 0x099b, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:528:0x0b09 A[Catch: Exception -> 0x099b, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:538:0x0b5a A[Catch: Exception -> 0x099b, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:540:0x0b77 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:543:0x0b8b A[Catch: Exception -> 0x099b, TRY_LEAVE, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:561:0x0bd1  */
    /* JADX WARN: Removed duplicated region for block: B:608:0x0c8c A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:633:0x0cee A[Catch: Exception -> 0x099b, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:637:0x0cfe A[Catch: Exception -> 0x099b, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:644:0x0d1a A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:649:0x0d2e  */
    /* JADX WARN: Removed duplicated region for block: B:670:0x0d8c A[Catch: Exception -> 0x099b, TRY_ENTER, TRY_LEAVE, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:676:0x0d99 A[Catch: Exception -> 0x099b, TRY_ENTER, TRY_LEAVE, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:680:0x0da2 A[Catch: Exception -> 0x099b, TRY_ENTER, TryCatch #31 {Exception -> 0x099b, blocks: (B:445:0x0975, B:456:0x09af, B:459:0x09bb, B:462:0x09c3, B:464:0x09cd, B:466:0x09e0, B:465:0x09d0, B:470:0x09ec, B:497:0x0a5a, B:538:0x0b5a, B:541:0x0b79, B:543:0x0b8b, B:552:0x0bb9, B:554:0x0bbd, B:556:0x0bc3, B:609:0x0c8e, B:611:0x0c92, B:613:0x0c9e, B:615:0x0ca7, B:617:0x0cad, B:623:0x0ccc, B:625:0x0cd2, B:627:0x0cd8, B:629:0x0ce0, B:631:0x0ce4, B:633:0x0cee, B:637:0x0cfe, B:639:0x0d08, B:650:0x0d30, B:653:0x0d3e, B:655:0x0d42, B:657:0x0d46, B:659:0x0d55, B:661:0x0d5b, B:662:0x0d69, B:664:0x0d6f, B:670:0x0d8c, B:676:0x0d99, B:680:0x0da2, B:682:0x0dac, B:684:0x0dc0, B:691:0x0dd1, B:647:0x0d1f, B:614:0x0ca3, B:565:0x0be0, B:570:0x0beb, B:580:0x0c08, B:582:0x0c0e, B:585:0x0c15, B:587:0x0c21, B:589:0x0c33, B:592:0x0c3f, B:590:0x0c37, B:593:0x0c4a, B:595:0x0c52, B:598:0x0c59, B:600:0x0c65, B:602:0x0c75, B:605:0x0c7d, B:603:0x0c79, B:575:0x0bf6, B:577:0x0bfa, B:503:0x0a86, B:509:0x0a9d, B:511:0x0aa6, B:513:0x0ab0, B:516:0x0ac3, B:519:0x0ad3, B:521:0x0ada, B:523:0x0aee, B:528:0x0b09, B:530:0x0b1b, B:532:0x0b32, B:534:0x0b38, B:524:0x0af7, B:526:0x0afb, B:515:0x0abc, B:483:0x0a10, B:484:0x0a18, B:486:0x0a2c, B:488:0x0a30, B:489:0x0a34, B:491:0x0a3b), top: B:1696:0x0975 }] */
    /* JADX WARN: Removed duplicated region for block: B:687:0x0dca  */
    /* JADX WARN: Removed duplicated region for block: B:690:0x0dcf A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:698:0x0de2  */
    /* JADX WARN: Removed duplicated region for block: B:703:0x0dfe  */
    /* JADX WARN: Removed duplicated region for block: B:704:0x0e00  */
    /* JADX WARN: Removed duplicated region for block: B:719:0x0e26  */
    /* JADX WARN: Removed duplicated region for block: B:722:0x0e2c A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:727:0x0e35 A[Catch: Exception -> 0x0e21, TRY_ENTER, TryCatch #36 {Exception -> 0x0e21, blocks: (B:707:0x0e09, B:727:0x0e35, B:731:0x0e5c, B:735:0x0e6e, B:737:0x0e73, B:761:0x0ede, B:791:0x0f87, B:793:0x0f98, B:795:0x0fa6, B:797:0x0fae, B:799:0x0fd5, B:801:0x0fe8, B:804:0x1007, B:806:0x1018, B:802:0x0ff8, B:803:0x1000, B:805:0x1011, B:745:0x0eaa, B:747:0x0eb4, B:751:0x0ec3, B:757:0x0ed4, B:712:0x0e15, B:714:0x0e1d), top: B:1705:0x0e09 }] */
    /* JADX WARN: Removed duplicated region for block: B:741:0x0e8a  */
    /* JADX WARN: Removed duplicated region for block: B:760:0x0edc A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:764:0x0f51  */
    /* JADX WARN: Removed duplicated region for block: B:771:0x0f5e  */
    /* JADX WARN: Removed duplicated region for block: B:791:0x0f87 A[Catch: Exception -> 0x0e21, TryCatch #36 {Exception -> 0x0e21, blocks: (B:707:0x0e09, B:727:0x0e35, B:731:0x0e5c, B:735:0x0e6e, B:737:0x0e73, B:761:0x0ede, B:791:0x0f87, B:793:0x0f98, B:795:0x0fa6, B:797:0x0fae, B:799:0x0fd5, B:801:0x0fe8, B:804:0x1007, B:806:0x1018, B:802:0x0ff8, B:803:0x1000, B:805:0x1011, B:745:0x0eaa, B:747:0x0eb4, B:751:0x0ec3, B:757:0x0ed4, B:712:0x0e15, B:714:0x0e1d), top: B:1705:0x0e09 }] */
    /* JADX WARN: Removed duplicated region for block: B:831:0x1089  */
    /* JADX WARN: Removed duplicated region for block: B:864:0x1132  */
    /* JADX WARN: Removed duplicated region for block: B:908:0x120c A[Catch: Exception -> 0x11aa, TRY_LEAVE, TryCatch #26 {Exception -> 0x11aa, blocks: (B:867:0x1137, B:869:0x113b, B:879:0x1185, B:870:0x1155, B:872:0x1159, B:874:0x116c, B:875:0x1172, B:877:0x1176, B:878:0x1180, B:893:0x11da, B:896:0x11e2, B:898:0x11ec, B:906:0x1205, B:908:0x120c, B:833:0x1091, B:835:0x10a0, B:836:0x10ac, B:840:0x10b7, B:842:0x10bb, B:846:0x10de, B:848:0x10e4, B:849:0x10ec, B:851:0x110a, B:853:0x1113, B:855:0x1119, B:843:0x10ca, B:845:0x10d0), top: B:1691:0x0f5c }] */
    /* JADX WARN: Removed duplicated region for block: B:930:0x127f  */
    /* JADX WARN: Removed duplicated region for block: B:931:0x1282 A[Catch: Exception -> 0x1373, TryCatch #4 {Exception -> 0x1373, blocks: (B:928:0x1279, B:940:0x12bc, B:944:0x12d3, B:946:0x12da, B:948:0x12e6, B:950:0x12f3, B:951:0x12f7, B:931:0x1282, B:933:0x129c, B:935:0x12a3, B:937:0x12a9, B:938:0x12b7, B:958:0x1328, B:960:0x1343, B:962:0x1356, B:963:0x1364), top: B:1654:0x11c1 }] */
    /* JADX WARN: Removed duplicated region for block: B:940:0x12bc A[Catch: Exception -> 0x1373, TryCatch #4 {Exception -> 0x1373, blocks: (B:928:0x1279, B:940:0x12bc, B:944:0x12d3, B:946:0x12da, B:948:0x12e6, B:950:0x12f3, B:951:0x12f7, B:931:0x1282, B:933:0x129c, B:935:0x12a3, B:937:0x12a9, B:938:0x12b7, B:958:0x1328, B:960:0x1343, B:962:0x1356, B:963:0x1364), top: B:1654:0x11c1 }] */
    /* JADX WARN: Removed duplicated region for block: B:945:0x12d6  */
    /* JADX WARN: Removed duplicated region for block: B:948:0x12e6 A[Catch: Exception -> 0x1373, TryCatch #4 {Exception -> 0x1373, blocks: (B:928:0x1279, B:940:0x12bc, B:944:0x12d3, B:946:0x12da, B:948:0x12e6, B:950:0x12f3, B:951:0x12f7, B:931:0x1282, B:933:0x129c, B:935:0x12a3, B:937:0x12a9, B:938:0x12b7, B:958:0x1328, B:960:0x1343, B:962:0x1356, B:963:0x1364), top: B:1654:0x11c1 }] */
    /* JADX WARN: Type inference failed for: r12v10, types: [java.lang.String] */
    /* JADX WARN: Type inference failed for: r12v35, types: [org.telegram.tgnet.TLRPC$Message, java.lang.Object] */
    /* JADX WARN: Type inference failed for: r12v40 */
    /* JADX WARN: Type inference failed for: r12v47, types: [org.telegram.messenger.MessageObject] */
    /* JADX WARN: Type inference failed for: r12v78 */
    /* JADX WARN: Type inference failed for: r13v1 */
    /* JADX WARN: Type inference failed for: r13v17, types: [long] */
    /* JADX WARN: Type inference failed for: r13v30 */
    /* JADX WARN: Type inference failed for: r14v35 */
    /* JADX WARN: Type inference failed for: r14v38 */
    /* JADX WARN: Type inference failed for: r14v39 */
    /* JADX WARN: Type inference failed for: r14v40 */
    /* JADX WARN: Type inference failed for: r14v41 */
    /* JADX WARN: Type inference failed for: r14v43 */
    /* JADX WARN: Type inference failed for: r14v45 */
    /* JADX WARN: Type inference failed for: r14v46 */
    /* JADX WARN: Type inference failed for: r1v291, types: [org.telegram.tgnet.TLRPC$TL_messages_sendMedia, org.telegram.tgnet.TLObject] */
    /* JADX WARN: Type inference failed for: r1v292 */
    /* JADX WARN: Type inference failed for: r1v306, types: [org.telegram.tgnet.TLRPC$TL_messages_sendMultiMedia] */
    /* JADX WARN: Type inference failed for: r1v351 */
    /* JADX WARN: Type inference failed for: r1v352 */
    /* JADX WARN: Type inference failed for: r1v8, types: [org.telegram.messenger.MessagesStorage] */
    /* JADX WARN: Type inference failed for: r2v0, types: [java.lang.String] */
    /* JADX WARN: Type inference failed for: r2v193 */
    /* JADX WARN: Type inference failed for: r2v200, types: [org.telegram.tgnet.TLRPC$Message] */
    /* JADX WARN: Type inference failed for: r2v252 */
    /* JADX WARN: Type inference failed for: r2v253 */
    /* JADX WARN: Type inference failed for: r2v92, types: [org.telegram.tgnet.TLRPC$TL_inputMediaPhoto, org.telegram.tgnet.TLRPC$InputMedia] */
    /* JADX WARN: Type inference failed for: r3v137 */
    /* JADX WARN: Type inference failed for: r3v198, types: [org.telegram.tgnet.TLRPC$TL_inputMediaDice] */
    /* JADX WARN: Type inference failed for: r3v201, types: [org.telegram.tgnet.TLRPC$TL_inputMediaPoll, org.telegram.tgnet.TLRPC$InputMedia] */
    /* JADX WARN: Type inference failed for: r3v291 */
    /* JADX WARN: Type inference failed for: r3v292 */
    /* JADX WARN: Type inference failed for: r3v338, types: [org.telegram.tgnet.TLRPC$Message] */
    /* JADX WARN: Type inference failed for: r3v365 */
    /* JADX WARN: Type inference failed for: r3v378 */
    /* JADX WARN: Type inference failed for: r3v388 */
    /* JADX WARN: Type inference failed for: r3v9, types: [org.telegram.tgnet.TLRPC$Message] */
    /* JADX WARN: Type inference failed for: r3v94 */
    /* JADX WARN: Type inference failed for: r3v97 */
    /* JADX WARN: Type inference failed for: r5v166, types: [android.content.SharedPreferences] */
    /* JADX WARN: Type inference failed for: r69v0, types: [org.telegram.messenger.MessagesStorage] */
    /* JADX WARN: Type inference failed for: r6v120, types: [org.telegram.tgnet.TLRPC$InputGeoPoint, org.telegram.tgnet.TLRPC$TL_inputGeoPoint] */
    /* JADX WARN: Type inference failed for: r6v140 */
    /* JADX WARN: Type inference failed for: r6v80, types: [java.lang.String] */
    /* JADX WARN: Type inference failed for: r6v81 */
    /* JADX WARN: Type inference failed for: r6v84, types: [byte[]] */
    /* JADX WARN: Type inference failed for: r6v89, types: [org.telegram.tgnet.TLRPC$Message] */
    /* JADX WARN: Type inference failed for: r6v90 */
    /* JADX WARN: Type inference failed for: r7v80 */
    /* JADX WARN: Type inference failed for: r7v82 */
    /* JADX WARN: Type inference failed for: r9v22 */
    /* JADX WARN: Type inference failed for: r9v24 */
    /* JADX WARN: Type inference failed for: r9v25 */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void sendMessage(SendMessageParams sendMessageParams) {
        String str;
        TLRPC$InputPeer tLRPC$InputPeer;
        long j;
        long j2;
        TLRPC$EncryptedChat tLRPC$EncryptedChat;
        boolean z;
        TLRPC$Peer peer;
        ?? r12;
        Exception exc;
        TLRPC$Peer tLRPC$Peer;
        int i;
        int i2;
        TLRPC$Message tLRPC$Message;
        MessageObject messageObject;
        TLRPC$Message tLRPC$Message2;
        TLRPC$Message tLRPC$Message3;
        TLRPC$InputPeer tLRPC$InputPeer2;
        Object obj;
        Object obj2;
        TLRPC$WebPage tLRPC$WebPage;
        MessageObject messageObject2;
        Object obj3;
        Object obj4;
        TLRPC$TL_messageMediaPoll tLRPC$TL_messageMediaPoll;
        int i3;
        TLRPC$TL_messageMediaWebPage tLRPC$TL_messageMediaWebPage;
        boolean z2;
        long j3;
        TLRPC$InputPeer tLRPC$InputPeer3;
        boolean z3;
        SendMessagesHelper sendMessagesHelper;
        TLRPC$Message tLRPC$Message4;
        ArrayList<TLRPC$MessageEntity> arrayList;
        TLRPC$TL_document tLRPC$TL_document;
        TLRPC$TL_photo tLRPC$TL_photo;
        String str2;
        char c;
        DelayedMessage delayedMessage;
        HashMap<String, String> hashMap;
        String str3;
        TLRPC$MessageMedia tLRPC$MessageMedia;
        TLRPC$User tLRPC$User;
        TLRPC$InputPeer tLRPC$InputPeer4;
        int i4;
        TLRPC$MessageMedia tLRPC$MessageMedia2;
        TLRPC$TL_messageMediaPoll tLRPC$TL_messageMediaPoll2;
        String str4;
        TLRPC$TL_userRequest_old2 tLRPC$TL_userRequest_old2;
        String str5;
        String str6;
        Exception e;
        TLRPC$MessageMedia tLRPC$MessageMedia3;
        String str7;
        Object obj5;
        boolean z4;
        Exception e2;
        MessageObject messageObject3;
        MessageObject messageObject4;
        int i5;
        TLRPC$InputPeer tLRPC$InputPeer5;
        TL_stories$StoryItem tL_stories$StoryItem;
        Object obj6;
        MessageObject messageObject5;
        MessageObject messageObject6;
        long j4;
        SendMessagesHelper sendMessagesHelper2;
        String str8;
        Object obj7;
        boolean z5;
        long j5;
        boolean z6;
        MessageObject messageObject7;
        TLRPC$Message tLRPC$Message5;
        String str9;
        VideoEditedInfo videoEditedInfo;
        TLRPC$Message tLRPC$Message6;
        TL_stories$StoryItem tL_stories$StoryItem2;
        DelayedMessage delayedMessage2;
        int i6;
        long j6;
        TLRPC$EncryptedChat tLRPC$EncryptedChat2;
        TLRPC$InputPeer tLRPC$InputPeer6;
        int i7;
        TLRPC$Message tLRPC$Message7;
        TLRPC$Message tLRPC$Message8;
        TLRPC$Message tLRPC$Message9;
        int i8;
        TLRPC$EncryptedChat tLRPC$EncryptedChat3;
        TLRPC$Message tLRPC$Message10;
        TLRPC$TL_messages_sendMedia tLRPC$TL_messages_sendMedia;
        int i9;
        TLRPC$Message tLRPC$Message11;
        long j7;
        int i10;
        int i11;
        DelayedMessage delayedMessage3;
        String str10;
        long j8;
        TLRPC$TL_decryptedMessage tLRPC$TL_decryptedMessage_layer45;
        TLRPC$Message tLRPC$Message12;
        long j9;
        String str11;
        DelayedMessage delayedMessage4;
        String str12;
        Object obj8;
        char c2;
        String str13;
        ArrayList<TLRPC$PhotoSize> arrayList2;
        Object obj9;
        Object obj10;
        Object obj11;
        byte[] bArr;
        int i12;
        byte[] bArr2;
        TLRPC$TL_messages_sendEncryptedMultiMedia tLRPC$TL_messages_sendEncryptedMultiMedia;
        TLRPC$Message tLRPC$Message13;
        TL_stories$StoryItem tL_stories$StoryItem3;
        MessageObject messageObject8;
        TLRPC$InputPeer tLRPC$InputPeer7;
        MessageObject messageObject9;
        SendMessagesHelper sendMessagesHelper3;
        String str14;
        HashMap<String, String> hashMap2;
        char c3;
        Object obj12;
        TLRPC$Message tLRPC$Message14;
        TLRPC$InputMedia tLRPC$InputMedia;
        boolean z7;
        TLRPC$Message tLRPC$Message15;
        int i13;
        String str15;
        TLRPC$InputMedia tLRPC$InputMedia2;
        DelayedMessage delayedMessage5;
        VideoEditedInfo videoEditedInfo2;
        VideoEditedInfo videoEditedInfo3;
        TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument;
        Object obj13;
        String str16;
        Object obj14;
        TLRPC$InputMedia tLRPC$TL_inputMediaUploadedDocument;
        TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument2;
        Object obj15;
        TLRPC$InputMedia tLRPC$InputMedia3;
        TLRPC$Message tLRPC$Message16;
        Object obj16;
        boolean z8;
        TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument3;
        TLRPC$TL_inputMediaStory tLRPC$TL_inputMediaStory;
        TLRPC$TL_inputMediaStory tLRPC$TL_inputMediaStory2;
        TLRPC$Message tLRPC$Message17;
        MessageObject messageObject10;
        Object obj17;
        int i14;
        ?? tLRPC$TL_messages_sendMedia2;
        MessageObject messageObject11;
        TLRPC$Message tLRPC$Message18;
        TLRPC$TL_inputMediaStory tLRPC$TL_inputMediaStory3;
        TLRPC$InputMedia tLRPC$InputMedia4;
        boolean z9;
        boolean z10;
        boolean z11;
        boolean z12;
        ChatActivity.ReplyQuote replyQuote;
        TLRPC$MessageMedia tLRPC$MessageMedia4;
        TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader;
        TLRPC$Peer tLRPC$Peer2;
        int i15;
        TLRPC$MessageMedia tLRPC$MessageMedia5;
        int i16;
        int i17;
        String str17;
        Object obj18;
        TLRPC$TL_message_secret tLRPC$TL_message_secret;
        String str18;
        Object obj19;
        TLRPC$TL_messageMediaPoll tLRPC$TL_messageMediaPoll3;
        TLRPC$WebPage tLRPC$WebPage2;
        TLRPC$MessageMedia tLRPC$MessageMedia6;
        TLRPC$TL_photo tLRPC$TL_photo2;
        String str19;
        int i18;
        TLRPC$TL_document tLRPC$TL_document2;
        TL_stories$StoryItem tL_stories$StoryItem4;
        String str20;
        DelayedMessage delayedMessage6;
        boolean z13;
        TLRPC$Message tLRPC$TL_message;
        TLRPC$Peer tLRPC$Peer3;
        TLRPC$TL_document tLRPC$TL_document3;
        boolean z14;
        DelayedMessage delayedMessage7;
        String stickerSetName;
        TLRPC$TL_message tLRPC$TL_message2;
        String str21;
        ArrayList<TLRPC$PhotoSize> arrayList3;
        TLRPC$Message tLRPC$TL_message3;
        TLRPC$Message tLRPC$TL_message4;
        DelayedMessage delayedMessage8;
        String str22;
        TL_stories$StoryItem tL_stories$StoryItem5;
        TLRPC$TL_messageMediaWebPage tLRPC$TL_messageMediaWebPage2;
        MessageObject messageObject12;
        ?? r2 = sendMessageParams.message;
        String str23 = sendMessageParams.caption;
        TLRPC$MessageMedia tLRPC$MessageMedia7 = sendMessageParams.location;
        TLRPC$TL_photo tLRPC$TL_photo3 = sendMessageParams.photo;
        VideoEditedInfo videoEditedInfo4 = sendMessageParams.videoEditedInfo;
        TLRPC$User tLRPC$User2 = sendMessageParams.user;
        TLRPC$TL_document tLRPC$TL_document4 = sendMessageParams.document;
        TLRPC$TL_game tLRPC$TL_game = sendMessageParams.game;
        TLRPC$TL_messageMediaPoll tLRPC$TL_messageMediaPoll4 = sendMessageParams.poll;
        TLRPC$TL_messageMediaInvoice tLRPC$TL_messageMediaInvoice = sendMessageParams.invoice;
        long j10 = sendMessageParams.peer;
        String str24 = sendMessageParams.path;
        MessageObject messageObject13 = sendMessageParams.replyToMsg;
        TLRPC$TL_document tLRPC$TL_document5 = tLRPC$TL_document4;
        MessageObject messageObject14 = sendMessageParams.replyToTopMsg;
        TLRPC$WebPage tLRPC$WebPage3 = sendMessageParams.webPage;
        TLRPC$TL_messageMediaWebPage tLRPC$TL_messageMediaWebPage3 = sendMessageParams.mediaWebPage;
        boolean z15 = sendMessageParams.searchLinks;
        MessageObject messageObject15 = sendMessageParams.retryMessageObject;
        String str25 = str24;
        ArrayList<TLRPC$MessageEntity> arrayList4 = sendMessageParams.entities;
        TLRPC$TL_photo tLRPC$TL_photo4 = tLRPC$TL_photo3;
        TLRPC$ReplyMarkup tLRPC$ReplyMarkup = sendMessageParams.replyMarkup;
        HashMap<String, String> hashMap3 = sendMessageParams.params;
        boolean z16 = sendMessageParams.notify;
        int i19 = sendMessageParams.scheduleDate;
        int i20 = sendMessageParams.ttl;
        Object obj20 = sendMessageParams.parentObject;
        MessageObject.SendAnimationData sendAnimationData = sendMessageParams.sendAnimationData;
        boolean z17 = sendMessageParams.updateStickersOrder;
        boolean z18 = sendMessageParams.hasMediaSpoilers;
        TL_stories$StoryItem tL_stories$StoryItem6 = sendMessageParams.replyToStoryItem;
        TL_stories$StoryItem tL_stories$StoryItem7 = sendMessageParams.sendingStory;
        ChatActivity.ReplyQuote replyQuote2 = sendMessageParams.replyQuote;
        boolean z19 = sendMessageParams.invert_media;
        if (tLRPC$User2 != null && tLRPC$User2.phone == null) {
            return;
        }
        long j11 = 0;
        if (j10 == 0) {
            return;
        }
        if (r2 == 0 && str23 == null) {
            str23 = "";
        }
        String str26 = str23;
        if (replyQuote2 != null && (messageObject12 = replyQuote2.message) != null && messageObject13 != null) {
            messageObject13 = messageObject12;
        }
        String str27 = (hashMap3 == null || !hashMap3.containsKey("originalPath")) ? null : hashMap3.get("originalPath");
        char c4 = 65535;
        if (DialogObject.isEncryptedDialog(j10)) {
            str = str27;
            tLRPC$InputPeer = null;
        } else {
            str = str27;
            tLRPC$InputPeer = getMessagesController().getInputPeer(j10);
        }
        MessageObject messageObject16 = messageObject13;
        TLRPC$User tLRPC$User3 = tLRPC$User2;
        long clientUserId = getUserConfig().getClientUserId();
        try {
            try {
                try {
                    try {
                        try {
                            if (DialogObject.isEncryptedDialog(j10)) {
                                j = clientUserId;
                                tLRPC$EncryptedChat = getMessagesController().getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(j10)));
                                if (tLRPC$EncryptedChat == null) {
                                    if (messageObject15 != null) {
                                        getMessagesStorage().markMessageAsSendError(messageObject15.messageOwner, messageObject15.scheduled);
                                        messageObject15.messageOwner.send_state = 2;
                                        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(messageObject15.getId()));
                                        processSentMessage(messageObject15.getId());
                                        return;
                                    }
                                    return;
                                }
                                j2 = 0;
                            } else {
                                j = clientUserId;
                                if (tLRPC$InputPeer instanceof TLRPC$TL_inputPeerChannel) {
                                    TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(tLRPC$InputPeer.channel_id));
                                    TLRPC$ChatFull chatFull = getMessagesController().getChatFull(chat.id);
                                    boolean z20 = !chat.megagroup;
                                    if (z20 && chat.has_link && chatFull != null) {
                                        z = z20;
                                        j2 = chatFull.linked_chat_id;
                                    } else {
                                        z = z20;
                                        j2 = 0;
                                    }
                                    peer = getMessagesController().getPeer(ChatObject.getSendAsPeerId(chat, chatFull, true));
                                    tLRPC$EncryptedChat = null;
                                    r12 = "parentObject";
                                    TLRPC$Peer tLRPC$Peer4 = peer;
                                    if (messageObject15 == null) {
                                        try {
                                            tLRPC$Message3 = messageObject15.messageOwner;
                                            if (obj20 == null && hashMap3 != null) {
                                                try {
                                                    if (hashMap3.containsKey("parentObject")) {
                                                        obj20 = hashMap3.get("parentObject");
                                                    }
                                                } catch (Exception e3) {
                                                    exc = e3;
                                                    i2 = i19;
                                                    tLRPC$Message = tLRPC$Message3;
                                                    messageObject = null;
                                                    tLRPC$Message2 = tLRPC$Message;
                                                    FileLog.e(exc);
                                                    getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                    if (messageObject != null) {
                                                        messageObject.messageOwner.send_state = 2;
                                                    }
                                                    getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                    processSentMessage(tLRPC$Message2.id);
                                                    return;
                                                }
                                            }
                                            if (messageObject15.isForwarded()) {
                                                tLRPC$InputPeer2 = tLRPC$InputPeer;
                                                obj = obj20;
                                            } else {
                                                if (hashMap3 != null) {
                                                    obj = obj20;
                                                    if (hashMap3.containsKey("fwd_id")) {
                                                        tLRPC$InputPeer2 = tLRPC$InputPeer;
                                                    }
                                                } else {
                                                    obj = obj20;
                                                }
                                                if (messageObject15.isDice()) {
                                                    tLRPC$InputPeer4 = tLRPC$InputPeer;
                                                    obj2 = "parentObject";
                                                    tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                    c4 = 11;
                                                    str4 = "";
                                                    i4 = i19;
                                                    tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                    str5 = messageObject15.getDiceEmoji();
                                                    tLRPC$TL_userRequest_old2 = tLRPC$User3;
                                                } else {
                                                    if (messageObject15.type != 0 && !messageObject15.isAnimatedEmoji()) {
                                                        int i21 = messageObject15.type;
                                                        obj2 = "parentObject";
                                                        if (i21 == 4) {
                                                            tLRPC$InputPeer4 = tLRPC$InputPeer;
                                                            i4 = i19;
                                                            tLRPC$MessageMedia2 = tLRPC$Message3.media;
                                                            tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                            str4 = str26;
                                                            c4 = 1;
                                                            str5 = r2;
                                                            tLRPC$TL_userRequest_old2 = tLRPC$User3;
                                                        } else if (i21 == 1) {
                                                            TLRPC$TL_photo tLRPC$TL_photo5 = (TLRPC$TL_photo) tLRPC$Message3.media.photo;
                                                            String str28 = messageObject15.messageOwner.message;
                                                            if (str28 != null) {
                                                                str26 = str28;
                                                            }
                                                            tLRPC$InputPeer4 = tLRPC$InputPeer;
                                                            i4 = i19;
                                                            tLRPC$TL_photo4 = tLRPC$TL_photo5;
                                                            tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                            tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                            str4 = str26;
                                                            c4 = 2;
                                                            str5 = r2;
                                                            tLRPC$TL_userRequest_old2 = tLRPC$User3;
                                                        } else {
                                                            if (i21 != 3 && i21 != 5 && messageObject15.videoEditedInfo == null) {
                                                                if (i21 == 12) {
                                                                    TLRPC$TL_userRequest_old2 tLRPC$TL_userRequest_old22 = new TLRPC$TL_userRequest_old2();
                                                                    TLRPC$MessageMedia tLRPC$MessageMedia8 = tLRPC$Message3.media;
                                                                    tLRPC$InputPeer4 = tLRPC$InputPeer;
                                                                    tLRPC$TL_userRequest_old22.phone = tLRPC$MessageMedia8.phone_number;
                                                                    tLRPC$TL_userRequest_old22.first_name = tLRPC$MessageMedia8.first_name;
                                                                    tLRPC$TL_userRequest_old22.last_name = tLRPC$MessageMedia8.last_name;
                                                                    TLRPC$TL_restrictionReason tLRPC$TL_restrictionReason = new TLRPC$TL_restrictionReason();
                                                                    tLRPC$TL_restrictionReason.platform = "";
                                                                    tLRPC$TL_restrictionReason.reason = "";
                                                                    tLRPC$TL_restrictionReason.text = tLRPC$Message3.media.vcard;
                                                                    tLRPC$TL_userRequest_old22.restriction_reason.add(tLRPC$TL_restrictionReason);
                                                                    i4 = i19;
                                                                    tLRPC$TL_userRequest_old22.id = tLRPC$Message3.media.user_id;
                                                                    tLRPC$TL_userRequest_old2 = tLRPC$TL_userRequest_old22;
                                                                    tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                                    tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                                    str4 = str26;
                                                                    c4 = 6;
                                                                    str5 = r2;
                                                                } else {
                                                                    tLRPC$InputPeer4 = tLRPC$InputPeer;
                                                                    i4 = i19;
                                                                    if (i21 != 8 && i21 != 9 && i21 != 13 && i21 != 14 && i21 != 15) {
                                                                        if (i21 == 2) {
                                                                            String str29 = messageObject15.messageOwner.message;
                                                                            tLRPC$TL_document5 = (TLRPC$TL_document) tLRPC$Message3.media.document;
                                                                            if (str29 != null) {
                                                                                str4 = str29;
                                                                                tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                                                tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                                            } else {
                                                                                tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                                                tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                                                str4 = str26;
                                                                            }
                                                                            c4 = '\b';
                                                                            str5 = r2;
                                                                            tLRPC$TL_userRequest_old2 = tLRPC$User3;
                                                                        } else if (i21 == 17) {
                                                                            tLRPC$TL_messageMediaPoll2 = (TLRPC$TL_messageMediaPoll) tLRPC$Message3.media;
                                                                            tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                                            str4 = str26;
                                                                            c4 = '\n';
                                                                            str5 = r2;
                                                                            tLRPC$TL_userRequest_old2 = tLRPC$User3;
                                                                        } else {
                                                                            tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                                            tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                                            str4 = str26;
                                                                            str5 = r2;
                                                                            tLRPC$TL_userRequest_old2 = tLRPC$User3;
                                                                        }
                                                                    }
                                                                    String str30 = messageObject15.messageOwner.message;
                                                                    tLRPC$TL_document5 = (TLRPC$TL_document) tLRPC$Message3.media.document;
                                                                    if (str30 != null) {
                                                                        str4 = str30;
                                                                        tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                                        tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                                    } else {
                                                                        tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                                        tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                                        str4 = str26;
                                                                    }
                                                                    c4 = 7;
                                                                    str5 = r2;
                                                                    tLRPC$TL_userRequest_old2 = tLRPC$User3;
                                                                }
                                                            }
                                                            tLRPC$InputPeer4 = tLRPC$InputPeer;
                                                            i4 = i19;
                                                            String str31 = messageObject15.messageOwner.message;
                                                            tLRPC$TL_document5 = (TLRPC$TL_document) tLRPC$Message3.media.document;
                                                            if (str31 != null) {
                                                                str4 = str31;
                                                                tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                                tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                            } else {
                                                                tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                                tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                                str4 = str26;
                                                            }
                                                            c4 = 3;
                                                            str5 = r2;
                                                            tLRPC$TL_userRequest_old2 = tLRPC$User3;
                                                        }
                                                    }
                                                    tLRPC$InputPeer4 = tLRPC$InputPeer;
                                                    obj2 = "parentObject";
                                                    i4 = i19;
                                                    tLRPC$MessageMedia2 = tLRPC$MessageMedia7;
                                                    tLRPC$TL_messageMediaPoll2 = tLRPC$TL_messageMediaPoll4;
                                                    str4 = str26;
                                                    c4 = 0;
                                                    str5 = messageObject15.messageOwner.media instanceof TLRPC$TL_messageMediaGame ? r2 : tLRPC$Message3.message;
                                                    tLRPC$TL_userRequest_old2 = tLRPC$User3;
                                                }
                                                if (hashMap3 == null || !hashMap3.containsKey("query_id")) {
                                                    str6 = str5;
                                                } else {
                                                    str6 = str5;
                                                    c4 = '\t';
                                                }
                                                int i22 = tLRPC$Message3.media.ttl_seconds;
                                                if (i22 > 0) {
                                                    tLRPC$WebPage = tLRPC$WebPage3;
                                                    messageObject2 = messageObject15;
                                                    tLRPC$TL_messageMediaPoll = tLRPC$TL_messageMediaPoll2;
                                                    obj3 = "query_id";
                                                    i2 = i4;
                                                    tLRPC$TL_document = tLRPC$TL_document5;
                                                    tLRPC$TL_messageMediaWebPage = tLRPC$TL_messageMediaWebPage3;
                                                    z2 = z18;
                                                    tLRPC$User = tLRPC$TL_userRequest_old2;
                                                    tLRPC$InputPeer3 = tLRPC$InputPeer4;
                                                    delayedMessage = null;
                                                    z3 = false;
                                                    sendMessagesHelper = this;
                                                    i3 = i22;
                                                    tLRPC$MessageMedia = tLRPC$MessageMedia2;
                                                } else {
                                                    tLRPC$MessageMedia = tLRPC$MessageMedia2;
                                                    tLRPC$WebPage = tLRPC$WebPage3;
                                                    messageObject2 = messageObject15;
                                                    tLRPC$TL_messageMediaPoll = tLRPC$TL_messageMediaPoll2;
                                                    obj3 = "query_id";
                                                    i2 = i4;
                                                    tLRPC$TL_document = tLRPC$TL_document5;
                                                    i3 = i20;
                                                    tLRPC$TL_messageMediaWebPage = tLRPC$TL_messageMediaWebPage3;
                                                    z2 = z18;
                                                    tLRPC$User = tLRPC$TL_userRequest_old2;
                                                    tLRPC$InputPeer3 = tLRPC$InputPeer4;
                                                    delayedMessage = null;
                                                    z3 = false;
                                                    sendMessagesHelper = this;
                                                }
                                                tLRPC$Message4 = tLRPC$Message3;
                                                tLRPC$TL_photo = tLRPC$TL_photo4;
                                                str2 = str4;
                                                hashMap = hashMap3;
                                                str3 = str6;
                                                j3 = j;
                                                obj4 = obj;
                                                arrayList = arrayList4;
                                                c = c4;
                                            }
                                            obj2 = "parentObject";
                                            tLRPC$WebPage = tLRPC$WebPage3;
                                            messageObject2 = messageObject15;
                                            obj3 = "query_id";
                                            i2 = i19;
                                            obj4 = obj;
                                            tLRPC$TL_messageMediaPoll = tLRPC$TL_messageMediaPoll4;
                                            i3 = i20;
                                            tLRPC$TL_messageMediaWebPage = tLRPC$TL_messageMediaWebPage3;
                                            z2 = z18;
                                            j3 = j;
                                            tLRPC$InputPeer3 = tLRPC$InputPeer2;
                                            z3 = false;
                                            sendMessagesHelper = this;
                                            tLRPC$Message4 = tLRPC$Message3;
                                            arrayList = arrayList4;
                                            tLRPC$TL_document = tLRPC$TL_document5;
                                            tLRPC$TL_photo = tLRPC$TL_photo4;
                                            str2 = str26;
                                            c = 4;
                                            delayedMessage = null;
                                            hashMap = hashMap3;
                                            str3 = r2;
                                            tLRPC$MessageMedia = tLRPC$MessageMedia7;
                                            tLRPC$User = tLRPC$User3;
                                        } catch (Exception e4) {
                                            exc = e4;
                                            i2 = i19;
                                            tLRPC$Message = null;
                                            messageObject = null;
                                            tLRPC$Message2 = tLRPC$Message;
                                            FileLog.e(exc);
                                            getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                            if (messageObject != null) {
                                            }
                                            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                            processSentMessage(tLRPC$Message2.id);
                                            return;
                                        }
                                    } else {
                                        TLRPC$InputPeer tLRPC$InputPeer8 = tLRPC$InputPeer;
                                        obj2 = "parentObject";
                                        int i23 = i19;
                                        try {
                                            if (DialogObject.isChatDialog(j10)) {
                                                try {
                                                    messageObject2 = messageObject15;
                                                    obj18 = obj20;
                                                    tLRPC$TL_message_secret = ChatObject.canSendStickers(getMessagesController().getChat(Long.valueOf(-j10)));
                                                } catch (Exception e5) {
                                                    e = e5;
                                                    exc = e;
                                                    i2 = i23;
                                                    tLRPC$Message = null;
                                                    messageObject = null;
                                                    tLRPC$Message2 = tLRPC$Message;
                                                    FileLog.e(exc);
                                                    getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                    if (messageObject != null) {
                                                    }
                                                    getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                    processSentMessage(tLRPC$Message2.id);
                                                    return;
                                                }
                                            } else {
                                                messageObject2 = messageObject15;
                                                obj18 = obj20;
                                                tLRPC$TL_message_secret = 1;
                                            }
                                            if (r2 != 0) {
                                                if (tLRPC$EncryptedChat != null) {
                                                    tLRPC$Message3 = new TLRPC$TL_message_secret();
                                                } else {
                                                    tLRPC$Message3 = new TLRPC$TL_message();
                                                }
                                                if (tLRPC$EncryptedChat != null && (tLRPC$WebPage3 instanceof TLRPC$TL_webPagePending)) {
                                                    if (tLRPC$WebPage3.url != null) {
                                                        TLRPC$TL_webPageUrlPending tLRPC$TL_webPageUrlPending = new TLRPC$TL_webPageUrlPending();
                                                        tLRPC$TL_webPageUrlPending.url = tLRPC$WebPage3.url;
                                                        tLRPC$WebPage3 = tLRPC$TL_webPageUrlPending;
                                                    } else {
                                                        tLRPC$WebPage3 = null;
                                                    }
                                                }
                                                if (tLRPC$TL_message_secret != 0 && r2.length() < 30 && tLRPC$WebPage3 == null && ((arrayList4 == null || arrayList4.isEmpty()) && getMessagesController().diceEmojies.contains(r2.replace("", "")) && tLRPC$EncryptedChat == null && i23 == 0)) {
                                                    TLRPC$TL_messageMediaDice tLRPC$TL_messageMediaDice = new TLRPC$TL_messageMediaDice();
                                                    tLRPC$TL_messageMediaDice.emoticon = r2;
                                                    tLRPC$TL_messageMediaDice.value = -1;
                                                    tLRPC$Message3.media = tLRPC$TL_messageMediaDice;
                                                    sendMessagesHelper = this;
                                                    str20 = "";
                                                    i2 = i23;
                                                    tLRPC$TL_document2 = tLRPC$TL_document5;
                                                    str19 = str25;
                                                    tLRPC$TL_photo2 = tLRPC$TL_photo4;
                                                    tLRPC$MessageMedia6 = tLRPC$MessageMedia7;
                                                    i18 = i20;
                                                    tLRPC$TL_messageMediaWebPage = tLRPC$TL_messageMediaWebPage3;
                                                    z2 = z18;
                                                    z13 = false;
                                                    c4 = 11;
                                                    str18 = r2;
                                                    tLRPC$WebPage2 = tLRPC$WebPage3;
                                                    obj3 = "query_id";
                                                    tLRPC$TL_messageMediaPoll3 = tLRPC$TL_messageMediaPoll4;
                                                    delayedMessage6 = null;
                                                    obj19 = obj18;
                                                    tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                    if (arrayList4 != null) {
                                                    }
                                                    if (str20 != null) {
                                                    }
                                                    if (tLRPC$Message3.attachPath == null) {
                                                    }
                                                    int newMessageId = getUserConfig().getNewMessageId();
                                                    tLRPC$Message3.id = newMessageId;
                                                    tLRPC$Message3.local_id = newMessageId;
                                                    tLRPC$Message3.out = true;
                                                    if (z) {
                                                    }
                                                    delayedMessage8 = delayedMessage6;
                                                    str22 = str20;
                                                    tLRPC$InputPeer3 = tLRPC$InputPeer8;
                                                    if (tLRPC$Peer4 != null) {
                                                    }
                                                } else {
                                                    if (tLRPC$TL_messageMediaWebPage3 != null) {
                                                        tLRPC$TL_messageMediaWebPage2 = tLRPC$TL_messageMediaWebPage3;
                                                        tLRPC$Message3.media = tLRPC$TL_messageMediaWebPage2;
                                                    } else {
                                                        tLRPC$TL_messageMediaWebPage2 = tLRPC$TL_messageMediaWebPage3;
                                                        if (tLRPC$WebPage3 == null) {
                                                            tLRPC$Message3.media = new TLRPC$TL_messageMediaEmpty();
                                                        } else {
                                                            TLRPC$TL_messageMediaWebPage tLRPC$TL_messageMediaWebPage4 = new TLRPC$TL_messageMediaWebPage();
                                                            tLRPC$Message3.media = tLRPC$TL_messageMediaWebPage4;
                                                            tLRPC$TL_messageMediaWebPage4.webpage = tLRPC$WebPage3;
                                                        }
                                                    }
                                                    c4 = (hashMap3 == null || !hashMap3.containsKey("query_id")) ? (char) 0 : '\t';
                                                    tLRPC$Message3.message = r2;
                                                    i2 = i23;
                                                    tLRPC$TL_document2 = tLRPC$TL_document5;
                                                    str19 = str25;
                                                    tLRPC$TL_photo2 = tLRPC$TL_photo4;
                                                    tLRPC$MessageMedia6 = tLRPC$MessageMedia7;
                                                    tLRPC$TL_messageMediaPoll3 = tLRPC$TL_messageMediaPoll4;
                                                    i18 = i20;
                                                    z2 = z18;
                                                    str20 = str26;
                                                    z13 = false;
                                                    str18 = r2;
                                                    obj19 = obj18;
                                                    tLRPC$WebPage2 = tLRPC$WebPage3;
                                                    tLRPC$TL_messageMediaWebPage = tLRPC$TL_messageMediaWebPage2;
                                                    obj3 = "query_id";
                                                    tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                    delayedMessage6 = null;
                                                    sendMessagesHelper = this;
                                                    if (arrayList4 != null) {
                                                        try {
                                                            if (!arrayList4.isEmpty()) {
                                                                tLRPC$Message3.entities = arrayList4;
                                                                tLRPC$Message3.flags |= 128;
                                                            }
                                                        } catch (Exception e6) {
                                                            e = e6;
                                                            exc = e;
                                                            tLRPC$Message = tLRPC$Message3;
                                                            messageObject = null;
                                                            tLRPC$Message2 = tLRPC$Message;
                                                            FileLog.e(exc);
                                                            getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                            if (messageObject != null) {
                                                            }
                                                            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                            processSentMessage(tLRPC$Message2.id);
                                                            return;
                                                        }
                                                    }
                                                    if (str20 != null) {
                                                        tLRPC$Message3.message = str20;
                                                    } else if (tLRPC$Message3.message == null) {
                                                        tLRPC$Message3.message = "";
                                                    }
                                                    if (tLRPC$Message3.attachPath == null) {
                                                        tLRPC$Message3.attachPath = "";
                                                    }
                                                    int newMessageId2 = getUserConfig().getNewMessageId();
                                                    tLRPC$Message3.id = newMessageId2;
                                                    tLRPC$Message3.local_id = newMessageId2;
                                                    tLRPC$Message3.out = true;
                                                    if (z || tLRPC$InputPeer8 == null) {
                                                        delayedMessage8 = delayedMessage6;
                                                        str22 = str20;
                                                        tLRPC$InputPeer3 = tLRPC$InputPeer8;
                                                        if (tLRPC$Peer4 != null) {
                                                            tLRPC$Message3.from_id = tLRPC$Peer4;
                                                        } else {
                                                            TLRPC$TL_peerUser tLRPC$TL_peerUser = new TLRPC$TL_peerUser();
                                                            tLRPC$Message3.from_id = tLRPC$TL_peerUser;
                                                            tL_stories$StoryItem5 = tL_stories$StoryItem4;
                                                            j3 = j;
                                                            tLRPC$TL_peerUser.user_id = j3;
                                                            tLRPC$Message3.flags |= LiteMode.FLAG_CHAT_BLUR;
                                                            HashMap<String, String> hashMap4 = hashMap3;
                                                            getUserConfig().saveConfig(false);
                                                            tLRPC$MessageMedia = tLRPC$MessageMedia6;
                                                            str3 = str18;
                                                            tLRPC$TL_messageMediaPoll = tLRPC$TL_messageMediaPoll3;
                                                            tLRPC$WebPage = tLRPC$WebPage2;
                                                            tLRPC$User = tLRPC$User3;
                                                            str2 = str22;
                                                            z3 = z13;
                                                            tLRPC$TL_photo = tLRPC$TL_photo2;
                                                            delayedMessage = delayedMessage8;
                                                            tL_stories$StoryItem7 = tL_stories$StoryItem5;
                                                            str25 = str19;
                                                            arrayList = arrayList4;
                                                            c = c4;
                                                            i3 = i18;
                                                            tLRPC$Message4 = tLRPC$Message3;
                                                            hashMap = hashMap4;
                                                            Object obj21 = obj19;
                                                            tLRPC$TL_document = tLRPC$TL_document2;
                                                            obj4 = obj21;
                                                        }
                                                    } else {
                                                        TLRPC$TL_peerChannel tLRPC$TL_peerChannel = new TLRPC$TL_peerChannel();
                                                        tLRPC$Message3.from_id = tLRPC$TL_peerChannel;
                                                        delayedMessage8 = delayedMessage6;
                                                        str22 = str20;
                                                        tLRPC$InputPeer3 = tLRPC$InputPeer8;
                                                        tLRPC$TL_peerChannel.channel_id = tLRPC$InputPeer3.channel_id;
                                                    }
                                                    tL_stories$StoryItem5 = tL_stories$StoryItem4;
                                                    j3 = j;
                                                    HashMap<String, String> hashMap42 = hashMap3;
                                                    getUserConfig().saveConfig(false);
                                                    tLRPC$MessageMedia = tLRPC$MessageMedia6;
                                                    str3 = str18;
                                                    tLRPC$TL_messageMediaPoll = tLRPC$TL_messageMediaPoll3;
                                                    tLRPC$WebPage = tLRPC$WebPage2;
                                                    tLRPC$User = tLRPC$User3;
                                                    str2 = str22;
                                                    z3 = z13;
                                                    tLRPC$TL_photo = tLRPC$TL_photo2;
                                                    delayedMessage = delayedMessage8;
                                                    tL_stories$StoryItem7 = tL_stories$StoryItem5;
                                                    str25 = str19;
                                                    arrayList = arrayList4;
                                                    c = c4;
                                                    i3 = i18;
                                                    tLRPC$Message4 = tLRPC$Message3;
                                                    hashMap = hashMap42;
                                                    Object obj212 = obj19;
                                                    tLRPC$TL_document = tLRPC$TL_document2;
                                                    obj4 = obj212;
                                                }
                                            } else {
                                                try {
                                                    if (tLRPC$TL_messageMediaPoll4 != null) {
                                                        if (tLRPC$EncryptedChat != null) {
                                                            tLRPC$TL_message4 = new TLRPC$TL_message_secret();
                                                        } else {
                                                            tLRPC$TL_message4 = new TLRPC$TL_message();
                                                        }
                                                        tLRPC$TL_message4.media = tLRPC$TL_messageMediaPoll4;
                                                        obj19 = obj18;
                                                        tLRPC$TL_messageMediaPoll3 = tLRPC$TL_messageMediaPoll4;
                                                        i2 = i23;
                                                        tLRPC$TL_document2 = tLRPC$TL_document5;
                                                        str19 = str25;
                                                        tLRPC$TL_photo2 = tLRPC$TL_photo4;
                                                        tLRPC$MessageMedia6 = tLRPC$MessageMedia7;
                                                        i18 = i20;
                                                        z2 = z18;
                                                        tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                        z13 = false;
                                                        c4 = '\n';
                                                        str18 = r2;
                                                        tLRPC$Message3 = tLRPC$TL_message4;
                                                        tLRPC$WebPage2 = tLRPC$WebPage3;
                                                        tLRPC$TL_messageMediaWebPage = tLRPC$TL_messageMediaWebPage3;
                                                        obj3 = "query_id";
                                                        str20 = str26;
                                                        delayedMessage6 = null;
                                                        sendMessagesHelper = this;
                                                        if (arrayList4 != null) {
                                                        }
                                                        if (str20 != null) {
                                                        }
                                                        if (tLRPC$Message3.attachPath == null) {
                                                        }
                                                        int newMessageId22 = getUserConfig().getNewMessageId();
                                                        tLRPC$Message3.id = newMessageId22;
                                                        tLRPC$Message3.local_id = newMessageId22;
                                                        tLRPC$Message3.out = true;
                                                        if (z) {
                                                        }
                                                        delayedMessage8 = delayedMessage6;
                                                        str22 = str20;
                                                        tLRPC$InputPeer3 = tLRPC$InputPeer8;
                                                        if (tLRPC$Peer4 != null) {
                                                        }
                                                    } else if (tLRPC$MessageMedia7 != null) {
                                                        if (tLRPC$EncryptedChat != null) {
                                                            tLRPC$TL_message3 = new TLRPC$TL_message_secret();
                                                        } else {
                                                            tLRPC$TL_message3 = new TLRPC$TL_message();
                                                        }
                                                        tLRPC$TL_message3.media = tLRPC$MessageMedia7;
                                                        if (hashMap3 == null || !hashMap3.containsKey("query_id")) {
                                                            str18 = r2;
                                                            obj19 = obj18;
                                                            tLRPC$TL_messageMediaPoll3 = tLRPC$TL_messageMediaPoll4;
                                                            i2 = i23;
                                                            tLRPC$TL_document2 = tLRPC$TL_document5;
                                                            str19 = str25;
                                                            tLRPC$TL_photo2 = tLRPC$TL_photo4;
                                                            i18 = i20;
                                                            z2 = z18;
                                                            tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                            delayedMessage6 = null;
                                                            z13 = false;
                                                            c4 = 1;
                                                        } else {
                                                            str18 = r2;
                                                            obj19 = obj18;
                                                            tLRPC$TL_messageMediaPoll3 = tLRPC$TL_messageMediaPoll4;
                                                            i2 = i23;
                                                            tLRPC$TL_document2 = tLRPC$TL_document5;
                                                            str19 = str25;
                                                            tLRPC$TL_photo2 = tLRPC$TL_photo4;
                                                            i18 = i20;
                                                            z2 = z18;
                                                            tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                            delayedMessage6 = null;
                                                            z13 = false;
                                                            c4 = '\t';
                                                        }
                                                        tLRPC$Message3 = tLRPC$TL_message3;
                                                        tLRPC$WebPage2 = tLRPC$WebPage3;
                                                        tLRPC$TL_messageMediaWebPage = tLRPC$TL_messageMediaWebPage3;
                                                        tLRPC$MessageMedia6 = tLRPC$MessageMedia7;
                                                        obj3 = "query_id";
                                                        str20 = str26;
                                                        sendMessagesHelper = this;
                                                        if (arrayList4 != null) {
                                                        }
                                                        if (str20 != null) {
                                                        }
                                                        if (tLRPC$Message3.attachPath == null) {
                                                        }
                                                        int newMessageId222 = getUserConfig().getNewMessageId();
                                                        tLRPC$Message3.id = newMessageId222;
                                                        tLRPC$Message3.local_id = newMessageId222;
                                                        tLRPC$Message3.out = true;
                                                        if (z) {
                                                        }
                                                        delayedMessage8 = delayedMessage6;
                                                        str22 = str20;
                                                        tLRPC$InputPeer3 = tLRPC$InputPeer8;
                                                        if (tLRPC$Peer4 != null) {
                                                        }
                                                    } else {
                                                        if (tLRPC$TL_photo4 != null) {
                                                            if (tLRPC$EncryptedChat != null) {
                                                                tLRPC$TL_message_secret = new TLRPC$TL_message_secret();
                                                            } else {
                                                                try {
                                                                    tLRPC$TL_message_secret = new TLRPC$TL_message();
                                                                } catch (Exception e7) {
                                                                    e = e7;
                                                                    exc = e;
                                                                    i2 = i23;
                                                                    tLRPC$Message = null;
                                                                    messageObject = null;
                                                                    tLRPC$Message2 = tLRPC$Message;
                                                                    FileLog.e(exc);
                                                                    getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                    if (messageObject != null) {
                                                                    }
                                                                    getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                    processSentMessage(tLRPC$Message2.id);
                                                                    return;
                                                                }
                                                            }
                                                            str18 = r2;
                                                            try {
                                                                TLRPC$TL_messageMediaPhoto tLRPC$TL_messageMediaPhoto = new TLRPC$TL_messageMediaPhoto();
                                                                tLRPC$TL_message_secret.media = tLRPC$TL_messageMediaPhoto;
                                                                obj19 = obj18;
                                                                int i24 = tLRPC$TL_messageMediaPhoto.flags | 3;
                                                                tLRPC$TL_messageMediaPhoto.flags = i24;
                                                                tLRPC$TL_messageMediaPoll3 = tLRPC$TL_messageMediaPoll4;
                                                                tLRPC$TL_messageMediaPhoto.spoiler = z18;
                                                                if (arrayList4 != null) {
                                                                    tLRPC$TL_message_secret.entities = arrayList4;
                                                                }
                                                                tLRPC$WebPage2 = tLRPC$WebPage3;
                                                                if (i20 != 0) {
                                                                    tLRPC$TL_messageMediaPhoto.ttl_seconds = i20;
                                                                    tLRPC$TL_message_secret.ttl = i20;
                                                                    tLRPC$TL_messageMediaPhoto.flags = i24 | 4;
                                                                }
                                                                tLRPC$TL_messageMediaPhoto.photo = tLRPC$TL_photo4;
                                                                c4 = (hashMap3 == null || !hashMap3.containsKey("query_id")) ? (char) 2 : '\t';
                                                            } catch (Exception e8) {
                                                                e = e8;
                                                                exc = e;
                                                                tLRPC$Peer = tLRPC$TL_message_secret;
                                                                i = i23;
                                                                i2 = i;
                                                                tLRPC$Message = tLRPC$Peer;
                                                                messageObject = null;
                                                                tLRPC$Message2 = tLRPC$Message;
                                                                FileLog.e(exc);
                                                                getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                if (messageObject != null) {
                                                                }
                                                                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                processSentMessage(tLRPC$Message2.id);
                                                                return;
                                                            }
                                                            try {
                                                                if (str25 == null || str25.length() <= 0) {
                                                                    tLRPC$MessageMedia6 = tLRPC$MessageMedia7;
                                                                    str21 = str25;
                                                                } else {
                                                                    tLRPC$MessageMedia6 = tLRPC$MessageMedia7;
                                                                    str21 = str25;
                                                                    if (str21.startsWith("http")) {
                                                                        tLRPC$TL_message_secret.attachPath = str21;
                                                                        tLRPC$TL_photo2 = tLRPC$TL_photo4;
                                                                        tLRPC$TL_messageMediaWebPage = tLRPC$TL_messageMediaWebPage3;
                                                                        i2 = i23;
                                                                        sendMessagesHelper = this;
                                                                        z2 = z18;
                                                                        i18 = i20;
                                                                        str19 = str21;
                                                                        obj3 = "query_id";
                                                                        tLRPC$TL_document2 = tLRPC$TL_document5;
                                                                        tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                                        delayedMessage6 = null;
                                                                        z13 = false;
                                                                        tLRPC$Message3 = tLRPC$TL_message_secret;
                                                                    }
                                                                }
                                                                tLRPC$TL_message_secret.attachPath = FileLoader.getInstance(sendMessagesHelper.currentAccount).getPathToAttach(tLRPC$TL_photo4.sizes.get(arrayList3.size() - 1).location, true).toString();
                                                                z2 = z18;
                                                                i18 = i20;
                                                                str19 = str21;
                                                                obj3 = "query_id";
                                                                tLRPC$TL_document2 = tLRPC$TL_document5;
                                                                tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                                delayedMessage6 = null;
                                                                z13 = false;
                                                                tLRPC$Message3 = tLRPC$TL_message_secret;
                                                            } catch (Exception e9) {
                                                                exc = e9;
                                                                tLRPC$Message = tLRPC$TL_message_secret;
                                                                messageObject = null;
                                                                tLRPC$Message2 = tLRPC$Message;
                                                                FileLog.e(exc);
                                                                getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                if (messageObject != null) {
                                                                }
                                                                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                processSentMessage(tLRPC$Message2.id);
                                                                return;
                                                            }
                                                            tLRPC$TL_photo2 = tLRPC$TL_photo4;
                                                            tLRPC$TL_messageMediaWebPage = tLRPC$TL_messageMediaWebPage3;
                                                            sendMessagesHelper = this;
                                                            i2 = i23;
                                                        } else {
                                                            str18 = r2;
                                                            obj19 = obj18;
                                                            tLRPC$TL_messageMediaPoll3 = tLRPC$TL_messageMediaPoll4;
                                                            i2 = i23;
                                                            tLRPC$WebPage2 = tLRPC$WebPage3;
                                                            tLRPC$TL_messageMediaWebPage = tLRPC$TL_messageMediaWebPage3;
                                                            sendMessagesHelper = this;
                                                            tLRPC$MessageMedia6 = tLRPC$MessageMedia7;
                                                            tLRPC$TL_photo2 = tLRPC$TL_photo4;
                                                            try {
                                                                try {
                                                                    if (tLRPC$TL_game != null) {
                                                                        tLRPC$TL_message2 = new TLRPC$TL_message();
                                                                        TLRPC$TL_messageMediaGame tLRPC$TL_messageMediaGame = new TLRPC$TL_messageMediaGame();
                                                                        tLRPC$TL_message2.media = tLRPC$TL_messageMediaGame;
                                                                        tLRPC$TL_messageMediaGame.game = tLRPC$TL_game;
                                                                        if (hashMap3 != null) {
                                                                        }
                                                                        z2 = z18;
                                                                        i18 = i20;
                                                                        str19 = str25;
                                                                        obj3 = "query_id";
                                                                        tLRPC$TL_document2 = tLRPC$TL_document5;
                                                                        tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                                        str20 = str26;
                                                                        z13 = false;
                                                                        tLRPC$Message3 = tLRPC$TL_message2;
                                                                    } else if (tLRPC$TL_messageMediaInvoice != null) {
                                                                        tLRPC$TL_message2 = new TLRPC$TL_message();
                                                                        tLRPC$TL_message2.media = tLRPC$TL_messageMediaInvoice;
                                                                        if (hashMap3 != null) {
                                                                        }
                                                                        z2 = z18;
                                                                        i18 = i20;
                                                                        str19 = str25;
                                                                        obj3 = "query_id";
                                                                        tLRPC$TL_document2 = tLRPC$TL_document5;
                                                                        tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                                        str20 = str26;
                                                                        z13 = false;
                                                                        tLRPC$Message3 = tLRPC$TL_message2;
                                                                    } else if (tLRPC$User3 != null) {
                                                                        if (tLRPC$EncryptedChat != null) {
                                                                            tLRPC$TL_message2 = new TLRPC$TL_message_secret();
                                                                        } else {
                                                                            tLRPC$TL_message2 = new TLRPC$TL_message();
                                                                        }
                                                                        TLRPC$TL_messageMediaContact tLRPC$TL_messageMediaContact = new TLRPC$TL_messageMediaContact();
                                                                        tLRPC$TL_message2.media = tLRPC$TL_messageMediaContact;
                                                                        tLRPC$TL_messageMediaContact.phone_number = tLRPC$User3.phone;
                                                                        tLRPC$TL_messageMediaContact.first_name = tLRPC$User3.first_name;
                                                                        tLRPC$TL_messageMediaContact.last_name = tLRPC$User3.last_name;
                                                                        str19 = str25;
                                                                        tLRPC$TL_messageMediaContact.user_id = tLRPC$User3.id;
                                                                        if (!tLRPC$User3.restriction_reason.isEmpty() && tLRPC$User3.restriction_reason.get(0).text.startsWith("BEGIN:VCARD")) {
                                                                            tLRPC$TL_message2.media.vcard = tLRPC$User3.restriction_reason.get(0).text;
                                                                        } else {
                                                                            tLRPC$TL_message2.media.vcard = "";
                                                                        }
                                                                        TLRPC$MessageMedia tLRPC$MessageMedia9 = tLRPC$TL_message2.media;
                                                                        if (tLRPC$MessageMedia9.first_name == null) {
                                                                            tLRPC$MessageMedia9.first_name = "";
                                                                            tLRPC$User3.first_name = "";
                                                                        }
                                                                        if (tLRPC$MessageMedia9.last_name == null) {
                                                                            tLRPC$MessageMedia9.last_name = "";
                                                                            tLRPC$User3.last_name = "";
                                                                        }
                                                                        if (hashMap3 == null || !hashMap3.containsKey("query_id")) {
                                                                            sendMessagesHelper = this;
                                                                            tLRPC$User3 = tLRPC$User3;
                                                                            z2 = z18;
                                                                            i18 = i20;
                                                                            obj3 = "query_id";
                                                                            tLRPC$TL_document2 = tLRPC$TL_document5;
                                                                            tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                                            str20 = str26;
                                                                            z13 = false;
                                                                            c4 = 6;
                                                                            tLRPC$Message3 = tLRPC$TL_message2;
                                                                        } else {
                                                                            sendMessagesHelper = this;
                                                                            tLRPC$User3 = tLRPC$User3;
                                                                            z2 = z18;
                                                                            i18 = i20;
                                                                            obj3 = "query_id";
                                                                            tLRPC$TL_document2 = tLRPC$TL_document5;
                                                                            tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                                            str20 = str26;
                                                                            z13 = false;
                                                                            c4 = '\t';
                                                                            tLRPC$Message3 = tLRPC$TL_message2;
                                                                        }
                                                                    } else {
                                                                        str19 = str25;
                                                                        TLRPC$User tLRPC$User4 = tLRPC$User3;
                                                                        if (tLRPC$TL_document5 != null) {
                                                                            if (tLRPC$EncryptedChat != null) {
                                                                                r2 = new TLRPC$TL_message_secret();
                                                                            } else {
                                                                                try {
                                                                                    r2 = new TLRPC$TL_message();
                                                                                } catch (Exception e10) {
                                                                                    e = e10;
                                                                                    exc = e;
                                                                                    tLRPC$Message = null;
                                                                                    messageObject = null;
                                                                                    tLRPC$Message2 = tLRPC$Message;
                                                                                    FileLog.e(exc);
                                                                                    getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                    if (messageObject != null) {
                                                                                    }
                                                                                    getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                    processSentMessage(tLRPC$Message2.id);
                                                                                    return;
                                                                                }
                                                                            }
                                                                            try {
                                                                                if (DialogObject.isChatDialog(j10) && tLRPC$TL_message_secret == 0) {
                                                                                    tLRPC$TL_document3 = tLRPC$TL_document5;
                                                                                    int size = tLRPC$TL_document3.attributes.size();
                                                                                    int i25 = 0;
                                                                                    while (i25 < size) {
                                                                                        tLRPC$User3 = tLRPC$User4;
                                                                                        if (tLRPC$TL_document3.attributes.get(i25) instanceof TLRPC$TL_documentAttributeAnimated) {
                                                                                            tLRPC$TL_document3.attributes.remove(i25);
                                                                                            z14 = true;
                                                                                            break;
                                                                                        }
                                                                                        i25++;
                                                                                        tLRPC$User4 = tLRPC$User3;
                                                                                    }
                                                                                    tLRPC$User3 = tLRPC$User4;
                                                                                } else {
                                                                                    tLRPC$User3 = tLRPC$User4;
                                                                                    tLRPC$TL_document3 = tLRPC$TL_document5;
                                                                                }
                                                                                z14 = false;
                                                                                TLRPC$TL_messageMediaDocument tLRPC$TL_messageMediaDocument = new TLRPC$TL_messageMediaDocument();
                                                                                r2.media = tLRPC$TL_messageMediaDocument;
                                                                                int i26 = tLRPC$TL_messageMediaDocument.flags | 3;
                                                                                tLRPC$TL_messageMediaDocument.flags = i26;
                                                                                tLRPC$TL_messageMediaDocument.spoiler = z18;
                                                                                if (i20 != 0) {
                                                                                    tLRPC$TL_messageMediaDocument.ttl_seconds = i20;
                                                                                    r2.ttl = i20;
                                                                                    tLRPC$TL_messageMediaDocument.flags = i26 | 4;
                                                                                }
                                                                                tLRPC$TL_messageMediaDocument.document = tLRPC$TL_document3;
                                                                                if (hashMap3 != null && hashMap3.containsKey("query_id")) {
                                                                                    c4 = '\t';
                                                                                } else if (MessageObject.isVideoSticker(tLRPC$TL_document3) || !(MessageObject.isVideoDocument(tLRPC$TL_document3) || MessageObject.isRoundVideoDocument(tLRPC$TL_document3) || videoEditedInfo4 != null)) {
                                                                                    c4 = MessageObject.isVoiceDocument(tLRPC$TL_document3) ? '\b' : (char) 7;
                                                                                } else {
                                                                                    c4 = 3;
                                                                                }
                                                                                if (videoEditedInfo4 != null) {
                                                                                    String string = videoEditedInfo4.getString();
                                                                                    if (hashMap3 == null) {
                                                                                        hashMap3 = new HashMap<>();
                                                                                    }
                                                                                    hashMap3.put("ve", string);
                                                                                }
                                                                            } catch (Exception e11) {
                                                                                e = e11;
                                                                            }
                                                                            try {
                                                                                if (tLRPC$EncryptedChat != null) {
                                                                                    try {
                                                                                        if (tLRPC$TL_document3.dc_id > 0 && !MessageObject.isStickerDocument(tLRPC$TL_document3) && !MessageObject.isAnimatedStickerDocument(tLRPC$TL_document3, true)) {
                                                                                            if (!MessageObject.isGifDocument(tLRPC$TL_document3)) {
                                                                                                sendMessagesHelper = this;
                                                                                                r2.attachPath = FileLoader.getInstance(sendMessagesHelper.currentAccount).getPathToAttach(tLRPC$TL_document3).toString();
                                                                                                if (tLRPC$EncryptedChat != null) {
                                                                                                    if (MessageObject.isStickerDocument(tLRPC$TL_document3) || MessageObject.isAnimatedStickerDocument(tLRPC$TL_document3, true)) {
                                                                                                        tLRPC$Peer3 = r2;
                                                                                                        int i27 = 0;
                                                                                                        while (true) {
                                                                                                            try {
                                                                                                                if (i27 >= tLRPC$TL_document3.attributes.size()) {
                                                                                                                    tLRPC$TL_document2 = tLRPC$TL_document3;
                                                                                                                    z13 = z14;
                                                                                                                    z2 = z18;
                                                                                                                    i18 = i20;
                                                                                                                    break;
                                                                                                                }
                                                                                                                TLRPC$DocumentAttribute tLRPC$DocumentAttribute = tLRPC$TL_document3.attributes.get(i27);
                                                                                                                z13 = z14;
                                                                                                                if (tLRPC$DocumentAttribute instanceof TLRPC$TL_documentAttributeSticker) {
                                                                                                                    tLRPC$TL_document3.attributes.remove(i27);
                                                                                                                    TLRPC$TL_documentAttributeSticker_layer55 tLRPC$TL_documentAttributeSticker_layer55 = new TLRPC$TL_documentAttributeSticker_layer55();
                                                                                                                    tLRPC$TL_document3.attributes.add(tLRPC$TL_documentAttributeSticker_layer55);
                                                                                                                    tLRPC$TL_documentAttributeSticker_layer55.alt = tLRPC$DocumentAttribute.alt;
                                                                                                                    TLRPC$InputStickerSet tLRPC$InputStickerSet = tLRPC$DocumentAttribute.stickerset;
                                                                                                                    if (tLRPC$InputStickerSet != null) {
                                                                                                                        tLRPC$TL_document2 = tLRPC$TL_document3;
                                                                                                                        if (tLRPC$InputStickerSet instanceof TLRPC$TL_inputStickerSetShortName) {
                                                                                                                            stickerSetName = tLRPC$InputStickerSet.short_name;
                                                                                                                            z2 = z18;
                                                                                                                            i18 = i20;
                                                                                                                        } else {
                                                                                                                            z2 = z18;
                                                                                                                            i18 = i20;
                                                                                                                            stickerSetName = getMediaDataController().getStickerSetName(tLRPC$DocumentAttribute.stickerset.id);
                                                                                                                        }
                                                                                                                        if (!TextUtils.isEmpty(stickerSetName)) {
                                                                                                                            TLRPC$TL_inputStickerSetShortName tLRPC$TL_inputStickerSetShortName = new TLRPC$TL_inputStickerSetShortName();
                                                                                                                            tLRPC$TL_documentAttributeSticker_layer55.stickerset = tLRPC$TL_inputStickerSetShortName;
                                                                                                                            tLRPC$TL_inputStickerSetShortName.short_name = stickerSetName;
                                                                                                                        } else {
                                                                                                                            if (tLRPC$DocumentAttribute.stickerset instanceof TLRPC$TL_inputStickerSetID) {
                                                                                                                                delayedMessage7 = new DelayedMessage(j10);
                                                                                                                                delayedMessage7.encryptedChat = tLRPC$EncryptedChat;
                                                                                                                                delayedMessage7.locationParent = tLRPC$TL_documentAttributeSticker_layer55;
                                                                                                                                delayedMessage7.type = 5;
                                                                                                                                delayedMessage7.parentObject = tLRPC$DocumentAttribute.stickerset;
                                                                                                                            } else {
                                                                                                                                delayedMessage7 = null;
                                                                                                                            }
                                                                                                                            tLRPC$TL_documentAttributeSticker_layer55.stickerset = new TLRPC$TL_inputStickerSetEmpty();
                                                                                                                        }
                                                                                                                    } else {
                                                                                                                        tLRPC$TL_document2 = tLRPC$TL_document3;
                                                                                                                        z2 = z18;
                                                                                                                        i18 = i20;
                                                                                                                        tLRPC$TL_documentAttributeSticker_layer55.stickerset = new TLRPC$TL_inputStickerSetEmpty();
                                                                                                                    }
                                                                                                                } else {
                                                                                                                    i27++;
                                                                                                                    z14 = z13;
                                                                                                                }
                                                                                                            } catch (Exception e12) {
                                                                                                                e = e12;
                                                                                                                exc = e;
                                                                                                                tLRPC$Message = tLRPC$Peer3;
                                                                                                                messageObject = null;
                                                                                                                tLRPC$Message2 = tLRPC$Message;
                                                                                                                FileLog.e(exc);
                                                                                                                getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                if (messageObject != null) {
                                                                                                                }
                                                                                                                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                processSentMessage(tLRPC$Message2.id);
                                                                                                                return;
                                                                                                            }
                                                                                                        }
                                                                                                        delayedMessage7 = null;
                                                                                                        delayedMessage6 = delayedMessage7;
                                                                                                        obj3 = "query_id";
                                                                                                        tLRPC$Message3 = tLRPC$Peer3;
                                                                                                        tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                                                                    }
                                                                                                }
                                                                                                tLRPC$TL_document2 = tLRPC$TL_document3;
                                                                                                z13 = z14;
                                                                                                z2 = z18;
                                                                                                i18 = i20;
                                                                                                obj3 = "query_id";
                                                                                                tLRPC$Message3 = r2;
                                                                                                tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                                                                str20 = str26;
                                                                                            }
                                                                                        }
                                                                                    } catch (Exception e13) {
                                                                                        e = e13;
                                                                                        exc = e;
                                                                                        tLRPC$Message = r2;
                                                                                        messageObject = null;
                                                                                        tLRPC$Message2 = tLRPC$Message;
                                                                                        FileLog.e(exc);
                                                                                        getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                        if (messageObject != null) {
                                                                                        }
                                                                                        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                        processSentMessage(tLRPC$Message2.id);
                                                                                        return;
                                                                                    }
                                                                                }
                                                                                r2.attachPath = str19;
                                                                                if (tLRPC$EncryptedChat != null) {
                                                                                }
                                                                                tLRPC$TL_document2 = tLRPC$TL_document3;
                                                                                z13 = z14;
                                                                                z2 = z18;
                                                                                i18 = i20;
                                                                                obj3 = "query_id";
                                                                                tLRPC$Message3 = r2;
                                                                                tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                                                str20 = str26;
                                                                            } catch (Exception e14) {
                                                                                e = e14;
                                                                                tLRPC$Peer3 = r2;
                                                                                exc = e;
                                                                                tLRPC$Message = tLRPC$Peer3;
                                                                                messageObject = null;
                                                                                tLRPC$Message2 = tLRPC$Message;
                                                                                FileLog.e(exc);
                                                                                getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                if (messageObject != null) {
                                                                                }
                                                                                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                processSentMessage(tLRPC$Message2.id);
                                                                                return;
                                                                            }
                                                                            sendMessagesHelper = this;
                                                                        } else {
                                                                            sendMessagesHelper = this;
                                                                            tLRPC$User3 = tLRPC$User4;
                                                                            z2 = z18;
                                                                            i18 = i20;
                                                                            tLRPC$TL_document2 = tLRPC$TL_document5;
                                                                            if (tL_stories$StoryItem7 != null) {
                                                                                if (tLRPC$EncryptedChat != null) {
                                                                                    tLRPC$TL_message = new TLRPC$TL_message_secret();
                                                                                } else {
                                                                                    tLRPC$TL_message = new TLRPC$TL_message();
                                                                                }
                                                                                MessageMediaStoryFull messageMediaStoryFull = new MessageMediaStoryFull();
                                                                                tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                                                messageMediaStoryFull.id = tL_stories$StoryItem4.id;
                                                                                messageMediaStoryFull.user_id = tL_stories$StoryItem4.dialogId;
                                                                                obj3 = "query_id";
                                                                                messageMediaStoryFull.peer = getMessagesController().getPeer(tL_stories$StoryItem4.dialogId);
                                                                                messageMediaStoryFull.storyItem = tL_stories$StoryItem4;
                                                                                tLRPC$TL_message.media = messageMediaStoryFull;
                                                                                tLRPC$Message3 = tLRPC$TL_message;
                                                                                str20 = str26;
                                                                                delayedMessage6 = null;
                                                                                z13 = false;
                                                                                c4 = '\f';
                                                                            } else {
                                                                                obj3 = "query_id";
                                                                                tL_stories$StoryItem4 = tL_stories$StoryItem7;
                                                                                str20 = str26;
                                                                                delayedMessage6 = null;
                                                                                tLRPC$Message3 = null;
                                                                                z13 = false;
                                                                            }
                                                                            if (arrayList4 != null) {
                                                                            }
                                                                            if (str20 != null) {
                                                                            }
                                                                            if (tLRPC$Message3.attachPath == null) {
                                                                            }
                                                                            int newMessageId2222 = getUserConfig().getNewMessageId();
                                                                            tLRPC$Message3.id = newMessageId2222;
                                                                            tLRPC$Message3.local_id = newMessageId2222;
                                                                            tLRPC$Message3.out = true;
                                                                            if (z) {
                                                                            }
                                                                            delayedMessage8 = delayedMessage6;
                                                                            str22 = str20;
                                                                            tLRPC$InputPeer3 = tLRPC$InputPeer8;
                                                                            if (tLRPC$Peer4 != null) {
                                                                            }
                                                                        }
                                                                    }
                                                                    delayedMessage6 = null;
                                                                    if (arrayList4 != null) {
                                                                    }
                                                                    if (str20 != null) {
                                                                    }
                                                                    if (tLRPC$Message3.attachPath == null) {
                                                                    }
                                                                    int newMessageId22222 = getUserConfig().getNewMessageId();
                                                                    tLRPC$Message3.id = newMessageId22222;
                                                                    tLRPC$Message3.local_id = newMessageId22222;
                                                                    tLRPC$Message3.out = true;
                                                                    if (z) {
                                                                    }
                                                                    delayedMessage8 = delayedMessage6;
                                                                    str22 = str20;
                                                                    tLRPC$InputPeer3 = tLRPC$InputPeer8;
                                                                    if (tLRPC$Peer4 != null) {
                                                                    }
                                                                } catch (Exception e15) {
                                                                    e = e15;
                                                                }
                                                            } catch (Exception e16) {
                                                                e = e16;
                                                            }
                                                        }
                                                        str20 = str26;
                                                        if (arrayList4 != null) {
                                                        }
                                                        if (str20 != null) {
                                                        }
                                                        if (tLRPC$Message3.attachPath == null) {
                                                        }
                                                        int newMessageId222222 = getUserConfig().getNewMessageId();
                                                        tLRPC$Message3.id = newMessageId222222;
                                                        tLRPC$Message3.local_id = newMessageId222222;
                                                        tLRPC$Message3.out = true;
                                                        if (z) {
                                                        }
                                                        delayedMessage8 = delayedMessage6;
                                                        str22 = str20;
                                                        tLRPC$InputPeer3 = tLRPC$InputPeer8;
                                                        if (tLRPC$Peer4 != null) {
                                                        }
                                                    }
                                                } catch (Exception e17) {
                                                    e = e17;
                                                }
                                            }
                                        } catch (Exception e18) {
                                            e = e18;
                                            i2 = i23;
                                        }
                                    }
                                    if (z16) {
                                        tLRPC$MessageMedia3 = tLRPC$MessageMedia;
                                        str7 = str3;
                                        obj5 = obj3;
                                    } else {
                                        tLRPC$MessageMedia3 = tLRPC$MessageMedia;
                                        try {
                                            SharedPreferences notificationsSettings = MessagesController.getNotificationsSettings(sendMessagesHelper.currentAccount);
                                            obj5 = obj3;
                                            StringBuilder sb = new StringBuilder();
                                            str7 = str3;
                                            sb.append(NotificationsSettingsFacade.PROPERTY_SILENT);
                                            sb.append(j10);
                                            if (!notificationsSettings.getBoolean(sb.toString(), false)) {
                                                z4 = false;
                                                tLRPC$Message4.silent = z4;
                                                if (tLRPC$Message4.random_id == 0) {
                                                    tLRPC$Message4.random_id = getNextRandomId();
                                                }
                                                if (hashMap != null && hashMap.containsKey("bot")) {
                                                    if (tLRPC$EncryptedChat == null) {
                                                        String str32 = hashMap.get("bot_name");
                                                        tLRPC$Message4.via_bot_name = str32;
                                                        if (str32 == null) {
                                                            tLRPC$Message4.via_bot_name = "";
                                                        }
                                                    } else {
                                                        tLRPC$Message4.via_bot_id = Utilities.parseLong(hashMap.get("bot")).longValue();
                                                    }
                                                    tLRPC$Message4.flags |= LiteMode.FLAG_AUTOPLAY_GIFS;
                                                }
                                                tLRPC$Message4.params = hashMap;
                                                if (messageObject2 != null) {
                                                    messageObject3 = messageObject2;
                                                    if (messageObject3.resendAsIs) {
                                                        messageObject4 = messageObject3;
                                                        i5 = i3;
                                                        tLRPC$Message4.flags |= LiteMode.FLAG_CALLS_ANIMATIONS;
                                                        tLRPC$Message4.dialog_id = j10;
                                                        tLRPC$Message4.invert_media = z19;
                                                        if (tL_stories$StoryItem6 == null) {
                                                            TLRPC$TL_messageReplyStoryHeader tLRPC$TL_messageReplyStoryHeader = new TLRPC$TL_messageReplyStoryHeader();
                                                            tLRPC$Message4.reply_to = tLRPC$TL_messageReplyStoryHeader;
                                                            tL_stories$StoryItem = tL_stories$StoryItem6;
                                                            tLRPC$TL_messageReplyStoryHeader.story_id = tL_stories$StoryItem.id;
                                                            tLRPC$InputPeer5 = tLRPC$InputPeer3;
                                                            tLRPC$TL_messageReplyStoryHeader.user_id = tL_stories$StoryItem.dialogId;
                                                            tLRPC$Message4.replyStory = tL_stories$StoryItem;
                                                            tLRPC$Message4.flags |= 8;
                                                        } else {
                                                            tLRPC$InputPeer5 = tLRPC$InputPeer3;
                                                            tL_stories$StoryItem = tL_stories$StoryItem6;
                                                            if (messageObject16 != null) {
                                                                if (messageObject14 != null) {
                                                                    messageObject5 = messageObject14;
                                                                    messageObject6 = messageObject16;
                                                                    if (messageObject6 == messageObject5) {
                                                                        obj6 = "bot_name";
                                                                        if (messageObject5.getId() == 1) {
                                                                            j4 = j3;
                                                                            if (j2 != 0) {
                                                                                TLRPC$TL_messageReplies tLRPC$TL_messageReplies = new TLRPC$TL_messageReplies();
                                                                                tLRPC$Message4.replies = tLRPC$TL_messageReplies;
                                                                                tLRPC$TL_messageReplies.comments = true;
                                                                                tLRPC$TL_messageReplies.channel_id = j2;
                                                                                tLRPC$TL_messageReplies.flags |= 1;
                                                                                tLRPC$Message4.flags |= 8388608;
                                                                            }
                                                                            if (tLRPC$ReplyMarkup != null && tLRPC$EncryptedChat == null) {
                                                                                tLRPC$Message4.flags |= 64;
                                                                                tLRPC$Message4.reply_markup = tLRPC$ReplyMarkup;
                                                                                str17 = hashMap.get("bot");
                                                                                if (str17 != null) {
                                                                                    tLRPC$Message4.via_bot_id = Long.parseLong(str17);
                                                                                }
                                                                            }
                                                                            if (!DialogObject.isEncryptedDialog(j10)) {
                                                                                try {
                                                                                    tLRPC$Message4.peer_id = getMessagesController().getPeer(j10);
                                                                                    if (DialogObject.isUserDialog(j10)) {
                                                                                        TLRPC$User user = getMessagesController().getUser(Long.valueOf(j10));
                                                                                        if (user == null) {
                                                                                            processSentMessage(tLRPC$Message4.id);
                                                                                            return;
                                                                                        }
                                                                                        sendMessagesHelper2 = this;
                                                                                        if (user.bot) {
                                                                                            tLRPC$Message4.unread = false;
                                                                                        }
                                                                                    } else {
                                                                                        sendMessagesHelper2 = this;
                                                                                    }
                                                                                } catch (Exception e19) {
                                                                                    e2 = e19;
                                                                                    exc = e2;
                                                                                    tLRPC$Message = tLRPC$Message4;
                                                                                    messageObject = null;
                                                                                    tLRPC$Message2 = tLRPC$Message;
                                                                                    FileLog.e(exc);
                                                                                    getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                    if (messageObject != null) {
                                                                                    }
                                                                                    getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                    processSentMessage(tLRPC$Message2.id);
                                                                                    return;
                                                                                }
                                                                            } else {
                                                                                sendMessagesHelper2 = this;
                                                                                TLRPC$TL_peerUser tLRPC$TL_peerUser2 = new TLRPC$TL_peerUser();
                                                                                tLRPC$Message4.peer_id = tLRPC$TL_peerUser2;
                                                                                long j12 = tLRPC$EncryptedChat.participant_id;
                                                                                if (j12 == j4) {
                                                                                    tLRPC$TL_peerUser2.user_id = tLRPC$EncryptedChat.admin_id;
                                                                                } else {
                                                                                    tLRPC$TL_peerUser2.user_id = j12;
                                                                                }
                                                                                if (i5 != 0) {
                                                                                    i15 = i5;
                                                                                    tLRPC$Message4.ttl = i15;
                                                                                } else {
                                                                                    i15 = i5;
                                                                                    int i28 = tLRPC$EncryptedChat.ttl;
                                                                                    tLRPC$Message4.ttl = i28;
                                                                                    if (i28 != 0 && (tLRPC$MessageMedia5 = tLRPC$Message4.media) != null) {
                                                                                        tLRPC$MessageMedia5.ttl_seconds = i28;
                                                                                        tLRPC$MessageMedia5.flags |= 4;
                                                                                    }
                                                                                }
                                                                                if (tLRPC$Message4.ttl == 0 || tLRPC$Message4.media.document == null) {
                                                                                    i5 = i15;
                                                                                } else if (MessageObject.isVoiceMessage(tLRPC$Message4)) {
                                                                                    int i29 = 0;
                                                                                    while (true) {
                                                                                        if (i29 >= tLRPC$Message4.media.document.attributes.size()) {
                                                                                            i5 = i15;
                                                                                            i17 = 0;
                                                                                            break;
                                                                                        }
                                                                                        TLRPC$DocumentAttribute tLRPC$DocumentAttribute2 = tLRPC$Message4.media.document.attributes.get(i29);
                                                                                        i5 = i15;
                                                                                        if (tLRPC$DocumentAttribute2 instanceof TLRPC$TL_documentAttributeAudio) {
                                                                                            i17 = (int) tLRPC$DocumentAttribute2.duration;
                                                                                            break;
                                                                                        } else {
                                                                                            i29++;
                                                                                            i15 = i5;
                                                                                        }
                                                                                    }
                                                                                    tLRPC$Message4.ttl = Math.max(tLRPC$Message4.ttl, i17 + 1);
                                                                                } else {
                                                                                    i5 = i15;
                                                                                    if (MessageObject.isVideoMessage(tLRPC$Message4) || MessageObject.isRoundVideoMessage(tLRPC$Message4)) {
                                                                                        int i30 = 0;
                                                                                        while (true) {
                                                                                            if (i30 >= tLRPC$Message4.media.document.attributes.size()) {
                                                                                                i16 = 0;
                                                                                                break;
                                                                                            }
                                                                                            TLRPC$DocumentAttribute tLRPC$DocumentAttribute3 = tLRPC$Message4.media.document.attributes.get(i30);
                                                                                            if (tLRPC$DocumentAttribute3 instanceof TLRPC$TL_documentAttributeVideo) {
                                                                                                i16 = (int) tLRPC$DocumentAttribute3.duration;
                                                                                                break;
                                                                                            }
                                                                                            i30++;
                                                                                        }
                                                                                        tLRPC$Message4.ttl = Math.max(tLRPC$Message4.ttl, i16 + 1);
                                                                                    }
                                                                                }
                                                                            }
                                                                            if (messageObject6 == null && tL_stories$StoryItem == null && tLRPC$Message4.reply_to != null) {
                                                                                TLRPC$Peer peer2 = getMessagesController().getPeer(messageObject6.getDialogId() > 0 ? messageObject6.getSenderId() : messageObject6.getDialogId());
                                                                                if (peer2 != null) {
                                                                                    str8 = "";
                                                                                    obj7 = "bot";
                                                                                    if (!MessageObject.peersEqual(getMessagesController().getPeer(messageObject6.getDialogId()), tLRPC$Message4.peer_id)) {
                                                                                        z9 = true;
                                                                                        if (z9 && messageObject6.isForwarded() && !messageObject6.isImportedForward()) {
                                                                                            tLRPC$MessageFwdHeader = messageObject6.messageOwner.fwd_from;
                                                                                            if (tLRPC$MessageFwdHeader.saved_from_peer == null && (tLRPC$Peer2 = tLRPC$MessageFwdHeader.from_id) != null) {
                                                                                                z10 = z9;
                                                                                                if ((tLRPC$MessageFwdHeader.flags & 4) != 0) {
                                                                                                    tLRPC$Message4.reply_to.reply_to_msg_id = tLRPC$MessageFwdHeader.channel_post;
                                                                                                    peer2 = tLRPC$Peer2;
                                                                                                    z11 = true;
                                                                                                    z10 = true;
                                                                                                    boolean z21 = (messageObject5 != null || messageObject5.getId() == messageObject6.getId() || MessageObject.getTopicId(messageObject6.messageOwner, true) == messageObject5.getId()) ? false : true;
                                                                                                    if (!z10 && !z21) {
                                                                                                        z12 = false;
                                                                                                        if (z12) {
                                                                                                            if (replyQuote2 == null) {
                                                                                                                tLRPC$Message4.reply_to.quote = false;
                                                                                                                replyQuote = ChatActivity.ReplyQuote.from(messageObject6);
                                                                                                            } else {
                                                                                                                replyQuote = replyQuote2;
                                                                                                            }
                                                                                                            if (replyQuote != null) {
                                                                                                                TLRPC$Message tLRPC$Message19 = messageObject6.messageOwner;
                                                                                                                if (tLRPC$Message19 == null || (tLRPC$MessageMedia4 = tLRPC$Message19.media) == null) {
                                                                                                                    z5 = z11;
                                                                                                                } else {
                                                                                                                    TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader = tLRPC$Message4.reply_to;
                                                                                                                    z5 = z11;
                                                                                                                    tLRPC$MessageReplyHeader.flags |= LiteMode.FLAG_CHAT_BLUR;
                                                                                                                    tLRPC$MessageReplyHeader.reply_media = tLRPC$MessageMedia4;
                                                                                                                }
                                                                                                                if (replyQuote.getText() != null) {
                                                                                                                    TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader2 = tLRPC$Message4.reply_to;
                                                                                                                    tLRPC$MessageReplyHeader2.flags |= 64;
                                                                                                                    tLRPC$MessageReplyHeader2.quote_text = replyQuote.getText();
                                                                                                                }
                                                                                                                if (replyQuote.getEntities() != null) {
                                                                                                                    TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader3 = tLRPC$Message4.reply_to;
                                                                                                                    tLRPC$MessageReplyHeader3.flags |= 128;
                                                                                                                    tLRPC$MessageReplyHeader3.quote_entities = replyQuote.getEntities();
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                        z5 = z11;
                                                                                                    }
                                                                                                    TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader4 = tLRPC$Message4.reply_to;
                                                                                                    tLRPC$MessageReplyHeader4.flags |= 1;
                                                                                                    tLRPC$MessageReplyHeader4.reply_to_peer_id = peer2;
                                                                                                    z12 = true;
                                                                                                    if (z12) {
                                                                                                    }
                                                                                                    z5 = z11;
                                                                                                }
                                                                                                z11 = false;
                                                                                                if (messageObject5 != null) {
                                                                                                }
                                                                                                if (!z10) {
                                                                                                    z12 = false;
                                                                                                    if (z12) {
                                                                                                    }
                                                                                                    z5 = z11;
                                                                                                }
                                                                                                TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader42 = tLRPC$Message4.reply_to;
                                                                                                tLRPC$MessageReplyHeader42.flags |= 1;
                                                                                                tLRPC$MessageReplyHeader42.reply_to_peer_id = peer2;
                                                                                                z12 = true;
                                                                                                if (z12) {
                                                                                                }
                                                                                                z5 = z11;
                                                                                            }
                                                                                        }
                                                                                        z10 = z9;
                                                                                        z11 = false;
                                                                                        if (messageObject5 != null) {
                                                                                        }
                                                                                        if (!z10) {
                                                                                        }
                                                                                        TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader422 = tLRPC$Message4.reply_to;
                                                                                        tLRPC$MessageReplyHeader422.flags |= 1;
                                                                                        tLRPC$MessageReplyHeader422.reply_to_peer_id = peer2;
                                                                                        z12 = true;
                                                                                        if (z12) {
                                                                                        }
                                                                                        z5 = z11;
                                                                                    }
                                                                                } else {
                                                                                    str8 = "";
                                                                                    obj7 = "bot";
                                                                                }
                                                                                z9 = false;
                                                                                if (z9) {
                                                                                    tLRPC$MessageFwdHeader = messageObject6.messageOwner.fwd_from;
                                                                                    if (tLRPC$MessageFwdHeader.saved_from_peer == null) {
                                                                                        z10 = z9;
                                                                                        if ((tLRPC$MessageFwdHeader.flags & 4) != 0) {
                                                                                        }
                                                                                        z11 = false;
                                                                                        if (messageObject5 != null) {
                                                                                        }
                                                                                        if (!z10) {
                                                                                        }
                                                                                        TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader4222 = tLRPC$Message4.reply_to;
                                                                                        tLRPC$MessageReplyHeader4222.flags |= 1;
                                                                                        tLRPC$MessageReplyHeader4222.reply_to_peer_id = peer2;
                                                                                        z12 = true;
                                                                                        if (z12) {
                                                                                        }
                                                                                        z5 = z11;
                                                                                    }
                                                                                }
                                                                                z10 = z9;
                                                                                z11 = false;
                                                                                if (messageObject5 != null) {
                                                                                }
                                                                                if (!z10) {
                                                                                }
                                                                                TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader42222 = tLRPC$Message4.reply_to;
                                                                                tLRPC$MessageReplyHeader42222.flags |= 1;
                                                                                tLRPC$MessageReplyHeader42222.reply_to_peer_id = peer2;
                                                                                z12 = true;
                                                                                if (z12) {
                                                                                }
                                                                                z5 = z11;
                                                                            } else {
                                                                                str8 = "";
                                                                                obj7 = "bot";
                                                                                z5 = false;
                                                                            }
                                                                            if (!MessageObject.isVoiceMessage(tLRPC$Message4) || MessageObject.isRoundVideoMessage(tLRPC$Message4)) {
                                                                                tLRPC$Message4.media_unread = true;
                                                                            }
                                                                            if (tLRPC$Message4.from_id == null) {
                                                                                tLRPC$Message4.from_id = tLRPC$Message4.peer_id;
                                                                            }
                                                                            tLRPC$Message4.send_state = 1;
                                                                            if (hashMap != null) {
                                                                                String str33 = hashMap.get("groupId");
                                                                                if (str33 != null) {
                                                                                    j5 = Utilities.parseLong(str33).longValue();
                                                                                    tLRPC$Message4.grouped_id = j5;
                                                                                    tLRPC$Message4.flags |= 131072;
                                                                                } else {
                                                                                    j5 = 0;
                                                                                }
                                                                                if (hashMap.get("final") != null) {
                                                                                    z6 = true;
                                                                                    MessageObject messageObject17 = (messageObject5 == null && messageObject5 == messageObject6) ? messageObject6 : messageObject6;
                                                                                    if (!z5) {
                                                                                        messageObject7 = messageObject17;
                                                                                        messageObject = new MessageObject(sendMessagesHelper2.currentAccount, (TLRPC$Message) tLRPC$Message4, messageObject7, true, true);
                                                                                        messageObject.sendAnimationData = sendAnimationData;
                                                                                        messageObject.wasJustSent = true;
                                                                                        messageObject.scheduled = i2 != 0;
                                                                                        if (messageObject.isForwarded()) {
                                                                                            str9 = str8;
                                                                                        } else {
                                                                                            try {
                                                                                                int i31 = messageObject.type;
                                                                                                str9 = str8;
                                                                                                if ((i31 == 3 || videoEditedInfo4 != null || i31 == 2) && !TextUtils.isEmpty(tLRPC$Message4.attachPath)) {
                                                                                                    messageObject.attachPathExists = true;
                                                                                                }
                                                                                            } catch (Exception e20) {
                                                                                                exc = e20;
                                                                                                tLRPC$Message2 = tLRPC$Message4;
                                                                                                FileLog.e(exc);
                                                                                                getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                if (messageObject != null) {
                                                                                                }
                                                                                                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                processSentMessage(tLRPC$Message2.id);
                                                                                                return;
                                                                                            }
                                                                                        }
                                                                                        videoEditedInfo = messageObject.videoEditedInfo;
                                                                                        if (videoEditedInfo != null || videoEditedInfo4 != null) {
                                                                                            videoEditedInfo = videoEditedInfo4;
                                                                                        }
                                                                                        if (j5 == 0) {
                                                                                            ArrayList<MessageObject> arrayList5 = new ArrayList<>();
                                                                                            arrayList5.add(messageObject);
                                                                                            ArrayList arrayList6 = new ArrayList();
                                                                                            arrayList6.add(tLRPC$Message4);
                                                                                            tLRPC$Message6 = videoEditedInfo;
                                                                                            MessagesStorage.getInstance(sendMessagesHelper2.currentAccount).putMessages(arrayList6, false, true, false, 0, i2 != 0, 0);
                                                                                            MessagesController.getInstance(sendMessagesHelper2.currentAccount).updateInterfaceWithMessages(j10, arrayList5, i2 != 0);
                                                                                            if (i2 == 0) {
                                                                                                tL_stories$StoryItem2 = tL_stories$StoryItem;
                                                                                                NotificationCenter.getInstance(sendMessagesHelper2.currentAccount).lambda$postNotificationNameOnUIThread$1(NotificationCenter.dialogsNeedReload, new Object[0]);
                                                                                            } else {
                                                                                                tL_stories$StoryItem2 = tL_stories$StoryItem;
                                                                                            }
                                                                                            delayedMessage2 = delayedMessage;
                                                                                            i6 = 0;
                                                                                        } else {
                                                                                            tLRPC$Message6 = videoEditedInfo;
                                                                                            tL_stories$StoryItem2 = tL_stories$StoryItem;
                                                                                            ArrayList<DelayedMessage> arrayList7 = sendMessagesHelper2.delayedMessages.get("group_" + j5);
                                                                                            if (arrayList7 != null) {
                                                                                                delayedMessage = arrayList7.get(0);
                                                                                            }
                                                                                            if (delayedMessage == null) {
                                                                                                delayedMessage2 = new DelayedMessage(j10);
                                                                                                delayedMessage2.initForGroup(j5);
                                                                                                delayedMessage2.encryptedChat = tLRPC$EncryptedChat;
                                                                                                delayedMessage2.scheduled = i2 != 0;
                                                                                            } else {
                                                                                                delayedMessage2 = delayedMessage;
                                                                                            }
                                                                                            delayedMessage2.performMediaUpload = false;
                                                                                            i6 = 0;
                                                                                            i6 = 0;
                                                                                            delayedMessage2.photoSize = null;
                                                                                            delayedMessage2.videoEditedInfo = null;
                                                                                            delayedMessage2.httpLocation = null;
                                                                                            if (z6) {
                                                                                                delayedMessage2.finalGroupMessage = tLRPC$Message4.id;
                                                                                            }
                                                                                        }
                                                                                        if (BuildVars.LOGS_ENABLED || tLRPC$InputPeer5 == null) {
                                                                                            j6 = j5;
                                                                                            tLRPC$EncryptedChat2 = tLRPC$EncryptedChat;
                                                                                            tLRPC$InputPeer6 = tLRPC$InputPeer5;
                                                                                            i7 = i6;
                                                                                        } else {
                                                                                            StringBuilder sb2 = new StringBuilder();
                                                                                            sb2.append("send message user_id = ");
                                                                                            tLRPC$EncryptedChat2 = tLRPC$EncryptedChat;
                                                                                            tLRPC$InputPeer6 = tLRPC$InputPeer5;
                                                                                            sb2.append(tLRPC$InputPeer6.user_id);
                                                                                            sb2.append(" chat_id = ");
                                                                                            sb2.append(tLRPC$InputPeer6.chat_id);
                                                                                            sb2.append(" channel_id = ");
                                                                                            sb2.append(tLRPC$InputPeer6.channel_id);
                                                                                            sb2.append(" access_hash = ");
                                                                                            sb2.append(tLRPC$InputPeer6.access_hash);
                                                                                            sb2.append(" notify = ");
                                                                                            sb2.append(z16);
                                                                                            sb2.append(" silent = ");
                                                                                            ?? notificationsSettings2 = MessagesController.getNotificationsSettings(sendMessagesHelper2.currentAccount);
                                                                                            StringBuilder sb3 = new StringBuilder();
                                                                                            j6 = j5;
                                                                                            sb3.append(NotificationsSettingsFacade.PROPERTY_SILENT);
                                                                                            sb3.append(j10);
                                                                                            sb2.append(notificationsSettings2.getBoolean(sb3.toString(), false));
                                                                                            FileLog.d(sb2.toString());
                                                                                            i7 = notificationsSettings2;
                                                                                        }
                                                                                        if (c != 0 && (c != '\t' || str7 == null || tLRPC$EncryptedChat2 == null)) {
                                                                                            try {
                                                                                                try {
                                                                                                    if (c >= 1) {
                                                                                                        if (c <= 3) {
                                                                                                        }
                                                                                                        TL_stories$StoryItem tL_stories$StoryItem8 = tL_stories$StoryItem2;
                                                                                                        MessageObject messageObject18 = messageObject4;
                                                                                                        int i32 = i2;
                                                                                                        if (tLRPC$EncryptedChat2 == null) {
                                                                                                            i2 = i32;
                                                                                                            MessageObject messageObject19 = messageObject5;
                                                                                                            TLRPC$Message tLRPC$Message20 = tLRPC$Message4;
                                                                                                            char c5 = c;
                                                                                                            VideoEditedInfo videoEditedInfo5 = tLRPC$Message6;
                                                                                                            TLRPC$EncryptedChat tLRPC$EncryptedChat4 = tLRPC$EncryptedChat2;
                                                                                                            ArrayList<TLRPC$MessageEntity> arrayList8 = arrayList;
                                                                                                            Object obj22 = obj4;
                                                                                                            String str34 = str2;
                                                                                                            String str35 = str9;
                                                                                                            TLRPC$User tLRPC$User5 = tLRPC$User;
                                                                                                            TLRPC$TL_document tLRPC$TL_document6 = tLRPC$TL_document;
                                                                                                            TLRPC$MessageMedia tLRPC$MessageMedia10 = tLRPC$MessageMedia3;
                                                                                                            SendMessagesHelper sendMessagesHelper4 = sendMessagesHelper2;
                                                                                                            HashMap<String, String> hashMap5 = hashMap;
                                                                                                            TLRPC$TL_photo tLRPC$TL_photo6 = tLRPC$TL_photo;
                                                                                                            if (AndroidUtilities.getPeerLayerVersion(tLRPC$EncryptedChat4.layer) >= 73) {
                                                                                                                tLRPC$TL_decryptedMessage_layer45 = new TLRPC$TL_decryptedMessage();
                                                                                                                if (j6 != 0) {
                                                                                                                    str10 = str34;
                                                                                                                    j8 = j6;
                                                                                                                    tLRPC$TL_decryptedMessage_layer45.grouped_id = j8;
                                                                                                                    delayedMessage3 = delayedMessage2;
                                                                                                                    tLRPC$TL_decryptedMessage_layer45.flags |= 131072;
                                                                                                                } else {
                                                                                                                    delayedMessage3 = delayedMessage2;
                                                                                                                    str10 = str34;
                                                                                                                    j8 = j6;
                                                                                                                }
                                                                                                            } else {
                                                                                                                delayedMessage3 = delayedMessage2;
                                                                                                                str10 = str34;
                                                                                                                j8 = j6;
                                                                                                                tLRPC$TL_decryptedMessage_layer45 = new TLRPC$TL_decryptedMessage_layer45();
                                                                                                            }
                                                                                                            tLRPC$TL_decryptedMessage_layer45.ttl = tLRPC$Message20.ttl;
                                                                                                            if (arrayList8 != null && !arrayList8.isEmpty()) {
                                                                                                                tLRPC$TL_decryptedMessage_layer45.entities = arrayList8;
                                                                                                                tLRPC$TL_decryptedMessage_layer45.flags |= 128;
                                                                                                            }
                                                                                                            TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader5 = tLRPC$Message20.reply_to;
                                                                                                            long j13 = j8;
                                                                                                            if (tLRPC$MessageReplyHeader5 != null) {
                                                                                                                long j14 = tLRPC$MessageReplyHeader5.reply_to_random_id;
                                                                                                                if (j14 != 0) {
                                                                                                                    tLRPC$TL_decryptedMessage_layer45.reply_to_random_id = j14;
                                                                                                                    tLRPC$TL_decryptedMessage_layer45.flags |= 8;
                                                                                                                }
                                                                                                            }
                                                                                                            tLRPC$TL_decryptedMessage_layer45.silent = tLRPC$Message20.silent;
                                                                                                            tLRPC$TL_decryptedMessage_layer45.flags |= LiteMode.FLAG_CALLS_ANIMATIONS;
                                                                                                            if (hashMap5 != null) {
                                                                                                                Object obj23 = obj6;
                                                                                                                if (hashMap5.get(obj23) != null) {
                                                                                                                    tLRPC$TL_decryptedMessage_layer45.via_bot_name = hashMap5.get(obj23);
                                                                                                                    tLRPC$TL_decryptedMessage_layer45.flags |= LiteMode.FLAG_AUTOPLAY_GIFS;
                                                                                                                }
                                                                                                            }
                                                                                                            tLRPC$TL_decryptedMessage_layer45.random_id = tLRPC$Message20.random_id;
                                                                                                            tLRPC$TL_decryptedMessage_layer45.message = str35;
                                                                                                            if (c5 == 1) {
                                                                                                                if (tLRPC$MessageMedia10 instanceof TLRPC$TL_messageMediaVenue) {
                                                                                                                    TLRPC$TL_decryptedMessageMediaVenue tLRPC$TL_decryptedMessageMediaVenue = new TLRPC$TL_decryptedMessageMediaVenue();
                                                                                                                    tLRPC$TL_decryptedMessage_layer45.media = tLRPC$TL_decryptedMessageMediaVenue;
                                                                                                                    tLRPC$TL_decryptedMessageMediaVenue.address = tLRPC$MessageMedia10.address;
                                                                                                                    tLRPC$TL_decryptedMessageMediaVenue.title = tLRPC$MessageMedia10.title;
                                                                                                                    tLRPC$TL_decryptedMessageMediaVenue.provider = tLRPC$MessageMedia10.provider;
                                                                                                                    tLRPC$TL_decryptedMessageMediaVenue.venue_id = tLRPC$MessageMedia10.venue_id;
                                                                                                                } else {
                                                                                                                    tLRPC$TL_decryptedMessage_layer45.media = new TLRPC$TL_decryptedMessageMediaGeoPoint();
                                                                                                                }
                                                                                                                TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                TLRPC$GeoPoint tLRPC$GeoPoint = tLRPC$MessageMedia10.geo;
                                                                                                                tLRPC$DecryptedMessageMedia.lat = tLRPC$GeoPoint.lat;
                                                                                                                tLRPC$DecryptedMessageMedia._long = tLRPC$GeoPoint._long;
                                                                                                                getSecretChatHelper().performSendEncryptedRequest(tLRPC$TL_decryptedMessage_layer45, messageObject.messageOwner, tLRPC$EncryptedChat4, null, null, messageObject);
                                                                                                                c2 = c5;
                                                                                                                j9 = j10;
                                                                                                                delayedMessage4 = delayedMessage3;
                                                                                                                str12 = str;
                                                                                                            } else {
                                                                                                                try {
                                                                                                                    if (c5 != 2 && (c5 != '\t' || tLRPC$TL_photo6 == null)) {
                                                                                                                        if (c5 == 3) {
                                                                                                                            TLRPC$PhotoSize thumbForSecretChat = sendMessagesHelper4.getThumbForSecretChat(tLRPC$TL_document6.thumbs);
                                                                                                                            ImageLoader.fillPhotoSizeWithBytes(thumbForSecretChat);
                                                                                                                            if (!MessageObject.isNewGifDocument(tLRPC$TL_document6) && !MessageObject.isRoundVideoDocument(tLRPC$TL_document6)) {
                                                                                                                                TLRPC$TL_decryptedMessageMediaVideo tLRPC$TL_decryptedMessageMediaVideo = new TLRPC$TL_decryptedMessageMediaVideo();
                                                                                                                                tLRPC$TL_decryptedMessage_layer45.media = tLRPC$TL_decryptedMessageMediaVideo;
                                                                                                                                if (thumbForSecretChat != null && (bArr2 = thumbForSecretChat.bytes) != null) {
                                                                                                                                    tLRPC$TL_decryptedMessageMediaVideo.thumb = bArr2;
                                                                                                                                } else {
                                                                                                                                    tLRPC$TL_decryptedMessageMediaVideo.thumb = new byte[0];
                                                                                                                                }
                                                                                                                                TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia2 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                tLRPC$DecryptedMessageMedia2.caption = str10;
                                                                                                                                tLRPC$DecryptedMessageMedia2.mime_type = "video/mp4";
                                                                                                                                tLRPC$DecryptedMessageMedia2.size = tLRPC$TL_document6.size;
                                                                                                                                i12 = 0;
                                                                                                                                while (true) {
                                                                                                                                    if (i12 < tLRPC$TL_document6.attributes.size()) {
                                                                                                                                        break;
                                                                                                                                    }
                                                                                                                                    TLRPC$DocumentAttribute tLRPC$DocumentAttribute4 = tLRPC$TL_document6.attributes.get(i12);
                                                                                                                                    if (tLRPC$DocumentAttribute4 instanceof TLRPC$TL_documentAttributeVideo) {
                                                                                                                                        TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia3 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                        tLRPC$DecryptedMessageMedia3.w = tLRPC$DocumentAttribute4.w;
                                                                                                                                        tLRPC$DecryptedMessageMedia3.h = tLRPC$DocumentAttribute4.h;
                                                                                                                                        tLRPC$DecryptedMessageMedia3.duration = (int) tLRPC$DocumentAttribute4.duration;
                                                                                                                                        break;
                                                                                                                                    }
                                                                                                                                    i12++;
                                                                                                                                }
                                                                                                                                TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia4 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                tLRPC$DecryptedMessageMedia4.thumb_h = thumbForSecretChat.h;
                                                                                                                                tLRPC$DecryptedMessageMedia4.thumb_w = thumbForSecretChat.w;
                                                                                                                                if (tLRPC$TL_document6.key != null && j13 == 0) {
                                                                                                                                    TLRPC$InputEncryptedFile tLRPC$InputEncryptedFile = new TLRPC$InputEncryptedFile() { // from class: org.telegram.tgnet.TLRPC$TL_inputEncryptedFile
                                                                                                                                        @Override // org.telegram.tgnet.TLObject
                                                                                                                                        public void readParams(AbstractSerializedData abstractSerializedData, boolean z22) {
                                                                                                                                            this.id = abstractSerializedData.readInt64(z22);
                                                                                                                                            this.access_hash = abstractSerializedData.readInt64(z22);
                                                                                                                                        }

                                                                                                                                        @Override // org.telegram.tgnet.TLObject
                                                                                                                                        public void serializeToStream(AbstractSerializedData abstractSerializedData) {
                                                                                                                                            abstractSerializedData.writeInt32(1511503333);
                                                                                                                                            abstractSerializedData.writeInt64(this.id);
                                                                                                                                            abstractSerializedData.writeInt64(this.access_hash);
                                                                                                                                        }
                                                                                                                                    };
                                                                                                                                    tLRPC$InputEncryptedFile.id = tLRPC$TL_document6.id;
                                                                                                                                    tLRPC$InputEncryptedFile.access_hash = tLRPC$TL_document6.access_hash;
                                                                                                                                    TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia5 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                    tLRPC$DecryptedMessageMedia5.key = tLRPC$TL_document6.key;
                                                                                                                                    tLRPC$DecryptedMessageMedia5.iv = tLRPC$TL_document6.iv;
                                                                                                                                    getSecretChatHelper().performSendEncryptedRequest(tLRPC$TL_decryptedMessage_layer45, messageObject.messageOwner, tLRPC$EncryptedChat4, tLRPC$InputEncryptedFile, null, messageObject);
                                                                                                                                    j9 = j10;
                                                                                                                                    delayedMessage4 = delayedMessage3;
                                                                                                                                    str12 = str;
                                                                                                                                }
                                                                                                                                j9 = j10;
                                                                                                                                str12 = str;
                                                                                                                                VideoEditedInfo videoEditedInfo6 = videoEditedInfo5;
                                                                                                                                delayedMessage4 = delayedMessage3;
                                                                                                                                delayedMessage4.videoEditedInfo = videoEditedInfo6;
                                                                                                                                if (j13 == 0) {
                                                                                                                                    sendMessagesHelper4.performSendDelayedMessage(delayedMessage4);
                                                                                                                                }
                                                                                                                            }
                                                                                                                            TLRPC$TL_decryptedMessageMediaDocument tLRPC$TL_decryptedMessageMediaDocument = new TLRPC$TL_decryptedMessageMediaDocument();
                                                                                                                            tLRPC$TL_decryptedMessage_layer45.media = tLRPC$TL_decryptedMessageMediaDocument;
                                                                                                                            tLRPC$TL_decryptedMessageMediaDocument.attributes = tLRPC$TL_document6.attributes;
                                                                                                                            if (thumbForSecretChat != null && (bArr = thumbForSecretChat.bytes) != null) {
                                                                                                                                tLRPC$TL_decryptedMessageMediaDocument.thumb = bArr;
                                                                                                                            } else {
                                                                                                                                tLRPC$TL_decryptedMessageMediaDocument.thumb = new byte[0];
                                                                                                                            }
                                                                                                                            TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia22 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                            tLRPC$DecryptedMessageMedia22.caption = str10;
                                                                                                                            tLRPC$DecryptedMessageMedia22.mime_type = "video/mp4";
                                                                                                                            tLRPC$DecryptedMessageMedia22.size = tLRPC$TL_document6.size;
                                                                                                                            i12 = 0;
                                                                                                                            while (true) {
                                                                                                                                if (i12 < tLRPC$TL_document6.attributes.size()) {
                                                                                                                                }
                                                                                                                                i12++;
                                                                                                                            }
                                                                                                                            TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia42 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                            tLRPC$DecryptedMessageMedia42.thumb_h = thumbForSecretChat.h;
                                                                                                                            tLRPC$DecryptedMessageMedia42.thumb_w = thumbForSecretChat.w;
                                                                                                                            if (tLRPC$TL_document6.key != null) {
                                                                                                                                TLRPC$InputEncryptedFile tLRPC$InputEncryptedFile2 = new TLRPC$InputEncryptedFile() { // from class: org.telegram.tgnet.TLRPC$TL_inputEncryptedFile
                                                                                                                                    @Override // org.telegram.tgnet.TLObject
                                                                                                                                    public void readParams(AbstractSerializedData abstractSerializedData, boolean z22) {
                                                                                                                                        this.id = abstractSerializedData.readInt64(z22);
                                                                                                                                        this.access_hash = abstractSerializedData.readInt64(z22);
                                                                                                                                    }

                                                                                                                                    @Override // org.telegram.tgnet.TLObject
                                                                                                                                    public void serializeToStream(AbstractSerializedData abstractSerializedData) {
                                                                                                                                        abstractSerializedData.writeInt32(1511503333);
                                                                                                                                        abstractSerializedData.writeInt64(this.id);
                                                                                                                                        abstractSerializedData.writeInt64(this.access_hash);
                                                                                                                                    }
                                                                                                                                };
                                                                                                                                tLRPC$InputEncryptedFile2.id = tLRPC$TL_document6.id;
                                                                                                                                tLRPC$InputEncryptedFile2.access_hash = tLRPC$TL_document6.access_hash;
                                                                                                                                TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia52 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                tLRPC$DecryptedMessageMedia52.key = tLRPC$TL_document6.key;
                                                                                                                                tLRPC$DecryptedMessageMedia52.iv = tLRPC$TL_document6.iv;
                                                                                                                                getSecretChatHelper().performSendEncryptedRequest(tLRPC$TL_decryptedMessage_layer45, messageObject.messageOwner, tLRPC$EncryptedChat4, tLRPC$InputEncryptedFile2, null, messageObject);
                                                                                                                                j9 = j10;
                                                                                                                                delayedMessage4 = delayedMessage3;
                                                                                                                                str12 = str;
                                                                                                                            }
                                                                                                                            j9 = j10;
                                                                                                                            str12 = str;
                                                                                                                            VideoEditedInfo videoEditedInfo62 = videoEditedInfo5;
                                                                                                                            delayedMessage4 = delayedMessage3;
                                                                                                                            delayedMessage4.videoEditedInfo = videoEditedInfo62;
                                                                                                                            if (j13 == 0) {
                                                                                                                            }
                                                                                                                        } else {
                                                                                                                            j9 = j10;
                                                                                                                            String str36 = str10;
                                                                                                                            str12 = str;
                                                                                                                            Object obj24 = obj2;
                                                                                                                            if (c5 == 6) {
                                                                                                                                TLRPC$TL_decryptedMessageMediaContact tLRPC$TL_decryptedMessageMediaContact = new TLRPC$TL_decryptedMessageMediaContact();
                                                                                                                                tLRPC$TL_decryptedMessage_layer45.media = tLRPC$TL_decryptedMessageMediaContact;
                                                                                                                                tLRPC$TL_decryptedMessageMediaContact.phone_number = tLRPC$User5.phone;
                                                                                                                                tLRPC$TL_decryptedMessageMediaContact.first_name = tLRPC$User5.first_name;
                                                                                                                                tLRPC$TL_decryptedMessageMediaContact.last_name = tLRPC$User5.last_name;
                                                                                                                                tLRPC$TL_decryptedMessageMediaContact.user_id = tLRPC$User5.id;
                                                                                                                                getSecretChatHelper().performSendEncryptedRequest(tLRPC$TL_decryptedMessage_layer45, messageObject.messageOwner, tLRPC$EncryptedChat4, null, null, messageObject);
                                                                                                                            } else {
                                                                                                                                if (c5 != 7 && (c5 != '\t' || tLRPC$TL_document6 == null)) {
                                                                                                                                    if (c5 == '\b') {
                                                                                                                                        delayedMessage4 = new DelayedMessage(j9);
                                                                                                                                        delayedMessage4.encryptedChat = tLRPC$EncryptedChat4;
                                                                                                                                        delayedMessage4.sendEncryptedRequest = tLRPC$TL_decryptedMessage_layer45;
                                                                                                                                        delayedMessage4.obj = messageObject;
                                                                                                                                        delayedMessage4.type = 3;
                                                                                                                                        delayedMessage4.parentObject = obj22;
                                                                                                                                        delayedMessage4.performMediaUpload = true;
                                                                                                                                        delayedMessage4.scheduled = i2 != 0;
                                                                                                                                        TLRPC$TL_decryptedMessageMediaDocument tLRPC$TL_decryptedMessageMediaDocument2 = new TLRPC$TL_decryptedMessageMediaDocument();
                                                                                                                                        tLRPC$TL_decryptedMessage_layer45.media = tLRPC$TL_decryptedMessageMediaDocument2;
                                                                                                                                        tLRPC$TL_decryptedMessageMediaDocument2.attributes = tLRPC$TL_document6.attributes;
                                                                                                                                        tLRPC$TL_decryptedMessageMediaDocument2.caption = str36;
                                                                                                                                        TLRPC$PhotoSize thumbForSecretChat2 = sendMessagesHelper4.getThumbForSecretChat(tLRPC$TL_document6.thumbs);
                                                                                                                                        if (thumbForSecretChat2 != null) {
                                                                                                                                            ImageLoader.fillPhotoSizeWithBytes(thumbForSecretChat2);
                                                                                                                                            TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia6 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                            ((TLRPC$TL_decryptedMessageMediaDocument) tLRPC$DecryptedMessageMedia6).thumb = thumbForSecretChat2.bytes;
                                                                                                                                            tLRPC$DecryptedMessageMedia6.thumb_h = thumbForSecretChat2.h;
                                                                                                                                            tLRPC$DecryptedMessageMedia6.thumb_w = thumbForSecretChat2.w;
                                                                                                                                        } else {
                                                                                                                                            TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia7 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                            ((TLRPC$TL_decryptedMessageMediaDocument) tLRPC$DecryptedMessageMedia7).thumb = new byte[0];
                                                                                                                                            tLRPC$DecryptedMessageMedia7.thumb_h = 0;
                                                                                                                                            tLRPC$DecryptedMessageMedia7.thumb_w = 0;
                                                                                                                                        }
                                                                                                                                        TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia8 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                        tLRPC$DecryptedMessageMedia8.mime_type = tLRPC$TL_document6.mime_type;
                                                                                                                                        tLRPC$DecryptedMessageMedia8.size = tLRPC$TL_document6.size;
                                                                                                                                        delayedMessage4.originalPath = str12;
                                                                                                                                        sendMessagesHelper4.performSendDelayedMessage(delayedMessage4);
                                                                                                                                    }
                                                                                                                                }
                                                                                                                                c2 = c5;
                                                                                                                                try {
                                                                                                                                    if (tLRPC$TL_document6.access_hash != 0 && (MessageObject.isStickerDocument(tLRPC$TL_document6) || MessageObject.isAnimatedStickerDocument(tLRPC$TL_document6, true))) {
                                                                                                                                        TLRPC$TL_decryptedMessageMediaExternalDocument tLRPC$TL_decryptedMessageMediaExternalDocument = new TLRPC$TL_decryptedMessageMediaExternalDocument();
                                                                                                                                        tLRPC$TL_decryptedMessage_layer45.media = tLRPC$TL_decryptedMessageMediaExternalDocument;
                                                                                                                                        tLRPC$TL_decryptedMessageMediaExternalDocument.id = tLRPC$TL_document6.id;
                                                                                                                                        tLRPC$TL_decryptedMessageMediaExternalDocument.date = tLRPC$TL_document6.date;
                                                                                                                                        tLRPC$TL_decryptedMessageMediaExternalDocument.access_hash = tLRPC$TL_document6.access_hash;
                                                                                                                                        tLRPC$TL_decryptedMessageMediaExternalDocument.mime_type = tLRPC$TL_document6.mime_type;
                                                                                                                                        tLRPC$TL_decryptedMessageMediaExternalDocument.size = tLRPC$TL_document6.size;
                                                                                                                                        tLRPC$TL_decryptedMessageMediaExternalDocument.dc_id = tLRPC$TL_document6.dc_id;
                                                                                                                                        tLRPC$TL_decryptedMessageMediaExternalDocument.attributes = tLRPC$TL_document6.attributes;
                                                                                                                                        TLRPC$PhotoSize thumbForSecretChat3 = sendMessagesHelper4.getThumbForSecretChat(tLRPC$TL_document6.thumbs);
                                                                                                                                        if (thumbForSecretChat3 != null) {
                                                                                                                                            ((TLRPC$TL_decryptedMessageMediaExternalDocument) tLRPC$TL_decryptedMessage_layer45.media).thumb = thumbForSecretChat3;
                                                                                                                                        } else {
                                                                                                                                            ((TLRPC$TL_decryptedMessageMediaExternalDocument) tLRPC$TL_decryptedMessage_layer45.media).thumb = new TLRPC$TL_photoSizeEmpty();
                                                                                                                                            ((TLRPC$TL_decryptedMessageMediaExternalDocument) tLRPC$TL_decryptedMessage_layer45.media).thumb.type = "s";
                                                                                                                                        }
                                                                                                                                        if (delayedMessage3 != null) {
                                                                                                                                            delayedMessage4 = delayedMessage3;
                                                                                                                                            if (delayedMessage4.type == 5) {
                                                                                                                                                delayedMessage4.sendEncryptedRequest = tLRPC$TL_decryptedMessage_layer45;
                                                                                                                                                delayedMessage4.obj = messageObject;
                                                                                                                                                sendMessagesHelper4.performSendDelayedMessage(delayedMessage4);
                                                                                                                                            }
                                                                                                                                        } else {
                                                                                                                                            delayedMessage4 = delayedMessage3;
                                                                                                                                        }
                                                                                                                                        getSecretChatHelper().performSendEncryptedRequest(tLRPC$TL_decryptedMessage_layer45, messageObject.messageOwner, tLRPC$EncryptedChat4, null, null, messageObject);
                                                                                                                                    } else {
                                                                                                                                        delayedMessage4 = delayedMessage3;
                                                                                                                                        TLRPC$TL_decryptedMessageMediaDocument tLRPC$TL_decryptedMessageMediaDocument3 = new TLRPC$TL_decryptedMessageMediaDocument();
                                                                                                                                        tLRPC$TL_decryptedMessage_layer45.media = tLRPC$TL_decryptedMessageMediaDocument3;
                                                                                                                                        tLRPC$Message12 = tLRPC$Message20;
                                                                                                                                        tLRPC$TL_decryptedMessageMediaDocument3.attributes = tLRPC$TL_document6.attributes;
                                                                                                                                        tLRPC$TL_decryptedMessageMediaDocument3.caption = str36;
                                                                                                                                        TLRPC$PhotoSize thumbForSecretChat4 = sendMessagesHelper4.getThumbForSecretChat(tLRPC$TL_document6.thumbs);
                                                                                                                                        if (thumbForSecretChat4 != null) {
                                                                                                                                            if (thumbForSecretChat4 instanceof TLRPC$TL_photoStrippedSize) {
                                                                                                                                                TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia9 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                                obj11 = obj22;
                                                                                                                                                ((TLRPC$TL_decryptedMessageMediaDocument) tLRPC$DecryptedMessageMedia9).thumb = thumbForSecretChat4.bytes;
                                                                                                                                                tLRPC$DecryptedMessageMedia9.thumb_h = thumbForSecretChat4.h;
                                                                                                                                                tLRPC$DecryptedMessageMedia9.thumb_w = thumbForSecretChat4.w;
                                                                                                                                            } else {
                                                                                                                                                obj11 = obj22;
                                                                                                                                                ImageLoader.fillPhotoSizeWithBytes(thumbForSecretChat4);
                                                                                                                                                TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia10 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                                ((TLRPC$TL_decryptedMessageMediaDocument) tLRPC$DecryptedMessageMedia10).thumb = thumbForSecretChat4.bytes;
                                                                                                                                                tLRPC$DecryptedMessageMedia10.thumb_h = thumbForSecretChat4.h;
                                                                                                                                                tLRPC$DecryptedMessageMedia10.thumb_w = thumbForSecretChat4.w;
                                                                                                                                            }
                                                                                                                                        } else {
                                                                                                                                            obj11 = obj22;
                                                                                                                                            TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia11 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                            ((TLRPC$TL_decryptedMessageMediaDocument) tLRPC$DecryptedMessageMedia11).thumb = new byte[0];
                                                                                                                                            tLRPC$DecryptedMessageMedia11.thumb_h = 0;
                                                                                                                                            tLRPC$DecryptedMessageMedia11.thumb_w = 0;
                                                                                                                                        }
                                                                                                                                        TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia12 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                        tLRPC$DecryptedMessageMedia12.size = tLRPC$TL_document6.size;
                                                                                                                                        tLRPC$DecryptedMessageMedia12.mime_type = tLRPC$TL_document6.mime_type;
                                                                                                                                        if (tLRPC$TL_document6.key != null && j13 == 0) {
                                                                                                                                            TLRPC$InputEncryptedFile tLRPC$InputEncryptedFile3 = new TLRPC$InputEncryptedFile() { // from class: org.telegram.tgnet.TLRPC$TL_inputEncryptedFile
                                                                                                                                                @Override // org.telegram.tgnet.TLObject
                                                                                                                                                public void readParams(AbstractSerializedData abstractSerializedData, boolean z22) {
                                                                                                                                                    this.id = abstractSerializedData.readInt64(z22);
                                                                                                                                                    this.access_hash = abstractSerializedData.readInt64(z22);
                                                                                                                                                }

                                                                                                                                                @Override // org.telegram.tgnet.TLObject
                                                                                                                                                public void serializeToStream(AbstractSerializedData abstractSerializedData) {
                                                                                                                                                    abstractSerializedData.writeInt32(1511503333);
                                                                                                                                                    abstractSerializedData.writeInt64(this.id);
                                                                                                                                                    abstractSerializedData.writeInt64(this.access_hash);
                                                                                                                                                }
                                                                                                                                            };
                                                                                                                                            tLRPC$InputEncryptedFile3.id = tLRPC$TL_document6.id;
                                                                                                                                            tLRPC$InputEncryptedFile3.access_hash = tLRPC$TL_document6.access_hash;
                                                                                                                                            TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia13 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                                            tLRPC$DecryptedMessageMedia13.key = tLRPC$TL_document6.key;
                                                                                                                                            tLRPC$DecryptedMessageMedia13.iv = tLRPC$TL_document6.iv;
                                                                                                                                            getSecretChatHelper().performSendEncryptedRequest(tLRPC$TL_decryptedMessage_layer45, messageObject.messageOwner, tLRPC$EncryptedChat4, tLRPC$InputEncryptedFile3, null, messageObject);
                                                                                                                                            if (j13 != 0) {
                                                                                                                                                TLObject tLObject = delayedMessage4.sendEncryptedRequest;
                                                                                                                                                if (tLObject != null) {
                                                                                                                                                    tLRPC$TL_messages_sendEncryptedMultiMedia = (TLRPC$TL_messages_sendEncryptedMultiMedia) tLObject;
                                                                                                                                                } else {
                                                                                                                                                    tLRPC$TL_messages_sendEncryptedMultiMedia = new TLRPC$TL_messages_sendEncryptedMultiMedia();
                                                                                                                                                    delayedMessage4.sendEncryptedRequest = tLRPC$TL_messages_sendEncryptedMultiMedia;
                                                                                                                                                }
                                                                                                                                                delayedMessage4.messageObjects.add(messageObject);
                                                                                                                                                delayedMessage4.messages.add(tLRPC$Message12);
                                                                                                                                                delayedMessage4.originalPaths.add(str12);
                                                                                                                                                delayedMessage4.performMediaUpload = true;
                                                                                                                                                tLRPC$TL_messages_sendEncryptedMultiMedia.messages.add(tLRPC$TL_decryptedMessage_layer45);
                                                                                                                                                TLRPC$InputEncryptedFile tLRPC$InputEncryptedFile4 = new TLRPC$InputEncryptedFile() { // from class: org.telegram.tgnet.TLRPC$TL_inputEncryptedFile
                                                                                                                                                    @Override // org.telegram.tgnet.TLObject
                                                                                                                                                    public void readParams(AbstractSerializedData abstractSerializedData, boolean z22) {
                                                                                                                                                        this.id = abstractSerializedData.readInt64(z22);
                                                                                                                                                        this.access_hash = abstractSerializedData.readInt64(z22);
                                                                                                                                                    }

                                                                                                                                                    @Override // org.telegram.tgnet.TLObject
                                                                                                                                                    public void serializeToStream(AbstractSerializedData abstractSerializedData) {
                                                                                                                                                        abstractSerializedData.writeInt32(1511503333);
                                                                                                                                                        abstractSerializedData.writeInt64(this.id);
                                                                                                                                                        abstractSerializedData.writeInt64(this.access_hash);
                                                                                                                                                    }
                                                                                                                                                };
                                                                                                                                                char c6 = c2;
                                                                                                                                                tLRPC$InputEncryptedFile4.id = (c6 == 3 || c6 == 7) ? 1L : 1L;
                                                                                                                                                tLRPC$TL_messages_sendEncryptedMultiMedia.files.add(tLRPC$InputEncryptedFile4);
                                                                                                                                                sendMessagesHelper4.performSendDelayedMessage(delayedMessage4);
                                                                                                                                            }
                                                                                                                                            if (messageObject18 == null) {
                                                                                                                                                getMediaDataController().cleanDraft(j9, messageObject19 != null ? messageObject19.getId() : 0, false);
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                        if (str25 != null && str25.length() > 0) {
                                                                                                                                            String str37 = str25;
                                                                                                                                            if (str37.startsWith("http")) {
                                                                                                                                                delayedMessage4.httpLocation = str37;
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                        if (j13 == 0) {
                                                                                                                                            sendMessagesHelper4.performSendDelayedMessage(delayedMessage4);
                                                                                                                                        }
                                                                                                                                        if (j13 != 0) {
                                                                                                                                        }
                                                                                                                                        if (messageObject18 == null) {
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                } catch (Exception e21) {
                                                                                                                                    e = e21;
                                                                                                                                    tLRPC$Message6 = tLRPC$Message20;
                                                                                                                                    exc = e;
                                                                                                                                    tLRPC$Message2 = tLRPC$Message6;
                                                                                                                                    FileLog.e(exc);
                                                                                                                                    getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                                    if (messageObject != null) {
                                                                                                                                    }
                                                                                                                                    getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                                    processSentMessage(tLRPC$Message2.id);
                                                                                                                                    return;
                                                                                                                                }
                                                                                                                            }
                                                                                                                            c2 = c5;
                                                                                                                            delayedMessage4 = delayedMessage3;
                                                                                                                        }
                                                                                                                        c2 = c5;
                                                                                                                    }
                                                                                                                    TLRPC$PhotoSize tLRPC$PhotoSize = tLRPC$TL_photo6.sizes.get(0);
                                                                                                                    TLRPC$PhotoSize tLRPC$PhotoSize2 = tLRPC$TL_photo6.sizes.get(arrayList2.size() - 1);
                                                                                                                    ImageLoader.fillPhotoSizeWithBytes(tLRPC$PhotoSize);
                                                                                                                    TLRPC$TL_decryptedMessageMediaPhoto tLRPC$TL_decryptedMessageMediaPhoto = new TLRPC$TL_decryptedMessageMediaPhoto();
                                                                                                                    tLRPC$TL_decryptedMessage_layer45.media = tLRPC$TL_decryptedMessageMediaPhoto;
                                                                                                                    tLRPC$TL_decryptedMessageMediaPhoto.caption = str11;
                                                                                                                    byte[] bArr3 = tLRPC$PhotoSize.bytes;
                                                                                                                    if (bArr3 != null) {
                                                                                                                        obj9 = obj22;
                                                                                                                        tLRPC$TL_decryptedMessageMediaPhoto.thumb = bArr3;
                                                                                                                        obj10 = obj8;
                                                                                                                    } else {
                                                                                                                        obj9 = obj22;
                                                                                                                        obj10 = obj8;
                                                                                                                        tLRPC$TL_decryptedMessageMediaPhoto.thumb = new byte[0];
                                                                                                                    }
                                                                                                                    tLRPC$TL_decryptedMessageMediaPhoto.thumb_h = tLRPC$PhotoSize.h;
                                                                                                                    tLRPC$TL_decryptedMessageMediaPhoto.thumb_w = tLRPC$PhotoSize.w;
                                                                                                                    tLRPC$TL_decryptedMessageMediaPhoto.w = tLRPC$PhotoSize2.w;
                                                                                                                    tLRPC$TL_decryptedMessageMediaPhoto.h = tLRPC$PhotoSize2.h;
                                                                                                                    tLRPC$TL_decryptedMessageMediaPhoto.size = tLRPC$PhotoSize2.size;
                                                                                                                    if (tLRPC$PhotoSize2.location.key == null || j13 != 0) {
                                                                                                                        if (delayedMessage4 == null) {
                                                                                                                            delayedMessage4 = new DelayedMessage(j9);
                                                                                                                            delayedMessage4.encryptedChat = tLRPC$EncryptedChat4;
                                                                                                                            delayedMessage4.type = 0;
                                                                                                                            delayedMessage4.originalPath = str12;
                                                                                                                            delayedMessage4.sendEncryptedRequest = tLRPC$TL_decryptedMessage_layer45;
                                                                                                                            delayedMessage4.obj = messageObject;
                                                                                                                            if (hashMap5 != null) {
                                                                                                                                Object obj25 = obj10;
                                                                                                                                if (hashMap5.containsKey(obj25)) {
                                                                                                                                    delayedMessage4.parentObject = hashMap5.get(obj25);
                                                                                                                                    delayedMessage4.performMediaUpload = true;
                                                                                                                                    delayedMessage4.scheduled = i2 == 0;
                                                                                                                                }
                                                                                                                            }
                                                                                                                            delayedMessage4.parentObject = obj9;
                                                                                                                            delayedMessage4.performMediaUpload = true;
                                                                                                                            delayedMessage4.scheduled = i2 == 0;
                                                                                                                        }
                                                                                                                        if (!TextUtils.isEmpty(str13) && str13.startsWith("http")) {
                                                                                                                            delayedMessage4.httpLocation = str13;
                                                                                                                        } else {
                                                                                                                            ArrayList<TLRPC$PhotoSize> arrayList9 = tLRPC$TL_photo6.sizes;
                                                                                                                            delayedMessage4.photoSize = arrayList9.get(arrayList9.size() - 1);
                                                                                                                            delayedMessage4.locationParent = tLRPC$TL_photo6;
                                                                                                                        }
                                                                                                                        if (j13 == 0) {
                                                                                                                            sendMessagesHelper4.performSendDelayedMessage(delayedMessage4);
                                                                                                                        }
                                                                                                                    } else {
                                                                                                                        TLRPC$InputEncryptedFile tLRPC$InputEncryptedFile5 = new TLRPC$InputEncryptedFile() { // from class: org.telegram.tgnet.TLRPC$TL_inputEncryptedFile
                                                                                                                            @Override // org.telegram.tgnet.TLObject
                                                                                                                            public void readParams(AbstractSerializedData abstractSerializedData, boolean z22) {
                                                                                                                                this.id = abstractSerializedData.readInt64(z22);
                                                                                                                                this.access_hash = abstractSerializedData.readInt64(z22);
                                                                                                                            }

                                                                                                                            @Override // org.telegram.tgnet.TLObject
                                                                                                                            public void serializeToStream(AbstractSerializedData abstractSerializedData) {
                                                                                                                                abstractSerializedData.writeInt32(1511503333);
                                                                                                                                abstractSerializedData.writeInt64(this.id);
                                                                                                                                abstractSerializedData.writeInt64(this.access_hash);
                                                                                                                            }
                                                                                                                        };
                                                                                                                        TLRPC$FileLocation tLRPC$FileLocation = tLRPC$PhotoSize2.location;
                                                                                                                        tLRPC$InputEncryptedFile5.id = tLRPC$FileLocation.volume_id;
                                                                                                                        tLRPC$InputEncryptedFile5.access_hash = tLRPC$FileLocation.secret;
                                                                                                                        TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia14 = tLRPC$TL_decryptedMessage_layer45.media;
                                                                                                                        tLRPC$DecryptedMessageMedia14.key = tLRPC$FileLocation.key;
                                                                                                                        tLRPC$DecryptedMessageMedia14.iv = tLRPC$FileLocation.iv;
                                                                                                                        getSecretChatHelper().performSendEncryptedRequest(tLRPC$TL_decryptedMessage_layer45, messageObject.messageOwner, tLRPC$EncryptedChat4, tLRPC$InputEncryptedFile5, null, messageObject);
                                                                                                                    }
                                                                                                                    if (j13 != 0) {
                                                                                                                    }
                                                                                                                    if (messageObject18 == null) {
                                                                                                                    }
                                                                                                                } catch (Exception e22) {
                                                                                                                    e = e22;
                                                                                                                    messageObject5 = tLRPC$Message12;
                                                                                                                    exc = e;
                                                                                                                    tLRPC$Message7 = messageObject5;
                                                                                                                    tLRPC$Message2 = tLRPC$Message7;
                                                                                                                    FileLog.e(exc);
                                                                                                                    getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                    if (messageObject != null) {
                                                                                                                    }
                                                                                                                    getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                    processSentMessage(tLRPC$Message2.id);
                                                                                                                    return;
                                                                                                                }
                                                                                                                tLRPC$Message12 = tLRPC$Message20;
                                                                                                                j9 = j10;
                                                                                                                str11 = str10;
                                                                                                                delayedMessage4 = delayedMessage3;
                                                                                                                str12 = str;
                                                                                                                obj8 = obj2;
                                                                                                                c2 = c5;
                                                                                                                str13 = str25;
                                                                                                            }
                                                                                                            tLRPC$Message12 = tLRPC$Message20;
                                                                                                            if (j13 != 0) {
                                                                                                            }
                                                                                                            if (messageObject18 == null) {
                                                                                                            }
                                                                                                        } else {
                                                                                                            try {
                                                                                                                if (c == 1) {
                                                                                                                    TLRPC$MessageMedia tLRPC$MessageMedia11 = tLRPC$MessageMedia3;
                                                                                                                    if (tLRPC$MessageMedia11 instanceof TLRPC$TL_messageMediaVenue) {
                                                                                                                        TLRPC$InputMedia tLRPC$TL_inputMediaVenue = new TLRPC$TL_inputMediaVenue();
                                                                                                                        tLRPC$TL_inputMediaVenue.address = tLRPC$MessageMedia11.address;
                                                                                                                        tLRPC$TL_inputMediaVenue.title = tLRPC$MessageMedia11.title;
                                                                                                                        tLRPC$TL_inputMediaVenue.provider = tLRPC$MessageMedia11.provider;
                                                                                                                        tLRPC$TL_inputMediaVenue.venue_id = tLRPC$MessageMedia11.venue_id;
                                                                                                                        tLRPC$TL_inputMediaVenue.venue_type = str9;
                                                                                                                        tLRPC$InputMedia4 = tLRPC$TL_inputMediaVenue;
                                                                                                                    } else if (tLRPC$MessageMedia11 instanceof TLRPC$TL_messageMediaGeoLive) {
                                                                                                                        TLRPC$InputMedia tLRPC$TL_inputMediaGeoLive = new TLRPC$TL_inputMediaGeoLive();
                                                                                                                        tLRPC$TL_inputMediaGeoLive.period = tLRPC$MessageMedia11.period;
                                                                                                                        int i33 = tLRPC$TL_inputMediaGeoLive.flags | 2;
                                                                                                                        tLRPC$TL_inputMediaGeoLive.flags = i33;
                                                                                                                        int i34 = tLRPC$MessageMedia11.heading;
                                                                                                                        if (i34 != 0) {
                                                                                                                            tLRPC$TL_inputMediaGeoLive.heading = i34;
                                                                                                                            tLRPC$TL_inputMediaGeoLive.flags = i33 | 4;
                                                                                                                        }
                                                                                                                        int i35 = tLRPC$MessageMedia11.proximity_notification_radius;
                                                                                                                        tLRPC$InputMedia4 = tLRPC$TL_inputMediaGeoLive;
                                                                                                                        if (i35 != 0) {
                                                                                                                            tLRPC$TL_inputMediaGeoLive.proximity_notification_radius = i35;
                                                                                                                            tLRPC$TL_inputMediaGeoLive.flags |= 8;
                                                                                                                            tLRPC$InputMedia4 = tLRPC$TL_inputMediaGeoLive;
                                                                                                                        }
                                                                                                                    } else {
                                                                                                                        tLRPC$InputMedia4 = new TLRPC$TL_inputMediaGeoPoint();
                                                                                                                    }
                                                                                                                    ?? tLRPC$TL_inputGeoPoint = new TLRPC$TL_inputGeoPoint();
                                                                                                                    tLRPC$InputMedia4.geo_point = tLRPC$TL_inputGeoPoint;
                                                                                                                    TLRPC$GeoPoint tLRPC$GeoPoint2 = tLRPC$MessageMedia11.geo;
                                                                                                                    tLRPC$TL_inputGeoPoint.lat = tLRPC$GeoPoint2.lat;
                                                                                                                    tLRPC$TL_inputGeoPoint._long = tLRPC$GeoPoint2._long;
                                                                                                                    tL_stories$StoryItem3 = tL_stories$StoryItem8;
                                                                                                                    i2 = i32;
                                                                                                                    hashMap2 = hashMap;
                                                                                                                    messageObject8 = messageObject5;
                                                                                                                    tLRPC$InputPeer7 = tLRPC$InputPeer6;
                                                                                                                    tLRPC$Message14 = tLRPC$Message4;
                                                                                                                    c3 = c;
                                                                                                                    obj12 = obj4;
                                                                                                                    z7 = false;
                                                                                                                    delayedMessage5 = delayedMessage2;
                                                                                                                    messageObject11 = messageObject;
                                                                                                                    tLRPC$TL_inputMediaStory3 = tLRPC$InputMedia4;
                                                                                                                    tLRPC$Message18 = tLRPC$TL_inputGeoPoint;
                                                                                                                } else {
                                                                                                                    ?? r6 = str9;
                                                                                                                    try {
                                                                                                                        if (c == 2 || (c == '\t' && tLRPC$TL_photo != null)) {
                                                                                                                            tL_stories$StoryItem3 = tL_stories$StoryItem8;
                                                                                                                            i2 = i32;
                                                                                                                            messageObject8 = messageObject5;
                                                                                                                            tLRPC$InputPeer7 = tLRPC$InputPeer6;
                                                                                                                            TLRPC$Message tLRPC$Message21 = tLRPC$Message4;
                                                                                                                            Object obj26 = obj4;
                                                                                                                            int i36 = i5;
                                                                                                                            boolean z22 = z2;
                                                                                                                            messageObject9 = messageObject;
                                                                                                                            sendMessagesHelper3 = sendMessagesHelper2;
                                                                                                                            str14 = str;
                                                                                                                            try {
                                                                                                                                TLRPC$InputMedia tLRPC$TL_inputMediaUploadedPhoto = new TLRPC$TL_inputMediaUploadedPhoto();
                                                                                                                                tLRPC$TL_inputMediaUploadedPhoto.spoiler = z22;
                                                                                                                                if (i36 != 0) {
                                                                                                                                    tLRPC$TL_inputMediaUploadedPhoto.ttl_seconds = i36;
                                                                                                                                    tLRPC$Message21.ttl = i36;
                                                                                                                                    tLRPC$TL_inputMediaUploadedPhoto.flags |= 2;
                                                                                                                                }
                                                                                                                                if (hashMap == null || (str15 = hashMap.get("masks")) == null) {
                                                                                                                                    hashMap2 = hashMap;
                                                                                                                                    c3 = c;
                                                                                                                                } else {
                                                                                                                                    SerializedData serializedData = new SerializedData(Utilities.hexToBytes(str15));
                                                                                                                                    int i37 = 0;
                                                                                                                                    int readInt32 = serializedData.readInt32(false);
                                                                                                                                    while (i37 < readInt32) {
                                                                                                                                        tLRPC$TL_inputMediaUploadedPhoto.stickers.add(TLRPC$InputDocument.TLdeserialize(serializedData, serializedData.readInt32(false), false));
                                                                                                                                        i37++;
                                                                                                                                        readInt32 = readInt32;
                                                                                                                                        hashMap = hashMap;
                                                                                                                                        c = c;
                                                                                                                                    }
                                                                                                                                    hashMap2 = hashMap;
                                                                                                                                    c3 = c;
                                                                                                                                    tLRPC$TL_inputMediaUploadedPhoto.flags |= 1;
                                                                                                                                    serializedData.cleanup();
                                                                                                                                }
                                                                                                                                TLRPC$TL_photo tLRPC$TL_photo7 = tLRPC$TL_photo;
                                                                                                                                if (tLRPC$TL_photo7.access_hash == 0) {
                                                                                                                                    tLRPC$InputMedia = tLRPC$TL_inputMediaUploadedPhoto;
                                                                                                                                    obj12 = obj26;
                                                                                                                                    tLRPC$Message14 = tLRPC$Message21;
                                                                                                                                    z7 = true;
                                                                                                                                    tLRPC$Message15 = tLRPC$Message21;
                                                                                                                                } else {
                                                                                                                                    ?? tLRPC$TL_inputMediaPhoto = new TLRPC$TL_inputMediaPhoto();
                                                                                                                                    TLRPC$TL_inputPhoto tLRPC$TL_inputPhoto = new TLRPC$TL_inputPhoto();
                                                                                                                                    tLRPC$TL_inputMediaPhoto.id = tLRPC$TL_inputPhoto;
                                                                                                                                    obj12 = obj26;
                                                                                                                                    tLRPC$Message14 = tLRPC$Message21;
                                                                                                                                    try {
                                                                                                                                        tLRPC$TL_inputPhoto.id = tLRPC$TL_photo7.id;
                                                                                                                                        tLRPC$TL_inputPhoto.access_hash = tLRPC$TL_photo7.access_hash;
                                                                                                                                        byte[] bArr4 = tLRPC$TL_photo7.file_reference;
                                                                                                                                        tLRPC$TL_inputPhoto.file_reference = bArr4;
                                                                                                                                        TLRPC$Message tLRPC$Message22 = tLRPC$Message21;
                                                                                                                                        if (bArr4 == null) {
                                                                                                                                            try {
                                                                                                                                                ?? r62 = new byte[0];
                                                                                                                                                tLRPC$TL_inputPhoto.file_reference = r62;
                                                                                                                                                tLRPC$Message22 = r62;
                                                                                                                                            } catch (Exception e23) {
                                                                                                                                                exc = e23;
                                                                                                                                                tLRPC$Message13 = tLRPC$Message14;
                                                                                                                                                messageObject10 = messageObject9;
                                                                                                                                                messageObject = messageObject10;
                                                                                                                                                tLRPC$Message2 = tLRPC$Message13;
                                                                                                                                                FileLog.e(exc);
                                                                                                                                                getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                                                if (messageObject != null) {
                                                                                                                                                }
                                                                                                                                                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                                                processSentMessage(tLRPC$Message2.id);
                                                                                                                                                return;
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                        tLRPC$TL_inputMediaPhoto.spoiler = z22;
                                                                                                                                        tLRPC$InputMedia = tLRPC$TL_inputMediaPhoto;
                                                                                                                                        z7 = false;
                                                                                                                                        tLRPC$Message15 = tLRPC$Message22;
                                                                                                                                    } catch (Exception e24) {
                                                                                                                                        e = e24;
                                                                                                                                        tLRPC$Message10 = tLRPC$Message14;
                                                                                                                                        messageObject = messageObject9;
                                                                                                                                        exc = e;
                                                                                                                                        tLRPC$Message8 = tLRPC$Message10;
                                                                                                                                        tLRPC$Message2 = tLRPC$Message8;
                                                                                                                                        FileLog.e(exc);
                                                                                                                                        getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                                        if (messageObject != null) {
                                                                                                                                        }
                                                                                                                                        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                                        processSentMessage(tLRPC$Message2.id);
                                                                                                                                        return;
                                                                                                                                    }
                                                                                                                                }
                                                                                                                                if (delayedMessage2 == null) {
                                                                                                                                    delayedMessage2 = new DelayedMessage(j10);
                                                                                                                                    delayedMessage2.type = 0;
                                                                                                                                    delayedMessage2.obj = messageObject9;
                                                                                                                                    delayedMessage2.originalPath = str14;
                                                                                                                                    delayedMessage2.scheduled = i2 != 0;
                                                                                                                                }
                                                                                                                                delayedMessage2.inputUploadMedia = tLRPC$TL_inputMediaUploadedPhoto;
                                                                                                                                delayedMessage2.performMediaUpload = z7;
                                                                                                                                if (str25 != null && str25.length() > 0) {
                                                                                                                                    String str38 = str25;
                                                                                                                                    if (str38.startsWith("http")) {
                                                                                                                                        delayedMessage2.httpLocation = str38;
                                                                                                                                        tLRPC$InputMedia2 = tLRPC$InputMedia;
                                                                                                                                        i13 = tLRPC$Message15;
                                                                                                                                    }
                                                                                                                                }
                                                                                                                                ArrayList<TLRPC$PhotoSize> arrayList10 = tLRPC$TL_photo7.sizes;
                                                                                                                                i13 = 1;
                                                                                                                                delayedMessage2.photoSize = arrayList10.get(arrayList10.size() - 1);
                                                                                                                                delayedMessage2.locationParent = tLRPC$TL_photo7;
                                                                                                                                tLRPC$InputMedia2 = tLRPC$InputMedia;
                                                                                                                            } catch (Exception e25) {
                                                                                                                                e = e25;
                                                                                                                                tLRPC$Message10 = tLRPC$Message21;
                                                                                                                            }
                                                                                                                        } else {
                                                                                                                            try {
                                                                                                                                if (c == 3) {
                                                                                                                                    try {
                                                                                                                                        TLRPC$InputMedia tLRPC$TL_inputMediaUploadedDocument2 = new TLRPC$TL_inputMediaUploadedDocument();
                                                                                                                                        messageObject8 = messageObject5;
                                                                                                                                        TLRPC$TL_document tLRPC$TL_document7 = tLRPC$TL_document;
                                                                                                                                        tLRPC$TL_inputMediaUploadedDocument2.mime_type = tLRPC$TL_document7.mime_type;
                                                                                                                                        tLRPC$TL_inputMediaUploadedDocument2.attributes = tLRPC$TL_document7.attributes;
                                                                                                                                        boolean z23 = z2;
                                                                                                                                        tLRPC$TL_inputMediaUploadedDocument2.spoiler = z23;
                                                                                                                                        if (!z3) {
                                                                                                                                            if (MessageObject.isRoundVideoDocument(tLRPC$TL_document7)) {
                                                                                                                                                tL_stories$StoryItem3 = tL_stories$StoryItem8;
                                                                                                                                                tLRPC$InputPeer7 = tLRPC$InputPeer6;
                                                                                                                                                videoEditedInfo2 = tLRPC$Message6;
                                                                                                                                            } else if (tLRPC$Message6 != null) {
                                                                                                                                                tL_stories$StoryItem3 = tL_stories$StoryItem8;
                                                                                                                                                tLRPC$InputPeer7 = tLRPC$InputPeer6;
                                                                                                                                                videoEditedInfo2 = tLRPC$Message6;
                                                                                                                                                if (!videoEditedInfo2.muted) {
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                            if (i5 != 0) {
                                                                                                                                                int i38 = i5;
                                                                                                                                                tLRPC$TL_inputMediaUploadedDocument2.ttl_seconds = i38;
                                                                                                                                                tLRPC$Message4.ttl = i38;
                                                                                                                                                tLRPC$TL_inputMediaUploadedDocument2.flags |= 2;
                                                                                                                                            }
                                                                                                                                            if (hashMap != null) {
                                                                                                                                                try {
                                                                                                                                                    String str39 = hashMap.get("masks");
                                                                                                                                                    if (str39 != null) {
                                                                                                                                                        tLRPC$Message6 = tLRPC$Message4;
                                                                                                                                                        try {
                                                                                                                                                            SerializedData serializedData2 = new SerializedData(Utilities.hexToBytes(str39));
                                                                                                                                                            c3 = c;
                                                                                                                                                            int i39 = 0;
                                                                                                                                                            int readInt322 = serializedData2.readInt32(false);
                                                                                                                                                            while (i39 < readInt322) {
                                                                                                                                                                int i40 = readInt322;
                                                                                                                                                                VideoEditedInfo videoEditedInfo7 = videoEditedInfo2;
                                                                                                                                                                int i41 = i32;
                                                                                                                                                                tLRPC$TL_inputMediaUploadedDocument2.stickers.add(TLRPC$InputDocument.TLdeserialize(serializedData2, serializedData2.readInt32(false), false));
                                                                                                                                                                i39++;
                                                                                                                                                                readInt322 = i40;
                                                                                                                                                                videoEditedInfo2 = videoEditedInfo7;
                                                                                                                                                                i32 = i41;
                                                                                                                                                            }
                                                                                                                                                            videoEditedInfo3 = videoEditedInfo2;
                                                                                                                                                            i2 = i32;
                                                                                                                                                            tLRPC$TL_inputMediaUploadedDocument2.flags |= 1;
                                                                                                                                                            serializedData2.cleanup();
                                                                                                                                                            messageObject9 = messageObject;
                                                                                                                                                            if (tLRPC$TL_document7.access_hash == 0) {
                                                                                                                                                                tLRPC$TL_inputMediaDocument = tLRPC$TL_inputMediaUploadedDocument2;
                                                                                                                                                                z7 = true;
                                                                                                                                                            } else {
                                                                                                                                                                TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument4 = new TLRPC$TL_inputMediaDocument();
                                                                                                                                                                TLRPC$TL_inputDocument tLRPC$TL_inputDocument = new TLRPC$TL_inputDocument();
                                                                                                                                                                tLRPC$TL_inputMediaDocument4.id = tLRPC$TL_inputDocument;
                                                                                                                                                                tLRPC$TL_inputDocument.id = tLRPC$TL_document7.id;
                                                                                                                                                                tLRPC$TL_inputDocument.access_hash = tLRPC$TL_document7.access_hash;
                                                                                                                                                                byte[] bArr5 = tLRPC$TL_document7.file_reference;
                                                                                                                                                                tLRPC$TL_inputDocument.file_reference = bArr5;
                                                                                                                                                                if (bArr5 == null) {
                                                                                                                                                                    tLRPC$TL_inputDocument.file_reference = new byte[0];
                                                                                                                                                                }
                                                                                                                                                                if (hashMap != null && hashMap.containsKey("query")) {
                                                                                                                                                                    tLRPC$TL_inputMediaDocument4.query = hashMap.get("query");
                                                                                                                                                                    tLRPC$TL_inputMediaDocument4.flags |= 2;
                                                                                                                                                                }
                                                                                                                                                                tLRPC$TL_inputMediaDocument4.spoiler = z23;
                                                                                                                                                                z7 = false;
                                                                                                                                                                tLRPC$TL_inputMediaDocument = tLRPC$TL_inputMediaDocument4;
                                                                                                                                                            }
                                                                                                                                                            if (delayedMessage2 == null) {
                                                                                                                                                                delayedMessage2 = new DelayedMessage(j10);
                                                                                                                                                                delayedMessage2.type = 1;
                                                                                                                                                                delayedMessage2.obj = messageObject9;
                                                                                                                                                                str16 = str;
                                                                                                                                                                delayedMessage2.originalPath = str16;
                                                                                                                                                                obj13 = obj4;
                                                                                                                                                                delayedMessage2.parentObject = obj13;
                                                                                                                                                                delayedMessage2.scheduled = i2 != 0;
                                                                                                                                                            } else {
                                                                                                                                                                obj13 = obj4;
                                                                                                                                                                str16 = str;
                                                                                                                                                            }
                                                                                                                                                            delayedMessage2.inputUploadMedia = tLRPC$TL_inputMediaUploadedDocument2;
                                                                                                                                                            delayedMessage2.performMediaUpload = z7;
                                                                                                                                                            if (!tLRPC$TL_document7.thumbs.isEmpty()) {
                                                                                                                                                                TLRPC$PhotoSize tLRPC$PhotoSize3 = tLRPC$TL_document7.thumbs.get(0);
                                                                                                                                                                if (!(tLRPC$PhotoSize3 instanceof TLRPC$TL_photoStrippedSize)) {
                                                                                                                                                                    delayedMessage2.photoSize = tLRPC$PhotoSize3;
                                                                                                                                                                    delayedMessage2.locationParent = tLRPC$TL_document7;
                                                                                                                                                                }
                                                                                                                                                            }
                                                                                                                                                            delayedMessage2.videoEditedInfo = videoEditedInfo3;
                                                                                                                                                            tLRPC$InputMedia2 = tLRPC$TL_inputMediaDocument;
                                                                                                                                                            obj12 = obj13;
                                                                                                                                                            sendMessagesHelper3 = sendMessagesHelper2;
                                                                                                                                                            tLRPC$Message14 = tLRPC$Message6;
                                                                                                                                                            str14 = str16;
                                                                                                                                                            hashMap2 = hashMap;
                                                                                                                                                            i13 = tLRPC$TL_document7;
                                                                                                                                                        } catch (Exception e26) {
                                                                                                                                                            e = e26;
                                                                                                                                                            exc = e;
                                                                                                                                                            i2 = i32;
                                                                                                                                                            tLRPC$Message2 = tLRPC$Message6;
                                                                                                                                                            FileLog.e(exc);
                                                                                                                                                            getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                                                            if (messageObject != null) {
                                                                                                                                                            }
                                                                                                                                                            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                                                            processSentMessage(tLRPC$Message2.id);
                                                                                                                                                            return;
                                                                                                                                                        }
                                                                                                                                                    }
                                                                                                                                                } catch (Exception e27) {
                                                                                                                                                    e = e27;
                                                                                                                                                    tLRPC$Message6 = tLRPC$Message4;
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                            videoEditedInfo3 = videoEditedInfo2;
                                                                                                                                            i2 = i32;
                                                                                                                                            tLRPC$Message6 = tLRPC$Message4;
                                                                                                                                            c3 = c;
                                                                                                                                            messageObject9 = messageObject;
                                                                                                                                            if (tLRPC$TL_document7.access_hash == 0) {
                                                                                                                                            }
                                                                                                                                            if (delayedMessage2 == null) {
                                                                                                                                            }
                                                                                                                                            delayedMessage2.inputUploadMedia = tLRPC$TL_inputMediaUploadedDocument2;
                                                                                                                                            delayedMessage2.performMediaUpload = z7;
                                                                                                                                            if (!tLRPC$TL_document7.thumbs.isEmpty()) {
                                                                                                                                            }
                                                                                                                                            delayedMessage2.videoEditedInfo = videoEditedInfo3;
                                                                                                                                            tLRPC$InputMedia2 = tLRPC$TL_inputMediaDocument;
                                                                                                                                            obj12 = obj13;
                                                                                                                                            sendMessagesHelper3 = sendMessagesHelper2;
                                                                                                                                            tLRPC$Message14 = tLRPC$Message6;
                                                                                                                                            str14 = str16;
                                                                                                                                            hashMap2 = hashMap;
                                                                                                                                            i13 = tLRPC$TL_document7;
                                                                                                                                        }
                                                                                                                                        tL_stories$StoryItem3 = tL_stories$StoryItem8;
                                                                                                                                        tLRPC$InputPeer7 = tLRPC$InputPeer6;
                                                                                                                                        videoEditedInfo2 = tLRPC$Message6;
                                                                                                                                        tLRPC$TL_inputMediaUploadedDocument2.nosound_video = true;
                                                                                                                                        if (BuildVars.DEBUG_VERSION) {
                                                                                                                                            FileLog.d("nosound_video = true");
                                                                                                                                        }
                                                                                                                                        if (i5 != 0) {
                                                                                                                                        }
                                                                                                                                        if (hashMap != null) {
                                                                                                                                        }
                                                                                                                                        videoEditedInfo3 = videoEditedInfo2;
                                                                                                                                        i2 = i32;
                                                                                                                                        tLRPC$Message6 = tLRPC$Message4;
                                                                                                                                        c3 = c;
                                                                                                                                        messageObject9 = messageObject;
                                                                                                                                        if (tLRPC$TL_document7.access_hash == 0) {
                                                                                                                                        }
                                                                                                                                        if (delayedMessage2 == null) {
                                                                                                                                        }
                                                                                                                                        delayedMessage2.inputUploadMedia = tLRPC$TL_inputMediaUploadedDocument2;
                                                                                                                                        delayedMessage2.performMediaUpload = z7;
                                                                                                                                        if (!tLRPC$TL_document7.thumbs.isEmpty()) {
                                                                                                                                        }
                                                                                                                                        delayedMessage2.videoEditedInfo = videoEditedInfo3;
                                                                                                                                        tLRPC$InputMedia2 = tLRPC$TL_inputMediaDocument;
                                                                                                                                        obj12 = obj13;
                                                                                                                                        sendMessagesHelper3 = sendMessagesHelper2;
                                                                                                                                        tLRPC$Message14 = tLRPC$Message6;
                                                                                                                                        str14 = str16;
                                                                                                                                        hashMap2 = hashMap;
                                                                                                                                        i13 = tLRPC$TL_document7;
                                                                                                                                    } catch (Exception e28) {
                                                                                                                                        e = e28;
                                                                                                                                        tLRPC$Message6 = tLRPC$Message4;
                                                                                                                                    }
                                                                                                                                } else {
                                                                                                                                    tL_stories$StoryItem3 = tL_stories$StoryItem8;
                                                                                                                                    i2 = i32;
                                                                                                                                    messageObject8 = messageObject5;
                                                                                                                                    tLRPC$InputPeer7 = tLRPC$InputPeer6;
                                                                                                                                    TLRPC$Message tLRPC$Message23 = tLRPC$Message4;
                                                                                                                                    TLRPC$TL_document tLRPC$TL_document8 = tLRPC$TL_document;
                                                                                                                                    String str40 = str;
                                                                                                                                    int i42 = i5;
                                                                                                                                    boolean z24 = z2;
                                                                                                                                    tLRPC$Message4 = messageObject;
                                                                                                                                    Object obj27 = obj4;
                                                                                                                                    if (c == 6) {
                                                                                                                                        TLRPC$InputMedia tLRPC$TL_inputMediaContact = new TLRPC$TL_inputMediaContact();
                                                                                                                                        TLRPC$User tLRPC$User6 = tLRPC$User;
                                                                                                                                        tLRPC$TL_inputMediaContact.phone_number = tLRPC$User6.phone;
                                                                                                                                        tLRPC$TL_inputMediaContact.first_name = tLRPC$User6.first_name;
                                                                                                                                        tLRPC$TL_inputMediaContact.last_name = tLRPC$User6.last_name;
                                                                                                                                        if (!tLRPC$User6.restriction_reason.isEmpty() && tLRPC$User6.restriction_reason.get(0).text.startsWith("BEGIN:VCARD")) {
                                                                                                                                            tLRPC$TL_inputMediaContact.vcard = tLRPC$User6.restriction_reason.get(0).text;
                                                                                                                                        } else {
                                                                                                                                            tLRPC$TL_inputMediaContact.vcard = r6;
                                                                                                                                        }
                                                                                                                                        c3 = c;
                                                                                                                                        tLRPC$Message14 = tLRPC$Message23;
                                                                                                                                        z7 = false;
                                                                                                                                        hashMap2 = hashMap;
                                                                                                                                        obj12 = obj27;
                                                                                                                                        sendMessagesHelper3 = sendMessagesHelper2;
                                                                                                                                        delayedMessage5 = delayedMessage2;
                                                                                                                                        str14 = str40;
                                                                                                                                        tLRPC$InputMedia3 = tLRPC$TL_inputMediaContact;
                                                                                                                                        i9 = r6;
                                                                                                                                        messageObject9 = tLRPC$Message4;
                                                                                                                                    } else if (c == 7 || c == '\t') {
                                                                                                                                        r6 = tLRPC$Message23;
                                                                                                                                        try {
                                                                                                                                            if (str40 == null && str25 == null) {
                                                                                                                                                obj14 = obj27;
                                                                                                                                                if (tLRPC$TL_document8.access_hash != 0) {
                                                                                                                                                    tLRPC$TL_inputMediaUploadedDocument = null;
                                                                                                                                                    if (tLRPC$TL_document8.access_hash != 0) {
                                                                                                                                                        z7 = tLRPC$TL_inputMediaUploadedDocument instanceof TLRPC$TL_inputMediaUploadedDocument;
                                                                                                                                                        tLRPC$TL_inputMediaDocument2 = tLRPC$TL_inputMediaUploadedDocument;
                                                                                                                                                    } else {
                                                                                                                                                        TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument5 = new TLRPC$TL_inputMediaDocument();
                                                                                                                                                        TLRPC$TL_inputDocument tLRPC$TL_inputDocument2 = new TLRPC$TL_inputDocument();
                                                                                                                                                        tLRPC$TL_inputMediaDocument5.id = tLRPC$TL_inputDocument2;
                                                                                                                                                        tLRPC$TL_inputDocument2.id = tLRPC$TL_document8.id;
                                                                                                                                                        tLRPC$TL_inputDocument2.access_hash = tLRPC$TL_document8.access_hash;
                                                                                                                                                        byte[] bArr6 = tLRPC$TL_document8.file_reference;
                                                                                                                                                        tLRPC$TL_inputDocument2.file_reference = bArr6;
                                                                                                                                                        if (bArr6 == null) {
                                                                                                                                                            tLRPC$TL_inputDocument2.file_reference = new byte[0];
                                                                                                                                                        }
                                                                                                                                                        if (hashMap != null && hashMap.containsKey("query")) {
                                                                                                                                                            tLRPC$TL_inputMediaDocument5.query = hashMap.get("query");
                                                                                                                                                            tLRPC$TL_inputMediaDocument5.flags |= 2;
                                                                                                                                                        }
                                                                                                                                                        tLRPC$TL_inputMediaDocument5.spoiler = z24;
                                                                                                                                                        z7 = false;
                                                                                                                                                        tLRPC$TL_inputMediaDocument2 = tLRPC$TL_inputMediaDocument5;
                                                                                                                                                    }
                                                                                                                                                    if (tLRPC$TL_inputMediaUploadedDocument == null) {
                                                                                                                                                        if (delayedMessage2 == null) {
                                                                                                                                                            sendMessagesHelper3 = this;
                                                                                                                                                            delayedMessage2 = new DelayedMessage(j10);
                                                                                                                                                            delayedMessage2.type = 2;
                                                                                                                                                            delayedMessage2.obj = tLRPC$Message4;
                                                                                                                                                            str14 = str40;
                                                                                                                                                            delayedMessage2.originalPath = str14;
                                                                                                                                                            obj15 = obj14;
                                                                                                                                                            delayedMessage2.parentObject = obj15;
                                                                                                                                                            delayedMessage2.scheduled = i2 != 0;
                                                                                                                                                        } else {
                                                                                                                                                            sendMessagesHelper3 = this;
                                                                                                                                                            obj15 = obj14;
                                                                                                                                                            str14 = str40;
                                                                                                                                                        }
                                                                                                                                                        delayedMessage2.inputUploadMedia = tLRPC$TL_inputMediaUploadedDocument;
                                                                                                                                                        delayedMessage2.performMediaUpload = z7;
                                                                                                                                                        if (!tLRPC$TL_document8.thumbs.isEmpty()) {
                                                                                                                                                            TLRPC$PhotoSize tLRPC$PhotoSize4 = tLRPC$TL_document8.thumbs.get(0);
                                                                                                                                                            if (!(tLRPC$PhotoSize4 instanceof TLRPC$TL_photoStrippedSize)) {
                                                                                                                                                                delayedMessage2.photoSize = tLRPC$PhotoSize4;
                                                                                                                                                                delayedMessage2.locationParent = tLRPC$TL_document8;
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                    } else {
                                                                                                                                                        sendMessagesHelper3 = this;
                                                                                                                                                        obj15 = obj14;
                                                                                                                                                        str14 = str40;
                                                                                                                                                    }
                                                                                                                                                    tLRPC$InputMedia3 = tLRPC$TL_inputMediaDocument2;
                                                                                                                                                    tLRPC$Message14 = r6;
                                                                                                                                                    hashMap2 = hashMap;
                                                                                                                                                    c3 = c;
                                                                                                                                                    delayedMessage5 = delayedMessage2;
                                                                                                                                                    obj12 = obj15;
                                                                                                                                                    i9 = r6;
                                                                                                                                                    messageObject9 = tLRPC$Message4;
                                                                                                                                                }
                                                                                                                                            } else {
                                                                                                                                                obj14 = obj27;
                                                                                                                                            }
                                                                                                                                            tLRPC$TL_inputMediaUploadedDocument = new TLRPC$TL_inputMediaUploadedDocument();
                                                                                                                                            tLRPC$TL_inputMediaUploadedDocument.spoiler = z24;
                                                                                                                                            if (i42 != 0) {
                                                                                                                                                tLRPC$TL_inputMediaUploadedDocument.ttl_seconds = i42;
                                                                                                                                                r6.ttl = i42;
                                                                                                                                                tLRPC$TL_inputMediaUploadedDocument.flags |= 2;
                                                                                                                                            }
                                                                                                                                            if (z3 || (!TextUtils.isEmpty(str25) && str25.toLowerCase().endsWith("mp4") && (hashMap == null || hashMap.containsKey("forceDocument")))) {
                                                                                                                                                tLRPC$TL_inputMediaUploadedDocument.nosound_video = true;
                                                                                                                                            }
                                                                                                                                            tLRPC$TL_inputMediaUploadedDocument.force_file = hashMap != null && hashMap.containsKey("forceDocument");
                                                                                                                                            tLRPC$TL_inputMediaUploadedDocument.mime_type = tLRPC$TL_document8.mime_type;
                                                                                                                                            tLRPC$TL_inputMediaUploadedDocument.attributes = tLRPC$TL_document8.attributes;
                                                                                                                                            if (tLRPC$TL_document8.access_hash != 0) {
                                                                                                                                            }
                                                                                                                                            if (tLRPC$TL_inputMediaUploadedDocument == null) {
                                                                                                                                            }
                                                                                                                                            tLRPC$InputMedia3 = tLRPC$TL_inputMediaDocument2;
                                                                                                                                            tLRPC$Message14 = r6;
                                                                                                                                            hashMap2 = hashMap;
                                                                                                                                            c3 = c;
                                                                                                                                            delayedMessage5 = delayedMessage2;
                                                                                                                                            obj12 = obj15;
                                                                                                                                            i9 = r6;
                                                                                                                                            messageObject9 = tLRPC$Message4;
                                                                                                                                        } catch (Exception e29) {
                                                                                                                                            e = e29;
                                                                                                                                            exc = e;
                                                                                                                                            tLRPC$Message13 = r6;
                                                                                                                                            messageObject10 = tLRPC$Message4;
                                                                                                                                            messageObject = messageObject10;
                                                                                                                                            tLRPC$Message2 = tLRPC$Message13;
                                                                                                                                            FileLog.e(exc);
                                                                                                                                            getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                                            if (messageObject != null) {
                                                                                                                                            }
                                                                                                                                            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                                            processSentMessage(tLRPC$Message2.id);
                                                                                                                                            return;
                                                                                                                                        }
                                                                                                                                    } else if (c == '\b') {
                                                                                                                                        try {
                                                                                                                                            TLRPC$InputMedia tLRPC$TL_inputMediaUploadedDocument3 = new TLRPC$TL_inputMediaUploadedDocument();
                                                                                                                                            tLRPC$TL_inputMediaUploadedDocument3.mime_type = tLRPC$TL_document8.mime_type;
                                                                                                                                            tLRPC$TL_inputMediaUploadedDocument3.attributes = tLRPC$TL_document8.attributes;
                                                                                                                                            tLRPC$TL_inputMediaUploadedDocument3.spoiler = z24;
                                                                                                                                            if (i42 != 0) {
                                                                                                                                                tLRPC$TL_inputMediaUploadedDocument3.ttl_seconds = i42;
                                                                                                                                                TLRPC$Message tLRPC$Message24 = tLRPC$Message23;
                                                                                                                                                tLRPC$Message24.ttl = i42;
                                                                                                                                                tLRPC$TL_inputMediaUploadedDocument3.flags |= 2;
                                                                                                                                                tLRPC$Message16 = tLRPC$Message24;
                                                                                                                                            } else {
                                                                                                                                                tLRPC$Message16 = tLRPC$Message23;
                                                                                                                                            }
                                                                                                                                            if (tLRPC$TL_document8.access_hash == 0) {
                                                                                                                                                tLRPC$TL_inputMediaDocument3 = tLRPC$TL_inputMediaUploadedDocument3;
                                                                                                                                                obj16 = obj27;
                                                                                                                                                z8 = true;
                                                                                                                                            } else {
                                                                                                                                                TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument6 = new TLRPC$TL_inputMediaDocument();
                                                                                                                                                TLRPC$TL_inputDocument tLRPC$TL_inputDocument3 = new TLRPC$TL_inputDocument();
                                                                                                                                                tLRPC$TL_inputMediaDocument6.id = tLRPC$TL_inputDocument3;
                                                                                                                                                obj16 = obj27;
                                                                                                                                                tLRPC$TL_inputDocument3.id = tLRPC$TL_document8.id;
                                                                                                                                                tLRPC$TL_inputDocument3.access_hash = tLRPC$TL_document8.access_hash;
                                                                                                                                                byte[] bArr7 = tLRPC$TL_document8.file_reference;
                                                                                                                                                tLRPC$TL_inputDocument3.file_reference = bArr7;
                                                                                                                                                if (bArr7 == null) {
                                                                                                                                                    tLRPC$TL_inputDocument3.file_reference = new byte[0];
                                                                                                                                                }
                                                                                                                                                if (hashMap != null && hashMap.containsKey("query")) {
                                                                                                                                                    tLRPC$TL_inputMediaDocument6.query = hashMap.get("query");
                                                                                                                                                    tLRPC$TL_inputMediaDocument6.flags |= 2;
                                                                                                                                                }
                                                                                                                                                tLRPC$TL_inputMediaDocument6.spoiler = z24;
                                                                                                                                                z8 = false;
                                                                                                                                                tLRPC$TL_inputMediaDocument3 = tLRPC$TL_inputMediaDocument6;
                                                                                                                                            }
                                                                                                                                            DelayedMessage delayedMessage9 = new DelayedMessage(j10);
                                                                                                                                            delayedMessage9.type = 3;
                                                                                                                                            delayedMessage9.obj = tLRPC$Message4;
                                                                                                                                            Object obj28 = obj16;
                                                                                                                                            delayedMessage9.parentObject = obj28;
                                                                                                                                            delayedMessage9.inputUploadMedia = tLRPC$TL_inputMediaUploadedDocument3;
                                                                                                                                            delayedMessage9.performMediaUpload = z8;
                                                                                                                                            delayedMessage9.scheduled = i2 != 0;
                                                                                                                                            tLRPC$InputMedia3 = tLRPC$TL_inputMediaDocument3;
                                                                                                                                            tLRPC$Message14 = tLRPC$Message16;
                                                                                                                                            hashMap2 = hashMap;
                                                                                                                                            c3 = c;
                                                                                                                                            delayedMessage5 = delayedMessage9;
                                                                                                                                            obj12 = obj28;
                                                                                                                                            sendMessagesHelper3 = sendMessagesHelper2;
                                                                                                                                            str14 = str40;
                                                                                                                                            z7 = z8;
                                                                                                                                            i9 = tLRPC$Message16;
                                                                                                                                            messageObject9 = tLRPC$Message4;
                                                                                                                                        } catch (Exception e30) {
                                                                                                                                            e = e30;
                                                                                                                                            r6 = tLRPC$Message23;
                                                                                                                                            exc = e;
                                                                                                                                            tLRPC$Message13 = r6;
                                                                                                                                            messageObject10 = tLRPC$Message4;
                                                                                                                                            messageObject = messageObject10;
                                                                                                                                            tLRPC$Message2 = tLRPC$Message13;
                                                                                                                                            FileLog.e(exc);
                                                                                                                                            getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                                            if (messageObject != null) {
                                                                                                                                            }
                                                                                                                                            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                                            processSentMessage(tLRPC$Message2.id);
                                                                                                                                            return;
                                                                                                                                        }
                                                                                                                                    } else {
                                                                                                                                        str = str40;
                                                                                                                                        TLRPC$Message tLRPC$Message25 = tLRPC$Message23;
                                                                                                                                        if (c == '\n') {
                                                                                                                                            ?? tLRPC$TL_inputMediaPoll = new TLRPC$TL_inputMediaPoll();
                                                                                                                                            TLRPC$TL_messageMediaPoll tLRPC$TL_messageMediaPoll5 = tLRPC$TL_messageMediaPoll;
                                                                                                                                            tLRPC$TL_inputMediaPoll.poll = tLRPC$TL_messageMediaPoll5.poll;
                                                                                                                                            if (hashMap != null && hashMap.containsKey("answers")) {
                                                                                                                                                byte[] hexToBytes = Utilities.hexToBytes(hashMap.get("answers"));
                                                                                                                                                if (hexToBytes.length > 0) {
                                                                                                                                                    for (int i43 = 0; i43 < hexToBytes.length; i43++) {
                                                                                                                                                        tLRPC$Message17 = 0;
                                                                                                                                                        tLRPC$Message17 = 0;
                                                                                                                                                        tLRPC$Message17 = 0;
                                                                                                                                                        tLRPC$TL_inputMediaPoll.correct_answers.add(new byte[]{hexToBytes[i43]});
                                                                                                                                                    }
                                                                                                                                                    tLRPC$TL_inputMediaPoll.flags |= 1;
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                            TLRPC$PollResults tLRPC$PollResults = tLRPC$TL_messageMediaPoll5.results;
                                                                                                                                            tLRPC$TL_inputMediaStory2 = tLRPC$TL_inputMediaPoll;
                                                                                                                                            if (tLRPC$PollResults != null) {
                                                                                                                                                tLRPC$TL_inputMediaStory2 = tLRPC$TL_inputMediaPoll;
                                                                                                                                                if (!TextUtils.isEmpty(tLRPC$PollResults.solution)) {
                                                                                                                                                    TLRPC$PollResults tLRPC$PollResults2 = tLRPC$TL_messageMediaPoll5.results;
                                                                                                                                                    tLRPC$TL_inputMediaPoll.solution = tLRPC$PollResults2.solution;
                                                                                                                                                    tLRPC$TL_inputMediaPoll.solution_entities = tLRPC$PollResults2.solution_entities;
                                                                                                                                                    tLRPC$TL_inputMediaPoll.flags |= 2;
                                                                                                                                                    tLRPC$TL_inputMediaStory2 = tLRPC$TL_inputMediaPoll;
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                        } else if (c == 11) {
                                                                                                                                            ?? tLRPC$TL_inputMediaDice = new TLRPC$TL_inputMediaDice();
                                                                                                                                            tLRPC$TL_inputMediaDice.emoticon = str7;
                                                                                                                                            tLRPC$TL_inputMediaStory2 = tLRPC$TL_inputMediaDice;
                                                                                                                                        } else if (c == '\f') {
                                                                                                                                            TLRPC$TL_inputMediaStory tLRPC$TL_inputMediaStory4 = new TLRPC$TL_inputMediaStory();
                                                                                                                                            TL_stories$StoryItem tL_stories$StoryItem9 = tL_stories$StoryItem7;
                                                                                                                                            tLRPC$TL_inputMediaStory4.id = tL_stories$StoryItem9.id;
                                                                                                                                            tLRPC$TL_inputMediaStory4.peer = MessagesController.getInstance(sendMessagesHelper2.currentAccount).getInputPeer(tL_stories$StoryItem9.dialogId);
                                                                                                                                            tLRPC$TL_inputMediaStory2 = tLRPC$TL_inputMediaStory4;
                                                                                                                                        } else {
                                                                                                                                            tLRPC$Message14 = tLRPC$Message25;
                                                                                                                                            hashMap2 = hashMap;
                                                                                                                                            c3 = c;
                                                                                                                                            z7 = false;
                                                                                                                                            tLRPC$TL_inputMediaStory = null;
                                                                                                                                            delayedMessage5 = delayedMessage2;
                                                                                                                                            obj12 = obj27;
                                                                                                                                            tLRPC$TL_inputMediaStory3 = tLRPC$TL_inputMediaStory;
                                                                                                                                            tLRPC$Message18 = tLRPC$Message25;
                                                                                                                                            messageObject11 = tLRPC$Message4;
                                                                                                                                        }
                                                                                                                                        tLRPC$Message14 = tLRPC$Message25;
                                                                                                                                        hashMap2 = hashMap;
                                                                                                                                        c3 = c;
                                                                                                                                        z7 = false;
                                                                                                                                        tLRPC$TL_inputMediaStory = tLRPC$TL_inputMediaStory2;
                                                                                                                                        delayedMessage5 = delayedMessage2;
                                                                                                                                        obj12 = obj27;
                                                                                                                                        tLRPC$TL_inputMediaStory3 = tLRPC$TL_inputMediaStory;
                                                                                                                                        tLRPC$Message18 = tLRPC$Message25;
                                                                                                                                        messageObject11 = tLRPC$Message4;
                                                                                                                                    }
                                                                                                                                    if (j6 != 0) {
                                                                                                                                        TLObject tLObject2 = delayedMessage5.sendRequest;
                                                                                                                                        if (tLObject2 != null) {
                                                                                                                                            i9 = i2;
                                                                                                                                            tLRPC$TL_messages_sendMedia2 = (TLRPC$TL_messages_sendMultiMedia) tLObject2;
                                                                                                                                        } else {
                                                                                                                                            TLRPC$TL_messages_sendMultiMedia tLRPC$TL_messages_sendMultiMedia = new TLRPC$TL_messages_sendMultiMedia();
                                                                                                                                            tLRPC$TL_messages_sendMultiMedia.peer = tLRPC$InputPeer7;
                                                                                                                                            tLRPC$TL_messages_sendMultiMedia.silent = tLRPC$Message14.silent;
                                                                                                                                            if (tLRPC$Message14.replyStory != null) {
                                                                                                                                                tLRPC$TL_messages_sendMultiMedia.flags |= 1;
                                                                                                                                                tLRPC$TL_messages_sendMultiMedia.reply_to = sendMessagesHelper3.createReplyInput(tL_stories$StoryItem3);
                                                                                                                                            } else {
                                                                                                                                                TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader6 = tLRPC$Message14.reply_to;
                                                                                                                                                if (tLRPC$MessageReplyHeader6 instanceof TLRPC$TL_messageReplyHeader) {
                                                                                                                                                    tLRPC$TL_messages_sendMultiMedia.flags |= 1;
                                                                                                                                                    tLRPC$TL_messages_sendMultiMedia.reply_to = sendMessagesHelper3.createReplyInput((TLRPC$TL_messageReplyHeader) tLRPC$MessageReplyHeader6);
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                            if (i2 != 0) {
                                                                                                                                                i9 = i2;
                                                                                                                                                tLRPC$TL_messages_sendMultiMedia.schedule_date = i9;
                                                                                                                                                tLRPC$TL_messages_sendMultiMedia.flags |= 1024;
                                                                                                                                            } else {
                                                                                                                                                i9 = i2;
                                                                                                                                            }
                                                                                                                                            delayedMessage5.sendRequest = tLRPC$TL_messages_sendMultiMedia;
                                                                                                                                            tLRPC$TL_messages_sendMedia2 = tLRPC$TL_messages_sendMultiMedia;
                                                                                                                                        }
                                                                                                                                        delayedMessage5.messageObjects.add(messageObject9);
                                                                                                                                        obj17 = obj12;
                                                                                                                                        delayedMessage5.parentObjects.add(obj17);
                                                                                                                                        delayedMessage5.locations.add(delayedMessage5.photoSize);
                                                                                                                                        delayedMessage5.videoEditedInfos.add(delayedMessage5.videoEditedInfo);
                                                                                                                                        delayedMessage5.httpLocations.add(delayedMessage5.httpLocation);
                                                                                                                                        delayedMessage5.inputMedias.add(delayedMessage5.inputUploadMedia);
                                                                                                                                        delayedMessage5.messages.add(tLRPC$Message14);
                                                                                                                                        delayedMessage5.originalPaths.add(str14);
                                                                                                                                        TLRPC$TL_inputSingleMedia tLRPC$TL_inputSingleMedia = new TLRPC$TL_inputSingleMedia();
                                                                                                                                        ?? r13 = tLRPC$Message14.random_id;
                                                                                                                                        tLRPC$TL_inputSingleMedia.random_id = r13;
                                                                                                                                        tLRPC$TL_inputSingleMedia.media = tLRPC$InputMedia3;
                                                                                                                                        tLRPC$TL_inputSingleMedia.message = str2;
                                                                                                                                        i14 = r13;
                                                                                                                                        if (arrayList != null) {
                                                                                                                                            i14 = r13;
                                                                                                                                            if (!arrayList.isEmpty()) {
                                                                                                                                                ArrayList<TLRPC$MessageEntity> arrayList11 = arrayList;
                                                                                                                                                tLRPC$TL_inputSingleMedia.entities = arrayList11;
                                                                                                                                                tLRPC$TL_inputSingleMedia.flags |= 1;
                                                                                                                                                i14 = arrayList11;
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                        tLRPC$TL_messages_sendMedia2.multi_media.add(tLRPC$TL_inputSingleMedia);
                                                                                                                                    } else {
                                                                                                                                        obj17 = obj12;
                                                                                                                                        i14 = arrayList;
                                                                                                                                        String str41 = str2;
                                                                                                                                        TL_stories$StoryItem tL_stories$StoryItem10 = tL_stories$StoryItem3;
                                                                                                                                        TLRPC$InputPeer tLRPC$InputPeer9 = tLRPC$InputPeer7;
                                                                                                                                        i9 = i2;
                                                                                                                                        try {
                                                                                                                                            tLRPC$TL_messages_sendMedia2 = new TLRPC$TL_messages_sendMedia();
                                                                                                                                            tLRPC$TL_messages_sendMedia2.peer = tLRPC$InputPeer9;
                                                                                                                                            tLRPC$TL_messages_sendMedia2.silent = tLRPC$Message14.silent;
                                                                                                                                            if (messageObject8 != null) {
                                                                                                                                                messageObject8.getId();
                                                                                                                                            }
                                                                                                                                            if (tL_stories$StoryItem10 != null) {
                                                                                                                                                tLRPC$TL_messages_sendMedia2.reply_to = sendMessagesHelper3.createReplyInput(tL_stories$StoryItem10);
                                                                                                                                                tLRPC$TL_messages_sendMedia2.flags |= 1;
                                                                                                                                            } else {
                                                                                                                                                TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader7 = tLRPC$Message14.reply_to;
                                                                                                                                                if (tLRPC$MessageReplyHeader7 instanceof TLRPC$TL_messageReplyHeader) {
                                                                                                                                                    tLRPC$Message17 = 1;
                                                                                                                                                    tLRPC$TL_messages_sendMedia2.flags |= 1;
                                                                                                                                                    tLRPC$TL_messages_sendMedia2.reply_to = sendMessagesHelper3.createReplyInput((TLRPC$TL_messageReplyHeader) tLRPC$MessageReplyHeader7);
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                            tLRPC$TL_messages_sendMedia2.random_id = tLRPC$Message14.random_id;
                                                                                                                                            if (tLRPC$Message14.from_id != null) {
                                                                                                                                                tLRPC$TL_messages_sendMedia2.send_as = getMessagesController().getInputPeer(tLRPC$Message14.from_id);
                                                                                                                                            }
                                                                                                                                            tLRPC$TL_messages_sendMedia2.media = tLRPC$InputMedia3;
                                                                                                                                            tLRPC$TL_messages_sendMedia2.message = str41;
                                                                                                                                            if (i14 != null && !i14.isEmpty()) {
                                                                                                                                                tLRPC$TL_messages_sendMedia2.entities = i14;
                                                                                                                                                tLRPC$TL_messages_sendMedia2.flags |= 8;
                                                                                                                                            }
                                                                                                                                            if (i9 != 0) {
                                                                                                                                                tLRPC$TL_messages_sendMedia2.schedule_date = i9;
                                                                                                                                                tLRPC$TL_messages_sendMedia2.flags |= 1024;
                                                                                                                                            }
                                                                                                                                            if (z17 && SharedConfig.updateStickersOrderOnSend) {
                                                                                                                                                tLRPC$TL_messages_sendMedia2.update_stickersets_order = true;
                                                                                                                                            }
                                                                                                                                            if (delayedMessage5 != null) {
                                                                                                                                                delayedMessage5.sendRequest = tLRPC$TL_messages_sendMedia2;
                                                                                                                                            }
                                                                                                                                        } catch (Exception e31) {
                                                                                                                                            e = e31;
                                                                                                                                            tLRPC$Message11 = tLRPC$Message14;
                                                                                                                                            messageObject = messageObject9;
                                                                                                                                            exc = e;
                                                                                                                                            i2 = i9;
                                                                                                                                            tLRPC$Message8 = tLRPC$Message11;
                                                                                                                                            tLRPC$Message2 = tLRPC$Message8;
                                                                                                                                            FileLog.e(exc);
                                                                                                                                            getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                                            if (messageObject != null) {
                                                                                                                                            }
                                                                                                                                            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                                            processSentMessage(tLRPC$Message2.id);
                                                                                                                                            return;
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                    TLObject tLObject3 = tLRPC$TL_messages_sendMedia2;
                                                                                                                                    if (j6 != 0) {
                                                                                                                                        sendMessagesHelper3.performSendDelayedMessage(delayedMessage5);
                                                                                                                                    } else {
                                                                                                                                        char c7 = c3;
                                                                                                                                        try {
                                                                                                                                            if (c7 == 1) {
                                                                                                                                                i14 = i9;
                                                                                                                                                tLRPC$Message17 = tLRPC$Message14;
                                                                                                                                                performSendMessageRequest(tLObject3, messageObject9, null, delayedMessage5, obj17, hashMap2, i9 != 0);
                                                                                                                                            } else {
                                                                                                                                                int i44 = i9;
                                                                                                                                                tLRPC$Message17 = tLRPC$Message14;
                                                                                                                                                if (c7 != 2) {
                                                                                                                                                    String str42 = str14;
                                                                                                                                                    HashMap<String, String> hashMap6 = hashMap2;
                                                                                                                                                    MessageObject messageObject20 = messageObject9;
                                                                                                                                                    SendMessagesHelper sendMessagesHelper5 = sendMessagesHelper3;
                                                                                                                                                    if (c7 == 3) {
                                                                                                                                                        if (z7) {
                                                                                                                                                            sendMessagesHelper5.performSendDelayedMessage(delayedMessage5);
                                                                                                                                                        } else {
                                                                                                                                                            performSendMessageRequest(tLObject3, messageObject20, str42, delayedMessage5, obj17, hashMap6, i44 != 0);
                                                                                                                                                        }
                                                                                                                                                    } else if (c7 == 6) {
                                                                                                                                                        performSendMessageRequest(tLObject3, messageObject20, str42, delayedMessage5, obj17, hashMap6, i44 != 0);
                                                                                                                                                    } else if (c7 == 7) {
                                                                                                                                                        if (z7 && delayedMessage5 != null) {
                                                                                                                                                            sendMessagesHelper5.performSendDelayedMessage(delayedMessage5);
                                                                                                                                                        } else {
                                                                                                                                                            performSendMessageRequest(tLObject3, messageObject20, str42, delayedMessage5, obj17, hashMap6, i44 != 0);
                                                                                                                                                        }
                                                                                                                                                    } else if (c7 == '\b') {
                                                                                                                                                        if (z7) {
                                                                                                                                                            sendMessagesHelper5.performSendDelayedMessage(delayedMessage5);
                                                                                                                                                        } else {
                                                                                                                                                            performSendMessageRequest(tLObject3, messageObject20, str42, delayedMessage5, obj17, hashMap6, i44 != 0);
                                                                                                                                                        }
                                                                                                                                                    } else if (c7 == '\n' || c7 == 11 || c7 == '\f') {
                                                                                                                                                        performSendMessageRequest(tLObject3, messageObject20, str42, delayedMessage5, obj17, hashMap6, i44 != 0);
                                                                                                                                                    }
                                                                                                                                                } else if (z7) {
                                                                                                                                                    sendMessagesHelper3.performSendDelayedMessage(delayedMessage5);
                                                                                                                                                    i14 = i44;
                                                                                                                                                } else {
                                                                                                                                                    String str43 = str14;
                                                                                                                                                    MessageObject messageObject21 = messageObject9;
                                                                                                                                                    try {
                                                                                                                                                        performSendMessageRequest(tLObject3, messageObject9, str43, null, true, delayedMessage5, obj17, hashMap2, i44 != 0);
                                                                                                                                                    } catch (Exception e32) {
                                                                                                                                                        exc = e32;
                                                                                                                                                        messageObject = messageObject21;
                                                                                                                                                        i8 = i44;
                                                                                                                                                        tLRPC$Message9 = tLRPC$Message17;
                                                                                                                                                        i2 = i8;
                                                                                                                                                        tLRPC$Message8 = tLRPC$Message9;
                                                                                                                                                        tLRPC$Message2 = tLRPC$Message8;
                                                                                                                                                        FileLog.e(exc);
                                                                                                                                                        getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                                                        if (messageObject != null) {
                                                                                                                                                        }
                                                                                                                                                        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                                                        processSentMessage(tLRPC$Message2.id);
                                                                                                                                                        return;
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                        } catch (Exception e33) {
                                                                                                                                            exc = e33;
                                                                                                                                            messageObject = messageObject9;
                                                                                                                                            i8 = i14;
                                                                                                                                            tLRPC$Message9 = tLRPC$Message17;
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            } catch (Exception e34) {
                                                                                                                                exc = e34;
                                                                                                                                messageObject = tLRPC$Message4;
                                                                                                                            }
                                                                                                                        }
                                                                                                                        delayedMessage5 = delayedMessage2;
                                                                                                                        tLRPC$InputMedia3 = tLRPC$InputMedia2;
                                                                                                                        i9 = i13;
                                                                                                                        messageObject9 = messageObject9;
                                                                                                                        if (j6 != 0) {
                                                                                                                        }
                                                                                                                        TLObject tLObject32 = tLRPC$TL_messages_sendMedia2;
                                                                                                                        if (j6 != 0) {
                                                                                                                        }
                                                                                                                    } catch (Exception e35) {
                                                                                                                        e = e35;
                                                                                                                    }
                                                                                                                }
                                                                                                                if (j6 != 0) {
                                                                                                                }
                                                                                                                TLObject tLObject322 = tLRPC$TL_messages_sendMedia2;
                                                                                                                if (j6 != 0) {
                                                                                                                }
                                                                                                            } catch (Exception e36) {
                                                                                                                exc = e36;
                                                                                                                i2 = i9;
                                                                                                                tLRPC$Message13 = tLRPC$Message14;
                                                                                                                messageObject10 = messageObject9;
                                                                                                                messageObject = messageObject10;
                                                                                                                tLRPC$Message2 = tLRPC$Message13;
                                                                                                                FileLog.e(exc);
                                                                                                                getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                if (messageObject != null) {
                                                                                                                }
                                                                                                                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                processSentMessage(tLRPC$Message2.id);
                                                                                                                return;
                                                                                                            }
                                                                                                            sendMessagesHelper3 = sendMessagesHelper2;
                                                                                                            str14 = str;
                                                                                                            tLRPC$InputMedia3 = tLRPC$TL_inputMediaStory3;
                                                                                                            i9 = tLRPC$Message18;
                                                                                                            messageObject9 = messageObject11;
                                                                                                        }
                                                                                                        return;
                                                                                                    }
                                                                                                    if ((c >= 5 || c > '\b') && ((c != '\t' || tLRPC$EncryptedChat2 == null) && c != '\n' && c != 11 && c != '\f')) {
                                                                                                        try {
                                                                                                            if (c == 4) {
                                                                                                                MessageObject messageObject22 = messageObject4;
                                                                                                                int i45 = i2;
                                                                                                                if (c == '\t') {
                                                                                                                    TLRPC$TL_messages_sendInlineBotResult tLRPC$TL_messages_sendInlineBotResult = new TLRPC$TL_messages_sendInlineBotResult();
                                                                                                                    tLRPC$TL_messages_sendInlineBotResult.peer = tLRPC$InputPeer6;
                                                                                                                    tLRPC$TL_messages_sendInlineBotResult.random_id = tLRPC$Message4.random_id;
                                                                                                                    if (tLRPC$Message4.from_id != null) {
                                                                                                                        tLRPC$TL_messages_sendInlineBotResult.send_as = getMessagesController().getInputPeer(tLRPC$Message4.from_id);
                                                                                                                    }
                                                                                                                    tLRPC$TL_messages_sendInlineBotResult.hide_via = !hashMap.containsKey(obj7);
                                                                                                                    if (tL_stories$StoryItem2 != null) {
                                                                                                                        tLRPC$TL_messages_sendInlineBotResult.reply_to = sendMessagesHelper2.createReplyInput(tL_stories$StoryItem2);
                                                                                                                        tLRPC$TL_messages_sendInlineBotResult.flags |= 1;
                                                                                                                    } else {
                                                                                                                        TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader8 = tLRPC$Message4.reply_to;
                                                                                                                        if (tLRPC$MessageReplyHeader8 instanceof TLRPC$TL_messageReplyHeader) {
                                                                                                                            tLRPC$TL_messages_sendInlineBotResult.flags |= 1;
                                                                                                                            tLRPC$TL_messages_sendInlineBotResult.reply_to = sendMessagesHelper2.createReplyInput((TLRPC$TL_messageReplyHeader) tLRPC$MessageReplyHeader8);
                                                                                                                        }
                                                                                                                    }
                                                                                                                    tLRPC$TL_messages_sendInlineBotResult.silent = tLRPC$Message4.silent;
                                                                                                                    if (i45 != 0) {
                                                                                                                        tLRPC$TL_messages_sendInlineBotResult.schedule_date = i45;
                                                                                                                        tLRPC$TL_messages_sendInlineBotResult.flags |= 1024;
                                                                                                                    }
                                                                                                                    tLRPC$TL_messages_sendInlineBotResult.query_id = Utilities.parseLong(hashMap.get(obj5)).longValue();
                                                                                                                    tLRPC$TL_messages_sendInlineBotResult.id = hashMap.get("id");
                                                                                                                    if (messageObject22 == null) {
                                                                                                                        tLRPC$TL_messages_sendInlineBotResult.clear_draft = true;
                                                                                                                        getMediaDataController().cleanDraft(j10, messageObject5 != null ? messageObject5.getId() : 0, false);
                                                                                                                    }
                                                                                                                    tLRPC$InputPeer6 = i45;
                                                                                                                    performSendMessageRequest(tLRPC$TL_messages_sendInlineBotResult, messageObject, null, null, obj4, hashMap, i45 != 0);
                                                                                                                }
                                                                                                                return;
                                                                                                            }
                                                                                                            TLRPC$TL_messages_forwardMessages tLRPC$TL_messages_forwardMessages = new TLRPC$TL_messages_forwardMessages();
                                                                                                            tLRPC$TL_messages_forwardMessages.to_peer = tLRPC$InputPeer6;
                                                                                                            MessageObject messageObject23 = messageObject4;
                                                                                                            tLRPC$TL_messages_forwardMessages.with_my_score = messageObject23.messageOwner.with_my_score;
                                                                                                            if (messageObject5 != null) {
                                                                                                                tLRPC$TL_messages_forwardMessages.top_msg_id = messageObject5.getId();
                                                                                                                tLRPC$TL_messages_forwardMessages.flags |= LiteMode.FLAG_CALLS_ANIMATIONS;
                                                                                                            }
                                                                                                            if (hashMap != null && hashMap.containsKey("fwd_id")) {
                                                                                                                int intValue = Utilities.parseInt((CharSequence) hashMap.get("fwd_id")).intValue();
                                                                                                                tLRPC$TL_messages_forwardMessages.drop_author = true;
                                                                                                                long longValue = Utilities.parseLong(hashMap.get("fwd_peer")).longValue();
                                                                                                                if (longValue < 0) {
                                                                                                                    TLRPC$Chat chat2 = getMessagesController().getChat(Long.valueOf(-longValue));
                                                                                                                    if (ChatObject.isChannel(chat2)) {
                                                                                                                        TLRPC$TL_inputPeerChannel tLRPC$TL_inputPeerChannel = new TLRPC$TL_inputPeerChannel();
                                                                                                                        tLRPC$TL_messages_forwardMessages.from_peer = tLRPC$TL_inputPeerChannel;
                                                                                                                        tLRPC$TL_inputPeerChannel.channel_id = chat2.id;
                                                                                                                        tLRPC$TL_inputPeerChannel.access_hash = chat2.access_hash;
                                                                                                                    } else {
                                                                                                                        tLRPC$TL_messages_forwardMessages.from_peer = new TLRPC$TL_inputPeerEmpty();
                                                                                                                    }
                                                                                                                } else {
                                                                                                                    tLRPC$TL_messages_forwardMessages.from_peer = new TLRPC$TL_inputPeerEmpty();
                                                                                                                }
                                                                                                                tLRPC$TL_messages_forwardMessages.id.add(Integer.valueOf(intValue));
                                                                                                            } else {
                                                                                                                tLRPC$TL_messages_forwardMessages.from_peer = new TLRPC$TL_inputPeerEmpty();
                                                                                                            }
                                                                                                            tLRPC$TL_messages_forwardMessages.silent = tLRPC$Message4.silent;
                                                                                                            if (i2 != 0) {
                                                                                                                i11 = i2;
                                                                                                                try {
                                                                                                                    tLRPC$TL_messages_forwardMessages.schedule_date = i11;
                                                                                                                    tLRPC$TL_messages_forwardMessages.flags |= 1024;
                                                                                                                } catch (Exception e37) {
                                                                                                                    exc = e37;
                                                                                                                    i2 = i11;
                                                                                                                    tLRPC$Message2 = tLRPC$Message4;
                                                                                                                    FileLog.e(exc);
                                                                                                                    getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                                    if (messageObject != null) {
                                                                                                                    }
                                                                                                                    getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                                    processSentMessage(tLRPC$Message2.id);
                                                                                                                    return;
                                                                                                                }
                                                                                                            } else {
                                                                                                                i11 = i2;
                                                                                                            }
                                                                                                            tLRPC$TL_messages_forwardMessages.random_id.add(Long.valueOf(tLRPC$Message4.random_id));
                                                                                                            if (messageObject23.getId() >= 0) {
                                                                                                                tLRPC$TL_messages_forwardMessages.id.add(Integer.valueOf(messageObject23.getId()));
                                                                                                            } else {
                                                                                                                TLRPC$Message tLRPC$Message26 = messageObject23.messageOwner;
                                                                                                                int i46 = tLRPC$Message26.fwd_msg_id;
                                                                                                                if (i46 != 0) {
                                                                                                                    tLRPC$TL_messages_forwardMessages.id.add(Integer.valueOf(i46));
                                                                                                                } else {
                                                                                                                    TLRPC$MessageFwdHeader tLRPC$MessageFwdHeader2 = tLRPC$Message26.fwd_from;
                                                                                                                    if (tLRPC$MessageFwdHeader2 != null) {
                                                                                                                        tLRPC$TL_messages_forwardMessages.id.add(Integer.valueOf(tLRPC$MessageFwdHeader2.channel_post));
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                            tLRPC$InputPeer6 = i11;
                                                                                                            performSendMessageRequest(tLRPC$TL_messages_forwardMessages, messageObject, null, null, obj4, hashMap, i11 != 0);
                                                                                                            return;
                                                                                                        } catch (Exception e38) {
                                                                                                            exc = e38;
                                                                                                            i2 = tLRPC$InputPeer6;
                                                                                                        }
                                                                                                    }
                                                                                                    if (tLRPC$EncryptedChat2 == null) {
                                                                                                    }
                                                                                                    return;
                                                                                                } catch (Exception e39) {
                                                                                                    e = e39;
                                                                                                }
                                                                                                TL_stories$StoryItem tL_stories$StoryItem82 = tL_stories$StoryItem2;
                                                                                                MessageObject messageObject182 = messageObject4;
                                                                                                int i322 = i2;
                                                                                            } catch (Exception e40) {
                                                                                                exc = e40;
                                                                                                i2 = i7;
                                                                                            }
                                                                                        }
                                                                                        MessageObject messageObject24 = messageObject5;
                                                                                        TLRPC$InputPeer tLRPC$InputPeer10 = tLRPC$InputPeer6;
                                                                                        TLRPC$Message tLRPC$Message27 = tLRPC$Message4;
                                                                                        tLRPC$EncryptedChat3 = tLRPC$EncryptedChat2;
                                                                                        ArrayList<TLRPC$MessageEntity> arrayList12 = arrayList;
                                                                                        Object obj29 = obj4;
                                                                                        TL_stories$StoryItem tL_stories$StoryItem11 = tL_stories$StoryItem2;
                                                                                        String str44 = str7;
                                                                                        Object obj30 = obj6;
                                                                                        SendMessagesHelper sendMessagesHelper6 = sendMessagesHelper2;
                                                                                        HashMap<String, String> hashMap7 = hashMap;
                                                                                        if (tLRPC$EncryptedChat3 != null) {
                                                                                            tLRPC$Message5 = tLRPC$Message27;
                                                                                            MessageObject messageObject25 = messageObject4;
                                                                                            try {
                                                                                                TLRPC$TL_decryptedMessage tLRPC$TL_decryptedMessage = new TLRPC$TL_decryptedMessage();
                                                                                                tLRPC$TL_decryptedMessage.ttl = tLRPC$Message5.ttl;
                                                                                                if (arrayList12 != null && !arrayList12.isEmpty()) {
                                                                                                    tLRPC$TL_decryptedMessage.entities = arrayList12;
                                                                                                    tLRPC$TL_decryptedMessage.flags |= 128;
                                                                                                }
                                                                                                TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader9 = tLRPC$Message5.reply_to;
                                                                                                if (tLRPC$MessageReplyHeader9 != null) {
                                                                                                    long j15 = tLRPC$MessageReplyHeader9.reply_to_random_id;
                                                                                                    if (j15 != 0) {
                                                                                                        tLRPC$TL_decryptedMessage.reply_to_random_id = j15;
                                                                                                        tLRPC$TL_decryptedMessage.flags |= 8;
                                                                                                    }
                                                                                                }
                                                                                                if (hashMap7 != null && hashMap7.get(obj30) != null) {
                                                                                                    tLRPC$TL_decryptedMessage.via_bot_name = hashMap7.get(obj30);
                                                                                                    tLRPC$TL_decryptedMessage.flags |= LiteMode.FLAG_AUTOPLAY_GIFS;
                                                                                                }
                                                                                                tLRPC$TL_decryptedMessage.silent = tLRPC$Message5.silent;
                                                                                                tLRPC$TL_decryptedMessage.random_id = tLRPC$Message5.random_id;
                                                                                                tLRPC$TL_decryptedMessage.message = str44;
                                                                                                TLRPC$WebPage tLRPC$WebPage4 = tLRPC$WebPage;
                                                                                                if (tLRPC$WebPage4 != null && tLRPC$WebPage4.url != null) {
                                                                                                    TLRPC$TL_decryptedMessageMediaWebPage tLRPC$TL_decryptedMessageMediaWebPage = new TLRPC$TL_decryptedMessageMediaWebPage();
                                                                                                    tLRPC$TL_decryptedMessage.media = tLRPC$TL_decryptedMessageMediaWebPage;
                                                                                                    tLRPC$TL_decryptedMessageMediaWebPage.url = tLRPC$WebPage4.url;
                                                                                                    tLRPC$TL_decryptedMessage.flags |= LiteMode.FLAG_CALLS_ANIMATIONS;
                                                                                                } else {
                                                                                                    tLRPC$TL_decryptedMessage.media = new TLRPC$TL_decryptedMessageMediaEmpty();
                                                                                                }
                                                                                                getSecretChatHelper().performSendEncryptedRequest(tLRPC$TL_decryptedMessage, messageObject.messageOwner, tLRPC$EncryptedChat3, null, null, messageObject);
                                                                                                if (messageObject25 == null) {
                                                                                                    getMediaDataController().cleanDraft(j10, messageObject24 != null ? messageObject24.getId() : 0, false);
                                                                                                }
                                                                                            } catch (Exception e41) {
                                                                                                e = e41;
                                                                                                exc = e;
                                                                                                tLRPC$Message2 = tLRPC$Message5;
                                                                                                FileLog.e(exc);
                                                                                                getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                if (messageObject != null) {
                                                                                                }
                                                                                                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                processSentMessage(tLRPC$Message2.id);
                                                                                                return;
                                                                                            }
                                                                                        } else if (tLRPC$TL_messageMediaWebPage != null) {
                                                                                            try {
                                                                                                tLRPC$TL_messages_sendMedia = new TLRPC$TL_messages_sendMedia();
                                                                                                tLRPC$TL_messages_sendMedia.message = str44;
                                                                                                tLRPC$TL_messages_sendMedia.clear_draft = messageObject4 == null;
                                                                                                tLRPC$TL_messages_sendMedia.silent = tLRPC$Message27.silent;
                                                                                                tLRPC$TL_messages_sendMedia.peer = tLRPC$InputPeer10;
                                                                                                tLRPC$TL_messages_sendMedia.random_id = tLRPC$Message27.random_id;
                                                                                                TLRPC$TL_inputMediaWebPage tLRPC$TL_inputMediaWebPage = new TLRPC$TL_inputMediaWebPage();
                                                                                                TLRPC$TL_messageMediaWebPage tLRPC$TL_messageMediaWebPage5 = tLRPC$TL_messageMediaWebPage;
                                                                                                tLRPC$TL_inputMediaWebPage.url = tLRPC$TL_messageMediaWebPage5.webpage.url;
                                                                                                tLRPC$TL_inputMediaWebPage.force_large_media = tLRPC$TL_messageMediaWebPage5.force_large_media;
                                                                                                tLRPC$TL_inputMediaWebPage.force_small_media = tLRPC$TL_messageMediaWebPage5.force_small_media;
                                                                                                tLRPC$TL_messages_sendMedia.media = tLRPC$TL_inputMediaWebPage;
                                                                                                if (tL_stories$StoryItem11 != null) {
                                                                                                    tLRPC$TL_messages_sendMedia.reply_to = sendMessagesHelper6.createReplyInput(tL_stories$StoryItem11);
                                                                                                    tLRPC$TL_messages_sendMedia.flags |= 1;
                                                                                                } else {
                                                                                                    TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader10 = tLRPC$Message27.reply_to;
                                                                                                    if (tLRPC$MessageReplyHeader10 instanceof TLRPC$TL_messageReplyHeader) {
                                                                                                        tLRPC$TL_messages_sendMedia.reply_to = sendMessagesHelper6.createReplyInput((TLRPC$TL_messageReplyHeader) tLRPC$MessageReplyHeader10);
                                                                                                        tLRPC$TL_messages_sendMedia.flags |= 1;
                                                                                                    }
                                                                                                }
                                                                                                if (z17 && SharedConfig.updateStickersOrderOnSend) {
                                                                                                    tLRPC$TL_messages_sendMedia.update_stickersets_order = true;
                                                                                                }
                                                                                                if (tLRPC$Message27.from_id != null) {
                                                                                                    tLRPC$TL_messages_sendMedia.send_as = getMessagesController().getInputPeer(tLRPC$Message27.from_id);
                                                                                                }
                                                                                                if (arrayList12 != null && !arrayList12.isEmpty()) {
                                                                                                    tLRPC$TL_messages_sendMedia.entities = arrayList12;
                                                                                                    tLRPC$TL_messages_sendMedia.flags |= 8;
                                                                                                }
                                                                                                if (i2 != 0) {
                                                                                                    i9 = i2;
                                                                                                    try {
                                                                                                        tLRPC$TL_messages_sendMedia.schedule_date = i9;
                                                                                                        tLRPC$TL_messages_sendMedia.flags |= 1024;
                                                                                                    } catch (Exception e42) {
                                                                                                        exc = e42;
                                                                                                        i2 = i9;
                                                                                                        tLRPC$Message7 = tLRPC$Message27;
                                                                                                        tLRPC$Message2 = tLRPC$Message7;
                                                                                                        FileLog.e(exc);
                                                                                                        getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                        if (messageObject != null) {
                                                                                                        }
                                                                                                        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                        processSentMessage(tLRPC$Message2.id);
                                                                                                        return;
                                                                                                    }
                                                                                                } else {
                                                                                                    i9 = i2;
                                                                                                }
                                                                                            } catch (Exception e43) {
                                                                                                e = e43;
                                                                                                tLRPC$Message10 = tLRPC$Message27;
                                                                                                exc = e;
                                                                                                tLRPC$Message8 = tLRPC$Message10;
                                                                                                tLRPC$Message2 = tLRPC$Message8;
                                                                                                FileLog.e(exc);
                                                                                                getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                if (messageObject != null) {
                                                                                                }
                                                                                                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                processSentMessage(tLRPC$Message2.id);
                                                                                                return;
                                                                                            }
                                                                                            try {
                                                                                                tLRPC$TL_messages_sendMedia.invert_media = tLRPC$Message27.invert_media;
                                                                                                MessageObject messageObject26 = messageObject4;
                                                                                                performSendMessageRequest(tLRPC$TL_messages_sendMedia, messageObject, null, null, obj29, hashMap7, i9 != 0);
                                                                                                if (messageObject26 == null) {
                                                                                                    MediaDataController mediaDataController = getMediaDataController();
                                                                                                    if (messageObject24 != null) {
                                                                                                        i10 = messageObject24.getId();
                                                                                                        j7 = j10;
                                                                                                    } else {
                                                                                                        j7 = j10;
                                                                                                        i10 = 0;
                                                                                                    }
                                                                                                    mediaDataController.cleanDraft(j7, i10, false);
                                                                                                }
                                                                                            } catch (Exception e44) {
                                                                                                e = e44;
                                                                                                tLRPC$Message11 = tLRPC$Message27;
                                                                                                exc = e;
                                                                                                i2 = i9;
                                                                                                tLRPC$Message8 = tLRPC$Message11;
                                                                                                tLRPC$Message2 = tLRPC$Message8;
                                                                                                FileLog.e(exc);
                                                                                                getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                if (messageObject != null) {
                                                                                                }
                                                                                                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                processSentMessage(tLRPC$Message2.id);
                                                                                                return;
                                                                                            }
                                                                                        } else {
                                                                                            tLRPC$Message10 = tLRPC$Message27;
                                                                                            MessageObject messageObject27 = messageObject4;
                                                                                            int i47 = i2;
                                                                                            try {
                                                                                                TLRPC$TL_messages_sendMessage tLRPC$TL_messages_sendMessage = new TLRPC$TL_messages_sendMessage();
                                                                                                tLRPC$TL_messages_sendMessage.message = str44;
                                                                                                tLRPC$TL_messages_sendMessage.clear_draft = messageObject27 == null;
                                                                                                tLRPC$TL_messages_sendMessage.silent = tLRPC$Message10.silent;
                                                                                                tLRPC$TL_messages_sendMessage.peer = tLRPC$InputPeer10;
                                                                                                tLRPC$TL_messages_sendMessage.random_id = tLRPC$Message10.random_id;
                                                                                                if (tL_stories$StoryItem11 != null) {
                                                                                                    tLRPC$TL_messages_sendMessage.reply_to = sendMessagesHelper6.createReplyInput(tL_stories$StoryItem11);
                                                                                                    tLRPC$TL_messages_sendMessage.flags |= 1;
                                                                                                } else {
                                                                                                    TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader11 = tLRPC$Message10.reply_to;
                                                                                                    if (tLRPC$MessageReplyHeader11 instanceof TLRPC$TL_messageReplyHeader) {
                                                                                                        tLRPC$TL_messages_sendMessage.reply_to = sendMessagesHelper6.createReplyInput((TLRPC$TL_messageReplyHeader) tLRPC$MessageReplyHeader11);
                                                                                                        tLRPC$TL_messages_sendMessage.flags |= 1;
                                                                                                    }
                                                                                                }
                                                                                                if (z17 && SharedConfig.updateStickersOrderOnSend) {
                                                                                                    tLRPC$TL_messages_sendMessage.update_stickersets_order = true;
                                                                                                }
                                                                                                if (tLRPC$Message10.from_id != null) {
                                                                                                    tLRPC$TL_messages_sendMessage.send_as = getMessagesController().getInputPeer(tLRPC$Message10.from_id);
                                                                                                }
                                                                                                if (!z15) {
                                                                                                    tLRPC$TL_messages_sendMessage.no_webpage = true;
                                                                                                }
                                                                                                if (arrayList12 != null && !arrayList12.isEmpty()) {
                                                                                                    tLRPC$TL_messages_sendMessage.entities = arrayList12;
                                                                                                    tLRPC$TL_messages_sendMessage.flags |= 8;
                                                                                                }
                                                                                                if (i47 != 0) {
                                                                                                    tLRPC$TL_messages_sendMessage.schedule_date = i47;
                                                                                                    tLRPC$TL_messages_sendMessage.flags |= 1024;
                                                                                                }
                                                                                                tLRPC$TL_messages_sendMessage.invert_media = tLRPC$Message10.invert_media;
                                                                                                i2 = i47;
                                                                                                try {
                                                                                                    performSendMessageRequest(tLRPC$TL_messages_sendMessage, messageObject, null, null, obj29, hashMap7, i47 != 0);
                                                                                                    if (messageObject27 == null) {
                                                                                                        getMediaDataController().cleanDraft(j10, messageObject24 != null ? messageObject24.getId() : 0, false);
                                                                                                    }
                                                                                                } catch (Exception e45) {
                                                                                                    e = e45;
                                                                                                    exc = e;
                                                                                                    tLRPC$Message8 = tLRPC$Message10;
                                                                                                    tLRPC$Message2 = tLRPC$Message8;
                                                                                                    FileLog.e(exc);
                                                                                                    getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                                                                                    if (messageObject != null) {
                                                                                                    }
                                                                                                    getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                                                                                    processSentMessage(tLRPC$Message2.id);
                                                                                                    return;
                                                                                                }
                                                                                            } catch (Exception e46) {
                                                                                                e = e46;
                                                                                                i2 = i47;
                                                                                            }
                                                                                        }
                                                                                        return;
                                                                                    }
                                                                                    messageObject7 = null;
                                                                                    messageObject = new MessageObject(sendMessagesHelper2.currentAccount, (TLRPC$Message) tLRPC$Message4, messageObject7, true, true);
                                                                                    messageObject.sendAnimationData = sendAnimationData;
                                                                                    messageObject.wasJustSent = true;
                                                                                    messageObject.scheduled = i2 != 0;
                                                                                    if (messageObject.isForwarded()) {
                                                                                    }
                                                                                    videoEditedInfo = messageObject.videoEditedInfo;
                                                                                    if (videoEditedInfo != null) {
                                                                                    }
                                                                                    videoEditedInfo = videoEditedInfo4;
                                                                                    if (j5 == 0) {
                                                                                    }
                                                                                    if (BuildVars.LOGS_ENABLED) {
                                                                                    }
                                                                                    j6 = j5;
                                                                                    tLRPC$EncryptedChat2 = tLRPC$EncryptedChat;
                                                                                    tLRPC$InputPeer6 = tLRPC$InputPeer5;
                                                                                    i7 = i6;
                                                                                    if (c != 0) {
                                                                                        if (c >= 1) {
                                                                                        }
                                                                                        if (c >= 5) {
                                                                                        }
                                                                                        if (c == 4) {
                                                                                        }
                                                                                        return;
                                                                                    }
                                                                                    MessageObject messageObject242 = messageObject5;
                                                                                    TLRPC$InputPeer tLRPC$InputPeer102 = tLRPC$InputPeer6;
                                                                                    TLRPC$Message tLRPC$Message272 = tLRPC$Message4;
                                                                                    tLRPC$EncryptedChat3 = tLRPC$EncryptedChat2;
                                                                                    ArrayList<TLRPC$MessageEntity> arrayList122 = arrayList;
                                                                                    Object obj292 = obj4;
                                                                                    TL_stories$StoryItem tL_stories$StoryItem112 = tL_stories$StoryItem2;
                                                                                    String str442 = str7;
                                                                                    Object obj302 = obj6;
                                                                                    SendMessagesHelper sendMessagesHelper62 = sendMessagesHelper2;
                                                                                    HashMap<String, String> hashMap72 = hashMap;
                                                                                    if (tLRPC$EncryptedChat3 != null) {
                                                                                    }
                                                                                    return;
                                                                                }
                                                                            } else {
                                                                                j5 = 0;
                                                                            }
                                                                            z6 = false;
                                                                            if (messageObject5 == null) {
                                                                            }
                                                                            if (!z5) {
                                                                            }
                                                                            messageObject7 = null;
                                                                            messageObject = new MessageObject(sendMessagesHelper2.currentAccount, (TLRPC$Message) tLRPC$Message4, messageObject7, true, true);
                                                                            messageObject.sendAnimationData = sendAnimationData;
                                                                            messageObject.wasJustSent = true;
                                                                            messageObject.scheduled = i2 != 0;
                                                                            if (messageObject.isForwarded()) {
                                                                            }
                                                                            videoEditedInfo = messageObject.videoEditedInfo;
                                                                            if (videoEditedInfo != null) {
                                                                            }
                                                                            videoEditedInfo = videoEditedInfo4;
                                                                            if (j5 == 0) {
                                                                            }
                                                                            if (BuildVars.LOGS_ENABLED) {
                                                                            }
                                                                            j6 = j5;
                                                                            tLRPC$EncryptedChat2 = tLRPC$EncryptedChat;
                                                                            tLRPC$InputPeer6 = tLRPC$InputPeer5;
                                                                            i7 = i6;
                                                                            if (c != 0) {
                                                                            }
                                                                            MessageObject messageObject2422 = messageObject5;
                                                                            TLRPC$InputPeer tLRPC$InputPeer1022 = tLRPC$InputPeer6;
                                                                            TLRPC$Message tLRPC$Message2722 = tLRPC$Message4;
                                                                            tLRPC$EncryptedChat3 = tLRPC$EncryptedChat2;
                                                                            ArrayList<TLRPC$MessageEntity> arrayList1222 = arrayList;
                                                                            Object obj2922 = obj4;
                                                                            TL_stories$StoryItem tL_stories$StoryItem1122 = tL_stories$StoryItem2;
                                                                            String str4422 = str7;
                                                                            Object obj3022 = obj6;
                                                                            SendMessagesHelper sendMessagesHelper622 = sendMessagesHelper2;
                                                                            HashMap<String, String> hashMap722 = hashMap;
                                                                            if (tLRPC$EncryptedChat3 != null) {
                                                                            }
                                                                            return;
                                                                        }
                                                                    } else {
                                                                        obj6 = "bot_name";
                                                                    }
                                                                } else {
                                                                    obj6 = "bot_name";
                                                                    messageObject5 = messageObject14;
                                                                    messageObject6 = messageObject16;
                                                                }
                                                                TLRPC$TL_messageReplyHeader tLRPC$TL_messageReplyHeader = new TLRPC$TL_messageReplyHeader();
                                                                tLRPC$Message4.reply_to = tLRPC$TL_messageReplyHeader;
                                                                if (tLRPC$EncryptedChat != null) {
                                                                    j4 = j3;
                                                                    long j16 = messageObject6.messageOwner.random_id;
                                                                    if (j16 != 0) {
                                                                        tLRPC$TL_messageReplyHeader.reply_to_random_id = j16;
                                                                        tLRPC$Message4.flags |= 8;
                                                                        tLRPC$TL_messageReplyHeader.flags |= 16;
                                                                        tLRPC$TL_messageReplyHeader.reply_to_msg_id = messageObject6.getId();
                                                                        if (messageObject5 == null && messageObject5 != messageObject6 && messageObject5.getId() != 1) {
                                                                            tLRPC$Message4.reply_to.reply_to_top_id = messageObject5.getId();
                                                                            TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader12 = tLRPC$Message4.reply_to;
                                                                            int i48 = tLRPC$MessageReplyHeader12.flags | 2;
                                                                            tLRPC$MessageReplyHeader12.flags = i48;
                                                                            if (messageObject5.isTopicMainMessage) {
                                                                                tLRPC$MessageReplyHeader12.forum_topic = true;
                                                                                tLRPC$MessageReplyHeader12.flags = i48 | 8;
                                                                            }
                                                                        } else if (messageObject6.isTopicMainMessage) {
                                                                            TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader13 = tLRPC$Message4.reply_to;
                                                                            tLRPC$MessageReplyHeader13.forum_topic = true;
                                                                            tLRPC$MessageReplyHeader13.flags |= 8;
                                                                        }
                                                                        if (replyQuote2 != null) {
                                                                            tLRPC$Message4.reply_to.quote_text = replyQuote2.getText();
                                                                            if (!TextUtils.isEmpty(tLRPC$Message4.reply_to.quote_text)) {
                                                                                TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader14 = tLRPC$Message4.reply_to;
                                                                                tLRPC$MessageReplyHeader14.quote = true;
                                                                                tLRPC$MessageReplyHeader14.flags |= 64;
                                                                                tLRPC$MessageReplyHeader14.quote_entities = replyQuote2.getEntities();
                                                                                ArrayList<TLRPC$MessageEntity> arrayList13 = tLRPC$Message4.reply_to.quote_entities;
                                                                                if (arrayList13 != null && !arrayList13.isEmpty()) {
                                                                                    tLRPC$Message4.reply_to.quote_entities = new ArrayList<>(tLRPC$Message4.reply_to.quote_entities);
                                                                                    tLRPC$Message4.reply_to.flags |= 128;
                                                                                }
                                                                            }
                                                                        }
                                                                        if (j2 != 0) {
                                                                        }
                                                                        if (tLRPC$ReplyMarkup != null) {
                                                                            tLRPC$Message4.flags |= 64;
                                                                            tLRPC$Message4.reply_markup = tLRPC$ReplyMarkup;
                                                                            str17 = hashMap.get("bot");
                                                                            if (str17 != null) {
                                                                            }
                                                                        }
                                                                        if (!DialogObject.isEncryptedDialog(j10)) {
                                                                        }
                                                                        if (messageObject6 == null) {
                                                                        }
                                                                        str8 = "";
                                                                        obj7 = "bot";
                                                                        z5 = false;
                                                                        if (!MessageObject.isVoiceMessage(tLRPC$Message4)) {
                                                                        }
                                                                        tLRPC$Message4.media_unread = true;
                                                                        if (tLRPC$Message4.from_id == null) {
                                                                        }
                                                                        tLRPC$Message4.send_state = 1;
                                                                        if (hashMap != null) {
                                                                        }
                                                                        z6 = false;
                                                                        if (messageObject5 == null) {
                                                                        }
                                                                        if (!z5) {
                                                                        }
                                                                        messageObject7 = null;
                                                                        messageObject = new MessageObject(sendMessagesHelper2.currentAccount, (TLRPC$Message) tLRPC$Message4, messageObject7, true, true);
                                                                        messageObject.sendAnimationData = sendAnimationData;
                                                                        messageObject.wasJustSent = true;
                                                                        messageObject.scheduled = i2 != 0;
                                                                        if (messageObject.isForwarded()) {
                                                                        }
                                                                        videoEditedInfo = messageObject.videoEditedInfo;
                                                                        if (videoEditedInfo != null) {
                                                                        }
                                                                        videoEditedInfo = videoEditedInfo4;
                                                                        if (j5 == 0) {
                                                                        }
                                                                        if (BuildVars.LOGS_ENABLED) {
                                                                        }
                                                                        j6 = j5;
                                                                        tLRPC$EncryptedChat2 = tLRPC$EncryptedChat;
                                                                        tLRPC$InputPeer6 = tLRPC$InputPeer5;
                                                                        i7 = i6;
                                                                        if (c != 0) {
                                                                        }
                                                                        MessageObject messageObject24222 = messageObject5;
                                                                        TLRPC$InputPeer tLRPC$InputPeer10222 = tLRPC$InputPeer6;
                                                                        TLRPC$Message tLRPC$Message27222 = tLRPC$Message4;
                                                                        tLRPC$EncryptedChat3 = tLRPC$EncryptedChat2;
                                                                        ArrayList<TLRPC$MessageEntity> arrayList12222 = arrayList;
                                                                        Object obj29222 = obj4;
                                                                        TL_stories$StoryItem tL_stories$StoryItem11222 = tL_stories$StoryItem2;
                                                                        String str44222 = str7;
                                                                        Object obj30222 = obj6;
                                                                        SendMessagesHelper sendMessagesHelper6222 = sendMessagesHelper2;
                                                                        HashMap<String, String> hashMap7222 = hashMap;
                                                                        if (tLRPC$EncryptedChat3 != null) {
                                                                        }
                                                                        return;
                                                                    }
                                                                } else {
                                                                    j4 = j3;
                                                                }
                                                                tLRPC$Message4.flags |= 8;
                                                                tLRPC$TL_messageReplyHeader.flags |= 16;
                                                                tLRPC$TL_messageReplyHeader.reply_to_msg_id = messageObject6.getId();
                                                                if (messageObject5 == null) {
                                                                }
                                                                if (messageObject6.isTopicMainMessage) {
                                                                }
                                                                if (replyQuote2 != null) {
                                                                }
                                                                if (j2 != 0) {
                                                                }
                                                                if (tLRPC$ReplyMarkup != null) {
                                                                }
                                                                if (!DialogObject.isEncryptedDialog(j10)) {
                                                                }
                                                                if (messageObject6 == null) {
                                                                }
                                                                str8 = "";
                                                                obj7 = "bot";
                                                                z5 = false;
                                                                if (!MessageObject.isVoiceMessage(tLRPC$Message4)) {
                                                                }
                                                                tLRPC$Message4.media_unread = true;
                                                                if (tLRPC$Message4.from_id == null) {
                                                                }
                                                                tLRPC$Message4.send_state = 1;
                                                                if (hashMap != null) {
                                                                }
                                                                z6 = false;
                                                                if (messageObject5 == null) {
                                                                }
                                                                if (!z5) {
                                                                }
                                                                messageObject7 = null;
                                                                messageObject = new MessageObject(sendMessagesHelper2.currentAccount, (TLRPC$Message) tLRPC$Message4, messageObject7, true, true);
                                                                messageObject.sendAnimationData = sendAnimationData;
                                                                messageObject.wasJustSent = true;
                                                                messageObject.scheduled = i2 != 0;
                                                                if (messageObject.isForwarded()) {
                                                                }
                                                                videoEditedInfo = messageObject.videoEditedInfo;
                                                                if (videoEditedInfo != null) {
                                                                }
                                                                videoEditedInfo = videoEditedInfo4;
                                                                if (j5 == 0) {
                                                                }
                                                                if (BuildVars.LOGS_ENABLED) {
                                                                }
                                                                j6 = j5;
                                                                tLRPC$EncryptedChat2 = tLRPC$EncryptedChat;
                                                                tLRPC$InputPeer6 = tLRPC$InputPeer5;
                                                                i7 = i6;
                                                                if (c != 0) {
                                                                }
                                                                MessageObject messageObject242222 = messageObject5;
                                                                TLRPC$InputPeer tLRPC$InputPeer102222 = tLRPC$InputPeer6;
                                                                TLRPC$Message tLRPC$Message272222 = tLRPC$Message4;
                                                                tLRPC$EncryptedChat3 = tLRPC$EncryptedChat2;
                                                                ArrayList<TLRPC$MessageEntity> arrayList122222 = arrayList;
                                                                Object obj292222 = obj4;
                                                                TL_stories$StoryItem tL_stories$StoryItem112222 = tL_stories$StoryItem2;
                                                                String str442222 = str7;
                                                                Object obj302222 = obj6;
                                                                SendMessagesHelper sendMessagesHelper62222 = sendMessagesHelper2;
                                                                HashMap<String, String> hashMap72222 = hashMap;
                                                                if (tLRPC$EncryptedChat3 != null) {
                                                                }
                                                                return;
                                                            }
                                                        }
                                                        j4 = j3;
                                                        obj6 = "bot_name";
                                                        messageObject5 = messageObject14;
                                                        messageObject6 = messageObject16;
                                                        if (j2 != 0) {
                                                        }
                                                        if (tLRPC$ReplyMarkup != null) {
                                                        }
                                                        if (!DialogObject.isEncryptedDialog(j10)) {
                                                        }
                                                        if (messageObject6 == null) {
                                                        }
                                                        str8 = "";
                                                        obj7 = "bot";
                                                        z5 = false;
                                                        if (!MessageObject.isVoiceMessage(tLRPC$Message4)) {
                                                        }
                                                        tLRPC$Message4.media_unread = true;
                                                        if (tLRPC$Message4.from_id == null) {
                                                        }
                                                        tLRPC$Message4.send_state = 1;
                                                        if (hashMap != null) {
                                                        }
                                                        z6 = false;
                                                        if (messageObject5 == null) {
                                                        }
                                                        if (!z5) {
                                                        }
                                                        messageObject7 = null;
                                                        messageObject = new MessageObject(sendMessagesHelper2.currentAccount, (TLRPC$Message) tLRPC$Message4, messageObject7, true, true);
                                                        messageObject.sendAnimationData = sendAnimationData;
                                                        messageObject.wasJustSent = true;
                                                        messageObject.scheduled = i2 != 0;
                                                        if (messageObject.isForwarded()) {
                                                        }
                                                        videoEditedInfo = messageObject.videoEditedInfo;
                                                        if (videoEditedInfo != null) {
                                                        }
                                                        videoEditedInfo = videoEditedInfo4;
                                                        if (j5 == 0) {
                                                        }
                                                        if (BuildVars.LOGS_ENABLED) {
                                                        }
                                                        j6 = j5;
                                                        tLRPC$EncryptedChat2 = tLRPC$EncryptedChat;
                                                        tLRPC$InputPeer6 = tLRPC$InputPeer5;
                                                        i7 = i6;
                                                        if (c != 0) {
                                                        }
                                                        MessageObject messageObject2422222 = messageObject5;
                                                        TLRPC$InputPeer tLRPC$InputPeer1022222 = tLRPC$InputPeer6;
                                                        TLRPC$Message tLRPC$Message2722222 = tLRPC$Message4;
                                                        tLRPC$EncryptedChat3 = tLRPC$EncryptedChat2;
                                                        ArrayList<TLRPC$MessageEntity> arrayList1222222 = arrayList;
                                                        Object obj2922222 = obj4;
                                                        TL_stories$StoryItem tL_stories$StoryItem1122222 = tL_stories$StoryItem2;
                                                        String str4422222 = str7;
                                                        Object obj3022222 = obj6;
                                                        SendMessagesHelper sendMessagesHelper622222 = sendMessagesHelper2;
                                                        HashMap<String, String> hashMap722222 = hashMap;
                                                        if (tLRPC$EncryptedChat3 != null) {
                                                        }
                                                        return;
                                                    }
                                                } else {
                                                    messageObject3 = messageObject2;
                                                }
                                                tLRPC$Message4.date = i2 != 0 ? i2 : getConnectionsManager().getCurrentTime();
                                                if (tLRPC$InputPeer3 instanceof TLRPC$TL_inputPeerChannel) {
                                                    if (i2 == 0 && z) {
                                                        tLRPC$Message4.views = 1;
                                                        tLRPC$Message4.flags |= 1024;
                                                    }
                                                    messageObject4 = messageObject3;
                                                    i5 = i3;
                                                    TLRPC$Chat chat3 = getMessagesController().getChat(Long.valueOf(tLRPC$InputPeer3.channel_id));
                                                    if (chat3 != null) {
                                                        if (chat3.megagroup) {
                                                            tLRPC$Message4.unread = true;
                                                        } else {
                                                            tLRPC$Message4.post = true;
                                                            if (chat3.signatures) {
                                                                TLRPC$TL_peerUser tLRPC$TL_peerUser3 = new TLRPC$TL_peerUser();
                                                                tLRPC$Message4.from_id = tLRPC$TL_peerUser3;
                                                                tLRPC$TL_peerUser3.user_id = j3;
                                                            }
                                                        }
                                                    }
                                                } else {
                                                    messageObject4 = messageObject3;
                                                    i5 = i3;
                                                    tLRPC$Message4.unread = true;
                                                }
                                                tLRPC$Message4.flags |= LiteMode.FLAG_CALLS_ANIMATIONS;
                                                tLRPC$Message4.dialog_id = j10;
                                                tLRPC$Message4.invert_media = z19;
                                                if (tL_stories$StoryItem6 == null) {
                                                }
                                                j4 = j3;
                                                obj6 = "bot_name";
                                                messageObject5 = messageObject14;
                                                messageObject6 = messageObject16;
                                                if (j2 != 0) {
                                                }
                                                if (tLRPC$ReplyMarkup != null) {
                                                }
                                                if (!DialogObject.isEncryptedDialog(j10)) {
                                                }
                                                if (messageObject6 == null) {
                                                }
                                                str8 = "";
                                                obj7 = "bot";
                                                z5 = false;
                                                if (!MessageObject.isVoiceMessage(tLRPC$Message4)) {
                                                }
                                                tLRPC$Message4.media_unread = true;
                                                if (tLRPC$Message4.from_id == null) {
                                                }
                                                tLRPC$Message4.send_state = 1;
                                                if (hashMap != null) {
                                                }
                                                z6 = false;
                                                if (messageObject5 == null) {
                                                }
                                                if (!z5) {
                                                }
                                                messageObject7 = null;
                                                messageObject = new MessageObject(sendMessagesHelper2.currentAccount, (TLRPC$Message) tLRPC$Message4, messageObject7, true, true);
                                                messageObject.sendAnimationData = sendAnimationData;
                                                messageObject.wasJustSent = true;
                                                messageObject.scheduled = i2 != 0;
                                                if (messageObject.isForwarded()) {
                                                }
                                                videoEditedInfo = messageObject.videoEditedInfo;
                                                if (videoEditedInfo != null) {
                                                }
                                                videoEditedInfo = videoEditedInfo4;
                                                if (j5 == 0) {
                                                }
                                                if (BuildVars.LOGS_ENABLED) {
                                                }
                                                j6 = j5;
                                                tLRPC$EncryptedChat2 = tLRPC$EncryptedChat;
                                                tLRPC$InputPeer6 = tLRPC$InputPeer5;
                                                i7 = i6;
                                                if (c != 0) {
                                                }
                                                MessageObject messageObject24222222 = messageObject5;
                                                TLRPC$InputPeer tLRPC$InputPeer10222222 = tLRPC$InputPeer6;
                                                TLRPC$Message tLRPC$Message27222222 = tLRPC$Message4;
                                                tLRPC$EncryptedChat3 = tLRPC$EncryptedChat2;
                                                ArrayList<TLRPC$MessageEntity> arrayList12222222 = arrayList;
                                                Object obj29222222 = obj4;
                                                TL_stories$StoryItem tL_stories$StoryItem11222222 = tL_stories$StoryItem2;
                                                String str44222222 = str7;
                                                Object obj30222222 = obj6;
                                                SendMessagesHelper sendMessagesHelper6222222 = sendMessagesHelper2;
                                                HashMap<String, String> hashMap7222222 = hashMap;
                                                if (tLRPC$EncryptedChat3 != null) {
                                                }
                                                return;
                                            }
                                        } catch (Exception e47) {
                                            e2 = e47;
                                            exc = e2;
                                            tLRPC$Message = tLRPC$Message4;
                                            messageObject = null;
                                            tLRPC$Message2 = tLRPC$Message;
                                            FileLog.e(exc);
                                            getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                                            if (messageObject != null) {
                                            }
                                            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                                            processSentMessage(tLRPC$Message2.id);
                                            return;
                                        }
                                    }
                                    z4 = true;
                                    tLRPC$Message4.silent = z4;
                                    if (tLRPC$Message4.random_id == 0) {
                                    }
                                    if (hashMap != null) {
                                        if (tLRPC$EncryptedChat == null) {
                                        }
                                        tLRPC$Message4.flags |= LiteMode.FLAG_AUTOPLAY_GIFS;
                                    }
                                    tLRPC$Message4.params = hashMap;
                                    if (messageObject2 != null) {
                                    }
                                    tLRPC$Message4.date = i2 != 0 ? i2 : getConnectionsManager().getCurrentTime();
                                    if (tLRPC$InputPeer3 instanceof TLRPC$TL_inputPeerChannel) {
                                    }
                                    tLRPC$Message4.flags |= LiteMode.FLAG_CALLS_ANIMATIONS;
                                    tLRPC$Message4.dialog_id = j10;
                                    tLRPC$Message4.invert_media = z19;
                                    if (tL_stories$StoryItem6 == null) {
                                    }
                                    j4 = j3;
                                    obj6 = "bot_name";
                                    messageObject5 = messageObject14;
                                    messageObject6 = messageObject16;
                                    if (j2 != 0) {
                                    }
                                    if (tLRPC$ReplyMarkup != null) {
                                    }
                                    if (!DialogObject.isEncryptedDialog(j10)) {
                                    }
                                    if (messageObject6 == null) {
                                    }
                                    str8 = "";
                                    obj7 = "bot";
                                    z5 = false;
                                    if (!MessageObject.isVoiceMessage(tLRPC$Message4)) {
                                    }
                                    tLRPC$Message4.media_unread = true;
                                    if (tLRPC$Message4.from_id == null) {
                                    }
                                    tLRPC$Message4.send_state = 1;
                                    if (hashMap != null) {
                                    }
                                    z6 = false;
                                    if (messageObject5 == null) {
                                    }
                                    if (!z5) {
                                    }
                                    messageObject7 = null;
                                    messageObject = new MessageObject(sendMessagesHelper2.currentAccount, (TLRPC$Message) tLRPC$Message4, messageObject7, true, true);
                                    messageObject.sendAnimationData = sendAnimationData;
                                    messageObject.wasJustSent = true;
                                    messageObject.scheduled = i2 != 0;
                                    if (messageObject.isForwarded()) {
                                    }
                                    videoEditedInfo = messageObject.videoEditedInfo;
                                    if (videoEditedInfo != null) {
                                    }
                                    videoEditedInfo = videoEditedInfo4;
                                    if (j5 == 0) {
                                    }
                                    if (BuildVars.LOGS_ENABLED) {
                                    }
                                    j6 = j5;
                                    tLRPC$EncryptedChat2 = tLRPC$EncryptedChat;
                                    tLRPC$InputPeer6 = tLRPC$InputPeer5;
                                    i7 = i6;
                                    if (c != 0) {
                                    }
                                    MessageObject messageObject242222222 = messageObject5;
                                    TLRPC$InputPeer tLRPC$InputPeer102222222 = tLRPC$InputPeer6;
                                    TLRPC$Message tLRPC$Message272222222 = tLRPC$Message4;
                                    tLRPC$EncryptedChat3 = tLRPC$EncryptedChat2;
                                    ArrayList<TLRPC$MessageEntity> arrayList122222222 = arrayList;
                                    Object obj292222222 = obj4;
                                    TL_stories$StoryItem tL_stories$StoryItem112222222 = tL_stories$StoryItem2;
                                    String str442222222 = str7;
                                    Object obj302222222 = obj6;
                                    SendMessagesHelper sendMessagesHelper62222222 = sendMessagesHelper2;
                                    HashMap<String, String> hashMap72222222 = hashMap;
                                    if (tLRPC$EncryptedChat3 != null) {
                                    }
                                    return;
                                }
                                j2 = 0;
                                tLRPC$EncryptedChat = null;
                            }
                            if (c != 0) {
                            }
                            MessageObject messageObject2422222222 = messageObject5;
                            TLRPC$InputPeer tLRPC$InputPeer1022222222 = tLRPC$InputPeer6;
                            TLRPC$Message tLRPC$Message2722222222 = tLRPC$Message4;
                            tLRPC$EncryptedChat3 = tLRPC$EncryptedChat2;
                            ArrayList<TLRPC$MessageEntity> arrayList1222222222 = arrayList;
                            Object obj2922222222 = obj4;
                            TL_stories$StoryItem tL_stories$StoryItem1122222222 = tL_stories$StoryItem2;
                            String str4422222222 = str7;
                            Object obj3022222222 = obj6;
                            SendMessagesHelper sendMessagesHelper622222222 = sendMessagesHelper2;
                            HashMap<String, String> hashMap722222222 = hashMap;
                            if (tLRPC$EncryptedChat3 != null) {
                            }
                            return;
                        } catch (Exception e48) {
                            e = e48;
                        }
                    } catch (Exception e49) {
                        exc = e49;
                        i8 = j10;
                    }
                    messageObject.sendAnimationData = sendAnimationData;
                    messageObject.wasJustSent = true;
                    messageObject.scheduled = i2 != 0;
                    if (messageObject.isForwarded()) {
                    }
                    videoEditedInfo = messageObject.videoEditedInfo;
                    if (videoEditedInfo != null) {
                    }
                    videoEditedInfo = videoEditedInfo4;
                    if (j5 == 0) {
                    }
                    if (BuildVars.LOGS_ENABLED) {
                    }
                    j6 = j5;
                    tLRPC$EncryptedChat2 = tLRPC$EncryptedChat;
                    tLRPC$InputPeer6 = tLRPC$InputPeer5;
                    i7 = i6;
                } catch (Exception e50) {
                    e = e50;
                    tLRPC$Message5 = tLRPC$Message4;
                }
                tLRPC$Message4.silent = z4;
                if (tLRPC$Message4.random_id == 0) {
                }
                if (hashMap != null) {
                }
                tLRPC$Message4.params = hashMap;
                if (messageObject2 != null) {
                }
                tLRPC$Message4.date = i2 != 0 ? i2 : getConnectionsManager().getCurrentTime();
                if (tLRPC$InputPeer3 instanceof TLRPC$TL_inputPeerChannel) {
                }
                tLRPC$Message4.flags |= LiteMode.FLAG_CALLS_ANIMATIONS;
                tLRPC$Message4.dialog_id = j10;
                tLRPC$Message4.invert_media = z19;
                if (tL_stories$StoryItem6 == null) {
                }
                j4 = j3;
                obj6 = "bot_name";
                messageObject5 = messageObject14;
                messageObject6 = messageObject16;
                if (j2 != 0) {
                }
                if (tLRPC$ReplyMarkup != null) {
                }
                if (!DialogObject.isEncryptedDialog(j10)) {
                }
                if (messageObject6 == null) {
                }
                str8 = "";
                obj7 = "bot";
                z5 = false;
                if (!MessageObject.isVoiceMessage(tLRPC$Message4)) {
                }
                tLRPC$Message4.media_unread = true;
                if (tLRPC$Message4.from_id == null) {
                }
                tLRPC$Message4.send_state = 1;
                if (hashMap != null) {
                }
                z6 = false;
                if (messageObject5 == null) {
                }
                if (!z5) {
                }
                messageObject7 = null;
                messageObject = new MessageObject(sendMessagesHelper2.currentAccount, (TLRPC$Message) tLRPC$Message4, messageObject7, true, true);
            } catch (Exception e51) {
                e = e51;
                tLRPC$Message3 = tLRPC$Message4;
                exc = e;
                tLRPC$Message = tLRPC$Message3;
                messageObject = null;
                tLRPC$Message2 = tLRPC$Message;
                FileLog.e(exc);
                getMessagesStorage().markMessageAsSendError(tLRPC$Message2, i2 != 0);
                if (messageObject != null) {
                }
                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message2.id));
                processSentMessage(tLRPC$Message2.id);
                return;
            }
            if (messageObject15 == null) {
            }
            if (z16) {
            }
            z4 = true;
        } catch (Exception e52) {
            exc = e52;
            tLRPC$Peer = peer;
            i = r12;
        }
        peer = null;
        z = false;
        r12 = "parentObject";
        TLRPC$Peer tLRPC$Peer42 = peer;
    }

    private void performSendDelayedMessage(DelayedMessage delayedMessage) {
        performSendDelayedMessage(delayedMessage, -1);
    }

    private TLRPC$PhotoSize getThumbForSecretChat(ArrayList<TLRPC$PhotoSize> arrayList) {
        if (arrayList != null && !arrayList.isEmpty()) {
            int size = arrayList.size();
            for (int i = 0; i < size; i++) {
                TLRPC$PhotoSize tLRPC$PhotoSize = arrayList.get(i);
                if (tLRPC$PhotoSize != null && !(tLRPC$PhotoSize instanceof TLRPC$TL_photoPathSize) && !(tLRPC$PhotoSize instanceof TLRPC$TL_photoSizeEmpty) && tLRPC$PhotoSize.location != null) {
                    if (tLRPC$PhotoSize instanceof TLRPC$TL_photoStrippedSize) {
                        return tLRPC$PhotoSize;
                    }
                    TLRPC$TL_photoSize_layer127 tLRPC$TL_photoSize_layer127 = new TLRPC$TL_photoSize_layer127();
                    tLRPC$TL_photoSize_layer127.type = tLRPC$PhotoSize.type;
                    tLRPC$TL_photoSize_layer127.w = tLRPC$PhotoSize.w;
                    tLRPC$TL_photoSize_layer127.h = tLRPC$PhotoSize.h;
                    tLRPC$TL_photoSize_layer127.size = tLRPC$PhotoSize.size;
                    byte[] bArr = tLRPC$PhotoSize.bytes;
                    tLRPC$TL_photoSize_layer127.bytes = bArr;
                    if (bArr == null) {
                        tLRPC$TL_photoSize_layer127.bytes = new byte[0];
                    }
                    TLRPC$TL_fileLocation_layer82 tLRPC$TL_fileLocation_layer82 = new TLRPC$TL_fileLocation_layer82();
                    tLRPC$TL_photoSize_layer127.location = tLRPC$TL_fileLocation_layer82;
                    TLRPC$FileLocation tLRPC$FileLocation = tLRPC$PhotoSize.location;
                    tLRPC$TL_fileLocation_layer82.dc_id = tLRPC$FileLocation.dc_id;
                    tLRPC$TL_fileLocation_layer82.volume_id = tLRPC$FileLocation.volume_id;
                    tLRPC$TL_fileLocation_layer82.local_id = tLRPC$FileLocation.local_id;
                    tLRPC$TL_fileLocation_layer82.secret = tLRPC$FileLocation.secret;
                    return tLRPC$TL_photoSize_layer127;
                }
            }
        }
        return null;
    }

    private void performSendDelayedMessage(final DelayedMessage delayedMessage, int i) {
        boolean z;
        TLRPC$InputEncryptedFile tLRPC$InputEncryptedFile;
        boolean z2;
        MessageObject messageObject;
        TLRPC$InputMedia tLRPC$InputMedia;
        TLRPC$PhotoSize tLRPC$PhotoSize;
        TLRPC$InputMedia tLRPC$InputMedia2;
        TLRPC$InputMedia tLRPC$InputMedia3;
        int i2 = delayedMessage.type;
        if (i2 == 0) {
            String str = delayedMessage.httpLocation;
            if (str != null) {
                putToDelayedMessages(str, delayedMessage);
                ImageLoader.getInstance().loadHttpFile(delayedMessage.httpLocation, "file", this.currentAccount);
            } else if (delayedMessage.sendRequest != null) {
                String file = FileLoader.getInstance(this.currentAccount).getPathToAttach(delayedMessage.photoSize).toString();
                putToDelayedMessages(file, delayedMessage);
                getFileLoader().uploadFile(file, false, true, ConnectionsManager.FileTypePhoto);
                putToUploadingMessages(delayedMessage.obj);
            } else {
                String file2 = FileLoader.getInstance(this.currentAccount).getPathToAttach(delayedMessage.photoSize).toString();
                if (delayedMessage.sendEncryptedRequest != null && delayedMessage.photoSize.location.dc_id != 0) {
                    File file3 = new File(file2);
                    if (!file3.exists()) {
                        file2 = FileLoader.getInstance(this.currentAccount).getPathToAttach(delayedMessage.photoSize, true).toString();
                        file3 = new File(file2);
                    }
                    if (!file3.exists()) {
                        putToDelayedMessages(FileLoader.getAttachFileName(delayedMessage.photoSize), delayedMessage);
                        getFileLoader().loadFile(ImageLocation.getForObject(delayedMessage.photoSize, delayedMessage.locationParent), delayedMessage.parentObject, "jpg", 3, 0);
                        return;
                    }
                }
                putToDelayedMessages(file2, delayedMessage);
                getFileLoader().uploadFile(file2, true, true, ConnectionsManager.FileTypePhoto);
                putToUploadingMessages(delayedMessage.obj);
            }
        } else if (i2 == 1) {
            VideoEditedInfo videoEditedInfo = delayedMessage.videoEditedInfo;
            if (videoEditedInfo != null && videoEditedInfo.needConvert()) {
                MessageObject messageObject2 = delayedMessage.obj;
                String str2 = messageObject2.messageOwner.attachPath;
                TLRPC$Document document = messageObject2.getDocument();
                if (str2 == null) {
                    str2 = FileLoader.getDirectory(4) + "/" + document.id + ".mp4";
                }
                putToDelayedMessages(str2, delayedMessage);
                if (!delayedMessage.videoEditedInfo.alreadyScheduledConverting) {
                    MediaController.getInstance().scheduleVideoConvert(delayedMessage.obj);
                }
                putToUploadingMessages(delayedMessage.obj);
                return;
            }
            VideoEditedInfo videoEditedInfo2 = delayedMessage.videoEditedInfo;
            if (videoEditedInfo2 != null) {
                TLRPC$InputFile tLRPC$InputFile = videoEditedInfo2.file;
                if (tLRPC$InputFile != null) {
                    TLObject tLObject = delayedMessage.sendRequest;
                    if (tLObject instanceof TLRPC$TL_messages_sendMedia) {
                        tLRPC$InputMedia3 = ((TLRPC$TL_messages_sendMedia) tLObject).media;
                    } else {
                        tLRPC$InputMedia3 = ((TLRPC$TL_messages_editMessage) tLObject).media;
                    }
                    tLRPC$InputMedia3.file = tLRPC$InputFile;
                    videoEditedInfo2.file = null;
                } else if (videoEditedInfo2.encryptedFile != null) {
                    TLRPC$TL_decryptedMessage tLRPC$TL_decryptedMessage = (TLRPC$TL_decryptedMessage) delayedMessage.sendEncryptedRequest;
                    TLRPC$DecryptedMessageMedia tLRPC$DecryptedMessageMedia = tLRPC$TL_decryptedMessage.media;
                    tLRPC$DecryptedMessageMedia.size = videoEditedInfo2.estimatedSize;
                    tLRPC$DecryptedMessageMedia.key = videoEditedInfo2.key;
                    tLRPC$DecryptedMessageMedia.iv = videoEditedInfo2.iv;
                    SecretChatHelper secretChatHelper = getSecretChatHelper();
                    MessageObject messageObject3 = delayedMessage.obj;
                    secretChatHelper.performSendEncryptedRequest(tLRPC$TL_decryptedMessage, messageObject3.messageOwner, delayedMessage.encryptedChat, delayedMessage.videoEditedInfo.encryptedFile, delayedMessage.originalPath, messageObject3);
                    delayedMessage.videoEditedInfo.encryptedFile = null;
                    return;
                }
            }
            TLObject tLObject2 = delayedMessage.sendRequest;
            if (tLObject2 != null) {
                if (tLObject2 instanceof TLRPC$TL_messages_sendMedia) {
                    tLRPC$InputMedia2 = ((TLRPC$TL_messages_sendMedia) tLObject2).media;
                } else {
                    tLRPC$InputMedia2 = ((TLRPC$TL_messages_editMessage) tLObject2).media;
                }
                if (tLRPC$InputMedia2.file == null) {
                    MessageObject messageObject4 = delayedMessage.obj;
                    String str3 = messageObject4.messageOwner.attachPath;
                    TLRPC$Document document2 = messageObject4.getDocument();
                    if (str3 == null) {
                        str3 = FileLoader.getDirectory(4) + "/" + document2.id + ".mp4";
                    }
                    String str4 = str3;
                    putToDelayedMessages(str4, delayedMessage);
                    VideoEditedInfo videoEditedInfo3 = delayedMessage.obj.videoEditedInfo;
                    if (videoEditedInfo3 != null && videoEditedInfo3.needConvert()) {
                        getFileLoader().uploadFile(str4, false, false, document2.size, ConnectionsManager.FileTypeVideo, false);
                    } else {
                        getFileLoader().uploadFile(str4, false, false, ConnectionsManager.FileTypeVideo);
                    }
                    putToUploadingMessages(delayedMessage.obj);
                    return;
                }
                String str5 = FileLoader.getDirectory(4) + "/" + delayedMessage.photoSize.location.volume_id + "_" + delayedMessage.photoSize.location.local_id + ".jpg";
                putToDelayedMessages(str5, delayedMessage);
                getFileLoader().uploadFile(str5, false, true, ConnectionsManager.FileTypePhoto);
                putToUploadingMessages(delayedMessage.obj);
                return;
            }
            MessageObject messageObject5 = delayedMessage.obj;
            String str6 = messageObject5.messageOwner.attachPath;
            TLRPC$Document document3 = messageObject5.getDocument();
            if (str6 == null) {
                str6 = FileLoader.getDirectory(4) + "/" + document3.id + ".mp4";
            }
            if (delayedMessage.sendEncryptedRequest != null && document3.dc_id != 0) {
                File file4 = new File(str6);
                if (!file4.exists() && (file4 = getFileLoader().getPathToMessage(delayedMessage.obj.messageOwner)) != null && file4.exists()) {
                    TLRPC$Message tLRPC$Message = delayedMessage.obj.messageOwner;
                    String absolutePath = file4.getAbsolutePath();
                    tLRPC$Message.attachPath = absolutePath;
                    delayedMessage.obj.attachPathExists = true;
                    str6 = absolutePath;
                }
                if ((file4 == null || (!file4.exists() && delayedMessage.obj.getDocument() != null)) && (file4 = getFileLoader().getPathToAttach(delayedMessage.obj.getDocument(), false)) != null && file4.exists()) {
                    TLRPC$Message tLRPC$Message2 = delayedMessage.obj.messageOwner;
                    String absolutePath2 = file4.getAbsolutePath();
                    tLRPC$Message2.attachPath = absolutePath2;
                    delayedMessage.obj.attachPathExists = true;
                    str6 = absolutePath2;
                }
                if (file4 == null || !file4.exists()) {
                    putToDelayedMessages(FileLoader.getAttachFileName(document3), delayedMessage);
                    getFileLoader().loadFile(document3, delayedMessage.parentObject, 3, 0);
                    return;
                }
            }
            String str7 = str6;
            putToDelayedMessages(str7, delayedMessage);
            VideoEditedInfo videoEditedInfo4 = delayedMessage.obj.videoEditedInfo;
            if (videoEditedInfo4 != null && videoEditedInfo4.needConvert()) {
                getFileLoader().uploadFile(str7, true, false, document3.size, ConnectionsManager.FileTypeVideo, false);
            } else {
                getFileLoader().uploadFile(str7, true, false, ConnectionsManager.FileTypeVideo);
            }
            putToUploadingMessages(delayedMessage.obj);
        } else if (i2 == 2) {
            String str8 = delayedMessage.httpLocation;
            if (str8 != null) {
                putToDelayedMessages(str8, delayedMessage);
                ImageLoader.getInstance().loadHttpFile(delayedMessage.httpLocation, "gif", this.currentAccount);
                return;
            }
            TLObject tLObject3 = delayedMessage.sendRequest;
            if (tLObject3 != null) {
                if (tLObject3 instanceof TLRPC$TL_messages_sendMedia) {
                    tLRPC$InputMedia = ((TLRPC$TL_messages_sendMedia) tLObject3).media;
                } else {
                    tLRPC$InputMedia = ((TLRPC$TL_messages_editMessage) tLObject3).media;
                }
                if (tLRPC$InputMedia.file == null) {
                    String str9 = delayedMessage.obj.messageOwner.attachPath;
                    putToDelayedMessages(str9, delayedMessage);
                    getFileLoader().uploadFile(str9, delayedMessage.sendRequest == null, false, ConnectionsManager.FileTypeFile);
                    putToUploadingMessages(delayedMessage.obj);
                    return;
                } else if (tLRPC$InputMedia.thumb != null || (tLRPC$PhotoSize = delayedMessage.photoSize) == null || (tLRPC$PhotoSize instanceof TLRPC$TL_photoStrippedSize)) {
                    return;
                } else {
                    String str10 = FileLoader.getDirectory(4) + "/" + delayedMessage.photoSize.location.volume_id + "_" + delayedMessage.photoSize.location.local_id + ".jpg";
                    putToDelayedMessages(str10, delayedMessage);
                    getFileLoader().uploadFile(str10, false, true, ConnectionsManager.FileTypePhoto);
                    putToUploadingMessages(delayedMessage.obj);
                    return;
                }
            }
            MessageObject messageObject6 = delayedMessage.obj;
            String str11 = messageObject6.messageOwner.attachPath;
            TLRPC$Document document4 = messageObject6.getDocument();
            if (delayedMessage.sendEncryptedRequest != null && document4.dc_id != 0) {
                File file5 = new File(str11);
                if (!file5.exists() && (file5 = getFileLoader().getPathToMessage(delayedMessage.obj.messageOwner)) != null && file5.exists()) {
                    TLRPC$Message tLRPC$Message3 = delayedMessage.obj.messageOwner;
                    String absolutePath3 = file5.getAbsolutePath();
                    tLRPC$Message3.attachPath = absolutePath3;
                    delayedMessage.obj.attachPathExists = true;
                    str11 = absolutePath3;
                }
                if ((file5 == null || (!file5.exists() && delayedMessage.obj.getDocument() != null)) && (file5 = getFileLoader().getPathToAttach(delayedMessage.obj.getDocument(), false)) != null && file5.exists()) {
                    TLRPC$Message tLRPC$Message4 = delayedMessage.obj.messageOwner;
                    String absolutePath4 = file5.getAbsolutePath();
                    tLRPC$Message4.attachPath = absolutePath4;
                    delayedMessage.obj.attachPathExists = true;
                    str11 = absolutePath4;
                }
                if (file5 == null || !file5.exists()) {
                    putToDelayedMessages(FileLoader.getAttachFileName(document4), delayedMessage);
                    getFileLoader().loadFile(document4, delayedMessage.parentObject, 3, 0);
                    return;
                }
            }
            putToDelayedMessages(str11, delayedMessage);
            getFileLoader().uploadFile(str11, true, false, ConnectionsManager.FileTypeFile);
            putToUploadingMessages(delayedMessage.obj);
        } else if (i2 == 3) {
            String str12 = delayedMessage.obj.messageOwner.attachPath;
            putToDelayedMessages(str12, delayedMessage);
            getFileLoader().uploadFile(str12, delayedMessage.sendRequest == null, true, ConnectionsManager.FileTypeAudio);
            putToUploadingMessages(delayedMessage.obj);
        } else if (i2 != 4) {
            if (i2 == 5) {
                final String str13 = "stickerset_" + delayedMessage.obj.getId();
                TLRPC$TL_messages_getStickerSet tLRPC$TL_messages_getStickerSet = new TLRPC$TL_messages_getStickerSet();
                tLRPC$TL_messages_getStickerSet.stickerset = (TLRPC$InputStickerSet) delayedMessage.parentObject;
                getConnectionsManager().sendRequest(tLRPC$TL_messages_getStickerSet, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda87
                    @Override // org.telegram.tgnet.RequestDelegate
                    public final void run(TLObject tLObject4, TLRPC$TL_error tLRPC$TL_error) {
                        SendMessagesHelper.this.lambda$performSendDelayedMessage$33(delayedMessage, str13, tLObject4, tLRPC$TL_error);
                    }
                });
                putToDelayedMessages(str13, delayedMessage);
            }
        } else {
            boolean z3 = i < 0;
            if (delayedMessage.performMediaUpload) {
                int size = i < 0 ? delayedMessage.messageObjects.size() - 1 : i;
                MessageObject messageObject7 = delayedMessage.messageObjects.get(size);
                if (messageObject7.getDocument() != null) {
                    if (delayedMessage.videoEditedInfo != null) {
                        String str14 = messageObject7.messageOwner.attachPath;
                        TLRPC$Document document5 = messageObject7.getDocument();
                        if (str14 == null) {
                            str14 = FileLoader.getDirectory(4) + "/" + document5.id + ".mp4";
                        }
                        putToDelayedMessages(str14, delayedMessage);
                        delayedMessage.extraHashMap.put(messageObject7, str14);
                        delayedMessage.extraHashMap.put(str14 + "_i", messageObject7);
                        TLRPC$PhotoSize tLRPC$PhotoSize2 = delayedMessage.photoSize;
                        if (tLRPC$PhotoSize2 != null && tLRPC$PhotoSize2.location != null) {
                            delayedMessage.extraHashMap.put(str14 + "_t", delayedMessage.photoSize);
                        }
                        if (!delayedMessage.videoEditedInfo.alreadyScheduledConverting) {
                            MediaController.getInstance().scheduleVideoConvert(messageObject7);
                        }
                        delayedMessage.obj = messageObject7;
                        putToUploadingMessages(messageObject7);
                    } else {
                        TLRPC$Document document6 = messageObject7.getDocument();
                        String str15 = messageObject7.messageOwner.attachPath;
                        if (str15 == null) {
                            StringBuilder sb = new StringBuilder();
                            sb.append(FileLoader.getDirectory(4));
                            sb.append("/");
                            messageObject = messageObject7;
                            sb.append(document6.id);
                            sb.append(".mp4");
                            str15 = sb.toString();
                        } else {
                            messageObject = messageObject7;
                        }
                        TLObject tLObject4 = delayedMessage.sendRequest;
                        if (tLObject4 != null) {
                            TLRPC$InputMedia tLRPC$InputMedia4 = ((TLRPC$TL_messages_sendMultiMedia) tLObject4).multi_media.get(size).media;
                            if (tLRPC$InputMedia4.file == null) {
                                putToDelayedMessages(str15, delayedMessage);
                                MessageObject messageObject8 = messageObject;
                                delayedMessage.extraHashMap.put(messageObject8, str15);
                                delayedMessage.extraHashMap.put(str15, tLRPC$InputMedia4);
                                delayedMessage.extraHashMap.put(str15 + "_i", messageObject8);
                                TLRPC$PhotoSize tLRPC$PhotoSize3 = delayedMessage.photoSize;
                                if (tLRPC$PhotoSize3 != null && tLRPC$PhotoSize3.location != null) {
                                    delayedMessage.extraHashMap.put(str15 + "_t", delayedMessage.photoSize);
                                }
                                VideoEditedInfo videoEditedInfo5 = messageObject8.videoEditedInfo;
                                if (videoEditedInfo5 != null && videoEditedInfo5.needConvert()) {
                                    getFileLoader().uploadFile(str15, false, false, document6.size, ConnectionsManager.FileTypeVideo, false);
                                } else {
                                    getFileLoader().uploadFile(str15, false, false, ConnectionsManager.FileTypeVideo);
                                }
                                putToUploadingMessages(messageObject8);
                            } else {
                                MessageObject messageObject9 = messageObject;
                                if (delayedMessage.photoSize != null) {
                                    String str16 = FileLoader.getDirectory(4) + "/" + delayedMessage.photoSize.location.volume_id + "_" + delayedMessage.photoSize.location.local_id + ".jpg";
                                    putToDelayedMessages(str16, delayedMessage);
                                    delayedMessage.extraHashMap.put(str16 + "_o", str15);
                                    delayedMessage.extraHashMap.put(messageObject9, str16);
                                    delayedMessage.extraHashMap.put(str16, tLRPC$InputMedia4);
                                    getFileLoader().uploadFile(str16, false, true, ConnectionsManager.FileTypePhoto);
                                    putToUploadingMessages(messageObject9);
                                }
                            }
                        } else {
                            MessageObject messageObject10 = messageObject;
                            putToDelayedMessages(str15, delayedMessage);
                            delayedMessage.extraHashMap.put(messageObject10, str15);
                            delayedMessage.extraHashMap.put(str15, ((TLRPC$TL_messages_sendEncryptedMultiMedia) delayedMessage.sendEncryptedRequest).files.get(size));
                            delayedMessage.extraHashMap.put(str15 + "_i", messageObject10);
                            TLRPC$PhotoSize tLRPC$PhotoSize4 = delayedMessage.photoSize;
                            if (tLRPC$PhotoSize4 != null && tLRPC$PhotoSize4.location != null) {
                                delayedMessage.extraHashMap.put(str15 + "_t", delayedMessage.photoSize);
                            }
                            VideoEditedInfo videoEditedInfo6 = messageObject10.videoEditedInfo;
                            if (videoEditedInfo6 != null && videoEditedInfo6.needConvert()) {
                                getFileLoader().uploadFile(str15, true, false, document6.size, ConnectionsManager.FileTypeVideo, false);
                            } else {
                                getFileLoader().uploadFile(str15, true, false, ConnectionsManager.FileTypeVideo);
                            }
                            putToUploadingMessages(messageObject10);
                        }
                    }
                    delayedMessage.videoEditedInfo = null;
                    delayedMessage.photoSize = null;
                } else {
                    String str17 = delayedMessage.httpLocation;
                    if (str17 != null) {
                        putToDelayedMessages(str17, delayedMessage);
                        delayedMessage.extraHashMap.put(messageObject7, delayedMessage.httpLocation);
                        delayedMessage.extraHashMap.put(delayedMessage.httpLocation, messageObject7);
                        ImageLoader.getInstance().loadHttpFile(delayedMessage.httpLocation, "file", this.currentAccount);
                        delayedMessage.httpLocation = null;
                    } else {
                        TLObject tLObject5 = delayedMessage.sendRequest;
                        if (tLObject5 != null) {
                            tLRPC$InputEncryptedFile = ((TLRPC$TL_messages_sendMultiMedia) tLObject5).multi_media.get(size).media;
                        } else {
                            tLRPC$InputEncryptedFile = ((TLRPC$TL_messages_sendEncryptedMultiMedia) delayedMessage.sendEncryptedRequest).files.get(size);
                        }
                        String file6 = FileLoader.getInstance(this.currentAccount).getPathToAttach(delayedMessage.photoSize).toString();
                        putToDelayedMessages(file6, delayedMessage);
                        delayedMessage.extraHashMap.put(file6, tLRPC$InputEncryptedFile);
                        delayedMessage.extraHashMap.put(messageObject7, file6);
                        z = true;
                        getFileLoader().uploadFile(file6, delayedMessage.sendEncryptedRequest != null, true, ConnectionsManager.FileTypePhoto);
                        putToUploadingMessages(messageObject7);
                        delayedMessage.photoSize = null;
                        z2 = false;
                        delayedMessage.performMediaUpload = z2;
                    }
                }
                z2 = false;
                z = true;
                delayedMessage.performMediaUpload = z2;
            } else {
                z = true;
                if (!delayedMessage.messageObjects.isEmpty()) {
                    ArrayList<MessageObject> arrayList = delayedMessage.messageObjects;
                    putToSendingMessages(arrayList.get(arrayList.size() - 1).messageOwner, delayedMessage.finalGroupMessage != 0);
                }
            }
            sendReadyToSendGroup(delayedMessage, z3, z);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendDelayedMessage$33(final DelayedMessage delayedMessage, final String str, final TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda40
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$performSendDelayedMessage$32(tLObject, delayedMessage, str);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendDelayedMessage$32(TLObject tLObject, DelayedMessage delayedMessage, String str) {
        boolean z;
        if (tLObject != null) {
            TLRPC$TL_messages_stickerSet tLRPC$TL_messages_stickerSet = (TLRPC$TL_messages_stickerSet) tLObject;
            getMediaDataController().storeTempStickerSet(tLRPC$TL_messages_stickerSet);
            TLRPC$TL_inputStickerSetShortName tLRPC$TL_inputStickerSetShortName = new TLRPC$TL_inputStickerSetShortName();
            ((TLRPC$TL_documentAttributeSticker_layer55) delayedMessage.locationParent).stickerset = tLRPC$TL_inputStickerSetShortName;
            tLRPC$TL_inputStickerSetShortName.short_name = tLRPC$TL_messages_stickerSet.set.short_name;
            z = true;
        } else {
            z = false;
        }
        ArrayList<DelayedMessage> remove = this.delayedMessages.remove(str);
        if (remove == null || remove.isEmpty()) {
            return;
        }
        if (z) {
            getMessagesStorage().replaceMessageIfExists(remove.get(0).obj.messageOwner, null, null, false);
        }
        MessageObject messageObject = delayedMessage.obj;
        getSecretChatHelper().performSendEncryptedRequest((TLRPC$DecryptedMessage) delayedMessage.sendEncryptedRequest, messageObject.messageOwner, delayedMessage.encryptedChat, null, null, messageObject);
    }

    private void uploadMultiMedia(final DelayedMessage delayedMessage, final TLRPC$InputMedia tLRPC$InputMedia, TLRPC$InputEncryptedFile tLRPC$InputEncryptedFile, String str) {
        if (tLRPC$InputMedia == null) {
            if (tLRPC$InputEncryptedFile != null) {
                TLRPC$TL_messages_sendEncryptedMultiMedia tLRPC$TL_messages_sendEncryptedMultiMedia = (TLRPC$TL_messages_sendEncryptedMultiMedia) delayedMessage.sendEncryptedRequest;
                int i = 0;
                while (true) {
                    if (i >= tLRPC$TL_messages_sendEncryptedMultiMedia.files.size()) {
                        break;
                    } else if (tLRPC$TL_messages_sendEncryptedMultiMedia.files.get(i) == tLRPC$InputEncryptedFile) {
                        putToSendingMessages(delayedMessage.messages.get(i), delayedMessage.scheduled);
                        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.fileUploadProgressChanged, str, -1L, -1L, Boolean.FALSE);
                        break;
                    } else {
                        i++;
                    }
                }
                sendReadyToSendGroup(delayedMessage, false, true);
                return;
            }
            return;
        }
        TLRPC$TL_messages_sendMultiMedia tLRPC$TL_messages_sendMultiMedia = (TLRPC$TL_messages_sendMultiMedia) delayedMessage.sendRequest;
        int i2 = 0;
        while (true) {
            if (i2 >= tLRPC$TL_messages_sendMultiMedia.multi_media.size()) {
                break;
            } else if (tLRPC$TL_messages_sendMultiMedia.multi_media.get(i2).media == tLRPC$InputMedia) {
                putToSendingMessages(delayedMessage.messages.get(i2), delayedMessage.scheduled);
                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.fileUploadProgressChanged, str, -1L, -1L, Boolean.FALSE);
                break;
            } else {
                i2++;
            }
        }
        TLRPC$TL_messages_uploadMedia tLRPC$TL_messages_uploadMedia = new TLRPC$TL_messages_uploadMedia();
        tLRPC$TL_messages_uploadMedia.media = tLRPC$InputMedia;
        tLRPC$TL_messages_uploadMedia.peer = ((TLRPC$TL_messages_sendMultiMedia) delayedMessage.sendRequest).peer;
        getConnectionsManager().sendRequest(tLRPC$TL_messages_uploadMedia, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda89
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                SendMessagesHelper.this.lambda$uploadMultiMedia$35(tLRPC$InputMedia, delayedMessage, tLObject, tLRPC$TL_error);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$uploadMultiMedia$35(final TLRPC$InputMedia tLRPC$InputMedia, final DelayedMessage delayedMessage, final TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda41
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$uploadMultiMedia$34(tLObject, tLRPC$InputMedia, delayedMessage);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:19:0x0069  */
    /* JADX WARN: Removed duplicated region for block: B:30:0x00a1  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$uploadMultiMedia$34(TLObject tLObject, TLRPC$InputMedia tLRPC$InputMedia, DelayedMessage delayedMessage) {
        TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument;
        if (tLObject != null) {
            TLRPC$MessageMedia tLRPC$MessageMedia = (TLRPC$MessageMedia) tLObject;
            if ((tLRPC$InputMedia instanceof TLRPC$TL_inputMediaUploadedPhoto) && (tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaPhoto)) {
                TLRPC$TL_inputMediaPhoto tLRPC$TL_inputMediaPhoto = new TLRPC$TL_inputMediaPhoto();
                TLRPC$TL_inputPhoto tLRPC$TL_inputPhoto = new TLRPC$TL_inputPhoto();
                tLRPC$TL_inputMediaPhoto.id = tLRPC$TL_inputPhoto;
                TLRPC$Photo tLRPC$Photo = tLRPC$MessageMedia.photo;
                tLRPC$TL_inputPhoto.id = tLRPC$Photo.id;
                tLRPC$TL_inputPhoto.access_hash = tLRPC$Photo.access_hash;
                tLRPC$TL_inputPhoto.file_reference = tLRPC$Photo.file_reference;
                tLRPC$TL_inputMediaPhoto.spoiler = tLRPC$InputMedia.spoiler;
                tLRPC$TL_inputMediaDocument = tLRPC$TL_inputMediaPhoto;
                if (BuildVars.DEBUG_VERSION) {
                    FileLog.d("set uploaded photo");
                    tLRPC$TL_inputMediaDocument = tLRPC$TL_inputMediaPhoto;
                }
            } else if ((tLRPC$InputMedia instanceof TLRPC$TL_inputMediaUploadedDocument) && (tLRPC$MessageMedia instanceof TLRPC$TL_messageMediaDocument)) {
                TLRPC$TL_inputMediaDocument tLRPC$TL_inputMediaDocument2 = new TLRPC$TL_inputMediaDocument();
                TLRPC$TL_inputDocument tLRPC$TL_inputDocument = new TLRPC$TL_inputDocument();
                tLRPC$TL_inputMediaDocument2.id = tLRPC$TL_inputDocument;
                TLRPC$Document tLRPC$Document = tLRPC$MessageMedia.document;
                tLRPC$TL_inputDocument.id = tLRPC$Document.id;
                tLRPC$TL_inputDocument.access_hash = tLRPC$Document.access_hash;
                tLRPC$TL_inputDocument.file_reference = tLRPC$Document.file_reference;
                tLRPC$TL_inputMediaDocument2.spoiler = tLRPC$InputMedia.spoiler;
                tLRPC$TL_inputMediaDocument = tLRPC$TL_inputMediaDocument2;
                if (BuildVars.DEBUG_VERSION) {
                    FileLog.d("set uploaded document");
                    tLRPC$TL_inputMediaDocument = tLRPC$TL_inputMediaDocument2;
                }
            }
            if (tLRPC$TL_inputMediaDocument == null) {
                int i = tLRPC$InputMedia.ttl_seconds;
                if (i != 0) {
                    tLRPC$TL_inputMediaDocument.ttl_seconds = i;
                    tLRPC$TL_inputMediaDocument.flags |= 1;
                }
                TLRPC$TL_messages_sendMultiMedia tLRPC$TL_messages_sendMultiMedia = (TLRPC$TL_messages_sendMultiMedia) delayedMessage.sendRequest;
                int i2 = 0;
                while (true) {
                    if (i2 >= tLRPC$TL_messages_sendMultiMedia.multi_media.size()) {
                        break;
                    } else if (tLRPC$TL_messages_sendMultiMedia.multi_media.get(i2).media == tLRPC$InputMedia) {
                        tLRPC$TL_messages_sendMultiMedia.multi_media.get(i2).media = tLRPC$TL_inputMediaDocument;
                        break;
                    } else {
                        i2++;
                    }
                }
                sendReadyToSendGroup(delayedMessage, false, true);
                return;
            }
            delayedMessage.markAsError();
            return;
        }
        tLRPC$TL_inputMediaDocument = null;
        if (tLRPC$TL_inputMediaDocument == null) {
        }
    }

    private void sendReadyToSendGroup(DelayedMessage delayedMessage, boolean z, boolean z2) {
        ArrayList<MessageObject> arrayList;
        DelayedMessage findMaxDelayedMessageForMessageId;
        if (delayedMessage.messageObjects.isEmpty()) {
            delayedMessage.markAsError();
            return;
        }
        String str = "group_" + delayedMessage.groupId;
        if (delayedMessage.finalGroupMessage != delayedMessage.messageObjects.get(arrayList.size() - 1).getId()) {
            if (z) {
                if (BuildVars.DEBUG_VERSION) {
                    FileLog.d("final message not added, add");
                }
                putToDelayedMessages(str, delayedMessage);
                return;
            } else if (BuildVars.DEBUG_VERSION) {
                FileLog.d("final message not added");
                return;
            } else {
                return;
            }
        }
        int i = 0;
        if (z) {
            this.delayedMessages.remove(str);
            getMessagesStorage().putMessages(delayedMessage.messages, false, true, false, 0, delayedMessage.scheduled, 0);
            getMessagesController().updateInterfaceWithMessages(delayedMessage.peer, delayedMessage.messageObjects, delayedMessage.scheduled);
            if (!delayedMessage.scheduled) {
                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.dialogsNeedReload, new Object[0]);
            }
            if (BuildVars.DEBUG_VERSION) {
                FileLog.d("add message");
            }
        }
        TLObject tLObject = delayedMessage.sendRequest;
        if (tLObject instanceof TLRPC$TL_messages_sendMultiMedia) {
            TLRPC$TL_messages_sendMultiMedia tLRPC$TL_messages_sendMultiMedia = (TLRPC$TL_messages_sendMultiMedia) tLObject;
            while (i < tLRPC$TL_messages_sendMultiMedia.multi_media.size()) {
                TLRPC$InputMedia tLRPC$InputMedia = tLRPC$TL_messages_sendMultiMedia.multi_media.get(i).media;
                if ((tLRPC$InputMedia instanceof TLRPC$TL_inputMediaUploadedPhoto) || (tLRPC$InputMedia instanceof TLRPC$TL_inputMediaUploadedDocument)) {
                    if (BuildVars.DEBUG_VERSION) {
                        FileLog.d("multi media not ready");
                        return;
                    }
                    return;
                }
                i++;
            }
            if (z2 && (findMaxDelayedMessageForMessageId = findMaxDelayedMessageForMessageId(delayedMessage.finalGroupMessage, delayedMessage.peer)) != null) {
                findMaxDelayedMessageForMessageId.addDelayedRequest(delayedMessage.sendRequest, delayedMessage.messageObjects, delayedMessage.originalPaths, delayedMessage.parentObjects, delayedMessage, delayedMessage.scheduled);
                ArrayList<DelayedMessageSendAfterRequest> arrayList2 = delayedMessage.requests;
                if (arrayList2 != null) {
                    findMaxDelayedMessageForMessageId.requests.addAll(arrayList2);
                }
                if (BuildVars.DEBUG_VERSION) {
                    FileLog.d("has maxDelayedMessage, delay");
                    return;
                }
                return;
            }
        } else {
            TLRPC$TL_messages_sendEncryptedMultiMedia tLRPC$TL_messages_sendEncryptedMultiMedia = (TLRPC$TL_messages_sendEncryptedMultiMedia) delayedMessage.sendEncryptedRequest;
            while (i < tLRPC$TL_messages_sendEncryptedMultiMedia.files.size()) {
                if (tLRPC$TL_messages_sendEncryptedMultiMedia.files.get(i) instanceof TLRPC$TL_inputEncryptedFile) {
                    return;
                }
                i++;
            }
        }
        TLObject tLObject2 = delayedMessage.sendRequest;
        if (tLObject2 instanceof TLRPC$TL_messages_sendMultiMedia) {
            performSendMessageRequestMulti((TLRPC$TL_messages_sendMultiMedia) tLObject2, delayedMessage.messageObjects, delayedMessage.originalPaths, delayedMessage.parentObjects, delayedMessage, delayedMessage.scheduled);
        } else {
            getSecretChatHelper().performSendEncryptedRequest((TLRPC$TL_messages_sendEncryptedMultiMedia) delayedMessage.sendEncryptedRequest, delayedMessage);
        }
        delayedMessage.sendDelayedRequests();
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public void putToSendingMessages(final TLRPC$Message tLRPC$Message, final boolean z) {
        if (Thread.currentThread() != ApplicationLoader.applicationHandler.getLooper().getThread()) {
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda51
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.this.lambda$putToSendingMessages$36(tLRPC$Message, z);
                }
            });
        } else {
            putToSendingMessages(tLRPC$Message, z, true);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$putToSendingMessages$36(TLRPC$Message tLRPC$Message, boolean z) {
        putToSendingMessages(tLRPC$Message, z, true);
    }

    protected void putToSendingMessages(TLRPC$Message tLRPC$Message, boolean z, boolean z2) {
        if (tLRPC$Message == null) {
            return;
        }
        int i = tLRPC$Message.id;
        if (i > 0) {
            this.editingMessages.put(i, tLRPC$Message);
            return;
        }
        boolean z3 = this.sendingMessages.indexOfKey(i) >= 0;
        removeFromUploadingMessages(tLRPC$Message.id, z);
        this.sendingMessages.put(tLRPC$Message.id, tLRPC$Message);
        if (z || z3) {
            return;
        }
        long dialogId = MessageObject.getDialogId(tLRPC$Message);
        LongSparseArray<Integer> longSparseArray = this.sendingMessagesIdDialogs;
        longSparseArray.put(dialogId, Integer.valueOf(longSparseArray.get(dialogId, 0).intValue() + 1));
        if (z2) {
            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.sendingMessagesChanged, new Object[0]);
        }
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public TLRPC$Message removeFromSendingMessages(int i, boolean z) {
        long dialogId;
        Integer num;
        if (i > 0) {
            TLRPC$Message tLRPC$Message = this.editingMessages.get(i);
            if (tLRPC$Message != null) {
                this.editingMessages.remove(i);
                return tLRPC$Message;
            }
            return tLRPC$Message;
        }
        TLRPC$Message tLRPC$Message2 = this.sendingMessages.get(i);
        if (tLRPC$Message2 != null) {
            this.sendingMessages.remove(i);
            if (!z && (num = this.sendingMessagesIdDialogs.get((dialogId = MessageObject.getDialogId(tLRPC$Message2)))) != null) {
                int intValue = num.intValue() - 1;
                if (intValue <= 0) {
                    this.sendingMessagesIdDialogs.remove(dialogId);
                } else {
                    this.sendingMessagesIdDialogs.put(dialogId, Integer.valueOf(intValue));
                }
                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.sendingMessagesChanged, new Object[0]);
            }
        }
        return tLRPC$Message2;
    }

    public int getSendingMessageId(long j) {
        for (int i = 0; i < this.sendingMessages.size(); i++) {
            TLRPC$Message valueAt = this.sendingMessages.valueAt(i);
            if (valueAt.dialog_id == j) {
                return valueAt.id;
            }
        }
        for (int i2 = 0; i2 < this.uploadMessages.size(); i2++) {
            TLRPC$Message valueAt2 = this.uploadMessages.valueAt(i2);
            if (valueAt2.dialog_id == j) {
                return valueAt2.id;
            }
        }
        return 0;
    }

    protected void putToUploadingMessages(MessageObject messageObject) {
        if (messageObject == null || messageObject.getId() > 0 || messageObject.scheduled) {
            return;
        }
        TLRPC$Message tLRPC$Message = messageObject.messageOwner;
        boolean z = this.uploadMessages.indexOfKey(tLRPC$Message.id) >= 0;
        this.uploadMessages.put(tLRPC$Message.id, tLRPC$Message);
        if (z) {
            return;
        }
        long dialogId = MessageObject.getDialogId(tLRPC$Message);
        LongSparseArray<Integer> longSparseArray = this.uploadingMessagesIdDialogs;
        longSparseArray.put(dialogId, Integer.valueOf(longSparseArray.get(dialogId, 0).intValue() + 1));
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.sendingMessagesChanged, new Object[0]);
    }

    protected void removeFromUploadingMessages(int i, boolean z) {
        TLRPC$Message tLRPC$Message;
        if (i > 0 || z || (tLRPC$Message = this.uploadMessages.get(i)) == null) {
            return;
        }
        this.uploadMessages.remove(i);
        long dialogId = MessageObject.getDialogId(tLRPC$Message);
        Integer num = this.uploadingMessagesIdDialogs.get(dialogId);
        if (num != null) {
            int intValue = num.intValue() - 1;
            if (intValue <= 0) {
                this.uploadingMessagesIdDialogs.remove(dialogId);
            } else {
                this.uploadingMessagesIdDialogs.put(dialogId, Integer.valueOf(intValue));
            }
            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.sendingMessagesChanged, new Object[0]);
        }
    }

    public boolean isSendingMessage(int i) {
        return this.sendingMessages.indexOfKey(i) >= 0 || this.editingMessages.indexOfKey(i) >= 0;
    }

    public boolean isSendingMessageIdDialog(long j) {
        return this.sendingMessagesIdDialogs.get(j, 0).intValue() > 0;
    }

    public boolean isUploadingMessageIdDialog(long j) {
        return this.uploadingMessagesIdDialogs.get(j, 0).intValue() > 0;
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public void performSendMessageRequestMulti(final TLRPC$TL_messages_sendMultiMedia tLRPC$TL_messages_sendMultiMedia, final ArrayList<MessageObject> arrayList, final ArrayList<String> arrayList2, final ArrayList<Object> arrayList3, final DelayedMessage delayedMessage, final boolean z) {
        int size = arrayList.size();
        for (int i = 0; i < size; i++) {
            putToSendingMessages(arrayList.get(i).messageOwner, z);
        }
        getConnectionsManager().sendRequest(tLRPC$TL_messages_sendMultiMedia, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda85
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                SendMessagesHelper.this.lambda$performSendMessageRequestMulti$45(arrayList3, tLRPC$TL_messages_sendMultiMedia, arrayList, arrayList2, delayedMessage, z, tLObject, tLRPC$TL_error);
            }
        }, (QuickAckDelegate) null, 68);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequestMulti$45(ArrayList arrayList, final TLRPC$TL_messages_sendMultiMedia tLRPC$TL_messages_sendMultiMedia, final ArrayList arrayList2, final ArrayList arrayList3, final DelayedMessage delayedMessage, final boolean z, final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error != null && FileRefController.isFileRefError(tLRPC$TL_error.text)) {
            if (arrayList != null) {
                ArrayList arrayList4 = new ArrayList(arrayList);
                getFileRefController().requestReference(arrayList4, tLRPC$TL_messages_sendMultiMedia, arrayList2, arrayList3, arrayList4, delayedMessage, Boolean.valueOf(z));
                return;
            } else if (delayedMessage != null && !delayedMessage.retriedToSend) {
                delayedMessage.retriedToSend = true;
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda59
                    @Override // java.lang.Runnable
                    public final void run() {
                        SendMessagesHelper.this.lambda$performSendMessageRequestMulti$37(tLRPC$TL_messages_sendMultiMedia, delayedMessage, arrayList2, z);
                    }
                });
                return;
            }
        }
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda54
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$performSendMessageRequestMulti$44(tLRPC$TL_error, tLObject, arrayList2, arrayList3, z, tLRPC$TL_messages_sendMultiMedia);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequestMulti$37(TLRPC$TL_messages_sendMultiMedia tLRPC$TL_messages_sendMultiMedia, DelayedMessage delayedMessage, ArrayList arrayList, boolean z) {
        int size = tLRPC$TL_messages_sendMultiMedia.multi_media.size();
        boolean z2 = false;
        for (int i = 0; i < size; i++) {
            if (delayedMessage.parentObjects.get(i) != null) {
                removeFromSendingMessages(((MessageObject) arrayList.get(i)).getId(), z);
                TLRPC$TL_inputSingleMedia tLRPC$TL_inputSingleMedia = tLRPC$TL_messages_sendMultiMedia.multi_media.get(i);
                TLRPC$InputMedia tLRPC$InputMedia = tLRPC$TL_inputSingleMedia.media;
                if (tLRPC$InputMedia instanceof TLRPC$TL_inputMediaPhoto) {
                    tLRPC$TL_inputSingleMedia.media = delayedMessage.inputMedias.get(i);
                } else if (tLRPC$InputMedia instanceof TLRPC$TL_inputMediaDocument) {
                    tLRPC$TL_inputSingleMedia.media = delayedMessage.inputMedias.get(i);
                }
                delayedMessage.videoEditedInfo = delayedMessage.videoEditedInfos.get(i);
                delayedMessage.httpLocation = delayedMessage.httpLocations.get(i);
                TLRPC$PhotoSize tLRPC$PhotoSize = delayedMessage.locations.get(i);
                delayedMessage.photoSize = tLRPC$PhotoSize;
                delayedMessage.performMediaUpload = true;
                z2 = (tLRPC$TL_inputSingleMedia.media.file == null || tLRPC$PhotoSize != null) ? true : true;
                performSendDelayedMessage(delayedMessage, i);
            }
        }
        if (z2) {
            return;
        }
        for (int i2 = 0; i2 < arrayList.size(); i2++) {
            TLRPC$Message tLRPC$Message = ((MessageObject) arrayList.get(i2)).messageOwner;
            getMessagesStorage().markMessageAsSendError(tLRPC$Message, z);
            tLRPC$Message.send_state = 2;
            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message.id));
            processSentMessage(tLRPC$Message.id);
            removeFromSendingMessages(tLRPC$Message.id, z);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequestMulti$44(TLRPC$TL_error tLRPC$TL_error, TLObject tLObject, ArrayList arrayList, ArrayList arrayList2, final boolean z, TLRPC$TL_messages_sendMultiMedia tLRPC$TL_messages_sendMultiMedia) {
        boolean z2;
        final TLRPC$Updates tLRPC$Updates;
        boolean z3;
        TLRPC$Message tLRPC$Message;
        TLRPC$Updates tLRPC$Updates2;
        int i;
        int i2;
        TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader;
        int i3;
        if (tLRPC$TL_error == null) {
            SparseArray sparseArray = new SparseArray();
            LongSparseArray longSparseArray = new LongSparseArray();
            TLRPC$Updates tLRPC$Updates3 = (TLRPC$Updates) tLObject;
            ArrayList<TLRPC$Update> arrayList3 = tLRPC$Updates3.updates;
            int i4 = 0;
            LongSparseArray<SparseArray<TLRPC$MessageReplies>> longSparseArray2 = null;
            while (i4 < arrayList3.size()) {
                TLRPC$Update tLRPC$Update = arrayList3.get(i4);
                if (tLRPC$Update instanceof TLRPC$TL_updateMessageID) {
                    TLRPC$TL_updateMessageID tLRPC$TL_updateMessageID = (TLRPC$TL_updateMessageID) tLRPC$Update;
                    longSparseArray.put(tLRPC$TL_updateMessageID.random_id, Integer.valueOf(tLRPC$TL_updateMessageID.id));
                    arrayList3.remove(i4);
                } else if (tLRPC$Update instanceof TLRPC$TL_updateNewMessage) {
                    final TLRPC$TL_updateNewMessage tLRPC$TL_updateNewMessage = (TLRPC$TL_updateNewMessage) tLRPC$Update;
                    TLRPC$Message tLRPC$Message2 = tLRPC$TL_updateNewMessage.message;
                    sparseArray.put(tLRPC$Message2.id, tLRPC$Message2);
                    Utilities.stageQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda65
                        @Override // java.lang.Runnable
                        public final void run() {
                            SendMessagesHelper.this.lambda$performSendMessageRequestMulti$38(tLRPC$TL_updateNewMessage);
                        }
                    });
                    arrayList3.remove(i4);
                } else {
                    if (tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) {
                        final TLRPC$TL_updateNewChannelMessage tLRPC$TL_updateNewChannelMessage = (TLRPC$TL_updateNewChannelMessage) tLRPC$Update;
                        final long updateChannelId = MessagesController.getUpdateChannelId(tLRPC$TL_updateNewChannelMessage);
                        TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(updateChannelId));
                        if (!(chat == null || chat.megagroup) || (tLRPC$MessageReplyHeader = tLRPC$TL_updateNewChannelMessage.message.reply_to) == null || (tLRPC$MessageReplyHeader.reply_to_top_id == 0 && tLRPC$MessageReplyHeader.reply_to_msg_id == 0)) {
                            i3 = i4;
                        } else {
                            if (longSparseArray2 == null) {
                                longSparseArray2 = new LongSparseArray<>();
                            }
                            i3 = i4;
                            long dialogId = MessageObject.getDialogId(tLRPC$TL_updateNewChannelMessage.message);
                            SparseArray<TLRPC$MessageReplies> sparseArray2 = longSparseArray2.get(dialogId);
                            if (sparseArray2 == null) {
                                sparseArray2 = new SparseArray<>();
                                longSparseArray2.put(dialogId, sparseArray2);
                            }
                            TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader2 = tLRPC$TL_updateNewChannelMessage.message.reply_to;
                            int i5 = tLRPC$MessageReplyHeader2.reply_to_top_id;
                            if (i5 == 0) {
                                i5 = tLRPC$MessageReplyHeader2.reply_to_msg_id;
                            }
                            TLRPC$MessageReplies tLRPC$MessageReplies = sparseArray2.get(i5);
                            if (tLRPC$MessageReplies == null) {
                                tLRPC$MessageReplies = new TLRPC$TL_messageReplies();
                                sparseArray2.put(i5, tLRPC$MessageReplies);
                            }
                            TLRPC$Peer tLRPC$Peer = tLRPC$TL_updateNewChannelMessage.message.from_id;
                            if (tLRPC$Peer != null) {
                                tLRPC$MessageReplies.recent_repliers.add(0, tLRPC$Peer);
                            }
                            tLRPC$MessageReplies.replies++;
                        }
                        TLRPC$Message tLRPC$Message3 = tLRPC$TL_updateNewChannelMessage.message;
                        sparseArray.put(tLRPC$Message3.id, tLRPC$Message3);
                        Utilities.stageQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda62
                            @Override // java.lang.Runnable
                            public final void run() {
                                SendMessagesHelper.this.lambda$performSendMessageRequestMulti$39(tLRPC$TL_updateNewChannelMessage);
                            }
                        });
                        int i6 = i3;
                        arrayList3.remove(i6);
                        i2 = i6 - 1;
                        if (tLRPC$TL_updateNewChannelMessage.message.pinned) {
                            Utilities.stageQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda63
                                @Override // java.lang.Runnable
                                public final void run() {
                                    SendMessagesHelper.this.lambda$performSendMessageRequestMulti$40(tLRPC$TL_updateNewChannelMessage, updateChannelId);
                                }
                            });
                        }
                    } else {
                        int i7 = i4;
                        if (tLRPC$Update instanceof TLRPC$TL_updateNewScheduledMessage) {
                            TLRPC$Message tLRPC$Message4 = ((TLRPC$TL_updateNewScheduledMessage) tLRPC$Update).message;
                            sparseArray.put(tLRPC$Message4.id, tLRPC$Message4);
                            arrayList3.remove(i7);
                            i2 = i7 - 1;
                        } else {
                            i2 = i7;
                        }
                    }
                    i4 = i2 + 1;
                }
                i2 = i4 - 1;
                i4 = i2 + 1;
            }
            if (longSparseArray2 != null) {
                getMessagesStorage().putChannelViews(null, null, longSparseArray2, true);
                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.didUpdateMessagesViews, null, null, longSparseArray2, Boolean.TRUE);
            }
            int i8 = 0;
            while (i8 < arrayList.size()) {
                MessageObject messageObject = (MessageObject) arrayList.get(i8);
                String str = (String) arrayList2.get(i8);
                final TLRPC$Message tLRPC$Message5 = messageObject.messageOwner;
                final int i9 = tLRPC$Message5.id;
                final ArrayList arrayList4 = new ArrayList();
                Integer num = (Integer) longSparseArray.get(tLRPC$Message5.random_id);
                if (num == null || (tLRPC$Message = (TLRPC$Message) sparseArray.get(num.intValue())) == null) {
                    tLRPC$Updates = tLRPC$Updates3;
                    z3 = true;
                    break;
                }
                MessageObject.getDialogId(tLRPC$Message);
                arrayList4.add(tLRPC$Message);
                if ((tLRPC$Message.flags & ConnectionsManager.FileTypeVideo) != 0) {
                    TLRPC$Message tLRPC$Message6 = messageObject.messageOwner;
                    tLRPC$Message6.ttl_period = tLRPC$Message.ttl_period;
                    tLRPC$Message6.flags = 33554432 | tLRPC$Message6.flags;
                }
                updateMediaPaths(messageObject, tLRPC$Message, tLRPC$Message.id, str, false);
                final int mediaExistanceFlags = messageObject.getMediaExistanceFlags();
                tLRPC$Message5.id = tLRPC$Message.id;
                final long j = tLRPC$Message.grouped_id;
                if (z) {
                    tLRPC$Updates2 = tLRPC$Updates3;
                    i = i8;
                } else {
                    tLRPC$Updates2 = tLRPC$Updates3;
                    i = i8;
                    Integer num2 = getMessagesController().dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Message.dialog_id));
                    if (num2 == null) {
                        num2 = Integer.valueOf(getMessagesStorage().getDialogReadMax(tLRPC$Message.out, tLRPC$Message.dialog_id));
                        getMessagesController().dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Message.dialog_id), num2);
                    }
                    tLRPC$Message.unread = num2.intValue() < tLRPC$Message.id;
                }
                getStatsController().incrementSentItemsCount(ApplicationLoader.getCurrentNetworkType(), 1, 1);
                tLRPC$Message5.send_state = 0;
                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageReceivedByServer, Integer.valueOf(i9), Integer.valueOf(tLRPC$Message5.id), tLRPC$Message5, Long.valueOf(tLRPC$Message5.dialog_id), Long.valueOf(j), Integer.valueOf(mediaExistanceFlags), Boolean.valueOf(z));
                getMessagesStorage().getStorageQueue().postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda48
                    @Override // java.lang.Runnable
                    public final void run() {
                        SendMessagesHelper.this.lambda$performSendMessageRequestMulti$42(tLRPC$Message5, i9, z, arrayList4, j, mediaExistanceFlags);
                    }
                });
                i8 = i + 1;
                sparseArray = sparseArray;
                tLRPC$Updates3 = tLRPC$Updates2;
                longSparseArray = longSparseArray;
            }
            tLRPC$Updates = tLRPC$Updates3;
            z3 = false;
            Utilities.stageQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda68
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.this.lambda$performSendMessageRequestMulti$43(tLRPC$Updates);
                }
            });
            z2 = z3;
        } else {
            AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, null, tLRPC$TL_messages_sendMultiMedia, new Object[0]);
            z2 = true;
        }
        if (z2) {
            for (int i10 = 0; i10 < arrayList.size(); i10++) {
                TLRPC$Message tLRPC$Message7 = ((MessageObject) arrayList.get(i10)).messageOwner;
                getMessagesStorage().markMessageAsSendError(tLRPC$Message7, z);
                tLRPC$Message7.send_state = 2;
                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message7.id));
                processSentMessage(tLRPC$Message7.id);
                removeFromSendingMessages(tLRPC$Message7.id, z);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequestMulti$38(TLRPC$TL_updateNewMessage tLRPC$TL_updateNewMessage) {
        getMessagesController().processNewDifferenceParams(-1, tLRPC$TL_updateNewMessage.pts, -1, tLRPC$TL_updateNewMessage.pts_count);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequestMulti$39(TLRPC$TL_updateNewChannelMessage tLRPC$TL_updateNewChannelMessage) {
        getMessagesController().processNewChannelDifferenceParams(tLRPC$TL_updateNewChannelMessage.pts, tLRPC$TL_updateNewChannelMessage.pts_count, tLRPC$TL_updateNewChannelMessage.message.peer_id.channel_id);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequestMulti$40(TLRPC$TL_updateNewChannelMessage tLRPC$TL_updateNewChannelMessage, long j) {
        ArrayList<Integer> arrayList = new ArrayList<>();
        arrayList.add(Integer.valueOf(tLRPC$TL_updateNewChannelMessage.message.id));
        getMessagesStorage().updatePinnedMessages(-j, arrayList, true, -1, 0, false, null);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequestMulti$42(final TLRPC$Message tLRPC$Message, final int i, final boolean z, ArrayList arrayList, final long j, final int i2) {
        getMessagesStorage().updateMessageStateAndId(tLRPC$Message.random_id, MessageObject.getPeerId(tLRPC$Message.peer_id), Integer.valueOf(i), tLRPC$Message.id, 0, false, z ? 1 : 0);
        getMessagesStorage().putMessages((ArrayList<TLRPC$Message>) arrayList, true, false, false, 0, z, 0);
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda46
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$performSendMessageRequestMulti$41(tLRPC$Message, i, j, i2, z);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequestMulti$41(TLRPC$Message tLRPC$Message, int i, long j, int i2, boolean z) {
        getMediaDataController().increasePeerRaiting(tLRPC$Message.dialog_id);
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageReceivedByServer, Integer.valueOf(i), Integer.valueOf(tLRPC$Message.id), tLRPC$Message, Long.valueOf(tLRPC$Message.dialog_id), Long.valueOf(j), Integer.valueOf(i2), Boolean.valueOf(z));
        processSentMessage(i);
        removeFromSendingMessages(i, z);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequestMulti$43(TLRPC$Updates tLRPC$Updates) {
        getMessagesController().processUpdates(tLRPC$Updates, false);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void performSendMessageRequest(TLObject tLObject, MessageObject messageObject, String str, DelayedMessage delayedMessage, Object obj, HashMap<String, String> hashMap, boolean z) {
        performSendMessageRequest(tLObject, messageObject, str, null, false, delayedMessage, obj, hashMap, z);
    }

    private DelayedMessage findMaxDelayedMessageForMessageId(int i, long j) {
        int i2;
        DelayedMessage delayedMessage = null;
        int i3 = Integer.MIN_VALUE;
        for (Map.Entry<String, ArrayList<DelayedMessage>> entry : this.delayedMessages.entrySet()) {
            ArrayList<DelayedMessage> value = entry.getValue();
            int size = value.size();
            for (int i4 = 0; i4 < size; i4++) {
                DelayedMessage delayedMessage2 = value.get(i4);
                int i5 = delayedMessage2.type;
                if ((i5 == 4 || i5 == 0) && delayedMessage2.peer == j) {
                    MessageObject messageObject = delayedMessage2.obj;
                    if (messageObject != null) {
                        i2 = messageObject.getId();
                    } else {
                        ArrayList<MessageObject> arrayList = delayedMessage2.messageObjects;
                        if (arrayList == null || arrayList.isEmpty()) {
                            i2 = 0;
                        } else {
                            ArrayList<MessageObject> arrayList2 = delayedMessage2.messageObjects;
                            i2 = arrayList2.get(arrayList2.size() - 1).getId();
                        }
                    }
                    if (i2 != 0 && i2 > i && delayedMessage == null && i3 < i2) {
                        delayedMessage = delayedMessage2;
                        i3 = i2;
                    }
                }
            }
        }
        return delayedMessage;
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public void performSendMessageRequest(final TLObject tLObject, final MessageObject messageObject, final String str, final DelayedMessage delayedMessage, final boolean z, final DelayedMessage delayedMessage2, final Object obj, HashMap<String, String> hashMap, final boolean z2) {
        DelayedMessage findMaxDelayedMessageForMessageId;
        ArrayList<DelayedMessageSendAfterRequest> arrayList;
        if (!(tLObject instanceof TLRPC$TL_messages_editMessage) && z && (findMaxDelayedMessageForMessageId = findMaxDelayedMessageForMessageId(messageObject.getId(), messageObject.getDialogId())) != null) {
            findMaxDelayedMessageForMessageId.addDelayedRequest(tLObject, messageObject, str, obj, delayedMessage2, delayedMessage != null ? delayedMessage.scheduled : false);
            if (delayedMessage == null || (arrayList = delayedMessage.requests) == null) {
                return;
            }
            findMaxDelayedMessageForMessageId.requests.addAll(arrayList);
            return;
        }
        final TLRPC$Message tLRPC$Message = messageObject.messageOwner;
        putToSendingMessages(tLRPC$Message, z2);
        tLRPC$Message.reqId = getConnectionsManager().sendRequest(tLObject, new RequestDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda88
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject2, TLRPC$TL_error tLRPC$TL_error) {
                SendMessagesHelper.this.lambda$performSendMessageRequest$60(tLObject, obj, messageObject, str, delayedMessage, z, delayedMessage2, z2, tLRPC$Message, tLObject2, tLRPC$TL_error);
            }
        }, new QuickAckDelegate() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda79
            @Override // org.telegram.tgnet.QuickAckDelegate
            public final void run() {
                SendMessagesHelper.this.lambda$performSendMessageRequest$62(tLRPC$Message);
            }
        }, (tLObject instanceof TLRPC$TL_messages_sendMessage ? 128 : 0) | 68);
        if (delayedMessage != null) {
            delayedMessage.sendDelayedRequests();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$60(final TLObject tLObject, Object obj, final MessageObject messageObject, final String str, DelayedMessage delayedMessage, boolean z, final DelayedMessage delayedMessage2, final boolean z2, final TLRPC$Message tLRPC$Message, final TLObject tLObject2, final TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error != null && (((tLObject instanceof TLRPC$TL_messages_sendMedia) || (tLObject instanceof TLRPC$TL_messages_editMessage)) && FileRefController.isFileRefError(tLRPC$TL_error.text))) {
            if (obj != null) {
                getFileRefController().requestReference(obj, tLObject, messageObject, str, delayedMessage, Boolean.valueOf(z), delayedMessage2, Boolean.valueOf(z2));
                return;
            } else if (delayedMessage2 != null) {
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda53
                    @Override // java.lang.Runnable
                    public final void run() {
                        SendMessagesHelper.this.lambda$performSendMessageRequest$46(tLRPC$Message, z2, tLObject, delayedMessage2);
                    }
                });
                return;
            }
        }
        if (tLObject instanceof TLRPC$TL_messages_editMessage) {
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda56
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.this.lambda$performSendMessageRequest$49(tLRPC$TL_error, tLRPC$Message, tLObject2, messageObject, str, z2, tLObject);
                }
            });
        } else {
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda71
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.this.lambda$performSendMessageRequest$59(z2, tLRPC$TL_error, tLRPC$Message, tLObject2, messageObject, str, tLObject);
                }
            });
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$46(TLRPC$Message tLRPC$Message, boolean z, TLObject tLObject, DelayedMessage delayedMessage) {
        removeFromSendingMessages(tLRPC$Message.id, z);
        if (tLObject instanceof TLRPC$TL_messages_sendMedia) {
            TLRPC$TL_messages_sendMedia tLRPC$TL_messages_sendMedia = (TLRPC$TL_messages_sendMedia) tLObject;
            TLRPC$InputMedia tLRPC$InputMedia = tLRPC$TL_messages_sendMedia.media;
            if (tLRPC$InputMedia instanceof TLRPC$TL_inputMediaPhoto) {
                tLRPC$TL_messages_sendMedia.media = delayedMessage.inputUploadMedia;
            } else if (tLRPC$InputMedia instanceof TLRPC$TL_inputMediaDocument) {
                tLRPC$TL_messages_sendMedia.media = delayedMessage.inputUploadMedia;
            }
        } else if (tLObject instanceof TLRPC$TL_messages_editMessage) {
            TLRPC$TL_messages_editMessage tLRPC$TL_messages_editMessage = (TLRPC$TL_messages_editMessage) tLObject;
            TLRPC$InputMedia tLRPC$InputMedia2 = tLRPC$TL_messages_editMessage.media;
            if (tLRPC$InputMedia2 instanceof TLRPC$TL_inputMediaPhoto) {
                tLRPC$TL_messages_editMessage.media = delayedMessage.inputUploadMedia;
            } else if (tLRPC$InputMedia2 instanceof TLRPC$TL_inputMediaDocument) {
                tLRPC$TL_messages_editMessage.media = delayedMessage.inputUploadMedia;
            }
        }
        delayedMessage.performMediaUpload = true;
        performSendDelayedMessage(delayedMessage);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$49(TLRPC$TL_error tLRPC$TL_error, final TLRPC$Message tLRPC$Message, TLObject tLObject, MessageObject messageObject, String str, final boolean z, TLObject tLObject2) {
        int i = 0;
        TLRPC$Message tLRPC$Message2 = null;
        if (tLRPC$TL_error == null) {
            String str2 = tLRPC$Message.attachPath;
            final TLRPC$Updates tLRPC$Updates = (TLRPC$Updates) tLObject;
            ArrayList<TLRPC$Update> arrayList = tLRPC$Updates.updates;
            while (true) {
                if (i >= arrayList.size()) {
                    break;
                }
                TLRPC$Update tLRPC$Update = arrayList.get(i);
                if (tLRPC$Update instanceof TLRPC$TL_updateEditMessage) {
                    tLRPC$Message2 = ((TLRPC$TL_updateEditMessage) tLRPC$Update).message;
                    break;
                } else if (tLRPC$Update instanceof TLRPC$TL_updateEditChannelMessage) {
                    tLRPC$Message2 = ((TLRPC$TL_updateEditChannelMessage) tLRPC$Update).message;
                    break;
                } else if (tLRPC$Update instanceof TLRPC$TL_updateNewScheduledMessage) {
                    tLRPC$Message2 = ((TLRPC$TL_updateNewScheduledMessage) tLRPC$Update).message;
                    break;
                } else {
                    i++;
                }
            }
            TLRPC$Message tLRPC$Message3 = tLRPC$Message2;
            if (tLRPC$Message3 != null) {
                ImageLoader.saveMessageThumbs(tLRPC$Message3);
                updateMediaPaths(messageObject, tLRPC$Message3, tLRPC$Message3.id, str, false);
            }
            Utilities.stageQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda70
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.this.lambda$performSendMessageRequest$48(tLRPC$Updates, tLRPC$Message, z);
                }
            });
            return;
        }
        AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, null, tLObject2, new Object[0]);
        removeFromSendingMessages(tLRPC$Message.id, z);
        revertEditingMessageObject(messageObject);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$48(TLRPC$Updates tLRPC$Updates, final TLRPC$Message tLRPC$Message, final boolean z) {
        getMessagesController().processUpdates(tLRPC$Updates, false);
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda52
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$performSendMessageRequest$47(tLRPC$Message, z);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$47(TLRPC$Message tLRPC$Message, boolean z) {
        processSentMessage(tLRPC$Message.id);
        removeFromSendingMessages(tLRPC$Message.id, z);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* JADX WARN: Code restructure failed: missing block: B:44:0x0115, code lost:
        r11 = r10;
        r10 = null;
     */
    /* JADX WARN: Removed duplicated region for block: B:123:0x02f2  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public /* synthetic */ void lambda$performSendMessageRequest$59(final boolean z, TLRPC$TL_error tLRPC$TL_error, final TLRPC$Message tLRPC$Message, TLObject tLObject, final MessageObject messageObject, String str, TLObject tLObject2) {
        boolean z2;
        boolean z3;
        int i;
        LongSparseArray<SparseArray<TLRPC$MessageReplies>> longSparseArray;
        TLRPC$Message tLRPC$Message2;
        boolean z4;
        boolean z5;
        int i2;
        boolean z6;
        TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader;
        LongSparseArray<SparseArray<TLRPC$MessageReplies>> longSparseArray2;
        TLRPC$Message tLRPC$Message3;
        if (tLRPC$TL_error == null) {
            final int i3 = tLRPC$Message.id;
            final ArrayList arrayList = new ArrayList();
            boolean z7 = tLRPC$Message.date == 2147483646;
            if (tLObject instanceof TLRPC$TL_updateShortSentMessage) {
                final TLRPC$TL_updateShortSentMessage tLRPC$TL_updateShortSentMessage = (TLRPC$TL_updateShortSentMessage) tLObject;
                updateMediaPaths(messageObject, null, tLRPC$TL_updateShortSentMessage.id, null, false);
                int mediaExistanceFlags = messageObject.getMediaExistanceFlags();
                int i4 = tLRPC$TL_updateShortSentMessage.id;
                tLRPC$Message.id = i4;
                tLRPC$Message.local_id = i4;
                tLRPC$Message.date = tLRPC$TL_updateShortSentMessage.date;
                tLRPC$Message.entities = tLRPC$TL_updateShortSentMessage.entities;
                tLRPC$Message.out = tLRPC$TL_updateShortSentMessage.out;
                if ((tLRPC$TL_updateShortSentMessage.flags & ConnectionsManager.FileTypeVideo) != 0) {
                    tLRPC$Message.ttl_period = tLRPC$TL_updateShortSentMessage.ttl_period;
                    tLRPC$Message.flags |= ConnectionsManager.FileTypeVideo;
                }
                TLRPC$MessageMedia tLRPC$MessageMedia = tLRPC$TL_updateShortSentMessage.media;
                if (tLRPC$MessageMedia != null) {
                    tLRPC$Message.media = tLRPC$MessageMedia;
                    tLRPC$Message.flags |= LiteMode.FLAG_CALLS_ANIMATIONS;
                    ImageLoader.saveMessageThumbs(tLRPC$Message);
                }
                TLRPC$MessageMedia tLRPC$MessageMedia2 = tLRPC$TL_updateShortSentMessage.media;
                if (((tLRPC$MessageMedia2 instanceof TLRPC$TL_messageMediaGame) || (tLRPC$MessageMedia2 instanceof TLRPC$TL_messageMediaInvoice)) && !TextUtils.isEmpty(tLRPC$TL_updateShortSentMessage.message)) {
                    tLRPC$Message.message = tLRPC$TL_updateShortSentMessage.message;
                }
                if (!tLRPC$Message.entities.isEmpty()) {
                    tLRPC$Message.flags |= 128;
                }
                Integer num = getMessagesController().dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Message.dialog_id));
                if (num == null) {
                    num = Integer.valueOf(getMessagesStorage().getDialogReadMax(tLRPC$Message.out, tLRPC$Message.dialog_id));
                    getMessagesController().dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Message.dialog_id), num);
                }
                tLRPC$Message.unread = num.intValue() < tLRPC$Message.id;
                Utilities.stageQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda67
                    @Override // java.lang.Runnable
                    public final void run() {
                        SendMessagesHelper.this.lambda$performSendMessageRequest$50(tLRPC$TL_updateShortSentMessage);
                    }
                });
                arrayList.add(tLRPC$Message);
                i = mediaExistanceFlags;
                z3 = false;
            } else if (tLObject instanceof TLRPC$Updates) {
                final TLRPC$Updates tLRPC$Updates = (TLRPC$Updates) tLObject;
                ArrayList<TLRPC$Update> arrayList2 = tLRPC$Updates.updates;
                int i5 = 0;
                while (true) {
                    if (i5 >= arrayList2.size()) {
                        longSparseArray = null;
                        tLRPC$Message2 = null;
                        break;
                    }
                    TLRPC$Update tLRPC$Update = arrayList2.get(i5);
                    if (tLRPC$Update instanceof TLRPC$TL_updateNewMessage) {
                        final TLRPC$TL_updateNewMessage tLRPC$TL_updateNewMessage = (TLRPC$TL_updateNewMessage) tLRPC$Update;
                        tLRPC$Message3 = tLRPC$TL_updateNewMessage.message;
                        if (tLRPC$Message3.action == null) {
                            arrayList.add(tLRPC$Message3);
                            Utilities.stageQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda66
                                @Override // java.lang.Runnable
                                public final void run() {
                                    SendMessagesHelper.this.lambda$performSendMessageRequest$51(tLRPC$TL_updateNewMessage);
                                }
                            });
                            arrayList2.remove(i5);
                            break;
                        }
                    }
                    if (tLRPC$Update instanceof TLRPC$TL_updateNewChannelMessage) {
                        final TLRPC$TL_updateNewChannelMessage tLRPC$TL_updateNewChannelMessage = (TLRPC$TL_updateNewChannelMessage) tLRPC$Update;
                        final long updateChannelId = MessagesController.getUpdateChannelId(tLRPC$TL_updateNewChannelMessage);
                        TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(updateChannelId));
                        if (!(chat == null || chat.megagroup) || (tLRPC$MessageReplyHeader = tLRPC$TL_updateNewChannelMessage.message.reply_to) == null || (tLRPC$MessageReplyHeader.reply_to_top_id == 0 && tLRPC$MessageReplyHeader.reply_to_msg_id == 0)) {
                            longSparseArray = null;
                        } else {
                            LongSparseArray<SparseArray<TLRPC$MessageReplies>> longSparseArray3 = new LongSparseArray<>();
                            long dialogId = MessageObject.getDialogId(tLRPC$TL_updateNewChannelMessage.message);
                            SparseArray<TLRPC$MessageReplies> sparseArray = longSparseArray3.get(dialogId);
                            if (sparseArray == null) {
                                sparseArray = new SparseArray<>();
                                longSparseArray3.put(dialogId, sparseArray);
                            }
                            TLRPC$MessageReplyHeader tLRPC$MessageReplyHeader2 = tLRPC$TL_updateNewChannelMessage.message.reply_to;
                            int i6 = tLRPC$MessageReplyHeader2.reply_to_top_id;
                            if (i6 == 0) {
                                i6 = tLRPC$MessageReplyHeader2.reply_to_msg_id;
                            }
                            TLRPC$MessageReplies tLRPC$MessageReplies = sparseArray.get(i6);
                            if (tLRPC$MessageReplies == null) {
                                tLRPC$MessageReplies = new TLRPC$TL_messageReplies();
                                sparseArray.put(i6, tLRPC$MessageReplies);
                            }
                            TLRPC$Peer tLRPC$Peer = tLRPC$TL_updateNewChannelMessage.message.from_id;
                            if (tLRPC$Peer != null) {
                                longSparseArray2 = longSparseArray3;
                                tLRPC$MessageReplies.recent_repliers.add(0, tLRPC$Peer);
                            } else {
                                longSparseArray2 = longSparseArray3;
                            }
                            tLRPC$MessageReplies.replies++;
                            longSparseArray = longSparseArray2;
                        }
                        tLRPC$Message2 = tLRPC$TL_updateNewChannelMessage.message;
                        arrayList.add(tLRPC$Message2);
                        Utilities.stageQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda61
                            @Override // java.lang.Runnable
                            public final void run() {
                                SendMessagesHelper.this.lambda$performSendMessageRequest$52(tLRPC$TL_updateNewChannelMessage);
                            }
                        });
                        arrayList2.remove(i5);
                        if (tLRPC$TL_updateNewChannelMessage.message.pinned) {
                            Utilities.stageQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda64
                                @Override // java.lang.Runnable
                                public final void run() {
                                    SendMessagesHelper.this.lambda$performSendMessageRequest$53(tLRPC$TL_updateNewChannelMessage, updateChannelId);
                                }
                            });
                        }
                    } else if (tLRPC$Update instanceof TLRPC$TL_updateNewScheduledMessage) {
                        tLRPC$Message3 = ((TLRPC$TL_updateNewScheduledMessage) tLRPC$Update).message;
                        arrayList.add(tLRPC$Message3);
                        arrayList2.remove(i5);
                        break;
                    } else {
                        i5++;
                    }
                }
                if (longSparseArray != null) {
                    getMessagesStorage().putChannelViews(null, null, longSparseArray, true);
                    getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.didUpdateMessagesViews, null, null, longSparseArray, Boolean.TRUE);
                }
                if (tLRPC$Message2 != null) {
                    MessageObject.getDialogId(tLRPC$Message2);
                    z4 = (!z7 || tLRPC$Message2.date == 2147483646) ? z : false;
                    ImageLoader.saveMessageThumbs(tLRPC$Message2);
                    if (!z4) {
                        Integer num2 = getMessagesController().dialogs_read_outbox_max.get(Long.valueOf(tLRPC$Message2.dialog_id));
                        if (num2 == null) {
                            num2 = Integer.valueOf(getMessagesStorage().getDialogReadMax(tLRPC$Message2.out, tLRPC$Message2.dialog_id));
                            getMessagesController().dialogs_read_outbox_max.put(Long.valueOf(tLRPC$Message2.dialog_id), num2);
                        }
                        tLRPC$Message2.unread = num2.intValue() < tLRPC$Message2.id;
                    }
                    TLRPC$Message tLRPC$Message4 = messageObject.messageOwner;
                    tLRPC$Message4.post_author = tLRPC$Message2.post_author;
                    if ((tLRPC$Message2.flags & ConnectionsManager.FileTypeVideo) != 0) {
                        tLRPC$Message4.ttl_period = tLRPC$Message2.ttl_period;
                        tLRPC$Message4.flags |= ConnectionsManager.FileTypeVideo;
                    }
                    tLRPC$Message4.entities = tLRPC$Message2.entities;
                    updateMediaPaths(messageObject, tLRPC$Message2, tLRPC$Message2.id, str, false);
                    int mediaExistanceFlags2 = messageObject.getMediaExistanceFlags();
                    tLRPC$Message.id = tLRPC$Message2.id;
                    i2 = mediaExistanceFlags2;
                    z5 = false;
                } else {
                    if (BuildVars.LOGS_ENABLED) {
                        StringBuilder sb = new StringBuilder();
                        for (int i7 = 0; i7 < arrayList2.size(); i7++) {
                            sb.append(arrayList2.get(i7).getClass().getSimpleName());
                            sb.append(", ");
                        }
                        FileLog.d("can't find message in updates " + ((Object) sb));
                    }
                    z4 = z;
                    z5 = true;
                    i2 = 0;
                }
                Utilities.stageQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda69
                    @Override // java.lang.Runnable
                    public final void run() {
                        SendMessagesHelper.this.lambda$performSendMessageRequest$54(tLRPC$Updates);
                    }
                });
                z6 = z5;
                z3 = z4;
                i = i2;
                if (MessageObject.isLiveLocationMessage(tLRPC$Message) && tLRPC$Message.via_bot_id == 0 && TextUtils.isEmpty(tLRPC$Message.via_bot_name)) {
                    getLocationController().addSharingLocation(tLRPC$Message);
                }
                if (!z6) {
                    getStatsController().incrementSentItemsCount(ApplicationLoader.getCurrentNetworkType(), 1, 1);
                    tLRPC$Message.send_state = 0;
                    if (z && !z3) {
                        ArrayList<Integer> arrayList3 = new ArrayList<>();
                        arrayList3.add(Integer.valueOf(i3));
                        getMessagesController().deleteMessages(arrayList3, null, null, tLRPC$Message.dialog_id, false, true);
                        getMessagesStorage().getStorageQueue().postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda33
                            @Override // java.lang.Runnable
                            public final void run() {
                                SendMessagesHelper.this.lambda$performSendMessageRequest$56(arrayList, messageObject, tLRPC$Message, i3, z);
                            }
                        });
                    } else {
                        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageReceivedByServer, Integer.valueOf(i3), Integer.valueOf(tLRPC$Message.id), tLRPC$Message, Long.valueOf(tLRPC$Message.dialog_id), 0L, Integer.valueOf(i), Boolean.valueOf(z));
                        final int i8 = i;
                        getMessagesStorage().getStorageQueue().postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda47
                            @Override // java.lang.Runnable
                            public final void run() {
                                SendMessagesHelper.this.lambda$performSendMessageRequest$58(tLRPC$Message, i3, z, arrayList, i8);
                            }
                        });
                    }
                }
                z2 = z6;
            } else {
                z3 = z;
                i = 0;
            }
            z6 = false;
            if (MessageObject.isLiveLocationMessage(tLRPC$Message)) {
                getLocationController().addSharingLocation(tLRPC$Message);
            }
            if (!z6) {
            }
            z2 = z6;
        } else {
            AlertsCreator.processError(this.currentAccount, tLRPC$TL_error, null, tLObject2, new Object[0]);
            z2 = true;
        }
        if (z2) {
            getMessagesStorage().markMessageAsSendError(tLRPC$Message, z);
            tLRPC$Message.send_state = 2;
            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageSendError, Integer.valueOf(tLRPC$Message.id));
            processSentMessage(tLRPC$Message.id);
            removeFromSendingMessages(tLRPC$Message.id, z);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$50(TLRPC$TL_updateShortSentMessage tLRPC$TL_updateShortSentMessage) {
        getMessagesController().processNewDifferenceParams(-1, tLRPC$TL_updateShortSentMessage.pts, tLRPC$TL_updateShortSentMessage.date, tLRPC$TL_updateShortSentMessage.pts_count);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$51(TLRPC$TL_updateNewMessage tLRPC$TL_updateNewMessage) {
        getMessagesController().processNewDifferenceParams(-1, tLRPC$TL_updateNewMessage.pts, -1, tLRPC$TL_updateNewMessage.pts_count);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$52(TLRPC$TL_updateNewChannelMessage tLRPC$TL_updateNewChannelMessage) {
        getMessagesController().processNewChannelDifferenceParams(tLRPC$TL_updateNewChannelMessage.pts, tLRPC$TL_updateNewChannelMessage.pts_count, tLRPC$TL_updateNewChannelMessage.message.peer_id.channel_id);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$53(TLRPC$TL_updateNewChannelMessage tLRPC$TL_updateNewChannelMessage, long j) {
        ArrayList<Integer> arrayList = new ArrayList<>();
        arrayList.add(Integer.valueOf(tLRPC$TL_updateNewChannelMessage.message.id));
        getMessagesStorage().updatePinnedMessages(-j, arrayList, true, -1, 0, false, null);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$54(TLRPC$Updates tLRPC$Updates) {
        getMessagesController().processUpdates(tLRPC$Updates, false);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$56(ArrayList arrayList, final MessageObject messageObject, final TLRPC$Message tLRPC$Message, final int i, final boolean z) {
        getMessagesStorage().putMessages((ArrayList<TLRPC$Message>) arrayList, true, false, false, 0, false, 0);
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda36
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$performSendMessageRequest$55(messageObject, tLRPC$Message, i, z);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$55(MessageObject messageObject, TLRPC$Message tLRPC$Message, int i, boolean z) {
        ArrayList<MessageObject> arrayList = new ArrayList<>();
        arrayList.add(new MessageObject(messageObject.currentAccount, messageObject.messageOwner, true, true));
        getMessagesController().updateInterfaceWithMessages(tLRPC$Message.dialog_id, arrayList, false);
        getMediaDataController().increasePeerRaiting(tLRPC$Message.dialog_id);
        processSentMessage(i);
        removeFromSendingMessages(i, z);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$58(final TLRPC$Message tLRPC$Message, final int i, final boolean z, ArrayList arrayList, final int i2) {
        getMessagesStorage().updateMessageStateAndId(tLRPC$Message.random_id, MessageObject.getPeerId(tLRPC$Message.peer_id), Integer.valueOf(i), tLRPC$Message.id, 0, false, z ? 1 : 0);
        getMessagesStorage().putMessages((ArrayList<TLRPC$Message>) arrayList, true, false, false, 0, z, 0);
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda45
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$performSendMessageRequest$57(tLRPC$Message, i, i2, z);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$57(TLRPC$Message tLRPC$Message, int i, int i2, boolean z) {
        getMediaDataController().increasePeerRaiting(tLRPC$Message.dialog_id);
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageReceivedByServer, Integer.valueOf(i), Integer.valueOf(tLRPC$Message.id), tLRPC$Message, Long.valueOf(tLRPC$Message.dialog_id), 0L, Integer.valueOf(i2), Boolean.valueOf(z));
        processSentMessage(i);
        removeFromSendingMessages(i, z);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$62(final TLRPC$Message tLRPC$Message) {
        final int i = tLRPC$Message.id;
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda44
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$performSendMessageRequest$61(tLRPC$Message, i);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$performSendMessageRequest$61(TLRPC$Message tLRPC$Message, int i) {
        tLRPC$Message.send_state = 0;
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.messageReceivedByAck, Integer.valueOf(i));
    }

    /* JADX WARN: Removed duplicated region for block: B:144:0x02fd  */
    /* JADX WARN: Removed duplicated region for block: B:72:0x00fe  */
    /* JADX WARN: Removed duplicated region for block: B:73:0x0112  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private void updateMediaPaths(MessageObject messageObject, TLRPC$Message tLRPC$Message, int i, String str, boolean z) {
        TLRPC$PhotoSize tLRPC$PhotoSize;
        TLRPC$FileLocation tLRPC$FileLocation;
        byte[] bArr;
        boolean z2;
        String str2;
        TLRPC$FileLocation tLRPC$FileLocation2;
        VideoEditedInfo videoEditedInfo;
        boolean z3;
        String str3;
        File file;
        TLRPC$PhotoSize closestPhotoSizeWithSize;
        TLObject tLObject;
        TLRPC$MessageMedia tLRPC$MessageMedia;
        TLRPC$WebPage tLRPC$WebPage;
        TLRPC$Document tLRPC$Document;
        TLRPC$MessageMedia tLRPC$MessageMedia2;
        TLRPC$WebPage tLRPC$WebPage2;
        TLRPC$Photo tLRPC$Photo;
        TLRPC$MessageMedia tLRPC$MessageMedia3;
        TLRPC$Document tLRPC$Document2;
        TLRPC$MessageMedia tLRPC$MessageMedia4;
        TLRPC$Photo tLRPC$Photo2;
        TLRPC$Message tLRPC$Message2 = messageObject.messageOwner;
        TLRPC$MessageMedia tLRPC$MessageMedia5 = tLRPC$Message2.media;
        if (tLRPC$MessageMedia5 != null) {
            if (tLRPC$MessageMedia5.storyItem != null) {
                tLRPC$Message.media = tLRPC$MessageMedia5;
            } else {
                if (messageObject.isLiveLocation()) {
                    TLRPC$MessageMedia tLRPC$MessageMedia6 = tLRPC$Message.media;
                    if (tLRPC$MessageMedia6 instanceof TLRPC$TL_messageMediaGeoLive) {
                        tLRPC$Message2.media.period = tLRPC$MessageMedia6.period;
                    }
                }
                if (messageObject.isDice()) {
                    ((TLRPC$TL_messageMediaDice) tLRPC$Message2.media).value = ((TLRPC$TL_messageMediaDice) tLRPC$Message.media).value;
                } else {
                    TLRPC$MessageMedia tLRPC$MessageMedia7 = tLRPC$Message2.media;
                    TLRPC$Photo tLRPC$Photo3 = tLRPC$MessageMedia7.photo;
                    if (tLRPC$Photo3 != null) {
                        closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(tLRPC$Photo3.sizes, 40);
                        tLRPC$PhotoSize = (tLRPC$Message == null || (tLRPC$MessageMedia4 = tLRPC$Message.media) == null || (tLRPC$Photo2 = tLRPC$MessageMedia4.photo) == null) ? closestPhotoSizeWithSize : FileLoader.getClosestPhotoSizeWithSize(tLRPC$Photo2.sizes, 40);
                        tLObject = tLRPC$Message2.media.photo;
                    } else {
                        TLRPC$Document tLRPC$Document3 = tLRPC$MessageMedia7.document;
                        if (tLRPC$Document3 != null) {
                            closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(tLRPC$Document3.thumbs, 40);
                            tLRPC$PhotoSize = (tLRPC$Message == null || (tLRPC$MessageMedia3 = tLRPC$Message.media) == null || (tLRPC$Document2 = tLRPC$MessageMedia3.document) == null) ? closestPhotoSizeWithSize : FileLoader.getClosestPhotoSizeWithSize(tLRPC$Document2.thumbs, 40);
                            tLObject = tLRPC$Message2.media.document;
                        } else {
                            TLRPC$WebPage tLRPC$WebPage3 = tLRPC$MessageMedia7.webpage;
                            if (tLRPC$WebPage3 != null) {
                                TLRPC$Photo tLRPC$Photo4 = tLRPC$WebPage3.photo;
                                if (tLRPC$Photo4 != null) {
                                    closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(tLRPC$Photo4.sizes, 40);
                                    tLRPC$PhotoSize = (tLRPC$Message == null || (tLRPC$MessageMedia2 = tLRPC$Message.media) == null || (tLRPC$WebPage2 = tLRPC$MessageMedia2.webpage) == null || (tLRPC$Photo = tLRPC$WebPage2.photo) == null) ? closestPhotoSizeWithSize : FileLoader.getClosestPhotoSizeWithSize(tLRPC$Photo.sizes, 40);
                                    tLObject = tLRPC$Message2.media.webpage.photo;
                                } else {
                                    TLRPC$Document tLRPC$Document4 = tLRPC$WebPage3.document;
                                    if (tLRPC$Document4 != null) {
                                        closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(tLRPC$Document4.thumbs, 40);
                                        tLRPC$PhotoSize = (tLRPC$Message == null || (tLRPC$MessageMedia = tLRPC$Message.media) == null || (tLRPC$WebPage = tLRPC$MessageMedia.webpage) == null || (tLRPC$Document = tLRPC$WebPage.document) == null) ? closestPhotoSizeWithSize : FileLoader.getClosestPhotoSizeWithSize(tLRPC$Document.thumbs, 40);
                                        tLObject = tLRPC$Message2.media.webpage.document;
                                    }
                                }
                            }
                        }
                    }
                    if ((tLRPC$PhotoSize instanceof TLRPC$TL_photoStrippedSize) && (closestPhotoSizeWithSize instanceof TLRPC$TL_photoStrippedSize)) {
                        ImageLoader.getInstance().replaceImageInCache("stripped" + FileRefController.getKeyForParentObject(messageObject), tLRPC$Message == null ? "stripped" + FileRefController.getKeyForParentObject(tLRPC$Message) : "strippedmessage" + i + "_" + messageObject.getChannelId() + "_" + messageObject.scheduled, ImageLocation.getForObject(tLRPC$PhotoSize, tLObject), z);
                    }
                }
            }
            closestPhotoSizeWithSize = null;
            tLRPC$PhotoSize = null;
            tLObject = null;
            if (tLRPC$PhotoSize instanceof TLRPC$TL_photoStrippedSize) {
                if (tLRPC$Message == null) {
                }
                ImageLoader.getInstance().replaceImageInCache("stripped" + FileRefController.getKeyForParentObject(messageObject), tLRPC$Message == null ? "stripped" + FileRefController.getKeyForParentObject(tLRPC$Message) : "strippedmessage" + i + "_" + messageObject.getChannelId() + "_" + messageObject.scheduled, ImageLocation.getForObject(tLRPC$PhotoSize, tLObject), z);
            }
        } else {
            tLRPC$PhotoSize = null;
        }
        if (tLRPC$Message == null) {
            return;
        }
        TLRPC$MessageMedia tLRPC$MessageMedia8 = tLRPC$Message.media;
        int i2 = 1;
        if ((tLRPC$MessageMedia8 instanceof TLRPC$TL_messageMediaPhoto) && tLRPC$MessageMedia8.photo != null) {
            TLRPC$MessageMedia tLRPC$MessageMedia9 = tLRPC$Message2.media;
            if ((tLRPC$MessageMedia9 instanceof TLRPC$TL_messageMediaPhoto) && tLRPC$MessageMedia9.photo != null) {
                if (tLRPC$MessageMedia8.ttl_seconds == 0 && !messageObject.scheduled) {
                    getMessagesStorage().putSentFile(str, tLRPC$Message.media.photo, 0, "sent_" + tLRPC$Message.peer_id.channel_id + "_" + tLRPC$Message.id + "_" + DialogObject.getPeerDialogId(tLRPC$Message.peer_id) + "_1_" + messageObject.getSize());
                }
                if (tLRPC$Message2.media.photo.sizes.size() == 1 && (tLRPC$Message2.media.photo.sizes.get(0).location instanceof TLRPC$TL_fileLocationUnavailable)) {
                    tLRPC$Message2.media.photo.sizes = tLRPC$Message.media.photo.sizes;
                } else {
                    int i3 = 0;
                    while (i3 < tLRPC$Message2.media.photo.sizes.size()) {
                        TLRPC$PhotoSize tLRPC$PhotoSize2 = tLRPC$Message2.media.photo.sizes.get(i3);
                        if (tLRPC$PhotoSize2 != null && tLRPC$PhotoSize2.location != null && tLRPC$PhotoSize2.type != null) {
                            int i4 = 0;
                            while (i4 < tLRPC$Message.media.photo.sizes.size()) {
                                TLRPC$PhotoSize tLRPC$PhotoSize3 = tLRPC$Message.media.photo.sizes.get(i4);
                                if (tLRPC$PhotoSize3 == null || tLRPC$PhotoSize3.location == null || (tLRPC$PhotoSize3 instanceof TLRPC$TL_photoSizeEmpty) || (str3 = tLRPC$PhotoSize3.type) == null || !((tLRPC$PhotoSize2.location.volume_id == -2147483648L && str3.equals(tLRPC$PhotoSize2.type)) || (tLRPC$PhotoSize3.w == tLRPC$PhotoSize2.w && tLRPC$PhotoSize3.h == tLRPC$PhotoSize2.h))) {
                                    i4++;
                                    i2 = 1;
                                } else {
                                    String str4 = tLRPC$PhotoSize2.location.volume_id + "_" + tLRPC$PhotoSize2.location.local_id;
                                    String str5 = tLRPC$PhotoSize3.location.volume_id + "_" + tLRPC$PhotoSize3.location.local_id;
                                    if (!str4.equals(str5)) {
                                        File file2 = new File(FileLoader.getDirectory(4), str4 + ".jpg");
                                        TLRPC$MessageMedia tLRPC$MessageMedia10 = tLRPC$Message.media;
                                        if (tLRPC$MessageMedia10.ttl_seconds == 0 && (tLRPC$MessageMedia10.photo.sizes.size() == i2 || tLRPC$PhotoSize3.w > 90 || tLRPC$PhotoSize3.h > 90)) {
                                            file = FileLoader.getInstance(this.currentAccount).getPathToAttach(tLRPC$PhotoSize3);
                                        } else {
                                            file = new File(FileLoader.getDirectory(4), str5 + ".jpg");
                                        }
                                        file2.renameTo(file);
                                        ImageLoader.getInstance().replaceImageInCache(str4, str5, ImageLocation.getForPhoto(tLRPC$PhotoSize3, tLRPC$Message.media.photo), z);
                                        tLRPC$PhotoSize2.location = tLRPC$PhotoSize3.location;
                                        tLRPC$PhotoSize2.size = tLRPC$PhotoSize3.size;
                                    }
                                    z3 = true;
                                    if (!z3) {
                                        String str6 = tLRPC$PhotoSize2.location.volume_id + "_" + tLRPC$PhotoSize2.location.local_id;
                                        new File(FileLoader.getDirectory(4), str6 + ".jpg").delete();
                                        if ("s".equals(tLRPC$PhotoSize2.type) && tLRPC$PhotoSize != null) {
                                            tLRPC$Message2.media.photo.sizes.set(i3, tLRPC$PhotoSize);
                                            ImageLocation forPhoto = ImageLocation.getForPhoto(tLRPC$PhotoSize, tLRPC$Message.media.photo);
                                            ImageLoader.getInstance().replaceImageInCache(str6, forPhoto.getKey(tLRPC$Message, null, false), forPhoto, z);
                                            i3++;
                                            i2 = 1;
                                        }
                                    }
                                }
                            }
                            z3 = false;
                            if (!z3) {
                            }
                        }
                        i3++;
                        i2 = 1;
                    }
                }
                tLRPC$Message2.message = tLRPC$Message.message;
                tLRPC$Message.attachPath = tLRPC$Message2.attachPath;
                TLRPC$Photo tLRPC$Photo5 = tLRPC$Message2.media.photo;
                TLRPC$Photo tLRPC$Photo6 = tLRPC$Message.media.photo;
                tLRPC$Photo5.id = tLRPC$Photo6.id;
                tLRPC$Photo5.dc_id = tLRPC$Photo6.dc_id;
                tLRPC$Photo5.access_hash = tLRPC$Photo6.access_hash;
                return;
            }
        }
        if ((tLRPC$MessageMedia8 instanceof TLRPC$TL_messageMediaDocument) && tLRPC$MessageMedia8.document != null) {
            TLRPC$MessageMedia tLRPC$MessageMedia11 = tLRPC$Message2.media;
            if ((tLRPC$MessageMedia11 instanceof TLRPC$TL_messageMediaDocument) && tLRPC$MessageMedia11.document != null) {
                if (tLRPC$MessageMedia8.ttl_seconds == 0 && ((videoEditedInfo = messageObject.videoEditedInfo) == null || (videoEditedInfo.mediaEntities == null && TextUtils.isEmpty(videoEditedInfo.paintPath) && messageObject.videoEditedInfo.cropState == null))) {
                    boolean isVideoMessage = MessageObject.isVideoMessage(tLRPC$Message);
                    if ((isVideoMessage || MessageObject.isGifMessage(tLRPC$Message)) && MessageObject.isGifDocument(tLRPC$Message.media.document) == MessageObject.isGifDocument(tLRPC$Message2.media.document)) {
                        if (!messageObject.scheduled) {
                            MessageObject messageObject2 = new MessageObject(this.currentAccount, tLRPC$Message, false, false);
                            getMessagesStorage().putSentFile(str, tLRPC$Message.media.document, 2, "sent_" + tLRPC$Message.peer_id.channel_id + "_" + tLRPC$Message.id + "_" + DialogObject.getPeerDialogId(tLRPC$Message.peer_id) + "_" + messageObject2.type + "_" + messageObject2.getSize());
                        }
                        if (isVideoMessage) {
                            tLRPC$Message.attachPath = tLRPC$Message2.attachPath;
                        }
                    } else if (!MessageObject.isVoiceMessage(tLRPC$Message) && !MessageObject.isRoundVideoMessage(tLRPC$Message) && !messageObject.scheduled) {
                        MessageObject messageObject3 = new MessageObject(this.currentAccount, tLRPC$Message, false, false);
                        getMessagesStorage().putSentFile(str, tLRPC$Message.media.document, 1, "sent_" + tLRPC$Message.peer_id.channel_id + "_" + tLRPC$Message.id + "_" + DialogObject.getPeerDialogId(tLRPC$Message.peer_id) + "_" + messageObject3.type + "_" + messageObject3.getSize());
                    }
                }
                TLRPC$PhotoSize closestPhotoSizeWithSize2 = FileLoader.getClosestPhotoSizeWithSize(tLRPC$Message2.media.document.thumbs, 320);
                TLRPC$PhotoSize closestPhotoSizeWithSize3 = FileLoader.getClosestPhotoSizeWithSize(tLRPC$Message.media.document.thumbs, 320);
                if (closestPhotoSizeWithSize2 != null && (tLRPC$FileLocation2 = closestPhotoSizeWithSize2.location) != null && tLRPC$FileLocation2.volume_id == -2147483648L && closestPhotoSizeWithSize3 != null && closestPhotoSizeWithSize3.location != null && !(closestPhotoSizeWithSize3 instanceof TLRPC$TL_photoSizeEmpty) && !(closestPhotoSizeWithSize2 instanceof TLRPC$TL_photoSizeEmpty)) {
                    String str7 = closestPhotoSizeWithSize2.location.volume_id + "_" + closestPhotoSizeWithSize2.location.local_id;
                    String str8 = closestPhotoSizeWithSize3.location.volume_id + "_" + closestPhotoSizeWithSize3.location.local_id;
                    if (!str7.equals(str8)) {
                        new File(FileLoader.getDirectory(4), str7 + ".jpg").renameTo(new File(FileLoader.getDirectory(4), str8 + ".jpg"));
                        ImageLoader.getInstance().replaceImageInCache(str7, str8, ImageLocation.getForDocument(closestPhotoSizeWithSize3, tLRPC$Message.media.document), z);
                        closestPhotoSizeWithSize2.location = closestPhotoSizeWithSize3.location;
                        closestPhotoSizeWithSize2.size = closestPhotoSizeWithSize3.size;
                    }
                } else if (closestPhotoSizeWithSize3 != null && closestPhotoSizeWithSize2 != null && MessageObject.isStickerMessage(tLRPC$Message) && (tLRPC$FileLocation = closestPhotoSizeWithSize2.location) != null) {
                    closestPhotoSizeWithSize3.location = tLRPC$FileLocation;
                } else if (closestPhotoSizeWithSize2 == null || (closestPhotoSizeWithSize2.location instanceof TLRPC$TL_fileLocationUnavailable) || (closestPhotoSizeWithSize2 instanceof TLRPC$TL_photoSizeEmpty)) {
                    tLRPC$Message2.media.document.thumbs = tLRPC$Message.media.document.thumbs;
                }
                TLRPC$Document tLRPC$Document5 = tLRPC$Message2.media.document;
                TLRPC$Document tLRPC$Document6 = tLRPC$Message.media.document;
                tLRPC$Document5.dc_id = tLRPC$Document6.dc_id;
                tLRPC$Document5.id = tLRPC$Document6.id;
                tLRPC$Document5.access_hash = tLRPC$Document6.access_hash;
                int i5 = 0;
                while (true) {
                    if (i5 >= tLRPC$Message2.media.document.attributes.size()) {
                        bArr = null;
                        break;
                    }
                    TLRPC$DocumentAttribute tLRPC$DocumentAttribute = tLRPC$Message2.media.document.attributes.get(i5);
                    if (tLRPC$DocumentAttribute instanceof TLRPC$TL_documentAttributeAudio) {
                        bArr = tLRPC$DocumentAttribute.waveform;
                        break;
                    }
                    i5++;
                }
                tLRPC$Message2.media.document.attributes = tLRPC$Message.media.document.attributes;
                if (bArr != null) {
                    for (int i6 = 0; i6 < tLRPC$Message2.media.document.attributes.size(); i6++) {
                        TLRPC$DocumentAttribute tLRPC$DocumentAttribute2 = tLRPC$Message2.media.document.attributes.get(i6);
                        if (tLRPC$DocumentAttribute2 instanceof TLRPC$TL_documentAttributeAudio) {
                            tLRPC$DocumentAttribute2.waveform = bArr;
                            tLRPC$DocumentAttribute2.flags |= 4;
                        }
                    }
                }
                TLRPC$Document tLRPC$Document7 = tLRPC$Message2.media.document;
                TLRPC$Document tLRPC$Document8 = tLRPC$Message.media.document;
                tLRPC$Document7.size = tLRPC$Document8.size;
                tLRPC$Document7.mime_type = tLRPC$Document8.mime_type;
                if ((tLRPC$Message.flags & 4) == 0 && MessageObject.isOut(tLRPC$Message)) {
                    if (MessageObject.isNewGifDocument(tLRPC$Message.media.document)) {
                        if (MessageObject.isDocumentHasAttachedStickers(tLRPC$Message.media.document) ? getMessagesController().saveGifsWithStickers : true) {
                            getMediaDataController().addRecentGif(tLRPC$Message.media.document, tLRPC$Message.date, true);
                        }
                    } else if (MessageObject.isStickerDocument(tLRPC$Message.media.document) || MessageObject.isAnimatedStickerDocument(tLRPC$Message.media.document, true)) {
                        z2 = true;
                        getMediaDataController().addRecentSticker(0, tLRPC$Message, tLRPC$Message.media.document, tLRPC$Message.date, false);
                        str2 = tLRPC$Message2.attachPath;
                        if (str2 == null && str2.startsWith(FileLoader.getDirectory(4).getAbsolutePath()) && !MessageObject.isGifDocument(tLRPC$Message.media.document)) {
                            File file3 = new File(tLRPC$Message2.attachPath);
                            FileLoader fileLoader = FileLoader.getInstance(this.currentAccount);
                            TLRPC$MessageMedia tLRPC$MessageMedia12 = tLRPC$Message.media;
                            File pathToAttach = fileLoader.getPathToAttach(tLRPC$MessageMedia12.document, tLRPC$MessageMedia12.ttl_seconds != 0);
                            if (!file3.renameTo(pathToAttach)) {
                                if (file3.exists()) {
                                    tLRPC$Message.attachPath = tLRPC$Message2.attachPath;
                                } else {
                                    messageObject.attachPathExists = false;
                                }
                                messageObject.mediaExists = pathToAttach.exists();
                                tLRPC$Message.message = tLRPC$Message2.message;
                                return;
                            } else if (MessageObject.isVideoMessage(tLRPC$Message)) {
                                messageObject.attachPathExists = z2;
                                return;
                            } else {
                                messageObject.mediaExists = messageObject.attachPathExists;
                                messageObject.attachPathExists = false;
                                tLRPC$Message2.attachPath = "";
                                if (str == null || !str.startsWith("http")) {
                                    return;
                                }
                                getMessagesStorage().addRecentLocalFile(str, pathToAttach.toString(), tLRPC$Message2.media.document);
                                return;
                            }
                        }
                        tLRPC$Message.attachPath = tLRPC$Message2.attachPath;
                        tLRPC$Message.message = tLRPC$Message2.message;
                        return;
                    }
                }
                z2 = true;
                str2 = tLRPC$Message2.attachPath;
                if (str2 == null) {
                }
                tLRPC$Message.attachPath = tLRPC$Message2.attachPath;
                tLRPC$Message.message = tLRPC$Message2.message;
                return;
            }
        }
        if ((tLRPC$MessageMedia8 instanceof TLRPC$TL_messageMediaContact) && (tLRPC$Message2.media instanceof TLRPC$TL_messageMediaContact)) {
            tLRPC$Message2.media = tLRPC$MessageMedia8;
        } else if (tLRPC$MessageMedia8 instanceof TLRPC$TL_messageMediaWebPage) {
            tLRPC$Message2.media = tLRPC$MessageMedia8;
        } else if (tLRPC$MessageMedia8 instanceof TLRPC$TL_messageMediaGeo) {
            TLRPC$GeoPoint tLRPC$GeoPoint = tLRPC$MessageMedia8.geo;
            TLRPC$GeoPoint tLRPC$GeoPoint2 = tLRPC$Message2.media.geo;
            tLRPC$GeoPoint.lat = tLRPC$GeoPoint2.lat;
            tLRPC$GeoPoint._long = tLRPC$GeoPoint2._long;
        } else if ((tLRPC$MessageMedia8 instanceof TLRPC$TL_messageMediaGame) || (tLRPC$MessageMedia8 instanceof TLRPC$TL_messageMediaInvoice)) {
            tLRPC$Message2.media = tLRPC$MessageMedia8;
            if (!TextUtils.isEmpty(tLRPC$Message.message)) {
                tLRPC$Message2.entities = tLRPC$Message.entities;
                tLRPC$Message2.message = tLRPC$Message.message;
            }
            TLRPC$ReplyMarkup tLRPC$ReplyMarkup = tLRPC$Message.reply_markup;
            if (tLRPC$ReplyMarkup != null) {
                tLRPC$Message2.reply_markup = tLRPC$ReplyMarkup;
                tLRPC$Message2.flags |= 64;
            }
        } else if (tLRPC$MessageMedia8 instanceof TLRPC$TL_messageMediaPoll) {
            tLRPC$Message2.media = tLRPC$MessageMedia8;
        }
    }

    private void putToDelayedMessages(String str, DelayedMessage delayedMessage) {
        ArrayList<DelayedMessage> arrayList = this.delayedMessages.get(str);
        if (arrayList == null) {
            arrayList = new ArrayList<>();
            this.delayedMessages.put(str, arrayList);
        }
        arrayList.add(delayedMessage);
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public ArrayList<DelayedMessage> getDelayedMessages(String str) {
        return this.delayedMessages.get(str);
    }

    public long getNextRandomId() {
        long j = 0;
        while (j == 0) {
            j = Utilities.random.nextLong();
        }
        return j;
    }

    public void checkUnsentMessages() {
        getMessagesStorage().getUnsentMessages(1000);
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public void processUnsentMessages(final ArrayList<TLRPC$Message> arrayList, final ArrayList<TLRPC$Message> arrayList2, final ArrayList<TLRPC$User> arrayList3, final ArrayList<TLRPC$Chat> arrayList4, final ArrayList<TLRPC$EncryptedChat> arrayList5) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda31
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$processUnsentMessages$63(arrayList3, arrayList4, arrayList5, arrayList, arrayList2);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$processUnsentMessages$63(ArrayList arrayList, ArrayList arrayList2, ArrayList arrayList3, ArrayList arrayList4, ArrayList arrayList5) {
        HashMap<String, String> hashMap;
        getMessagesController().putUsers(arrayList, true);
        getMessagesController().putChats(arrayList2, true);
        getMessagesController().putEncryptedChats(arrayList3, true);
        int size = arrayList4.size();
        for (int i = 0; i < size; i++) {
            MessageObject messageObject = new MessageObject(this.currentAccount, (TLRPC$Message) arrayList4.get(i), false, true);
            long groupId = messageObject.getGroupId();
            if (groupId != 0 && (hashMap = messageObject.messageOwner.params) != null && !hashMap.containsKey("final") && (i == size - 1 || ((TLRPC$Message) arrayList4.get(i + 1)).grouped_id != groupId)) {
                messageObject.messageOwner.params.put("final", "1");
            }
            retrySendMessage(messageObject, true);
        }
        if (arrayList5 != null) {
            for (int i2 = 0; i2 < arrayList5.size(); i2++) {
                MessageObject messageObject2 = new MessageObject(this.currentAccount, (TLRPC$Message) arrayList5.get(i2), false, true);
                messageObject2.scheduled = true;
                retrySendMessage(messageObject2, true);
            }
        }
    }

    public ImportingStickers getImportingStickers(String str) {
        return this.importingStickersMap.get(str);
    }

    public ImportingHistory getImportingHistory(long j) {
        return this.importingHistoryMap.get(j);
    }

    public boolean isImportingStickers() {
        return this.importingStickersMap.size() != 0;
    }

    public boolean isImportingHistory() {
        return this.importingHistoryMap.size() != 0;
    }

    public void prepareImportHistory(final long j, final Uri uri, final ArrayList<Uri> arrayList, final MessagesStorage.LongCallback longCallback) {
        if (this.importingHistoryMap.get(j) != null) {
            longCallback.run(0L);
            return;
        }
        if (DialogObject.isChatDialog(j)) {
            long j2 = -j;
            TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(j2));
            if (chat != null && !chat.megagroup) {
                getMessagesController().convertToMegaGroup(null, j2, null, new MessagesStorage.LongCallback() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda78
                    @Override // org.telegram.messenger.MessagesStorage.LongCallback
                    public final void run(long j3) {
                        SendMessagesHelper.this.lambda$prepareImportHistory$64(uri, arrayList, longCallback, j3);
                    }
                });
                return;
            }
        }
        new Thread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda30
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$prepareImportHistory$69(arrayList, j, uri, longCallback);
            }
        }).start();
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$prepareImportHistory$64(Uri uri, ArrayList arrayList, MessagesStorage.LongCallback longCallback, long j) {
        if (j != 0) {
            prepareImportHistory(-j, uri, arrayList, longCallback);
        } else {
            longCallback.run(0L);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$prepareImportHistory$69(ArrayList arrayList, final long j, Uri uri, final MessagesStorage.LongCallback longCallback) {
        ArrayList arrayList2 = arrayList != null ? arrayList : new ArrayList();
        final ImportingHistory importingHistory = new ImportingHistory();
        importingHistory.mediaPaths = arrayList2;
        importingHistory.dialogId = j;
        importingHistory.peer = getMessagesController().getInputPeer(j);
        final HashMap hashMap = new HashMap();
        int i = 0;
        int size = arrayList2.size();
        while (i < size + 1) {
            Uri uri2 = i == 0 ? uri : (Uri) arrayList2.get(i - 1);
            if (uri2 != null && !AndroidUtilities.isInternalUri(uri2)) {
                String copyFileToCache = MediaController.copyFileToCache(uri2, "txt");
                if (copyFileToCache == null) {
                    continue;
                } else {
                    File file = new File(copyFileToCache);
                    if (file.exists()) {
                        long length = file.length();
                        if (length != 0) {
                            importingHistory.totalSize += length;
                            if (i != 0) {
                                importingHistory.uploadMedia.add(copyFileToCache);
                            } else if (length > 33554432) {
                                file.delete();
                                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda19
                                    @Override // java.lang.Runnable
                                    public final void run() {
                                        SendMessagesHelper.lambda$prepareImportHistory$67(MessagesStorage.LongCallback.this);
                                    }
                                });
                                return;
                            } else {
                                importingHistory.historyPath = copyFileToCache;
                            }
                            importingHistory.uploadSet.add(copyFileToCache);
                            hashMap.put(copyFileToCache, importingHistory);
                        }
                    }
                    if (i == 0) {
                        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda18
                            @Override // java.lang.Runnable
                            public final void run() {
                                MessagesStorage.LongCallback.this.run(0L);
                            }
                        });
                        return;
                    }
                }
            } else if (i == 0) {
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda17
                    @Override // java.lang.Runnable
                    public final void run() {
                        MessagesStorage.LongCallback.this.run(0L);
                    }
                });
                return;
            }
            i++;
        }
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda34
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$prepareImportHistory$68(hashMap, j, importingHistory, longCallback);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareImportHistory$67(MessagesStorage.LongCallback longCallback) {
        Toast.makeText(ApplicationLoader.applicationContext, LocaleController.getString("ImportFileTooLarge", R.string.ImportFileTooLarge), 0).show();
        longCallback.run(0L);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$prepareImportHistory$68(HashMap hashMap, long j, ImportingHistory importingHistory, MessagesStorage.LongCallback longCallback) {
        this.importingHistoryFiles.putAll(hashMap);
        this.importingHistoryMap.put(j, importingHistory);
        getFileLoader().uploadFile(importingHistory.historyPath, false, true, 0L, ConnectionsManager.FileTypeFile, true);
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.historyImportProgressChanged, Long.valueOf(j));
        longCallback.run(j);
        try {
            ApplicationLoader.applicationContext.startService(new Intent(ApplicationLoader.applicationContext, ImportingService.class));
        } catch (Throwable th) {
            FileLog.e(th);
        }
    }

    public void prepareImportStickers(final String str, final String str2, final String str3, final ArrayList<ImportingSticker> arrayList, final MessagesStorage.StringCallback stringCallback) {
        if (this.importingStickersMap.get(str2) != null) {
            stringCallback.run(null);
        } else {
            new Thread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda27
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.this.lambda$prepareImportStickers$72(str, str2, str3, arrayList, stringCallback);
                }
            }).start();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$prepareImportStickers$72(String str, final String str2, String str3, ArrayList arrayList, final MessagesStorage.StringCallback stringCallback) {
        final ImportingStickers importingStickers = new ImportingStickers();
        importingStickers.title = str;
        importingStickers.shortName = str2;
        importingStickers.software = str3;
        final HashMap hashMap = new HashMap();
        int size = arrayList.size();
        for (int i = 0; i < size; i++) {
            ImportingSticker importingSticker = (ImportingSticker) arrayList.get(i);
            File file = new File(importingSticker.path);
            if (file.exists()) {
                long length = file.length();
                if (length != 0) {
                    importingStickers.totalSize += length;
                    importingStickers.uploadMedia.add(importingSticker);
                    importingStickers.uploadSet.put(importingSticker.path, importingSticker);
                    hashMap.put(importingSticker.path, importingStickers);
                }
            }
            if (i == 0) {
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda20
                    @Override // java.lang.Runnable
                    public final void run() {
                        MessagesStorage.StringCallback.this.run(null);
                    }
                });
                return;
            }
        }
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda39
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.this.lambda$prepareImportStickers$71(importingStickers, hashMap, str2, stringCallback);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public /* synthetic */ void lambda$prepareImportStickers$71(ImportingStickers importingStickers, HashMap hashMap, String str, MessagesStorage.StringCallback stringCallback) {
        if (importingStickers.uploadMedia.get(0).item != null) {
            importingStickers.startImport();
        } else {
            this.importingStickersFiles.putAll(hashMap);
            this.importingStickersMap.put(str, importingStickers);
            importingStickers.initImport();
            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.historyImportProgressChanged, str);
            stringCallback.run(str);
        }
        try {
            ApplicationLoader.applicationContext.startService(new Intent(ApplicationLoader.applicationContext, ImportingService.class));
        } catch (Throwable th) {
            FileLog.e(th);
        }
    }

    public TLRPC$TL_photo generatePhotoSizes(String str, Uri uri) {
        return generatePhotoSizes(null, str, uri);
    }

    public TLRPC$TL_photo generatePhotoSizes(TLRPC$TL_photo tLRPC$TL_photo, String str, Uri uri) {
        Bitmap loadBitmap = ImageLoader.loadBitmap(str, uri, AndroidUtilities.getPhotoSize(), AndroidUtilities.getPhotoSize(), true);
        if (loadBitmap == null) {
            loadBitmap = ImageLoader.loadBitmap(str, uri, 800.0f, 800.0f, true);
        }
        ArrayList<TLRPC$PhotoSize> arrayList = new ArrayList<>();
        TLRPC$PhotoSize scaleAndSaveImage = ImageLoader.scaleAndSaveImage(loadBitmap, 90.0f, 90.0f, 55, true);
        if (scaleAndSaveImage != null) {
            arrayList.add(scaleAndSaveImage);
        }
        TLRPC$PhotoSize scaleAndSaveImage2 = ImageLoader.scaleAndSaveImage(loadBitmap, AndroidUtilities.getPhotoSize(), AndroidUtilities.getPhotoSize(), true, 80, false, (int) FileLoader.MEDIA_DIR_VIDEO_PUBLIC, (int) FileLoader.MEDIA_DIR_VIDEO_PUBLIC);
        if (scaleAndSaveImage2 != null) {
            arrayList.add(scaleAndSaveImage2);
        }
        if (loadBitmap != null) {
            loadBitmap.recycle();
        }
        if (arrayList.isEmpty()) {
            return null;
        }
        getUserConfig().saveConfig(false);
        if (tLRPC$TL_photo == null) {
            tLRPC$TL_photo = new TLRPC$TL_photo();
        }
        tLRPC$TL_photo.date = getConnectionsManager().getCurrentTime();
        tLRPC$TL_photo.sizes = arrayList;
        tLRPC$TL_photo.file_reference = new byte[0];
        return tLRPC$TL_photo;
    }

    /* JADX WARN: Can't fix incorrect switch cases order, some code will duplicate */
    /* JADX WARN: Can't wrap try/catch for region: R(28:(5:243|244|245|246|(10:248|249|250|251|252|253|254|255|256|257)(1:296))|(3:267|268|(28:270|271|(25:273|261|262|263|(7:53|(1:55)|56|(1:58)|59|(1:61)|62)(1:242)|(2:64|(18:66|67|(1:235)(7:70|(1:72)(1:234)|73|(1:233)(1:77)|(1:232)(4:82|(1:84)(1:231)|85|(2:89|90))|230|90)|91|(11:93|(1:95)|96|(3:98|99|101)(1:228)|(3:111|112|(10:114|115|116|117|(1:119)|120|121|(1:195)(8:124|125|126|127|128|129|130|(2:137|138))|188|138))|202|121|(0)|195|188|138)(1:229)|(1:140)(1:187)|141|(1:143)|144|(1:147)|(1:149)|150|(2:152|(2:172|(2:182|(1:184)(1:185))(1:178))(4:156|(1:171)(2:(1:170)(1:163)|(2:165|(1:167)))|168|169))(1:186)|179|(0)|171|168|169)(2:(1:237)(1:240)|238))(1:241)|239|67|(0)|235|91|(0)(0)|(0)(0)|141|(0)|144|(1:147)|(0)|150|(0)(0)|179|(0)|171|168|169)|260|261|262|263|(0)(0)|(0)(0)|239|67|(0)|235|91|(0)(0)|(0)(0)|141|(0)|144|(0)|(0)|150|(0)(0)|179|(0)|171|168|169))|259|260|261|262|263|(0)(0)|(0)(0)|239|67|(0)|235|91|(0)(0)|(0)(0)|141|(0)|144|(0)|(0)|150|(0)(0)|179|(0)|171|168|169) */
    /* JADX WARN: Code restructure failed: missing block: B:32:0x0059, code lost:
        if (r3 == false) goto L328;
     */
    /* JADX WARN: Code restructure failed: missing block: B:95:0x014a, code lost:
        r0 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:96:0x014b, code lost:
        org.telegram.messenger.FileLog.e(r0);
     */
    /* JADX WARN: Removed duplicated region for block: B:124:0x01a0  */
    /* JADX WARN: Removed duplicated region for block: B:127:0x01b8  */
    /* JADX WARN: Removed duplicated region for block: B:132:0x01c4  */
    /* JADX WARN: Removed duplicated region for block: B:142:0x01e8  */
    /* JADX WARN: Removed duplicated region for block: B:144:0x01eb  */
    /* JADX WARN: Removed duplicated region for block: B:151:0x0229  */
    /* JADX WARN: Removed duplicated region for block: B:155:0x022f A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:185:0x02e4  */
    /* JADX WARN: Removed duplicated region for block: B:252:0x03f1 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:274:0x0467  */
    /* JADX WARN: Removed duplicated region for block: B:276:0x0471  */
    /* JADX WARN: Removed duplicated region for block: B:277:0x0477  */
    /* JADX WARN: Removed duplicated region for block: B:280:0x0481  */
    /* JADX WARN: Removed duplicated region for block: B:283:0x048a A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:286:0x0493  */
    /* JADX WARN: Removed duplicated region for block: B:289:0x049f  */
    /* JADX WARN: Removed duplicated region for block: B:307:0x04f9  */
    /* JADX WARN: Removed duplicated region for block: B:310:0x04fe A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:343:0x0176 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private static int prepareSendingDocumentInternal(final AccountInstance accountInstance, String str, String str2, Uri uri, String str3, final long j, final MessageObject messageObject, final MessageObject messageObject2, final TL_stories$StoryItem tL_stories$StoryItem, final ChatActivity.ReplyQuote replyQuote, final ArrayList<TLRPC$MessageEntity> arrayList, final MessageObject messageObject3, long[] jArr, boolean z, CharSequence charSequence, final boolean z2, final int i, Integer[] numArr, boolean z3) {
        String str4;
        String str5;
        String str6;
        String lowerCase;
        String str7;
        Object obj;
        Object obj2;
        AudioInfo audioInfo;
        String str8;
        int i2;
        String str9;
        String str10;
        boolean z4;
        TLRPC$TL_documentAttributeAudio tLRPC$TL_documentAttributeAudio;
        String str11;
        boolean z5;
        String str12;
        String str13;
        Object obj3;
        Object obj4;
        String str14;
        int i3;
        MimeTypeMap mimeTypeMap;
        String str15;
        Object obj5;
        long j2;
        boolean z6;
        final String str16;
        TLRPC$TL_document tLRPC$TL_document;
        boolean z7;
        String str17;
        String str18;
        TLRPC$TL_document tLRPC$TL_document2;
        final HashMap hashMap;
        String str19;
        char c;
        boolean z8;
        int i4;
        int i5;
        Bitmap loadBitmap;
        char c2;
        String str20;
        TLRPC$TL_document tLRPC$TL_document3;
        String str21;
        TLRPC$TL_document tLRPC$TL_document4;
        String str22;
        String str23;
        Throwable th;
        MediaMetadataRetriever mediaMetadataRetriever;
        MediaMetadataRetriever mediaMetadataRetriever2;
        int i6;
        String str24;
        String str25;
        String extractMetadata;
        String str26;
        String str27;
        boolean z9;
        boolean z10;
        if ((str == null || str.length() == 0) && uri == null) {
            return 1;
        }
        if (uri == null || !AndroidUtilities.isInternalUri(uri)) {
            if (str == null || !AndroidUtilities.isInternalUri(Uri.fromFile(new File(str)))) {
                MimeTypeMap singleton = MimeTypeMap.getSingleton();
                if (uri == null || str != null) {
                    str4 = str;
                } else if (checkFileSize(accountInstance, uri)) {
                    return 2;
                } else {
                    str5 = str3 != null ? singleton.getExtensionFromMimeType(str3) : null;
                    if (str5 == null) {
                        str5 = "txt";
                        z10 = false;
                    } else {
                        z10 = true;
                    }
                    String copyFileToCache = MediaController.copyFileToCache(uri, str5);
                    if (copyFileToCache == null) {
                        return 1;
                    }
                    str4 = copyFileToCache;
                }
                str5 = null;
                File file = new File(str4);
                if (!file.exists() || file.length() == 0) {
                    return 1;
                }
                if (FileLoader.checkUploadFileSize(accountInstance.getCurrentAccount(), file.length())) {
                    boolean isEncryptedDialog = DialogObject.isEncryptedDialog(j);
                    String name = file.getName();
                    if (str5 == null) {
                        int lastIndexOf = str4.lastIndexOf(46);
                        if (lastIndexOf != -1) {
                            str5 = str4.substring(lastIndexOf + 1);
                        } else {
                            str6 = "";
                            lowerCase = str6.toLowerCase();
                            if (!lowerCase.equals("mp3") || lowerCase.equals("m4a")) {
                                str7 = name;
                                obj = "flac";
                                obj2 = "opus";
                                audioInfo = AudioInfo.getAudioInfo(file);
                                if (audioInfo == null) {
                                    long duration = audioInfo.getDuration();
                                    if (duration != 0) {
                                        str9 = audioInfo.getArtist();
                                        str8 = audioInfo.getTitle();
                                        i2 = (int) (duration / 1000);
                                        str10 = str9;
                                    }
                                }
                                str8 = null;
                                i2 = 0;
                                str9 = null;
                                str10 = str9;
                            } else if (lowerCase.equals("opus") || lowerCase.equals("ogg") || lowerCase.equals("flac")) {
                                try {
                                    mediaMetadataRetriever2 = new MediaMetadataRetriever();
                                    try {
                                        try {
                                            mediaMetadataRetriever2.setDataSource(file.getAbsolutePath());
                                            if (mediaMetadataRetriever2.extractMetadata(9) != null) {
                                                obj = "flac";
                                                obj2 = "opus";
                                                try {
                                                    i6 = (int) Math.ceil(((float) Long.parseLong(extractMetadata)) / 1000.0f);
                                                    try {
                                                        str24 = mediaMetadataRetriever2.extractMetadata(7);
                                                        str7 = name;
                                                    } catch (Exception e) {
                                                        e = e;
                                                        str7 = name;
                                                        str24 = null;
                                                        str25 = null;
                                                        FileLog.e(e);
                                                        if (mediaMetadataRetriever2 != null) {
                                                            try {
                                                                mediaMetadataRetriever2.release();
                                                            } catch (Exception e2) {
                                                                FileLog.e(e2);
                                                            }
                                                        }
                                                        i2 = i6;
                                                        str8 = str24;
                                                        str10 = str25;
                                                        z4 = false;
                                                        if (i2 != 0) {
                                                        }
                                                        if (str2 == null) {
                                                        }
                                                        z5 = false;
                                                        if (z5) {
                                                        }
                                                        str12 = "";
                                                        str13 = str11;
                                                        obj3 = "m4a";
                                                        obj4 = obj2;
                                                        str14 = str7;
                                                        i3 = -1;
                                                        mimeTypeMap = singleton;
                                                        str15 = str4;
                                                        obj5 = obj;
                                                        j2 = 0;
                                                        z6 = isEncryptedDialog;
                                                        str16 = null;
                                                        tLRPC$TL_document = null;
                                                        if (tLRPC$TL_document != null) {
                                                        }
                                                        if (charSequence != null) {
                                                        }
                                                        hashMap = new HashMap();
                                                        str19 = str13;
                                                        if (str19 != null) {
                                                        }
                                                        if (z3) {
                                                        }
                                                        if (str16 != null) {
                                                        }
                                                        int i7 = 0;
                                                        if (numArr != null) {
                                                        }
                                                        z8 = false;
                                                        if (z7) {
                                                        }
                                                        final TLRPC$TL_document tLRPC$TL_document5 = tLRPC$TL_document2;
                                                        final String str28 = str17;
                                                        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                                            @Override // java.lang.Runnable
                                                            public final void run() {
                                                                SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document5, str28, hashMap, str16, j, messageObject, messageObject2, r14, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                                            }
                                                        });
                                                        return 0;
                                                    }
                                                    try {
                                                        str26 = mediaMetadataRetriever2.extractMetadata(2);
                                                    } catch (Exception e3) {
                                                        e = e3;
                                                        str25 = null;
                                                        FileLog.e(e);
                                                        if (mediaMetadataRetriever2 != null) {
                                                        }
                                                        i2 = i6;
                                                        str8 = str24;
                                                        str10 = str25;
                                                        z4 = false;
                                                        if (i2 != 0) {
                                                        }
                                                        if (str2 == null) {
                                                        }
                                                        z5 = false;
                                                        if (z5) {
                                                        }
                                                        str12 = "";
                                                        str13 = str11;
                                                        obj3 = "m4a";
                                                        obj4 = obj2;
                                                        str14 = str7;
                                                        i3 = -1;
                                                        mimeTypeMap = singleton;
                                                        str15 = str4;
                                                        obj5 = obj;
                                                        j2 = 0;
                                                        z6 = isEncryptedDialog;
                                                        str16 = null;
                                                        tLRPC$TL_document = null;
                                                        if (tLRPC$TL_document != null) {
                                                        }
                                                        if (charSequence != null) {
                                                        }
                                                        hashMap = new HashMap();
                                                        str19 = str13;
                                                        if (str19 != null) {
                                                        }
                                                        if (z3) {
                                                        }
                                                        if (str16 != null) {
                                                        }
                                                        int i72 = 0;
                                                        if (numArr != null) {
                                                        }
                                                        z8 = false;
                                                        if (z7) {
                                                        }
                                                        final TLRPC$TL_document tLRPC$TL_document52 = tLRPC$TL_document2;
                                                        final String str282 = str17;
                                                        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                                            @Override // java.lang.Runnable
                                                            public final void run() {
                                                                SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document52, str282, hashMap, str16, j, messageObject, messageObject2, r14, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                                            }
                                                        });
                                                        return 0;
                                                    }
                                                } catch (Exception e4) {
                                                    e = e4;
                                                    str7 = name;
                                                    i6 = 0;
                                                    str24 = null;
                                                    str25 = null;
                                                    FileLog.e(e);
                                                    if (mediaMetadataRetriever2 != null) {
                                                    }
                                                    i2 = i6;
                                                    str8 = str24;
                                                    str10 = str25;
                                                    z4 = false;
                                                    if (i2 != 0) {
                                                    }
                                                    if (str2 == null) {
                                                    }
                                                    z5 = false;
                                                    if (z5) {
                                                    }
                                                    str12 = "";
                                                    str13 = str11;
                                                    obj3 = "m4a";
                                                    obj4 = obj2;
                                                    str14 = str7;
                                                    i3 = -1;
                                                    mimeTypeMap = singleton;
                                                    str15 = str4;
                                                    obj5 = obj;
                                                    j2 = 0;
                                                    z6 = isEncryptedDialog;
                                                    str16 = null;
                                                    tLRPC$TL_document = null;
                                                    if (tLRPC$TL_document != null) {
                                                    }
                                                    if (charSequence != null) {
                                                    }
                                                    hashMap = new HashMap();
                                                    str19 = str13;
                                                    if (str19 != null) {
                                                    }
                                                    if (z3) {
                                                    }
                                                    if (str16 != null) {
                                                    }
                                                    int i722 = 0;
                                                    if (numArr != null) {
                                                    }
                                                    z8 = false;
                                                    if (z7) {
                                                    }
                                                    final TLRPC$TL_document tLRPC$TL_document522 = tLRPC$TL_document2;
                                                    final String str2822 = str17;
                                                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                                        @Override // java.lang.Runnable
                                                        public final void run() {
                                                            SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document522, str2822, hashMap, str16, j, messageObject, messageObject2, r14, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                                        }
                                                    });
                                                    return 0;
                                                }
                                            } else {
                                                str7 = name;
                                                obj = "flac";
                                                obj2 = "opus";
                                                str26 = null;
                                                i6 = 0;
                                                str24 = null;
                                            }
                                        } catch (Throwable th2) {
                                            th = th2;
                                            mediaMetadataRetriever = mediaMetadataRetriever2;
                                            if (mediaMetadataRetriever != null) {
                                                try {
                                                    mediaMetadataRetriever.release();
                                                } catch (Exception e5) {
                                                    FileLog.e(e5);
                                                }
                                            }
                                            throw th;
                                        }
                                    } catch (Exception e6) {
                                        e = e6;
                                        str7 = name;
                                        obj = "flac";
                                        obj2 = "opus";
                                    }
                                } catch (Exception e7) {
                                    e = e7;
                                    str7 = name;
                                    obj = "flac";
                                    obj2 = "opus";
                                    mediaMetadataRetriever2 = null;
                                } catch (Throwable th3) {
                                    th = th3;
                                    mediaMetadataRetriever = null;
                                }
                                if (messageObject3 == null) {
                                    try {
                                    } catch (Exception e8) {
                                        e = e8;
                                        str25 = str26;
                                        FileLog.e(e);
                                        if (mediaMetadataRetriever2 != null) {
                                        }
                                        i2 = i6;
                                        str8 = str24;
                                        str10 = str25;
                                        z4 = false;
                                        if (i2 != 0) {
                                        }
                                        if (str2 == null) {
                                        }
                                        z5 = false;
                                        if (z5) {
                                        }
                                        str12 = "";
                                        str13 = str11;
                                        obj3 = "m4a";
                                        obj4 = obj2;
                                        str14 = str7;
                                        i3 = -1;
                                        mimeTypeMap = singleton;
                                        str15 = str4;
                                        obj5 = obj;
                                        j2 = 0;
                                        z6 = isEncryptedDialog;
                                        str16 = null;
                                        tLRPC$TL_document = null;
                                        if (tLRPC$TL_document != null) {
                                        }
                                        if (charSequence != null) {
                                        }
                                        hashMap = new HashMap();
                                        str19 = str13;
                                        if (str19 != null) {
                                        }
                                        if (z3) {
                                        }
                                        if (str16 != null) {
                                        }
                                        int i7222 = 0;
                                        if (numArr != null) {
                                        }
                                        z8 = false;
                                        if (z7) {
                                        }
                                        final TLRPC$TL_document tLRPC$TL_document5222 = tLRPC$TL_document2;
                                        final String str28222 = str17;
                                        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                            @Override // java.lang.Runnable
                                            public final void run() {
                                                SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document5222, str28222, hashMap, str16, j, messageObject, messageObject2, r14, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                            }
                                        });
                                        return 0;
                                    }
                                    if (lowerCase.equals("ogg")) {
                                        str27 = str26;
                                        if (MediaController.isOpusFile(file.getAbsolutePath()) == 1) {
                                            z9 = true;
                                            mediaMetadataRetriever2.release();
                                            str8 = str24;
                                            str10 = str27;
                                            z4 = z9;
                                            i2 = i6;
                                            if (i2 != 0) {
                                                TLRPC$TL_documentAttributeAudio tLRPC$TL_documentAttributeAudio2 = new TLRPC$TL_documentAttributeAudio();
                                                tLRPC$TL_documentAttributeAudio2.duration = i2;
                                                tLRPC$TL_documentAttributeAudio2.title = str8;
                                                tLRPC$TL_documentAttributeAudio2.performer = str10;
                                                if (str8 == null) {
                                                    tLRPC$TL_documentAttributeAudio2.title = "";
                                                }
                                                int i8 = tLRPC$TL_documentAttributeAudio2.flags | 1;
                                                tLRPC$TL_documentAttributeAudio2.flags = i8;
                                                if (str10 == null) {
                                                    tLRPC$TL_documentAttributeAudio2.performer = "";
                                                }
                                                tLRPC$TL_documentAttributeAudio2.flags = i8 | 2;
                                                if (z4) {
                                                    tLRPC$TL_documentAttributeAudio2.voice = true;
                                                }
                                                tLRPC$TL_documentAttributeAudio = tLRPC$TL_documentAttributeAudio2;
                                            } else {
                                                tLRPC$TL_documentAttributeAudio = null;
                                            }
                                            if (str2 == null) {
                                                str11 = str2;
                                            } else if (str2.endsWith("attheme")) {
                                                str11 = str2;
                                                z5 = true;
                                                if (!z5 || isEncryptedDialog) {
                                                    str12 = "";
                                                    str13 = str11;
                                                    obj3 = "m4a";
                                                    obj4 = obj2;
                                                    str14 = str7;
                                                    i3 = -1;
                                                    mimeTypeMap = singleton;
                                                    str15 = str4;
                                                    obj5 = obj;
                                                    j2 = 0;
                                                    z6 = isEncryptedDialog;
                                                    str16 = null;
                                                    tLRPC$TL_document = null;
                                                } else {
                                                    Object[] sentFile = accountInstance.getMessagesStorage().getSentFile(str11, !isEncryptedDialog ? 1 : 4);
                                                    if (sentFile == null || !(sentFile[0] instanceof TLRPC$TL_document)) {
                                                        str20 = null;
                                                        tLRPC$TL_document3 = null;
                                                    } else {
                                                        tLRPC$TL_document3 = (TLRPC$TL_document) sentFile[0];
                                                        str20 = (String) sentFile[1];
                                                    }
                                                    if (tLRPC$TL_document3 != null || str4.equals(str11) || isEncryptedDialog) {
                                                        str21 = str20;
                                                        tLRPC$TL_document4 = tLRPC$TL_document3;
                                                    } else {
                                                        MessagesStorage messagesStorage = accountInstance.getMessagesStorage();
                                                        StringBuilder sb = new StringBuilder();
                                                        sb.append(str4);
                                                        str21 = str20;
                                                        tLRPC$TL_document4 = tLRPC$TL_document3;
                                                        sb.append(file.length());
                                                        Object[] sentFile2 = messagesStorage.getSentFile(sb.toString(), !isEncryptedDialog ? 1 : 4);
                                                        if (sentFile2 != null && (sentFile2[0] instanceof TLRPC$TL_document)) {
                                                            str22 = (String) sentFile2[1];
                                                            tLRPC$TL_document = (TLRPC$TL_document) sentFile2[0];
                                                            i3 = -1;
                                                            str12 = "";
                                                            str14 = str7;
                                                            String str29 = str4;
                                                            str15 = str4;
                                                            str13 = str11;
                                                            obj3 = "m4a";
                                                            obj4 = obj2;
                                                            mimeTypeMap = singleton;
                                                            j2 = 0;
                                                            Object obj6 = obj;
                                                            z6 = isEncryptedDialog;
                                                            obj5 = obj6;
                                                            ensureMediaThumbExists(accountInstance, isEncryptedDialog, tLRPC$TL_document, str29, null, 0L);
                                                            str16 = str22;
                                                        }
                                                    }
                                                    tLRPC$TL_document = tLRPC$TL_document4;
                                                    str22 = str21;
                                                    i3 = -1;
                                                    str12 = "";
                                                    str14 = str7;
                                                    String str292 = str4;
                                                    str15 = str4;
                                                    str13 = str11;
                                                    obj3 = "m4a";
                                                    obj4 = obj2;
                                                    mimeTypeMap = singleton;
                                                    j2 = 0;
                                                    Object obj62 = obj;
                                                    z6 = isEncryptedDialog;
                                                    obj5 = obj62;
                                                    ensureMediaThumbExists(accountInstance, isEncryptedDialog, tLRPC$TL_document, str292, null, 0L);
                                                    str16 = str22;
                                                }
                                                if (tLRPC$TL_document != null) {
                                                    TLRPC$TL_document tLRPC$TL_document6 = new TLRPC$TL_document();
                                                    tLRPC$TL_document6.id = j2;
                                                    tLRPC$TL_document6.date = accountInstance.getConnectionsManager().getCurrentTime();
                                                    TLRPC$TL_documentAttributeFilename tLRPC$TL_documentAttributeFilename = new TLRPC$TL_documentAttributeFilename();
                                                    tLRPC$TL_documentAttributeFilename.file_name = str14;
                                                    tLRPC$TL_document6.file_reference = new byte[0];
                                                    tLRPC$TL_document6.attributes.add(tLRPC$TL_documentAttributeFilename);
                                                    tLRPC$TL_document6.size = file.length();
                                                    tLRPC$TL_document6.dc_id = 0;
                                                    if (tLRPC$TL_documentAttributeAudio != null) {
                                                        tLRPC$TL_document6.attributes.add(tLRPC$TL_documentAttributeAudio);
                                                    }
                                                    if (str6.length() != 0) {
                                                        switch (lowerCase.hashCode()) {
                                                            case 106458:
                                                                if (lowerCase.equals(obj3)) {
                                                                    c2 = 0;
                                                                    break;
                                                                }
                                                                c2 = 65535;
                                                                break;
                                                            case 108272:
                                                                if (lowerCase.equals("mp3")) {
                                                                    c2 = 1;
                                                                    break;
                                                                }
                                                                c2 = 65535;
                                                                break;
                                                            case 109967:
                                                                if (lowerCase.equals("ogg")) {
                                                                    c2 = 2;
                                                                    break;
                                                                }
                                                                c2 = 65535;
                                                                break;
                                                            case 3145576:
                                                                if (lowerCase.equals(obj5)) {
                                                                    c2 = 3;
                                                                    break;
                                                                }
                                                                c2 = 65535;
                                                                break;
                                                            case 3418175:
                                                                if (lowerCase.equals(obj4)) {
                                                                    c2 = 4;
                                                                    break;
                                                                }
                                                                c2 = 65535;
                                                                break;
                                                            case 3645340:
                                                                if (lowerCase.equals("webp")) {
                                                                    c2 = 5;
                                                                    break;
                                                                }
                                                                c2 = 65535;
                                                                break;
                                                            default:
                                                                c2 = 65535;
                                                                break;
                                                        }
                                                        switch (c2) {
                                                            case 0:
                                                                tLRPC$TL_document6.mime_type = "audio/m4a";
                                                                break;
                                                            case 1:
                                                                tLRPC$TL_document6.mime_type = "audio/mpeg";
                                                                break;
                                                            case 2:
                                                                tLRPC$TL_document6.mime_type = "audio/ogg";
                                                                break;
                                                            case 3:
                                                                tLRPC$TL_document6.mime_type = "audio/flac";
                                                                break;
                                                            case 4:
                                                                tLRPC$TL_document6.mime_type = "audio/opus";
                                                                break;
                                                            case 5:
                                                                tLRPC$TL_document6.mime_type = "image/webp";
                                                                break;
                                                            default:
                                                                String mimeTypeFromExtension = mimeTypeMap.getMimeTypeFromExtension(lowerCase);
                                                                if (mimeTypeFromExtension != null) {
                                                                    tLRPC$TL_document6.mime_type = mimeTypeFromExtension;
                                                                    break;
                                                                } else {
                                                                    tLRPC$TL_document6.mime_type = "application/octet-stream";
                                                                    break;
                                                                }
                                                        }
                                                    } else {
                                                        tLRPC$TL_document6.mime_type = "application/octet-stream";
                                                    }
                                                    if (!z3 && tLRPC$TL_document6.mime_type.equals("image/gif") && (messageObject3 == null || messageObject3.getGroupIdForUse() == j2)) {
                                                        try {
                                                            loadBitmap = ImageLoader.loadBitmap(file.getAbsolutePath(), null, 90.0f, 90.0f, true);
                                                        } catch (Exception e9) {
                                                            e = e9;
                                                            z7 = z6;
                                                        }
                                                        if (loadBitmap != null) {
                                                            tLRPC$TL_documentAttributeFilename.file_name = "animation.gif";
                                                            tLRPC$TL_document6.attributes.add(new TLRPC$TL_documentAttributeAnimated());
                                                            z7 = z6;
                                                            try {
                                                                TLRPC$PhotoSize scaleAndSaveImage = ImageLoader.scaleAndSaveImage(loadBitmap, 90.0f, 90.0f, 55, z7);
                                                                if (scaleAndSaveImage != null) {
                                                                    tLRPC$TL_document6.thumbs.add(scaleAndSaveImage);
                                                                    tLRPC$TL_document6.flags |= 1;
                                                                }
                                                                loadBitmap.recycle();
                                                            } catch (Exception e10) {
                                                                e = e10;
                                                                FileLog.e(e);
                                                                if (tLRPC$TL_document6.mime_type.equals("image/webp")) {
                                                                }
                                                                str17 = str15;
                                                                str18 = str12;
                                                                tLRPC$TL_document2 = tLRPC$TL_document6;
                                                                if (charSequence != null) {
                                                                }
                                                                hashMap = new HashMap();
                                                                str19 = str13;
                                                                if (str19 != null) {
                                                                }
                                                                if (z3) {
                                                                }
                                                                if (str16 != null) {
                                                                }
                                                                int i72222 = 0;
                                                                if (numArr != null) {
                                                                }
                                                                z8 = false;
                                                                if (z7) {
                                                                }
                                                                final TLRPC$TL_document tLRPC$TL_document52222 = tLRPC$TL_document2;
                                                                final String str282222 = str17;
                                                                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                                                    @Override // java.lang.Runnable
                                                                    public final void run() {
                                                                        SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document52222, str282222, hashMap, str16, j, messageObject, messageObject2, r14, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                                                    }
                                                                });
                                                                return 0;
                                                            }
                                                            if (tLRPC$TL_document6.mime_type.equals("image/webp") || messageObject3 != null) {
                                                                str17 = str15;
                                                            } else {
                                                                BitmapFactory.Options options = new BitmapFactory.Options();
                                                                try {
                                                                    options.inJustDecodeBounds = true;
                                                                    str17 = str15;
                                                                } catch (Exception e11) {
                                                                    e = e11;
                                                                    str17 = str15;
                                                                }
                                                                try {
                                                                    RandomAccessFile randomAccessFile = new RandomAccessFile(str17, "r");
                                                                    MappedByteBuffer map = randomAccessFile.getChannel().map(FileChannel.MapMode.READ_ONLY, 0L, str17.length());
                                                                    Utilities.loadWebpImage(null, map, map.limit(), options, true);
                                                                    randomAccessFile.close();
                                                                } catch (Exception e12) {
                                                                    e = e12;
                                                                    FileLog.e(e);
                                                                    i4 = options.outWidth;
                                                                    if (i4 != 0) {
                                                                        TLRPC$TL_documentAttributeSticker tLRPC$TL_documentAttributeSticker = new TLRPC$TL_documentAttributeSticker();
                                                                        str18 = str12;
                                                                        tLRPC$TL_documentAttributeSticker.alt = str18;
                                                                        tLRPC$TL_documentAttributeSticker.stickerset = new TLRPC$TL_inputStickerSetEmpty();
                                                                        tLRPC$TL_document6.attributes.add(tLRPC$TL_documentAttributeSticker);
                                                                        TLRPC$TL_documentAttributeImageSize tLRPC$TL_documentAttributeImageSize = new TLRPC$TL_documentAttributeImageSize();
                                                                        tLRPC$TL_documentAttributeImageSize.w = options.outWidth;
                                                                        tLRPC$TL_documentAttributeImageSize.h = options.outHeight;
                                                                        tLRPC$TL_document6.attributes.add(tLRPC$TL_documentAttributeImageSize);
                                                                        tLRPC$TL_document2 = tLRPC$TL_document6;
                                                                        if (charSequence != null) {
                                                                        }
                                                                        hashMap = new HashMap();
                                                                        str19 = str13;
                                                                        if (str19 != null) {
                                                                        }
                                                                        if (z3) {
                                                                        }
                                                                        if (str16 != null) {
                                                                        }
                                                                        int i722222 = 0;
                                                                        if (numArr != null) {
                                                                        }
                                                                        z8 = false;
                                                                        if (z7) {
                                                                        }
                                                                        final TLRPC$TL_document tLRPC$TL_document522222 = tLRPC$TL_document2;
                                                                        final String str2822222 = str17;
                                                                        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                                                            @Override // java.lang.Runnable
                                                                            public final void run() {
                                                                                SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document522222, str2822222, hashMap, str16, j, messageObject, messageObject2, r14, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                                                            }
                                                                        });
                                                                        return 0;
                                                                    }
                                                                    str18 = str12;
                                                                    tLRPC$TL_document2 = tLRPC$TL_document6;
                                                                    if (charSequence != null) {
                                                                    }
                                                                    hashMap = new HashMap();
                                                                    str19 = str13;
                                                                    if (str19 != null) {
                                                                    }
                                                                    if (z3) {
                                                                    }
                                                                    if (str16 != null) {
                                                                    }
                                                                    int i7222222 = 0;
                                                                    if (numArr != null) {
                                                                    }
                                                                    z8 = false;
                                                                    if (z7) {
                                                                    }
                                                                    final TLRPC$TL_document tLRPC$TL_document5222222 = tLRPC$TL_document2;
                                                                    final String str28222222 = str17;
                                                                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                                                        @Override // java.lang.Runnable
                                                                        public final void run() {
                                                                            SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document5222222, str28222222, hashMap, str16, j, messageObject, messageObject2, r14, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                                                        }
                                                                    });
                                                                    return 0;
                                                                }
                                                                i4 = options.outWidth;
                                                                if (i4 != 0 && (i5 = options.outHeight) != 0 && i4 <= 800 && i5 <= 800) {
                                                                    TLRPC$TL_documentAttributeSticker tLRPC$TL_documentAttributeSticker2 = new TLRPC$TL_documentAttributeSticker();
                                                                    str18 = str12;
                                                                    tLRPC$TL_documentAttributeSticker2.alt = str18;
                                                                    tLRPC$TL_documentAttributeSticker2.stickerset = new TLRPC$TL_inputStickerSetEmpty();
                                                                    tLRPC$TL_document6.attributes.add(tLRPC$TL_documentAttributeSticker2);
                                                                    TLRPC$TL_documentAttributeImageSize tLRPC$TL_documentAttributeImageSize2 = new TLRPC$TL_documentAttributeImageSize();
                                                                    tLRPC$TL_documentAttributeImageSize2.w = options.outWidth;
                                                                    tLRPC$TL_documentAttributeImageSize2.h = options.outHeight;
                                                                    tLRPC$TL_document6.attributes.add(tLRPC$TL_documentAttributeImageSize2);
                                                                    tLRPC$TL_document2 = tLRPC$TL_document6;
                                                                }
                                                            }
                                                            str18 = str12;
                                                            tLRPC$TL_document2 = tLRPC$TL_document6;
                                                        }
                                                    }
                                                    z7 = z6;
                                                    if (tLRPC$TL_document6.mime_type.equals("image/webp")) {
                                                    }
                                                    str17 = str15;
                                                    str18 = str12;
                                                    tLRPC$TL_document2 = tLRPC$TL_document6;
                                                } else {
                                                    z7 = z6;
                                                    str17 = str15;
                                                    str18 = str12;
                                                    tLRPC$TL_document2 = tLRPC$TL_document;
                                                }
                                                final String charSequence2 = charSequence != null ? charSequence.toString() : str18;
                                                hashMap = new HashMap();
                                                str19 = str13;
                                                if (str19 != null) {
                                                    hashMap.put("originalPath", str19);
                                                }
                                                if (z3 && tLRPC$TL_documentAttributeAudio == null) {
                                                    hashMap.put("forceDocument", "1");
                                                }
                                                if (str16 != null) {
                                                    hashMap.put("parentObject", str16);
                                                }
                                                int i72222222 = 0;
                                                if (numArr != null) {
                                                    i72222222 = numArr[0];
                                                    String str30 = tLRPC$TL_document2.mime_type;
                                                    if (str30 != null && str30.toLowerCase().startsWith("image/webp")) {
                                                        numArr[0] = Integer.valueOf(i3);
                                                        c = 0;
                                                        z8 = true;
                                                        if (z7 && jArr != null) {
                                                            if (numArr != null && i72222222 != null && i72222222 != numArr[c]) {
                                                                finishGroup(accountInstance, jArr[c], i);
                                                                jArr[c] = Utilities.random.nextLong();
                                                            }
                                                            if (!z8) {
                                                                hashMap.put("groupId", str18 + jArr[c]);
                                                                if (z) {
                                                                    hashMap.put("final", "1");
                                                                }
                                                            }
                                                        }
                                                        final TLRPC$TL_document tLRPC$TL_document52222222 = tLRPC$TL_document2;
                                                        final String str282222222 = str17;
                                                        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                                            @Override // java.lang.Runnable
                                                            public final void run() {
                                                                SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document52222222, str282222222, hashMap, str16, j, messageObject, messageObject2, charSequence2, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                                            }
                                                        });
                                                        return 0;
                                                    }
                                                    String str31 = tLRPC$TL_document2.mime_type;
                                                    if ((str31 == null || !(str31.toLowerCase().startsWith("image/") || tLRPC$TL_document2.mime_type.toLowerCase().startsWith("video/mp4"))) && !MessageObject.canPreviewDocument(tLRPC$TL_document2)) {
                                                        c = 0;
                                                        if (tLRPC$TL_documentAttributeAudio != null) {
                                                            numArr[0] = 2;
                                                        } else {
                                                            numArr[0] = 0;
                                                        }
                                                    } else {
                                                        c = 0;
                                                        numArr[0] = 1;
                                                    }
                                                } else {
                                                    c = 0;
                                                }
                                                z8 = false;
                                                if (z7) {
                                                }
                                                final TLRPC$TL_document tLRPC$TL_document522222222 = tLRPC$TL_document2;
                                                final String str2822222222 = str17;
                                                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                                    @Override // java.lang.Runnable
                                                    public final void run() {
                                                        SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document522222222, str2822222222, hashMap, str16, j, messageObject, messageObject2, charSequence2, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                                    }
                                                });
                                                return 0;
                                            } else {
                                                if (tLRPC$TL_documentAttributeAudio != null) {
                                                    str23 = str2 + MediaStreamTrack.AUDIO_TRACK_KIND + file.length();
                                                } else {
                                                    str23 = str2 + "" + file.length();
                                                }
                                                str11 = str23;
                                            }
                                            z5 = false;
                                            if (z5) {
                                            }
                                            str12 = "";
                                            str13 = str11;
                                            obj3 = "m4a";
                                            obj4 = obj2;
                                            str14 = str7;
                                            i3 = -1;
                                            mimeTypeMap = singleton;
                                            str15 = str4;
                                            obj5 = obj;
                                            j2 = 0;
                                            z6 = isEncryptedDialog;
                                            str16 = null;
                                            tLRPC$TL_document = null;
                                            if (tLRPC$TL_document != null) {
                                            }
                                            if (charSequence != null) {
                                            }
                                            hashMap = new HashMap();
                                            str19 = str13;
                                            if (str19 != null) {
                                            }
                                            if (z3) {
                                                hashMap.put("forceDocument", "1");
                                            }
                                            if (str16 != null) {
                                            }
                                            int i722222222 = 0;
                                            if (numArr != null) {
                                            }
                                            z8 = false;
                                            if (z7) {
                                            }
                                            final TLRPC$TL_document tLRPC$TL_document5222222222 = tLRPC$TL_document2;
                                            final String str28222222222 = str17;
                                            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                                @Override // java.lang.Runnable
                                                public final void run() {
                                                    SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document5222222222, str28222222222, hashMap, str16, j, messageObject, messageObject2, charSequence2, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                                }
                                            });
                                            return 0;
                                        }
                                        z9 = false;
                                        mediaMetadataRetriever2.release();
                                        str8 = str24;
                                        str10 = str27;
                                        z4 = z9;
                                        i2 = i6;
                                        if (i2 != 0) {
                                        }
                                        if (str2 == null) {
                                        }
                                        z5 = false;
                                        if (z5) {
                                        }
                                        str12 = "";
                                        str13 = str11;
                                        obj3 = "m4a";
                                        obj4 = obj2;
                                        str14 = str7;
                                        i3 = -1;
                                        mimeTypeMap = singleton;
                                        str15 = str4;
                                        obj5 = obj;
                                        j2 = 0;
                                        z6 = isEncryptedDialog;
                                        str16 = null;
                                        tLRPC$TL_document = null;
                                        if (tLRPC$TL_document != null) {
                                        }
                                        if (charSequence != null) {
                                        }
                                        hashMap = new HashMap();
                                        str19 = str13;
                                        if (str19 != null) {
                                        }
                                        if (z3) {
                                        }
                                        if (str16 != null) {
                                        }
                                        int i7222222222 = 0;
                                        if (numArr != null) {
                                        }
                                        z8 = false;
                                        if (z7) {
                                        }
                                        final TLRPC$TL_document tLRPC$TL_document52222222222 = tLRPC$TL_document2;
                                        final String str282222222222 = str17;
                                        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                            @Override // java.lang.Runnable
                                            public final void run() {
                                                SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document52222222222, str282222222222, hashMap, str16, j, messageObject, messageObject2, charSequence2, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                            }
                                        });
                                        return 0;
                                    }
                                }
                                str27 = str26;
                                z9 = false;
                                mediaMetadataRetriever2.release();
                                str8 = str24;
                                str10 = str27;
                                z4 = z9;
                                i2 = i6;
                                if (i2 != 0) {
                                }
                                if (str2 == null) {
                                }
                                z5 = false;
                                if (z5) {
                                }
                                str12 = "";
                                str13 = str11;
                                obj3 = "m4a";
                                obj4 = obj2;
                                str14 = str7;
                                i3 = -1;
                                mimeTypeMap = singleton;
                                str15 = str4;
                                obj5 = obj;
                                j2 = 0;
                                z6 = isEncryptedDialog;
                                str16 = null;
                                tLRPC$TL_document = null;
                                if (tLRPC$TL_document != null) {
                                }
                                if (charSequence != null) {
                                }
                                hashMap = new HashMap();
                                str19 = str13;
                                if (str19 != null) {
                                }
                                if (z3) {
                                }
                                if (str16 != null) {
                                }
                                int i72222222222 = 0;
                                if (numArr != null) {
                                }
                                z8 = false;
                                if (z7) {
                                }
                                final TLRPC$TL_document tLRPC$TL_document522222222222 = tLRPC$TL_document2;
                                final String str2822222222222 = str17;
                                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                    @Override // java.lang.Runnable
                                    public final void run() {
                                        SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document522222222222, str2822222222222, hashMap, str16, j, messageObject, messageObject2, charSequence2, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                    }
                                });
                                return 0;
                            } else {
                                str7 = name;
                                obj = "flac";
                                obj2 = "opus";
                                str8 = null;
                                str10 = null;
                                i2 = 0;
                            }
                            z4 = false;
                            if (i2 != 0) {
                            }
                            if (str2 == null) {
                            }
                            z5 = false;
                            if (z5) {
                            }
                            str12 = "";
                            str13 = str11;
                            obj3 = "m4a";
                            obj4 = obj2;
                            str14 = str7;
                            i3 = -1;
                            mimeTypeMap = singleton;
                            str15 = str4;
                            obj5 = obj;
                            j2 = 0;
                            z6 = isEncryptedDialog;
                            str16 = null;
                            tLRPC$TL_document = null;
                            if (tLRPC$TL_document != null) {
                            }
                            if (charSequence != null) {
                            }
                            hashMap = new HashMap();
                            str19 = str13;
                            if (str19 != null) {
                            }
                            if (z3) {
                            }
                            if (str16 != null) {
                            }
                            int i722222222222 = 0;
                            if (numArr != null) {
                            }
                            z8 = false;
                            if (z7) {
                            }
                            final TLRPC$TL_document tLRPC$TL_document5222222222222 = tLRPC$TL_document2;
                            final String str28222222222222 = str17;
                            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                                @Override // java.lang.Runnable
                                public final void run() {
                                    SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document5222222222222, str28222222222222, hashMap, str16, j, messageObject, messageObject2, charSequence2, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                                }
                            });
                            return 0;
                        }
                    }
                    str6 = str5;
                    lowerCase = str6.toLowerCase();
                    if (!lowerCase.equals("mp3")) {
                    }
                    str7 = name;
                    obj = "flac";
                    obj2 = "opus";
                    audioInfo = AudioInfo.getAudioInfo(file);
                    if (audioInfo == null) {
                    }
                    str8 = null;
                    i2 = 0;
                    str9 = null;
                    str10 = str9;
                    z4 = false;
                    if (i2 != 0) {
                    }
                    if (str2 == null) {
                    }
                    z5 = false;
                    if (z5) {
                    }
                    str12 = "";
                    str13 = str11;
                    obj3 = "m4a";
                    obj4 = obj2;
                    str14 = str7;
                    i3 = -1;
                    mimeTypeMap = singleton;
                    str15 = str4;
                    obj5 = obj;
                    j2 = 0;
                    z6 = isEncryptedDialog;
                    str16 = null;
                    tLRPC$TL_document = null;
                    if (tLRPC$TL_document != null) {
                    }
                    if (charSequence != null) {
                    }
                    hashMap = new HashMap();
                    str19 = str13;
                    if (str19 != null) {
                    }
                    if (z3) {
                    }
                    if (str16 != null) {
                    }
                    int i7222222222222 = 0;
                    if (numArr != null) {
                    }
                    z8 = false;
                    if (z7) {
                    }
                    final TLRPC$TL_document tLRPC$TL_document52222222222222 = tLRPC$TL_document2;
                    final String str282222222222222 = str17;
                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda13
                        @Override // java.lang.Runnable
                        public final void run() {
                            SendMessagesHelper.lambda$prepareSendingDocumentInternal$73(MessageObject.this, accountInstance, tLRPC$TL_document52222222222222, str282222222222222, hashMap, str16, j, messageObject, messageObject2, charSequence2, arrayList, z2, i, tL_stories$StoryItem, replyQuote);
                        }
                    });
                    return 0;
                }
                return 2;
            }
            return 1;
        }
        return 1;
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingDocumentInternal$73(MessageObject messageObject, AccountInstance accountInstance, TLRPC$TL_document tLRPC$TL_document, String str, HashMap hashMap, String str2, long j, MessageObject messageObject2, MessageObject messageObject3, String str3, ArrayList arrayList, boolean z, int i, TL_stories$StoryItem tL_stories$StoryItem, ChatActivity.ReplyQuote replyQuote) {
        if (messageObject != null) {
            accountInstance.getSendMessagesHelper().editMessage(messageObject, null, null, tLRPC$TL_document, str, hashMap, false, false, str2);
            return;
        }
        SendMessageParams of = SendMessageParams.of(tLRPC$TL_document, null, str, j, messageObject2, messageObject3, str3, arrayList, null, hashMap, z, i, 0, str2, null, false);
        of.replyToStoryItem = tL_stories$StoryItem;
        of.replyQuote = replyQuote;
        accountInstance.getSendMessagesHelper().sendMessage(of);
    }

    private static boolean checkFileSize(AccountInstance accountInstance, Uri uri) {
        long j = 0;
        if (Build.VERSION.SDK_INT >= 19) {
            try {
                AssetFileDescriptor openAssetFileDescriptor = ApplicationLoader.applicationContext.getContentResolver().openAssetFileDescriptor(uri, "r", null);
                if (openAssetFileDescriptor != null) {
                    openAssetFileDescriptor.getLength();
                }
                Cursor query = ApplicationLoader.applicationContext.getContentResolver().query(uri, new String[]{"_size"}, null, null, null);
                int columnIndex = query.getColumnIndex("_size");
                query.moveToFirst();
                j = query.getLong(columnIndex);
                query.close();
            } catch (Exception e) {
                FileLog.e(e);
            }
        }
        return !FileLoader.checkUploadFileSize(accountInstance.getCurrentAccount(), j);
    }

    public static void prepareSendingDocument(AccountInstance accountInstance, String str, String str2, Uri uri, String str3, String str4, long j, MessageObject messageObject, MessageObject messageObject2, TL_stories$StoryItem tL_stories$StoryItem, ChatActivity.ReplyQuote replyQuote, MessageObject messageObject3, boolean z, int i, InputContentInfoCompat inputContentInfoCompat) {
        if ((str == null || str2 == null) && uri == null) {
            return;
        }
        ArrayList arrayList = new ArrayList();
        ArrayList arrayList2 = new ArrayList();
        ArrayList arrayList3 = null;
        if (uri != null) {
            arrayList3 = new ArrayList();
            arrayList3.add(uri);
        }
        if (str != null) {
            arrayList.add(str);
            arrayList2.add(str2);
        }
        prepareSendingDocuments(accountInstance, arrayList, arrayList2, arrayList3, str3, str4, j, messageObject, messageObject2, tL_stories$StoryItem, replyQuote, messageObject3, z, i, inputContentInfoCompat);
    }

    public static void prepareSendingAudioDocuments(final AccountInstance accountInstance, final ArrayList<MessageObject> arrayList, final CharSequence charSequence, final long j, final MessageObject messageObject, final MessageObject messageObject2, final TL_stories$StoryItem tL_stories$StoryItem, final boolean z, final int i, final MessageObject messageObject3) {
        new Thread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda10
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.lambda$prepareSendingAudioDocuments$75(arrayList, j, accountInstance, charSequence, messageObject3, messageObject, messageObject2, z, i, tL_stories$StoryItem);
            }
        }).start();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* JADX WARN: Removed duplicated region for block: B:25:0x0082  */
    /* JADX WARN: Removed duplicated region for block: B:26:0x008b  */
    /* JADX WARN: Removed duplicated region for block: B:33:0x00a8  */
    /* JADX WARN: Removed duplicated region for block: B:34:0x00b3  */
    /* JADX WARN: Removed duplicated region for block: B:36:0x00b7  */
    /* JADX WARN: Removed duplicated region for block: B:39:0x00c6  */
    /* JADX WARN: Removed duplicated region for block: B:41:0x00cd  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public static /* synthetic */ void lambda$prepareSendingAudioDocuments$75(ArrayList arrayList, final long j, final AccountInstance accountInstance, CharSequence charSequence, final MessageObject messageObject, final MessageObject messageObject2, final MessageObject messageObject3, final boolean z, final int i, final TL_stories$StoryItem tL_stories$StoryItem) {
        final String str;
        TLRPC$TL_document tLRPC$TL_document;
        final TLRPC$TL_document tLRPC$TL_document2;
        final HashMap hashMap;
        int size = arrayList.size();
        long j2 = 0;
        int i2 = 0;
        int i3 = 0;
        while (i2 < size) {
            final MessageObject messageObject4 = (MessageObject) arrayList.get(i2);
            String str2 = messageObject4.messageOwner.attachPath;
            File file = new File(str2);
            boolean isEncryptedDialog = DialogObject.isEncryptedDialog(j);
            if (!isEncryptedDialog && size > 1 && i3 % 10 == 0) {
                j2 = Utilities.random.nextLong();
                i3 = 0;
            }
            if (str2 != null) {
                str2 = str2 + MediaStreamTrack.AUDIO_TRACK_KIND + file.length();
            }
            if (!isEncryptedDialog) {
                Object[] sentFile = accountInstance.getMessagesStorage().getSentFile(str2, !isEncryptedDialog ? 1 : 4);
                if (sentFile != null && (sentFile[0] instanceof TLRPC$TL_document)) {
                    tLRPC$TL_document = (TLRPC$TL_document) sentFile[0];
                    ensureMediaThumbExists(accountInstance, isEncryptedDialog, tLRPC$TL_document, str2, null, 0L);
                    str = (String) sentFile[1];
                    tLRPC$TL_document2 = tLRPC$TL_document != null ? (TLRPC$TL_document) messageObject4.messageOwner.media.document : tLRPC$TL_document;
                    if (!isEncryptedDialog && accountInstance.getMessagesController().getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(j))) == null) {
                        return;
                    }
                    CharSequence[] charSequenceArr = {charSequence};
                    final ArrayList<TLRPC$MessageEntity> entities = i2 != 0 ? accountInstance.getMediaDataController().getEntities(charSequenceArr, true) : null;
                    final String charSequence2 = i2 == 0 ? charSequenceArr[0].toString() : null;
                    hashMap = new HashMap();
                    if (str2 != null) {
                        hashMap.put("originalPath", str2);
                    }
                    if (str != null) {
                        hashMap.put("parentObject", str);
                    }
                    i3++;
                    hashMap.put("groupId", "" + j2);
                    if (i3 != 10 || i2 == size - 1) {
                        hashMap.put("final", "1");
                    }
                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda15
                        @Override // java.lang.Runnable
                        public final void run() {
                            SendMessagesHelper.lambda$prepareSendingAudioDocuments$74(MessageObject.this, accountInstance, tLRPC$TL_document2, messageObject4, hashMap, str, j, messageObject2, messageObject3, charSequence2, entities, z, i, tL_stories$StoryItem);
                        }
                    });
                    i2++;
                }
            }
            str = null;
            tLRPC$TL_document = null;
            if (tLRPC$TL_document != null) {
            }
            if (!isEncryptedDialog) {
            }
            CharSequence[] charSequenceArr2 = {charSequence};
            if (i2 != 0) {
            }
            final String charSequence22 = i2 == 0 ? charSequenceArr2[0].toString() : null;
            hashMap = new HashMap();
            if (str2 != null) {
            }
            if (str != null) {
            }
            i3++;
            hashMap.put("groupId", "" + j2);
            if (i3 != 10) {
            }
            hashMap.put("final", "1");
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda15
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.lambda$prepareSendingAudioDocuments$74(MessageObject.this, accountInstance, tLRPC$TL_document2, messageObject4, hashMap, str, j, messageObject2, messageObject3, charSequence22, entities, z, i, tL_stories$StoryItem);
                }
            });
            i2++;
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingAudioDocuments$74(MessageObject messageObject, AccountInstance accountInstance, TLRPC$TL_document tLRPC$TL_document, MessageObject messageObject2, HashMap hashMap, String str, long j, MessageObject messageObject3, MessageObject messageObject4, String str2, ArrayList arrayList, boolean z, int i, TL_stories$StoryItem tL_stories$StoryItem) {
        if (messageObject != null) {
            accountInstance.getSendMessagesHelper().editMessage(messageObject, null, null, tLRPC$TL_document, messageObject2.messageOwner.attachPath, hashMap, false, false, str);
            return;
        }
        SendMessageParams of = SendMessageParams.of(tLRPC$TL_document, null, messageObject2.messageOwner.attachPath, j, messageObject3, messageObject4, str2, arrayList, null, hashMap, z, i, 0, str, null, false, false);
        of.replyToStoryItem = tL_stories$StoryItem;
        accountInstance.getSendMessagesHelper().sendMessage(of);
    }

    private static void finishGroup(final AccountInstance accountInstance, final long j, final int i) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda12
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.lambda$finishGroup$76(AccountInstance.this, j, i);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$finishGroup$76(AccountInstance accountInstance, long j, int i) {
        SendMessagesHelper sendMessagesHelper = accountInstance.getSendMessagesHelper();
        HashMap<String, ArrayList<DelayedMessage>> hashMap = sendMessagesHelper.delayedMessages;
        ArrayList<DelayedMessage> arrayList = hashMap.get("group_" + j);
        if (arrayList == null || arrayList.isEmpty()) {
            return;
        }
        DelayedMessage delayedMessage = arrayList.get(0);
        ArrayList<MessageObject> arrayList2 = delayedMessage.messageObjects;
        MessageObject messageObject = arrayList2.get(arrayList2.size() - 1);
        delayedMessage.finalGroupMessage = messageObject.getId();
        messageObject.messageOwner.params.put("final", "1");
        TLRPC$TL_messages_messages tLRPC$TL_messages_messages = new TLRPC$TL_messages_messages();
        tLRPC$TL_messages_messages.messages.add(messageObject.messageOwner);
        accountInstance.getMessagesStorage().putMessages((TLRPC$messages_Messages) tLRPC$TL_messages_messages, delayedMessage.peer, -2, 0, false, i != 0, 0);
        sendMessagesHelper.sendReadyToSendGroup(delayedMessage, true, true);
    }

    public static void prepareSendingDocuments(final AccountInstance accountInstance, final ArrayList<String> arrayList, final ArrayList<String> arrayList2, final ArrayList<Uri> arrayList3, final String str, final String str2, final long j, final MessageObject messageObject, final MessageObject messageObject2, final TL_stories$StoryItem tL_stories$StoryItem, final ChatActivity.ReplyQuote replyQuote, final MessageObject messageObject3, final boolean z, final int i, final InputContentInfoCompat inputContentInfoCompat) {
        if (arrayList == null && arrayList2 == null && arrayList3 == null) {
            return;
        }
        if (arrayList == null || arrayList2 == null || arrayList.size() == arrayList2.size()) {
            Utilities.globalQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda3
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.lambda$prepareSendingDocuments$77(j, arrayList, str, accountInstance, i, arrayList2, str2, messageObject, messageObject2, tL_stories$StoryItem, replyQuote, messageObject3, z, inputContentInfoCompat, arrayList3);
                }
            });
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingDocuments$77(long j, ArrayList arrayList, String str, AccountInstance accountInstance, int i, ArrayList arrayList2, String str2, MessageObject messageObject, MessageObject messageObject2, TL_stories$StoryItem tL_stories$StoryItem, ChatActivity.ReplyQuote replyQuote, MessageObject messageObject3, boolean z, InputContentInfoCompat inputContentInfoCompat, ArrayList arrayList3) {
        Integer[] numArr;
        long[] jArr;
        ArrayList arrayList4;
        int i2;
        AccountInstance accountInstance2 = accountInstance;
        int i3 = i;
        int i4 = 1;
        long[] jArr2 = new long[1];
        Integer[] numArr2 = new Integer[1];
        boolean isEncryptedDialog = DialogObject.isEncryptedDialog(j);
        int i5 = 10;
        if (arrayList != null) {
            int size = arrayList.size();
            i2 = 0;
            int i6 = 0;
            int i7 = 0;
            while (i7 < size) {
                String str3 = i7 == 0 ? str : null;
                if (!isEncryptedDialog && size > i4 && i6 % 10 == 0) {
                    if (jArr2[0] != 0) {
                        finishGroup(accountInstance2, jArr2[0], i3);
                    }
                    jArr2[0] = Utilities.random.nextLong();
                    i6 = 0;
                }
                int i8 = i6 + 1;
                long j2 = jArr2[0];
                int i9 = i7;
                int i10 = size;
                Integer[] numArr3 = numArr2;
                long[] jArr3 = jArr2;
                i2 = prepareSendingDocumentInternal(accountInstance, (String) arrayList.get(i7), (String) arrayList2.get(i7), null, str2, j, messageObject, messageObject2, tL_stories$StoryItem, replyQuote, null, messageObject3, jArr3, i8 == i5 || i7 == size + (-1), str3, z, i, numArr3, inputContentInfoCompat == null);
                i6 = (j2 != jArr3[0] || jArr3[0] == -1) ? 1 : i8;
                i7 = i9 + 1;
                accountInstance2 = accountInstance;
                i3 = i;
                size = i10;
                numArr2 = numArr3;
                jArr2 = jArr3;
                i5 = 10;
                i4 = 1;
            }
            numArr = numArr2;
            jArr = jArr2;
            arrayList4 = arrayList3;
        } else {
            numArr = numArr2;
            jArr = jArr2;
            arrayList4 = arrayList3;
            i2 = 0;
        }
        if (arrayList4 != null) {
            jArr[0] = 0;
            int size2 = arrayList3.size();
            int i11 = 0;
            int i12 = 0;
            while (i12 < arrayList3.size()) {
                String str4 = (i12 == 0 && (arrayList == null || arrayList.size() == 0)) ? str : null;
                if (!isEncryptedDialog) {
                    if (size2 > 1 && i11 % 10 == 0) {
                        if (jArr[0] != 0) {
                            finishGroup(accountInstance, jArr[0], i);
                        }
                        jArr[0] = Utilities.random.nextLong();
                        i11 = 0;
                    }
                }
                int i13 = i11 + 1;
                long j3 = jArr[0];
                int i14 = i12;
                int i15 = size2;
                i2 = prepareSendingDocumentInternal(accountInstance, null, null, (Uri) arrayList4.get(i12), str2, j, messageObject, messageObject2, tL_stories$StoryItem, replyQuote, null, messageObject3, jArr, i13 == 10 || i12 == size2 + (-1), str4, z, i, numArr, inputContentInfoCompat == null);
                i11 = (j3 != jArr[0] || jArr[0] == -1) ? 1 : i13;
                i12 = i14 + 1;
                arrayList4 = arrayList3;
                size2 = i15;
            }
        }
        if (inputContentInfoCompat != null) {
            inputContentInfoCompat.releasePermission();
        }
        handleError(i2, accountInstance);
    }

    private static void handleError(final int i, final AccountInstance accountInstance) {
        if (i != 0) {
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda2
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.lambda$handleError$78(i, accountInstance);
                }
            });
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$handleError$78(int i, AccountInstance accountInstance) {
        try {
            if (i == 1) {
                NotificationCenter.getGlobalInstance().lambda$postNotificationNameOnUIThread$1(NotificationCenter.showBulletin, 1, LocaleController.getString("UnsupportedAttachment", R.string.UnsupportedAttachment));
            } else if (i != 2) {
            } else {
                NotificationCenter.getInstance(accountInstance.getCurrentAccount()).lambda$postNotificationNameOnUIThread$1(NotificationCenter.currentUserShowLimitReachedDialog, 6);
            }
        } catch (Exception e) {
            FileLog.e(e);
        }
    }

    public static void prepareSendingPhoto(AccountInstance accountInstance, String str, Uri uri, long j, MessageObject messageObject, MessageObject messageObject2, ChatActivity.ReplyQuote replyQuote, CharSequence charSequence, ArrayList<TLRPC$MessageEntity> arrayList, ArrayList<TLRPC$InputDocument> arrayList2, InputContentInfoCompat inputContentInfoCompat, int i, MessageObject messageObject3, boolean z, int i2) {
        prepareSendingPhoto(accountInstance, str, null, uri, j, messageObject, messageObject2, null, null, arrayList, arrayList2, inputContentInfoCompat, i, messageObject3, null, z, i2, false, charSequence);
    }

    public static void prepareSendingPhoto(AccountInstance accountInstance, String str, String str2, Uri uri, long j, MessageObject messageObject, MessageObject messageObject2, TL_stories$StoryItem tL_stories$StoryItem, ChatActivity.ReplyQuote replyQuote, ArrayList<TLRPC$MessageEntity> arrayList, ArrayList<TLRPC$InputDocument> arrayList2, InputContentInfoCompat inputContentInfoCompat, int i, MessageObject messageObject3, VideoEditedInfo videoEditedInfo, boolean z, int i2, boolean z2, CharSequence charSequence) {
        SendingMediaInfo sendingMediaInfo = new SendingMediaInfo();
        sendingMediaInfo.path = str;
        sendingMediaInfo.thumbPath = str2;
        sendingMediaInfo.uri = uri;
        if (charSequence != null) {
            sendingMediaInfo.caption = charSequence.toString();
        }
        sendingMediaInfo.entities = arrayList;
        sendingMediaInfo.ttl = i;
        if (arrayList2 != null) {
            sendingMediaInfo.masks = new ArrayList<>(arrayList2);
        }
        sendingMediaInfo.videoEditedInfo = videoEditedInfo;
        ArrayList arrayList3 = new ArrayList();
        arrayList3.add(sendingMediaInfo);
        prepareSendingMedia(accountInstance, arrayList3, j, messageObject, messageObject2, null, replyQuote, z2, false, messageObject3, z, i2, false, inputContentInfoCompat);
    }

    public static void prepareSendingBotContextResult(final BaseFragment baseFragment, final AccountInstance accountInstance, final TLRPC$BotInlineResult tLRPC$BotInlineResult, final HashMap<String, String> hashMap, final long j, final MessageObject messageObject, final MessageObject messageObject2, final TL_stories$StoryItem tL_stories$StoryItem, final ChatActivity.ReplyQuote replyQuote, final boolean z, final int i) {
        if (tLRPC$BotInlineResult == null) {
            return;
        }
        TLRPC$BotInlineMessage tLRPC$BotInlineMessage = tLRPC$BotInlineResult.send_message;
        if (tLRPC$BotInlineMessage instanceof TLRPC$TL_botInlineMessageMediaAuto) {
            new Thread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda4
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.lambda$prepareSendingBotContextResult$82(j, tLRPC$BotInlineResult, accountInstance, hashMap, baseFragment, messageObject, messageObject2, z, i, tL_stories$StoryItem, replyQuote);
                }
            }).run();
        } else if (tLRPC$BotInlineMessage instanceof TLRPC$TL_botInlineMessageText) {
            TLRPC$TL_webPagePending tLRPC$TL_webPagePending = null;
            if (DialogObject.isEncryptedDialog(j)) {
                int i2 = 0;
                while (true) {
                    if (i2 >= tLRPC$BotInlineResult.send_message.entities.size()) {
                        break;
                    }
                    TLRPC$MessageEntity tLRPC$MessageEntity = tLRPC$BotInlineResult.send_message.entities.get(i2);
                    if (tLRPC$MessageEntity instanceof TLRPC$TL_messageEntityUrl) {
                        tLRPC$TL_webPagePending = new TLRPC$TL_webPagePending();
                        String str = tLRPC$BotInlineResult.send_message.message;
                        int i3 = tLRPC$MessageEntity.offset;
                        tLRPC$TL_webPagePending.url = str.substring(i3, tLRPC$MessageEntity.length + i3);
                        break;
                    }
                    i2++;
                }
            }
            TLRPC$TL_webPagePending tLRPC$TL_webPagePending2 = tLRPC$TL_webPagePending;
            SendMessagesHelper sendMessagesHelper = accountInstance.getSendMessagesHelper();
            TLRPC$BotInlineMessage tLRPC$BotInlineMessage2 = tLRPC$BotInlineResult.send_message;
            sendMessagesHelper.sendMessage(SendMessageParams.of(tLRPC$BotInlineMessage2.message, j, messageObject, messageObject2, tLRPC$TL_webPagePending2, !tLRPC$BotInlineMessage2.no_webpage, tLRPC$BotInlineMessage2.entities, tLRPC$BotInlineMessage2.reply_markup, hashMap, z, i, null, false));
        } else if (tLRPC$BotInlineMessage instanceof TLRPC$TL_botInlineMessageMediaVenue) {
            TLRPC$TL_messageMediaVenue tLRPC$TL_messageMediaVenue = new TLRPC$TL_messageMediaVenue();
            TLRPC$BotInlineMessage tLRPC$BotInlineMessage3 = tLRPC$BotInlineResult.send_message;
            tLRPC$TL_messageMediaVenue.geo = tLRPC$BotInlineMessage3.geo;
            tLRPC$TL_messageMediaVenue.address = tLRPC$BotInlineMessage3.address;
            tLRPC$TL_messageMediaVenue.title = tLRPC$BotInlineMessage3.title;
            tLRPC$TL_messageMediaVenue.provider = tLRPC$BotInlineMessage3.provider;
            tLRPC$TL_messageMediaVenue.venue_id = tLRPC$BotInlineMessage3.venue_id;
            String str2 = tLRPC$BotInlineMessage3.venue_type;
            tLRPC$TL_messageMediaVenue.venue_id = str2;
            tLRPC$TL_messageMediaVenue.venue_type = str2;
            if (str2 == null) {
                tLRPC$TL_messageMediaVenue.venue_type = "";
            }
            accountInstance.getSendMessagesHelper().sendMessage(SendMessageParams.of(tLRPC$TL_messageMediaVenue, j, messageObject, messageObject2, tLRPC$BotInlineResult.send_message.reply_markup, hashMap, z, i));
        } else if (tLRPC$BotInlineMessage instanceof TLRPC$TL_botInlineMessageMediaGeo) {
            if (tLRPC$BotInlineMessage.period != 0 || tLRPC$BotInlineMessage.proximity_notification_radius != 0) {
                TLRPC$TL_messageMediaGeoLive tLRPC$TL_messageMediaGeoLive = new TLRPC$TL_messageMediaGeoLive();
                TLRPC$BotInlineMessage tLRPC$BotInlineMessage4 = tLRPC$BotInlineResult.send_message;
                int i4 = tLRPC$BotInlineMessage4.period;
                if (i4 == 0) {
                    i4 = 900;
                }
                tLRPC$TL_messageMediaGeoLive.period = i4;
                tLRPC$TL_messageMediaGeoLive.geo = tLRPC$BotInlineMessage4.geo;
                tLRPC$TL_messageMediaGeoLive.heading = tLRPC$BotInlineMessage4.heading;
                tLRPC$TL_messageMediaGeoLive.proximity_notification_radius = tLRPC$BotInlineMessage4.proximity_notification_radius;
                accountInstance.getSendMessagesHelper().sendMessage(SendMessageParams.of(tLRPC$TL_messageMediaGeoLive, j, messageObject, messageObject2, tLRPC$BotInlineResult.send_message.reply_markup, hashMap, z, i));
                return;
            }
            TLRPC$TL_messageMediaGeo tLRPC$TL_messageMediaGeo = new TLRPC$TL_messageMediaGeo();
            TLRPC$BotInlineMessage tLRPC$BotInlineMessage5 = tLRPC$BotInlineResult.send_message;
            tLRPC$TL_messageMediaGeo.geo = tLRPC$BotInlineMessage5.geo;
            tLRPC$TL_messageMediaGeo.heading = tLRPC$BotInlineMessage5.heading;
            accountInstance.getSendMessagesHelper().sendMessage(SendMessageParams.of(tLRPC$TL_messageMediaGeo, j, messageObject, messageObject2, tLRPC$BotInlineResult.send_message.reply_markup, hashMap, z, i));
        } else if (tLRPC$BotInlineMessage instanceof TLRPC$TL_botInlineMessageMediaContact) {
            TLRPC$TL_user tLRPC$TL_user = new TLRPC$TL_user();
            TLRPC$BotInlineMessage tLRPC$BotInlineMessage6 = tLRPC$BotInlineResult.send_message;
            tLRPC$TL_user.phone = tLRPC$BotInlineMessage6.phone_number;
            tLRPC$TL_user.first_name = tLRPC$BotInlineMessage6.first_name;
            tLRPC$TL_user.last_name = tLRPC$BotInlineMessage6.last_name;
            TLRPC$TL_restrictionReason tLRPC$TL_restrictionReason = new TLRPC$TL_restrictionReason();
            tLRPC$TL_restrictionReason.text = tLRPC$BotInlineResult.send_message.vcard;
            tLRPC$TL_restrictionReason.platform = "";
            tLRPC$TL_restrictionReason.reason = "";
            tLRPC$TL_user.restriction_reason.add(tLRPC$TL_restrictionReason);
            accountInstance.getSendMessagesHelper().sendMessage(SendMessageParams.of(tLRPC$TL_user, j, messageObject, messageObject2, tLRPC$BotInlineResult.send_message.reply_markup, hashMap, z, i));
        } else if (tLRPC$BotInlineMessage instanceof TLRPC$TL_botInlineMessageMediaInvoice) {
            if (DialogObject.isEncryptedDialog(j)) {
                return;
            }
            TLRPC$TL_botInlineMessageMediaInvoice tLRPC$TL_botInlineMessageMediaInvoice = (TLRPC$TL_botInlineMessageMediaInvoice) tLRPC$BotInlineResult.send_message;
            TLRPC$TL_messageMediaInvoice tLRPC$TL_messageMediaInvoice = new TLRPC$TL_messageMediaInvoice();
            tLRPC$TL_messageMediaInvoice.shipping_address_requested = tLRPC$TL_botInlineMessageMediaInvoice.shipping_address_requested;
            tLRPC$TL_messageMediaInvoice.test = tLRPC$TL_botInlineMessageMediaInvoice.test;
            tLRPC$TL_messageMediaInvoice.title = tLRPC$TL_botInlineMessageMediaInvoice.title;
            tLRPC$TL_messageMediaInvoice.description = tLRPC$TL_botInlineMessageMediaInvoice.description;
            TLRPC$WebDocument tLRPC$WebDocument = tLRPC$TL_botInlineMessageMediaInvoice.photo;
            if (tLRPC$WebDocument != null) {
                tLRPC$TL_messageMediaInvoice.webPhoto = tLRPC$WebDocument;
                tLRPC$TL_messageMediaInvoice.flags |= 1;
            }
            tLRPC$TL_messageMediaInvoice.currency = tLRPC$TL_botInlineMessageMediaInvoice.currency;
            tLRPC$TL_messageMediaInvoice.total_amount = tLRPC$TL_botInlineMessageMediaInvoice.total_amount;
            tLRPC$TL_messageMediaInvoice.start_param = "";
            accountInstance.getSendMessagesHelper().sendMessage(SendMessageParams.of(tLRPC$TL_messageMediaInvoice, j, messageObject, messageObject2, tLRPC$BotInlineResult.send_message.reply_markup, hashMap, z, i));
        } else if (tLRPC$BotInlineMessage instanceof TLRPC$TL_botInlineMessageMediaWebPage) {
            TLRPC$TL_webPagePending tLRPC$TL_webPagePending3 = new TLRPC$TL_webPagePending();
            tLRPC$TL_webPagePending3.url = ((TLRPC$TL_botInlineMessageMediaWebPage) tLRPC$BotInlineMessage).url;
            SendMessagesHelper sendMessagesHelper2 = accountInstance.getSendMessagesHelper();
            TLRPC$BotInlineMessage tLRPC$BotInlineMessage7 = tLRPC$BotInlineResult.send_message;
            sendMessagesHelper2.sendMessage(SendMessageParams.of(tLRPC$BotInlineMessage7.message, j, messageObject, messageObject2, tLRPC$TL_webPagePending3, !tLRPC$BotInlineMessage7.no_webpage, tLRPC$BotInlineMessage7.entities, tLRPC$BotInlineMessage7.reply_markup, hashMap, z, i, null, false));
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* JADX WARN: Can't fix incorrect switch cases order, some code will duplicate */
    /* JADX WARN: Code restructure failed: missing block: B:81:0x01c7, code lost:
        if (r0.equals("voice") == false) goto L85;
     */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:179:0x0455  */
    /* JADX WARN: Removed duplicated region for block: B:182:0x045b  */
    /* JADX WARN: Removed duplicated region for block: B:185:0x0467  */
    /* JADX WARN: Removed duplicated region for block: B:195:0x04b1  */
    /* JADX WARN: Removed duplicated region for block: B:199:0x04f3  */
    /* JADX WARN: Removed duplicated region for block: B:202:0x04fb  */
    /* JADX WARN: Removed duplicated region for block: B:203:0x0506  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public static /* synthetic */ void lambda$prepareSendingBotContextResult$82(final long j, final TLRPC$BotInlineResult tLRPC$BotInlineResult, final AccountInstance accountInstance, final HashMap hashMap, final BaseFragment baseFragment, final MessageObject messageObject, final MessageObject messageObject2, final boolean z, final int i, final TL_stories$StoryItem tL_stories$StoryItem, final ChatActivity.ReplyQuote replyQuote) {
        String str;
        String str2;
        char c;
        TLRPC$TL_photo tLRPC$TL_photo;
        Bitmap loadBitmap;
        boolean z2;
        int i2;
        String str3;
        int lastIndexOf;
        final TLRPC$TL_photo tLRPC$TL_photo2;
        final TLRPC$TL_game tLRPC$TL_game;
        String str4;
        Object obj;
        final Bitmap[] bitmapArr;
        final String[] strArr;
        TLRPC$InputPeer inputPeer;
        TLRPC$WebDocument tLRPC$WebDocument;
        TLRPC$BotInlineResult tLRPC$BotInlineResult2 = tLRPC$BotInlineResult;
        boolean isEncryptedDialog = DialogObject.isEncryptedDialog(j);
        TLRPC$TL_document tLRPC$TL_document = null;
        if ("game".equals(tLRPC$BotInlineResult2.type)) {
            if (isEncryptedDialog) {
                return;
            }
            TLRPC$TL_game tLRPC$TL_game2 = new TLRPC$TL_game();
            tLRPC$TL_game2.title = tLRPC$BotInlineResult2.title;
            tLRPC$TL_game2.description = tLRPC$BotInlineResult2.description;
            tLRPC$TL_game2.short_name = tLRPC$BotInlineResult2.id;
            TLRPC$Photo tLRPC$Photo = tLRPC$BotInlineResult2.photo;
            tLRPC$TL_game2.photo = tLRPC$Photo;
            if (tLRPC$Photo == null) {
                tLRPC$TL_game2.photo = new TLRPC$TL_photoEmpty();
            }
            TLRPC$Document tLRPC$Document = tLRPC$BotInlineResult2.document;
            if (tLRPC$Document instanceof TLRPC$TL_document) {
                tLRPC$TL_game2.document = tLRPC$Document;
                tLRPC$TL_game2.flags |= 1;
            }
            tLRPC$TL_game = tLRPC$TL_game2;
            str4 = null;
            tLRPC$TL_photo2 = null;
        } else if (tLRPC$BotInlineResult2 instanceof TLRPC$TL_botInlineMediaResult) {
            TLRPC$Document tLRPC$Document2 = tLRPC$BotInlineResult2.document;
            if (tLRPC$Document2 != null) {
                if (tLRPC$Document2 instanceof TLRPC$TL_document) {
                    tLRPC$TL_photo2 = null;
                    tLRPC$TL_game = 0;
                    tLRPC$TL_document = (TLRPC$TL_document) tLRPC$Document2;
                    str4 = null;
                }
            } else {
                TLRPC$Photo tLRPC$Photo2 = tLRPC$BotInlineResult2.photo;
                if (tLRPC$Photo2 != null && (tLRPC$Photo2 instanceof TLRPC$TL_photo)) {
                    tLRPC$TL_photo2 = (TLRPC$TL_photo) tLRPC$Photo2;
                    str4 = null;
                    obj = null;
                    tLRPC$TL_game = obj;
                }
            }
            str4 = null;
            tLRPC$TL_document = null;
            tLRPC$TL_photo2 = null;
            tLRPC$TL_game = tLRPC$TL_photo2;
        } else {
            TLRPC$WebDocument tLRPC$WebDocument2 = tLRPC$BotInlineResult2.content;
            if (tLRPC$WebDocument2 != null) {
                String httpUrlExtension = ImageLoader.getHttpUrlExtension(tLRPC$WebDocument2.url, null);
                if (TextUtils.isEmpty(httpUrlExtension)) {
                    str = FileLoader.getExtensionByMimeType(tLRPC$BotInlineResult2.content.mime_type);
                } else {
                    str = "." + httpUrlExtension;
                }
                File file = new File(FileLoader.getDirectory(4), Utilities.MD5(tLRPC$BotInlineResult2.content.url) + str);
                if (file.exists()) {
                    str2 = file.getAbsolutePath();
                } else {
                    str2 = tLRPC$BotInlineResult2.content.url;
                }
                String str5 = str2;
                String str6 = tLRPC$BotInlineResult2.type;
                str6.hashCode();
                char c2 = 5;
                switch (str6.hashCode()) {
                    case -1890252483:
                        if (str6.equals("sticker")) {
                            c = 0;
                            break;
                        }
                        c = 65535;
                        break;
                    case 102340:
                        if (str6.equals("gif")) {
                            c = 1;
                            break;
                        }
                        c = 65535;
                        break;
                    case 3143036:
                        if (str6.equals("file")) {
                            c = 2;
                            break;
                        }
                        c = 65535;
                        break;
                    case 93166550:
                        if (str6.equals(MediaStreamTrack.AUDIO_TRACK_KIND)) {
                            c = 3;
                            break;
                        }
                        c = 65535;
                        break;
                    case 106642994:
                        if (str6.equals("photo")) {
                            c = 4;
                            break;
                        }
                        c = 65535;
                        break;
                    case 112202875:
                        if (str6.equals(MediaStreamTrack.VIDEO_TRACK_KIND)) {
                            c = 5;
                            break;
                        }
                        c = 65535;
                        break;
                    case 112386354:
                        if (str6.equals("voice")) {
                            c = 6;
                            break;
                        }
                        c = 65535;
                        break;
                    default:
                        c = 65535;
                        break;
                }
                switch (c) {
                    case 0:
                    case 1:
                    case 2:
                    case 3:
                    case 5:
                    case 6:
                        TLRPC$TL_document tLRPC$TL_document2 = new TLRPC$TL_document();
                        tLRPC$TL_document2.id = 0L;
                        tLRPC$TL_document2.size = 0L;
                        tLRPC$TL_document2.dc_id = 0;
                        tLRPC$BotInlineResult2 = tLRPC$BotInlineResult;
                        tLRPC$TL_document2.mime_type = tLRPC$BotInlineResult2.content.mime_type;
                        tLRPC$TL_document2.file_reference = new byte[0];
                        tLRPC$TL_document2.date = accountInstance.getConnectionsManager().getCurrentTime();
                        TLRPC$TL_documentAttributeFilename tLRPC$TL_documentAttributeFilename = new TLRPC$TL_documentAttributeFilename();
                        tLRPC$TL_document2.attributes.add(tLRPC$TL_documentAttributeFilename);
                        String str7 = tLRPC$BotInlineResult2.type;
                        str7.hashCode();
                        switch (str7.hashCode()) {
                            case -1890252483:
                                if (str7.equals("sticker")) {
                                    c2 = 0;
                                    break;
                                }
                                c2 = 65535;
                                break;
                            case 102340:
                                if (str7.equals("gif")) {
                                    c2 = 1;
                                    break;
                                }
                                c2 = 65535;
                                break;
                            case 3143036:
                                if (str7.equals("file")) {
                                    c2 = 2;
                                    break;
                                }
                                c2 = 65535;
                                break;
                            case 93166550:
                                if (str7.equals(MediaStreamTrack.AUDIO_TRACK_KIND)) {
                                    c2 = 3;
                                    break;
                                }
                                c2 = 65535;
                                break;
                            case 112202875:
                                if (str7.equals(MediaStreamTrack.VIDEO_TRACK_KIND)) {
                                    c2 = 4;
                                    break;
                                }
                                c2 = 65535;
                                break;
                            case 112386354:
                                break;
                            default:
                                c2 = 65535;
                                break;
                        }
                        switch (c2) {
                            case 0:
                                TLRPC$TL_documentAttributeSticker tLRPC$TL_documentAttributeSticker = new TLRPC$TL_documentAttributeSticker();
                                tLRPC$TL_documentAttributeSticker.alt = "";
                                tLRPC$TL_documentAttributeSticker.stickerset = new TLRPC$TL_inputStickerSetEmpty();
                                tLRPC$TL_document2.attributes.add(tLRPC$TL_documentAttributeSticker);
                                TLRPC$TL_documentAttributeImageSize tLRPC$TL_documentAttributeImageSize = new TLRPC$TL_documentAttributeImageSize();
                                int[] inlineResultWidthAndHeight = MessageObject.getInlineResultWidthAndHeight(tLRPC$BotInlineResult);
                                tLRPC$TL_documentAttributeImageSize.w = inlineResultWidthAndHeight[0];
                                tLRPC$TL_documentAttributeImageSize.h = inlineResultWidthAndHeight[1];
                                tLRPC$TL_document2.attributes.add(tLRPC$TL_documentAttributeImageSize);
                                tLRPC$TL_documentAttributeFilename.file_name = "sticker.webp";
                                try {
                                    if (tLRPC$BotInlineResult2.thumb != null) {
                                        tLRPC$TL_photo = null;
                                        try {
                                            Bitmap loadBitmap2 = ImageLoader.loadBitmap(new File(FileLoader.getDirectory(4), Utilities.MD5(tLRPC$BotInlineResult2.thumb.url) + "." + ImageLoader.getHttpUrlExtension(tLRPC$BotInlineResult2.thumb.url, "webp")).getAbsolutePath(), null, 90.0f, 90.0f, true);
                                            if (loadBitmap2 != null) {
                                                TLRPC$PhotoSize scaleAndSaveImage = ImageLoader.scaleAndSaveImage(loadBitmap2, 90.0f, 90.0f, 55, false);
                                                if (scaleAndSaveImage != null) {
                                                    tLRPC$TL_document2.thumbs.add(scaleAndSaveImage);
                                                    tLRPC$TL_document2.flags |= 1;
                                                }
                                                loadBitmap2.recycle();
                                            }
                                        } catch (Throwable th) {
                                            th = th;
                                            FileLog.e(th);
                                            if (tLRPC$TL_documentAttributeFilename.file_name == null) {
                                            }
                                            if (tLRPC$TL_document2.mime_type == null) {
                                            }
                                            if (tLRPC$TL_document2.thumbs.isEmpty()) {
                                            }
                                            tLRPC$TL_photo2 = tLRPC$TL_photo;
                                            tLRPC$TL_game = tLRPC$TL_photo2;
                                            str4 = str5;
                                            tLRPC$TL_document = tLRPC$TL_document2;
                                            if (hashMap != null) {
                                                hashMap.put("originalPath", tLRPC$WebDocument.url);
                                                break;
                                            }
                                            bitmapArr = new Bitmap[1];
                                            strArr = new String[1];
                                            if (!MessageObject.isGifDocument(tLRPC$TL_document)) {
                                            }
                                            if (DialogObject.isEncryptedDialog(j)) {
                                            }
                                            if (inputPeer == null) {
                                                break;
                                            }
                                            final TLRPC$TL_document tLRPC$TL_document3 = tLRPC$TL_document;
                                            final String str8 = str4;
                                            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda74
                                                @Override // java.lang.Runnable
                                                public final void run() {
                                                    SendMessagesHelper.lambda$prepareSendingBotContextResult$81(TLRPC$TL_document.this, bitmapArr, strArr, str8, j, messageObject, messageObject2, tLRPC$BotInlineResult, hashMap, z, i, tLRPC$TL_photo2, tLRPC$TL_game, tL_stories$StoryItem, replyQuote, accountInstance);
                                                }
                                            });
                                        }
                                    }
                                    tLRPC$TL_photo = null;
                                } catch (Throwable th2) {
                                    th = th2;
                                    tLRPC$TL_photo = null;
                                }
                                break;
                            case 1:
                                tLRPC$TL_documentAttributeFilename.file_name = "animation.gif";
                                if (str5.endsWith("mp4")) {
                                    tLRPC$TL_document2.mime_type = "video/mp4";
                                    tLRPC$TL_document2.attributes.add(new TLRPC$TL_documentAttributeAnimated());
                                } else {
                                    tLRPC$TL_document2.mime_type = "image/gif";
                                }
                                int i3 = isEncryptedDialog ? 90 : 320;
                                try {
                                    if (str5.endsWith("mp4")) {
                                        loadBitmap = createVideoThumbnail(str5, 1);
                                        if (loadBitmap == null) {
                                            TLRPC$WebDocument tLRPC$WebDocument3 = tLRPC$BotInlineResult2.thumb;
                                            if ((tLRPC$WebDocument3 instanceof TLRPC$TL_webDocument) && "video/mp4".equals(tLRPC$WebDocument3.mime_type)) {
                                                String httpUrlExtension2 = ImageLoader.getHttpUrlExtension(tLRPC$BotInlineResult2.thumb.url, null);
                                                if (TextUtils.isEmpty(httpUrlExtension2)) {
                                                    str3 = FileLoader.getExtensionByMimeType(tLRPC$BotInlineResult2.thumb.mime_type);
                                                } else {
                                                    str3 = "." + httpUrlExtension2;
                                                }
                                                loadBitmap = createVideoThumbnail(new File(FileLoader.getDirectory(4), Utilities.MD5(tLRPC$BotInlineResult2.thumb.url) + str3).getAbsolutePath(), 1);
                                            }
                                        }
                                    } else {
                                        float f = i3;
                                        loadBitmap = ImageLoader.loadBitmap(str5, null, f, f, true);
                                    }
                                    if (loadBitmap != null) {
                                        float f2 = i3;
                                        if (i3 > 90) {
                                            z2 = false;
                                            i2 = 80;
                                        } else {
                                            z2 = false;
                                            i2 = 55;
                                        }
                                        TLRPC$PhotoSize scaleAndSaveImage2 = ImageLoader.scaleAndSaveImage(loadBitmap, f2, f2, i2, z2);
                                        if (scaleAndSaveImage2 != null) {
                                            tLRPC$TL_document2.thumbs.add(scaleAndSaveImage2);
                                            tLRPC$TL_document2.flags |= 1;
                                        }
                                        loadBitmap.recycle();
                                    }
                                } catch (Throwable th3) {
                                    FileLog.e(th3);
                                }
                                tLRPC$TL_photo = null;
                                break;
                            case 2:
                                if (tLRPC$BotInlineResult2.content.mime_type.lastIndexOf(47) != -1) {
                                    tLRPC$TL_documentAttributeFilename.file_name = "file." + tLRPC$BotInlineResult2.content.mime_type.substring(lastIndexOf + 1);
                                } else {
                                    tLRPC$TL_documentAttributeFilename.file_name = "file";
                                }
                                tLRPC$TL_photo = null;
                                break;
                            case 3:
                                TLRPC$TL_documentAttributeAudio tLRPC$TL_documentAttributeAudio = new TLRPC$TL_documentAttributeAudio();
                                tLRPC$TL_documentAttributeAudio.duration = MessageObject.getInlineResultDuration(tLRPC$BotInlineResult);
                                tLRPC$TL_documentAttributeAudio.title = tLRPC$BotInlineResult2.title;
                                int i4 = tLRPC$TL_documentAttributeAudio.flags | 1;
                                tLRPC$TL_documentAttributeAudio.flags = i4;
                                String str9 = tLRPC$BotInlineResult2.description;
                                if (str9 != null) {
                                    tLRPC$TL_documentAttributeAudio.performer = str9;
                                    tLRPC$TL_documentAttributeAudio.flags = i4 | 2;
                                }
                                tLRPC$TL_documentAttributeFilename.file_name = "audio.mp3";
                                tLRPC$TL_document2.attributes.add(tLRPC$TL_documentAttributeAudio);
                                tLRPC$TL_photo = null;
                                break;
                            case 4:
                                tLRPC$TL_documentAttributeFilename.file_name = "video.mp4";
                                TLRPC$TL_documentAttributeVideo tLRPC$TL_documentAttributeVideo = new TLRPC$TL_documentAttributeVideo();
                                int[] inlineResultWidthAndHeight2 = MessageObject.getInlineResultWidthAndHeight(tLRPC$BotInlineResult);
                                tLRPC$TL_documentAttributeVideo.w = inlineResultWidthAndHeight2[0];
                                tLRPC$TL_documentAttributeVideo.h = inlineResultWidthAndHeight2[1];
                                tLRPC$TL_documentAttributeVideo.duration = MessageObject.getInlineResultDuration(tLRPC$BotInlineResult);
                                tLRPC$TL_documentAttributeVideo.supports_streaming = true;
                                tLRPC$TL_document2.attributes.add(tLRPC$TL_documentAttributeVideo);
                                try {
                                    if (tLRPC$BotInlineResult2.thumb != null) {
                                        Bitmap loadBitmap3 = ImageLoader.loadBitmap(new File(FileLoader.getDirectory(4), Utilities.MD5(tLRPC$BotInlineResult2.thumb.url) + "." + ImageLoader.getHttpUrlExtension(tLRPC$BotInlineResult2.thumb.url, "jpg")).getAbsolutePath(), null, 90.0f, 90.0f, true);
                                        if (loadBitmap3 != null) {
                                            TLRPC$PhotoSize scaleAndSaveImage3 = ImageLoader.scaleAndSaveImage(loadBitmap3, 90.0f, 90.0f, 55, false);
                                            if (scaleAndSaveImage3 != null) {
                                                tLRPC$TL_document2.thumbs.add(scaleAndSaveImage3);
                                                tLRPC$TL_document2.flags |= 1;
                                            }
                                            loadBitmap3.recycle();
                                        }
                                    }
                                } catch (Throwable th4) {
                                    FileLog.e(th4);
                                }
                                tLRPC$TL_photo = null;
                                break;
                            case 5:
                                TLRPC$TL_documentAttributeAudio tLRPC$TL_documentAttributeAudio2 = new TLRPC$TL_documentAttributeAudio();
                                tLRPC$TL_documentAttributeAudio2.duration = MessageObject.getInlineResultDuration(tLRPC$BotInlineResult);
                                tLRPC$TL_documentAttributeAudio2.voice = true;
                                tLRPC$TL_documentAttributeFilename.file_name = "audio.ogg";
                                tLRPC$TL_document2.attributes.add(tLRPC$TL_documentAttributeAudio2);
                                tLRPC$TL_photo = null;
                                break;
                            default:
                                tLRPC$TL_photo = null;
                                break;
                        }
                        if (tLRPC$TL_documentAttributeFilename.file_name == null) {
                            tLRPC$TL_documentAttributeFilename.file_name = "file";
                        }
                        if (tLRPC$TL_document2.mime_type == null) {
                            tLRPC$TL_document2.mime_type = "application/octet-stream";
                        }
                        if (tLRPC$TL_document2.thumbs.isEmpty()) {
                            TLRPC$TL_photoSize tLRPC$TL_photoSize = new TLRPC$TL_photoSize();
                            int[] inlineResultWidthAndHeight3 = MessageObject.getInlineResultWidthAndHeight(tLRPC$BotInlineResult);
                            tLRPC$TL_photoSize.w = inlineResultWidthAndHeight3[0];
                            tLRPC$TL_photoSize.h = inlineResultWidthAndHeight3[1];
                            tLRPC$TL_photoSize.size = 0;
                            tLRPC$TL_photoSize.location = new TLRPC$TL_fileLocationUnavailable();
                            tLRPC$TL_photoSize.type = "x";
                            tLRPC$TL_document2.thumbs.add(tLRPC$TL_photoSize);
                            tLRPC$TL_document2.flags |= 1;
                        }
                        tLRPC$TL_photo2 = tLRPC$TL_photo;
                        tLRPC$TL_game = tLRPC$TL_photo2;
                        str4 = str5;
                        tLRPC$TL_document = tLRPC$TL_document2;
                        break;
                    case 4:
                        TLRPC$TL_photo generatePhotoSizes = file.exists() ? accountInstance.getSendMessagesHelper().generatePhotoSizes(str5, null) : null;
                        if (generatePhotoSizes == null) {
                            generatePhotoSizes = new TLRPC$TL_photo();
                            generatePhotoSizes.date = accountInstance.getConnectionsManager().getCurrentTime();
                            generatePhotoSizes.file_reference = new byte[0];
                            TLRPC$TL_photoSize tLRPC$TL_photoSize2 = new TLRPC$TL_photoSize();
                            int[] inlineResultWidthAndHeight4 = MessageObject.getInlineResultWidthAndHeight(tLRPC$BotInlineResult);
                            tLRPC$TL_photoSize2.w = inlineResultWidthAndHeight4[0];
                            tLRPC$TL_photoSize2.h = inlineResultWidthAndHeight4[1];
                            tLRPC$TL_photoSize2.size = 1;
                            tLRPC$TL_photoSize2.location = new TLRPC$TL_fileLocationUnavailable();
                            tLRPC$TL_photoSize2.type = "x";
                            generatePhotoSizes.sizes.add(tLRPC$TL_photoSize2);
                        }
                        tLRPC$TL_photo2 = generatePhotoSizes;
                        str4 = str5;
                        obj = null;
                        tLRPC$TL_game = obj;
                        break;
                    default:
                        str4 = str5;
                        tLRPC$TL_photo2 = null;
                        tLRPC$TL_game = tLRPC$TL_photo2;
                        break;
                }
            }
            str4 = null;
            tLRPC$TL_document = null;
            tLRPC$TL_photo2 = null;
            tLRPC$TL_game = tLRPC$TL_photo2;
        }
        if (hashMap != null && (tLRPC$WebDocument = tLRPC$BotInlineResult2.content) != null) {
            hashMap.put("originalPath", tLRPC$WebDocument.url);
        }
        bitmapArr = new Bitmap[1];
        strArr = new String[1];
        if (!MessageObject.isGifDocument(tLRPC$TL_document)) {
            TLRPC$PhotoSize closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(tLRPC$TL_document.thumbs, 320);
            File pathToAttach = FileLoader.getInstance(accountInstance.getCurrentAccount()).getPathToAttach(tLRPC$TL_document);
            if (!pathToAttach.exists()) {
                pathToAttach = FileLoader.getInstance(accountInstance.getCurrentAccount()).getPathToAttach(tLRPC$TL_document, true);
            }
            ensureMediaThumbExists(accountInstance, isEncryptedDialog, tLRPC$TL_document, pathToAttach.getAbsolutePath(), null, 0L);
            strArr[0] = getKeyForPhotoSize(accountInstance, closestPhotoSizeWithSize, bitmapArr, true, true);
        }
        inputPeer = DialogObject.isEncryptedDialog(j) ? accountInstance.getMessagesController().getInputPeer(j) : null;
        if (inputPeer == null && inputPeer.user_id != 0 && accountInstance.getMessagesController().getUserFull(inputPeer.user_id) != null && accountInstance.getMessagesController().getUserFull(inputPeer.user_id).voice_messages_forbidden && tLRPC$TL_document != null) {
            if (MessageObject.isVoiceDocument(tLRPC$TL_document)) {
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda75
                    @Override // java.lang.Runnable
                    public final void run() {
                        AlertsCreator.showSendMediaAlert(7, BaseFragment.this, null);
                    }
                });
                return;
            } else if (MessageObject.isRoundVideoDocument(tLRPC$TL_document)) {
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda76
                    @Override // java.lang.Runnable
                    public final void run() {
                        AlertsCreator.showSendMediaAlert(8, BaseFragment.this, null);
                    }
                });
                return;
            } else {
                return;
            }
        }
        final TLRPC$TL_document tLRPC$TL_document32 = tLRPC$TL_document;
        final String str82 = str4;
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda74
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.lambda$prepareSendingBotContextResult$81(TLRPC$TL_document.this, bitmapArr, strArr, str82, j, messageObject, messageObject2, tLRPC$BotInlineResult, hashMap, z, i, tLRPC$TL_photo2, tLRPC$TL_game, tL_stories$StoryItem, replyQuote, accountInstance);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingBotContextResult$81(TLRPC$TL_document tLRPC$TL_document, Bitmap[] bitmapArr, String[] strArr, String str, long j, MessageObject messageObject, MessageObject messageObject2, TLRPC$BotInlineResult tLRPC$BotInlineResult, HashMap hashMap, boolean z, int i, TLRPC$TL_photo tLRPC$TL_photo, TLRPC$TL_game tLRPC$TL_game, TL_stories$StoryItem tL_stories$StoryItem, ChatActivity.ReplyQuote replyQuote, AccountInstance accountInstance) {
        SendMessageParams sendMessageParams = null;
        if (tLRPC$TL_document != null) {
            if (bitmapArr[0] != null && strArr[0] != null) {
                ImageLoader.getInstance().putImageToCache(new BitmapDrawable(bitmapArr[0]), strArr[0], false);
            }
            TLRPC$BotInlineMessage tLRPC$BotInlineMessage = tLRPC$BotInlineResult.send_message;
            sendMessageParams = SendMessageParams.of(tLRPC$TL_document, null, str, j, messageObject, messageObject2, tLRPC$BotInlineMessage.message, tLRPC$BotInlineMessage.entities, tLRPC$BotInlineMessage.reply_markup, hashMap, z, i, 0, tLRPC$BotInlineResult, null, false);
        } else if (tLRPC$TL_photo != null) {
            TLRPC$WebDocument tLRPC$WebDocument = tLRPC$BotInlineResult.content;
            String str2 = tLRPC$WebDocument != null ? tLRPC$WebDocument.url : null;
            TLRPC$BotInlineMessage tLRPC$BotInlineMessage2 = tLRPC$BotInlineResult.send_message;
            sendMessageParams = SendMessageParams.of(tLRPC$TL_photo, str2, j, messageObject, messageObject2, tLRPC$BotInlineMessage2.message, tLRPC$BotInlineMessage2.entities, tLRPC$BotInlineMessage2.reply_markup, hashMap, z, i, 0, tLRPC$BotInlineResult, false);
        } else if (tLRPC$TL_game != null) {
            sendMessageParams = SendMessageParams.of(tLRPC$TL_game, j, messageObject, messageObject2, tLRPC$BotInlineResult.send_message.reply_markup, hashMap, z, i);
        }
        if (sendMessageParams != null) {
            sendMessageParams.replyToStoryItem = tL_stories$StoryItem;
            sendMessageParams.replyQuote = replyQuote;
            accountInstance.getSendMessagesHelper().sendMessage(sendMessageParams);
        }
    }

    private static String getTrimmedString(String str) {
        String trim = str.trim();
        if (trim.length() == 0) {
            return trim;
        }
        while (str.startsWith("\n")) {
            str = str.substring(1);
        }
        while (str.endsWith("\n")) {
            str = str.substring(0, str.length() - 1);
        }
        return str;
    }

    public static void prepareSendingText(AccountInstance accountInstance, String str, long j, boolean z, int i) {
        prepareSendingText(accountInstance, str, j, 0, z, i);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingText$84(final String str, final int i, final AccountInstance accountInstance, final long j, final boolean z, final int i2) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda7
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.lambda$prepareSendingText$83(str, i, accountInstance, j, z, i2);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingText$85(final String str, final int i, final AccountInstance accountInstance, final long j, final boolean z, final int i2) {
        Utilities.stageQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda8
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.lambda$prepareSendingText$84(str, i, accountInstance, j, z, i2);
            }
        });
    }

    public static void prepareSendingText(final AccountInstance accountInstance, final String str, final long j, final int i, final boolean z, final int i2) {
        accountInstance.getMessagesStorage().getStorageQueue().postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda9
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.lambda$prepareSendingText$85(str, i, accountInstance, j, z, i2);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* JADX WARN: Removed duplicated region for block: B:12:0x0043  */
    /* JADX WARN: Removed duplicated region for block: B:15:? A[RETURN, SYNTHETIC] */
    /* JADX WARN: Unsupported multi-entry loop pattern (BACK_EDGE: B:13:0x0075 -> B:11:0x0041). Please submit an issue!!! */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public static /* synthetic */ void lambda$prepareSendingText$83(String str, int i, AccountInstance accountInstance, long j, boolean z, int i2) {
        String trimmedString = getTrimmedString(str);
        if (trimmedString.length() == 0) {
            return;
        }
        int ceil = (int) Math.ceil(trimmedString.length() / 4096.0f);
        MessageObject messageObject = null;
        int i3 = 0;
        if (i != 0) {
            TLRPC$TL_forumTopic findTopic = accountInstance.getMessagesController().getTopicsController().findTopic(-j, i);
            if (findTopic != null && findTopic.topicStartMessage != null) {
                messageObject = new MessageObject(accountInstance.getCurrentAccount(), findTopic.topicStartMessage, false, false);
                messageObject.isTopicMainMessage = true;
            }
            if (i3 < ceil) {
                return;
            }
            int i4 = i3 * LiteMode.FLAG_ANIMATED_EMOJI_CHAT_NOT_PREMIUM;
            i3++;
            accountInstance.getSendMessagesHelper().sendMessage(SendMessageParams.of(trimmedString.substring(i4, Math.min(i3 * LiteMode.FLAG_ANIMATED_EMOJI_CHAT_NOT_PREMIUM, trimmedString.length())), j, messageObject, messageObject, null, true, null, null, null, z, i2, null, false));
        }
        if (i3 < ceil) {
        }
    }

    public static void ensureMediaThumbExists(AccountInstance accountInstance, boolean z, TLObject tLObject, String str, Uri uri, long j) {
        TLRPC$PhotoSize scaleAndSaveImage;
        TLRPC$PhotoSize scaleAndSaveImage2;
        if (tLObject instanceof TLRPC$TL_photo) {
            TLRPC$TL_photo tLRPC$TL_photo = (TLRPC$TL_photo) tLObject;
            TLRPC$PhotoSize closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(tLRPC$TL_photo.sizes, 90);
            boolean exists = ((closestPhotoSizeWithSize instanceof TLRPC$TL_photoStrippedSize) || (closestPhotoSizeWithSize instanceof TLRPC$TL_photoPathSize)) ? true : FileLoader.getInstance(accountInstance.getCurrentAccount()).getPathToAttach(closestPhotoSizeWithSize, true).exists();
            TLRPC$PhotoSize closestPhotoSizeWithSize2 = FileLoader.getClosestPhotoSizeWithSize(tLRPC$TL_photo.sizes, AndroidUtilities.getPhotoSize());
            boolean exists2 = FileLoader.getInstance(accountInstance.getCurrentAccount()).getPathToAttach(closestPhotoSizeWithSize2, false).exists();
            if (exists && exists2) {
                return;
            }
            Bitmap loadBitmap = ImageLoader.loadBitmap(str, uri, AndroidUtilities.getPhotoSize(), AndroidUtilities.getPhotoSize(), true);
            if (loadBitmap == null) {
                loadBitmap = ImageLoader.loadBitmap(str, uri, 800.0f, 800.0f, true);
            }
            Bitmap bitmap = loadBitmap;
            if (!exists2 && (scaleAndSaveImage2 = ImageLoader.scaleAndSaveImage(closestPhotoSizeWithSize2, bitmap, Bitmap.CompressFormat.JPEG, true, AndroidUtilities.getPhotoSize(), AndroidUtilities.getPhotoSize(), 80, false, FileLoader.MEDIA_DIR_VIDEO_PUBLIC, FileLoader.MEDIA_DIR_VIDEO_PUBLIC, false)) != closestPhotoSizeWithSize2) {
                tLRPC$TL_photo.sizes.add(0, scaleAndSaveImage2);
            }
            if (!exists && (scaleAndSaveImage = ImageLoader.scaleAndSaveImage(closestPhotoSizeWithSize, bitmap, 90.0f, 90.0f, 55, true, false)) != closestPhotoSizeWithSize) {
                tLRPC$TL_photo.sizes.add(0, scaleAndSaveImage);
            }
            if (bitmap != null) {
                bitmap.recycle();
            }
        } else if (tLObject instanceof TLRPC$TL_document) {
            TLRPC$TL_document tLRPC$TL_document = (TLRPC$TL_document) tLObject;
            if ((MessageObject.isVideoDocument(tLRPC$TL_document) || MessageObject.isNewGifDocument(tLRPC$TL_document)) && MessageObject.isDocumentHasThumb(tLRPC$TL_document)) {
                TLRPC$PhotoSize closestPhotoSizeWithSize3 = FileLoader.getClosestPhotoSizeWithSize(tLRPC$TL_document.thumbs, 320);
                if ((closestPhotoSizeWithSize3 instanceof TLRPC$TL_photoStrippedSize) || (closestPhotoSizeWithSize3 instanceof TLRPC$TL_photoPathSize) || FileLoader.getInstance(accountInstance.getCurrentAccount()).getPathToAttach(closestPhotoSizeWithSize3, true).exists()) {
                    return;
                }
                Bitmap createVideoThumbnailAtTime = createVideoThumbnailAtTime(str, j);
                Bitmap createVideoThumbnail = createVideoThumbnailAtTime == null ? createVideoThumbnail(str, 1) : createVideoThumbnailAtTime;
                int i = z ? 90 : 320;
                float f = i;
                tLRPC$TL_document.thumbs.set(0, ImageLoader.scaleAndSaveImage(closestPhotoSizeWithSize3, createVideoThumbnail, f, f, i > 90 ? 80 : 55, false, true));
            }
        }
    }

    public static String getKeyForPhotoSize(AccountInstance accountInstance, TLRPC$PhotoSize tLRPC$PhotoSize, Bitmap[] bitmapArr, boolean z, boolean z2) {
        if (tLRPC$PhotoSize == null || tLRPC$PhotoSize.location == null) {
            return null;
        }
        Point messageSize = ChatMessageCell.getMessageSize(tLRPC$PhotoSize.w, tLRPC$PhotoSize.h);
        if (bitmapArr != null) {
            try {
                BitmapFactory.Options options = new BitmapFactory.Options();
                options.inJustDecodeBounds = true;
                File pathToAttach = FileLoader.getInstance(accountInstance.getCurrentAccount()).getPathToAttach(tLRPC$PhotoSize, z2);
                FileInputStream fileInputStream = new FileInputStream(pathToAttach);
                BitmapFactory.decodeStream(fileInputStream, null, options);
                fileInputStream.close();
                float max = Math.max(options.outWidth / messageSize.x, options.outHeight / messageSize.y);
                if (max < 1.0f) {
                    max = 1.0f;
                }
                options.inJustDecodeBounds = false;
                options.inSampleSize = (int) max;
                options.inPreferredConfig = Bitmap.Config.RGB_565;
                if (Build.VERSION.SDK_INT >= 21) {
                    FileInputStream fileInputStream2 = new FileInputStream(pathToAttach);
                    bitmapArr[0] = BitmapFactory.decodeStream(fileInputStream2, null, options);
                    fileInputStream2.close();
                }
            } catch (Throwable unused) {
            }
        }
        return String.format(Locale.US, z ? "%d_%d@%d_%d_b" : "%d_%d@%d_%d", Long.valueOf(tLRPC$PhotoSize.location.volume_id), Integer.valueOf(tLRPC$PhotoSize.location.local_id), Integer.valueOf((int) (messageSize.x / AndroidUtilities.density)), Integer.valueOf((int) (messageSize.y / AndroidUtilities.density)));
    }

    public static boolean shouldSendWebPAsSticker(String str, Uri uri) {
        BitmapFactory.Options options = new BitmapFactory.Options();
        options.inJustDecodeBounds = true;
        if (str != null) {
            try {
                RandomAccessFile randomAccessFile = new RandomAccessFile(str, "r");
                MappedByteBuffer map = randomAccessFile.getChannel().map(FileChannel.MapMode.READ_ONLY, 0L, str.length());
                Utilities.loadWebpImage(null, map, map.limit(), options, true);
                randomAccessFile.close();
            } catch (Exception e) {
                FileLog.e(e);
            }
        } else {
            try {
                InputStream openInputStream = ApplicationLoader.applicationContext.getContentResolver().openInputStream(uri);
                BitmapFactory.decodeStream(openInputStream, null, options);
                if (openInputStream != null) {
                    openInputStream.close();
                }
            } catch (Exception unused) {
            }
        }
        return options.outWidth < 800 && options.outHeight < 800;
    }

    public static void prepareSendingMedia(final AccountInstance accountInstance, final ArrayList<SendingMediaInfo> arrayList, final long j, final MessageObject messageObject, final MessageObject messageObject2, final TL_stories$StoryItem tL_stories$StoryItem, final ChatActivity.ReplyQuote replyQuote, final boolean z, boolean z2, final MessageObject messageObject3, final boolean z3, final int i, final boolean z4, final InputContentInfoCompat inputContentInfoCompat) {
        final boolean z5;
        if (arrayList.isEmpty()) {
            return;
        }
        int size = arrayList.size();
        int i2 = 0;
        while (true) {
            if (i2 >= size) {
                z5 = z2;
                break;
            } else if (arrayList.get(i2).ttl > 0) {
                z5 = false;
                break;
            } else {
                i2++;
            }
        }
        mediaSendQueue.postRunnable(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda11
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.lambda$prepareSendingMedia$91(arrayList, j, z, z5, accountInstance, messageObject3, messageObject, messageObject2, z3, i, tL_stories$StoryItem, replyQuote, inputContentInfoCompat, z4);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* JADX WARN: Code restructure failed: missing block: B:25:0x005d, code lost:
        if (r4 != false) goto L81;
     */
    /* JADX WARN: Code restructure failed: missing block: B:261:0x062b, code lost:
        if (r5 != null) goto L248;
     */
    /* JADX WARN: Code restructure failed: missing block: B:392:0x08bb, code lost:
        if (r67.size() == 1) goto L304;
     */
    /* JADX WARN: Code restructure failed: missing block: B:412:0x0905, code lost:
        if (r2 == (r15 - 1)) goto L315;
     */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:143:0x02ed A[Catch: Exception -> 0x02de, TryCatch #7 {Exception -> 0x02de, blocks: (B:134:0x02d6, B:141:0x02e3, B:143:0x02ed, B:144:0x02f8), top: B:648:0x02d6 }] */
    /* JADX WARN: Removed duplicated region for block: B:144:0x02f8 A[Catch: Exception -> 0x02de, TRY_LEAVE, TryCatch #7 {Exception -> 0x02de, blocks: (B:134:0x02d6, B:141:0x02e3, B:143:0x02ed, B:144:0x02f8), top: B:648:0x02d6 }] */
    /* JADX WARN: Removed duplicated region for block: B:162:0x0332  */
    /* JADX WARN: Removed duplicated region for block: B:163:0x035c  */
    /* JADX WARN: Removed duplicated region for block: B:169:0x036b  */
    /* JADX WARN: Removed duplicated region for block: B:172:0x0376  */
    /* JADX WARN: Removed duplicated region for block: B:189:0x043b  */
    /* JADX WARN: Removed duplicated region for block: B:311:0x06c2  */
    /* JADX WARN: Removed duplicated region for block: B:316:0x071b  */
    /* JADX WARN: Removed duplicated region for block: B:346:0x07b5  */
    /* JADX WARN: Removed duplicated region for block: B:409:0x08e7  */
    /* JADX WARN: Removed duplicated region for block: B:416:0x0910  */
    /* JADX WARN: Removed duplicated region for block: B:486:0x0b6f  */
    /* JADX WARN: Removed duplicated region for block: B:549:0x0c7c  */
    /* JADX WARN: Removed duplicated region for block: B:555:0x0c92  */
    /* JADX WARN: Removed duplicated region for block: B:561:0x0ca5  */
    /* JADX WARN: Removed duplicated region for block: B:570:0x0cee  */
    /* JADX WARN: Removed duplicated region for block: B:572:0x0cf3  */
    /* JADX WARN: Removed duplicated region for block: B:58:0x00bc  */
    /* JADX WARN: Removed duplicated region for block: B:592:0x0d6f A[LOOP:4: B:590:0x0d67->B:592:0x0d6f, LOOP_END] */
    /* JADX WARN: Removed duplicated region for block: B:59:0x00df  */
    /* JADX WARN: Removed duplicated region for block: B:636:0x0626 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:662:0x0305 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:675:0x0ca2 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:92:0x0176  */
    /* JADX WARN: Removed duplicated region for block: B:93:0x017b  */
    /* JADX WARN: Type inference failed for: r4v13 */
    /* JADX WARN: Type inference failed for: r4v25 */
    /* JADX WARN: Type inference failed for: r4v27 */
    /* JADX WARN: Type inference failed for: r8v0 */
    /* JADX WARN: Type inference failed for: r8v19, types: [boolean] */
    /* JADX WARN: Type inference failed for: r8v21 */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public static /* synthetic */ void lambda$prepareSendingMedia$91(ArrayList arrayList, final long j, boolean z, boolean z2, final AccountInstance accountInstance, final MessageObject messageObject, final MessageObject messageObject2, final MessageObject messageObject3, final boolean z3, final int i, final TL_stories$StoryItem tL_stories$StoryItem, final ChatActivity.ReplyQuote replyQuote, InputContentInfoCompat inputContentInfoCompat, final boolean z4) {
        int i2;
        HashMap hashMap;
        int i3;
        ArrayList arrayList2;
        boolean z5;
        long j2;
        int i4;
        int i5;
        String str;
        boolean z6;
        int i6;
        HashMap hashMap2;
        long j3;
        ArrayList arrayList3;
        String str2;
        String str3;
        ArrayList arrayList4;
        ArrayList arrayList5;
        HashMap hashMap3;
        String str4;
        String str5;
        VideoEditedInfo videoEditedInfo;
        String str6;
        boolean z7;
        long j4;
        int i7;
        int i8;
        ArrayList arrayList6;
        ArrayList arrayList7;
        SendingMediaInfo sendingMediaInfo;
        String str7;
        long j5;
        boolean z8;
        boolean z9;
        boolean z10;
        long j6;
        String str8;
        File file;
        Object obj;
        ArrayList arrayList8;
        SendingMediaInfo sendingMediaInfo2;
        String str9;
        String str10;
        TLRPC$TL_document tLRPC$TL_document;
        boolean z11;
        final Bitmap bitmap;
        final String str11;
        TLRPC$TL_document tLRPC$TL_document2;
        final HashMap hashMap4;
        long j7;
        int i9;
        int i10;
        int i11;
        ArrayList<TLRPC$InputDocument> arrayList9;
        int i12;
        int size;
        int i13;
        boolean z12;
        Bitmap bitmap2;
        int i14;
        TLRPC$PhotoSize tLRPC$PhotoSize;
        String str12;
        TLRPC$TL_documentAttributeVideo tLRPC$TL_documentAttributeVideo;
        int i15;
        int i16;
        MediaController.SearchImage searchImage;
        String str13;
        String str14;
        String str15;
        String str16;
        String str17;
        boolean z13;
        HashMap hashMap5;
        String str18;
        boolean z14;
        String str19;
        ArrayList arrayList10;
        String str20;
        String str21;
        String str22;
        String str23;
        int i17;
        Object obj2;
        SendingMediaInfo sendingMediaInfo3;
        TLRPC$TL_photo tLRPC$TL_photo;
        String str24;
        boolean z15;
        final TLRPC$TL_photo tLRPC$TL_photo2;
        String str25;
        Object obj3;
        String str26;
        TLRPC$TL_photo tLRPC$TL_photo3;
        boolean z16;
        int i18;
        long j8;
        int i19;
        String str27;
        ArrayList arrayList11;
        ArrayList arrayList12;
        ArrayList arrayList13;
        AccountInstance accountInstance2;
        long j9;
        int i20;
        TLRPC$PhotoSize closestPhotoSizeWithSize;
        ArrayList arrayList14;
        ArrayList arrayList15;
        ArrayList arrayList16;
        Uri uri;
        InputStream inputStream;
        FileOutputStream fileOutputStream;
        Uri uri2;
        final TLRPC$TL_photo tLRPC$TL_photo4;
        final boolean z17;
        long j10;
        int i21;
        int i22;
        Uri uri3;
        boolean z18;
        File file2;
        TLRPC$TL_document tLRPC$TL_document3;
        Object obj4;
        final TLRPC$TL_document tLRPC$TL_document4;
        String str28;
        File file3;
        int i23;
        Bitmap loadBitmap;
        int i24;
        String str29;
        boolean z19;
        String str30;
        SendingMediaInfo sendingMediaInfo4;
        int i25;
        String str31;
        TLRPC$TL_photo tLRPC$TL_photo5;
        String str32;
        TLRPC$TL_photo tLRPC$TL_photo6;
        String str33;
        TLRPC$TL_photo tLRPC$TL_photo7;
        Uri uri4;
        Uri uri5;
        ArrayList arrayList17 = arrayList;
        long currentTimeMillis = System.currentTimeMillis();
        int size2 = arrayList.size();
        final boolean isEncryptedDialog = DialogObject.isEncryptedDialog(j);
        String str34 = ".webp";
        String str35 = ".gif";
        String str36 = "_";
        Uri uri6 = null;
        ?? r8 = 1;
        if (z || !z2) {
            i2 = 1;
            hashMap = null;
        } else {
            HashMap hashMap6 = new HashMap();
            int i26 = 0;
            while (i26 < size2) {
                SendingMediaInfo sendingMediaInfo5 = (SendingMediaInfo) arrayList17.get(i26);
                if (sendingMediaInfo5.searchImage == null && !sendingMediaInfo5.isVideo && sendingMediaInfo5.videoEditedInfo == null) {
                    String str37 = sendingMediaInfo5.path;
                    if (str37 != null || (uri5 = sendingMediaInfo5.uri) == null) {
                        str29 = str37;
                    } else {
                        str37 = AndroidUtilities.getPath(uri5);
                        str29 = sendingMediaInfo5.uri.toString();
                    }
                    if (str37 == null || sendingMediaInfo5.ttl > 0) {
                        z19 = false;
                    } else {
                        if (str37.endsWith(".gif")) {
                            z19 = false;
                        } else {
                            z19 = str37.endsWith(".webp");
                        }
                        if (arrayList.size() > r8 || ((z19 && !shouldSendWebPAsSticker(str37, uri6)) || !TextUtils.isEmpty(sendingMediaInfo5.caption))) {
                            sendingMediaInfo5.forceImage = r8;
                            if (str37 == null) {
                                File file4 = new File(str37);
                                str30 = str29 + file4.length() + "_" + file4.lastModified();
                            } else {
                                str30 = null;
                            }
                            if (isEncryptedDialog && sendingMediaInfo5.ttl == 0) {
                                Object[] sentFile = accountInstance.getMessagesStorage().getSentFile(str30, !isEncryptedDialog ? 0 : 3);
                                if (sentFile == null || !(sentFile[0] instanceof TLRPC$TL_photo)) {
                                    str32 = null;
                                    tLRPC$TL_photo6 = null;
                                } else {
                                    tLRPC$TL_photo6 = (TLRPC$TL_photo) sentFile[0];
                                    str32 = (String) sentFile[1];
                                }
                                if (tLRPC$TL_photo6 == null && sendingMediaInfo5.uri != null) {
                                    Object[] sentFile2 = accountInstance.getMessagesStorage().getSentFile(AndroidUtilities.getPath(sendingMediaInfo5.uri), !isEncryptedDialog ? 0 : 3);
                                    if (sentFile2 != null) {
                                        if (sentFile2[0] instanceof TLRPC$TL_photo) {
                                            tLRPC$TL_photo7 = (TLRPC$TL_photo) sentFile2[0];
                                            str33 = (String) sentFile2[1];
                                            TLRPC$TL_photo tLRPC$TL_photo8 = tLRPC$TL_photo7;
                                            sendingMediaInfo4 = sendingMediaInfo5;
                                            i24 = i26;
                                            TLRPC$TL_photo tLRPC$TL_photo9 = tLRPC$TL_photo7;
                                            i25 = 1;
                                            ensureMediaThumbExists(accountInstance, isEncryptedDialog, tLRPC$TL_photo8, sendingMediaInfo5.path, sendingMediaInfo5.uri, 0L);
                                            str31 = str33;
                                            tLRPC$TL_photo5 = tLRPC$TL_photo9;
                                        } else {
                                            str33 = str32;
                                            tLRPC$TL_photo7 = tLRPC$TL_photo6;
                                            TLRPC$TL_photo tLRPC$TL_photo82 = tLRPC$TL_photo7;
                                            sendingMediaInfo4 = sendingMediaInfo5;
                                            i24 = i26;
                                            TLRPC$TL_photo tLRPC$TL_photo92 = tLRPC$TL_photo7;
                                            i25 = 1;
                                            ensureMediaThumbExists(accountInstance, isEncryptedDialog, tLRPC$TL_photo82, sendingMediaInfo5.path, sendingMediaInfo5.uri, 0L);
                                            str31 = str33;
                                            tLRPC$TL_photo5 = tLRPC$TL_photo92;
                                        }
                                    }
                                }
                                str33 = str32;
                                tLRPC$TL_photo7 = tLRPC$TL_photo6;
                                TLRPC$TL_photo tLRPC$TL_photo822 = tLRPC$TL_photo7;
                                sendingMediaInfo4 = sendingMediaInfo5;
                                i24 = i26;
                                TLRPC$TL_photo tLRPC$TL_photo922 = tLRPC$TL_photo7;
                                i25 = 1;
                                ensureMediaThumbExists(accountInstance, isEncryptedDialog, tLRPC$TL_photo822, sendingMediaInfo5.path, sendingMediaInfo5.uri, 0L);
                                str31 = str33;
                                tLRPC$TL_photo5 = tLRPC$TL_photo922;
                            } else {
                                sendingMediaInfo4 = sendingMediaInfo5;
                                i24 = i26;
                                i25 = 1;
                                str31 = null;
                                tLRPC$TL_photo5 = null;
                            }
                            final MediaSendPrepareWorker mediaSendPrepareWorker = new MediaSendPrepareWorker();
                            final SendingMediaInfo sendingMediaInfo6 = sendingMediaInfo4;
                            hashMap6.put(sendingMediaInfo6, mediaSendPrepareWorker);
                            if (tLRPC$TL_photo5 == null) {
                                mediaSendPrepareWorker.parentObject = str31;
                                mediaSendPrepareWorker.photo = tLRPC$TL_photo5;
                            } else {
                                mediaSendPrepareWorker.sync = new CountDownLatch(i25);
                                mediaSendThreadPool.execute(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda21
                                    @Override // java.lang.Runnable
                                    public final void run() {
                                        SendMessagesHelper.lambda$prepareSendingMedia$86(SendMessagesHelper.MediaSendPrepareWorker.this, accountInstance, sendingMediaInfo6, isEncryptedDialog);
                                    }
                                });
                            }
                            i26 = i24 + 1;
                            r8 = 1;
                            uri6 = null;
                        }
                    }
                    if (!ImageLoader.shouldSendImageAsDocument(sendingMediaInfo5.path, sendingMediaInfo5.uri)) {
                        if (str37 == null && (uri4 = sendingMediaInfo5.uri) != null && (MediaController.isGif(uri4) || (z19 = MediaController.isWebp(sendingMediaInfo5.uri)))) {
                            if (arrayList.size() > r8 || ((z19 && !shouldSendWebPAsSticker(null, sendingMediaInfo5.uri)) || !TextUtils.isEmpty(sendingMediaInfo5.caption))) {
                                sendingMediaInfo5.forceImage = r8;
                            }
                        }
                        if (str37 == null) {
                        }
                        if (isEncryptedDialog) {
                        }
                        sendingMediaInfo4 = sendingMediaInfo5;
                        i24 = i26;
                        i25 = 1;
                        str31 = null;
                        tLRPC$TL_photo5 = null;
                        final MediaSendPrepareWorker mediaSendPrepareWorker2 = new MediaSendPrepareWorker();
                        final SendingMediaInfo sendingMediaInfo62 = sendingMediaInfo4;
                        hashMap6.put(sendingMediaInfo62, mediaSendPrepareWorker2);
                        if (tLRPC$TL_photo5 == null) {
                        }
                        i26 = i24 + 1;
                        r8 = 1;
                        uri6 = null;
                    }
                }
                i24 = i26;
                i26 = i24 + 1;
                r8 = 1;
                uri6 = null;
            }
            i2 = 1;
            hashMap = hashMap6;
        }
        HashMap hashMap7 = hashMap;
        int i27 = 0;
        ArrayList arrayList18 = null;
        ArrayList arrayList19 = null;
        ArrayList arrayList20 = null;
        int i28 = 0;
        long j11 = 0;
        String str38 = null;
        ArrayList arrayList21 = null;
        ArrayList arrayList22 = null;
        long j12 = 0;
        while (i28 < size2) {
            final SendingMediaInfo sendingMediaInfo7 = (SendingMediaInfo) arrayList17.get(i28);
            if (z2 && size2 > i2 && i27 % 10 == 0) {
                j12 = Utilities.random.nextLong();
                j2 = j12;
                i4 = 0;
            } else {
                j2 = j11;
                i4 = i27;
            }
            MediaController.SearchImage searchImage2 = sendingMediaInfo7.searchImage;
            ArrayList arrayList23 = arrayList18;
            String str39 = str35;
            String str40 = str36;
            ArrayList arrayList24 = arrayList19;
            ArrayList arrayList25 = arrayList20;
            if (searchImage2 != null) {
                int i29 = i28;
                if (sendingMediaInfo7.videoEditedInfo == null) {
                    String str41 = str34;
                    if (searchImage2.type == 1) {
                        final HashMap hashMap8 = new HashMap();
                        TLRPC$Document tLRPC$Document = sendingMediaInfo7.searchImage.document;
                        if (tLRPC$Document instanceof TLRPC$TL_document) {
                            tLRPC$TL_document3 = (TLRPC$TL_document) tLRPC$Document;
                            file2 = FileLoader.getInstance(accountInstance.getCurrentAccount()).getPathToAttach(tLRPC$TL_document3, true);
                        } else {
                            file2 = new File(FileLoader.getDirectory(4), Utilities.MD5(sendingMediaInfo7.searchImage.imageUrl) + "." + ImageLoader.getHttpUrlExtension(sendingMediaInfo7.searchImage.imageUrl, "jpg"));
                            tLRPC$TL_document3 = null;
                        }
                        if (tLRPC$TL_document3 == null) {
                            tLRPC$TL_document4 = new TLRPC$TL_document();
                            tLRPC$TL_document4.id = 0L;
                            tLRPC$TL_document4.file_reference = new byte[0];
                            tLRPC$TL_document4.date = accountInstance.getConnectionsManager().getCurrentTime();
                            TLRPC$TL_documentAttributeFilename tLRPC$TL_documentAttributeFilename = new TLRPC$TL_documentAttributeFilename();
                            tLRPC$TL_documentAttributeFilename.file_name = "animation.gif";
                            tLRPC$TL_document4.attributes.add(tLRPC$TL_documentAttributeFilename);
                            tLRPC$TL_document4.size = sendingMediaInfo7.searchImage.size;
                            tLRPC$TL_document4.dc_id = 0;
                            if (!z && file2.toString().endsWith("mp4")) {
                                tLRPC$TL_document4.mime_type = "video/mp4";
                                tLRPC$TL_document4.attributes.add(new TLRPC$TL_documentAttributeAnimated());
                            } else {
                                tLRPC$TL_document4.mime_type = "image/gif";
                            }
                            if (file2.exists()) {
                                file3 = file2;
                            } else {
                                file2 = null;
                                file3 = null;
                            }
                            if (file2 == null) {
                                file2 = new File(FileLoader.getDirectory(4), Utilities.MD5(sendingMediaInfo7.searchImage.thumbUrl) + "." + ImageLoader.getHttpUrlExtension(sendingMediaInfo7.searchImage.thumbUrl, "jpg"));
                                if (!file2.exists()) {
                                    file2 = null;
                                }
                            }
                            if (file2 != null) {
                                if (!isEncryptedDialog) {
                                    try {
                                        if (sendingMediaInfo7.ttl == 0) {
                                            i23 = 320;
                                            if (!file2.getAbsolutePath().endsWith("mp4")) {
                                                loadBitmap = createVideoThumbnail(file2.getAbsolutePath(), 1);
                                                obj4 = null;
                                            } else {
                                                float f = i23;
                                                obj4 = null;
                                                loadBitmap = ImageLoader.loadBitmap(file2.getAbsolutePath(), null, f, f, true);
                                            }
                                            if (loadBitmap != null) {
                                                try {
                                                    float f2 = i23;
                                                    TLRPC$PhotoSize scaleAndSaveImage = ImageLoader.scaleAndSaveImage(loadBitmap, f2, f2, i23 > 90 ? 80 : 55, isEncryptedDialog);
                                                    if (scaleAndSaveImage != null) {
                                                        tLRPC$TL_document4.thumbs.add(scaleAndSaveImage);
                                                        tLRPC$TL_document4.flags |= 1;
                                                    }
                                                    loadBitmap.recycle();
                                                } catch (Exception e) {
                                                    e = e;
                                                    FileLog.e(e);
                                                    if (tLRPC$TL_document4.thumbs.isEmpty()) {
                                                    }
                                                    file2 = file3;
                                                    String str42 = sendingMediaInfo7.searchImage.imageUrl;
                                                    if (file2 != null) {
                                                    }
                                                    final String str43 = str42;
                                                    str28 = sendingMediaInfo7.searchImage.imageUrl;
                                                    if (str28 != null) {
                                                    }
                                                    i8 = size2;
                                                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda14
                                                        @Override // java.lang.Runnable
                                                        public final void run() {
                                                            SendMessagesHelper.lambda$prepareSendingMedia$87(MessageObject.this, accountInstance, tLRPC$TL_document4, str43, hashMap8, sendingMediaInfo7, r7, j, messageObject2, messageObject3, z3, i, tL_stories$StoryItem, replyQuote);
                                                        }
                                                    });
                                                    arrayList18 = arrayList23;
                                                    i27 = i4;
                                                    arrayList20 = arrayList25;
                                                    arrayList19 = arrayList24;
                                                    i7 = i29;
                                                    hashMap3 = hashMap7;
                                                    str6 = str40;
                                                    z7 = isEncryptedDialog;
                                                    j4 = j2;
                                                    str4 = str39;
                                                    str5 = str41;
                                                    i28 = i7 + 1;
                                                    arrayList17 = arrayList;
                                                    hashMap7 = hashMap3;
                                                    str34 = str5;
                                                    str35 = str4;
                                                    isEncryptedDialog = z7;
                                                    str36 = str6;
                                                    j11 = j4;
                                                    size2 = i8;
                                                    i2 = 1;
                                                }
                                            }
                                        }
                                    } catch (Exception e2) {
                                        e = e2;
                                        obj4 = null;
                                        FileLog.e(e);
                                        if (tLRPC$TL_document4.thumbs.isEmpty()) {
                                        }
                                        file2 = file3;
                                        String str422 = sendingMediaInfo7.searchImage.imageUrl;
                                        if (file2 != null) {
                                        }
                                        final String str432 = str422;
                                        str28 = sendingMediaInfo7.searchImage.imageUrl;
                                        if (str28 != null) {
                                        }
                                        i8 = size2;
                                        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda14
                                            @Override // java.lang.Runnable
                                            public final void run() {
                                                SendMessagesHelper.lambda$prepareSendingMedia$87(MessageObject.this, accountInstance, tLRPC$TL_document4, str432, hashMap8, sendingMediaInfo7, r7, j, messageObject2, messageObject3, z3, i, tL_stories$StoryItem, replyQuote);
                                            }
                                        });
                                        arrayList18 = arrayList23;
                                        i27 = i4;
                                        arrayList20 = arrayList25;
                                        arrayList19 = arrayList24;
                                        i7 = i29;
                                        hashMap3 = hashMap7;
                                        str6 = str40;
                                        z7 = isEncryptedDialog;
                                        j4 = j2;
                                        str4 = str39;
                                        str5 = str41;
                                        i28 = i7 + 1;
                                        arrayList17 = arrayList;
                                        hashMap7 = hashMap3;
                                        str34 = str5;
                                        str35 = str4;
                                        isEncryptedDialog = z7;
                                        str36 = str6;
                                        j11 = j4;
                                        size2 = i8;
                                        i2 = 1;
                                    }
                                }
                                i23 = 90;
                                if (!file2.getAbsolutePath().endsWith("mp4")) {
                                }
                                if (loadBitmap != null) {
                                }
                            } else {
                                obj4 = null;
                            }
                            if (tLRPC$TL_document4.thumbs.isEmpty()) {
                                TLRPC$TL_photoSize tLRPC$TL_photoSize = new TLRPC$TL_photoSize();
                                MediaController.SearchImage searchImage3 = sendingMediaInfo7.searchImage;
                                tLRPC$TL_photoSize.w = searchImage3.width;
                                tLRPC$TL_photoSize.h = searchImage3.height;
                                tLRPC$TL_photoSize.size = 0;
                                tLRPC$TL_photoSize.location = new TLRPC$TL_fileLocationUnavailable();
                                tLRPC$TL_photoSize.type = "x";
                                tLRPC$TL_document4.thumbs.add(tLRPC$TL_photoSize);
                                tLRPC$TL_document4.flags |= 1;
                            }
                            file2 = file3;
                        } else {
                            obj4 = null;
                            tLRPC$TL_document4 = tLRPC$TL_document3;
                        }
                        String str4222 = sendingMediaInfo7.searchImage.imageUrl;
                        if (file2 != null) {
                            str4222 = file2.toString();
                        }
                        final String str4322 = str4222;
                        str28 = sendingMediaInfo7.searchImage.imageUrl;
                        if (str28 != null) {
                            hashMap8.put("originalPath", str28);
                        }
                        i8 = size2;
                        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda14
                            @Override // java.lang.Runnable
                            public final void run() {
                                SendMessagesHelper.lambda$prepareSendingMedia$87(MessageObject.this, accountInstance, tLRPC$TL_document4, str4322, hashMap8, sendingMediaInfo7, r7, j, messageObject2, messageObject3, z3, i, tL_stories$StoryItem, replyQuote);
                            }
                        });
                        arrayList18 = arrayList23;
                        i27 = i4;
                        arrayList20 = arrayList25;
                        arrayList19 = arrayList24;
                        i7 = i29;
                        hashMap3 = hashMap7;
                        str6 = str40;
                        z7 = isEncryptedDialog;
                        j4 = j2;
                        str4 = str39;
                        str5 = str41;
                        i28 = i7 + 1;
                        arrayList17 = arrayList;
                        hashMap7 = hashMap3;
                        str34 = str5;
                        str35 = str4;
                        isEncryptedDialog = z7;
                        str36 = str6;
                        j11 = j4;
                        size2 = i8;
                        i2 = 1;
                    } else {
                        boolean z20 = isEncryptedDialog;
                        int i30 = size2;
                        HashMap hashMap9 = hashMap7;
                        TLRPC$Photo tLRPC$Photo = searchImage2.photo;
                        TLRPC$TL_photo tLRPC$TL_photo10 = tLRPC$Photo instanceof TLRPC$TL_photo ? (TLRPC$TL_photo) tLRPC$Photo : null;
                        if (tLRPC$TL_photo10 == null) {
                            File file5 = new File(FileLoader.getDirectory(4), Utilities.MD5(sendingMediaInfo7.searchImage.imageUrl) + "." + ImageLoader.getHttpUrlExtension(sendingMediaInfo7.searchImage.imageUrl, "jpg"));
                            if (!file5.exists() || file5.length() == 0) {
                                uri3 = null;
                            } else {
                                uri3 = null;
                                tLRPC$TL_photo10 = accountInstance.getSendMessagesHelper().generatePhotoSizes(file5.toString(), null);
                                if (tLRPC$TL_photo10 != null) {
                                    z18 = false;
                                    if (tLRPC$TL_photo10 == null) {
                                        File file6 = new File(FileLoader.getDirectory(4), Utilities.MD5(sendingMediaInfo7.searchImage.thumbUrl) + "." + ImageLoader.getHttpUrlExtension(sendingMediaInfo7.searchImage.thumbUrl, "jpg"));
                                        if (file6.exists()) {
                                            tLRPC$TL_photo10 = accountInstance.getSendMessagesHelper().generatePhotoSizes(file6.toString(), uri3);
                                        }
                                        if (tLRPC$TL_photo10 == null) {
                                            tLRPC$TL_photo10 = new TLRPC$TL_photo();
                                            tLRPC$TL_photo10.date = accountInstance.getConnectionsManager().getCurrentTime();
                                            tLRPC$TL_photo10.file_reference = new byte[0];
                                            TLRPC$TL_photoSize tLRPC$TL_photoSize2 = new TLRPC$TL_photoSize();
                                            MediaController.SearchImage searchImage4 = sendingMediaInfo7.searchImage;
                                            tLRPC$TL_photoSize2.w = searchImage4.width;
                                            tLRPC$TL_photoSize2.h = searchImage4.height;
                                            tLRPC$TL_photoSize2.size = 0;
                                            tLRPC$TL_photoSize2.location = new TLRPC$TL_fileLocationUnavailable();
                                            tLRPC$TL_photoSize2.type = "x";
                                            tLRPC$TL_photo10.sizes.add(tLRPC$TL_photoSize2);
                                            tLRPC$TL_photo4 = tLRPC$TL_photo10;
                                            z17 = z18;
                                        }
                                    }
                                    tLRPC$TL_photo4 = tLRPC$TL_photo10;
                                    z17 = z18;
                                }
                            }
                            z18 = true;
                            if (tLRPC$TL_photo10 == null) {
                            }
                            tLRPC$TL_photo4 = tLRPC$TL_photo10;
                            z17 = z18;
                        } else {
                            tLRPC$TL_photo4 = tLRPC$TL_photo10;
                            z17 = true;
                        }
                        final HashMap hashMap10 = new HashMap();
                        String str44 = sendingMediaInfo7.searchImage.imageUrl;
                        if (str44 != null) {
                            hashMap10.put("originalPath", str44);
                        }
                        if (z2) {
                            int i31 = i4 + 1;
                            StringBuilder sb = new StringBuilder();
                            sb.append("");
                            j10 = j2;
                            sb.append(j10);
                            hashMap10.put("groupId", sb.toString());
                            if (i31 != 10) {
                                i22 = i30;
                                i21 = i29;
                                if (i21 != i22 - 1) {
                                    i4 = i31;
                                }
                            } else {
                                i21 = i29;
                                i22 = i30;
                            }
                            hashMap10.put("final", "1");
                            i4 = i31;
                            j12 = 0;
                        } else {
                            j10 = j2;
                            i21 = i29;
                            i22 = i30;
                        }
                        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda16
                            @Override // java.lang.Runnable
                            public final void run() {
                                SendMessagesHelper.lambda$prepareSendingMedia$88(MessageObject.this, accountInstance, tLRPC$TL_photo4, z17, sendingMediaInfo7, hashMap10, r7, j, messageObject2, messageObject3, z3, i, tL_stories$StoryItem, replyQuote);
                            }
                        });
                        i8 = i22;
                        i27 = i4;
                        arrayList20 = arrayList25;
                        arrayList19 = arrayList24;
                        hashMap3 = hashMap9;
                        str4 = str39;
                        str6 = str40;
                        str5 = str41;
                        z7 = z20;
                        j4 = j10;
                        i7 = i21;
                        arrayList18 = arrayList23;
                        i28 = i7 + 1;
                        arrayList17 = arrayList;
                        hashMap7 = hashMap3;
                        str34 = str5;
                        str35 = str4;
                        isEncryptedDialog = z7;
                        str36 = str6;
                        j11 = j4;
                        size2 = i8;
                        i2 = 1;
                    }
                } else {
                    str = str34;
                    z6 = isEncryptedDialog;
                    i6 = size2;
                    hashMap2 = hashMap7;
                    j3 = j2;
                    arrayList3 = arrayList23;
                    str2 = str39;
                    str3 = str40;
                    arrayList4 = arrayList24;
                    arrayList5 = arrayList25;
                    i5 = i29;
                }
            } else {
                i5 = i28;
                str = str34;
                z6 = isEncryptedDialog;
                i6 = size2;
                hashMap2 = hashMap7;
                j3 = j2;
                arrayList3 = arrayList23;
                str2 = str39;
                str3 = str40;
                arrayList4 = arrayList24;
                arrayList5 = arrayList25;
            }
            if (sendingMediaInfo7.isVideo || sendingMediaInfo7.videoEditedInfo != null) {
                int i32 = i6;
                ArrayList arrayList26 = arrayList5;
                hashMap3 = hashMap2;
                str4 = str2;
                String str45 = str3;
                str5 = str;
                boolean z21 = z6;
                long j13 = j3;
                int i33 = i5;
                if (z) {
                    videoEditedInfo = null;
                } else {
                    videoEditedInfo = sendingMediaInfo7.videoEditedInfo;
                    if (videoEditedInfo == null) {
                        videoEditedInfo = createCompressionSettings(sendingMediaInfo7.path);
                    }
                }
                if (!z && (videoEditedInfo != null || sendingMediaInfo7.path.endsWith("mp4"))) {
                    if (sendingMediaInfo7.path == null && (searchImage = sendingMediaInfo7.searchImage) != null) {
                        if (searchImage.photo instanceof TLRPC$TL_photo) {
                            sendingMediaInfo7.path = FileLoader.getInstance(accountInstance.getCurrentAccount()).getPathToAttach(sendingMediaInfo7.searchImage.photo, true).getAbsolutePath();
                        } else {
                            sendingMediaInfo7.path = new File(FileLoader.getDirectory(4), Utilities.MD5(sendingMediaInfo7.searchImage.imageUrl) + "." + ImageLoader.getHttpUrlExtension(sendingMediaInfo7.searchImage.imageUrl, "jpg")).getAbsolutePath();
                        }
                    }
                    String str46 = sendingMediaInfo7.path;
                    File file7 = new File(str46);
                    String str47 = str46 + file7.length() + str45 + file7.lastModified();
                    if (videoEditedInfo != null) {
                        boolean z22 = videoEditedInfo.muted;
                        StringBuilder sb2 = new StringBuilder();
                        sb2.append(str47);
                        sendingMediaInfo = sendingMediaInfo7;
                        sb2.append(videoEditedInfo.estimatedDuration);
                        sb2.append(str45);
                        sb2.append(videoEditedInfo.startTime);
                        sb2.append(str45);
                        sb2.append(videoEditedInfo.endTime);
                        sb2.append(videoEditedInfo.muted ? "_m" : "");
                        String sb3 = sb2.toString();
                        if (videoEditedInfo.resultWidth != videoEditedInfo.originalWidth) {
                            sb3 = sb3 + str45 + videoEditedInfo.resultWidth;
                        }
                        long j14 = videoEditedInfo.startTime;
                        if (j14 < 0) {
                            j14 = 0;
                        }
                        long j15 = j14;
                        str7 = sb3;
                        z9 = z22;
                        j5 = j15;
                        z8 = z21;
                    } else {
                        sendingMediaInfo = sendingMediaInfo7;
                        str7 = str47;
                        j5 = 0;
                        z8 = z21;
                        z9 = false;
                    }
                    if (z8) {
                        z10 = z8;
                        j6 = j5;
                        str6 = str45;
                        str8 = str46;
                        file = file7;
                        obj = "final";
                        arrayList8 = arrayList26;
                        sendingMediaInfo2 = sendingMediaInfo;
                        str9 = "video/mp4";
                    } else {
                        long j16 = j5;
                        SendingMediaInfo sendingMediaInfo8 = sendingMediaInfo;
                        if (sendingMediaInfo8.ttl == 0 && (videoEditedInfo == null || (videoEditedInfo.filterState == null && videoEditedInfo.paintPath == null && videoEditedInfo.mediaEntities == null && videoEditedInfo.cropState == null))) {
                            Object[] sentFile3 = accountInstance.getMessagesStorage().getSentFile(str7, !z8 ? 2 : 5);
                            if (sentFile3 != null) {
                                boolean z23 = z8;
                                if (sentFile3[0] instanceof TLRPC$TL_document) {
                                    tLRPC$TL_document = (TLRPC$TL_document) sentFile3[0];
                                    String str48 = (String) sentFile3[1];
                                    z10 = z23;
                                    j6 = j16;
                                    str6 = str45;
                                    arrayList8 = arrayList26;
                                    sendingMediaInfo2 = sendingMediaInfo8;
                                    obj = "final";
                                    str9 = "video/mp4";
                                    str8 = str46;
                                    file = file7;
                                    ensureMediaThumbExists(accountInstance, z10, tLRPC$TL_document, sendingMediaInfo8.path, null, j6);
                                    str10 = str48;
                                    if (tLRPC$TL_document != null) {
                                        String str49 = sendingMediaInfo2.thumbPath;
                                        Bitmap decodeFile = str49 != null ? BitmapFactory.decodeFile(str49) : null;
                                        if (decodeFile == null && (decodeFile = createVideoThumbnailAtTime(sendingMediaInfo2.path, j6)) == null) {
                                            decodeFile = createVideoThumbnail(sendingMediaInfo2.path, 1);
                                        }
                                        if (decodeFile != null) {
                                            z11 = z10;
                                            int max = (z11 || sendingMediaInfo2.ttl != 0) ? 90 : Math.max(decodeFile.getWidth(), decodeFile.getHeight());
                                            float f3 = max;
                                            tLRPC$PhotoSize = ImageLoader.scaleAndSaveImage(decodeFile, f3, f3, max > 90 ? 80 : 55, z11);
                                            if (tLRPC$PhotoSize == null || tLRPC$PhotoSize.location == null) {
                                                bitmap2 = decodeFile;
                                                i14 = 0;
                                                str12 = null;
                                            } else {
                                                bitmap2 = decodeFile;
                                                i14 = 0;
                                                str12 = getKeyForPhotoSize(accountInstance, tLRPC$PhotoSize, null, true, false);
                                            }
                                        } else {
                                            bitmap2 = decodeFile;
                                            z11 = z10;
                                            i14 = 0;
                                            tLRPC$PhotoSize = null;
                                            str12 = null;
                                        }
                                        TLRPC$TL_document tLRPC$TL_document5 = new TLRPC$TL_document();
                                        tLRPC$TL_document5.file_reference = new byte[i14];
                                        if (tLRPC$PhotoSize != null) {
                                            tLRPC$TL_document5.thumbs.add(tLRPC$PhotoSize);
                                            tLRPC$TL_document5.flags |= 1;
                                        }
                                        tLRPC$TL_document5.mime_type = str9;
                                        accountInstance.getUserConfig().saveConfig(i14);
                                        if (z11) {
                                            tLRPC$TL_documentAttributeVideo = new TLRPC$TL_documentAttributeVideo_layer159();
                                        } else {
                                            tLRPC$TL_documentAttributeVideo = new TLRPC$TL_documentAttributeVideo();
                                            tLRPC$TL_documentAttributeVideo.supports_streaming = true;
                                        }
                                        tLRPC$TL_document5.attributes.add(tLRPC$TL_documentAttributeVideo);
                                        if (videoEditedInfo != null && (videoEditedInfo.needConvert() || !sendingMediaInfo2.isVideo)) {
                                            if (sendingMediaInfo2.isVideo && videoEditedInfo.muted) {
                                                fillVideoAttribute(sendingMediaInfo2.path, tLRPC$TL_documentAttributeVideo, videoEditedInfo);
                                                videoEditedInfo.originalWidth = tLRPC$TL_documentAttributeVideo.w;
                                                videoEditedInfo.originalHeight = tLRPC$TL_documentAttributeVideo.h;
                                            } else {
                                                tLRPC$TL_documentAttributeVideo.duration = (int) (videoEditedInfo.estimatedDuration / 1000);
                                            }
                                            int i34 = videoEditedInfo.rotationValue;
                                            MediaController.CropState cropState = videoEditedInfo.cropState;
                                            if (cropState != null) {
                                                i15 = cropState.transformWidth;
                                                i16 = cropState.transformHeight;
                                            } else {
                                                i15 = videoEditedInfo.resultWidth;
                                                i16 = videoEditedInfo.resultHeight;
                                            }
                                            if (i34 == 90 || i34 == 270) {
                                                tLRPC$TL_documentAttributeVideo.w = i16;
                                                tLRPC$TL_documentAttributeVideo.h = i15;
                                            } else {
                                                tLRPC$TL_documentAttributeVideo.w = i15;
                                                tLRPC$TL_documentAttributeVideo.h = i16;
                                            }
                                            tLRPC$TL_document5.size = videoEditedInfo.estimatedSize;
                                        } else {
                                            if (file.exists()) {
                                                tLRPC$TL_document5.size = (int) file.length();
                                            }
                                            fillVideoAttribute(sendingMediaInfo2.path, tLRPC$TL_documentAttributeVideo, null);
                                        }
                                        tLRPC$TL_document2 = tLRPC$TL_document5;
                                        bitmap = bitmap2;
                                        str11 = str12;
                                    } else {
                                        z11 = z10;
                                        bitmap = null;
                                        str11 = null;
                                        tLRPC$TL_document2 = tLRPC$TL_document;
                                    }
                                    if (videoEditedInfo != null && videoEditedInfo.muted) {
                                        size = tLRPC$TL_document2.attributes.size();
                                        i13 = 0;
                                        while (true) {
                                            if (i13 < size) {
                                                z12 = false;
                                                break;
                                            } else if (tLRPC$TL_document2.attributes.get(i13) instanceof TLRPC$TL_documentAttributeAnimated) {
                                                z12 = true;
                                                break;
                                            } else {
                                                i13++;
                                            }
                                        }
                                        if (!z12) {
                                            tLRPC$TL_document2.attributes.add(new TLRPC$TL_documentAttributeAnimated());
                                        }
                                    }
                                    if (videoEditedInfo != null && (videoEditedInfo.needConvert() || !sendingMediaInfo2.isVideo)) {
                                        File file8 = new File(FileLoader.getDirectory(4), "-2147483648_" + SharedConfig.getLastLocalId() + ".mp4");
                                        SharedConfig.saveConfig();
                                        str8 = file8.getAbsolutePath();
                                    }
                                    hashMap4 = new HashMap();
                                    if (str7 != null) {
                                        hashMap4.put("originalPath", str7);
                                    }
                                    if (str10 != null) {
                                        hashMap4.put("parentObject", str10);
                                    }
                                    if (z9 && z2) {
                                        int i35 = i4 + 1;
                                        StringBuilder sb4 = new StringBuilder();
                                        sb4.append("");
                                        j7 = j13;
                                        sb4.append(j7);
                                        hashMap4.put("groupId", sb4.toString());
                                        if (i35 != 10) {
                                            i10 = i32;
                                            i9 = i33;
                                            if (i9 != i10 - 1) {
                                                i11 = i35;
                                            }
                                        } else {
                                            i9 = i33;
                                            i10 = i32;
                                        }
                                        hashMap4.put(obj, "1");
                                        i11 = i35;
                                        j12 = 0;
                                    } else {
                                        j7 = j13;
                                        i9 = i33;
                                        i10 = i32;
                                        i11 = i4;
                                    }
                                    if (!z11 && (arrayList9 = sendingMediaInfo2.masks) != null && !arrayList9.isEmpty()) {
                                        tLRPC$TL_document2.attributes.add(new TLRPC$TL_documentAttributeHasStickers());
                                        SerializedData serializedData = new SerializedData((sendingMediaInfo2.masks.size() * 20) + 4);
                                        serializedData.writeInt32(sendingMediaInfo2.masks.size());
                                        for (i12 = 0; i12 < sendingMediaInfo2.masks.size(); i12++) {
                                            sendingMediaInfo2.masks.get(i12).serializeToStream(serializedData);
                                        }
                                        hashMap4.put("masks", Utilities.bytesToHex(serializedData.toByteArray()));
                                        serializedData.cleanup();
                                    }
                                    z7 = z11;
                                    final VideoEditedInfo videoEditedInfo2 = videoEditedInfo;
                                    final String str50 = str10;
                                    final TLRPC$TL_document tLRPC$TL_document6 = tLRPC$TL_document2;
                                    final String str51 = str8;
                                    i7 = i9;
                                    final SendingMediaInfo sendingMediaInfo9 = sendingMediaInfo2;
                                    j4 = j7;
                                    i8 = i10;
                                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda5
                                        @Override // java.lang.Runnable
                                        public final void run() {
                                            SendMessagesHelper.lambda$prepareSendingMedia$89(bitmap, str11, messageObject, accountInstance, videoEditedInfo2, tLRPC$TL_document6, str51, hashMap4, sendingMediaInfo9, str50, j, messageObject2, messageObject3, z3, i, tL_stories$StoryItem, replyQuote);
                                        }
                                    });
                                    arrayList20 = arrayList8;
                                    i4 = i11;
                                    arrayList19 = arrayList4;
                                    arrayList18 = arrayList3;
                                } else {
                                    str6 = str45;
                                    arrayList8 = arrayList26;
                                    j6 = j16;
                                    z10 = z23;
                                    sendingMediaInfo2 = sendingMediaInfo8;
                                    str8 = str46;
                                    file = file7;
                                    obj = "final";
                                    str9 = "video/mp4";
                                }
                            }
                        }
                        z10 = z8;
                        str6 = str45;
                        arrayList8 = arrayList26;
                        j6 = j16;
                        sendingMediaInfo2 = sendingMediaInfo8;
                        str8 = str46;
                        file = file7;
                        obj = "final";
                        str9 = "video/mp4";
                    }
                    str10 = null;
                    tLRPC$TL_document = null;
                    if (tLRPC$TL_document != null) {
                    }
                    if (videoEditedInfo != null) {
                        size = tLRPC$TL_document2.attributes.size();
                        i13 = 0;
                        while (true) {
                            if (i13 < size) {
                            }
                            i13++;
                        }
                        if (!z12) {
                        }
                    }
                    if (videoEditedInfo != null) {
                        File file82 = new File(FileLoader.getDirectory(4), "-2147483648_" + SharedConfig.getLastLocalId() + ".mp4");
                        SharedConfig.saveConfig();
                        str8 = file82.getAbsolutePath();
                    }
                    hashMap4 = new HashMap();
                    if (str7 != null) {
                    }
                    if (str10 != null) {
                    }
                    if (z9) {
                    }
                    j7 = j13;
                    i9 = i33;
                    i10 = i32;
                    i11 = i4;
                    if (!z11) {
                        tLRPC$TL_document2.attributes.add(new TLRPC$TL_documentAttributeHasStickers());
                        SerializedData serializedData2 = new SerializedData((sendingMediaInfo2.masks.size() * 20) + 4);
                        serializedData2.writeInt32(sendingMediaInfo2.masks.size());
                        while (i12 < sendingMediaInfo2.masks.size()) {
                        }
                        hashMap4.put("masks", Utilities.bytesToHex(serializedData2.toByteArray()));
                        serializedData2.cleanup();
                    }
                    z7 = z11;
                    final VideoEditedInfo videoEditedInfo22 = videoEditedInfo;
                    final String str502 = str10;
                    final TLRPC$TL_document tLRPC$TL_document62 = tLRPC$TL_document2;
                    final String str512 = str8;
                    i7 = i9;
                    final SendingMediaInfo sendingMediaInfo92 = sendingMediaInfo2;
                    j4 = j7;
                    i8 = i10;
                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda5
                        @Override // java.lang.Runnable
                        public final void run() {
                            SendMessagesHelper.lambda$prepareSendingMedia$89(bitmap, str11, messageObject, accountInstance, videoEditedInfo22, tLRPC$TL_document62, str512, hashMap4, sendingMediaInfo92, str502, j, messageObject2, messageObject3, z3, i, tL_stories$StoryItem, replyQuote);
                        }
                    });
                    arrayList20 = arrayList8;
                    i4 = i11;
                    arrayList19 = arrayList4;
                    arrayList18 = arrayList3;
                } else {
                    str6 = str45;
                    z7 = z21;
                    j4 = j13;
                    i7 = i33;
                    i8 = i32;
                    if (arrayList26 == null) {
                        ArrayList arrayList27 = new ArrayList();
                        arrayList19 = new ArrayList();
                        ArrayList arrayList28 = new ArrayList();
                        ArrayList arrayList29 = new ArrayList();
                        arrayList18 = new ArrayList();
                        arrayList20 = arrayList27;
                        arrayList6 = arrayList28;
                        arrayList7 = arrayList29;
                    } else {
                        arrayList20 = arrayList26;
                        arrayList6 = arrayList21;
                        arrayList7 = arrayList22;
                        arrayList19 = arrayList4;
                        arrayList18 = arrayList3;
                    }
                    arrayList20.add(sendingMediaInfo7.path);
                    arrayList19.add(sendingMediaInfo7.path);
                    arrayList18.add(sendingMediaInfo7.uri);
                    arrayList6.add(sendingMediaInfo7.caption);
                    arrayList7.add(sendingMediaInfo7.entities);
                    arrayList21 = arrayList6;
                    arrayList22 = arrayList7;
                }
                i27 = i4;
                i28 = i7 + 1;
                arrayList17 = arrayList;
                hashMap7 = hashMap3;
                str34 = str5;
                str35 = str4;
                isEncryptedDialog = z7;
                str36 = str6;
                j11 = j4;
                size2 = i8;
                i2 = 1;
            } else {
                String str52 = sendingMediaInfo7.path;
                if (str52 != null || (uri2 = sendingMediaInfo7.uri) == null) {
                    str13 = str52;
                    str14 = str13;
                } else {
                    String path = (Build.VERSION.SDK_INT < 30 || !"content".equals(uri2.getScheme())) ? AndroidUtilities.getPath(sendingMediaInfo7.uri) : null;
                    str13 = sendingMediaInfo7.uri.toString();
                    str14 = path;
                }
                if (inputContentInfoCompat == null || sendingMediaInfo7.uri == null || !inputContentInfoCompat.getDescription().hasMimeType("image/png")) {
                    str15 = str;
                } else {
                    try {
                        BitmapFactory.Options options = new BitmapFactory.Options();
                        inputStream = ApplicationLoader.applicationContext.getContentResolver().openInputStream(sendingMediaInfo7.uri);
                        try {
                            Bitmap decodeStream = BitmapFactory.decodeStream(inputStream, null, options);
                            StringBuilder sb5 = new StringBuilder();
                            sb5.append("-2147483648_");
                            sb5.append(SharedConfig.getLastLocalId());
                            str15 = str;
                            try {
                                sb5.append(str15);
                                File file9 = new File(FileLoader.getDirectory(4), sb5.toString());
                                fileOutputStream = new FileOutputStream(file9);
                                try {
                                    decodeStream.compress(Bitmap.CompressFormat.WEBP, 100, fileOutputStream);
                                    SharedConfig.saveConfig();
                                    sendingMediaInfo7.uri = Uri.fromFile(file9);
                                    if (inputStream != null) {
                                        try {
                                            inputStream.close();
                                        } catch (Exception unused) {
                                        }
                                    }
                                } catch (Throwable th) {
                                    th = th;
                                    try {
                                        FileLog.e(th);
                                        if (inputStream != null) {
                                            try {
                                                inputStream.close();
                                            } catch (Exception unused2) {
                                            }
                                        }
                                    } catch (Throwable th2) {
                                        if (inputStream != null) {
                                            try {
                                                inputStream.close();
                                            } catch (Exception unused3) {
                                            }
                                        }
                                        if (fileOutputStream != null) {
                                            try {
                                                fileOutputStream.close();
                                            } catch (Exception unused4) {
                                            }
                                        }
                                        throw th2;
                                    }
                                }
                            } catch (Throwable th3) {
                                th = th3;
                                fileOutputStream = null;
                                FileLog.e(th);
                                if (inputStream != null) {
                                }
                            }
                        } catch (Throwable th4) {
                            th = th4;
                            str15 = str;
                        }
                    } catch (Throwable th5) {
                        th = th5;
                        str15 = str;
                        inputStream = null;
                    }
                    try {
                        fileOutputStream.close();
                    } catch (Exception unused5) {
                    }
                }
                String str53 = "webp";
                if (z || ImageLoader.shouldSendImageAsDocument(sendingMediaInfo7.path, sendingMediaInfo7.uri)) {
                    str16 = str2;
                    if (str14 != null) {
                        str53 = FileLoader.getFileExtension(new File(str14));
                        str38 = str53;
                        str17 = str14;
                    } else {
                        str38 = "";
                        str17 = str14;
                    }
                } else {
                    if (sendingMediaInfo7.forceImage || str14 == null) {
                        str16 = str2;
                    } else {
                        str16 = str2;
                        if ((str14.endsWith(str16) || str14.endsWith(str15)) && sendingMediaInfo7.ttl <= 0) {
                            if (str14.endsWith(str16)) {
                                str38 = "gif";
                                str17 = str14;
                            }
                            str38 = str53;
                            str17 = str14;
                        }
                    }
                    if (!sendingMediaInfo7.forceImage && str14 == null && (uri = sendingMediaInfo7.uri) != null) {
                        if (MediaController.isGif(uri)) {
                            str13 = sendingMediaInfo7.uri.toString();
                            str17 = MediaController.copyFileToCache(sendingMediaInfo7.uri, "gif");
                            str38 = "gif";
                        } else if (MediaController.isWebp(sendingMediaInfo7.uri)) {
                            str13 = sendingMediaInfo7.uri.toString();
                            str14 = MediaController.copyFileToCache(sendingMediaInfo7.uri, "webp");
                            str38 = str53;
                            str17 = str14;
                        }
                    }
                    str17 = str14;
                    z13 = false;
                    if (z13) {
                        ArrayList arrayList30 = arrayList5;
                        if (str17 != null) {
                            File file10 = new File(str17);
                            str18 = str13 + file10.length() + str3 + file10.lastModified();
                            hashMap5 = hashMap2;
                        } else {
                            hashMap5 = hashMap2;
                            str18 = null;
                        }
                        if (hashMap5 != null) {
                            MediaSendPrepareWorker mediaSendPrepareWorker3 = (MediaSendPrepareWorker) hashMap5.get(sendingMediaInfo7);
                            TLRPC$TL_photo tLRPC$TL_photo11 = mediaSendPrepareWorker3.photo;
                            String str54 = mediaSendPrepareWorker3.parentObject;
                            if (tLRPC$TL_photo11 == null) {
                                try {
                                    mediaSendPrepareWorker3.sync.await();
                                } catch (Exception e3) {
                                    FileLog.e(e3);
                                }
                                tLRPC$TL_photo11 = mediaSendPrepareWorker3.photo;
                                str54 = mediaSendPrepareWorker3.parentObject;
                            }
                            hashMap3 = hashMap5;
                            str19 = str18;
                            arrayList10 = arrayList30;
                            str20 = str17;
                            str21 = str15;
                            str22 = str16;
                            str23 = str3;
                            i17 = 1;
                            str25 = str54;
                            obj2 = "1";
                            sendingMediaInfo3 = sendingMediaInfo7;
                            z15 = z6;
                            tLRPC$TL_photo2 = tLRPC$TL_photo11;
                        } else {
                            boolean z24 = z6;
                            if (z24 || sendingMediaInfo7.ttl != 0) {
                                z14 = z24;
                                hashMap3 = hashMap5;
                                str19 = str18;
                                arrayList10 = arrayList30;
                                str20 = str17;
                                str21 = str15;
                                str22 = str16;
                                str23 = str3;
                                i17 = 1;
                                obj2 = "1";
                                sendingMediaInfo3 = sendingMediaInfo7;
                                tLRPC$TL_photo = null;
                                str24 = null;
                            } else {
                                Object[] sentFile4 = accountInstance.getMessagesStorage().getSentFile(str18, !z24 ? 0 : 3);
                                HashMap hashMap11 = hashMap5;
                                if (sentFile4 == null) {
                                    obj3 = "1";
                                } else if (sentFile4[0] instanceof TLRPC$TL_photo) {
                                    tLRPC$TL_photo3 = (TLRPC$TL_photo) sentFile4[0];
                                    obj3 = "1";
                                    str26 = (String) sentFile4[1];
                                    if (tLRPC$TL_photo3 == null) {
                                        if (sendingMediaInfo7.uri != null) {
                                            str24 = str26;
                                            Object[] sentFile5 = accountInstance.getMessagesStorage().getSentFile(AndroidUtilities.getPath(sendingMediaInfo7.uri), !z24 ? 0 : 3);
                                            if (sentFile5 != null && (sentFile5[0] instanceof TLRPC$TL_photo)) {
                                                tLRPC$TL_photo3 = (TLRPC$TL_photo) sentFile5[0];
                                                str26 = (String) sentFile5[1];
                                            }
                                        } else {
                                            str24 = str26;
                                        }
                                        tLRPC$TL_photo = tLRPC$TL_photo3;
                                        z14 = z24;
                                        hashMap3 = hashMap11;
                                        str19 = str18;
                                        str23 = str3;
                                        arrayList10 = arrayList30;
                                        str21 = str15;
                                        str22 = str16;
                                        obj2 = obj3;
                                        sendingMediaInfo3 = sendingMediaInfo7;
                                        str20 = str17;
                                        i17 = 1;
                                        ensureMediaThumbExists(accountInstance, z24, tLRPC$TL_photo, sendingMediaInfo7.path, sendingMediaInfo7.uri, 0L);
                                    }
                                    str24 = str26;
                                    tLRPC$TL_photo = tLRPC$TL_photo3;
                                    z14 = z24;
                                    hashMap3 = hashMap11;
                                    str19 = str18;
                                    str23 = str3;
                                    arrayList10 = arrayList30;
                                    str21 = str15;
                                    str22 = str16;
                                    obj2 = obj3;
                                    sendingMediaInfo3 = sendingMediaInfo7;
                                    str20 = str17;
                                    i17 = 1;
                                    ensureMediaThumbExists(accountInstance, z24, tLRPC$TL_photo, sendingMediaInfo7.path, sendingMediaInfo7.uri, 0L);
                                } else {
                                    obj3 = "1";
                                }
                                str26 = null;
                                tLRPC$TL_photo3 = null;
                                if (tLRPC$TL_photo3 == null) {
                                }
                                str24 = str26;
                                tLRPC$TL_photo = tLRPC$TL_photo3;
                                z14 = z24;
                                hashMap3 = hashMap11;
                                str19 = str18;
                                str23 = str3;
                                arrayList10 = arrayList30;
                                str21 = str15;
                                str22 = str16;
                                obj2 = obj3;
                                sendingMediaInfo3 = sendingMediaInfo7;
                                str20 = str17;
                                i17 = 1;
                                ensureMediaThumbExists(accountInstance, z24, tLRPC$TL_photo, sendingMediaInfo7.path, sendingMediaInfo7.uri, 0L);
                            }
                            if (tLRPC$TL_photo == null) {
                                tLRPC$TL_photo = accountInstance.getSendMessagesHelper().generatePhotoSizes(sendingMediaInfo3.path, sendingMediaInfo3.uri);
                                z15 = z14;
                                if (z15 && sendingMediaInfo3.canDeleteAfter) {
                                    new File(sendingMediaInfo3.path).delete();
                                }
                            } else {
                                z15 = z14;
                            }
                            tLRPC$TL_photo2 = tLRPC$TL_photo;
                            str25 = str24;
                        }
                        if (tLRPC$TL_photo2 != null) {
                            final HashMap hashMap12 = new HashMap();
                            final Bitmap[] bitmapArr = new Bitmap[i17];
                            final String[] strArr = new String[i17];
                            ArrayList<TLRPC$InputDocument> arrayList31 = sendingMediaInfo3.masks;
                            boolean z25 = (arrayList31 == null || arrayList31.isEmpty()) ? false : true;
                            tLRPC$TL_photo2.has_stickers = z25;
                            if (z25) {
                                SerializedData serializedData3 = new SerializedData((sendingMediaInfo3.masks.size() * 20) + 4);
                                serializedData3.writeInt32(sendingMediaInfo3.masks.size());
                                for (int i36 = 0; i36 < sendingMediaInfo3.masks.size(); i36++) {
                                    sendingMediaInfo3.masks.get(i36).serializeToStream(serializedData3);
                                }
                                hashMap12.put("masks", Utilities.bytesToHex(serializedData3.toByteArray()));
                                serializedData3.cleanup();
                            }
                            String str55 = str19;
                            if (str55 != null) {
                                hashMap12.put("originalPath", str55);
                            }
                            if (str25 != null) {
                                hashMap12.put("parentObject", str25);
                            }
                            if (z2) {
                                try {
                                } catch (Exception e4) {
                                    e = e4;
                                    accountInstance2 = accountInstance;
                                    FileLog.e(e);
                                    if (z2) {
                                    }
                                    final String str56 = str25;
                                    z16 = z15;
                                    final SendingMediaInfo sendingMediaInfo10 = sendingMediaInfo3;
                                    j8 = j9;
                                    str5 = str21;
                                    i19 = i20;
                                    str4 = str22;
                                    i18 = i6;
                                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda77
                                        @Override // java.lang.Runnable
                                        public final void run() {
                                            SendMessagesHelper.lambda$prepareSendingMedia$90(bitmapArr, strArr, messageObject, accountInstance, tLRPC$TL_photo2, hashMap12, sendingMediaInfo10, str56, j, messageObject2, messageObject3, z3, i, z4, tL_stories$StoryItem, replyQuote);
                                        }
                                    });
                                    arrayList19 = arrayList4;
                                    arrayList18 = arrayList3;
                                    str6 = str23;
                                    arrayList20 = arrayList10;
                                    z7 = z16;
                                    j4 = j8;
                                    i7 = i19;
                                    i8 = i18;
                                    i28 = i7 + 1;
                                    arrayList17 = arrayList;
                                    hashMap7 = hashMap3;
                                    str34 = str5;
                                    str35 = str4;
                                    isEncryptedDialog = z7;
                                    str36 = str6;
                                    j11 = j4;
                                    size2 = i8;
                                    i2 = 1;
                                }
                            }
                            try {
                                closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(tLRPC$TL_photo2.sizes, AndroidUtilities.getPhotoSize());
                            } catch (Exception e5) {
                                e = e5;
                                accountInstance2 = accountInstance;
                                FileLog.e(e);
                                if (z2) {
                                }
                                final String str562 = str25;
                                z16 = z15;
                                final SendingMediaInfo sendingMediaInfo102 = sendingMediaInfo3;
                                j8 = j9;
                                str5 = str21;
                                i19 = i20;
                                str4 = str22;
                                i18 = i6;
                                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda77
                                    @Override // java.lang.Runnable
                                    public final void run() {
                                        SendMessagesHelper.lambda$prepareSendingMedia$90(bitmapArr, strArr, messageObject, accountInstance, tLRPC$TL_photo2, hashMap12, sendingMediaInfo102, str562, j, messageObject2, messageObject3, z3, i, z4, tL_stories$StoryItem, replyQuote);
                                    }
                                });
                                arrayList19 = arrayList4;
                                arrayList18 = arrayList3;
                                str6 = str23;
                                arrayList20 = arrayList10;
                                z7 = z16;
                                j4 = j8;
                                i7 = i19;
                                i8 = i18;
                                i28 = i7 + 1;
                                arrayList17 = arrayList;
                                hashMap7 = hashMap3;
                                str34 = str5;
                                str35 = str4;
                                isEncryptedDialog = z7;
                                str36 = str6;
                                j11 = j4;
                                size2 = i8;
                                i2 = 1;
                            }
                            if (closestPhotoSizeWithSize != null) {
                                accountInstance2 = accountInstance;
                                try {
                                    strArr[0] = getKeyForPhotoSize(accountInstance2, closestPhotoSizeWithSize, bitmapArr, false, false);
                                } catch (Exception e6) {
                                    e = e6;
                                    FileLog.e(e);
                                    if (z2) {
                                    }
                                    final String str5622 = str25;
                                    z16 = z15;
                                    final SendingMediaInfo sendingMediaInfo1022 = sendingMediaInfo3;
                                    j8 = j9;
                                    str5 = str21;
                                    i19 = i20;
                                    str4 = str22;
                                    i18 = i6;
                                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda77
                                        @Override // java.lang.Runnable
                                        public final void run() {
                                            SendMessagesHelper.lambda$prepareSendingMedia$90(bitmapArr, strArr, messageObject, accountInstance, tLRPC$TL_photo2, hashMap12, sendingMediaInfo1022, str5622, j, messageObject2, messageObject3, z3, i, z4, tL_stories$StoryItem, replyQuote);
                                        }
                                    });
                                    arrayList19 = arrayList4;
                                    arrayList18 = arrayList3;
                                    str6 = str23;
                                    arrayList20 = arrayList10;
                                    z7 = z16;
                                    j4 = j8;
                                    i7 = i19;
                                    i8 = i18;
                                    i28 = i7 + 1;
                                    arrayList17 = arrayList;
                                    hashMap7 = hashMap3;
                                    str34 = str5;
                                    str35 = str4;
                                    isEncryptedDialog = z7;
                                    str36 = str6;
                                    j11 = j4;
                                    size2 = i8;
                                    i2 = 1;
                                }
                                if (z2) {
                                    i27 = i4 + 1;
                                    StringBuilder sb6 = new StringBuilder();
                                    sb6.append("");
                                    j9 = j3;
                                    sb6.append(j9);
                                    hashMap12.put("groupId", sb6.toString());
                                    if (i27 != 10) {
                                        i20 = i5;
                                    } else {
                                        i20 = i5;
                                    }
                                    hashMap12.put("final", obj2);
                                    j12 = 0;
                                } else {
                                    j9 = j3;
                                    i20 = i5;
                                    i27 = i4;
                                }
                                final String str56222 = str25;
                                z16 = z15;
                                final SendingMediaInfo sendingMediaInfo10222 = sendingMediaInfo3;
                                j8 = j9;
                                str5 = str21;
                                i19 = i20;
                                str4 = str22;
                                i18 = i6;
                                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda77
                                    @Override // java.lang.Runnable
                                    public final void run() {
                                        SendMessagesHelper.lambda$prepareSendingMedia$90(bitmapArr, strArr, messageObject, accountInstance, tLRPC$TL_photo2, hashMap12, sendingMediaInfo10222, str56222, j, messageObject2, messageObject3, z3, i, z4, tL_stories$StoryItem, replyQuote);
                                    }
                                });
                                arrayList19 = arrayList4;
                                arrayList18 = arrayList3;
                                str6 = str23;
                                arrayList20 = arrayList10;
                            }
                            accountInstance2 = accountInstance;
                            if (z2) {
                            }
                            final String str562222 = str25;
                            z16 = z15;
                            final SendingMediaInfo sendingMediaInfo102222 = sendingMediaInfo3;
                            j8 = j9;
                            str5 = str21;
                            i19 = i20;
                            str4 = str22;
                            i18 = i6;
                            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda77
                                @Override // java.lang.Runnable
                                public final void run() {
                                    SendMessagesHelper.lambda$prepareSendingMedia$90(bitmapArr, strArr, messageObject, accountInstance, tLRPC$TL_photo2, hashMap12, sendingMediaInfo102222, str562222, j, messageObject2, messageObject3, z3, i, z4, tL_stories$StoryItem, replyQuote);
                                }
                            });
                            arrayList19 = arrayList4;
                            arrayList18 = arrayList3;
                            str6 = str23;
                            arrayList20 = arrayList10;
                        } else {
                            z16 = z15;
                            i18 = i6;
                            str4 = str22;
                            str5 = str21;
                            j8 = j3;
                            i19 = i5;
                            String str57 = str19;
                            ArrayList arrayList32 = arrayList10;
                            if (arrayList32 == null) {
                                arrayList20 = new ArrayList();
                                arrayList19 = new ArrayList();
                                ArrayList arrayList33 = new ArrayList();
                                ArrayList arrayList34 = new ArrayList();
                                arrayList13 = new ArrayList();
                                str27 = str20;
                                arrayList11 = arrayList33;
                                arrayList12 = arrayList34;
                            } else {
                                arrayList20 = arrayList32;
                                str27 = str20;
                                arrayList11 = arrayList21;
                                arrayList12 = arrayList22;
                                arrayList19 = arrayList4;
                                arrayList13 = arrayList3;
                            }
                            arrayList20.add(str27);
                            arrayList19.add(str57);
                            arrayList13.add(sendingMediaInfo3.uri);
                            arrayList11.add(sendingMediaInfo3.caption);
                            arrayList12.add(sendingMediaInfo3.entities);
                            arrayList18 = arrayList13;
                            arrayList21 = arrayList11;
                            arrayList22 = arrayList12;
                            i27 = i4;
                            str6 = str23;
                        }
                        z7 = z16;
                        j4 = j8;
                        i7 = i19;
                        i8 = i18;
                    } else {
                        ArrayList arrayList35 = arrayList5;
                        if (arrayList35 == null) {
                            arrayList20 = new ArrayList();
                            arrayList19 = new ArrayList();
                            ArrayList arrayList36 = new ArrayList();
                            ArrayList arrayList37 = new ArrayList();
                            arrayList16 = new ArrayList();
                            arrayList14 = arrayList36;
                            arrayList15 = arrayList37;
                        } else {
                            arrayList20 = arrayList35;
                            arrayList14 = arrayList21;
                            arrayList15 = arrayList22;
                            arrayList19 = arrayList4;
                            arrayList16 = arrayList3;
                        }
                        arrayList20.add(str17);
                        arrayList19.add(str13);
                        arrayList16.add(sendingMediaInfo7.uri);
                        arrayList14.add(sendingMediaInfo7.caption);
                        arrayList15.add(sendingMediaInfo7.entities);
                        arrayList18 = arrayList16;
                        arrayList21 = arrayList14;
                        arrayList22 = arrayList15;
                        str5 = str15;
                        str4 = str16;
                        i8 = i6;
                        i27 = i4;
                        hashMap3 = hashMap2;
                        str6 = str3;
                        z7 = z6;
                        j4 = j3;
                        i7 = i5;
                    }
                    i28 = i7 + 1;
                    arrayList17 = arrayList;
                    hashMap7 = hashMap3;
                    str34 = str5;
                    str35 = str4;
                    isEncryptedDialog = z7;
                    str36 = str6;
                    j11 = j4;
                    size2 = i8;
                    i2 = 1;
                }
                z13 = true;
                if (z13) {
                }
                i28 = i7 + 1;
                arrayList17 = arrayList;
                hashMap7 = hashMap3;
                str34 = str5;
                str35 = str4;
                isEncryptedDialog = z7;
                str36 = str6;
                j11 = j4;
                size2 = i8;
                i2 = 1;
            }
        }
        ArrayList arrayList38 = arrayList18;
        ArrayList arrayList39 = arrayList19;
        boolean z26 = isEncryptedDialog;
        int i37 = size2;
        long j17 = j12;
        ArrayList arrayList40 = arrayList20;
        AccountInstance accountInstance3 = accountInstance;
        if (j17 != 0) {
            finishGroup(accountInstance3, j17, i);
        }
        if (inputContentInfoCompat != null) {
            inputContentInfoCompat.releasePermission();
        }
        if (arrayList40 != null && !arrayList40.isEmpty()) {
            int i38 = 1;
            long[] jArr = new long[1];
            int size3 = arrayList40.size();
            int i39 = i27;
            int i40 = 0;
            while (i40 < size3) {
                if (!z || z26) {
                    i3 = i37;
                } else {
                    i3 = i37;
                    if (i3 > i38 && i39 % 10 == 0) {
                        jArr[0] = Utilities.random.nextLong();
                        i39 = 0;
                    }
                }
                int i41 = i39 + 1;
                String str58 = (String) arrayList40.get(i40);
                ArrayList arrayList41 = arrayList39;
                String str59 = (String) arrayList41.get(i40);
                ArrayList arrayList42 = arrayList38;
                Uri uri7 = (Uri) arrayList42.get(i40);
                ArrayList arrayList43 = arrayList22;
                ArrayList arrayList44 = (ArrayList) arrayList43.get(i40);
                if (i41 == 10 || i40 == size3 - 1) {
                    arrayList2 = arrayList21;
                    z5 = true;
                } else {
                    arrayList2 = arrayList21;
                    z5 = false;
                }
                arrayList22 = arrayList43;
                arrayList21 = arrayList2;
                long[] jArr2 = jArr;
                handleError(prepareSendingDocumentInternal(accountInstance, str58, str59, uri7, str38, j, messageObject2, messageObject3, tL_stories$StoryItem, replyQuote, arrayList44, messageObject, jArr2, z5, (CharSequence) arrayList2.get(i40), z3, i, null, z), accountInstance);
                i40++;
                accountInstance3 = accountInstance;
                i37 = i3;
                arrayList38 = arrayList42;
                arrayList39 = arrayList41;
                i39 = i41;
                size3 = size3;
                jArr = jArr2;
                arrayList40 = arrayList40;
                i38 = 1;
            }
        }
        if (BuildVars.LOGS_ENABLED) {
            FileLog.d("total send time = " + (System.currentTimeMillis() - currentTimeMillis));
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingMedia$86(MediaSendPrepareWorker mediaSendPrepareWorker, AccountInstance accountInstance, SendingMediaInfo sendingMediaInfo, boolean z) {
        mediaSendPrepareWorker.photo = accountInstance.getSendMessagesHelper().generatePhotoSizes(sendingMediaInfo.path, sendingMediaInfo.uri);
        if (z && sendingMediaInfo.canDeleteAfter) {
            new File(sendingMediaInfo.path).delete();
        }
        mediaSendPrepareWorker.sync.countDown();
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingMedia$87(MessageObject messageObject, AccountInstance accountInstance, TLRPC$TL_document tLRPC$TL_document, String str, HashMap hashMap, SendingMediaInfo sendingMediaInfo, String str2, long j, MessageObject messageObject2, MessageObject messageObject3, boolean z, int i, TL_stories$StoryItem tL_stories$StoryItem, ChatActivity.ReplyQuote replyQuote) {
        if (messageObject != null) {
            accountInstance.getSendMessagesHelper().editMessage(messageObject, null, null, tLRPC$TL_document, str, hashMap, false, sendingMediaInfo.hasMediaSpoilers, str2);
            return;
        }
        SendMessageParams of = SendMessageParams.of(tLRPC$TL_document, null, str, j, messageObject2, messageObject3, sendingMediaInfo.caption, sendingMediaInfo.entities, null, hashMap, z, i, 0, str2, null, false, sendingMediaInfo.hasMediaSpoilers);
        of.replyToStoryItem = tL_stories$StoryItem;
        of.replyQuote = replyQuote;
        accountInstance.getSendMessagesHelper().sendMessage(of);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingMedia$88(MessageObject messageObject, AccountInstance accountInstance, TLRPC$TL_photo tLRPC$TL_photo, boolean z, SendingMediaInfo sendingMediaInfo, HashMap hashMap, String str, long j, MessageObject messageObject2, MessageObject messageObject3, boolean z2, int i, TL_stories$StoryItem tL_stories$StoryItem, ChatActivity.ReplyQuote replyQuote) {
        if (messageObject != null) {
            accountInstance.getSendMessagesHelper().editMessage(messageObject, tLRPC$TL_photo, null, null, z ? sendingMediaInfo.searchImage.imageUrl : null, hashMap, false, sendingMediaInfo.hasMediaSpoilers, str);
            return;
        }
        SendMessageParams of = SendMessageParams.of(tLRPC$TL_photo, z ? sendingMediaInfo.searchImage.imageUrl : null, j, messageObject2, messageObject3, sendingMediaInfo.caption, sendingMediaInfo.entities, null, hashMap, z2, i, sendingMediaInfo.ttl, str, false, sendingMediaInfo.hasMediaSpoilers);
        of.replyToStoryItem = tL_stories$StoryItem;
        of.replyQuote = replyQuote;
        accountInstance.getSendMessagesHelper().sendMessage(of);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingMedia$89(Bitmap bitmap, String str, MessageObject messageObject, AccountInstance accountInstance, VideoEditedInfo videoEditedInfo, TLRPC$TL_document tLRPC$TL_document, String str2, HashMap hashMap, SendingMediaInfo sendingMediaInfo, String str3, long j, MessageObject messageObject2, MessageObject messageObject3, boolean z, int i, TL_stories$StoryItem tL_stories$StoryItem, ChatActivity.ReplyQuote replyQuote) {
        if (bitmap != null && str != null) {
            ImageLoader.getInstance().putImageToCache(new BitmapDrawable(bitmap), str, false);
        }
        if (messageObject != null) {
            accountInstance.getSendMessagesHelper().editMessage(messageObject, null, videoEditedInfo, tLRPC$TL_document, str2, hashMap, false, sendingMediaInfo.hasMediaSpoilers, str3);
            return;
        }
        SendMessageParams of = SendMessageParams.of(tLRPC$TL_document, videoEditedInfo, str2, j, messageObject2, messageObject3, sendingMediaInfo.caption, sendingMediaInfo.entities, null, hashMap, z, i, sendingMediaInfo.ttl, str3, null, false, sendingMediaInfo.hasMediaSpoilers);
        of.replyToStoryItem = tL_stories$StoryItem;
        of.replyQuote = replyQuote;
        accountInstance.getSendMessagesHelper().sendMessage(of);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingMedia$90(Bitmap[] bitmapArr, String[] strArr, MessageObject messageObject, AccountInstance accountInstance, TLRPC$TL_photo tLRPC$TL_photo, HashMap hashMap, SendingMediaInfo sendingMediaInfo, String str, long j, MessageObject messageObject2, MessageObject messageObject3, boolean z, int i, boolean z2, TL_stories$StoryItem tL_stories$StoryItem, ChatActivity.ReplyQuote replyQuote) {
        if (bitmapArr[0] != null && strArr[0] != null) {
            ImageLoader.getInstance().putImageToCache(new BitmapDrawable(bitmapArr[0]), strArr[0], false);
        }
        if (messageObject != null) {
            accountInstance.getSendMessagesHelper().editMessage(messageObject, tLRPC$TL_photo, null, null, null, hashMap, false, sendingMediaInfo.hasMediaSpoilers, str);
            return;
        }
        SendMessageParams of = SendMessageParams.of(tLRPC$TL_photo, null, j, messageObject2, messageObject3, sendingMediaInfo.caption, sendingMediaInfo.entities, null, hashMap, z, i, sendingMediaInfo.ttl, str, z2, sendingMediaInfo.hasMediaSpoilers);
        of.replyToStoryItem = tL_stories$StoryItem;
        of.replyQuote = replyQuote;
        accountInstance.getSendMessagesHelper().sendMessage(of);
    }

    /* JADX WARN: Removed duplicated region for block: B:67:0x008b A[EXC_TOP_SPLITTER, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:74:? A[RETURN, SYNTHETIC] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public static void fillVideoAttribute(String str, TLRPC$TL_documentAttributeVideo tLRPC$TL_documentAttributeVideo, VideoEditedInfo videoEditedInfo) {
        boolean z;
        MediaMetadataRetriever mediaMetadataRetriever;
        String extractMetadata;
        MediaMetadataRetriever mediaMetadataRetriever2 = null;
        try {
            try {
                mediaMetadataRetriever = new MediaMetadataRetriever();
            } catch (Exception e) {
                e = e;
            }
        } catch (Throwable th) {
            th = th;
        }
        try {
            mediaMetadataRetriever.setDataSource(str);
            String extractMetadata2 = mediaMetadataRetriever.extractMetadata(18);
            if (extractMetadata2 != null) {
                tLRPC$TL_documentAttributeVideo.w = Integer.parseInt(extractMetadata2);
            }
            String extractMetadata3 = mediaMetadataRetriever.extractMetadata(19);
            if (extractMetadata3 != null) {
                tLRPC$TL_documentAttributeVideo.h = Integer.parseInt(extractMetadata3);
            }
            String extractMetadata4 = mediaMetadataRetriever.extractMetadata(9);
            if (extractMetadata4 != null) {
                double parseLong = Long.parseLong(extractMetadata4);
                Double.isNaN(parseLong);
                tLRPC$TL_documentAttributeVideo.duration = parseLong / 1000.0d;
            }
            if (Build.VERSION.SDK_INT >= 17 && (extractMetadata = mediaMetadataRetriever.extractMetadata(24)) != null) {
                int intValue = Utilities.parseInt((CharSequence) extractMetadata).intValue();
                if (videoEditedInfo != null) {
                    videoEditedInfo.rotationValue = intValue;
                } else if (intValue == 90 || intValue == 270) {
                    int i = tLRPC$TL_documentAttributeVideo.w;
                    tLRPC$TL_documentAttributeVideo.w = tLRPC$TL_documentAttributeVideo.h;
                    tLRPC$TL_documentAttributeVideo.h = i;
                }
            }
            z = true;
            try {
                mediaMetadataRetriever.release();
            } catch (Exception e2) {
                FileLog.e(e2);
            }
        } catch (Exception e3) {
            e = e3;
            mediaMetadataRetriever2 = mediaMetadataRetriever;
            FileLog.e(e);
            if (mediaMetadataRetriever2 != null) {
                try {
                    mediaMetadataRetriever2.release();
                } catch (Exception e4) {
                    FileLog.e(e4);
                }
            }
            z = false;
            if (z) {
            }
        } catch (Throwable th2) {
            th = th2;
            mediaMetadataRetriever2 = mediaMetadataRetriever;
            if (mediaMetadataRetriever2 != null) {
                try {
                    mediaMetadataRetriever2.release();
                } catch (Exception e5) {
                    FileLog.e(e5);
                }
            }
            throw th;
        }
        if (z) {
            try {
                MediaPlayer create = MediaPlayer.create(ApplicationLoader.applicationContext, Uri.fromFile(new File(str)));
                if (create != null) {
                    double duration = create.getDuration();
                    Double.isNaN(duration);
                    tLRPC$TL_documentAttributeVideo.duration = duration / 1000.0d;
                    tLRPC$TL_documentAttributeVideo.w = create.getVideoWidth();
                    tLRPC$TL_documentAttributeVideo.h = create.getVideoHeight();
                    create.release();
                }
            } catch (Exception e6) {
                FileLog.e(e6);
            }
        }
    }

    public static Bitmap createVideoThumbnail(String str, int i) {
        float f = i == 2 ? 1920.0f : i == 3 ? 96.0f : 512.0f;
        Bitmap createVideoThumbnailAtTime = createVideoThumbnailAtTime(str, 0L);
        if (createVideoThumbnailAtTime != null) {
            int width = createVideoThumbnailAtTime.getWidth();
            int height = createVideoThumbnailAtTime.getHeight();
            float f2 = width;
            if (f2 > f || height > f) {
                float max = Math.max(width, height) / f;
                return Bitmap.createScaledBitmap(createVideoThumbnailAtTime, (int) (f2 / max), (int) (height / max), true);
            }
            return createVideoThumbnailAtTime;
        }
        return createVideoThumbnailAtTime;
    }

    public static Bitmap createVideoThumbnailAtTime(String str, long j) {
        return createVideoThumbnailAtTime(str, j, null, false);
    }

    public static Bitmap createVideoThumbnailAtTime(String str, long j, int[] iArr, boolean z) {
        Bitmap bitmap;
        if (z) {
            AnimatedFileDrawable animatedFileDrawable = new AnimatedFileDrawable(new File(str), true, 0L, 0, null, null, null, 0L, 0, true, null);
            bitmap = animatedFileDrawable.getFrameAtTime(j, z);
            if (iArr != null) {
                iArr[0] = animatedFileDrawable.getOrientation();
            }
            animatedFileDrawable.recycle();
            if (bitmap == null) {
                return createVideoThumbnailAtTime(str, j, iArr, false);
            }
        } else {
            MediaMetadataRetriever mediaMetadataRetriever = new MediaMetadataRetriever();
            bitmap = null;
            try {
                try {
                    mediaMetadataRetriever.setDataSource(str);
                    Bitmap frameAtTime = mediaMetadataRetriever.getFrameAtTime(j, 1);
                    if (frameAtTime == null) {
                        try {
                            frameAtTime = mediaMetadataRetriever.getFrameAtTime(j, 3);
                        } catch (Exception unused) {
                        }
                    }
                    bitmap = frameAtTime;
                } finally {
                    try {
                        mediaMetadataRetriever.release();
                    } catch (Throwable unused2) {
                    }
                }
            } catch (Exception unused3) {
            }
        }
        return bitmap;
    }

    private static VideoEditedInfo createCompressionSettings(String str) {
        MediaCodecInfo selectCodec;
        int[] iArr = new int[11];
        AnimatedFileDrawable.getVideoInfo(str, iArr);
        if (iArr[0] == 0) {
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("video hasn't avc1 atom");
            }
            return null;
        }
        long length = new File(str).length();
        int videoBitrate = MediaController.getVideoBitrate(str);
        if (videoBitrate == -1) {
            videoBitrate = iArr[3];
        }
        float f = iArr[4];
        int i = iArr[6];
        long j = iArr[5];
        int i2 = iArr[7];
        if (Build.VERSION.SDK_INT < 18) {
            try {
                selectCodec = MediaController.selectCodec(MediaController.VIDEO_MIME_TYPE);
            } catch (Exception unused) {
            }
            if (selectCodec == null) {
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("no codec info for video/avc");
                }
                return null;
            }
            String name = selectCodec.getName();
            if (!name.equals("OMX.google.h264.encoder") && !name.equals("OMX.ST.VFM.H264Enc") && !name.equals("OMX.Exynos.avc.enc") && !name.equals("OMX.MARVELL.VIDEO.HW.CODA7542ENCODER") && !name.equals("OMX.MARVELL.VIDEO.H264ENCODER") && !name.equals("OMX.k3.video.encoder.avc") && !name.equals("OMX.TI.DUCATI1.VIDEO.H264E")) {
                if (MediaController.selectColorFormat(selectCodec, MediaController.VIDEO_MIME_TYPE) == 0) {
                    if (BuildVars.LOGS_ENABLED) {
                        FileLog.d("no color format for video/avc");
                    }
                    return null;
                }
            }
            if (BuildVars.LOGS_ENABLED) {
                FileLog.d("unsupported encoder = " + name);
            }
            return null;
        }
        VideoEditedInfo videoEditedInfo = new VideoEditedInfo();
        videoEditedInfo.startTime = -1L;
        videoEditedInfo.endTime = -1L;
        videoEditedInfo.bitrate = videoBitrate;
        videoEditedInfo.originalPath = str;
        videoEditedInfo.framerate = i2;
        videoEditedInfo.estimatedDuration = (long) Math.ceil(f);
        boolean z = true;
        int i3 = iArr[1];
        videoEditedInfo.originalWidth = i3;
        videoEditedInfo.resultWidth = i3;
        int i4 = iArr[2];
        videoEditedInfo.originalHeight = i4;
        videoEditedInfo.resultHeight = i4;
        videoEditedInfo.rotationValue = iArr[8];
        videoEditedInfo.originalDuration = f * 1000.0f;
        float max = Math.max(i3, i4);
        int i5 = max > 1280.0f ? 4 : max > 854.0f ? 3 : max > 640.0f ? 2 : 1;
        int round = Math.round(DownloadController.getInstance(UserConfig.selectedAccount).getMaxVideoBitrate() / (100.0f / i5));
        if (round > i5) {
            round = i5;
        }
        if (new File(str).length() < 1048576000) {
            if (round != i5 || Math.max(videoEditedInfo.originalWidth, videoEditedInfo.originalHeight) > 1280) {
                float f2 = round != 1 ? round != 2 ? round != 3 ? 1280.0f : 848.0f : 640.0f : 432.0f;
                int i6 = videoEditedInfo.originalWidth;
                int i7 = videoEditedInfo.originalHeight;
                float f3 = f2 / (i6 > i7 ? i6 : i7);
                videoEditedInfo.resultWidth = Math.round((i6 * f3) / 2.0f) * 2;
                videoEditedInfo.resultHeight = Math.round((videoEditedInfo.originalHeight * f3) / 2.0f) * 2;
            } else {
                z = false;
            }
            videoBitrate = MediaController.makeVideoBitrate(videoEditedInfo.originalHeight, videoEditedInfo.originalWidth, videoBitrate, videoEditedInfo.resultHeight, videoEditedInfo.resultWidth);
        } else {
            z = false;
        }
        if (!z) {
            videoEditedInfo.resultWidth = videoEditedInfo.originalWidth;
            videoEditedInfo.resultHeight = videoEditedInfo.originalHeight;
            videoEditedInfo.bitrate = videoBitrate;
            videoEditedInfo.estimatedSize = length;
        } else {
            videoEditedInfo.bitrate = videoBitrate;
            videoEditedInfo.estimatedSize = ((float) j) + (((f / 1000.0f) * MediaController.extractRealEncoderBitrate(videoEditedInfo.resultWidth, videoEditedInfo.resultHeight, videoBitrate, false)) / 8.0f);
        }
        if (videoEditedInfo.estimatedSize == 0) {
            videoEditedInfo.estimatedSize = 1L;
        }
        return videoEditedInfo;
    }

    public static void prepareSendingVideo(final AccountInstance accountInstance, final String str, final VideoEditedInfo videoEditedInfo, final long j, final MessageObject messageObject, final MessageObject messageObject2, final TL_stories$StoryItem tL_stories$StoryItem, final ChatActivity.ReplyQuote replyQuote, final ArrayList<TLRPC$MessageEntity> arrayList, final int i, final MessageObject messageObject3, final boolean z, final int i2, final boolean z2, final boolean z3, final CharSequence charSequence) {
        if (str == null || str.length() == 0) {
            return;
        }
        new Thread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda73
            @Override // java.lang.Runnable
            public final void run() {
                SendMessagesHelper.lambda$prepareSendingVideo$93(VideoEditedInfo.this, str, j, i, accountInstance, charSequence, messageObject3, z3, messageObject, messageObject2, arrayList, z, i2, tL_stories$StoryItem, replyQuote, z2);
            }
        }).start();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* JADX WARN: Removed duplicated region for block: B:102:0x0284  */
    /* JADX WARN: Removed duplicated region for block: B:124:0x02ea  */
    /* JADX WARN: Removed duplicated region for block: B:127:0x02fa  */
    /* JADX WARN: Removed duplicated region for block: B:134:0x0339  */
    /* JADX WARN: Removed duplicated region for block: B:137:0x0342  */
    /* JADX WARN: Removed duplicated region for block: B:139:0x0349  */
    /* JADX WARN: Removed duplicated region for block: B:54:0x0124  */
    /* JADX WARN: Removed duplicated region for block: B:95:0x024e  */
    /* JADX WARN: Removed duplicated region for block: B:98:0x026b  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public static /* synthetic */ void lambda$prepareSendingVideo$93(VideoEditedInfo videoEditedInfo, String str, final long j, final int i, final AccountInstance accountInstance, CharSequence charSequence, final MessageObject messageObject, final boolean z, final MessageObject messageObject2, final MessageObject messageObject3, final ArrayList arrayList, final boolean z2, final int i2, final TL_stories$StoryItem tL_stories$StoryItem, final ChatActivity.ReplyQuote replyQuote, boolean z3) {
        long j2;
        String str2;
        int i3;
        TLRPC$TL_document tLRPC$TL_document;
        String str3;
        final Bitmap bitmap;
        TLRPC$TL_document tLRPC$TL_document2;
        final String str4;
        String str5;
        String str6;
        TLRPC$TL_documentAttributeVideo tLRPC$TL_documentAttributeVideo;
        int i4;
        int i5;
        final String str7 = str;
        VideoEditedInfo createCompressionSettings = videoEditedInfo != null ? videoEditedInfo : createCompressionSettings(str);
        boolean isEncryptedDialog = DialogObject.isEncryptedDialog(j);
        boolean z4 = createCompressionSettings != null && createCompressionSettings.roundVideo;
        if (createCompressionSettings != null || str7.endsWith("mp4") || z4) {
            File file = new File(str7);
            String str8 = str7 + file.length() + "_" + file.lastModified();
            long j3 = 0;
            if (createCompressionSettings != null) {
                if (!z4) {
                    StringBuilder sb = new StringBuilder();
                    sb.append(str8);
                    sb.append(createCompressionSettings.estimatedDuration);
                    sb.append("_");
                    sb.append(createCompressionSettings.startTime);
                    sb.append("_");
                    sb.append(createCompressionSettings.endTime);
                    sb.append(createCompressionSettings.muted ? "_m" : "");
                    str8 = sb.toString();
                    if (createCompressionSettings.resultWidth != createCompressionSettings.originalWidth) {
                        str8 = str8 + "_" + createCompressionSettings.resultWidth;
                    }
                }
                long j4 = createCompressionSettings.startTime;
                if (j4 >= 0) {
                    j3 = j4;
                }
            }
            String str9 = str8;
            long j5 = j3;
            if (!isEncryptedDialog && i == 0 && (createCompressionSettings == null || (createCompressionSettings.filterState == null && createCompressionSettings.paintPath == null && createCompressionSettings.mediaEntities == null && createCompressionSettings.cropState == null))) {
                Object[] sentFile = accountInstance.getMessagesStorage().getSentFile(str9, !isEncryptedDialog ? 2 : 5);
                if (sentFile != null && (sentFile[0] instanceof TLRPC$TL_document)) {
                    tLRPC$TL_document = (TLRPC$TL_document) sentFile[0];
                    j2 = j5;
                    str2 = str9;
                    i3 = 2;
                    ensureMediaThumbExists(accountInstance, isEncryptedDialog, tLRPC$TL_document, str, null, j2);
                    str3 = (String) sentFile[1];
                    if (tLRPC$TL_document != null) {
                        Bitmap createVideoThumbnailAtTime = createVideoThumbnailAtTime(str7, j2);
                        if (createVideoThumbnailAtTime == null) {
                            createVideoThumbnailAtTime = createVideoThumbnail(str7, 1);
                        }
                        Bitmap bitmap2 = createVideoThumbnailAtTime;
                        int i6 = (isEncryptedDialog || i != 0) ? 90 : 320;
                        float f = i6;
                        TLRPC$PhotoSize scaleAndSaveImage = ImageLoader.scaleAndSaveImage(bitmap2, f, f, i6 > 90 ? 80 : 55, isEncryptedDialog);
                        if (bitmap2 != null && scaleAndSaveImage != null) {
                            if (z4) {
                                if (isEncryptedDialog) {
                                    bitmap2 = Bitmap.createScaledBitmap(bitmap2, 90, 90, true);
                                    int i7 = Build.VERSION.SDK_INT;
                                    Utilities.blurBitmap(bitmap2, 7, i7 < 21 ? 0 : 1, bitmap2.getWidth(), bitmap2.getHeight(), bitmap2.getRowBytes());
                                    Utilities.blurBitmap(bitmap2, 7, i7 < 21 ? 0 : 1, bitmap2.getWidth(), bitmap2.getHeight(), bitmap2.getRowBytes());
                                    Utilities.blurBitmap(bitmap2, 7, i7 < 21 ? 0 : 1, bitmap2.getWidth(), bitmap2.getHeight(), bitmap2.getRowBytes());
                                    Object[] objArr = new Object[i3];
                                    objArr[0] = Integer.valueOf((int) (AndroidUtilities.roundMessageSize / AndroidUtilities.density));
                                    objArr[1] = Integer.valueOf((int) (AndroidUtilities.roundMessageSize / AndroidUtilities.density));
                                    str6 = String.format(scaleAndSaveImage.location.volume_id + "_" + scaleAndSaveImage.location.local_id + "@%d_%d_b2", objArr);
                                } else {
                                    Utilities.blurBitmap(bitmap2, 3, Build.VERSION.SDK_INT < 21 ? 0 : 1, bitmap2.getWidth(), bitmap2.getHeight(), bitmap2.getRowBytes());
                                    Object[] objArr2 = new Object[i3];
                                    objArr2[0] = Integer.valueOf((int) (AndroidUtilities.roundMessageSize / AndroidUtilities.density));
                                    objArr2[1] = Integer.valueOf((int) (AndroidUtilities.roundMessageSize / AndroidUtilities.density));
                                    str6 = String.format(scaleAndSaveImage.location.volume_id + "_" + scaleAndSaveImage.location.local_id + "@%d_%d_b", objArr2);
                                }
                                TLRPC$TL_document tLRPC$TL_document3 = new TLRPC$TL_document();
                                if (scaleAndSaveImage != null) {
                                    tLRPC$TL_document3.thumbs.add(scaleAndSaveImage);
                                    tLRPC$TL_document3.flags |= 1;
                                }
                                tLRPC$TL_document3.file_reference = new byte[0];
                                tLRPC$TL_document3.mime_type = "video/mp4";
                                accountInstance.getUserConfig().saveConfig(false);
                                if (!isEncryptedDialog) {
                                    if (accountInstance.getMessagesController().getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(j))) == null) {
                                        return;
                                    }
                                    tLRPC$TL_documentAttributeVideo = new TLRPC$TL_documentAttributeVideo_layer159();
                                } else {
                                    tLRPC$TL_documentAttributeVideo = new TLRPC$TL_documentAttributeVideo();
                                    tLRPC$TL_documentAttributeVideo.supports_streaming = true;
                                }
                                tLRPC$TL_documentAttributeVideo.round_message = z4;
                                tLRPC$TL_document3.attributes.add(tLRPC$TL_documentAttributeVideo);
                                if (createCompressionSettings == null && createCompressionSettings.needConvert()) {
                                    if (createCompressionSettings.muted) {
                                        tLRPC$TL_document3.attributes.add(new TLRPC$TL_documentAttributeAnimated());
                                        fillVideoAttribute(str7, tLRPC$TL_documentAttributeVideo, createCompressionSettings);
                                        createCompressionSettings.originalWidth = tLRPC$TL_documentAttributeVideo.w;
                                        createCompressionSettings.originalHeight = tLRPC$TL_documentAttributeVideo.h;
                                    } else {
                                        tLRPC$TL_documentAttributeVideo.duration = (int) (createCompressionSettings.estimatedDuration / 1000);
                                    }
                                    int i8 = createCompressionSettings.rotationValue;
                                    MediaController.CropState cropState = createCompressionSettings.cropState;
                                    if (cropState != null) {
                                        i4 = cropState.transformWidth;
                                        i5 = cropState.transformHeight;
                                        i8 += cropState.transformRotation;
                                    } else {
                                        i4 = createCompressionSettings.resultWidth;
                                        i5 = createCompressionSettings.resultHeight;
                                    }
                                    if (i8 == 90 || i8 == 270) {
                                        tLRPC$TL_documentAttributeVideo.w = i5;
                                        tLRPC$TL_documentAttributeVideo.h = i4;
                                    } else {
                                        tLRPC$TL_documentAttributeVideo.w = i4;
                                        tLRPC$TL_documentAttributeVideo.h = i5;
                                    }
                                    tLRPC$TL_document3.size = createCompressionSettings.estimatedSize;
                                } else {
                                    if (file.exists()) {
                                        tLRPC$TL_document3.size = (int) file.length();
                                    }
                                    fillVideoAttribute(str7, tLRPC$TL_documentAttributeVideo, null);
                                }
                                bitmap = bitmap2;
                                str4 = str6;
                                tLRPC$TL_document2 = tLRPC$TL_document3;
                            } else {
                                bitmap2 = null;
                            }
                        }
                        str6 = null;
                        TLRPC$TL_document tLRPC$TL_document32 = new TLRPC$TL_document();
                        if (scaleAndSaveImage != null) {
                        }
                        tLRPC$TL_document32.file_reference = new byte[0];
                        tLRPC$TL_document32.mime_type = "video/mp4";
                        accountInstance.getUserConfig().saveConfig(false);
                        if (!isEncryptedDialog) {
                        }
                        tLRPC$TL_documentAttributeVideo.round_message = z4;
                        tLRPC$TL_document32.attributes.add(tLRPC$TL_documentAttributeVideo);
                        if (createCompressionSettings == null) {
                        }
                        if (file.exists()) {
                        }
                        fillVideoAttribute(str7, tLRPC$TL_documentAttributeVideo, null);
                        bitmap = bitmap2;
                        str4 = str6;
                        tLRPC$TL_document2 = tLRPC$TL_document32;
                    } else {
                        bitmap = null;
                        tLRPC$TL_document2 = tLRPC$TL_document;
                        str4 = null;
                    }
                    if (createCompressionSettings != null && createCompressionSettings.needConvert()) {
                        File file2 = new File(FileLoader.getDirectory(4), "-2147483648_" + SharedConfig.getLastLocalId() + ".mp4");
                        SharedConfig.saveConfig();
                        str7 = file2.getAbsolutePath();
                    }
                    final HashMap hashMap = new HashMap();
                    final String charSequence2 = charSequence != null ? charSequence.toString() : "";
                    str5 = str2;
                    if (str5 != null) {
                        hashMap.put("originalPath", str5);
                    }
                    if (str3 != null) {
                        hashMap.put("parentObject", str3);
                    }
                    final VideoEditedInfo videoEditedInfo2 = createCompressionSettings;
                    final String str10 = str3;
                    final TLRPC$TL_document tLRPC$TL_document4 = tLRPC$TL_document2;
                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda6
                        @Override // java.lang.Runnable
                        public final void run() {
                            SendMessagesHelper.lambda$prepareSendingVideo$92(bitmap, str4, messageObject, accountInstance, videoEditedInfo2, tLRPC$TL_document4, str7, hashMap, z, str10, j, messageObject2, messageObject3, charSequence2, arrayList, z2, i2, i, tL_stories$StoryItem, replyQuote);
                        }
                    });
                    return;
                }
            }
            j2 = j5;
            str2 = str9;
            i3 = 2;
            tLRPC$TL_document = null;
            str3 = null;
            if (tLRPC$TL_document != null) {
            }
            if (createCompressionSettings != null) {
                File file22 = new File(FileLoader.getDirectory(4), "-2147483648_" + SharedConfig.getLastLocalId() + ".mp4");
                SharedConfig.saveConfig();
                str7 = file22.getAbsolutePath();
            }
            final HashMap hashMap2 = new HashMap();
            if (charSequence != null) {
            }
            str5 = str2;
            if (str5 != null) {
            }
            if (str3 != null) {
            }
            final VideoEditedInfo videoEditedInfo22 = createCompressionSettings;
            final String str102 = str3;
            final TLRPC$TL_document tLRPC$TL_document42 = tLRPC$TL_document2;
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.messenger.SendMessagesHelper$$ExternalSyntheticLambda6
                @Override // java.lang.Runnable
                public final void run() {
                    SendMessagesHelper.lambda$prepareSendingVideo$92(bitmap, str4, messageObject, accountInstance, videoEditedInfo22, tLRPC$TL_document42, str7, hashMap2, z, str102, j, messageObject2, messageObject3, charSequence2, arrayList, z2, i2, i, tL_stories$StoryItem, replyQuote);
                }
            });
            return;
        }
        prepareSendingDocumentInternal(accountInstance, str, str, null, null, j, messageObject2, messageObject3, tL_stories$StoryItem, replyQuote, arrayList, messageObject, null, false, charSequence, z2, i2, null, z3);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ void lambda$prepareSendingVideo$92(Bitmap bitmap, String str, MessageObject messageObject, AccountInstance accountInstance, VideoEditedInfo videoEditedInfo, TLRPC$TL_document tLRPC$TL_document, String str2, HashMap hashMap, boolean z, String str3, long j, MessageObject messageObject2, MessageObject messageObject3, String str4, ArrayList arrayList, boolean z2, int i, int i2, TL_stories$StoryItem tL_stories$StoryItem, ChatActivity.ReplyQuote replyQuote) {
        if (bitmap != null && str != null) {
            ImageLoader.getInstance().putImageToCache(new BitmapDrawable(bitmap), str, false);
        }
        if (messageObject != null) {
            accountInstance.getSendMessagesHelper().editMessage(messageObject, null, videoEditedInfo, tLRPC$TL_document, str2, hashMap, false, z, str3);
            return;
        }
        SendMessageParams of = SendMessageParams.of(tLRPC$TL_document, videoEditedInfo, str2, j, messageObject2, messageObject3, str4, arrayList, null, hashMap, z2, i, i2, str3, null, false, z);
        of.replyToStoryItem = tL_stories$StoryItem;
        of.replyQuote = replyQuote;
        accountInstance.getSendMessagesHelper().sendMessage(of);
    }

    /* loaded from: classes.dex */
    public static class SendMessageParams {
        public String caption;
        public TLRPC$TL_document document;
        public ArrayList<TLRPC$MessageEntity> entities;
        public TLRPC$TL_game game;
        public boolean hasMediaSpoilers;
        public boolean invert_media;
        public TLRPC$TL_messageMediaInvoice invoice;
        public TLRPC$MessageMedia location;
        public TLRPC$TL_messageMediaWebPage mediaWebPage;
        public String message;
        public boolean notify;
        public HashMap<String, String> params;
        public Object parentObject;
        public String path;
        public long peer;
        public TLRPC$TL_photo photo;
        public TLRPC$TL_messageMediaPoll poll;
        public TLRPC$ReplyMarkup replyMarkup;
        public ChatActivity.ReplyQuote replyQuote;
        public MessageObject replyToMsg;
        public TL_stories$StoryItem replyToStoryItem;
        public MessageObject replyToTopMsg;
        public MessageObject retryMessageObject;
        public int scheduleDate;
        public boolean searchLinks = true;
        public MessageObject.SendAnimationData sendAnimationData;
        public TL_stories$StoryItem sendingStory;
        public int ttl;
        public boolean updateStickersOrder;
        public TLRPC$User user;
        public VideoEditedInfo videoEditedInfo;
        public TLRPC$WebPage webPage;

        public static SendMessageParams of(String str, long j) {
            return of(str, null, null, null, null, null, null, null, null, null, j, null, null, null, null, true, null, null, null, null, false, 0, 0, null, null, false);
        }

        public static SendMessageParams of(MessageObject messageObject) {
            long dialogId = messageObject.getDialogId();
            TLRPC$Message tLRPC$Message = messageObject.messageOwner;
            return of(null, null, null, null, null, null, null, null, null, null, dialogId, tLRPC$Message.attachPath, null, null, null, true, messageObject, null, tLRPC$Message.reply_markup, tLRPC$Message.params, !tLRPC$Message.silent, messageObject.scheduled ? tLRPC$Message.date : 0, 0, null, null, false);
        }

        public static SendMessageParams of(TLRPC$User tLRPC$User, long j, MessageObject messageObject, MessageObject messageObject2, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z, int i) {
            return of(null, null, null, null, null, tLRPC$User, null, null, null, null, j, null, messageObject, messageObject2, null, true, null, null, tLRPC$ReplyMarkup, hashMap, z, i, 0, null, null, false);
        }

        public static SendMessageParams of(TLRPC$TL_messageMediaInvoice tLRPC$TL_messageMediaInvoice, long j, MessageObject messageObject, MessageObject messageObject2, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z, int i) {
            return of(null, null, null, null, null, null, null, null, null, tLRPC$TL_messageMediaInvoice, j, null, messageObject, messageObject2, null, true, null, null, tLRPC$ReplyMarkup, hashMap, z, i, 0, null, null, false);
        }

        public static SendMessageParams of(TLRPC$TL_document tLRPC$TL_document, VideoEditedInfo videoEditedInfo, String str, long j, MessageObject messageObject, MessageObject messageObject2, String str2, ArrayList<TLRPC$MessageEntity> arrayList, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z, int i, int i2, Object obj, MessageObject.SendAnimationData sendAnimationData, boolean z2) {
            return of(null, str2, null, null, videoEditedInfo, null, tLRPC$TL_document, null, null, null, j, str, messageObject, messageObject2, null, true, null, arrayList, tLRPC$ReplyMarkup, hashMap, z, i, i2, obj, sendAnimationData, z2);
        }

        public static SendMessageParams of(TLRPC$TL_document tLRPC$TL_document, VideoEditedInfo videoEditedInfo, String str, long j, MessageObject messageObject, MessageObject messageObject2, String str2, ArrayList<TLRPC$MessageEntity> arrayList, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z, int i, int i2, Object obj, MessageObject.SendAnimationData sendAnimationData, boolean z2, boolean z3) {
            return of(null, str2, null, null, videoEditedInfo, null, tLRPC$TL_document, null, null, null, j, str, messageObject, messageObject2, null, true, null, arrayList, tLRPC$ReplyMarkup, hashMap, z, i, i2, obj, sendAnimationData, z2, z3);
        }

        public static SendMessageParams of(String str, long j, MessageObject messageObject, MessageObject messageObject2, TLRPC$WebPage tLRPC$WebPage, boolean z, ArrayList<TLRPC$MessageEntity> arrayList, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z2, int i, MessageObject.SendAnimationData sendAnimationData, boolean z3) {
            return of(str, null, null, null, null, null, null, null, null, null, j, null, messageObject, messageObject2, tLRPC$WebPage, z, null, arrayList, tLRPC$ReplyMarkup, hashMap, z2, i, 0, null, sendAnimationData, z3);
        }

        public static SendMessageParams of(TLRPC$MessageMedia tLRPC$MessageMedia, long j, MessageObject messageObject, MessageObject messageObject2, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z, int i) {
            return of(null, null, tLRPC$MessageMedia, null, null, null, null, null, null, null, j, null, messageObject, messageObject2, null, true, null, null, tLRPC$ReplyMarkup, hashMap, z, i, 0, null, null, false);
        }

        public static SendMessageParams of(TLRPC$TL_messageMediaPoll tLRPC$TL_messageMediaPoll, long j, MessageObject messageObject, MessageObject messageObject2, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z, int i) {
            return of(null, null, null, null, null, null, null, null, tLRPC$TL_messageMediaPoll, null, j, null, messageObject, messageObject2, null, true, null, null, tLRPC$ReplyMarkup, hashMap, z, i, 0, null, null, false);
        }

        public static SendMessageParams of(TLRPC$TL_game tLRPC$TL_game, long j, MessageObject messageObject, MessageObject messageObject2, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z, int i) {
            return of(null, null, null, null, null, null, null, tLRPC$TL_game, null, null, j, null, messageObject, messageObject2, null, true, null, null, tLRPC$ReplyMarkup, hashMap, z, i, 0, null, null, false);
        }

        public static SendMessageParams of(TLRPC$TL_photo tLRPC$TL_photo, String str, long j, MessageObject messageObject, MessageObject messageObject2, String str2, ArrayList<TLRPC$MessageEntity> arrayList, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z, int i, int i2, Object obj, boolean z2, boolean z3) {
            return of(null, str2, null, tLRPC$TL_photo, null, null, null, null, null, null, j, str, messageObject, messageObject2, null, true, null, arrayList, tLRPC$ReplyMarkup, hashMap, z, i, i2, obj, null, z2, z3);
        }

        public static SendMessageParams of(TLRPC$TL_photo tLRPC$TL_photo, String str, long j, MessageObject messageObject, MessageObject messageObject2, String str2, ArrayList<TLRPC$MessageEntity> arrayList, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z, int i, int i2, Object obj, boolean z2) {
            return of(null, str2, null, tLRPC$TL_photo, null, null, null, null, null, null, j, str, messageObject, messageObject2, null, true, null, arrayList, tLRPC$ReplyMarkup, hashMap, z, i, i2, obj, null, z2);
        }

        private static SendMessageParams of(String str, String str2, TLRPC$MessageMedia tLRPC$MessageMedia, TLRPC$TL_photo tLRPC$TL_photo, VideoEditedInfo videoEditedInfo, TLRPC$User tLRPC$User, TLRPC$TL_document tLRPC$TL_document, TLRPC$TL_game tLRPC$TL_game, TLRPC$TL_messageMediaPoll tLRPC$TL_messageMediaPoll, TLRPC$TL_messageMediaInvoice tLRPC$TL_messageMediaInvoice, long j, String str3, MessageObject messageObject, MessageObject messageObject2, TLRPC$WebPage tLRPC$WebPage, boolean z, MessageObject messageObject3, ArrayList<TLRPC$MessageEntity> arrayList, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z2, int i, int i2, Object obj, MessageObject.SendAnimationData sendAnimationData, boolean z3) {
            return of(str, str2, tLRPC$MessageMedia, tLRPC$TL_photo, videoEditedInfo, tLRPC$User, tLRPC$TL_document, tLRPC$TL_game, tLRPC$TL_messageMediaPoll, tLRPC$TL_messageMediaInvoice, j, str3, messageObject, messageObject2, tLRPC$WebPage, z, messageObject3, arrayList, tLRPC$ReplyMarkup, hashMap, z2, i, i2, obj, sendAnimationData, z3, false);
        }

        public static SendMessageParams of(String str, String str2, TLRPC$MessageMedia tLRPC$MessageMedia, TLRPC$TL_photo tLRPC$TL_photo, VideoEditedInfo videoEditedInfo, TLRPC$User tLRPC$User, TLRPC$TL_document tLRPC$TL_document, TLRPC$TL_game tLRPC$TL_game, TLRPC$TL_messageMediaPoll tLRPC$TL_messageMediaPoll, TLRPC$TL_messageMediaInvoice tLRPC$TL_messageMediaInvoice, long j, String str3, MessageObject messageObject, MessageObject messageObject2, TLRPC$WebPage tLRPC$WebPage, boolean z, MessageObject messageObject3, ArrayList<TLRPC$MessageEntity> arrayList, TLRPC$ReplyMarkup tLRPC$ReplyMarkup, HashMap<String, String> hashMap, boolean z2, int i, int i2, Object obj, MessageObject.SendAnimationData sendAnimationData, boolean z3, boolean z4) {
            SendMessageParams sendMessageParams = new SendMessageParams();
            sendMessageParams.message = str;
            sendMessageParams.caption = str2;
            sendMessageParams.location = tLRPC$MessageMedia;
            sendMessageParams.photo = tLRPC$TL_photo;
            sendMessageParams.videoEditedInfo = videoEditedInfo;
            sendMessageParams.user = tLRPC$User;
            sendMessageParams.document = tLRPC$TL_document;
            sendMessageParams.game = tLRPC$TL_game;
            sendMessageParams.poll = tLRPC$TL_messageMediaPoll;
            sendMessageParams.invoice = tLRPC$TL_messageMediaInvoice;
            sendMessageParams.peer = j;
            sendMessageParams.path = str3;
            sendMessageParams.replyToMsg = messageObject;
            sendMessageParams.replyToTopMsg = messageObject2;
            sendMessageParams.webPage = tLRPC$WebPage;
            sendMessageParams.searchLinks = z;
            sendMessageParams.retryMessageObject = messageObject3;
            sendMessageParams.entities = arrayList;
            sendMessageParams.replyMarkup = tLRPC$ReplyMarkup;
            sendMessageParams.params = hashMap;
            sendMessageParams.notify = z2;
            sendMessageParams.scheduleDate = i;
            sendMessageParams.ttl = i2;
            sendMessageParams.parentObject = obj;
            sendMessageParams.sendAnimationData = sendAnimationData;
            sendMessageParams.updateStickersOrder = z3;
            sendMessageParams.hasMediaSpoilers = z4;
            return sendMessageParams;
        }
    }
}
