package org.telegram.ui;

import android.animation.Animator;
import android.animation.AnimatorListenerAdapter;
import android.animation.AnimatorSet;
import android.animation.ObjectAnimator;
import android.animation.StateListAnimator;
import android.animation.ValueAnimator;
import android.app.Activity;
import android.app.ActivityManager;
import android.app.Dialog;
import android.content.ActivityNotFoundException;
import android.content.ClipData;
import android.content.ClipboardManager;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.pm.ConfigurationInfo;
import android.content.pm.PackageInfo;
import android.content.res.Configuration;
import android.database.DataSetObserver;
import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.ColorFilter;
import android.graphics.LinearGradient;
import android.graphics.Outline;
import android.graphics.Paint;
import android.graphics.Path;
import android.graphics.Point;
import android.graphics.PorterDuff;
import android.graphics.PorterDuffColorFilter;
import android.graphics.Rect;
import android.graphics.RectF;
import android.graphics.Shader;
import android.graphics.Typeface;
import android.graphics.drawable.BitmapDrawable;
import android.graphics.drawable.ColorDrawable;
import android.graphics.drawable.Drawable;
import android.graphics.drawable.GradientDrawable;
import android.media.MediaCodecInfo;
import android.media.MediaCodecList;
import android.net.Uri;
import android.os.Build;
import android.os.Bundle;
import android.os.SystemClock;
import android.text.SpannableString;
import android.text.SpannableStringBuilder;
import android.text.TextPaint;
import android.text.TextUtils;
import android.text.style.CharacterStyle;
import android.text.style.ClickableSpan;
import android.text.style.ForegroundColorSpan;
import android.text.style.URLSpan;
import android.util.Property;
import android.util.SparseArray;
import android.util.SparseIntArray;
import android.view.MotionEvent;
import android.view.TextureView;
import android.view.VelocityTracker;
import android.view.View;
import android.view.ViewGroup;
import android.view.ViewOutlineProvider;
import android.view.ViewTreeObserver;
import android.view.accessibility.AccessibilityNodeInfo;
import android.view.animation.AccelerateDecelerateInterpolator;
import android.view.animation.AccelerateInterpolator;
import android.view.animation.DecelerateInterpolator;
import android.webkit.CookieManager;
import android.webkit.WebStorage;
import android.webkit.WebView;
import android.widget.EditText;
import android.widget.FrameLayout;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.PopupWindow;
import android.widget.TextView;
import android.widget.Toast;
import androidx.collection.LongSparseArray;
import androidx.core.content.ContextCompat;
import androidx.core.content.FileProvider;
import androidx.core.graphics.ColorUtils;
import androidx.core.math.MathUtils;
import androidx.core.view.NestedScrollingParent3;
import androidx.core.view.NestedScrollingParentHelper;
import androidx.interpolator.view.animation.FastOutSlowInInterpolator;
import androidx.recyclerview.widget.DefaultItemAnimator;
import androidx.recyclerview.widget.DiffUtil;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import androidx.viewpager.widget.PagerAdapter;
import androidx.viewpager.widget.ViewPager;
import com.google.android.exoplayer2.util.Consumer;
import j$.time.LocalDate;
import j$.time.Period;
import j$.util.Comparator$-CC;
import j$.util.Comparator$-EL;
import j$.util.function.Consumer;
import j$.util.function.ToIntFunction;
import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.text.DecimalFormat;
import java.text.DecimalFormatSymbols;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Comparator;
import java.util.Date;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.LinkedHashSet;
import java.util.List;
import java.util.Locale;
import java.util.Objects;
import java.util.Set;
import java.util.concurrent.CountDownLatch;
import java.util.concurrent.atomic.AtomicReference;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;
import org.telegram.PhoneFormat.PhoneFormat;
import org.telegram.messenger.AccountInstance;
import org.telegram.messenger.AndroidUtilities;
import org.telegram.messenger.ApplicationLoader;
import org.telegram.messenger.AuthTokensHelper;
import org.telegram.messenger.BillingController;
import org.telegram.messenger.BillingController$$ExternalSyntheticLambda10;
import org.telegram.messenger.BirthdayController;
import org.telegram.messenger.BuildVars;
import org.telegram.messenger.ChannelBoostsController;
import org.telegram.messenger.ChatObject;
import org.telegram.messenger.ChatThemeController;
import org.telegram.messenger.ContactsController;
import org.telegram.messenger.DialogObject;
import org.telegram.messenger.DispatchQueue;
import org.telegram.messenger.DocumentObject;
import org.telegram.messenger.Emoji;
import org.telegram.messenger.FileLoader;
import org.telegram.messenger.FileLog;
import org.telegram.messenger.FlagSecureReason;
import org.telegram.messenger.ImageLoader;
import org.telegram.messenger.ImageLocation;
import org.telegram.messenger.ImageReceiver;
import org.telegram.messenger.LanguageDetector;
import org.telegram.messenger.LiteMode;
import org.telegram.messenger.LocaleController;
import org.telegram.messenger.MediaController;
import org.telegram.messenger.MediaDataController;
import org.telegram.messenger.MessageObject;
import org.telegram.messenger.MessagesController;
import org.telegram.messenger.MessagesStorage;
import org.telegram.messenger.NotificationCenter;
import org.telegram.messenger.NotificationsController;
import org.telegram.messenger.NotificationsSettingsFacade;
import org.telegram.messenger.R;
import org.telegram.messenger.SendMessagesHelper;
import org.telegram.messenger.SharedConfig;
import org.telegram.messenger.SvgHelper;
import org.telegram.messenger.TranslateController;
import org.telegram.messenger.UserConfig;
import org.telegram.messenger.UserObject;
import org.telegram.messenger.Utilities;
import org.telegram.messenger.browser.Browser;
import org.telegram.tgnet.ConnectionsManager;
import org.telegram.tgnet.RequestDelegate;
import org.telegram.tgnet.SerializedData;
import org.telegram.tgnet.TLObject;
import org.telegram.tgnet.TLRPC$ChannelLocation;
import org.telegram.tgnet.TLRPC$ChannelParticipant;
import org.telegram.tgnet.TLRPC$Chat;
import org.telegram.tgnet.TLRPC$ChatFull;
import org.telegram.tgnet.TLRPC$ChatParticipant;
import org.telegram.tgnet.TLRPC$ChatParticipants;
import org.telegram.tgnet.TLRPC$ChatPhoto;
import org.telegram.tgnet.TLRPC$Dialog;
import org.telegram.tgnet.TLRPC$Document;
import org.telegram.tgnet.TLRPC$EmojiStatus;
import org.telegram.tgnet.TLRPC$EncryptedChat;
import org.telegram.tgnet.TLRPC$FileLocation;
import org.telegram.tgnet.TLRPC$InputFile;
import org.telegram.tgnet.TLRPC$InputStickerSet;
import org.telegram.tgnet.TLRPC$MessageAction;
import org.telegram.tgnet.TLRPC$Page;
import org.telegram.tgnet.TLRPC$PageBlock;
import org.telegram.tgnet.TLRPC$PageListItem;
import org.telegram.tgnet.TLRPC$Peer;
import org.telegram.tgnet.TLRPC$Photo;
import org.telegram.tgnet.TLRPC$PhotoSize;
import org.telegram.tgnet.TLRPC$ReplyMarkup;
import org.telegram.tgnet.TLRPC$TL_account_getPassword;
import org.telegram.tgnet.TLRPC$TL_account_password;
import org.telegram.tgnet.TLRPC$TL_account_updateBirthday;
import org.telegram.tgnet.TLRPC$TL_account_updateBusinessLocation;
import org.telegram.tgnet.TLRPC$TL_account_updateBusinessWorkHours;
import org.telegram.tgnet.TLRPC$TL_account_updateEmojiStatus;
import org.telegram.tgnet.TLRPC$TL_account_updatePersonalChannel;
import org.telegram.tgnet.TLRPC$TL_birthday;
import org.telegram.tgnet.TLRPC$TL_boolFalse;
import org.telegram.tgnet.TLRPC$TL_boolTrue;
import org.telegram.tgnet.TLRPC$TL_botCommand;
import org.telegram.tgnet.TLRPC$TL_businessLocation;
import org.telegram.tgnet.TLRPC$TL_businessWorkHours;
import org.telegram.tgnet.TLRPC$TL_channelFull;
import org.telegram.tgnet.TLRPC$TL_channelLocation;
import org.telegram.tgnet.TLRPC$TL_channelParticipant;
import org.telegram.tgnet.TLRPC$TL_channelParticipantAdmin;
import org.telegram.tgnet.TLRPC$TL_channelParticipantCreator;
import org.telegram.tgnet.TLRPC$TL_channelParticipantsRecent;
import org.telegram.tgnet.TLRPC$TL_channels_channelParticipant;
import org.telegram.tgnet.TLRPC$TL_channels_channelParticipants;
import org.telegram.tgnet.TLRPC$TL_channels_getParticipant;
import org.telegram.tgnet.TLRPC$TL_channels_getParticipants;
import org.telegram.tgnet.TLRPC$TL_channels_updateEmojiStatus;
import org.telegram.tgnet.TLRPC$TL_chatAdminRights;
import org.telegram.tgnet.TLRPC$TL_chatBannedRights;
import org.telegram.tgnet.TLRPC$TL_chatChannelParticipant;
import org.telegram.tgnet.TLRPC$TL_chatFull;
import org.telegram.tgnet.TLRPC$TL_chatParticipant;
import org.telegram.tgnet.TLRPC$TL_chatParticipantAdmin;
import org.telegram.tgnet.TLRPC$TL_chatParticipantCreator;
import org.telegram.tgnet.TLRPC$TL_chatParticipants;
import org.telegram.tgnet.TLRPC$TL_chatParticipantsForbidden;
import org.telegram.tgnet.TLRPC$TL_decryptedMessageActionSetMessageTTL;
import org.telegram.tgnet.TLRPC$TL_emojiStatus;
import org.telegram.tgnet.TLRPC$TL_emojiStatusEmpty;
import org.telegram.tgnet.TLRPC$TL_emojiStatusUntil;
import org.telegram.tgnet.TLRPC$TL_encryptedChat;
import org.telegram.tgnet.TLRPC$TL_error;
import org.telegram.tgnet.TLRPC$TL_fileLocation_layer97;
import org.telegram.tgnet.TLRPC$TL_forumTopic;
import org.telegram.tgnet.TLRPC$TL_help_dismissSuggestion;
import org.telegram.tgnet.TLRPC$TL_inputChannelEmpty;
import org.telegram.tgnet.TLRPC$TL_inputGroupCall;
import org.telegram.tgnet.TLRPC$TL_inputPeerEmpty;
import org.telegram.tgnet.TLRPC$TL_inputPhoto;
import org.telegram.tgnet.TLRPC$TL_message;
import org.telegram.tgnet.TLRPC$TL_messageEncryptedAction;
import org.telegram.tgnet.TLRPC$TL_messageMediaGeo;
import org.telegram.tgnet.TLRPC$TL_messages_getWebPage;
import org.telegram.tgnet.TLRPC$TL_messages_reportReaction;
import org.telegram.tgnet.TLRPC$TL_messages_webPage;
import org.telegram.tgnet.TLRPC$TL_pageBlockAnchor;
import org.telegram.tgnet.TLRPC$TL_pageBlockList;
import org.telegram.tgnet.TLRPC$TL_pageBlockParagraph;
import org.telegram.tgnet.TLRPC$TL_pageListItemText;
import org.telegram.tgnet.TLRPC$TL_peerNotifySettings;
import org.telegram.tgnet.TLRPC$TL_peerUser;
import org.telegram.tgnet.TLRPC$TL_photo;
import org.telegram.tgnet.TLRPC$TL_photos_photo;
import org.telegram.tgnet.TLRPC$TL_photos_updateProfilePhoto;
import org.telegram.tgnet.TLRPC$TL_photos_uploadProfilePhoto;
import org.telegram.tgnet.TLRPC$TL_userEmpty;
import org.telegram.tgnet.TLRPC$TL_userProfilePhoto;
import org.telegram.tgnet.TLRPC$TL_userProfilePhotoEmpty;
import org.telegram.tgnet.TLRPC$TL_userStatusLastMonth;
import org.telegram.tgnet.TLRPC$TL_userStatusLastWeek;
import org.telegram.tgnet.TLRPC$TL_userStatusRecently;
import org.telegram.tgnet.TLRPC$TL_username;
import org.telegram.tgnet.TLRPC$User;
import org.telegram.tgnet.TLRPC$UserFull;
import org.telegram.tgnet.TLRPC$UserProfilePhoto;
import org.telegram.tgnet.TLRPC$UserStatus;
import org.telegram.tgnet.TLRPC$VideoSize;
import org.telegram.tgnet.TLRPC$WebPage;
import org.telegram.tgnet.tl.TL_bots$BotInfo;
import org.telegram.tgnet.tl.TL_fragment$TL_collectibleInfo;
import org.telegram.tgnet.tl.TL_fragment$TL_getCollectibleInfo;
import org.telegram.tgnet.tl.TL_fragment$TL_inputCollectiblePhone;
import org.telegram.tgnet.tl.TL_fragment$TL_inputCollectibleUsername;
import org.telegram.tgnet.tl.TL_stories$PeerStories;
import org.telegram.tgnet.tl.TL_stories$StoryItem;
import org.telegram.tgnet.tl.TL_stories$TL_premium_boostsStatus;
import org.telegram.ui.ActionBar.ActionBar;
import org.telegram.ui.ActionBar.ActionBarMenu;
import org.telegram.ui.ActionBar.ActionBarMenuItem;
import org.telegram.ui.ActionBar.ActionBarMenuSubItem;
import org.telegram.ui.ActionBar.ActionBarPopupWindow;
import org.telegram.ui.ActionBar.AlertDialog;
import org.telegram.ui.ActionBar.BackDrawable;
import org.telegram.ui.ActionBar.BaseFragment;
import org.telegram.ui.ActionBar.INavigationLayout;
import org.telegram.ui.ActionBar.OKLCH;
import org.telegram.ui.ActionBar.SimpleTextView;
import org.telegram.ui.ActionBar.Theme;
import org.telegram.ui.ActionBar.ThemeDescription;
import org.telegram.ui.Business.OpeningHoursActivity;
import org.telegram.ui.Business.ProfileHoursCell;
import org.telegram.ui.Business.ProfileLocationCell;
import org.telegram.ui.Cells.AboutLinkCell;
import org.telegram.ui.Cells.CheckBoxCell;
import org.telegram.ui.Cells.DividerCell;
import org.telegram.ui.Cells.DrawerProfileCell;
import org.telegram.ui.Cells.GraySectionCell;
import org.telegram.ui.Cells.HeaderCell;
import org.telegram.ui.Cells.NotificationsCheckCell;
import org.telegram.ui.Cells.ProfileChannelCell;
import org.telegram.ui.Cells.SettingsSearchCell;
import org.telegram.ui.Cells.SettingsSuggestionCell;
import org.telegram.ui.Cells.ShadowSectionCell;
import org.telegram.ui.Cells.TextCell;
import org.telegram.ui.Cells.TextCheckCell;
import org.telegram.ui.Cells.TextDetailCell;
import org.telegram.ui.Cells.TextInfoPrivacyCell;
import org.telegram.ui.Cells.UserCell;
import org.telegram.ui.ChatActivity;
import org.telegram.ui.ChatRightsEditActivity;
import org.telegram.ui.Components.AlertsCreator;
import org.telegram.ui.Components.AnimatedColor;
import org.telegram.ui.Components.AnimatedEmojiDrawable;
import org.telegram.ui.Components.AnimatedFileDrawable;
import org.telegram.ui.Components.AnimatedFloat;
import org.telegram.ui.Components.AnimatedTextView;
import org.telegram.ui.Components.AnimationProperties;
import org.telegram.ui.Components.AudioPlayerAlert;
import org.telegram.ui.Components.AutoDeletePopupWrapper;
import org.telegram.ui.Components.AvatarDrawable;
import org.telegram.ui.Components.BackButtonMenu;
import org.telegram.ui.Components.BackupImageView;
import org.telegram.ui.Components.Bulletin;
import org.telegram.ui.Components.BulletinFactory;
import org.telegram.ui.Components.ButtonBounce;
import org.telegram.ui.Components.CanvasButton;
import org.telegram.ui.Components.ChatActivityInterface;
import org.telegram.ui.Components.ChatAvatarContainer;
import org.telegram.ui.Components.ChatNotificationsPopupWrapper;
import org.telegram.ui.Components.ColoredImageSpan;
import org.telegram.ui.Components.CombinedDrawable;
import org.telegram.ui.Components.CrossfadeDrawable;
import org.telegram.ui.Components.CubicBezierInterpolator;
import org.telegram.ui.Components.DotDividerSpan;
import org.telegram.ui.Components.EmojiPacksAlert;
import org.telegram.ui.Components.EmptyStubSpan;
import org.telegram.ui.Components.FloatingDebug.FloatingDebugController;
import org.telegram.ui.Components.Forum.ForumUtilities;
import org.telegram.ui.Components.FragmentContextView;
import org.telegram.ui.Components.HintView;
import org.telegram.ui.Components.IdenticonDrawable;
import org.telegram.ui.Components.ImageUpdater;
import org.telegram.ui.Components.InstantCameraView;
import org.telegram.ui.Components.ItemOptions;
import org.telegram.ui.Components.JoinGroupAlert;
import org.telegram.ui.Components.LayoutHelper;
import org.telegram.ui.Components.LinkSpanDrawable;
import org.telegram.ui.Components.MediaActivity;
import org.telegram.ui.Components.MessagePrivateSeenView;
import org.telegram.ui.Components.Paint.PersistColorPalette;
import org.telegram.ui.Components.Premium.GiftPremiumBottomSheet;
import org.telegram.ui.Components.Premium.LimitReachedBottomSheet;
import org.telegram.ui.Components.Premium.PremiumFeatureBottomSheet;
import org.telegram.ui.Components.Premium.PremiumGradient;
import org.telegram.ui.Components.Premium.PremiumPreviewBottomSheet;
import org.telegram.ui.Components.Premium.ProfilePremiumCell;
import org.telegram.ui.Components.Premium.boosts.BoostRepository;
import org.telegram.ui.Components.Premium.boosts.PremiumPreviewGiftToUsersBottomSheet;
import org.telegram.ui.Components.Premium.boosts.UserSelectorBottomSheet;
import org.telegram.ui.Components.ProfileGalleryView;
import org.telegram.ui.Components.RLottieDrawable;
import org.telegram.ui.Components.RLottieImageView;
import org.telegram.ui.Components.RadialProgressView;
import org.telegram.ui.Components.Reactions.ReactionsLayoutInBubble;
import org.telegram.ui.Components.RecyclerListView;
import org.telegram.ui.Components.ScamDrawable;
import org.telegram.ui.Components.ShareAlert;
import org.telegram.ui.Components.SharedMediaLayout;
import org.telegram.ui.Components.SizeNotifierFrameLayout;
import org.telegram.ui.Components.StickerEmptyView;
import org.telegram.ui.Components.TimerDrawable;
import org.telegram.ui.Components.TranslateAlert2;
import org.telegram.ui.Components.TypefaceSpan;
import org.telegram.ui.Components.UndoView;
import org.telegram.ui.Components.VectorAvatarThumbDrawable;
import org.telegram.ui.Components.voip.VoIPHelper;
import org.telegram.ui.ContactAddActivity;
import org.telegram.ui.DialogsActivity;
import org.telegram.ui.GroupCreateActivity;
import org.telegram.ui.PhotoViewer;
import org.telegram.ui.PinchToZoomHelper;
import org.telegram.ui.ProfileActivity;
import org.telegram.ui.ProfileBirthdayEffect;
import org.telegram.ui.SelectAnimatedEmojiDialog;
import org.telegram.ui.Stars.BotStarsActivity;
import org.telegram.ui.Stars.BotStarsController;
import org.telegram.ui.Stars.StarsController;
import org.telegram.ui.Stars.StarsIntroActivity;
import org.telegram.ui.Stories.ProfileStoriesView;
import org.telegram.ui.Stories.StoriesController;
import org.telegram.ui.Stories.StoriesListPlaceProvider;
import org.telegram.ui.Stories.StoryViewer;
import org.telegram.ui.Stories.recorder.ButtonWithCounterView;
import org.telegram.ui.Stories.recorder.DualCameraView;
import org.telegram.ui.Stories.recorder.StoryRecorder;
import org.telegram.ui.bots.BotBiometry;
import org.telegram.ui.bots.BotWebViewAttachedSheet;
/* loaded from: classes4.dex */
public class ProfileActivity extends BaseFragment implements NotificationCenter.NotificationCenterDelegate, DialogsActivity.DialogsActivityDelegate, SharedMediaLayout.SharedMediaPreloaderDelegate, ImageUpdater.ImageUpdaterDelegate, SharedMediaLayout.Delegate {
    private Property ACTIONBAR_HEADER_PROGRESS;
    private final Property HEADER_SHADOW;
    private AboutLinkCell aboutLinkCell;
    private int actionBarAnimationColorFrom;
    private int actionBarBackgroundColor;
    private Paint actionBarBackgroundPaint;
    private final SparseIntArray adaptedColors;
    private int addMemberRow;
    private int addToContactsRow;
    private int addToGroupButtonRow;
    private int addToGroupInfoRow;
    private int administratorsRow;
    private boolean allowProfileAnimation;
    private boolean allowPullingDown;
    private DrawerProfileCell.AnimatedStatusView animatedStatusView;
    private ActionBarMenuItem animatingItem;
    private Runnable applyBulletin;
    private ActionBarMenuSubItem autoDeleteItem;
    TimerDrawable autoDeleteItemDrawable;
    AutoDeletePopupWrapper autoDeletePopupWrapper;
    private TLRPC$FileLocation avatar;
    private AnimatorSet avatarAnimation;
    private float avatarAnimationProgress;
    private TLRPC$FileLocation avatarBig;
    private int avatarColor;
    private FrameLayout avatarContainer;
    private FrameLayout avatarContainer2;
    private AvatarDrawable avatarDrawable;
    private AvatarImageView avatarImage;
    private RadialProgressView avatarProgressView;
    private float avatarScale;
    int avatarUploadingRequest;
    private float avatarX;
    private float avatarY;
    private ProfileGalleryView avatarsViewPager;
    private PagerIndicatorView avatarsViewPagerIndicatorView;
    private int balanceDividerRow;
    private int balanceRow;
    private long banFromGroup;
    private int bioRow;
    private ProfileBirthdayEffect birthdayEffect;
    public ProfileBirthdayEffect.BirthdayEffectFetcher birthdayFetcher;
    public int birthdayRow;
    private int bizHoursRow;
    private int bizLocationRow;
    private int blockedUsersRow;
    private View blurredView;
    private int botAppRow;
    private TL_bots$BotInfo botInfo;
    private ButtonWithCounterView[] bottomButton;
    private FrameLayout[] bottomButtonContainer;
    private SpannableStringBuilder bottomButtonPostText;
    private FrameLayout bottomButtonsContainer;
    private int bottomPaddingRow;
    private int businessRow;
    private ActionBarMenuItem callItem;
    private boolean callItemVisible;
    private RLottieDrawable cameraDrawable;
    private boolean canSearchMembers;
    private RLottieDrawable cellCameraDrawable;
    private int channelDividerRow;
    private int channelInfoRow;
    private int channelRow;
    private long chatId;
    private TLRPC$ChatFull chatInfo;
    private int chatRow;
    private int clearLogsRow;
    private NestedFrameLayout contentView;
    public boolean createdBirthdayFetcher;
    private boolean creatingChat;
    private CharSequence currentBio;
    private TLRPC$ChannelParticipant currentChannelParticipant;
    private TLRPC$Chat currentChat;
    private TLRPC$EncryptedChat currentEncryptedChat;
    private float currentExpanAnimatorFracture;
    private float currentExpandAnimatorValue;
    private TLRPC$TL_account_password currentPassword;
    private float customAvatarProgress;
    private float customPhotoOffset;
    private int dataRow;
    private int debugHeaderRow;
    private int devicesRow;
    private int devicesSectionRow;
    private long dialogId;
    private boolean disableProfileAnimation;
    private boolean doNotSetForeground;
    private ActionBarMenuSubItem editColorItem;
    private ActionBarMenuItem editItem;
    private boolean editItemVisible;
    private AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable[] emojiStatusDrawable;
    private int emptyRow;
    private StickerEmptyView emptyView;
    private ValueAnimator expandAnimator;
    private float[] expandAnimatorValues;
    private boolean expandPhoto;
    private float expandProgress;
    private float extraHeight;
    private ImageReceiver fallbackImage;
    private int faqRow;
    private int filtersRow;
    private boolean firstLayout;
    private FlagSecureReason flagSecure;
    RLottieImageView floatingButton;
    FrameLayout floatingButtonContainer;
    float floatingButtonHideProgress;
    boolean floatingHidden;
    private final AccelerateDecelerateInterpolator floatingInterpolator;
    private boolean fragmentOpened;
    private boolean fragmentViewAttached;
    private boolean fullyVisible;
    private HintView fwdRestrictedHint;
    private int graceSuggestionRow;
    private int graceSuggestionSectionRow;
    private boolean hasCustomPhoto;
    private boolean hasFallbackPhoto;
    private boolean hasVoiceChatItem;
    private AnimatorSet headerAnimatorSet;
    protected float headerShadowAlpha;
    private AnimatorSet headerShadowAnimatorSet;
    private int helpHeaderRow;
    private int helpSectionCell;
    private boolean hoursExpanded;
    private boolean hoursShownMine;
    private ImageUpdater imageUpdater;
    private int infoEndRow;
    private int infoHeaderRow;
    private int infoSectionRow;
    private int infoStartRow;
    private float initialAnimationExtraHeight;
    private boolean invalidateScroll;
    private boolean isBot;
    public boolean isFragmentOpened;
    private boolean isFragmentPhoneNumber;
    private boolean isInLandscapeMode;
    private boolean[] isOnline;
    private boolean isPulledDown;
    private boolean isQrItemVisible;
    private boolean isTopic;
    private int joinRow;
    private int languageRow;
    private float lastEmojiStatusProgress;
    private int lastMeasuredContentHeight;
    private int lastMeasuredContentWidth;
    private int lastSectionRow;
    private LinearLayoutManager layoutManager;
    private ActionBarMenuSubItem linkItem;
    private ListAdapter listAdapter;
    private int listContentHeight;
    private RecyclerListView listView;
    private float listViewVelocityY;
    private int liteModeRow;
    private boolean loadingBoostsStats;
    private CharacterStyle loadingSpan;
    private boolean loadingUsers;
    private int locationRow;
    private Drawable lockIconDrawable;
    private AudioPlayerAlert.ClippingTextViewSwitcher mediaCounterTextView;
    private float mediaHeaderAnimationProgress;
    private boolean mediaHeaderVisible;
    private int membersEndRow;
    private int membersHeaderRow;
    private int membersSectionRow;
    private int membersStartRow;
    private long mergeDialogId;
    public boolean myProfile;
    private SimpleTextView[] nameTextView;
    private String nameTextViewRightDrawable2ContentDescription;
    private String nameTextViewRightDrawableContentDescription;
    private float nameX;
    private float nameY;
    private int navigationBarAnimationColorFrom;
    private boolean needSendMessage;
    private boolean needStarImage;
    private boolean needTimerImage;
    private int notificationRow;
    private int notificationsDividerRow;
    HashSet notificationsExceptionTopics;
    private int notificationsRow;
    private int notificationsSimpleRow;
    private int numberRow;
    private int numberSectionRow;
    private int onlineCount;
    private SimpleTextView[] onlineTextView;
    private float onlineX;
    private float onlineY;
    private boolean openAnimationInProgress;
    private boolean openSimilar;
    private boolean openingAvatar;
    private ActionBarMenuItem otherItem;
    private int overlayCountVisible;
    private OverlaysView overlaysView;
    private LongSparseArray participantsMap;
    private int passwordSuggestionRow;
    private int passwordSuggestionSectionRow;
    private MessagesController.PeerColor peerColor;
    private int phoneRow;
    private int phoneSuggestionRow;
    private int phoneSuggestionSectionRow;
    float photoDescriptionProgress;
    PinchToZoomHelper pinchToZoomHelper;
    private int playProfileAnimation;
    private int policyRow;
    private HashMap positionToOffset;
    private boolean preloadedChannelEmojiStatuses;
    private final CrossfadeDrawable[] premiumCrossfadeDrawable;
    private int premiumGiftingRow;
    private int premiumRow;
    private int premiumSectionsRow;
    private final Drawable[] premiumStarDrawable;
    private ImageLocation prevLoadedImageLocation;
    ChatActivityInterface previousTransitionFragment;
    private int privacyRow;
    public ProfileChannelCell.ChannelMessageFetcher profileChannelMessageFetcher;
    boolean profileTransitionInProgress;
    private PhotoViewer.PhotoViewerProvider provider;
    private ActionBarMenuItem qrItem;
    private AnimatorSet qrItemAnimation;
    private int questionRow;
    private boolean recreateMenuAfterAnimation;
    private Rect rect;
    private int reportDividerRow;
    private long reportReactionFromDialogId;
    private int reportReactionMessageId;
    private int reportReactionRow;
    private int reportRow;
    private boolean reportSpam;
    private Theme.ResourcesProvider resourcesProvider;
    private int rowCount;
    public boolean saved;
    int savedScrollOffset;
    int savedScrollPosition;
    boolean savedScrollToSharedMedia;
    private ScamDrawable scamDrawable;
    private AnimatorSet scrimAnimatorSet;
    private Paint scrimPaint;
    private View scrimView;
    private boolean scrolling;
    private SearchAdapter searchAdapter;
    private ActionBarMenuItem searchItem;
    private RecyclerListView searchListView;
    private boolean searchMode;
    private int searchTransitionOffset;
    private float searchTransitionProgress;
    private Animator searchViewTransition;
    private int secretSettingsSectionRow;
    private SelectAnimatedEmojiDialog.SelectAnimatedEmojiDialogWindow selectAnimatedEmojiDialog;
    private long selectedUser;
    private int sendLastLogsRow;
    private int sendLogsRow;
    private int sendMessageRow;
    private TextCell setAvatarCell;
    private int setAvatarRow;
    private int setAvatarSectionRow;
    private ActionBarMenuSubItem setUsernameItem;
    private int setUsernameRow;
    private int settingsKeyRow;
    private int settingsRow;
    private int settingsSectionRow;
    private int settingsSectionRow2;
    private int settingsTimerRow;
    private SharedMediaLayout sharedMediaLayout;
    private boolean sharedMediaLayoutAttached;
    private SharedMediaLayout.SharedMediaPreloader sharedMediaPreloader;
    private int sharedMediaRow;
    private boolean showAddToContacts;
    boolean showBoostsAlert;
    private ShowDrawable showStatusButton;
    private ArrayList sortedUsers;
    private ImageView starBgItem;
    private ImageView starFgItem;
    private int starsRow;
    private int stickersRow;
    private ProfileStoriesView storyView;
    private int subscribersRequestsRow;
    private int subscribersRow;
    private int switchBackendRow;
    private ImageView timeItem;
    private TimerDrawable timerDrawable;
    private float titleAnimationsYDiff;
    private TopView topView;
    private long topicId;
    private boolean transitionAnimationInProress;
    private int transitionIndex;
    private View transitionOnlineText;
    private ImageView ttlIconView;
    private int unblockRow;
    private UndoView undoView;
    private ImageLocation uploadingImageLocation;
    private boolean userBlocked;
    private long userId;
    private TLRPC$UserFull userInfo;
    private int userInfoRow;
    private int usernameRow;
    private boolean usersEndReached;
    private int usersForceShowingIn;
    private String vcardFirstName;
    private String vcardLastName;
    private String vcardPhone;
    private final Drawable[] verifiedCheckDrawable;
    private final CrossfadeDrawable[] verifiedCrossfadeDrawable;
    private final Drawable[] verifiedDrawable;
    private int versionRow;
    private ActionBarMenuItem videoCallItem;
    private boolean videoCallItemVisible;
    private final ArrayList visibleChatParticipants;
    private final ArrayList visibleSortedUsers;
    private boolean waitCanSendStoryRequest;
    private Paint whitePaint;
    private RLottieImageView writeButton;
    private AnimatorSet writeButtonAnimation;

    /* loaded from: classes4.dex */
    public class 11 extends DefaultItemAnimator {
        int animationIndex = -1;

        11() {
            ProfileActivity.this = r1;
        }

        public /* synthetic */ void lambda$onAllAnimationsDone$0() {
            ProfileActivity.this.getNotificationCenter().onAnimationFinish(this.animationIndex);
        }

        public /* synthetic */ void lambda$runPendingAnimations$1(ValueAnimator valueAnimator) {
            ProfileActivity.this.listView.invalidate();
        }

        @Override // androidx.recyclerview.widget.DefaultItemAnimator
        protected long getAddAnimationDelay(long j, long j2, long j3) {
            return 0L;
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // androidx.recyclerview.widget.DefaultItemAnimator
        public void onAllAnimationsDone() {
            super.onAllAnimationsDone();
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$11$$ExternalSyntheticLambda0
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.11.this.lambda$onAllAnimationsDone$0();
                }
            });
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // androidx.recyclerview.widget.DefaultItemAnimator
        public void onMoveAnimationUpdate(RecyclerView.ViewHolder viewHolder) {
            super.onMoveAnimationUpdate(viewHolder);
            ProfileActivity.this.updateBottomButtonY();
        }

        @Override // androidx.recyclerview.widget.DefaultItemAnimator, androidx.recyclerview.widget.RecyclerView.ItemAnimator
        public void runPendingAnimations() {
            boolean z = !this.mPendingRemovals.isEmpty();
            boolean z2 = !this.mPendingMoves.isEmpty();
            boolean z3 = !this.mPendingChanges.isEmpty();
            boolean z4 = !this.mPendingAdditions.isEmpty();
            if (z || z2 || z4 || z3) {
                ValueAnimator ofFloat = ValueAnimator.ofFloat(0.0f, 1.0f);
                ofFloat.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$11$$ExternalSyntheticLambda1
                    @Override // android.animation.ValueAnimator.AnimatorUpdateListener
                    public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                        ProfileActivity.11.this.lambda$runPendingAnimations$1(valueAnimator);
                    }
                });
                ofFloat.setDuration(getMoveDuration());
                ofFloat.start();
                this.animationIndex = ProfileActivity.this.getNotificationCenter().setAnimationInProgress(this.animationIndex, null);
            }
            super.runPendingAnimations();
        }
    }

    /* loaded from: classes4.dex */
    public class 13 implements DialogInterface.OnClickListener {
        final /* synthetic */ CheckBoxCell[] val$cells;

        13(CheckBoxCell[] checkBoxCellArr) {
            ProfileActivity.this = r1;
            this.val$cells = checkBoxCellArr;
        }

        public static /* synthetic */ void lambda$onClick$0(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        }

        @Override // android.content.DialogInterface.OnClickListener
        public void onClick(DialogInterface dialogInterface, int i) {
            TLRPC$TL_messages_reportReaction tLRPC$TL_messages_reportReaction = new TLRPC$TL_messages_reportReaction();
            tLRPC$TL_messages_reportReaction.user_id = ProfileActivity.this.getMessagesController().getInputUser(ProfileActivity.this.userId);
            tLRPC$TL_messages_reportReaction.peer = ProfileActivity.this.getMessagesController().getInputPeer(ProfileActivity.this.reportReactionFromDialogId);
            tLRPC$TL_messages_reportReaction.id = ProfileActivity.this.reportReactionMessageId;
            ConnectionsManager.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).sendRequest(tLRPC$TL_messages_reportReaction, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$13$$ExternalSyntheticLambda0
                @Override // org.telegram.tgnet.RequestDelegate
                public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                    ProfileActivity.13.lambda$onClick$0(tLObject, tLRPC$TL_error);
                }
            });
            CheckBoxCell checkBoxCell = this.val$cells[0];
            if (checkBoxCell != null && checkBoxCell.isChecked()) {
                ProfileActivity.this.getMessagesController().deleteParticipantFromChat(-ProfileActivity.this.reportReactionFromDialogId, ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId)));
            }
            ProfileActivity.this.reportReactionMessageId = 0;
            ProfileActivity.this.updateListAnimated(false);
            BulletinFactory.of(ProfileActivity.this).createReportSent(ProfileActivity.this.resourcesProvider).show();
        }
    }

    /* loaded from: classes4.dex */
    public class 16 implements RecyclerListView.OnItemLongClickListener {
        private int pressCount = 0;
        final /* synthetic */ Context val$context;

        /* loaded from: classes4.dex */
        public class 1 extends ShareAlert {
            /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
            1(Context context, ArrayList arrayList, String str, boolean z, String str2, boolean z2) {
                super(context, arrayList, str, z, str2, z2);
                16.this = r8;
            }

            public /* synthetic */ void lambda$onSend$0(LongSparseArray longSparseArray, int i) {
                BulletinFactory.createInviteSentBulletin(ProfileActivity.this.getParentActivity(), ProfileActivity.this.contentView, longSparseArray.size(), longSparseArray.size() == 1 ? ((TLRPC$Dialog) longSparseArray.valueAt(0)).id : 0L, i, getThemedColor(Theme.key_undo_background), getThemedColor(Theme.key_undo_infoColor)).show();
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // org.telegram.ui.Components.ShareAlert
            public void onSend(final LongSparseArray longSparseArray, final int i, TLRPC$TL_forumTopic tLRPC$TL_forumTopic) {
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$16$1$$ExternalSyntheticLambda0
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.16.1.this.lambda$onSend$0(longSparseArray, i);
                    }
                }, 250L);
            }
        }

        16(Context context) {
            ProfileActivity.this = r1;
            this.val$context = context;
        }

        public /* synthetic */ void lambda$onItemClick$0(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
            ProfileActivity.this.getMessagesController().loadAppConfig();
        }

        public /* synthetic */ void lambda$onItemClick$1(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
            TLRPC$TL_help_dismissSuggestion tLRPC$TL_help_dismissSuggestion = new TLRPC$TL_help_dismissSuggestion();
            tLRPC$TL_help_dismissSuggestion.suggestion = "VALIDATE_PASSWORD";
            tLRPC$TL_help_dismissSuggestion.peer = new TLRPC$TL_inputPeerEmpty();
            ProfileActivity.this.getConnectionsManager().sendRequest(tLRPC$TL_help_dismissSuggestion, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$16$$ExternalSyntheticLambda6
                @Override // org.telegram.tgnet.RequestDelegate
                public final void run(TLObject tLObject2, TLRPC$TL_error tLRPC$TL_error2) {
                    ProfileActivity.16.this.lambda$onItemClick$0(tLObject2, tLRPC$TL_error2);
                }
            });
        }

        public static /* synthetic */ void lambda$onItemClick$2(int i, DialogInterface dialogInterface, int i2) {
            int i3 = 2 - i2;
            if (i3 == i) {
                SharedConfig.overrideDevicePerformanceClass(-1);
            } else {
                SharedConfig.overrideDevicePerformanceClass(i3);
            }
        }

        public /* synthetic */ void lambda$onItemClick$3(Context context, DialogInterface dialogInterface, int i) {
            int i2;
            String str;
            String str2;
            int i3;
            int i4;
            int i5 = 0;
            if (i == 0) {
                ProfileActivity.this.getUserConfig().syncContacts = true;
                ProfileActivity.this.getUserConfig().saveConfig(false);
                ProfileActivity.this.getContactsController().forceImportContacts();
            } else if (i == 1) {
                ProfileActivity.this.getContactsController().loadContacts(false, 0L);
            } else if (i == 2) {
                ProfileActivity.this.getContactsController().resetImportedContacts();
            } else if (i == 3) {
                ProfileActivity.this.getMessagesController().forceResetDialogs();
            } else if (i == 4) {
                BuildVars.LOGS_ENABLED = !BuildVars.LOGS_ENABLED;
                ApplicationLoader.applicationContext.getSharedPreferences("systemConfig", 0).edit().putBoolean("logsEnabled", BuildVars.LOGS_ENABLED).commit();
                ProfileActivity.this.updateRowsIds();
                ProfileActivity.this.listAdapter.notifyDataSetChanged();
                if (BuildVars.LOGS_ENABLED) {
                    FileLog.d("app start time = " + ApplicationLoader.startTime);
                    try {
                        FileLog.d("buildVersion = " + ApplicationLoader.applicationContext.getPackageManager().getPackageInfo(ApplicationLoader.applicationContext.getPackageName(), 0).versionCode);
                    } catch (Exception e) {
                        FileLog.e(e);
                    }
                }
            } else if (i == 5) {
                SharedConfig.toggleInappCamera();
            } else if (i == 6) {
                ProfileActivity.this.getMessagesStorage().clearSentMedia();
                SharedConfig.setNoSoundHintShowed(false);
                MessagesController.getGlobalMainSettings().edit().remove("archivehint").remove("proximityhint").remove("archivehint_l").remove("speedhint").remove("gifhint").remove("reminderhint").remove("soundHint").remove("themehint").remove("bganimationhint").remove("filterhint").remove("n_0").remove("storyprvhint").remove("storyhint").remove("storyhint2").remove("storydualhint").remove("storysvddualhint").remove("stories_camera").remove("dualcam").remove("dualmatrix").remove("dual_available").remove("archivehint").remove("askNotificationsAfter").remove("askNotificationsDuration").remove("viewoncehint").remove("taptostorysoundhint").remove("nothanos").remove("voiceoncehint").remove("savedhint").remove("savedsearchhint").remove("savedsearchtaghint").remove("groupEmojiPackHintShown").remove("newppsms").remove("monetizationadshint").apply();
                MessagesController.getEmojiSettings(((BaseFragment) ProfileActivity.this).currentAccount).edit().remove("featured_hidden").remove("emoji_featured_hidden").commit();
                SharedConfig.textSelectionHintShows = 0;
                SharedConfig.lockRecordAudioVideoHint = 0;
                SharedConfig.stickersReorderingHintUsed = false;
                SharedConfig.forwardingOptionsHintShown = false;
                SharedConfig.replyingOptionsHintShown = false;
                SharedConfig.messageSeenHintCount = 3;
                SharedConfig.emojiInteractionsHintCount = 3;
                SharedConfig.dayNightThemeSwitchHintCount = 3;
                SharedConfig.fastScrollHintCount = 3;
                SharedConfig.stealthModeSendMessageConfirm = 2;
                SharedConfig.updateStealthModeSendMessageConfirm(2);
                SharedConfig.setStoriesReactionsLongPressHintUsed(false);
                SharedConfig.setStoriesIntroShown(false);
                SharedConfig.setMultipleReactionsPromoShowed(false);
                ChatThemeController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).clearCache();
                ProfileActivity.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.newSuggestionsAvailable, new Object[0]);
                RestrictedLanguagesSelectActivity.cleanup();
                PersistColorPalette.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).cleanup();
                SharedPreferences mainSettings = ProfileActivity.this.getMessagesController().getMainSettings();
                SharedPreferences.Editor edit = mainSettings.edit();
                edit.remove("peerColors").remove("profilePeerColors").remove("boostingappearance").remove("bizbothint");
                for (String str3 : mainSettings.getAll().keySet()) {
                    if (str3.contains("show_gift_for_") || str3.contains("bdayhint_") || str3.contains("bdayanim_")) {
                        edit.remove(str3);
                    }
                }
                edit.commit();
            } else if (i == 7) {
                VoIPHelper.showCallDebugSettings(ProfileActivity.this.getParentActivity());
            } else if (i == 8) {
                SharedConfig.toggleRoundCamera16to9();
            } else if (i == 9) {
                ((LaunchActivity) ProfileActivity.this.getParentActivity()).checkAppUpdate(true, null);
            } else if (i == 10) {
                ProfileActivity.this.getMessagesStorage().readAllDialogs(-1);
            } else if (i == 11) {
                SharedConfig.toggleDisableVoiceAudioEffects();
            } else if (i == 12) {
                SharedConfig.pendingAppUpdate = null;
                SharedConfig.saveConfig();
                NotificationCenter.getGlobalInstance().lambda$postNotificationNameOnUIThread$1(NotificationCenter.appUpdateAvailable, new Object[0]);
            } else if (i == 13) {
                Set<String> set = ProfileActivity.this.getMessagesController().pendingSuggestions;
                set.add("VALIDATE_PHONE_NUMBER");
                set.add("VALIDATE_PASSWORD");
                ProfileActivity.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.newSuggestionsAvailable, new Object[0]);
            } else {
                try {
                    if (i == 14) {
                        ApplicationLoader.applicationContext.deleteDatabase("webview.db");
                        ApplicationLoader.applicationContext.deleteDatabase("webviewCache.db");
                        WebStorage.getInstance().deleteAllData();
                        WebView webView = new WebView(ApplicationLoader.applicationContext);
                        webView.clearHistory();
                        webView.destroy();
                    } else if (i == 15) {
                        CookieManager cookieManager = CookieManager.getInstance();
                        if (Build.VERSION.SDK_INT >= 21) {
                            cookieManager.removeAllCookies(null);
                            cookieManager.flush();
                        }
                    } else if (i == 16) {
                        SharedConfig.toggleDebugWebView();
                        Toast.makeText(ProfileActivity.this.getParentActivity(), LocaleController.getString(SharedConfig.debugWebView ? R.string.DebugMenuWebViewDebugEnabled : R.string.DebugMenuWebViewDebugDisabled), 0).show();
                    } else if (i == 17) {
                        SharedConfig.toggleForceDisableTabletMode();
                        Activity findActivity = AndroidUtilities.findActivity(context);
                        Intent launchIntentForPackage = findActivity.getPackageManager().getLaunchIntentForPackage(findActivity.getPackageName());
                        findActivity.finishAffinity();
                        findActivity.startActivity(launchIntentForPackage);
                        System.exit(0);
                    } else if (i == 18) {
                        FloatingDebugController.setActive((LaunchActivity) ProfileActivity.this.getParentActivity(), !FloatingDebugController.isActive());
                    } else if (i == 19) {
                        ProfileActivity.this.getMessagesController().loadAppConfig();
                        TLRPC$TL_help_dismissSuggestion tLRPC$TL_help_dismissSuggestion = new TLRPC$TL_help_dismissSuggestion();
                        tLRPC$TL_help_dismissSuggestion.suggestion = "VALIDATE_PHONE_NUMBER";
                        tLRPC$TL_help_dismissSuggestion.peer = new TLRPC$TL_inputPeerEmpty();
                        ProfileActivity.this.getConnectionsManager().sendRequest(tLRPC$TL_help_dismissSuggestion, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$16$$ExternalSyntheticLambda4
                            @Override // org.telegram.tgnet.RequestDelegate
                            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                                ProfileActivity.16.this.lambda$onItemClick$1(tLObject, tLRPC$TL_error);
                            }
                        });
                    } else if (i == 20) {
                        int i6 = ConnectionsManager.CPU_COUNT;
                        int memoryClass = ((ActivityManager) ApplicationLoader.applicationContext.getSystemService("activity")).getMemoryClass();
                        StringBuilder sb = new StringBuilder();
                        long j = 0;
                        long j2 = 0;
                        long j3 = 0;
                        long j4 = 0;
                        long j5 = 0;
                        long j6 = 0;
                        long j7 = 0;
                        long j8 = 0;
                        while (i5 < i6) {
                            Long sysInfoLong = AndroidUtilities.getSysInfoLong("/sys/devices/system/cpu/cpu" + i5 + "/cpufreq/cpuinfo_min_freq");
                            Long sysInfoLong2 = AndroidUtilities.getSysInfoLong("/sys/devices/system/cpu/cpu" + i5 + "/cpufreq/cpuinfo_cur_freq");
                            Long sysInfoLong3 = AndroidUtilities.getSysInfoLong("/sys/devices/system/cpu/cpu" + i5 + "/cpufreq/cpuinfo_max_freq");
                            Long sysInfoLong4 = AndroidUtilities.getSysInfoLong("/sys/devices/system/cpu/cpu" + i5 + "/cpu_capacity");
                            sb.append("#");
                            sb.append(i5);
                            sb.append(" ");
                            if (sysInfoLong != null) {
                                sb.append("min=");
                                i3 = i6;
                                i4 = memoryClass;
                                sb.append(sysInfoLong.longValue() / 1000);
                                sb.append(" ");
                                j2 += sysInfoLong.longValue() / 1000;
                                j++;
                            } else {
                                i3 = i6;
                                i4 = memoryClass;
                            }
                            if (sysInfoLong2 != null) {
                                sb.append("cur=");
                                sb.append(sysInfoLong2.longValue() / 1000);
                                sb.append(" ");
                                j4 += sysInfoLong2.longValue() / 1000;
                                j3++;
                            }
                            if (sysInfoLong3 != null) {
                                sb.append("max=");
                                sb.append(sysInfoLong3.longValue() / 1000);
                                sb.append(" ");
                                j6 += sysInfoLong3.longValue() / 1000;
                                j5++;
                            }
                            if (sysInfoLong4 != null) {
                                sb.append("cpc=");
                                sb.append(sysInfoLong4);
                                sb.append(" ");
                                j8 += sysInfoLong4.longValue();
                                j7++;
                            }
                            sb.append("\n");
                            i5++;
                            i6 = i3;
                            memoryClass = i4;
                        }
                        int i7 = i6;
                        int i8 = memoryClass;
                        StringBuilder sb2 = new StringBuilder();
                        sb2.append(Build.MANUFACTURER);
                        sb2.append(", ");
                        sb2.append(Build.MODEL);
                        sb2.append(" (");
                        sb2.append(Build.PRODUCT);
                        sb2.append(", ");
                        sb2.append(Build.DEVICE);
                        sb2.append(") ");
                        sb2.append(" (android ");
                        int i9 = Build.VERSION.SDK_INT;
                        sb2.append(i9);
                        sb2.append(")\n");
                        if (i9 >= 31) {
                            sb2.append("SoC: ");
                            str = Build.SOC_MANUFACTURER;
                            sb2.append(str);
                            sb2.append(", ");
                            str2 = Build.SOC_MODEL;
                            sb2.append(str2);
                            sb2.append("\n");
                        }
                        String sysInfoString = AndroidUtilities.getSysInfoString("/sys/kernel/gpu/gpu_model");
                        if (sysInfoString != null) {
                            sb2.append("GPU: ");
                            sb2.append(sysInfoString);
                            Long sysInfoLong5 = AndroidUtilities.getSysInfoLong("/sys/kernel/gpu/gpu_min_clock");
                            Long sysInfoLong6 = AndroidUtilities.getSysInfoLong("/sys/kernel/gpu/gpu_mm_min_clock");
                            Long sysInfoLong7 = AndroidUtilities.getSysInfoLong("/sys/kernel/gpu/gpu_max_clock");
                            if (sysInfoLong5 != null) {
                                sb2.append(", min=");
                                sb2.append(sysInfoLong5.longValue() / 1000);
                            }
                            if (sysInfoLong6 != null) {
                                sb2.append(", mmin=");
                                sb2.append(sysInfoLong6.longValue() / 1000);
                            }
                            if (sysInfoLong7 != null) {
                                sb2.append(", max=");
                                sb2.append(sysInfoLong7.longValue() / 1000);
                            }
                            sb2.append("\n");
                        }
                        ConfigurationInfo deviceConfigurationInfo = ((ActivityManager) ApplicationLoader.applicationContext.getSystemService("activity")).getDeviceConfigurationInfo();
                        sb2.append("GLES Version: ");
                        sb2.append(deviceConfigurationInfo.getGlEsVersion());
                        sb2.append("\n");
                        sb2.append("Memory: class=");
                        sb2.append(AndroidUtilities.formatFileSize(i8 * 1048576));
                        ActivityManager.MemoryInfo memoryInfo = new ActivityManager.MemoryInfo();
                        ((ActivityManager) ApplicationLoader.applicationContext.getSystemService("activity")).getMemoryInfo(memoryInfo);
                        sb2.append(", total=");
                        sb2.append(AndroidUtilities.formatFileSize(memoryInfo.totalMem));
                        sb2.append(", avail=");
                        sb2.append(AndroidUtilities.formatFileSize(memoryInfo.availMem));
                        sb2.append(", low?=");
                        sb2.append(memoryInfo.lowMemory);
                        sb2.append(" (threshold=");
                        sb2.append(AndroidUtilities.formatFileSize(memoryInfo.threshold));
                        sb2.append(")");
                        sb2.append("\n");
                        sb2.append("Current class: ");
                        sb2.append(SharedConfig.performanceClassName(SharedConfig.getDevicePerformanceClass()));
                        sb2.append(", measured: ");
                        sb2.append(SharedConfig.performanceClassName(SharedConfig.measureDevicePerformanceClass()));
                        if (i9 >= 31) {
                            sb2.append(", suggest=");
                            i2 = Build.VERSION.MEDIA_PERFORMANCE_CLASS;
                            sb2.append(i2);
                        }
                        sb2.append("\n");
                        sb2.append(i7);
                        sb2.append(" CPUs");
                        if (j > 0) {
                            sb2.append(", avgMinFreq=");
                            sb2.append(j2 / j);
                        }
                        if (j3 > 0) {
                            sb2.append(", avgCurFreq=");
                            sb2.append(j4 / j3);
                        }
                        if (j5 > 0) {
                            sb2.append(", avgMaxFreq=");
                            sb2.append(j6 / j5);
                        }
                        if (j7 > 0) {
                            sb2.append(", avgCapacity=");
                            sb2.append(j8 / j7);
                        }
                        sb2.append("\n");
                        sb2.append((CharSequence) sb);
                        ProfileActivity.this.listCodecs(MediaController.VIDEO_MIME_TYPE, sb2);
                        ProfileActivity.this.listCodecs("video/hevc", sb2);
                        ProfileActivity.this.listCodecs("video/x-vnd.on2.vp8", sb2);
                        ProfileActivity.this.listCodecs("video/x-vnd.on2.vp9", sb2);
                        ProfileActivity.this.showDialog(new 1(ProfileActivity.this.getParentActivity(), null, sb2.toString(), false, null, false));
                    } else if (i == 21) {
                        AlertDialog.Builder builder = new AlertDialog.Builder(ProfileActivity.this.getParentActivity(), ProfileActivity.this.resourcesProvider);
                        builder.setTitle("Force performance class");
                        int devicePerformanceClass = SharedConfig.getDevicePerformanceClass();
                        final int measureDevicePerformanceClass = SharedConfig.measureDevicePerformanceClass();
                        StringBuilder sb3 = new StringBuilder();
                        sb3.append(devicePerformanceClass == 2 ? "**HIGH**" : "HIGH");
                        sb3.append(measureDevicePerformanceClass == 2 ? " (measured)" : "");
                        SpannableStringBuilder replaceTags = AndroidUtilities.replaceTags(sb3.toString());
                        StringBuilder sb4 = new StringBuilder();
                        sb4.append(devicePerformanceClass == 1 ? "**AVERAGE**" : "AVERAGE");
                        sb4.append(measureDevicePerformanceClass == 1 ? " (measured)" : "");
                        SpannableStringBuilder replaceTags2 = AndroidUtilities.replaceTags(sb4.toString());
                        StringBuilder sb5 = new StringBuilder();
                        sb5.append(devicePerformanceClass == 0 ? "**LOW**" : "LOW");
                        sb5.append(measureDevicePerformanceClass == 0 ? " (measured)" : "");
                        builder.setItems(new CharSequence[]{replaceTags, replaceTags2, AndroidUtilities.replaceTags(sb5.toString())}, new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$16$$ExternalSyntheticLambda5
                            @Override // android.content.DialogInterface.OnClickListener
                            public final void onClick(DialogInterface dialogInterface2, int i10) {
                                ProfileActivity.16.lambda$onItemClick$2(measureDevicePerformanceClass, dialogInterface2, i10);
                            }
                        });
                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
                        builder.show();
                    } else if (i == 22) {
                        SharedConfig.toggleRoundCamera();
                    } else if (i == 23) {
                        boolean dualAvailableStatic = DualCameraView.dualAvailableStatic(ProfileActivity.this.getContext());
                        MessagesController.getGlobalMainSettings().edit().putBoolean("dual_available", true ^ dualAvailableStatic).apply();
                        Toast.makeText(ProfileActivity.this.getParentActivity(), LocaleController.getString(!dualAvailableStatic ? R.string.DebugMenuDualOnToast : R.string.DebugMenuDualOffToast), 0).show();
                    } else if (i == 24) {
                        SharedConfig.toggleSurfaceInStories();
                        while (i5 < ProfileActivity.this.getParentLayout().getFragmentStack().size()) {
                            ((BaseFragment) ProfileActivity.this.getParentLayout().getFragmentStack().get(i5)).clearSheets();
                            i5++;
                        }
                    } else if (i == 25) {
                        SharedConfig.togglePhotoViewerBlur();
                    } else if (i == 26) {
                        SharedConfig.togglePaymentByInvoice();
                    } else if (i == 27) {
                        ProfileActivity.this.getMediaDataController().loadAttachMenuBots(false, true);
                    } else if (i == 28) {
                        SharedConfig.toggleUseCamera2(((BaseFragment) ProfileActivity.this).currentAccount);
                    } else if (i == 29) {
                        BotBiometry.clear();
                    } else if (i == 30) {
                        AuthTokensHelper.clearLogInTokens();
                    } else if (i == 31) {
                        SharedConfig.toggleUseNewBlur();
                    } else if (i == 32) {
                        SharedConfig.setBotTabs3DEffect(!SharedConfig.botTabs3DEffect);
                    } else if (i == 33) {
                        SharedConfig.toggleBrowserAdaptableColors();
                    }
                } catch (Exception unused) {
                }
            }
        }

        @Override // org.telegram.ui.Components.RecyclerListView.OnItemLongClickListener
        public boolean onItemClick(View view, int i) {
            ArrayList arrayList;
            int i2;
            int i3;
            String str;
            String string;
            int i4;
            String str2;
            String str3;
            if (i != ProfileActivity.this.versionRow) {
                if (i >= ProfileActivity.this.membersStartRow && i < ProfileActivity.this.membersEndRow) {
                    if (ProfileActivity.this.sortedUsers.isEmpty()) {
                        arrayList = ProfileActivity.this.visibleChatParticipants;
                        i2 = i - ProfileActivity.this.membersStartRow;
                    } else {
                        arrayList = ProfileActivity.this.visibleChatParticipants;
                        i2 = ((Integer) ProfileActivity.this.sortedUsers.get(i - ProfileActivity.this.membersStartRow)).intValue();
                    }
                    return ProfileActivity.this.onMemberClick((TLRPC$ChatParticipant) arrayList.get(i2), true, view);
                }
                ProfileActivity profileActivity = ProfileActivity.this;
                if (i != profileActivity.birthdayRow) {
                    if (profileActivity.editRow(view, i)) {
                        return true;
                    }
                    return ProfileActivity.this.processOnClickOrPress(i, view, view.getWidth() / 2.0f, (int) (view.getHeight() * 0.75f));
                } else if (profileActivity.editRow(view, i)) {
                    return true;
                } else {
                    if (ProfileActivity.this.userInfo == null) {
                        return false;
                    }
                    try {
                        AndroidUtilities.addToClipboard(UserInfoActivity.birthdayString(ProfileActivity.this.userInfo.birthday));
                        BulletinFactory.of(ProfileActivity.this).createCopyBulletin(LocaleController.getString(R.string.BirthdayCopied)).show();
                        return true;
                    } catch (Exception e) {
                        FileLog.e(e);
                        return true;
                    }
                }
            }
            int i5 = this.pressCount + 1;
            this.pressCount = i5;
            if (i5 < 2 && !BuildVars.DEBUG_PRIVATE_VERSION) {
                try {
                    Toast.makeText(ProfileActivity.this.getParentActivity(), LocaleController.getString("DebugMenuLongPress", R.string.DebugMenuLongPress), 0).show();
                } catch (Exception e2) {
                    FileLog.e(e2);
                }
                return true;
            }
            AlertDialog.Builder builder = new AlertDialog.Builder(ProfileActivity.this.getParentActivity(), ProfileActivity.this.resourcesProvider);
            builder.setTitle(LocaleController.getString("DebugMenu", R.string.DebugMenu));
            String string2 = LocaleController.getString("DebugMenuImportContacts", R.string.DebugMenuImportContacts);
            String string3 = LocaleController.getString("DebugMenuReloadContacts", R.string.DebugMenuReloadContacts);
            String string4 = LocaleController.getString("DebugMenuResetContacts", R.string.DebugMenuResetContacts);
            String string5 = LocaleController.getString("DebugMenuResetDialogs", R.string.DebugMenuResetDialogs);
            if (BuildVars.DEBUG_VERSION) {
                string = null;
            } else {
                if (BuildVars.LOGS_ENABLED) {
                    i3 = R.string.DebugMenuDisableLogs;
                    str = "DebugMenuDisableLogs";
                } else {
                    i3 = R.string.DebugMenuEnableLogs;
                    str = "DebugMenuEnableLogs";
                }
                string = LocaleController.getString(str, i3);
            }
            if (SharedConfig.inappCamera) {
                i4 = R.string.DebugMenuDisableCamera;
                str2 = "DebugMenuDisableCamera";
            } else {
                i4 = R.string.DebugMenuEnableCamera;
                str2 = "DebugMenuEnableCamera";
            }
            String string6 = LocaleController.getString(str2, i4);
            String string7 = LocaleController.getString("DebugMenuClearMediaCache", R.string.DebugMenuClearMediaCache);
            String string8 = LocaleController.getString("DebugMenuCallSettings", R.string.DebugMenuCallSettings);
            String string9 = (BuildVars.DEBUG_PRIVATE_VERSION || ApplicationLoader.isStandaloneBuild()) ? LocaleController.getString("DebugMenuCheckAppUpdate", R.string.DebugMenuCheckAppUpdate) : null;
            String string10 = LocaleController.getString("DebugMenuReadAllDialogs", R.string.DebugMenuReadAllDialogs);
            String str4 = BuildVars.DEBUG_PRIVATE_VERSION ? SharedConfig.disableVoiceAudioEffects ? "Enable voip audio effects" : "Disable voip audio effects" : null;
            boolean z = BuildVars.DEBUG_PRIVATE_VERSION;
            String str5 = z ? "Clean app update" : null;
            String str6 = z ? "Reset suggestions" : null;
            String string11 = z ? LocaleController.getString(R.string.DebugMenuClearWebViewCache) : null;
            String string12 = LocaleController.getString(R.string.DebugMenuClearWebViewCookies);
            int i6 = Build.VERSION.SDK_INT;
            String string13 = LocaleController.getString(SharedConfig.debugWebView ? R.string.DebugMenuDisableWebViewDebug : R.string.DebugMenuEnableWebViewDebug);
            String str7 = (AndroidUtilities.isTabletInternal() && BuildVars.DEBUG_PRIVATE_VERSION) ? SharedConfig.forceDisableTabletMode ? "Enable tablet mode" : "Disable tablet mode" : null;
            if (BuildVars.DEBUG_PRIVATE_VERSION) {
                str3 = LocaleController.getString(SharedConfig.isFloatingDebugActive ? R.string.FloatingDebugDisable : R.string.FloatingDebugEnable);
            } else {
                str3 = null;
            }
            boolean z2 = BuildVars.DEBUG_PRIVATE_VERSION;
            CharSequence[] charSequenceArr = {string2, string3, string4, string5, string, string6, string7, string8, null, string9, string10, str4, str5, str6, string11, string12, string13, str7, str3, z2 ? "Force remove premium suggestions" : null, z2 ? "Share device info" : null, z2 ? "Force performance class" : null, (!z2 || InstantCameraView.allowBigSizeCameraDebug()) ? null : !SharedConfig.bigCameraForRound ? "Force big camera for round" : "Disable big camera for round", LocaleController.getString(DualCameraView.dualAvailableStatic(ProfileActivity.this.getContext()) ? "DebugMenuDualOff" : "DebugMenuDualOn"), BuildVars.DEBUG_VERSION ? SharedConfig.useSurfaceInStories ? "back to TextureView in stories" : "use SurfaceView in stories" : null, BuildVars.DEBUG_PRIVATE_VERSION ? SharedConfig.photoViewerBlur ? "do not blur in photoviewer" : "blur in photoviewer" : null, !SharedConfig.payByInvoice ? "Enable Invoice Payment" : "Disable Invoice Payment", BuildVars.DEBUG_PRIVATE_VERSION ? "Update Attach Bots" : null, i6 >= 21 ? !SharedConfig.isUsingCamera2(((BaseFragment) ProfileActivity.this).currentAccount) ? "Use Camera 2 API" : "Use old Camera 1 API" : null, BuildVars.DEBUG_VERSION ? "Clear bot biometry data" : null, BuildVars.DEBUG_PRIVATE_VERSION ? "Clear all login tokens" : null, (!SharedConfig.canBlurChat() || i6 < 31) ? null : SharedConfig.useNewBlur ? "back to cpu blur" : "use new gpu blur", BuildVars.DEBUG_PRIVATE_VERSION ? SharedConfig.botTabs3DEffect ? "disable tabs 3d effect" : "enable tabs 3d effect" : null, SharedConfig.adaptableColorInBrowser ? "Disabled adaptive browser colors" : "Enable adaptive browser colors"};
            final Context context = this.val$context;
            builder.setItems(charSequenceArr, new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$16$$ExternalSyntheticLambda3
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i7) {
                    ProfileActivity.16.this.lambda$onItemClick$3(context, dialogInterface, i7);
                }
            });
            builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
            ProfileActivity.this.showDialog(builder.create());
            return true;
        }
    }

    /* loaded from: classes4.dex */
    public class 19 implements ChatRightsEditActivity.ChatRightsEditActivityDelegate {
        final /* synthetic */ TLRPC$Chat val$chat;
        final /* synthetic */ ChatRightsEditActivity val$fragment;

        19(TLRPC$Chat tLRPC$Chat, ChatRightsEditActivity chatRightsEditActivity) {
            ProfileActivity.this = r1;
            this.val$chat = tLRPC$Chat;
            this.val$fragment = chatRightsEditActivity;
        }

        public static /* synthetic */ void lambda$didSetRights$0(BaseFragment baseFragment, TLRPC$User tLRPC$User, TLRPC$Chat tLRPC$Chat) {
            BulletinFactory.createRemoveFromChatBulletin(baseFragment, tLRPC$User, tLRPC$Chat.title).show();
        }

        @Override // org.telegram.ui.ChatRightsEditActivity.ChatRightsEditActivityDelegate
        public void didChangeOwner(TLRPC$User tLRPC$User) {
            ProfileActivity.this.undoView.showWithAction(-ProfileActivity.this.chatId, ProfileActivity.this.currentChat.megagroup ? 10 : 9, tLRPC$User);
        }

        @Override // org.telegram.ui.ChatRightsEditActivity.ChatRightsEditActivityDelegate
        public void didSetRights(int i, TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights, TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights, String str) {
            ChatRightsEditActivity chatRightsEditActivity;
            ProfileActivity.this.removeSelfFromStack();
            final TLRPC$User user = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
            if (user == null || this.val$chat == null || ProfileActivity.this.userId == 0 || (chatRightsEditActivity = this.val$fragment) == null || !chatRightsEditActivity.banning || chatRightsEditActivity.getParentLayout() == null) {
                return;
            }
            for (final BaseFragment baseFragment : this.val$fragment.getParentLayout().getFragmentStack()) {
                if (baseFragment instanceof ChannelAdminLogActivity) {
                    ((ChannelAdminLogActivity) baseFragment).lambda$processSelectedOption$20();
                    final TLRPC$Chat tLRPC$Chat = this.val$chat;
                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$19$$ExternalSyntheticLambda0
                        @Override // java.lang.Runnable
                        public final void run() {
                            ProfileActivity.19.lambda$didSetRights$0(BaseFragment.this, user, tLRPC$Chat);
                        }
                    });
                    return;
                }
            }
        }
    }

    /* loaded from: classes4.dex */
    public class 20 extends FrameLayout {
        CanvasButton canvasButton;

        /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
        20(Context context) {
            super(context);
            ProfileActivity.this = r1;
        }

        public /* synthetic */ void lambda$dispatchDraw$0() {
            if (ProfileActivity.this.customAvatarProgress != 1.0f) {
                ProfileActivity.this.avatarsViewPager.scrollToLastItem();
            }
        }

        @Override // android.view.ViewGroup, android.view.View
        protected void dispatchDraw(Canvas canvas) {
            super.dispatchDraw(canvas);
            if (ProfileActivity.this.transitionOnlineText != null) {
                canvas.save();
                canvas.translate(ProfileActivity.this.onlineTextView[0].getX(), ProfileActivity.this.onlineTextView[0].getY());
                canvas.saveLayerAlpha(0.0f, 0.0f, ProfileActivity.this.transitionOnlineText.getMeasuredWidth(), ProfileActivity.this.transitionOnlineText.getMeasuredHeight(), (int) ((1.0f - ProfileActivity.this.avatarAnimationProgress) * 255.0f), 31);
                ProfileActivity.this.transitionOnlineText.draw(canvas);
                canvas.restore();
                canvas.restore();
                invalidate();
            }
            if (ProfileActivity.this.hasFallbackPhoto) {
                ProfileActivity profileActivity = ProfileActivity.this;
                if (profileActivity.photoDescriptionProgress == 0.0f || profileActivity.customAvatarProgress == 1.0f) {
                    return;
                }
                float y = ProfileActivity.this.onlineTextView[1].getY() + (ProfileActivity.this.onlineTextView[1].getMeasuredHeight() / 2.0f);
                float dp = AndroidUtilities.dp(22.0f);
                float dp2 = ((AndroidUtilities.dp(28.0f) - ProfileActivity.this.customPhotoOffset) + ProfileActivity.this.onlineTextView[1].getX()) - dp;
                ProfileActivity.this.fallbackImage.setImageCoords(dp2, y - (dp / 2.0f), dp, dp);
                ProfileActivity.this.fallbackImage.setAlpha(ProfileActivity.this.photoDescriptionProgress);
                canvas.save();
                ProfileActivity profileActivity2 = ProfileActivity.this;
                float f = profileActivity2.photoDescriptionProgress;
                canvas.scale(f, f, profileActivity2.fallbackImage.getCenterX(), ProfileActivity.this.fallbackImage.getCenterY());
                ProfileActivity.this.fallbackImage.draw(canvas);
                canvas.restore();
                if (ProfileActivity.this.customAvatarProgress != 0.0f) {
                    CanvasButton canvasButton = this.canvasButton;
                    if (canvasButton != null) {
                        canvasButton.cancelRipple();
                        return;
                    }
                    return;
                }
                if (this.canvasButton == null) {
                    CanvasButton canvasButton2 = new CanvasButton(this);
                    this.canvasButton = canvasButton2;
                    canvasButton2.setDelegate(new Runnable() { // from class: org.telegram.ui.ProfileActivity$20$$ExternalSyntheticLambda0
                        @Override // java.lang.Runnable
                        public final void run() {
                            ProfileActivity.20.this.lambda$dispatchDraw$0();
                        }
                    });
                }
                RectF rectF = AndroidUtilities.rectTmp;
                rectF.set(dp2 - AndroidUtilities.dp(4.0f), y - AndroidUtilities.dp(14.0f), dp2 + ProfileActivity.this.onlineTextView[2].getTextWidth() + (AndroidUtilities.dp(28.0f) * (1.0f - ProfileActivity.this.customAvatarProgress)) + AndroidUtilities.dp(4.0f), y + AndroidUtilities.dp(14.0f));
                this.canvasButton.setRect(rectF);
                this.canvasButton.setRounded(true);
                this.canvasButton.setColor(0, ColorUtils.setAlphaComponent(-1, 50));
                this.canvasButton.draw(canvas);
            }
        }

        @Override // android.view.ViewGroup, android.view.View
        protected void onAttachedToWindow() {
            super.onAttachedToWindow();
            ProfileActivity.this.fallbackImage.onAttachedToWindow();
        }

        @Override // android.view.ViewGroup, android.view.View
        protected void onDetachedFromWindow() {
            super.onDetachedFromWindow();
            ProfileActivity.this.fallbackImage.onDetachedFromWindow();
        }

        @Override // android.view.ViewGroup
        public boolean onInterceptTouchEvent(MotionEvent motionEvent) {
            CanvasButton canvasButton = this.canvasButton;
            return (canvasButton != null && canvasButton.checkTouchEvent(motionEvent)) || super.onInterceptTouchEvent(motionEvent);
        }

        @Override // android.view.View
        public boolean onTouchEvent(MotionEvent motionEvent) {
            CanvasButton canvasButton = this.canvasButton;
            return (canvasButton != null && canvasButton.checkTouchEvent(motionEvent)) || super.onTouchEvent(motionEvent);
        }
    }

    /* loaded from: classes4.dex */
    public class 40 extends ShareAlert {
        /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
        40(Context context, ArrayList arrayList, String str, boolean z, String str2, boolean z2) {
            super(context, arrayList, str, z, str2, z2);
            ProfileActivity.this = r8;
        }

        public /* synthetic */ void lambda$onSend$0(LongSparseArray longSparseArray, int i) {
            BulletinFactory.createInviteSentBulletin(ProfileActivity.this.getParentActivity(), ProfileActivity.this.contentView, longSparseArray.size(), longSparseArray.size() == 1 ? ((TLRPC$Dialog) longSparseArray.valueAt(0)).id : 0L, i, getThemedColor(Theme.key_undo_background), getThemedColor(Theme.key_undo_infoColor)).show();
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.ShareAlert
        public void onSend(final LongSparseArray longSparseArray, final int i, TLRPC$TL_forumTopic tLRPC$TL_forumTopic) {
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$40$$ExternalSyntheticLambda0
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.40.this.lambda$onSend$0(longSparseArray, i);
                }
            }, 250L);
        }
    }

    /* loaded from: classes4.dex */
    public class 6 extends ActionBar.ActionBarMenuOnItemClick {
        6() {
            ProfileActivity.this = r1;
        }

        public /* synthetic */ void lambda$onItemClick$0(int i) {
            if (i != 1) {
                ProfileActivity.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.peerSettingsDidLoad, Long.valueOf(ProfileActivity.this.userId));
                return;
            }
            NotificationCenter notificationCenter = ProfileActivity.this.getNotificationCenter();
            ProfileActivity profileActivity = ProfileActivity.this;
            int i2 = NotificationCenter.closeChats;
            notificationCenter.removeObserver(profileActivity, i2);
            ProfileActivity.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(i2, new Object[0]);
            ProfileActivity.this.playProfileAnimation = 0;
            ProfileActivity.this.finishFragment();
        }

        public /* synthetic */ void lambda$onItemClick$1(DialogInterface dialogInterface, int i) {
            ProfileActivity.this.getMessagesController().blockPeer(ProfileActivity.this.userId);
            if (BulletinFactory.canShowBulletin(ProfileActivity.this)) {
                BulletinFactory.createBanBulletin(ProfileActivity.this, true).show();
            }
        }

        public /* synthetic */ void lambda$onItemClick$10(boolean z, Uri uri) {
            if (ProfileActivity.this.getParentActivity() == null) {
                return;
            }
            BulletinFactory.createSaveToGalleryBulletin(ProfileActivity.this, z, (Theme.ResourcesProvider) null).show();
        }

        public /* synthetic */ void lambda$onItemClick$11(TLObject tLObject, UserConfig userConfig, TLRPC$Photo tLRPC$Photo) {
            ProfileActivity.this.avatarsViewPager.finishSettingMainPhoto();
            if (tLObject instanceof TLRPC$TL_photos_photo) {
                TLRPC$TL_photos_photo tLRPC$TL_photos_photo = (TLRPC$TL_photos_photo) tLObject;
                ProfileActivity.this.getMessagesController().putUsers(tLRPC$TL_photos_photo.users, false);
                TLRPC$User user = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(userConfig.clientUserId));
                if (tLRPC$TL_photos_photo.photo instanceof TLRPC$TL_photo) {
                    ProfileActivity.this.avatarsViewPager.replaceFirstPhoto(tLRPC$Photo, tLRPC$TL_photos_photo.photo);
                    if (user != null) {
                        user.photo.photo_id = tLRPC$TL_photos_photo.photo.id;
                        userConfig.setCurrentUser(user);
                        userConfig.saveConfig(true);
                    }
                }
            }
        }

        public /* synthetic */ void lambda$onItemClick$12(final UserConfig userConfig, final TLRPC$Photo tLRPC$Photo, final TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda12
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.6.this.lambda$onItemClick$11(tLObject, userConfig, tLRPC$Photo);
                }
            });
        }

        public /* synthetic */ void lambda$onItemClick$13(DialogInterface dialogInterface, int i) {
            TLRPC$Photo tLRPC$Photo;
            int realPosition = ProfileActivity.this.avatarsViewPager.getRealPosition();
            TLRPC$Photo photo = ProfileActivity.this.avatarsViewPager.getPhoto(realPosition);
            TLRPC$UserFull userInfo = ProfileActivity.this.getUserInfo();
            if (ProfileActivity.this.avatar != null && realPosition == 0) {
                ProfileActivity.this.imageUpdater.cancel();
                ProfileActivity profileActivity = ProfileActivity.this;
                if (profileActivity.avatarUploadingRequest != 0) {
                    profileActivity.getConnectionsManager().cancelRequest(ProfileActivity.this.avatarUploadingRequest, true);
                }
                ProfileActivity.this.allowPullingDown = (AndroidUtilities.isTablet() || ProfileActivity.this.isInLandscapeMode || !ProfileActivity.this.avatarImage.getImageReceiver().hasNotThumb() || AndroidUtilities.isAccessibilityScreenReaderEnabled()) ? false : true;
                ProfileActivity.this.avatar = null;
                ProfileActivity.this.avatarBig = null;
                ProfileActivity.this.avatarsViewPager.scrolledByUser = true;
                ProfileActivity.this.avatarsViewPager.removeUploadingImage(ProfileActivity.this.uploadingImageLocation);
                ProfileActivity.this.avatarsViewPager.setCreateThumbFromParent(false);
                ProfileActivity.this.updateProfileData(true);
                ProfileActivity.this.showAvatarProgress(false, true);
                ProfileActivity.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.updateInterfaces, Integer.valueOf(MessagesController.UPDATE_MASK_ALL));
                ProfileActivity.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.mainUserInfoChanged, new Object[0]);
                ProfileActivity.this.getUserConfig().saveConfig(true);
                return;
            }
            if (ProfileActivity.this.hasFallbackPhoto && photo != null && userInfo != null && (tLRPC$Photo = userInfo.fallback_photo) != null && tLRPC$Photo.id == photo.id) {
                userInfo.fallback_photo = null;
                userInfo.flags &= -4194305;
                ProfileActivity.this.getMessagesStorage().updateUserInfo(userInfo, true);
                ProfileActivity.this.updateProfileData(false);
            }
            if (ProfileActivity.this.avatarsViewPager.getRealCount() == 1) {
                ProfileActivity.this.setForegroundImage(true);
            }
            if (photo == null || ProfileActivity.this.avatarsViewPager.getRealPosition() == 0) {
                TLRPC$Photo photo2 = ProfileActivity.this.avatarsViewPager.getPhoto(1);
                if (photo2 != null) {
                    ProfileActivity.this.getUserConfig().getCurrentUser().photo = new TLRPC$TL_userProfilePhoto();
                    TLRPC$PhotoSize closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(photo2.sizes, 90);
                    TLRPC$PhotoSize closestPhotoSizeWithSize2 = FileLoader.getClosestPhotoSizeWithSize(photo2.sizes, 1000);
                    if (closestPhotoSizeWithSize != null && closestPhotoSizeWithSize2 != null) {
                        ProfileActivity.this.getUserConfig().getCurrentUser().photo.photo_small = closestPhotoSizeWithSize.location;
                        ProfileActivity.this.getUserConfig().getCurrentUser().photo.photo_big = closestPhotoSizeWithSize2.location;
                    }
                } else {
                    ProfileActivity.this.getUserConfig().getCurrentUser().photo = new TLRPC$TL_userProfilePhotoEmpty();
                }
                ProfileActivity.this.getMessagesController().deleteUserPhoto(null);
            } else {
                TLRPC$TL_inputPhoto tLRPC$TL_inputPhoto = new TLRPC$TL_inputPhoto();
                tLRPC$TL_inputPhoto.id = photo.id;
                tLRPC$TL_inputPhoto.access_hash = photo.access_hash;
                byte[] bArr = photo.file_reference;
                tLRPC$TL_inputPhoto.file_reference = bArr;
                if (bArr == null) {
                    tLRPC$TL_inputPhoto.file_reference = new byte[0];
                }
                ProfileActivity.this.getMessagesController().deleteUserPhoto(tLRPC$TL_inputPhoto);
                ProfileActivity.this.getMessagesStorage().clearUserPhoto(ProfileActivity.this.userId, photo.id);
            }
            if (ProfileActivity.this.avatarsViewPager.removePhotoAtIndex(realPosition) || ProfileActivity.this.avatarsViewPager.getRealCount() <= 0) {
                ProfileActivity.this.avatarsViewPager.setVisibility(8);
                ProfileActivity.this.avatarImage.setForegroundAlpha(1.0f);
                ProfileActivity.this.avatarContainer.setVisibility(0);
                ProfileActivity.this.doNotSetForeground = true;
                View findViewByPosition = ProfileActivity.this.layoutManager.findViewByPosition(0);
                if (findViewByPosition != null) {
                    ProfileActivity.this.listView.smoothScrollBy(0, findViewByPosition.getTop() - AndroidUtilities.dp(88.0f), CubicBezierInterpolator.EASE_OUT_QUINT);
                }
            }
        }

        public /* synthetic */ void lambda$onItemClick$2(TLRPC$User tLRPC$User, boolean z) {
            if (ProfileActivity.this.getParentLayout() != null) {
                List fragmentStack = ProfileActivity.this.getParentLayout().getFragmentStack();
                if (((fragmentStack == null || fragmentStack.size() < 2) ? null : (BaseFragment) fragmentStack.get(fragmentStack.size() - 2)) instanceof ChatActivity) {
                    ProfileActivity.this.getParentLayout().removeFragmentFromStack(fragmentStack.size() - 2);
                }
            }
            ProfileActivity.this.finishFragment();
            ProfileActivity.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.needDeleteDialog, Long.valueOf(ProfileActivity.this.dialogId), tLRPC$User, ProfileActivity.this.currentChat, Boolean.valueOf(z));
        }

        public /* synthetic */ void lambda$onItemClick$3() {
            ProfileActivity.this.getSendMessagesHelper().sendMessage(SendMessagesHelper.SendMessageParams.of("/start", ProfileActivity.this.userId, null, null, null, false, null, null, null, true, 0, null, false));
        }

        public /* synthetic */ void lambda$onItemClick$4(TLRPC$User tLRPC$User, DialogInterface dialogInterface, int i) {
            ArrayList<TLRPC$User> arrayList = new ArrayList<>();
            arrayList.add(tLRPC$User);
            ProfileActivity.this.getContactsController().deleteContact(arrayList, true);
            if (tLRPC$User != null) {
                tLRPC$User.contact = false;
                ProfileActivity.this.updateListAnimated(false);
            }
        }

        public /* synthetic */ void lambda$onItemClick$5(long j, TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights, String str, boolean z, final DialogsActivity dialogsActivity) {
            ChatRightsEditActivity chatRightsEditActivity = new ChatRightsEditActivity(ProfileActivity.this.userId, -j, tLRPC$TL_chatAdminRights, null, null, str, 2, true, !z, null);
            chatRightsEditActivity.setDelegate(new ChatRightsEditActivity.ChatRightsEditActivityDelegate() { // from class: org.telegram.ui.ProfileActivity.6.3
                {
                    6.this = this;
                }

                @Override // org.telegram.ui.ChatRightsEditActivity.ChatRightsEditActivityDelegate
                public void didChangeOwner(TLRPC$User tLRPC$User) {
                }

                @Override // org.telegram.ui.ChatRightsEditActivity.ChatRightsEditActivityDelegate
                public void didSetRights(int i, TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights2, TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights, String str2) {
                    ProfileActivity.this.disableProfileAnimation = true;
                    dialogsActivity.removeSelfFromStack();
                    NotificationCenter notificationCenter = ProfileActivity.this.getNotificationCenter();
                    ProfileActivity profileActivity = ProfileActivity.this;
                    int i2 = NotificationCenter.closeChats;
                    notificationCenter.removeObserver(profileActivity, i2);
                    ProfileActivity.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(i2, new Object[0]);
                }
            });
            ProfileActivity.this.presentFragment(chatRightsEditActivity);
        }

        public /* synthetic */ void lambda$onItemClick$6(final long j, final DialogsActivity dialogsActivity, final boolean z, final TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights, final String str) {
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda13
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.6.this.lambda$onItemClick$5(j, tLRPC$TL_chatAdminRights, str, z, dialogsActivity);
                }
            });
        }

        public /* synthetic */ void lambda$onItemClick$7(long j, DialogsActivity dialogsActivity, TLRPC$User tLRPC$User, DialogInterface dialogInterface, int i) {
            ProfileActivity.this.disableProfileAnimation = true;
            Bundle bundle = new Bundle();
            bundle.putBoolean("scrollToTopOnResume", true);
            long j2 = -j;
            bundle.putLong("chat_id", j2);
            if (ProfileActivity.this.getMessagesController().checkCanOpenChat(bundle, dialogsActivity)) {
                ChatActivity chatActivity = new ChatActivity(bundle);
                NotificationCenter notificationCenter = ProfileActivity.this.getNotificationCenter();
                ProfileActivity profileActivity = ProfileActivity.this;
                int i2 = NotificationCenter.closeChats;
                notificationCenter.removeObserver(profileActivity, i2);
                ProfileActivity.this.getNotificationCenter().lambda$postNotificationNameOnUIThread$1(i2, new Object[0]);
                ProfileActivity.this.getMessagesController().addUserToChat(j2, tLRPC$User, 0, null, chatActivity, true, null, null);
                ProfileActivity.this.presentFragment(chatActivity, true);
            }
        }

        public /* synthetic */ boolean lambda$onItemClick$8(final TLRPC$User tLRPC$User, final DialogsActivity dialogsActivity, final DialogsActivity dialogsActivity2, ArrayList arrayList, CharSequence charSequence, boolean z, TopicsFragment topicsFragment) {
            TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights;
            final long j = ((MessagesStorage.TopicKey) arrayList.get(0)).dialogId;
            TLRPC$Chat chat = MessagesController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getChat(Long.valueOf(-j));
            if (chat == null || (!chat.creator && ((tLRPC$TL_chatAdminRights = chat.admin_rights) == null || !tLRPC$TL_chatAdminRights.add_admins))) {
                AlertDialog.Builder builder = new AlertDialog.Builder(ProfileActivity.this.getParentActivity(), ProfileActivity.this.resourcesProvider);
                int i = R.string.AddBot;
                builder.setTitle(LocaleController.getString(i));
                builder.setMessage(AndroidUtilities.replaceTags(LocaleController.formatString("AddMembersAlertNamesText", R.string.AddMembersAlertNamesText, UserObject.getUserName(tLRPC$User), chat == null ? "" : chat.title)));
                builder.setNegativeButton(LocaleController.getString(R.string.Cancel), null);
                builder.setPositiveButton(LocaleController.getString(i), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda11
                    @Override // android.content.DialogInterface.OnClickListener
                    public final void onClick(DialogInterface dialogInterface, int i2) {
                        ProfileActivity.6.this.lambda$onItemClick$7(j, dialogsActivity2, tLRPC$User, dialogInterface, i2);
                    }
                });
                ProfileActivity.this.showDialog(builder.create());
            } else {
                ProfileActivity.this.getMessagesController().checkIsInChat(false, chat, tLRPC$User, new MessagesController.IsInChatCheckedCallback() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda10
                    @Override // org.telegram.messenger.MessagesController.IsInChatCheckedCallback
                    public final void run(boolean z2, TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights2, String str) {
                        ProfileActivity.6.this.lambda$onItemClick$6(j, dialogsActivity, z2, tLRPC$TL_chatAdminRights2, str);
                    }
                });
            }
            return true;
        }

        public /* synthetic */ void lambda$onItemClick$9(DialogInterface dialogInterface, int i) {
            ProfileActivity.this.creatingChat = true;
            ProfileActivity.this.getSecretChatHelper().startSecretChat(ProfileActivity.this.getParentActivity(), ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId)));
        }

        /* JADX WARN: Multi-variable type inference failed */
        /* JADX WARN: Removed duplicated region for block: B:472:0x04e1 A[RETURN] */
        /* JADX WARN: Removed duplicated region for block: B:473:0x04e2 A[Catch: Exception -> 0x041e, TRY_LEAVE, TryCatch #0 {Exception -> 0x041e, blocks: (B:442:0x03a6, B:445:0x03b4, B:448:0x03cb, B:450:0x03d3, B:452:0x03db, B:454:0x03e9, B:470:0x04db, B:473:0x04e2, B:458:0x0421, B:459:0x0448, B:461:0x0452, B:464:0x0469, B:466:0x0471, B:468:0x047f, B:469:0x04b3, B:478:0x050f, B:480:0x0517, B:487:0x0547, B:481:0x0525, B:483:0x052f, B:484:0x0536, B:486:0x0540), top: B:639:0x03a4 }] */
        @Override // org.telegram.ui.ActionBar.ActionBar.ActionBarMenuOnItemClick
        /*
            Code decompiled incorrectly, please refer to instructions dump.
        */
        public void onItemClick(int i) {
            ProfileActivity profileActivity;
            BaseFragment qrActivity;
            String formatString;
            TextView textView;
            int checkSelfPermission;
            ProfileActivity profileActivity2;
            BaseFragment create;
            long j;
            String format;
            int color;
            UserInfoActivity userInfoActivity;
            ProfileActivity profileActivity3;
            MediaActivity mediaActivity;
            if (ProfileActivity.this.getParentActivity() == null) {
                return;
            }
            if (i != -1) {
                String str = null;
                String str2 = null;
                if (i != 2) {
                    if (i == 1) {
                        TLRPC$User user = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
                        Bundle bundle = new Bundle();
                        bundle.putLong("user_id", user.id);
                        bundle.putBoolean("addContact", true);
                        ProfileActivity.this.openAddToContact(user, bundle);
                        return;
                    }
                    if (i != 3) {
                        if (i == 4) {
                            Bundle bundle2 = new Bundle();
                            bundle2.putLong("user_id", ProfileActivity.this.userId);
                            profileActivity = ProfileActivity.this;
                            qrActivity = new ContactAddActivity(bundle2, profileActivity.resourcesProvider);
                        } else if (i != 5) {
                            if (i == 7) {
                                ProfileActivity.this.leaveChatPressed();
                                return;
                            } else if (i == 23) {
                                AlertDialog.Builder builder = new AlertDialog.Builder(ProfileActivity.this.getContext());
                                builder.setTitle(LocaleController.getPluralString("DeleteTopics", 1));
                                TLRPC$TL_forumTopic findTopic = MessagesController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getTopicsController().findTopic(ProfileActivity.this.chatId, ProfileActivity.this.topicId);
                                builder.setMessage(LocaleController.formatString("DeleteSelectedTopic", R.string.DeleteSelectedTopic, findTopic == null ? "topic" : findTopic.title));
                                builder.setPositiveButton(LocaleController.getString(R.string.Delete), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity.6.1
                                    {
                                        6.this = this;
                                    }

                                    @Override // android.content.DialogInterface.OnClickListener
                                    public void onClick(DialogInterface dialogInterface, int i2) {
                                        ArrayList<Integer> arrayList = new ArrayList<>();
                                        arrayList.add(Integer.valueOf((int) ProfileActivity.this.topicId));
                                        ProfileActivity.this.getMessagesController().getTopicsController().deleteTopics(ProfileActivity.this.chatId, arrayList);
                                        ProfileActivity.this.playProfileAnimation = 0;
                                        if (((BaseFragment) ProfileActivity.this).parentLayout != null && ((BaseFragment) ProfileActivity.this).parentLayout.getFragmentStack() != null) {
                                            for (int i3 = 0; i3 < ((BaseFragment) ProfileActivity.this).parentLayout.getFragmentStack().size(); i3++) {
                                                BaseFragment baseFragment = (BaseFragment) ((BaseFragment) ProfileActivity.this).parentLayout.getFragmentStack().get(i3);
                                                if ((baseFragment instanceof ChatActivity) && ((ChatActivity) baseFragment).getTopicId() == ProfileActivity.this.topicId) {
                                                    baseFragment.removeSelfFromStack();
                                                }
                                            }
                                        }
                                        ProfileActivity.this.finishFragment();
                                        Context context = ProfileActivity.this.getContext();
                                        if (context != null) {
                                            BulletinFactory.of(Bulletin.BulletinWindow.make(context), ProfileActivity.this.resourcesProvider).createSimpleBulletin(R.raw.ic_delete, LocaleController.getPluralString("TopicsDeleted", 1)).show();
                                        }
                                        dialogInterface.dismiss();
                                    }
                                });
                                builder.setNegativeButton(LocaleController.getString(R.string.Cancel), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity.6.2
                                    {
                                        6.this = this;
                                    }

                                    @Override // android.content.DialogInterface.OnClickListener
                                    public void onClick(DialogInterface dialogInterface, int i2) {
                                        dialogInterface.dismiss();
                                    }
                                });
                                AlertDialog create2 = builder.create();
                                create2.show();
                                textView = (TextView) create2.getButton(-1);
                                if (textView != null) {
                                    color = Theme.getColor(Theme.key_text_RedBold);
                                    textView.setTextColor(color);
                                    return;
                                }
                                return;
                            } else if (i == 24) {
                                Activity parentActivity = ProfileActivity.this.getParentActivity();
                                long dialogId = ProfileActivity.this.getDialogId();
                                ProfileActivity profileActivity4 = ProfileActivity.this;
                                AlertsCreator.createReportAlert(parentActivity, dialogId, 0, 0, profileActivity4, profileActivity4.resourcesProvider, null);
                                return;
                            } else {
                                if (i == 12) {
                                    if (ProfileActivity.this.isTopic) {
                                        new Bundle().putLong("chat_id", ProfileActivity.this.chatId);
                                        create = TopicCreateFragment.create(ProfileActivity.this.chatId, ProfileActivity.this.topicId);
                                        profileActivity2 = ProfileActivity.this;
                                        profileActivity2.presentFragment(create);
                                        return;
                                    }
                                    Bundle bundle3 = new Bundle();
                                    int i2 = (ProfileActivity.this.chatId > 0L ? 1 : (ProfileActivity.this.chatId == 0L ? 0 : -1));
                                    ProfileActivity profileActivity5 = ProfileActivity.this;
                                    if (i2 != 0) {
                                        bundle3.putLong("chat_id", profileActivity5.chatId);
                                    } else if (profileActivity5.isBot) {
                                        bundle3.putLong("user_id", ProfileActivity.this.userId);
                                    }
                                    ChatEditActivity chatEditActivity = new ChatEditActivity(bundle3);
                                    if (ProfileActivity.this.chatInfo != null) {
                                        chatEditActivity.setInfo(ProfileActivity.this.chatInfo);
                                        mediaActivity = chatEditActivity;
                                    } else {
                                        chatEditActivity.setInfo(ProfileActivity.this.userInfo);
                                        mediaActivity = chatEditActivity;
                                    }
                                } else if (i == 41) {
                                    profileActivity3 = ProfileActivity.this;
                                    userInfoActivity = new UserInfoActivity();
                                } else if (i == 9) {
                                    final TLRPC$User user2 = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
                                    if (user2 == null) {
                                        return;
                                    }
                                    Bundle bundle4 = new Bundle();
                                    bundle4.putBoolean("onlySelect", true);
                                    bundle4.putInt("dialogsType", 2);
                                    bundle4.putBoolean("resetDelegate", false);
                                    bundle4.putBoolean("closeFragment", false);
                                    final DialogsActivity dialogsActivity = new DialogsActivity(bundle4);
                                    dialogsActivity.setDelegate(new DialogsActivity.DialogsActivityDelegate() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda7
                                        @Override // org.telegram.ui.DialogsActivity.DialogsActivityDelegate
                                        public final boolean didSelectDialogs(DialogsActivity dialogsActivity2, ArrayList arrayList, CharSequence charSequence, boolean z, TopicsFragment topicsFragment) {
                                            boolean lambda$onItemClick$8;
                                            lambda$onItemClick$8 = ProfileActivity.6.this.lambda$onItemClick$8(user2, dialogsActivity, dialogsActivity2, arrayList, charSequence, z, topicsFragment);
                                            return lambda$onItemClick$8;
                                        }
                                    });
                                    mediaActivity = dialogsActivity;
                                } else {
                                    try {
                                        if (i == 10) {
                                            if (ProfileActivity.this.userId == 0) {
                                                if (ProfileActivity.this.chatId != 0) {
                                                    TLRPC$Chat chat = ProfileActivity.this.getMessagesController().getChat(Long.valueOf(ProfileActivity.this.chatId));
                                                    if (chat == null) {
                                                        return;
                                                    }
                                                    if (ProfileActivity.this.chatInfo == null || TextUtils.isEmpty(ProfileActivity.this.chatInfo.about)) {
                                                        format = String.format("https://" + ProfileActivity.this.getMessagesController().linkPrefix + "/%s", ChatObject.getPublicUsername(chat));
                                                    } else {
                                                        format = String.format("%s\nhttps://" + ProfileActivity.this.getMessagesController().linkPrefix + "/%s", ProfileActivity.this.chatInfo.about, ChatObject.getPublicUsername(chat));
                                                    }
                                                }
                                                if (TextUtils.isEmpty(str2)) {
                                                    Intent intent = new Intent("android.intent.action.SEND");
                                                    intent.setType("text/plain");
                                                    intent.putExtra("android.intent.extra.TEXT", str2);
                                                    ProfileActivity.this.startActivityForResult(Intent.createChooser(intent, LocaleController.getString(R.string.BotShare)), 500);
                                                    return;
                                                }
                                                return;
                                            }
                                            TLRPC$User user3 = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
                                            if (user3 == null) {
                                                return;
                                            }
                                            if (ProfileActivity.this.botInfo == null || ProfileActivity.this.userInfo == null || TextUtils.isEmpty(ProfileActivity.this.userInfo.about)) {
                                                format = String.format("https://" + ProfileActivity.this.getMessagesController().linkPrefix + "/%s", UserObject.getPublicUsername(user3));
                                            } else {
                                                format = String.format("%s https://" + ProfileActivity.this.getMessagesController().linkPrefix + "/%s", ProfileActivity.this.userInfo.about, UserObject.getPublicUsername(user3));
                                            }
                                            str2 = format;
                                            if (TextUtils.isEmpty(str2)) {
                                            }
                                        } else if (i == 14) {
                                            if (ProfileActivity.this.currentEncryptedChat != null) {
                                                j = DialogObject.makeEncryptedDialogId(ProfileActivity.this.currentEncryptedChat.id);
                                            } else if (ProfileActivity.this.userId != 0) {
                                                j = ProfileActivity.this.userId;
                                            } else if (ProfileActivity.this.chatId == 0) {
                                                return;
                                            } else {
                                                j = -ProfileActivity.this.chatId;
                                            }
                                            ProfileActivity.this.getMediaDataController().installShortcut(j, MediaDataController.SHORTCUT_TYPE_USER_OR_CHAT);
                                            return;
                                        } else if (i == 15 || i == 16) {
                                            if (ProfileActivity.this.userId != 0) {
                                                TLRPC$User user4 = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
                                                if (user4 != null) {
                                                    VoIPHelper.startCall(user4, i == 16, ProfileActivity.this.userInfo != null && ProfileActivity.this.userInfo.video_calls_available, ProfileActivity.this.getParentActivity(), ProfileActivity.this.userInfo, ProfileActivity.this.getAccountInstance());
                                                    return;
                                                }
                                                return;
                                            } else if (ProfileActivity.this.chatId != 0) {
                                                if (ProfileActivity.this.getMessagesController().getGroupCall(ProfileActivity.this.chatId, false) == null) {
                                                    ProfileActivity profileActivity6 = ProfileActivity.this;
                                                    VoIPHelper.showGroupCallAlert(profileActivity6, profileActivity6.currentChat, null, false, ProfileActivity.this.getAccountInstance());
                                                    return;
                                                }
                                                TLRPC$Chat tLRPC$Chat = ProfileActivity.this.currentChat;
                                                Activity parentActivity2 = ProfileActivity.this.getParentActivity();
                                                ProfileActivity profileActivity7 = ProfileActivity.this;
                                                VoIPHelper.startCall(tLRPC$Chat, null, null, false, parentActivity2, profileActivity7, profileActivity7.getAccountInstance());
                                                return;
                                            } else {
                                                return;
                                            }
                                        } else if (i == 17) {
                                            Bundle bundle5 = new Bundle();
                                            bundle5.putLong("chat_id", ProfileActivity.this.chatId);
                                            bundle5.putInt("type", 2);
                                            bundle5.putBoolean("open_search", true);
                                            ChatUsersActivity chatUsersActivity = new ChatUsersActivity(bundle5);
                                            chatUsersActivity.setInfo(ProfileActivity.this.chatInfo);
                                            mediaActivity = chatUsersActivity;
                                        } else if (i == 18) {
                                            ProfileActivity.this.openAddMember();
                                            return;
                                        } else if (i == 19) {
                                            TLRPC$Chat chat2 = ProfileActivity.this.getMessagesController().getChat(Long.valueOf(ProfileActivity.this.chatId));
                                            profileActivity2 = ProfileActivity.this;
                                            create = StatisticActivity.create(chat2, false);
                                            profileActivity2.presentFragment(create);
                                            return;
                                        } else if (i == 22) {
                                            ProfileActivity.this.openDiscussion();
                                            return;
                                        } else if (i == 38) {
                                            ProfileActivity profileActivity8 = ProfileActivity.this;
                                            ProfileActivity profileActivity9 = ProfileActivity.this;
                                            profileActivity8.showDialog(new GiftPremiumBottomSheet(profileActivity9, profileActivity9.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId))));
                                            return;
                                        } else if (i == 39) {
                                            Bundle bundle6 = new Bundle();
                                            bundle6.putInt("type", 2);
                                            bundle6.putLong("dialog_id", -ProfileActivity.this.chatId);
                                            MediaActivity mediaActivity2 = new MediaActivity(bundle6, null);
                                            mediaActivity2.setChatInfo(ProfileActivity.this.chatInfo);
                                            mediaActivity = mediaActivity2;
                                        } else if (i == 20) {
                                            AlertDialog.Builder builder2 = new AlertDialog.Builder(ProfileActivity.this.getParentActivity(), ProfileActivity.this.resourcesProvider);
                                            builder2.setTitle(LocaleController.getString(R.string.AreYouSureSecretChatTitle));
                                            builder2.setMessage(LocaleController.getString(R.string.AreYouSureSecretChat));
                                            builder2.setPositiveButton(LocaleController.getString(R.string.Start), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda8
                                                @Override // android.content.DialogInterface.OnClickListener
                                                public final void onClick(DialogInterface dialogInterface, int i3) {
                                                    ProfileActivity.6.this.lambda$onItemClick$9(dialogInterface, i3);
                                                }
                                            });
                                            builder2.setNegativeButton(LocaleController.getString(R.string.Cancel), null);
                                            ProfileActivity.this.showDialog(builder2.create());
                                            return;
                                        } else if (i == 44) {
                                            BotWebViewAttachedSheet.openPrivacy(((BaseFragment) ProfileActivity.this).currentAccount, ProfileActivity.this.userId);
                                            return;
                                        } else if (i == 21) {
                                            if (ProfileActivity.this.getParentActivity() == null) {
                                                return;
                                            }
                                            int i3 = Build.VERSION.SDK_INT;
                                            if (i3 >= 23 && (i3 <= 28 || BuildVars.NO_SCOPED_STORAGE)) {
                                                checkSelfPermission = ProfileActivity.this.getParentActivity().checkSelfPermission("android.permission.WRITE_EXTERNAL_STORAGE");
                                                if (checkSelfPermission != 0) {
                                                    ProfileActivity.this.getParentActivity().requestPermissions(new String[]{"android.permission.WRITE_EXTERNAL_STORAGE"}, 4);
                                                    return;
                                                }
                                            }
                                            ImageLocation imageLocation = ProfileActivity.this.avatarsViewPager.getImageLocation(ProfileActivity.this.avatarsViewPager.getRealPosition());
                                            if (imageLocation == null) {
                                                return;
                                            }
                                            final boolean z = imageLocation.imageType == 2;
                                            File pathToAttach = FileLoader.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getPathToAttach(imageLocation.location, z ? "mp4" : null, true);
                                            if (z && !pathToAttach.exists()) {
                                                pathToAttach = new File(FileLoader.getDirectory(0), FileLoader.getAttachFileName(imageLocation.location, "mp4"));
                                            }
                                            if (pathToAttach.exists()) {
                                                MediaController.saveFile(pathToAttach.toString(), ProfileActivity.this.getParentActivity(), 0, null, null, new Utilities.Callback() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda9
                                                    @Override // org.telegram.messenger.Utilities.Callback
                                                    public final void run(Object obj) {
                                                        ProfileActivity.6.this.lambda$onItemClick$10(z, (Uri) obj);
                                                    }
                                                });
                                                return;
                                            }
                                            return;
                                        } else if (i == 30) {
                                            profileActivity3 = ProfileActivity.this;
                                            userInfoActivity = new UserInfoActivity();
                                        } else if (i == 40) {
                                            if (!ProfileActivity.this.getUserConfig().isPremium()) {
                                                ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 23, true));
                                                return;
                                            } else {
                                                profileActivity3 = ProfileActivity.this;
                                                userInfoActivity = new PeerColorActivity(0L).startOnProfile().setOnApplied(ProfileActivity.this);
                                            }
                                        } else if (i == 42) {
                                            TLRPC$User user5 = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
                                            AndroidUtilities.addToClipboard(ProfileActivity.this.getMessagesController().linkPrefix + "/" + UserObject.getPublicUsername(user5));
                                            return;
                                        } else if (i == 43) {
                                            profileActivity3 = ProfileActivity.this;
                                            userInfoActivity = new ChangeUsernameActivity();
                                        } else if (i == 31) {
                                            profileActivity3 = ProfileActivity.this;
                                            userInfoActivity = new LogoutActivity();
                                        } else if (i == 33) {
                                            int realPosition = ProfileActivity.this.avatarsViewPager.getRealPosition();
                                            final TLRPC$Photo photo = ProfileActivity.this.avatarsViewPager.getPhoto(realPosition);
                                            if (photo == null) {
                                                return;
                                            }
                                            ProfileActivity.this.avatarsViewPager.startMovePhotoToBegin(realPosition);
                                            TLRPC$TL_photos_updateProfilePhoto tLRPC$TL_photos_updateProfilePhoto = new TLRPC$TL_photos_updateProfilePhoto();
                                            TLRPC$TL_inputPhoto tLRPC$TL_inputPhoto = new TLRPC$TL_inputPhoto();
                                            tLRPC$TL_photos_updateProfilePhoto.id = tLRPC$TL_inputPhoto;
                                            tLRPC$TL_inputPhoto.id = photo.id;
                                            tLRPC$TL_inputPhoto.access_hash = photo.access_hash;
                                            tLRPC$TL_inputPhoto.file_reference = photo.file_reference;
                                            final UserConfig userConfig = ProfileActivity.this.getUserConfig();
                                            ProfileActivity.this.getConnectionsManager().sendRequest(tLRPC$TL_photos_updateProfilePhoto, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda1
                                                @Override // org.telegram.tgnet.RequestDelegate
                                                public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                                                    ProfileActivity.6.this.lambda$onItemClick$12(userConfig, photo, tLObject, tLRPC$TL_error);
                                                }
                                            });
                                            ProfileActivity.this.undoView.showWithAction(ProfileActivity.this.userId, 22, photo.video_sizes.isEmpty() ? null : 1);
                                            TLRPC$User user6 = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(userConfig.clientUserId));
                                            TLRPC$PhotoSize closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(photo.sizes, 800);
                                            if (user6 != null) {
                                                TLRPC$PhotoSize closestPhotoSizeWithSize2 = FileLoader.getClosestPhotoSizeWithSize(photo.sizes, 90);
                                                TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto = user6.photo;
                                                tLRPC$UserProfilePhoto.photo_id = photo.id;
                                                tLRPC$UserProfilePhoto.photo_small = closestPhotoSizeWithSize2.location;
                                                tLRPC$UserProfilePhoto.photo_big = closestPhotoSizeWithSize.location;
                                                userConfig.setCurrentUser(user6);
                                                userConfig.saveConfig(true);
                                                NotificationCenter.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).lambda$postNotificationNameOnUIThread$1(NotificationCenter.mainUserInfoChanged, new Object[0]);
                                                ProfileActivity.this.updateProfileData(true);
                                            }
                                            ProfileActivity.this.avatarsViewPager.commitMoveToBegin();
                                            return;
                                        } else if (i == 34) {
                                            int realPosition2 = ProfileActivity.this.avatarsViewPager.getRealPosition();
                                            ImageLocation imageLocation2 = ProfileActivity.this.avatarsViewPager.getImageLocation(realPosition2);
                                            if (imageLocation2 == null) {
                                                return;
                                            }
                                            File pathToAttach2 = FileLoader.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getPathToAttach(PhotoViewer.getFileLocation(imageLocation2), PhotoViewer.getFileLocationExt(imageLocation2), true);
                                            boolean z2 = imageLocation2.imageType == 2;
                                            if (z2) {
                                                ImageLocation realImageLocation = ProfileActivity.this.avatarsViewPager.getRealImageLocation(realPosition2);
                                                str = FileLoader.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getPathToAttach(PhotoViewer.getFileLocation(realImageLocation), PhotoViewer.getFileLocationExt(realImageLocation), true).getAbsolutePath();
                                            }
                                            ProfileActivity.this.imageUpdater.openPhotoForEdit(pathToAttach2.getAbsolutePath(), str, 0, z2);
                                            return;
                                        } else if (i == 35) {
                                            AlertDialog.Builder builder3 = new AlertDialog.Builder(ProfileActivity.this.getParentActivity(), ProfileActivity.this.resourcesProvider);
                                            ImageLocation imageLocation3 = ProfileActivity.this.avatarsViewPager.getImageLocation(ProfileActivity.this.avatarsViewPager.getRealPosition());
                                            if (imageLocation3 == null) {
                                                return;
                                            }
                                            if (imageLocation3.imageType == 2) {
                                                builder3.setTitle(LocaleController.getString(R.string.AreYouSureDeleteVideoTitle));
                                                formatString = LocaleController.formatString("AreYouSureDeleteVideo", R.string.AreYouSureDeleteVideo, new Object[0]);
                                            } else {
                                                builder3.setTitle(LocaleController.getString(R.string.AreYouSureDeletePhotoTitle));
                                                formatString = LocaleController.formatString("AreYouSureDeletePhoto", R.string.AreYouSureDeletePhoto, new Object[0]);
                                            }
                                            builder3.setMessage(formatString);
                                            builder3.setPositiveButton(LocaleController.getString(R.string.Delete), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda2
                                                @Override // android.content.DialogInterface.OnClickListener
                                                public final void onClick(DialogInterface dialogInterface, int i4) {
                                                    ProfileActivity.6.this.lambda$onItemClick$13(dialogInterface, i4);
                                                }
                                            });
                                            builder3.setNegativeButton(LocaleController.getString(R.string.Cancel), null);
                                            AlertDialog create3 = builder3.create();
                                            ProfileActivity.this.showDialog(create3);
                                            textView = (TextView) create3.getButton(-1);
                                            if (textView == null) {
                                                return;
                                            }
                                        } else if (i == 36) {
                                            ProfileActivity.this.onWriteButtonClick();
                                            return;
                                        } else if (i != 37 || ProfileActivity.this.qrItem == null || ProfileActivity.this.qrItem.getAlpha() <= 0.0f) {
                                            return;
                                        } else {
                                            Bundle bundle7 = new Bundle();
                                            bundle7.putLong("chat_id", ProfileActivity.this.chatId);
                                            bundle7.putLong("user_id", ProfileActivity.this.userId);
                                            profileActivity = ProfileActivity.this;
                                            qrActivity = new QrActivity(bundle7);
                                        }
                                    } catch (Exception e) {
                                        FileLog.e(e);
                                        return;
                                    }
                                }
                                profileActivity3.presentFragment(userInfoActivity);
                                return;
                            }
                        } else {
                            final TLRPC$User user7 = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
                            if (user7 == null || ProfileActivity.this.getParentActivity() == null) {
                                return;
                            }
                            AlertDialog.Builder builder4 = new AlertDialog.Builder(ProfileActivity.this.getParentActivity(), ProfileActivity.this.resourcesProvider);
                            builder4.setTitle(LocaleController.getString(R.string.DeleteContact));
                            builder4.setMessage(LocaleController.getString(R.string.AreYouSureDeleteContact));
                            builder4.setPositiveButton(LocaleController.getString(R.string.Delete), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda6
                                @Override // android.content.DialogInterface.OnClickListener
                                public final void onClick(DialogInterface dialogInterface, int i4) {
                                    ProfileActivity.6.this.lambda$onItemClick$4(user7, dialogInterface, i4);
                                }
                            });
                            builder4.setNegativeButton(LocaleController.getString(R.string.Cancel), null);
                            AlertDialog create4 = builder4.create();
                            ProfileActivity.this.showDialog(create4);
                            textView = (TextView) create4.getButton(-1);
                            if (textView == null) {
                                return;
                            }
                        }
                        profileActivity.presentFragment(qrActivity);
                        return;
                    }
                    Bundle bundle8 = new Bundle();
                    bundle8.putBoolean("onlySelect", true);
                    bundle8.putInt("dialogsType", 3);
                    bundle8.putString("selectAlertString", LocaleController.getString(R.string.SendContactToText));
                    bundle8.putString("selectAlertStringGroup", LocaleController.getString(R.string.SendContactToGroupText));
                    DialogsActivity dialogsActivity2 = new DialogsActivity(bundle8);
                    dialogsActivity2.setDelegate(ProfileActivity.this);
                    mediaActivity = dialogsActivity2;
                    profileActivity3 = ProfileActivity.this;
                    userInfoActivity = mediaActivity;
                    profileActivity3.presentFragment(userInfoActivity);
                    return;
                }
                final TLRPC$User user8 = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
                if (user8 == null) {
                    return;
                }
                if (!ProfileActivity.this.isBot || MessagesController.isSupportUser(user8)) {
                    if (ProfileActivity.this.userBlocked) {
                        ProfileActivity.this.getMessagesController().unblockPeer(ProfileActivity.this.userId);
                        if (BulletinFactory.canShowBulletin(ProfileActivity.this)) {
                            BulletinFactory.createBanBulletin(ProfileActivity.this, false).show();
                            return;
                        }
                        return;
                    } else if (ProfileActivity.this.reportSpam) {
                        ProfileActivity profileActivity10 = ProfileActivity.this;
                        AlertsCreator.showBlockReportSpamAlert(profileActivity10, profileActivity10.userId, user8, null, ProfileActivity.this.currentEncryptedChat, false, null, new MessagesStorage.IntCallback() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda4
                            @Override // org.telegram.messenger.MessagesStorage.IntCallback
                            public final void run(int i4) {
                                ProfileActivity.6.this.lambda$onItemClick$0(i4);
                            }
                        }, ProfileActivity.this.resourcesProvider);
                        return;
                    } else {
                        AlertDialog.Builder builder5 = new AlertDialog.Builder(ProfileActivity.this.getParentActivity(), ProfileActivity.this.resourcesProvider);
                        builder5.setTitle(LocaleController.getString(R.string.BlockUser));
                        builder5.setMessage(AndroidUtilities.replaceTags(LocaleController.formatString("AreYouSureBlockContact2", R.string.AreYouSureBlockContact2, ContactsController.formatName(user8.first_name, user8.last_name))));
                        builder5.setPositiveButton(LocaleController.getString(R.string.BlockContact), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda5
                            @Override // android.content.DialogInterface.OnClickListener
                            public final void onClick(DialogInterface dialogInterface, int i4) {
                                ProfileActivity.6.this.lambda$onItemClick$1(dialogInterface, i4);
                            }
                        });
                        builder5.setNegativeButton(LocaleController.getString(R.string.Cancel), null);
                        AlertDialog create5 = builder5.create();
                        ProfileActivity.this.showDialog(create5);
                        textView = (TextView) create5.getButton(-1);
                        if (textView == null) {
                            return;
                        }
                    }
                } else if (!ProfileActivity.this.userBlocked) {
                    ProfileActivity profileActivity11 = ProfileActivity.this;
                    AlertsCreator.createClearOrDeleteDialogAlert(profileActivity11, false, profileActivity11.currentChat, user8, ProfileActivity.this.currentEncryptedChat != null, true, true, new MessagesStorage.BooleanCallback() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda0
                        @Override // org.telegram.messenger.MessagesStorage.BooleanCallback
                        public final void run(boolean z3) {
                            ProfileActivity.6.this.lambda$onItemClick$2(user8, z3);
                        }
                    }, ProfileActivity.this.getResourceProvider());
                    return;
                } else {
                    ProfileActivity.this.getMessagesController().unblockPeer(ProfileActivity.this.userId, new Runnable() { // from class: org.telegram.ui.ProfileActivity$6$$ExternalSyntheticLambda3
                        @Override // java.lang.Runnable
                        public final void run() {
                            ProfileActivity.6.this.lambda$onItemClick$3();
                        }
                    });
                }
                color = ProfileActivity.this.getThemedColor(Theme.key_text_RedBold);
                textView.setTextColor(color);
                return;
            }
            ProfileActivity.this.finishFragment();
        }
    }

    /* loaded from: classes4.dex */
    public class 7 extends NestedFrameLayout {
        private Paint grayPaint;
        private boolean ignoreLayout;
        private final ArrayList sortedChildren;
        private final Comparator viewComparator;
        private boolean wasPortrait;

        /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
        7(Context context) {
            super(context);
            ProfileActivity.this = r1;
            this.grayPaint = new Paint();
            this.sortedChildren = new ArrayList();
            this.viewComparator = new Comparator() { // from class: org.telegram.ui.ProfileActivity$7$$ExternalSyntheticLambda0
                @Override // java.util.Comparator
                public final int compare(Object obj, Object obj2) {
                    int lambda$$1;
                    lambda$$1 = ProfileActivity.7.lambda$$1((View) obj, (View) obj2);
                    return lambda$$1;
                }
            };
        }

        public static /* synthetic */ int lambda$$1(View view, View view2) {
            return (int) (view.getY() - view2.getY());
        }

        public /* synthetic */ void lambda$onMeasure$0() {
            if (ProfileActivity.this.selectAnimatedEmojiDialog != null) {
                ProfileActivity.this.selectAnimatedEmojiDialog.dismiss();
                ProfileActivity.this.selectAnimatedEmojiDialog = null;
            }
        }

        /* JADX INFO: Access modifiers changed from: protected */
        /* JADX WARN: Removed duplicated region for block: B:161:0x0387  */
        /* JADX WARN: Removed duplicated region for block: B:165:0x03c3  */
        /* JADX WARN: Removed duplicated region for block: B:168:0x03e2  */
        @Override // org.telegram.ui.Components.SizeNotifierFrameLayout, android.view.ViewGroup, android.view.View
        /*
            Code decompiled incorrectly, please refer to instructions dump.
        */
        public void dispatchDraw(Canvas canvas) {
            float f;
            float measuredWidth;
            float measuredHeight;
            Paint paint;
            float f2;
            Canvas canvas2;
            ProfileActivity profileActivity;
            BaseFragment baseFragment;
            FragmentContextView fragmentContextView;
            float dpf2;
            boolean z;
            int i;
            ProfileActivity.this.whitePaint.setColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
            if (ProfileActivity.this.listView.getVisibility() == 0) {
                this.grayPaint.setColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundGray));
                if (ProfileActivity.this.transitionAnimationInProress) {
                    ProfileActivity.this.whitePaint.setAlpha((int) (ProfileActivity.this.listView.getAlpha() * 255.0f));
                }
                if (ProfileActivity.this.transitionAnimationInProress) {
                    this.grayPaint.setAlpha((int) (ProfileActivity.this.listView.getAlpha() * 255.0f));
                }
                int childCount = ProfileActivity.this.listView.getChildCount();
                this.sortedChildren.clear();
                boolean z2 = false;
                for (int i2 = 0; i2 < childCount; i2++) {
                    if (ProfileActivity.this.listView.getChildAdapterPosition(ProfileActivity.this.listView.getChildAt(i2)) != -1) {
                        this.sortedChildren.add(ProfileActivity.this.listView.getChildAt(i2));
                    } else {
                        z2 = true;
                    }
                }
                Collections.sort(this.sortedChildren, this.viewComparator);
                float y = ProfileActivity.this.listView.getY();
                int size = this.sortedChildren.size();
                if (!ProfileActivity.this.openAnimationInProgress && size > 0 && !z2) {
                    y += ((View) this.sortedChildren.get(0)).getY();
                }
                float f3 = y;
                boolean z3 = false;
                float f4 = 1.0f;
                for (int i3 = 0; i3 < size; i3++) {
                    View view = (View) this.sortedChildren.get(i3);
                    boolean z4 = view.getBackground() != null;
                    int y2 = (int) (ProfileActivity.this.listView.getY() + view.getY());
                    if (z3 != z4) {
                        if (z3) {
                            z = z4;
                            canvas.drawRect(ProfileActivity.this.listView.getX(), f3, ProfileActivity.this.listView.getX() + ProfileActivity.this.listView.getMeasuredWidth(), y2, this.grayPaint);
                            i = y2;
                        } else {
                            z = z4;
                            if (f4 != 1.0f) {
                                float f5 = y2;
                                i = y2;
                                canvas.drawRect(ProfileActivity.this.listView.getX(), f3, ProfileActivity.this.listView.getX() + ProfileActivity.this.listView.getMeasuredWidth(), f5, this.grayPaint);
                                ProfileActivity.this.whitePaint.setAlpha((int) (f4 * 255.0f));
                                canvas.drawRect(ProfileActivity.this.listView.getX(), f3, ProfileActivity.this.listView.getX() + ProfileActivity.this.listView.getMeasuredWidth(), f5, ProfileActivity.this.whitePaint);
                                ProfileActivity.this.whitePaint.setAlpha(NotificationCenter.voipServiceCreated);
                            } else {
                                i = y2;
                                canvas.drawRect(ProfileActivity.this.listView.getX(), f3, ProfileActivity.this.listView.getX() + ProfileActivity.this.listView.getMeasuredWidth(), i, ProfileActivity.this.whitePaint);
                            }
                        }
                        f3 = i;
                        f4 = view.getAlpha();
                        z3 = z;
                    } else if (view.getAlpha() == 1.0f) {
                        f4 = 1.0f;
                    }
                }
                if (z3) {
                    f2 = ProfileActivity.this.listView.getX();
                    measuredWidth = ProfileActivity.this.listView.getX() + ProfileActivity.this.listView.getMeasuredWidth();
                    measuredHeight = ProfileActivity.this.listView.getBottom();
                    paint = this.grayPaint;
                } else if (f4 != 1.0f) {
                    canvas.drawRect(ProfileActivity.this.listView.getX(), f3, ProfileActivity.this.listView.getX() + ProfileActivity.this.listView.getMeasuredWidth(), ProfileActivity.this.listView.getBottom(), this.grayPaint);
                    ProfileActivity.this.whitePaint.setAlpha((int) (f4 * 255.0f));
                    canvas.drawRect(ProfileActivity.this.listView.getX(), f3, ProfileActivity.this.listView.getX() + ProfileActivity.this.listView.getMeasuredWidth(), ProfileActivity.this.listView.getBottom(), ProfileActivity.this.whitePaint);
                    ProfileActivity.this.whitePaint.setAlpha(NotificationCenter.voipServiceCreated);
                    super.dispatchDraw(canvas);
                    profileActivity = ProfileActivity.this;
                    if (profileActivity.profileTransitionInProgress && ((BaseFragment) profileActivity).parentLayout.getFragmentStack().size() > 1) {
                        baseFragment = (BaseFragment) ((BaseFragment) ProfileActivity.this).parentLayout.getFragmentStack().get(((BaseFragment) ProfileActivity.this).parentLayout.getFragmentStack().size() - 2);
                        if ((baseFragment instanceof ChatActivity) && (fragmentContextView = ((ChatActivity) baseFragment).getFragmentContextView()) != null && fragmentContextView.isCallStyle()) {
                            dpf2 = ProfileActivity.this.extraHeight / AndroidUtilities.dpf2(fragmentContextView.getStyleHeight());
                            if (dpf2 > 1.0f) {
                                dpf2 = 1.0f;
                            }
                            canvas.save();
                            canvas.translate(fragmentContextView.getX(), fragmentContextView.getY());
                            fragmentContextView.setDrawOverlay(true);
                            fragmentContextView.setCollapseTransition(true, ProfileActivity.this.extraHeight, dpf2);
                            fragmentContextView.draw(canvas);
                            fragmentContextView.setCollapseTransition(false, ProfileActivity.this.extraHeight, dpf2);
                            fragmentContextView.setDrawOverlay(false);
                            canvas.restore();
                        }
                    }
                    if (ProfileActivity.this.scrimPaint.getAlpha() > 0) {
                        canvas.drawRect(0.0f, 0.0f, getWidth(), getHeight(), ProfileActivity.this.scrimPaint);
                    }
                    if (ProfileActivity.this.scrimView != null) {
                        int save = canvas.save();
                        canvas.translate(ProfileActivity.this.scrimView.getLeft(), ProfileActivity.this.scrimView.getTop());
                        if (ProfileActivity.this.scrimView == ((BaseFragment) ProfileActivity.this).actionBar.getBackButton()) {
                            int alpha = ProfileActivity.this.actionBarBackgroundPaint.getAlpha();
                            ProfileActivity.this.actionBarBackgroundPaint.setAlpha((int) ((alpha * (ProfileActivity.this.scrimPaint.getAlpha() / 255.0f)) / 0.3f));
                            float max = Math.max(ProfileActivity.this.scrimView.getMeasuredWidth(), ProfileActivity.this.scrimView.getMeasuredHeight()) / 2;
                            canvas.drawCircle(max, max, 0.7f * max, ProfileActivity.this.actionBarBackgroundPaint);
                            ProfileActivity.this.actionBarBackgroundPaint.setAlpha(alpha);
                        }
                        ProfileActivity.this.scrimView.draw(canvas);
                        canvas.restoreToCount(save);
                    }
                    if (ProfileActivity.this.blurredView == null && ProfileActivity.this.blurredView.getVisibility() == 0) {
                        if (ProfileActivity.this.blurredView.getAlpha() == 1.0f) {
                            ProfileActivity.this.blurredView.draw(canvas);
                            return;
                        } else if (ProfileActivity.this.blurredView.getAlpha() != 0.0f) {
                            canvas.saveLayerAlpha(ProfileActivity.this.blurredView.getLeft(), ProfileActivity.this.blurredView.getTop(), ProfileActivity.this.blurredView.getRight(), ProfileActivity.this.blurredView.getBottom(), (int) (ProfileActivity.this.blurredView.getAlpha() * 255.0f), 31);
                            canvas.translate(ProfileActivity.this.blurredView.getLeft(), ProfileActivity.this.blurredView.getTop());
                            ProfileActivity.this.blurredView.draw(canvas);
                            canvas.restore();
                            return;
                        } else {
                            return;
                        }
                    }
                } else {
                    f2 = ProfileActivity.this.listView.getX();
                    measuredWidth = ProfileActivity.this.listView.getX() + ProfileActivity.this.listView.getMeasuredWidth();
                    measuredHeight = ProfileActivity.this.listView.getBottom();
                    paint = ProfileActivity.this.whitePaint;
                }
                canvas2 = canvas;
                f = f3;
            } else {
                int top = ProfileActivity.this.searchListView.getTop();
                f = ProfileActivity.this.searchTransitionOffset + top + ProfileActivity.this.extraHeight;
                measuredWidth = getMeasuredWidth();
                measuredHeight = top + getMeasuredHeight();
                paint = ProfileActivity.this.whitePaint;
                f2 = 0.0f;
                canvas2 = canvas;
            }
            canvas2.drawRect(f2, f, measuredWidth, measuredHeight, paint);
            super.dispatchDraw(canvas);
            profileActivity = ProfileActivity.this;
            if (profileActivity.profileTransitionInProgress) {
                baseFragment = (BaseFragment) ((BaseFragment) ProfileActivity.this).parentLayout.getFragmentStack().get(((BaseFragment) ProfileActivity.this).parentLayout.getFragmentStack().size() - 2);
                if (baseFragment instanceof ChatActivity) {
                    dpf2 = ProfileActivity.this.extraHeight / AndroidUtilities.dpf2(fragmentContextView.getStyleHeight());
                    if (dpf2 > 1.0f) {
                    }
                    canvas.save();
                    canvas.translate(fragmentContextView.getX(), fragmentContextView.getY());
                    fragmentContextView.setDrawOverlay(true);
                    fragmentContextView.setCollapseTransition(true, ProfileActivity.this.extraHeight, dpf2);
                    fragmentContextView.draw(canvas);
                    fragmentContextView.setCollapseTransition(false, ProfileActivity.this.extraHeight, dpf2);
                    fragmentContextView.setDrawOverlay(false);
                    canvas.restore();
                }
            }
            if (ProfileActivity.this.scrimPaint.getAlpha() > 0) {
            }
            if (ProfileActivity.this.scrimView != null) {
            }
            if (ProfileActivity.this.blurredView == null) {
            }
        }

        @Override // android.view.ViewGroup, android.view.View
        public boolean dispatchTouchEvent(MotionEvent motionEvent) {
            if (ProfileActivity.this.pinchToZoomHelper.isInOverlayMode()) {
                return ProfileActivity.this.pinchToZoomHelper.onTouchEvent(motionEvent);
            }
            if (ProfileActivity.this.sharedMediaLayout != null && ProfileActivity.this.sharedMediaLayout.isInFastScroll() && ProfileActivity.this.sharedMediaLayout.isPinnedToTop()) {
                return ProfileActivity.this.sharedMediaLayout.dispatchFastScrollEvent(motionEvent);
            }
            if (ProfileActivity.this.sharedMediaLayout == null || !ProfileActivity.this.sharedMediaLayout.checkPinchToZoom(motionEvent)) {
                return super.dispatchTouchEvent(motionEvent);
            }
            return true;
        }

        @Override // android.view.ViewGroup
        protected boolean drawChild(Canvas canvas, View view, long j) {
            if ((ProfileActivity.this.pinchToZoomHelper.isInOverlayMode() && (view == ProfileActivity.this.avatarContainer2 || view == ((BaseFragment) ProfileActivity.this).actionBar || view == ProfileActivity.this.writeButton)) || view == ProfileActivity.this.blurredView) {
                return true;
            }
            return super.drawChild(canvas, view, j);
        }

        @Override // android.view.View
        public boolean hasOverlappingRendering() {
            return false;
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.SizeNotifierFrameLayout, android.view.ViewGroup, android.view.View
        public void onAttachedToWindow() {
            super.onAttachedToWindow();
            ProfileActivity.this.fragmentViewAttached = true;
            for (int i = 0; i < ProfileActivity.this.emojiStatusDrawable.length; i++) {
                if (ProfileActivity.this.emojiStatusDrawable[i] != null) {
                    ProfileActivity.this.emojiStatusDrawable[i].attach();
                }
            }
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.SizeNotifierFrameLayout, android.view.ViewGroup, android.view.View
        public void onDetachedFromWindow() {
            super.onDetachedFromWindow();
            ProfileActivity.this.fragmentViewAttached = false;
            for (int i = 0; i < ProfileActivity.this.emojiStatusDrawable.length; i++) {
                if (ProfileActivity.this.emojiStatusDrawable[i] != null) {
                    ProfileActivity.this.emojiStatusDrawable[i].detach();
                }
            }
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.SizeNotifierFrameLayout, android.widget.FrameLayout, android.view.ViewGroup, android.view.View
        public void onLayout(boolean z, int i, int i2, int i3, int i4) {
            super.onLayout(z, i, i2, i3, i4);
            ProfileActivity profileActivity = ProfileActivity.this;
            profileActivity.savedScrollPosition = -1;
            profileActivity.firstLayout = false;
            ProfileActivity.this.invalidateScroll = false;
            ProfileActivity.this.checkListViewScroll();
        }

        /* JADX WARN: Removed duplicated region for block: B:370:0x05c0  */
        /* JADX WARN: Removed duplicated region for block: B:379:0x0600  */
        /* JADX WARN: Removed duplicated region for block: B:382:0x0605  */
        /* JADX WARN: Removed duplicated region for block: B:385:0x0617  */
        /* JADX WARN: Removed duplicated region for block: B:396:? A[ADDED_TO_REGION, RETURN, SYNTHETIC] */
        @Override // android.widget.FrameLayout, android.view.View
        /*
            Code decompiled incorrectly, please refer to instructions dump.
        */
        protected void onMeasure(int i, int i2) {
            boolean z;
            int dp;
            int i3;
            RecyclerListView recyclerListView;
            int i4;
            int i5;
            boolean z2;
            LinearLayoutManager linearLayoutManager;
            int dp2;
            int i6;
            RecyclerView.ViewHolder findContainingViewHolder;
            boolean z3;
            char c;
            int measuredWidth;
            int max;
            RecyclerListView recyclerListView2;
            int i7;
            int currentActionBarHeight = ActionBar.getCurrentActionBarHeight() + (((BaseFragment) ProfileActivity.this).actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0);
            if (ProfileActivity.this.listView != null) {
                FrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) ProfileActivity.this.listView.getLayoutParams();
                if (layoutParams.topMargin != currentActionBarHeight) {
                    layoutParams.topMargin = currentActionBarHeight;
                }
            }
            if (ProfileActivity.this.searchListView != null) {
                FrameLayout.LayoutParams layoutParams2 = (FrameLayout.LayoutParams) ProfileActivity.this.searchListView.getLayoutParams();
                if (layoutParams2.topMargin != currentActionBarHeight) {
                    layoutParams2.topMargin = currentActionBarHeight;
                }
            }
            int size = View.MeasureSpec.getSize(i2);
            super.onMeasure(i, View.MeasureSpec.makeMeasureSpec(size, 1073741824));
            View view = null;
            if (ProfileActivity.this.lastMeasuredContentWidth == getMeasuredWidth() && ProfileActivity.this.lastMeasuredContentHeight == getMeasuredHeight()) {
                z = false;
            } else {
                z = (ProfileActivity.this.lastMeasuredContentWidth == 0 || ProfileActivity.this.lastMeasuredContentWidth == getMeasuredWidth()) ? false : true;
                ProfileActivity.this.listContentHeight = 0;
                int itemCount = ProfileActivity.this.listAdapter.getItemCount();
                ProfileActivity.this.lastMeasuredContentWidth = getMeasuredWidth();
                ProfileActivity.this.lastMeasuredContentHeight = getMeasuredHeight();
                int makeMeasureSpec = View.MeasureSpec.makeMeasureSpec(getMeasuredWidth(), 1073741824);
                int makeMeasureSpec2 = View.MeasureSpec.makeMeasureSpec(ProfileActivity.this.listView.getMeasuredHeight(), 0);
                ProfileActivity.this.positionToOffset.clear();
                for (int i8 = 0; i8 < itemCount; i8++) {
                    int itemViewType = ProfileActivity.this.listAdapter.getItemViewType(i8);
                    ProfileActivity.this.positionToOffset.put(Integer.valueOf(i8), Integer.valueOf(ProfileActivity.this.listContentHeight));
                    if (itemViewType == 13) {
                        ProfileActivity profileActivity = ProfileActivity.this;
                        ProfileActivity.access$9812(profileActivity, profileActivity.listView.getMeasuredHeight());
                    } else {
                        RecyclerView.ViewHolder createViewHolder = ProfileActivity.this.listAdapter.createViewHolder(null, itemViewType);
                        ProfileActivity.this.listAdapter.onBindViewHolder(createViewHolder, i8);
                        createViewHolder.itemView.measure(makeMeasureSpec, makeMeasureSpec2);
                        ProfileActivity.access$9812(ProfileActivity.this, createViewHolder.itemView.getMeasuredHeight());
                    }
                }
                if (ProfileActivity.this.emptyView != null) {
                    ((FrameLayout.LayoutParams) ProfileActivity.this.emptyView.getLayoutParams()).topMargin = AndroidUtilities.dp(88.0f) + AndroidUtilities.statusBarHeight;
                }
            }
            ProfileActivity profileActivity2 = ProfileActivity.this;
            if (profileActivity2.previousTransitionFragment != null) {
                profileActivity2.nameTextView[0].setRightPadding(ProfileActivity.this.nameTextView[0].getMeasuredWidth() - ProfileActivity.this.previousTransitionFragment.getAvatarContainer().getTitleTextView().getMeasuredWidth());
            }
            if (!ProfileActivity.this.fragmentOpened && (ProfileActivity.this.expandPhoto || (ProfileActivity.this.openAnimationInProgress && ProfileActivity.this.playProfileAnimation == 2))) {
                this.ignoreLayout = true;
                if (ProfileActivity.this.expandPhoto) {
                    if (ProfileActivity.this.searchItem != null) {
                        ProfileActivity.this.searchItem.setAlpha(0.0f);
                        ProfileActivity.this.searchItem.setEnabled(false);
                        ProfileActivity.this.searchItem.setVisibility(8);
                    }
                    ProfileActivity.this.nameTextView[1].setTextColor(-1);
                    ProfileActivity.this.nameTextView[1].setPivotY(ProfileActivity.this.nameTextView[1].getMeasuredHeight());
                    ProfileActivity.this.nameTextView[1].setScaleX(1.67f);
                    ProfileActivity.this.nameTextView[1].setScaleY(1.67f);
                    if (ProfileActivity.this.scamDrawable != null) {
                        ProfileActivity.this.scamDrawable.setColor(Color.argb((int) NotificationCenter.suggestedFiltersLoaded, (int) NotificationCenter.voipServiceCreated, (int) NotificationCenter.voipServiceCreated, (int) NotificationCenter.voipServiceCreated));
                    }
                    if (ProfileActivity.this.lockIconDrawable != null) {
                        ProfileActivity.this.lockIconDrawable.setColorFilter(-1, PorterDuff.Mode.MULTIPLY);
                    }
                    if (ProfileActivity.this.verifiedCrossfadeDrawable[0] != null) {
                        ProfileActivity.this.verifiedCrossfadeDrawable[0].setProgress(1.0f);
                    }
                    if (ProfileActivity.this.verifiedCrossfadeDrawable[1] != null) {
                        ProfileActivity.this.verifiedCrossfadeDrawable[1].setProgress(1.0f);
                    }
                    if (ProfileActivity.this.premiumCrossfadeDrawable[0] != null) {
                        ProfileActivity.this.premiumCrossfadeDrawable[0].setProgress(1.0f);
                    }
                    if (ProfileActivity.this.premiumCrossfadeDrawable[1] != null) {
                        ProfileActivity.this.premiumCrossfadeDrawable[1].setProgress(1.0f);
                    }
                    ProfileActivity.this.updateEmojiStatusDrawableColor(1.0f);
                    ProfileActivity.this.onlineTextView[1].setTextColor(-1275068417);
                    ((BaseFragment) ProfileActivity.this).actionBar.setItemsBackgroundColor(1090519039, false);
                    ((BaseFragment) ProfileActivity.this).actionBar.setItemsColor(-1, false);
                    ProfileActivity.this.overlaysView.setOverlaysVisible();
                    ProfileActivity.this.overlaysView.setAlphaValue(1.0f, false);
                    ProfileActivity.this.avatarImage.setForegroundAlpha(1.0f);
                    ProfileActivity.this.avatarContainer.setVisibility(8);
                    ProfileActivity.this.avatarsViewPager.resetCurrentItem();
                    ProfileActivity.this.avatarsViewPager.setVisibility(0);
                    if (ProfileActivity.this.showStatusButton != null) {
                        ProfileActivity.this.showStatusButton.setBackgroundColor(603979775);
                    }
                    if (ProfileActivity.this.storyView != null) {
                        ProfileActivity.this.storyView.setExpandProgress(1.0f);
                    }
                    c = 0;
                    ProfileActivity.this.expandPhoto = false;
                } else {
                    c = 0;
                }
                ProfileActivity.this.allowPullingDown = true;
                ProfileActivity.this.isPulledDown = true;
                NotificationCenter globalInstance = NotificationCenter.getGlobalInstance();
                int i9 = NotificationCenter.needCheckSystemBarColors;
                Object[] objArr = new Object[1];
                objArr[c] = Boolean.TRUE;
                globalInstance.lambda$postNotificationNameOnUIThread$1(i9, objArr);
                if (ProfileActivity.this.otherItem != null) {
                    if (ProfileActivity.this.getMessagesController().isChatNoForwards(ProfileActivity.this.currentChat)) {
                        ProfileActivity.this.otherItem.hideSubItem(21);
                    } else {
                        ProfileActivity.this.otherItem.showSubItem(21);
                    }
                    if (ProfileActivity.this.imageUpdater != null) {
                        ProfileActivity.this.otherItem.showSubItem(34);
                        ProfileActivity.this.otherItem.showSubItem(35);
                        ProfileActivity.this.otherItem.hideSubItem(31);
                    }
                }
                ProfileActivity.this.currentExpanAnimatorFracture = 1.0f;
                if (ProfileActivity.this.isInLandscapeMode) {
                    measuredWidth = AndroidUtilities.dp(88.0f);
                    max = 0;
                } else {
                    measuredWidth = ProfileActivity.this.listView.getMeasuredWidth();
                    max = Math.max(0, getMeasuredHeight() - ((ProfileActivity.this.listContentHeight + AndroidUtilities.dp(88.0f)) + currentActionBarHeight));
                }
                if (ProfileActivity.this.banFromGroup != 0) {
                    max += AndroidUtilities.dp(48.0f);
                    recyclerListView2 = ProfileActivity.this.listView;
                    i7 = AndroidUtilities.dp(48.0f);
                } else {
                    recyclerListView2 = ProfileActivity.this.listView;
                    i7 = 0;
                }
                recyclerListView2.setBottomGlowOffset(i7);
                ProfileActivity.this.initialAnimationExtraHeight = measuredWidth - currentActionBarHeight;
                if (ProfileActivity.this.playProfileAnimation == 0) {
                    ProfileActivity profileActivity3 = ProfileActivity.this;
                    profileActivity3.extraHeight = profileActivity3.initialAnimationExtraHeight;
                }
                ProfileActivity.this.layoutManager.scrollToPositionWithOffset(0, -currentActionBarHeight);
                ProfileActivity.this.listView.setPadding(0, measuredWidth, 0, max);
                measureChildWithMargins(ProfileActivity.this.listView, i, 0, i2, 0);
                ProfileActivity.this.listView.layout(0, currentActionBarHeight, ProfileActivity.this.listView.getMeasuredWidth(), ProfileActivity.this.listView.getMeasuredHeight() + currentActionBarHeight);
                this.ignoreLayout = false;
            } else if (ProfileActivity.this.fragmentOpened && !ProfileActivity.this.openAnimationInProgress && !ProfileActivity.this.firstLayout) {
                this.ignoreLayout = true;
                if (ProfileActivity.this.isInLandscapeMode || AndroidUtilities.isTablet()) {
                    dp = AndroidUtilities.dp(88.0f);
                    i3 = 0;
                } else {
                    dp = ProfileActivity.this.listView.getMeasuredWidth();
                    i3 = Math.max(0, getMeasuredHeight() - ((ProfileActivity.this.listContentHeight + AndroidUtilities.dp(88.0f)) + currentActionBarHeight));
                }
                if (ProfileActivity.this.banFromGroup != 0) {
                    i3 += AndroidUtilities.dp(48.0f);
                    recyclerListView = ProfileActivity.this.listView;
                    i4 = AndroidUtilities.dp(48.0f);
                } else {
                    recyclerListView = ProfileActivity.this.listView;
                    i4 = 0;
                }
                recyclerListView.setBottomGlowOffset(i4);
                int paddingTop = ProfileActivity.this.listView.getPaddingTop();
                int i10 = 0;
                while (true) {
                    if (i10 >= ProfileActivity.this.listView.getChildCount()) {
                        i5 = -1;
                        break;
                    }
                    i5 = ProfileActivity.this.listView.getChildAdapterPosition(ProfileActivity.this.listView.getChildAt(i10));
                    if (i5 != -1) {
                        view = ProfileActivity.this.listView.getChildAt(i10);
                        break;
                    }
                    i10++;
                }
                if (view == null && (view = ProfileActivity.this.listView.getChildAt(0)) != null && (i5 = (findContainingViewHolder = ProfileActivity.this.listView.findContainingViewHolder(view)).getAdapterPosition()) == -1) {
                    i5 = findContainingViewHolder.getPosition();
                }
                int top = view != null ? view.getTop() : dp;
                if ((!((BaseFragment) ProfileActivity.this).actionBar.isSearchFieldVisible() && !ProfileActivity.this.openSimilar) || ProfileActivity.this.sharedMediaRow < 0) {
                    if (ProfileActivity.this.invalidateScroll || paddingTop != dp) {
                        ProfileActivity profileActivity4 = ProfileActivity.this;
                        if (profileActivity4.savedScrollPosition >= 0) {
                            linearLayoutManager = profileActivity4.layoutManager;
                            ProfileActivity profileActivity5 = ProfileActivity.this;
                            i6 = profileActivity5.savedScrollPosition;
                            dp2 = profileActivity5.savedScrollOffset - dp;
                        } else if ((z && profileActivity4.allowPullingDown) || view == null) {
                            linearLayoutManager = ProfileActivity.this.layoutManager;
                            dp2 = AndroidUtilities.dp(88.0f) - dp;
                            i6 = 0;
                        } else {
                            if (i5 == 0 && !ProfileActivity.this.allowPullingDown && top > AndroidUtilities.dp(88.0f)) {
                                top = AndroidUtilities.dp(88.0f);
                            }
                            ProfileActivity.this.layoutManager.scrollToPositionWithOffset(i5, top - dp);
                        }
                        linearLayoutManager.scrollToPositionWithOffset(i6, dp2);
                    }
                    z2 = false;
                    if (paddingTop == dp || ProfileActivity.this.listView.getPaddingBottom() != i3) {
                        ProfileActivity.this.listView.setPadding(0, dp, 0, i3);
                        z2 = true;
                    }
                    if (z2) {
                        measureChildWithMargins(ProfileActivity.this.listView, i, 0, i2, 0);
                        try {
                            ProfileActivity.this.listView.layout(0, currentActionBarHeight, ProfileActivity.this.listView.getMeasuredWidth(), ProfileActivity.this.listView.getMeasuredHeight() + currentActionBarHeight);
                        } catch (Exception e) {
                            FileLog.e(e);
                        }
                    }
                    this.ignoreLayout = false;
                    z3 = size > View.MeasureSpec.getSize(i);
                    if (z3 != this.wasPortrait) {
                        post(new Runnable() { // from class: org.telegram.ui.ProfileActivity$7$$ExternalSyntheticLambda1
                            @Override // java.lang.Runnable
                            public final void run() {
                                ProfileActivity.7.this.lambda$onMeasure$0();
                            }
                        });
                        this.wasPortrait = z3;
                    }
                    if (ProfileActivity.this.searchItem == null || ProfileActivity.this.qrItem == null) {
                        return;
                    }
                    AndroidUtilities.dp(48.0f);
                    float unused = ProfileActivity.this.currentExpandAnimatorValue;
                    return;
                }
                ProfileActivity.this.layoutManager.scrollToPositionWithOffset(ProfileActivity.this.sharedMediaRow, -dp);
                z2 = true;
                if (paddingTop == dp) {
                }
                ProfileActivity.this.listView.setPadding(0, dp, 0, i3);
                z2 = true;
                if (z2) {
                }
                this.ignoreLayout = false;
                if (size > View.MeasureSpec.getSize(i)) {
                }
                if (z3 != this.wasPortrait) {
                }
                if (ProfileActivity.this.searchItem == null) {
                    return;
                }
                return;
            }
            if (size > View.MeasureSpec.getSize(i)) {
            }
            if (z3 != this.wasPortrait) {
            }
            if (ProfileActivity.this.searchItem == null) {
            }
        }

        @Override // android.view.View, android.view.ViewParent
        public void requestLayout() {
            if (this.ignoreLayout) {
                return;
            }
            super.requestLayout();
        }
    }

    /* loaded from: classes4.dex */
    public class 8 extends SharedMediaLayout {
        /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
        8(Context context, long j, SharedMediaLayout.SharedMediaPreloader sharedMediaPreloader, int i, ArrayList arrayList, TLRPC$ChatFull tLRPC$ChatFull, TLRPC$UserFull tLRPC$UserFull, int i2, BaseFragment baseFragment, SharedMediaLayout.Delegate delegate, int i3, Theme.ResourcesProvider resourcesProvider) {
            super(context, j, sharedMediaPreloader, i, arrayList, tLRPC$ChatFull, tLRPC$UserFull, i2, baseFragment, delegate, i3, resourcesProvider);
            ProfileActivity.this = r16;
        }

        public /* synthetic */ void lambda$showActionMode$0(ValueAnimator valueAnimator) {
            ProfileActivity.this.updateBottomButtonY();
        }

        @Override // org.telegram.ui.Components.SharedMediaLayout
        protected void drawBackgroundWithBlur(Canvas canvas, float f, Rect rect, Paint paint) {
            ProfileActivity.this.contentView.drawBlurRect(canvas, ProfileActivity.this.listView.getY() + getY() + f, rect, paint, true);
        }

        @Override // org.telegram.ui.Components.SharedMediaLayout
        protected int getInitialTab() {
            return 8;
        }

        @Override // org.telegram.ui.Components.SharedMediaLayout
        protected boolean includeSavedDialogs() {
            return ProfileActivity.this.dialogId == ProfileActivity.this.getUserConfig().getClientUserId() && !ProfileActivity.this.saved;
        }

        @Override // org.telegram.ui.Components.SharedMediaLayout
        protected void invalidateBlur() {
            if (ProfileActivity.this.contentView != null) {
                ProfileActivity.this.contentView.invalidateBlur();
            }
        }

        @Override // org.telegram.ui.Components.SharedMediaLayout
        protected boolean isSelf() {
            return ProfileActivity.this.myProfile;
        }

        @Override // org.telegram.ui.Components.SharedMediaLayout
        protected boolean isStoriesView() {
            return ProfileActivity.this.myProfile;
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.SharedMediaLayout
        public void onActionModeSelectedUpdate(SparseArray sparseArray) {
            super.onActionModeSelectedUpdate(sparseArray);
            if (ProfileActivity.this.myProfile) {
                int size = sparseArray.size();
                int selectedTab = getSelectedTab() - 8;
                if (selectedTab < 0 || selectedTab > 1) {
                    return;
                }
                if (selectedTab == 0) {
                    ProfileActivity.this.bottomButton[selectedTab].setText((size > 0 || !MessagesController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).storiesEnabled()) ? LocaleController.formatPluralString("ArchiveStories", size, new Object[0]) : ProfileActivity.this.bottomButtonPostText, true);
                }
                ProfileActivity.this.bottomButton[selectedTab].setCount(size, true);
            }
        }

        @Override // org.telegram.ui.Components.SharedMediaLayout
        protected boolean onMemberClick(TLRPC$ChatParticipant tLRPC$ChatParticipant, boolean z, View view) {
            return ProfileActivity.this.onMemberClick(tLRPC$ChatParticipant, z, view);
        }

        @Override // org.telegram.ui.Components.SharedMediaLayout
        protected void onSearchStateChanged(boolean z) {
            AndroidUtilities.removeAdjustResize(ProfileActivity.this.getParentActivity(), ((BaseFragment) ProfileActivity.this).classGuid);
            ProfileActivity.this.listView.stopScroll();
            ProfileActivity.this.avatarContainer2.setPivotY(ProfileActivity.this.avatarContainer.getPivotY() + (ProfileActivity.this.avatarContainer.getMeasuredHeight() / 2.0f));
            ProfileActivity.this.avatarContainer2.setPivotX(ProfileActivity.this.avatarContainer2.getMeasuredWidth() / 2.0f);
            AndroidUtilities.updateViewVisibilityAnimated(ProfileActivity.this.avatarContainer2, !z, 0.95f, true);
            ProfileActivity.this.callItem.setVisibility((z || !ProfileActivity.this.callItemVisible) ? 8 : 4);
            ProfileActivity.this.videoCallItem.setVisibility((z || !ProfileActivity.this.videoCallItemVisible) ? 8 : 4);
            ProfileActivity.this.editItem.setVisibility((z || !ProfileActivity.this.editItemVisible) ? 8 : 4);
            ProfileActivity.this.otherItem.setVisibility(z ? 8 : 4);
            if (ProfileActivity.this.qrItem != null) {
                ProfileActivity.this.qrItem.setVisibility(z ? 8 : 4);
            }
            ProfileActivity.this.updateStoriesViewBounds(false);
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.SharedMediaLayout
        public void onSelectedTabChanged() {
            ProfileActivity.this.updateSelectedMediaTabText();
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.SharedMediaLayout
        public void onTabProgress(float f) {
            super.onTabProgress(f);
            ProfileActivity profileActivity = ProfileActivity.this;
            if (profileActivity.myProfile) {
                profileActivity.bottomButtonContainer[0].setTranslationX((8.0f - f) * ProfileActivity.this.sharedMediaLayout.getMeasuredWidth());
                ProfileActivity.this.bottomButtonContainer[1].setTranslationX((9.0f - f) * ProfileActivity.this.sharedMediaLayout.getMeasuredWidth());
                ProfileActivity.this.updateBottomButtonY();
            }
        }

        @Override // org.telegram.ui.Components.SharedMediaLayout
        public void openStoryRecorder() {
            StoryRecorder.getInstance(ProfileActivity.this.getParentActivity(), ((BaseFragment) ProfileActivity.this).currentAccount).selectedPeerId(ProfileActivity.this.getDialogId()).canChangePeer(false).closeToWhenSent(new StoryRecorder.ClosingViewProvider() { // from class: org.telegram.ui.ProfileActivity.8.1
                {
                    8.this = this;
                }

                @Override // org.telegram.ui.Stories.recorder.StoryRecorder.ClosingViewProvider
                public StoryRecorder.SourceView getView(long j) {
                    if (j != ProfileActivity.this.getDialogId()) {
                        return null;
                    }
                    ProfileActivity.this.updateAvatarRoundRadius();
                    return StoryRecorder.SourceView.fromAvatarImage(ProfileActivity.this.avatarImage, ChatObject.isForum(ProfileActivity.this.currentChat));
                }

                @Override // org.telegram.ui.Stories.recorder.StoryRecorder.ClosingViewProvider
                public void preLayout(long j, Runnable runnable) {
                    ProfileActivity.this.avatarImage.setHasStories(ProfileActivity.this.needInsetForStories());
                    if (j == ProfileActivity.this.getDialogId()) {
                        ProfileActivity.this.collapseAvatarInstant();
                    }
                    AndroidUtilities.runOnUIThread(runnable, 30L);
                }
            }).open(StoryRecorder.SourceView.fromFloatingButton(ProfileActivity.this.floatingButtonContainer), true);
        }

        @Override // org.telegram.ui.Components.SharedMediaLayout
        protected int processColor(int i) {
            return ProfileActivity.this.applyPeerColor(i, false);
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.SharedMediaLayout
        public void showActionMode(boolean z) {
            super.showActionMode(z);
            if (ProfileActivity.this.myProfile) {
                disableScroll(z);
                int selectedTab = getSelectedTab() - 8;
                if (selectedTab < 0 || selectedTab > 1) {
                    return;
                }
                ProfileActivity.this.bottomButtonContainer[selectedTab].animate().translationY((z || (selectedTab == 0 && MessagesController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).storiesEnabled())) ? 0.0f : AndroidUtilities.dp(72.0f)).setDuration(320L).setInterpolator(CubicBezierInterpolator.EASE_OUT_QUINT).setUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$8$$ExternalSyntheticLambda0
                    @Override // android.animation.ValueAnimator.AnimatorUpdateListener
                    public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                        ProfileActivity.8.this.lambda$showActionMode$0(valueAnimator);
                    }
                }).start();
            }
        }
    }

    /* loaded from: classes4.dex */
    public static class AvatarImageView extends BackupImageView {
        ProfileGalleryView avatarsViewPager;
        public float bounceScale;
        public boolean drawAvatar;
        boolean drawForeground;
        private ImageReceiver.BitmapHolder drawableHolder;
        private float foregroundAlpha;
        private ImageReceiver foregroundImageReceiver;
        private boolean hasStories;
        private final Paint placeholderPaint;
        float progressToExpand;
        private float progressToInsets;
        private final RectF rect;

        public AvatarImageView(Context context) {
            super(context);
            this.rect = new RectF();
            this.drawAvatar = true;
            this.bounceScale = 1.0f;
            this.drawForeground = true;
            this.progressToInsets = 1.0f;
            this.foregroundImageReceiver = new ImageReceiver(this);
            Paint paint = new Paint(1);
            this.placeholderPaint = paint;
            paint.setColor(-16777216);
        }

        public void clearForeground() {
            AnimatedFileDrawable animation = this.foregroundImageReceiver.getAnimation();
            if (animation != null) {
                animation.removeSecondParentView(this);
            }
            this.foregroundImageReceiver.clearImage();
            ImageReceiver.BitmapHolder bitmapHolder = this.drawableHolder;
            if (bitmapHolder != null) {
                bitmapHolder.release();
                this.drawableHolder = null;
            }
            this.foregroundAlpha = 0.0f;
            invalidate();
        }

        public void drawForeground(boolean z) {
            this.drawForeground = z;
        }

        public float getForegroundAlpha() {
            return this.foregroundAlpha;
        }

        public ChatActivityInterface getPrevFragment() {
            return null;
        }

        @Override // android.view.View
        public void invalidate() {
            super.invalidate();
            ProfileGalleryView profileGalleryView = this.avatarsViewPager;
            if (profileGalleryView != null) {
                profileGalleryView.invalidate();
            }
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.BackupImageView, android.view.View
        public void onAttachedToWindow() {
            super.onAttachedToWindow();
            this.foregroundImageReceiver.onAttachedToWindow();
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.BackupImageView, android.view.View
        public void onDetachedFromWindow() {
            super.onDetachedFromWindow();
            this.foregroundImageReceiver.onDetachedFromWindow();
            ImageReceiver.BitmapHolder bitmapHolder = this.drawableHolder;
            if (bitmapHolder != null) {
                bitmapHolder.release();
                this.drawableHolder = null;
            }
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.BackupImageView, android.view.View
        public void onDraw(Canvas canvas) {
            AnimatedEmojiDrawable animatedEmojiDrawable = this.animatedEmojiDrawable;
            ImageReceiver imageReceiver = animatedEmojiDrawable != null ? animatedEmojiDrawable.getImageReceiver() : this.imageReceiver;
            canvas.save();
            float f = this.bounceScale;
            canvas.scale(f, f, getMeasuredWidth() / 2.0f, getMeasuredHeight() / 2.0f);
            float dpf2 = (this.hasStories ? (int) AndroidUtilities.dpf2(3.5f) : 0.0f) * (1.0f - this.progressToExpand);
            float f2 = this.progressToInsets;
            float f3 = this.foregroundAlpha;
            float f4 = dpf2 * f2 * (1.0f - f3);
            if (imageReceiver != null && (f3 < 1.0f || !this.drawForeground)) {
                float f5 = f4 * 2.0f;
                imageReceiver.setImageCoords(f4, f4, getMeasuredWidth() - f5, getMeasuredHeight() - f5);
                if (this.drawAvatar) {
                    imageReceiver.draw(canvas);
                }
            }
            if (this.foregroundAlpha > 0.0f && this.drawForeground) {
                if (this.foregroundImageReceiver.getDrawable() != null) {
                    float f6 = 2.0f * f4;
                    this.foregroundImageReceiver.setImageCoords(f4, f4, getMeasuredWidth() - f6, getMeasuredHeight() - f6);
                    this.foregroundImageReceiver.setAlpha(this.foregroundAlpha);
                    this.foregroundImageReceiver.draw(canvas);
                } else {
                    this.rect.set(0.0f, 0.0f, getMeasuredWidth(), getMeasuredHeight());
                    this.placeholderPaint.setAlpha((int) (this.foregroundAlpha * 255.0f));
                    float f7 = this.foregroundImageReceiver.getRoundRadius()[0];
                    canvas.drawRoundRect(this.rect, f7, f7, this.placeholderPaint);
                }
            }
            canvas.restore();
        }

        public void setAvatarsViewPager(ProfileGalleryView profileGalleryView) {
            this.avatarsViewPager = profileGalleryView;
        }

        public void setForegroundAlpha(float f) {
            this.foregroundAlpha = f;
            invalidate();
        }

        public void setForegroundImage(ImageLocation imageLocation, String str, Drawable drawable) {
            this.foregroundImageReceiver.setImage(imageLocation, str, drawable, 0L, (String) null, (Object) null, 0);
            ImageReceiver.BitmapHolder bitmapHolder = this.drawableHolder;
            if (bitmapHolder != null) {
                bitmapHolder.release();
                this.drawableHolder = null;
            }
        }

        public void setForegroundImageDrawable(ImageReceiver.BitmapHolder bitmapHolder) {
            if (bitmapHolder != null) {
                this.foregroundImageReceiver.setImageBitmap(bitmapHolder.drawable);
            }
            ImageReceiver.BitmapHolder bitmapHolder2 = this.drawableHolder;
            if (bitmapHolder2 != null) {
                bitmapHolder2.release();
                this.drawableHolder = null;
            }
            this.drawableHolder = bitmapHolder;
        }

        public void setHasStories(boolean z) {
            if (this.hasStories == z) {
                return;
            }
            this.hasStories = z;
            invalidate();
        }

        public void setProgressToExpand(float f) {
            if (this.progressToExpand == f) {
                return;
            }
            this.progressToExpand = f;
            invalidate();
        }

        public void setProgressToStoriesInsets(float f) {
            if (f == this.progressToInsets) {
                return;
            }
            this.progressToInsets = f;
            invalidate();
        }

        @Override // org.telegram.ui.Components.BackupImageView
        public void setRoundRadius(int i) {
            super.setRoundRadius(i);
            this.foregroundImageReceiver.setRoundRadius(i);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: classes4.dex */
    public class ClippedListView extends RecyclerListView implements StoriesListPlaceProvider.ClippedView {
        /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
        public ClippedListView(Context context) {
            super(context);
            ProfileActivity.this = r1;
        }

        @Override // org.telegram.ui.Stories.StoriesListPlaceProvider.ClippedView
        public void updateClip(int[] iArr) {
            iArr[0] = ((BaseFragment) ProfileActivity.this).actionBar.getMeasuredHeight();
            iArr[1] = getMeasuredHeight() - getPaddingBottom();
        }
    }

    /* loaded from: classes4.dex */
    public class DiffCallback extends DiffUtil.Callback {
        SparseIntArray newPositionToItem;
        ArrayList oldChatParticipant;
        ArrayList oldChatParticipantSorted;
        int oldMembersEndRow;
        int oldMembersStartRow;
        SparseIntArray oldPositionToItem;
        int oldRowCount;

        private DiffCallback() {
            ProfileActivity.this = r1;
            this.oldPositionToItem = new SparseIntArray();
            this.newPositionToItem = new SparseIntArray();
            this.oldChatParticipant = new ArrayList();
            this.oldChatParticipantSorted = new ArrayList();
        }

        private void put(int i, int i2, SparseIntArray sparseIntArray) {
            if (i2 >= 0) {
                sparseIntArray.put(i2, i);
            }
        }

        @Override // androidx.recyclerview.widget.DiffUtil.Callback
        public boolean areContentsTheSame(int i, int i2) {
            return areItemsTheSame(i, i2);
        }

        @Override // androidx.recyclerview.widget.DiffUtil.Callback
        public boolean areItemsTheSame(int i, int i2) {
            ArrayList arrayList;
            int i3;
            ArrayList arrayList2;
            int i4;
            if (i2 < ProfileActivity.this.membersStartRow || i2 >= ProfileActivity.this.membersEndRow || i < this.oldMembersStartRow || i >= this.oldMembersEndRow) {
                int i5 = this.oldPositionToItem.get(i, -1);
                return i5 == this.newPositionToItem.get(i2, -1) && i5 >= 0;
            }
            if (this.oldChatParticipantSorted.isEmpty()) {
                arrayList = this.oldChatParticipant;
                i3 = i - this.oldMembersStartRow;
            } else {
                arrayList = this.oldChatParticipant;
                i3 = ((Integer) this.oldChatParticipantSorted.get(i - this.oldMembersStartRow)).intValue();
            }
            TLRPC$ChatParticipant tLRPC$ChatParticipant = (TLRPC$ChatParticipant) arrayList.get(i3);
            if (ProfileActivity.this.sortedUsers.isEmpty()) {
                arrayList2 = ProfileActivity.this.visibleChatParticipants;
                i4 = i2 - ProfileActivity.this.membersStartRow;
            } else {
                arrayList2 = ProfileActivity.this.visibleChatParticipants;
                i4 = ((Integer) ProfileActivity.this.visibleSortedUsers.get(i2 - ProfileActivity.this.membersStartRow)).intValue();
            }
            return tLRPC$ChatParticipant.user_id == ((TLRPC$ChatParticipant) arrayList2.get(i4)).user_id;
        }

        public void fillPositions(SparseIntArray sparseIntArray) {
            sparseIntArray.clear();
            put(1, ProfileActivity.this.setAvatarRow, sparseIntArray);
            put(2, ProfileActivity.this.setAvatarSectionRow, sparseIntArray);
            put(3, ProfileActivity.this.numberSectionRow, sparseIntArray);
            put(4, ProfileActivity.this.numberRow, sparseIntArray);
            put(5, ProfileActivity.this.setUsernameRow, sparseIntArray);
            put(6, ProfileActivity.this.bioRow, sparseIntArray);
            put(7, ProfileActivity.this.phoneSuggestionRow, sparseIntArray);
            put(8, ProfileActivity.this.phoneSuggestionSectionRow, sparseIntArray);
            put(9, ProfileActivity.this.passwordSuggestionRow, sparseIntArray);
            put(10, ProfileActivity.this.passwordSuggestionSectionRow, sparseIntArray);
            put(11, ProfileActivity.this.graceSuggestionRow, sparseIntArray);
            put(12, ProfileActivity.this.graceSuggestionSectionRow, sparseIntArray);
            put(13, ProfileActivity.this.settingsSectionRow, sparseIntArray);
            put(14, ProfileActivity.this.settingsSectionRow2, sparseIntArray);
            put(15, ProfileActivity.this.notificationRow, sparseIntArray);
            put(16, ProfileActivity.this.languageRow, sparseIntArray);
            put(17, ProfileActivity.this.premiumRow, sparseIntArray);
            put(18, ProfileActivity.this.starsRow, sparseIntArray);
            put(19, ProfileActivity.this.businessRow, sparseIntArray);
            put(20, ProfileActivity.this.premiumSectionsRow, sparseIntArray);
            put(21, ProfileActivity.this.premiumGiftingRow, sparseIntArray);
            put(22, ProfileActivity.this.privacyRow, sparseIntArray);
            put(23, ProfileActivity.this.dataRow, sparseIntArray);
            put(24, ProfileActivity.this.liteModeRow, sparseIntArray);
            put(25, ProfileActivity.this.chatRow, sparseIntArray);
            put(26, ProfileActivity.this.filtersRow, sparseIntArray);
            put(27, ProfileActivity.this.stickersRow, sparseIntArray);
            put(28, ProfileActivity.this.devicesRow, sparseIntArray);
            put(29, ProfileActivity.this.devicesSectionRow, sparseIntArray);
            put(30, ProfileActivity.this.helpHeaderRow, sparseIntArray);
            put(31, ProfileActivity.this.questionRow, sparseIntArray);
            put(32, ProfileActivity.this.faqRow, sparseIntArray);
            put(33, ProfileActivity.this.policyRow, sparseIntArray);
            put(34, ProfileActivity.this.helpSectionCell, sparseIntArray);
            put(35, ProfileActivity.this.debugHeaderRow, sparseIntArray);
            put(36, ProfileActivity.this.sendLogsRow, sparseIntArray);
            put(37, ProfileActivity.this.sendLastLogsRow, sparseIntArray);
            put(38, ProfileActivity.this.clearLogsRow, sparseIntArray);
            put(39, ProfileActivity.this.switchBackendRow, sparseIntArray);
            put(40, ProfileActivity.this.versionRow, sparseIntArray);
            put(41, ProfileActivity.this.emptyRow, sparseIntArray);
            put(42, ProfileActivity.this.bottomPaddingRow, sparseIntArray);
            put(43, ProfileActivity.this.infoHeaderRow, sparseIntArray);
            put(44, ProfileActivity.this.phoneRow, sparseIntArray);
            put(45, ProfileActivity.this.locationRow, sparseIntArray);
            put(46, ProfileActivity.this.userInfoRow, sparseIntArray);
            put(47, ProfileActivity.this.channelInfoRow, sparseIntArray);
            put(48, ProfileActivity.this.usernameRow, sparseIntArray);
            put(49, ProfileActivity.this.notificationsDividerRow, sparseIntArray);
            put(50, ProfileActivity.this.reportDividerRow, sparseIntArray);
            put(51, ProfileActivity.this.notificationsRow, sparseIntArray);
            put(52, ProfileActivity.this.infoSectionRow, sparseIntArray);
            put(53, ProfileActivity.this.sendMessageRow, sparseIntArray);
            put(54, ProfileActivity.this.reportRow, sparseIntArray);
            put(55, ProfileActivity.this.reportReactionRow, sparseIntArray);
            put(56, ProfileActivity.this.addToContactsRow, sparseIntArray);
            put(57, ProfileActivity.this.settingsTimerRow, sparseIntArray);
            put(58, ProfileActivity.this.settingsKeyRow, sparseIntArray);
            put(59, ProfileActivity.this.secretSettingsSectionRow, sparseIntArray);
            put(60, ProfileActivity.this.membersHeaderRow, sparseIntArray);
            put(61, ProfileActivity.this.addMemberRow, sparseIntArray);
            put(62, ProfileActivity.this.subscribersRow, sparseIntArray);
            put(63, ProfileActivity.this.subscribersRequestsRow, sparseIntArray);
            put(64, ProfileActivity.this.administratorsRow, sparseIntArray);
            put(65, ProfileActivity.this.settingsRow, sparseIntArray);
            put(66, ProfileActivity.this.blockedUsersRow, sparseIntArray);
            put(67, ProfileActivity.this.membersSectionRow, sparseIntArray);
            put(68, ProfileActivity.this.sharedMediaRow, sparseIntArray);
            put(69, ProfileActivity.this.unblockRow, sparseIntArray);
            put(70, ProfileActivity.this.addToGroupButtonRow, sparseIntArray);
            put(71, ProfileActivity.this.addToGroupInfoRow, sparseIntArray);
            put(72, ProfileActivity.this.joinRow, sparseIntArray);
            put(73, ProfileActivity.this.lastSectionRow, sparseIntArray);
            put(74, ProfileActivity.this.notificationsSimpleRow, sparseIntArray);
            put(75, ProfileActivity.this.bizHoursRow, sparseIntArray);
            put(76, ProfileActivity.this.bizLocationRow, sparseIntArray);
            put(77, ProfileActivity.this.birthdayRow, sparseIntArray);
            put(78, ProfileActivity.this.channelRow, sparseIntArray);
            put(79, ProfileActivity.this.balanceRow, sparseIntArray);
            put(80, ProfileActivity.this.balanceDividerRow, sparseIntArray);
            put(81, ProfileActivity.this.botAppRow, sparseIntArray);
        }

        @Override // androidx.recyclerview.widget.DiffUtil.Callback
        public int getNewListSize() {
            return ProfileActivity.this.rowCount;
        }

        @Override // androidx.recyclerview.widget.DiffUtil.Callback
        public int getOldListSize() {
            return this.oldRowCount;
        }
    }

    /* loaded from: classes4.dex */
    public class ListAdapter extends RecyclerListView.SelectionAdapter {
        private Context mContext;
        private final HashMap usernameSpans = new HashMap();

        /* loaded from: classes4.dex */
        public class 10 extends ClickableSpan {
            final /* synthetic */ TLRPC$TL_username val$usernameObj;
            final /* synthetic */ String val$usernameRaw;

            10(TLRPC$TL_username tLRPC$TL_username, String str) {
                ListAdapter.this = r1;
                this.val$usernameObj = tLRPC$TL_username;
                this.val$usernameRaw = str;
            }

            public /* synthetic */ void lambda$onClick$0(TLObject tLObject, TLRPC$TL_username tLRPC$TL_username, TLRPC$TL_error tLRPC$TL_error) {
                ProfileActivity.this.setLoadingSpan(null);
                if (!(tLObject instanceof TL_fragment$TL_collectibleInfo)) {
                    BulletinFactory.showError(tLRPC$TL_error);
                    return;
                }
                TLObject user = ProfileActivity.this.userId != 0 ? ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId)) : ProfileActivity.this.getMessagesController().getChat(Long.valueOf(ProfileActivity.this.chatId));
                if (ProfileActivity.this.getContext() == null) {
                    return;
                }
                FragmentUsernameBottomSheet.open(ProfileActivity.this.getContext(), 0, tLRPC$TL_username.username, user, (TL_fragment$TL_collectibleInfo) tLObject, ProfileActivity.this.getResourceProvider());
            }

            public /* synthetic */ void lambda$onClick$1(final TLRPC$TL_username tLRPC$TL_username, final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$ListAdapter$10$$ExternalSyntheticLambda1
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.ListAdapter.10.this.lambda$onClick$0(tLObject, tLRPC$TL_username, tLRPC$TL_error);
                    }
                });
            }

            @Override // android.text.style.ClickableSpan
            public void onClick(View view) {
                if (this.val$usernameObj.editable) {
                    ProfileActivity.this.setLoadingSpan(null);
                    String str = ProfileActivity.this.getMessagesController().linkPrefix + "/" + this.val$usernameRaw;
                    if (ProfileActivity.this.currentChat == null || !ProfileActivity.this.currentChat.noforwards) {
                        AndroidUtilities.addToClipboard(str);
                        ProfileActivity.this.undoView.showWithAction(0L, 56, (Runnable) null);
                    }
                } else if (ProfileActivity.this.loadingSpan == this) {
                } else {
                    ProfileActivity.this.setLoadingSpan(this);
                    TL_fragment$TL_getCollectibleInfo tL_fragment$TL_getCollectibleInfo = new TL_fragment$TL_getCollectibleInfo();
                    TL_fragment$TL_inputCollectibleUsername tL_fragment$TL_inputCollectibleUsername = new TL_fragment$TL_inputCollectibleUsername();
                    tL_fragment$TL_inputCollectibleUsername.username = this.val$usernameObj.username;
                    tL_fragment$TL_getCollectibleInfo.collectible = tL_fragment$TL_inputCollectibleUsername;
                    ConnectionsManager connectionsManager = ProfileActivity.this.getConnectionsManager();
                    final TLRPC$TL_username tLRPC$TL_username = this.val$usernameObj;
                    ProfileActivity.this.getConnectionsManager().bindRequestToGuid(connectionsManager.sendRequest(tL_fragment$TL_getCollectibleInfo, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$ListAdapter$10$$ExternalSyntheticLambda0
                        @Override // org.telegram.tgnet.RequestDelegate
                        public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                            ProfileActivity.ListAdapter.10.this.lambda$onClick$1(tLRPC$TL_username, tLObject, tLRPC$TL_error);
                        }
                    }), ProfileActivity.this.getClassGuid());
                }
            }

            @Override // android.text.style.ClickableSpan, android.text.style.CharacterStyle
            public void updateDrawState(TextPaint textPaint) {
                textPaint.setUnderlineText(false);
                textPaint.setColor(textPaint.linkColor);
            }
        }

        public ListAdapter(Context context) {
            ProfileActivity.this = r1;
            this.mContext = context;
        }

        private CharSequence alsoUsernamesString(String str, ArrayList arrayList, CharSequence charSequence) {
            if (arrayList == null) {
                return charSequence;
            }
            ArrayList arrayList2 = new ArrayList(arrayList);
            int i = 0;
            while (i < arrayList2.size()) {
                if (!((TLRPC$TL_username) arrayList2.get(i)).active || (str != null && str.equals(((TLRPC$TL_username) arrayList2.get(i)).username))) {
                    arrayList2.remove(i);
                    i--;
                }
                i++;
            }
            SpannableStringBuilder spannableStringBuilder = charSequence;
            if (arrayList2.size() > 0) {
                SpannableStringBuilder spannableStringBuilder2 = new SpannableStringBuilder();
                for (int i2 = 0; i2 < arrayList2.size(); i2++) {
                    TLRPC$TL_username tLRPC$TL_username = (TLRPC$TL_username) arrayList2.get(i2);
                    SpannableString spannableString = new SpannableString("@" + tLRPC$TL_username.username);
                    spannableString.setSpan(makeUsernameLinkSpan(tLRPC$TL_username), 0, spannableString.length(), 33);
                    ProfileActivity profileActivity = ProfileActivity.this;
                    spannableString.setSpan(new ForegroundColorSpan(profileActivity.applyPeerColor(profileActivity.getThemedColor(Theme.key_chat_messageLinkIn), false)), 0, spannableString.length(), 33);
                    spannableStringBuilder2.append((CharSequence) spannableString);
                    if (i2 < arrayList2.size() - 1) {
                        spannableStringBuilder2.append((CharSequence) ", ");
                    }
                }
                String string = LocaleController.getString(R.string.UsernameAlso);
                SpannableStringBuilder spannableStringBuilder3 = new SpannableStringBuilder(string);
                int indexOf = string.indexOf("%1$s");
                spannableStringBuilder = spannableStringBuilder3;
                if (indexOf >= 0) {
                    spannableStringBuilder3.replace(indexOf, indexOf + 4, (CharSequence) spannableStringBuilder2);
                    spannableStringBuilder = spannableStringBuilder3;
                }
            }
            return spannableStringBuilder;
        }

        public /* synthetic */ void lambda$onBindViewHolder$1(RecyclerView.ViewHolder viewHolder, int i) {
            if (viewHolder.getAdapterPosition() == i && ProfileActivity.this.birthdayRow == i && viewHolder.getItemViewType() == 2) {
                onBindViewHolder(viewHolder, i);
            }
        }

        public /* synthetic */ void lambda$onBindViewHolder$4(boolean z) {
            Browser.openUrl(ProfileActivity.this.getContext(), LocaleController.getString(z ? R.string.ProfileBotOpenAppInfoOwnerLink : R.string.ProfileBotOpenAppInfoLink));
        }

        public /* synthetic */ void lambda$onBindViewHolder$5(View view) {
            ProfileActivity profileActivity = ProfileActivity.this;
            profileActivity.hoursShownMine = !profileActivity.hoursShownMine;
            if (!ProfileActivity.this.hoursExpanded) {
                ProfileActivity.this.hoursExpanded = true;
            }
            ProfileActivity.this.saveScrollPosition();
            view.requestLayout();
            ProfileActivity.this.listAdapter.notifyItemChanged(ProfileActivity.this.bizHoursRow);
            ProfileActivity profileActivity2 = ProfileActivity.this;
            if (profileActivity2.savedScrollPosition >= 0) {
                LinearLayoutManager linearLayoutManager = profileActivity2.layoutManager;
                ProfileActivity profileActivity3 = ProfileActivity.this;
                linearLayoutManager.scrollToPositionWithOffset(profileActivity3.savedScrollPosition, profileActivity3.savedScrollOffset - profileActivity3.listView.getPaddingTop());
            }
        }

        public /* synthetic */ void lambda$onCreateViewHolder$0(View view) {
            TLRPC$User user = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
            MessagesController messagesController = ProfileActivity.this.getMessagesController();
            ProfileActivity profileActivity = ProfileActivity.this;
            messagesController.openApp(profileActivity, user, profileActivity.getClassGuid(), null);
        }

        @Override // androidx.recyclerview.widget.RecyclerView.Adapter
        public int getItemCount() {
            return ProfileActivity.this.rowCount;
        }

        @Override // androidx.recyclerview.widget.RecyclerView.Adapter
        public int getItemViewType(int i) {
            if (i == ProfileActivity.this.infoHeaderRow || i == ProfileActivity.this.membersHeaderRow || i == ProfileActivity.this.settingsSectionRow2 || i == ProfileActivity.this.numberSectionRow || i == ProfileActivity.this.helpHeaderRow || i == ProfileActivity.this.debugHeaderRow) {
                return 1;
            }
            if (i == ProfileActivity.this.phoneRow || i == ProfileActivity.this.locationRow || i == ProfileActivity.this.numberRow) {
                return 2;
            }
            ProfileActivity profileActivity = ProfileActivity.this;
            if (i == profileActivity.birthdayRow) {
                return 2;
            }
            if (i == profileActivity.usernameRow || i == ProfileActivity.this.setUsernameRow) {
                return 19;
            }
            if (i == ProfileActivity.this.userInfoRow || i == ProfileActivity.this.channelInfoRow || i == ProfileActivity.this.bioRow) {
                return 3;
            }
            if (i == ProfileActivity.this.settingsTimerRow || i == ProfileActivity.this.settingsKeyRow || i == ProfileActivity.this.reportRow || i == ProfileActivity.this.reportReactionRow || i == ProfileActivity.this.subscribersRow || i == ProfileActivity.this.subscribersRequestsRow || i == ProfileActivity.this.administratorsRow || i == ProfileActivity.this.settingsRow || i == ProfileActivity.this.blockedUsersRow || i == ProfileActivity.this.addMemberRow || i == ProfileActivity.this.joinRow || i == ProfileActivity.this.unblockRow || i == ProfileActivity.this.sendMessageRow || i == ProfileActivity.this.notificationRow || i == ProfileActivity.this.privacyRow || i == ProfileActivity.this.languageRow || i == ProfileActivity.this.dataRow || i == ProfileActivity.this.chatRow || i == ProfileActivity.this.questionRow || i == ProfileActivity.this.devicesRow || i == ProfileActivity.this.filtersRow || i == ProfileActivity.this.stickersRow || i == ProfileActivity.this.faqRow || i == ProfileActivity.this.policyRow || i == ProfileActivity.this.sendLogsRow || i == ProfileActivity.this.sendLastLogsRow || i == ProfileActivity.this.clearLogsRow || i == ProfileActivity.this.switchBackendRow || i == ProfileActivity.this.setAvatarRow || i == ProfileActivity.this.addToGroupButtonRow || i == ProfileActivity.this.addToContactsRow || i == ProfileActivity.this.liteModeRow || i == ProfileActivity.this.premiumGiftingRow || i == ProfileActivity.this.businessRow || i == ProfileActivity.this.balanceRow) {
                return 4;
            }
            if (i == ProfileActivity.this.notificationsDividerRow) {
                return 5;
            }
            if (i == ProfileActivity.this.notificationsRow) {
                return 6;
            }
            if (i == ProfileActivity.this.notificationsSimpleRow) {
                return 20;
            }
            if (i == ProfileActivity.this.lastSectionRow || i == ProfileActivity.this.membersSectionRow || i == ProfileActivity.this.secretSettingsSectionRow || i == ProfileActivity.this.settingsSectionRow || i == ProfileActivity.this.devicesSectionRow || i == ProfileActivity.this.helpSectionCell || i == ProfileActivity.this.setAvatarSectionRow || i == ProfileActivity.this.passwordSuggestionSectionRow || i == ProfileActivity.this.phoneSuggestionSectionRow || i == ProfileActivity.this.premiumSectionsRow || i == ProfileActivity.this.reportDividerRow || i == ProfileActivity.this.channelDividerRow || i == ProfileActivity.this.graceSuggestionSectionRow || i == ProfileActivity.this.balanceDividerRow) {
                return 7;
            }
            if (i < ProfileActivity.this.membersStartRow || i >= ProfileActivity.this.membersEndRow) {
                if (i == ProfileActivity.this.emptyRow) {
                    return 11;
                }
                if (i == ProfileActivity.this.bottomPaddingRow) {
                    return 12;
                }
                if (i == ProfileActivity.this.sharedMediaRow) {
                    return 13;
                }
                if (i == ProfileActivity.this.versionRow) {
                    return 14;
                }
                if (i == ProfileActivity.this.passwordSuggestionRow || i == ProfileActivity.this.phoneSuggestionRow || i == ProfileActivity.this.graceSuggestionRow) {
                    return 15;
                }
                if (i == ProfileActivity.this.addToGroupInfoRow) {
                    return 17;
                }
                if (i == ProfileActivity.this.premiumRow) {
                    return 18;
                }
                if (i == ProfileActivity.this.starsRow) {
                    return 24;
                }
                if (i == ProfileActivity.this.bizLocationRow) {
                    return 21;
                }
                if (i == ProfileActivity.this.bizHoursRow) {
                    return 22;
                }
                if (i == ProfileActivity.this.channelRow) {
                    return 23;
                }
                if (i == ProfileActivity.this.botAppRow) {
                    return 25;
                }
                return i == ProfileActivity.this.infoSectionRow ? 26 : 0;
            }
            return 8;
        }

        @Override // org.telegram.ui.Components.RecyclerListView.SelectionAdapter
        public boolean isEnabled(RecyclerView.ViewHolder viewHolder) {
            if (ProfileActivity.this.notificationRow == -1) {
                View view = viewHolder.itemView;
                if (view instanceof UserCell) {
                    Object currentObject = ((UserCell) view).getCurrentObject();
                    if ((currentObject instanceof TLRPC$User) && UserObject.isUserSelf((TLRPC$User) currentObject)) {
                        return false;
                    }
                }
                int itemViewType = viewHolder.getItemViewType();
                return (itemViewType == 1 || itemViewType == 5 || itemViewType == 7 || itemViewType == 11 || itemViewType == 12 || itemViewType == 13 || itemViewType == 9 || itemViewType == 10) ? false : true;
            }
            int adapterPosition = viewHolder.getAdapterPosition();
            if (adapterPosition == ProfileActivity.this.notificationRow || adapterPosition == ProfileActivity.this.numberRow || adapterPosition == ProfileActivity.this.privacyRow || adapterPosition == ProfileActivity.this.languageRow || adapterPosition == ProfileActivity.this.setUsernameRow || adapterPosition == ProfileActivity.this.bioRow || adapterPosition == ProfileActivity.this.versionRow || adapterPosition == ProfileActivity.this.dataRow || adapterPosition == ProfileActivity.this.chatRow || adapterPosition == ProfileActivity.this.questionRow || adapterPosition == ProfileActivity.this.devicesRow || adapterPosition == ProfileActivity.this.filtersRow || adapterPosition == ProfileActivity.this.stickersRow || adapterPosition == ProfileActivity.this.faqRow || adapterPosition == ProfileActivity.this.policyRow || adapterPosition == ProfileActivity.this.sendLogsRow || adapterPosition == ProfileActivity.this.sendLastLogsRow || adapterPosition == ProfileActivity.this.clearLogsRow || adapterPosition == ProfileActivity.this.switchBackendRow || adapterPosition == ProfileActivity.this.setAvatarRow || adapterPosition == ProfileActivity.this.addToGroupButtonRow || adapterPosition == ProfileActivity.this.premiumRow || adapterPosition == ProfileActivity.this.premiumGiftingRow || adapterPosition == ProfileActivity.this.businessRow || adapterPosition == ProfileActivity.this.liteModeRow) {
                return true;
            }
            ProfileActivity profileActivity = ProfileActivity.this;
            return adapterPosition == profileActivity.birthdayRow || adapterPosition == profileActivity.channelRow || adapterPosition == ProfileActivity.this.starsRow;
        }

        public ClickableSpan makeUsernameLinkSpan(TLRPC$TL_username tLRPC$TL_username) {
            ClickableSpan clickableSpan = (ClickableSpan) this.usernameSpans.get(tLRPC$TL_username);
            if (clickableSpan != null) {
                return clickableSpan;
            }
            10 r1 = new 10(tLRPC$TL_username, tLRPC$TL_username.username);
            this.usernameSpans.put(tLRPC$TL_username, r1);
            return r1;
        }

        /* JADX WARN: Code restructure failed: missing block: B:1000:0x0683, code lost:
            if (r25 != (org.telegram.ui.ProfileActivity.this.membersSectionRow - 1)) goto L259;
         */
        /* JADX WARN: Code restructure failed: missing block: B:1003:0x0696, code lost:
            if (r25 != (org.telegram.ui.ProfileActivity.this.membersSectionRow - 1)) goto L270;
         */
        /* JADX WARN: Code restructure failed: missing block: B:1008:0x06b1, code lost:
            if (r25 != (org.telegram.ui.ProfileActivity.this.membersSectionRow - 1)) goto L270;
         */
        /* JADX WARN: Code restructure failed: missing block: B:1031:0x07ad, code lost:
            if (r25 != (org.telegram.ui.ProfileActivity.this.membersSectionRow - 1)) goto L259;
         */
        /* JADX WARN: Code restructure failed: missing block: B:1032:0x07af, code lost:
            r5 = true;
         */
        /* JADX WARN: Code restructure failed: missing block: B:1033:0x07b1, code lost:
            r5 = false;
         */
        /* JADX WARN: Code restructure failed: missing block: B:1036:0x07c7, code lost:
            if (r25 != (org.telegram.ui.ProfileActivity.this.membersSectionRow - 1)) goto L270;
         */
        /* JADX WARN: Code restructure failed: missing block: B:1048:0x07fe, code lost:
            if (r2 == false) goto L268;
         */
        /* JADX WARN: Code restructure failed: missing block: B:1050:0x0801, code lost:
            r5 = false;
         */
        /* JADX WARN: Code restructure failed: missing block: B:805:0x0192, code lost:
            if (org.telegram.ui.ProfileActivity.this.membersSectionRow != (-1)) goto L84;
         */
        /* JADX WARN: Code restructure failed: missing block: B:815:0x01ba, code lost:
            if (org.telegram.ui.ProfileActivity.this.sharedMediaRow == (-1)) goto L81;
         */
        /* JADX WARN: Code restructure failed: missing block: B:848:0x0259, code lost:
            if ((r3 instanceof org.telegram.tgnet.TLRPC$TL_channelParticipantAdmin) != false) goto L133;
         */
        /* JADX WARN: Code restructure failed: missing block: B:855:0x0269, code lost:
            if ((r0 instanceof org.telegram.tgnet.TLRPC$TL_chatParticipantAdmin) != false) goto L133;
         */
        /* JADX WARN: Code restructure failed: missing block: B:856:0x026b, code lost:
            r3 = org.telegram.messenger.R.string.ChannelAdmin;
         */
        /* JADX WARN: Code restructure failed: missing block: B:871:0x02c7, code lost:
            if (org.telegram.ui.ProfileActivity.this.membersSectionRow != (-1)) goto L156;
         */
        /* JADX WARN: Code restructure failed: missing block: B:881:0x02ef, code lost:
            if (org.telegram.ui.ProfileActivity.this.sharedMediaRow == (-1)) goto L81;
         */
        /* JADX WARN: Code restructure failed: missing block: B:973:0x05b2, code lost:
            if (r25 != (org.telegram.ui.ProfileActivity.this.membersSectionRow - 1)) goto L259;
         */
        /* JADX WARN: Code restructure failed: missing block: B:976:0x05d9, code lost:
            if (r25 != (org.telegram.ui.ProfileActivity.this.membersSectionRow - 1)) goto L259;
         */
        /* JADX WARN: Code restructure failed: missing block: B:983:0x0602, code lost:
            if (r25 != (org.telegram.ui.ProfileActivity.this.membersSectionRow - 1)) goto L270;
         */
        /* JADX WARN: Code restructure failed: missing block: B:986:0x0615, code lost:
            if (r25 != (org.telegram.ui.ProfileActivity.this.membersSectionRow - 1)) goto L270;
         */
        /* JADX WARN: Code restructure failed: missing block: B:993:0x064c, code lost:
            if (r25 != (org.telegram.ui.ProfileActivity.this.membersSectionRow - 1)) goto L259;
         */
        /* JADX WARN: Multi-variable type inference failed */
        /* JADX WARN: Removed duplicated region for block: B:1389:0x1024  */
        /* JADX WARN: Removed duplicated region for block: B:1391:0x1058  */
        /* JADX WARN: Removed duplicated region for block: B:859:0x028a  */
        /* JADX WARN: Removed duplicated region for block: B:860:0x028d  */
        /* JADX WARN: Removed duplicated region for block: B:925:0x0443 A[ADDED_TO_REGION] */
        /* JADX WARN: Removed duplicated region for block: B:929:0x044e  */
        /* JADX WARN: Removed duplicated region for block: B:930:0x0451  */
        @Override // androidx.recyclerview.widget.RecyclerView.Adapter
        /*
            Code decompiled incorrectly, please refer to instructions dump.
        */
        public void onBindViewHolder(final RecyclerView.ViewHolder viewHolder, final int i) {
            int i2;
            String string;
            String str;
            String string2;
            String str2;
            String str3;
            int i3;
            String str4;
            String str5;
            boolean z;
            boolean z2;
            TLRPC$TL_username tLRPC$TL_username;
            String str6;
            String str7;
            String str8;
            View.OnClickListener onClickListener;
            String formatString;
            boolean z3;
            boolean z4;
            String string3;
            int i4;
            String str9;
            String string4;
            int i5;
            String string5;
            int i6;
            int i7;
            String string6;
            int i8;
            int i9;
            int i10;
            String string7;
            int i11;
            String string8;
            int i12;
            String str10;
            boolean z5;
            boolean z6;
            long j;
            boolean z7;
            String string9;
            TextInfoPrivacyCell textInfoPrivacyCell;
            Context context;
            int i13;
            View view;
            TextInfoPrivacyCell textInfoPrivacyCell2;
            TLRPC$ChatParticipant tLRPC$ChatParticipant;
            int i14;
            ArrayList arrayList;
            int i15;
            final boolean z8 = true;
            int itemViewType = viewHolder.getItemViewType();
            if (itemViewType == 1) {
                HeaderCell headerCell = (HeaderCell) viewHolder.itemView;
                if (i == ProfileActivity.this.infoHeaderRow) {
                    i2 = (!ChatObject.isChannel(ProfileActivity.this.currentChat) || ProfileActivity.this.currentChat.megagroup || ProfileActivity.this.channelInfoRow == -1) ? R.string.Info : R.string.ReportChatDescription;
                } else if (i == ProfileActivity.this.membersHeaderRow) {
                    i2 = R.string.ChannelMembers;
                } else if (i == ProfileActivity.this.settingsSectionRow2) {
                    i2 = R.string.SETTINGS;
                } else if (i == ProfileActivity.this.numberSectionRow) {
                    i2 = R.string.Account;
                } else if (i != ProfileActivity.this.helpHeaderRow) {
                    if (i == ProfileActivity.this.debugHeaderRow) {
                        i2 = R.string.SettingsDebug;
                    }
                    ProfileActivity profileActivity = ProfileActivity.this;
                    headerCell.setTextColor(profileActivity.applyPeerColor(profileActivity.getThemedColor(Theme.key_windowBackgroundWhiteBlueHeader), false));
                    return;
                } else {
                    i2 = R.string.SettingsHelp;
                }
                headerCell.setText(LocaleController.getString(i2));
                ProfileActivity profileActivity2 = ProfileActivity.this;
                headerCell.setTextColor(profileActivity2.applyPeerColor(profileActivity2.getThemedColor(Theme.key_windowBackgroundWhiteBlueHeader), false));
                return;
            }
            String str11 = "";
            String str12 = null;
            str12 = null;
            if (itemViewType != 2) {
                if (itemViewType == 3) {
                    AboutLinkCell aboutLinkCell = (AboutLinkCell) viewHolder.itemView;
                    if (i == ProfileActivity.this.userInfoRow) {
                        TLRPC$User user = ProfileActivity.this.userInfo.user != null ? ProfileActivity.this.userInfo.user : ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userInfo.id));
                        if (ProfileActivity.this.isBot || (user != null && user.premium && ProfileActivity.this.userInfo.about != null)) {
                            r4 = true;
                        }
                        aboutLinkCell.setTextAndValue(ProfileActivity.this.userInfo.about, LocaleController.getString(R.string.UserBio), r4);
                        return;
                    } else if (i == ProfileActivity.this.channelInfoRow) {
                        String str13 = ProfileActivity.this.chatInfo.about;
                        while (str13.contains("\n\n\n")) {
                            str13 = str13.replace("\n\n\n", "\n\n");
                        }
                        if (ChatObject.isChannel(ProfileActivity.this.currentChat) && !ProfileActivity.this.currentChat.megagroup) {
                            r4 = true;
                        }
                        aboutLinkCell.setText(str13, r4);
                        return;
                    } else if (i == ProfileActivity.this.bioRow) {
                        if (ProfileActivity.this.userInfo == null || !TextUtils.isEmpty(ProfileActivity.this.userInfo.about)) {
                            aboutLinkCell.setTextAndValue(ProfileActivity.this.userInfo == null ? LocaleController.getString(R.string.Loading) : ProfileActivity.this.userInfo.about, LocaleController.getString(R.string.UserBio), ProfileActivity.this.getUserConfig().isPremium());
                            ProfileActivity profileActivity3 = ProfileActivity.this;
                            profileActivity3.currentBio = profileActivity3.userInfo != null ? ProfileActivity.this.userInfo.about : null;
                        } else {
                            aboutLinkCell.setTextAndValue(LocaleController.getString(R.string.UserBio), LocaleController.getString(R.string.UserBioDetail), false);
                            ProfileActivity.this.currentBio = null;
                        }
                        aboutLinkCell.setMoreButtonDisabled(true);
                        return;
                    } else {
                        return;
                    }
                }
                if (itemViewType != 4) {
                    if (itemViewType == 6) {
                        NotificationsCheckCell notificationsCheckCell = (NotificationsCheckCell) viewHolder.itemView;
                        if (i == ProfileActivity.this.notificationsRow) {
                            SharedPreferences notificationsSettings = MessagesController.getNotificationsSettings(((BaseFragment) ProfileActivity.this).currentAccount);
                            int i16 = (ProfileActivity.this.dialogId > 0L ? 1 : (ProfileActivity.this.dialogId == 0L ? 0 : -1));
                            ProfileActivity profileActivity4 = ProfileActivity.this;
                            if (i16 != 0) {
                                j = profileActivity4.dialogId;
                            } else {
                                int i17 = (profileActivity4.userId > 0L ? 1 : (profileActivity4.userId == 0L ? 0 : -1));
                                ProfileActivity profileActivity5 = ProfileActivity.this;
                                j = i17 != 0 ? profileActivity5.userId : -profileActivity5.chatId;
                            }
                            String sharedPrefKey = NotificationsController.getSharedPrefKey(j, ProfileActivity.this.topicId);
                            boolean z9 = notificationsSettings.getBoolean(NotificationsSettingsFacade.PROPERTY_CUSTOM + sharedPrefKey, false);
                            boolean contains = notificationsSettings.contains(NotificationsSettingsFacade.PROPERTY_NOTIFY + sharedPrefKey);
                            int i18 = notificationsSettings.getInt(NotificationsSettingsFacade.PROPERTY_NOTIFY + sharedPrefKey, 0);
                            int i19 = notificationsSettings.getInt(NotificationsSettingsFacade.PROPERTY_NOTIFY_UNTIL + sharedPrefKey, 0);
                            if (i18 == 3 && i19 != Integer.MAX_VALUE) {
                                int currentTime = i19 - ProfileActivity.this.getConnectionsManager().getCurrentTime();
                                if (currentTime <= 0) {
                                    string9 = LocaleController.getString(z9 ? R.string.NotificationsCustom : R.string.NotificationsOn);
                                    z7 = true;
                                } else {
                                    if (currentTime < 3600) {
                                        string9 = LocaleController.formatString("WillUnmuteIn", R.string.WillUnmuteIn, LocaleController.formatPluralString("Minutes", currentTime / 60, new Object[0]));
                                    } else if (currentTime < 86400) {
                                        string9 = LocaleController.formatString("WillUnmuteIn", R.string.WillUnmuteIn, LocaleController.formatPluralString("Hours", (int) Math.ceil((currentTime / 60.0f) / 60.0f), new Object[0]));
                                    } else if (currentTime < 31536000) {
                                        string9 = LocaleController.formatString("WillUnmuteIn", R.string.WillUnmuteIn, LocaleController.formatPluralString("Days", (int) Math.ceil(((currentTime / 60.0f) / 60.0f) / 24.0f), new Object[0]));
                                    } else {
                                        z7 = false;
                                        string9 = null;
                                    }
                                    z7 = false;
                                }
                            } else if (i18 == 0) {
                                if (!contains) {
                                    z7 = ProfileActivity.this.getNotificationsController().isGlobalNotificationsEnabled(j, false, false);
                                    string9 = LocaleController.getString((z7 || !z9) ? !z7 ? R.string.NotificationsOn : R.string.NotificationsOff : R.string.NotificationsCustom);
                                }
                                z7 = true;
                                string9 = LocaleController.getString((z7 || !z9) ? !z7 ? R.string.NotificationsOn : R.string.NotificationsOff : R.string.NotificationsCustom);
                            } else {
                                if (i18 != 1) {
                                    z7 = false;
                                    string9 = LocaleController.getString((z7 || !z9) ? !z7 ? R.string.NotificationsOn : R.string.NotificationsOff : R.string.NotificationsCustom);
                                }
                                z7 = true;
                                string9 = LocaleController.getString((z7 || !z9) ? !z7 ? R.string.NotificationsOn : R.string.NotificationsOff : R.string.NotificationsCustom);
                            }
                            if (string9 == null) {
                                string9 = LocaleController.getString(R.string.NotificationsOff);
                            }
                            HashSet hashSet = ProfileActivity.this.notificationsExceptionTopics;
                            if (hashSet != null && !hashSet.isEmpty()) {
                                string9 = String.format(Locale.US, LocaleController.getPluralString("NotificationTopicExceptionsDesctription", ProfileActivity.this.notificationsExceptionTopics.size()), string9, Integer.valueOf(ProfileActivity.this.notificationsExceptionTopics.size()));
                            }
                            notificationsCheckCell.setAnimationsEnabled(ProfileActivity.this.fragmentOpened);
                            notificationsCheckCell.setTextAndValueAndCheck(LocaleController.getString(R.string.Notifications), string9, z7, ProfileActivity.this.botAppRow >= 0);
                            return;
                        }
                        return;
                    }
                    if (itemViewType == 7) {
                        View view2 = viewHolder.itemView;
                        view2.setTag(Integer.valueOf(i));
                        if (i == ProfileActivity.this.infoSectionRow && ProfileActivity.this.lastSectionRow == -1 && ProfileActivity.this.secretSettingsSectionRow == -1 && ProfileActivity.this.sharedMediaRow == -1) {
                            textInfoPrivacyCell2 = view2;
                        }
                        textInfoPrivacyCell2 = view2;
                        if (i != ProfileActivity.this.secretSettingsSectionRow) {
                            textInfoPrivacyCell2 = view2;
                            if (i != ProfileActivity.this.lastSectionRow) {
                                textInfoPrivacyCell = view2;
                                if (i == ProfileActivity.this.membersSectionRow) {
                                    textInfoPrivacyCell = view2;
                                    if (ProfileActivity.this.lastSectionRow == -1) {
                                        textInfoPrivacyCell2 = view2;
                                        textInfoPrivacyCell = view2;
                                    }
                                }
                                context = this.mContext;
                                i13 = R.drawable.greydivider;
                                view = textInfoPrivacyCell;
                            }
                        }
                        context = this.mContext;
                        i13 = R.drawable.greydivider_bottom;
                        view = textInfoPrivacyCell2;
                    } else if (itemViewType == 8) {
                        UserCell userCell = (UserCell) viewHolder.itemView;
                        try {
                            if (ProfileActivity.this.visibleSortedUsers.isEmpty()) {
                                arrayList = ProfileActivity.this.visibleChatParticipants;
                                i15 = i - ProfileActivity.this.membersStartRow;
                            } else {
                                arrayList = ProfileActivity.this.visibleChatParticipants;
                                i15 = ((Integer) ProfileActivity.this.visibleSortedUsers.get(i - ProfileActivity.this.membersStartRow)).intValue();
                            }
                            tLRPC$ChatParticipant = (TLRPC$ChatParticipant) arrayList.get(i15);
                        } catch (Exception e) {
                            FileLog.e(e);
                            tLRPC$ChatParticipant = null;
                        }
                        if (tLRPC$ChatParticipant != null) {
                            if (tLRPC$ChatParticipant instanceof TLRPC$TL_chatChannelParticipant) {
                                TLRPC$ChannelParticipant tLRPC$ChannelParticipant = ((TLRPC$TL_chatChannelParticipant) tLRPC$ChatParticipant).channelParticipant;
                                if (TextUtils.isEmpty(tLRPC$ChannelParticipant.rank)) {
                                    if (!(tLRPC$ChannelParticipant instanceof TLRPC$TL_channelParticipantCreator)) {
                                    }
                                    i14 = R.string.ChannelCreator;
                                } else {
                                    str12 = tLRPC$ChannelParticipant.rank;
                                }
                                userCell.setAdminRole(str12);
                                userCell.setData(ProfileActivity.this.getMessagesController().getUser(Long.valueOf(tLRPC$ChatParticipant.user_id)), null, null, 0, i == ProfileActivity.this.membersEndRow - 1);
                                return;
                            }
                            if (!(tLRPC$ChatParticipant instanceof TLRPC$TL_chatParticipantCreator)) {
                            }
                            i14 = R.string.ChannelCreator;
                            str12 = LocaleController.getString(i14);
                            userCell.setAdminRole(str12);
                            userCell.setData(ProfileActivity.this.getMessagesController().getUser(Long.valueOf(tLRPC$ChatParticipant.user_id)), null, null, 0, i == ProfileActivity.this.membersEndRow - 1);
                            return;
                        }
                        return;
                    } else if (itemViewType == 12) {
                        viewHolder.itemView.requestLayout();
                        return;
                    } else if (itemViewType == 15) {
                        SettingsSuggestionCell settingsSuggestionCell = (SettingsSuggestionCell) viewHolder.itemView;
                        if (i == ProfileActivity.this.passwordSuggestionRow) {
                            settingsSuggestionCell.setType(1);
                            return;
                        } else if (i == ProfileActivity.this.phoneSuggestionRow) {
                            settingsSuggestionCell.setType(0);
                            return;
                        } else if (i == ProfileActivity.this.graceSuggestionRow) {
                            settingsSuggestionCell.setType(2);
                            return;
                        } else {
                            return;
                        }
                    } else if (itemViewType != 26) {
                        switch (itemViewType) {
                            case 17:
                                TextInfoPrivacyCell textInfoPrivacyCell3 = (TextInfoPrivacyCell) viewHolder.itemView;
                                textInfoPrivacyCell3.setBackground(Theme.getThemedDrawable(this.mContext, R.drawable.greydivider, ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundGrayShadow)));
                                textInfoPrivacyCell3.setText(LocaleController.getString(R.string.BotAddToGroupOrChannelInfo));
                                return;
                            case 18:
                            case 24:
                                break;
                            case 19:
                                break;
                            case 20:
                                ((TextCheckCell) viewHolder.itemView).setTextAndCheck(LocaleController.getString(R.string.Notifications), !ProfileActivity.this.getMessagesController().isDialogMuted(ProfileActivity.this.getDialogId(), ProfileActivity.this.topicId), false);
                                return;
                            case 21:
                                ProfileLocationCell profileLocationCell = (ProfileLocationCell) viewHolder.itemView;
                                TLRPC$TL_businessLocation tLRPC$TL_businessLocation = ProfileActivity.this.userInfo != null ? ProfileActivity.this.userInfo.business_location : null;
                                if (ProfileActivity.this.notificationsDividerRow < 0 && !ProfileActivity.this.myProfile) {
                                    r4 = true;
                                }
                                profileLocationCell.set(tLRPC$TL_businessLocation, r4);
                                return;
                            case 22:
                                ProfileHoursCell profileHoursCell = (ProfileHoursCell) viewHolder.itemView;
                                profileHoursCell.setOnTimezoneSwitchClick(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$ListAdapter$$ExternalSyntheticLambda2
                                    @Override // android.view.View.OnClickListener
                                    public final void onClick(View view3) {
                                        ProfileActivity.ListAdapter.this.lambda$onBindViewHolder$5(view3);
                                    }
                                });
                                profileHoursCell.set(ProfileActivity.this.userInfo != null ? ProfileActivity.this.userInfo.business_work_hours : null, ProfileActivity.this.hoursExpanded, ProfileActivity.this.hoursShownMine, (ProfileActivity.this.notificationsDividerRow < 0 && !ProfileActivity.this.myProfile) || ProfileActivity.this.bizLocationRow >= 0);
                                return;
                            case 23:
                                ProfileChannelCell profileChannelCell = (ProfileChannelCell) viewHolder.itemView;
                                TLRPC$Chat chat = ProfileActivity.this.getMessagesController().getChat(Long.valueOf(ProfileActivity.this.userInfo.personal_channel_id));
                                ProfileChannelCell.ChannelMessageFetcher channelMessageFetcher = ProfileActivity.this.profileChannelMessageFetcher;
                                profileChannelCell.set(chat, channelMessageFetcher != null ? channelMessageFetcher.messageObject : null);
                                return;
                            default:
                                return;
                        }
                    } else {
                        TextInfoPrivacyCell textInfoPrivacyCell4 = (TextInfoPrivacyCell) viewHolder.itemView;
                        if (i == ProfileActivity.this.infoSectionRow) {
                            if (ProfileActivity.this.botAppRow >= 0) {
                                TLRPC$User user2 = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
                                z8 = (user2 != null && user2.bot && user2.bot_can_edit) ? false : false;
                                textInfoPrivacyCell4.setFixedSize(0);
                                textInfoPrivacyCell4.setText(AndroidUtilities.replaceSingleTag(LocaleController.getString(z8 ? R.string.ProfileBotOpenAppInfoOwner : R.string.ProfileBotOpenAppInfo), new Runnable() { // from class: org.telegram.ui.ProfileActivity$ListAdapter$$ExternalSyntheticLambda1
                                    @Override // java.lang.Runnable
                                    public final void run() {
                                        ProfileActivity.ListAdapter.this.lambda$onBindViewHolder$4(z8);
                                    }
                                }));
                            } else {
                                textInfoPrivacyCell4.setFixedSize(14);
                                textInfoPrivacyCell4.setText(null);
                            }
                        }
                        if (i == ProfileActivity.this.infoSectionRow && ProfileActivity.this.lastSectionRow == -1 && ProfileActivity.this.secretSettingsSectionRow == -1 && ProfileActivity.this.sharedMediaRow == -1) {
                            textInfoPrivacyCell2 = textInfoPrivacyCell4;
                        }
                        textInfoPrivacyCell2 = textInfoPrivacyCell4;
                        if (i != ProfileActivity.this.secretSettingsSectionRow) {
                            textInfoPrivacyCell2 = textInfoPrivacyCell4;
                            if (i != ProfileActivity.this.lastSectionRow) {
                                textInfoPrivacyCell = textInfoPrivacyCell4;
                                if (i == ProfileActivity.this.membersSectionRow) {
                                    textInfoPrivacyCell = textInfoPrivacyCell4;
                                    if (ProfileActivity.this.lastSectionRow == -1) {
                                        textInfoPrivacyCell2 = textInfoPrivacyCell4;
                                        textInfoPrivacyCell = textInfoPrivacyCell4;
                                    }
                                }
                                context = this.mContext;
                                i13 = R.drawable.greydivider;
                                view = textInfoPrivacyCell;
                            }
                        }
                        context = this.mContext;
                        i13 = R.drawable.greydivider_bottom;
                        view = textInfoPrivacyCell2;
                    }
                    view.setBackgroundDrawable(Theme.getThemedDrawable(context, i13, ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundGrayShadow)));
                    return;
                }
                TextCell textCell = (TextCell) viewHolder.itemView;
                int i20 = Theme.key_windowBackgroundWhiteGrayIcon;
                int i21 = Theme.key_windowBackgroundWhiteBlackText;
                textCell.setColors(i20, i21);
                textCell.setTag(Integer.valueOf(i21));
                if (i == ProfileActivity.this.settingsTimerRow) {
                    int i22 = ProfileActivity.this.getMessagesController().getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(ProfileActivity.this.dialogId))).ttl;
                    textCell.setTextAndValue(LocaleController.getString(R.string.MessageLifetime), i22 == 0 ? LocaleController.getString(R.string.ShortMessageLifetimeForever) : LocaleController.formatTTLString(i22), false, false);
                } else {
                    if (i == ProfileActivity.this.unblockRow) {
                        textCell.setText(LocaleController.getString(R.string.Unblock), false);
                        i7 = Theme.key_text_RedRegular;
                    } else if (i == ProfileActivity.this.settingsKeyRow) {
                        IdenticonDrawable identiconDrawable = new IdenticonDrawable();
                        identiconDrawable.setEncryptedChat(ProfileActivity.this.getMessagesController().getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(ProfileActivity.this.dialogId))));
                        textCell.setTextAndValueDrawable(LocaleController.getString(R.string.EncryptionKey), identiconDrawable, false);
                    } else {
                        if (i == ProfileActivity.this.joinRow) {
                            textCell.setColors(-1, Theme.key_windowBackgroundWhiteBlueText2);
                            str9 = LocaleController.getString(ProfileActivity.this.currentChat.megagroup ? R.string.ProfileJoinGroup : R.string.ProfileJoinChannel);
                        } else if (i != ProfileActivity.this.subscribersRow) {
                            if (i == ProfileActivity.this.subscribersRequestsRow) {
                                if (ProfileActivity.this.chatInfo != null) {
                                    string8 = LocaleController.getString(R.string.SubscribeRequests);
                                    str10 = String.format("%d", Integer.valueOf(ProfileActivity.this.chatInfo.requests_pending));
                                    i12 = R.drawable.msg_requests;
                                }
                            } else if (i != ProfileActivity.this.administratorsRow) {
                                if (i == ProfileActivity.this.settingsRow) {
                                    string7 = LocaleController.getString(R.string.ChannelAdminSettings);
                                    i11 = R.drawable.msg_customize;
                                } else if (i == ProfileActivity.this.balanceRow) {
                                    long j2 = ProfileActivity.this.chatId != 0 ? -ProfileActivity.this.chatId : ProfileActivity.this.userId;
                                    long balance = BotStarsController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getBalance(j2);
                                    long channelBalance = BotStarsController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getChannelBalance(j2);
                                    SpannableStringBuilder spannableStringBuilder = new SpannableStringBuilder();
                                    if (channelBalance > 0) {
                                        DecimalFormatSymbols decimalFormatSymbols = new DecimalFormatSymbols(Locale.US);
                                        decimalFormatSymbols.setDecimalSeparator('.');
                                        DecimalFormat decimalFormat = new DecimalFormat("#.##", decimalFormatSymbols);
                                        decimalFormat.setMinimumFractionDigits(2);
                                        decimalFormat.setMaximumFractionDigits(3);
                                        decimalFormat.setGroupingUsed(false);
                                        SpannableStringBuilder append = spannableStringBuilder.append((CharSequence) "TON ");
                                        double d = channelBalance;
                                        Double.isNaN(d);
                                        append.append((CharSequence) decimalFormat.format(d / 1.0E9d));
                                    }
                                    if (balance > 0) {
                                        if (spannableStringBuilder.length() > 0) {
                                            spannableStringBuilder.append((CharSequence) " ");
                                        }
                                        spannableStringBuilder.append((CharSequence) "XTR ").append((CharSequence) LocaleController.formatNumber(balance, ','));
                                    }
                                    textCell.setTextAndValueAndIcon((CharSequence) LocaleController.getString(R.string.ChannelStars), ChannelMonetizationLayout.replaceTON(StarsIntroActivity.replaceStarsWithPlain(spannableStringBuilder, 0.7f), textCell.getTextView().getPaint()), R.drawable.menu_feature_paid, true);
                                } else if (i == ProfileActivity.this.blockedUsersRow) {
                                    if (ProfileActivity.this.chatInfo != null) {
                                        string8 = LocaleController.getString(R.string.ChannelBlacklist);
                                        String format = String.format("%d", Integer.valueOf(Math.max(ProfileActivity.this.chatInfo.banned_count, ProfileActivity.this.chatInfo.kicked_count)));
                                        i12 = R.drawable.msg_user_remove;
                                        str10 = format;
                                    } else {
                                        string7 = LocaleController.getString(R.string.ChannelBlacklist);
                                        i11 = R.drawable.msg_user_remove;
                                    }
                                } else if (i == ProfileActivity.this.addMemberRow) {
                                    textCell.setColors(Theme.key_windowBackgroundWhiteBlueIcon, Theme.key_windowBackgroundWhiteBlueButton);
                                    int i23 = i + 1;
                                    boolean z10 = i23 >= ProfileActivity.this.membersStartRow && i23 < ProfileActivity.this.membersEndRow;
                                    string7 = LocaleController.getString(R.string.AddMember);
                                    i11 = R.drawable.msg_contact_add;
                                    if (ProfileActivity.this.membersSectionRow != -1) {
                                    }
                                    z5 = true;
                                } else {
                                    if (i == ProfileActivity.this.sendMessageRow) {
                                        i5 = R.string.SendMessageLocation;
                                    } else {
                                        if (i == ProfileActivity.this.addToContactsRow) {
                                            textCell.setTextAndIcon((CharSequence) LocaleController.getString(R.string.AddToContacts), R.drawable.msg_contact_add, false);
                                            i9 = Theme.key_windowBackgroundWhiteBlueIcon;
                                            i10 = Theme.key_windowBackgroundWhiteBlueButton;
                                        } else if (i == ProfileActivity.this.reportReactionRow) {
                                            TLRPC$Chat chat2 = ProfileActivity.this.getMessagesController().getChat(Long.valueOf(-ProfileActivity.this.reportReactionFromDialogId));
                                            if (chat2 == null || !ChatObject.canBlockUsers(chat2)) {
                                                string6 = LocaleController.getString(R.string.ReportReaction);
                                                i8 = R.drawable.msg_report;
                                            } else {
                                                string6 = LocaleController.getString(R.string.ReportReactionAndBan);
                                                i8 = R.drawable.msg_block2;
                                            }
                                            textCell.setTextAndIcon((CharSequence) string6, i8, false);
                                            i9 = Theme.key_text_RedBold;
                                            i10 = Theme.key_text_RedRegular;
                                            textCell.setColors(i9, i10);
                                        } else if (i == ProfileActivity.this.reportRow) {
                                            textCell.setText(LocaleController.getString(R.string.ReportUserLocation), false);
                                            i7 = Theme.key_text_RedRegular;
                                            textCell.setColors(-1, i7);
                                        } else {
                                            if (i == ProfileActivity.this.languageRow) {
                                                textCell.setTextAndValueAndIcon(LocaleController.getString(R.string.Language), LocaleController.getCurrentLanguageName(), false, R.drawable.msg2_language, false);
                                            } else {
                                                if (i == ProfileActivity.this.notificationRow) {
                                                    string5 = LocaleController.getString(R.string.NotificationsAndSounds);
                                                    i6 = R.drawable.msg2_notifications;
                                                    z3 = true;
                                                } else {
                                                    z3 = true;
                                                    if (i == ProfileActivity.this.privacyRow) {
                                                        string5 = LocaleController.getString(R.string.PrivacySettings);
                                                        i6 = R.drawable.msg2_secret;
                                                    } else if (i == ProfileActivity.this.dataRow) {
                                                        string5 = LocaleController.getString(R.string.DataSettings);
                                                        i6 = R.drawable.msg2_data;
                                                    } else if (i == ProfileActivity.this.chatRow) {
                                                        string5 = LocaleController.getString(R.string.ChatSettings);
                                                        i6 = R.drawable.msg2_discussion;
                                                    } else if (i == ProfileActivity.this.filtersRow) {
                                                        string5 = LocaleController.getString(R.string.Filters);
                                                        i6 = R.drawable.msg2_folder;
                                                    } else if (i == ProfileActivity.this.stickersRow) {
                                                        string5 = LocaleController.getString(R.string.StickersName);
                                                        i6 = R.drawable.msg2_sticker;
                                                    } else if (i == ProfileActivity.this.liteModeRow) {
                                                        string5 = LocaleController.getString(R.string.PowerUsage);
                                                        i6 = R.drawable.msg2_battery;
                                                    } else if (i == ProfileActivity.this.questionRow) {
                                                        string5 = LocaleController.getString(R.string.AskAQuestion);
                                                        i6 = R.drawable.msg2_ask_question;
                                                    } else if (i == ProfileActivity.this.faqRow) {
                                                        string5 = LocaleController.getString(R.string.TelegramFAQ);
                                                        i6 = R.drawable.msg2_help;
                                                    } else {
                                                        if (i == ProfileActivity.this.policyRow) {
                                                            string3 = LocaleController.getString(R.string.PrivacyPolicy);
                                                            i4 = R.drawable.msg2_policy;
                                                        } else if (i == ProfileActivity.this.sendLogsRow) {
                                                            i5 = R.string.DebugSendLogs;
                                                        } else {
                                                            z4 = true;
                                                            if (i == ProfileActivity.this.sendLastLogsRow) {
                                                                string4 = LocaleController.getString(R.string.DebugSendLastLogs);
                                                                textCell.setText(string4, z4);
                                                            } else if (i == ProfileActivity.this.clearLogsRow) {
                                                                textCell.setText(LocaleController.getString(R.string.DebugClearLogs), ProfileActivity.this.switchBackendRow != -1);
                                                            } else if (i == ProfileActivity.this.switchBackendRow) {
                                                                str9 = "Switch Backend";
                                                            } else if (i == ProfileActivity.this.devicesRow) {
                                                                textCell.setTextAndIcon((CharSequence) LocaleController.getString(R.string.Devices), R.drawable.msg2_devices, true);
                                                            } else if (i == ProfileActivity.this.setAvatarRow) {
                                                                ProfileActivity.this.cellCameraDrawable.setCustomEndFrame(86);
                                                                ProfileActivity.this.cellCameraDrawable.setCurrentFrame(85, false);
                                                                textCell.setTextAndIcon((CharSequence) LocaleController.getString(R.string.SetProfilePhoto), (Drawable) ProfileActivity.this.cellCameraDrawable, false);
                                                                textCell.setColors(Theme.key_windowBackgroundWhiteBlueIcon, Theme.key_windowBackgroundWhiteBlueButton);
                                                                textCell.getImageView().setPadding(0, 0, 0, AndroidUtilities.dp(8.0f));
                                                                textCell.setImageLeft(12);
                                                                ProfileActivity.this.setAvatarCell = textCell;
                                                            } else if (i == ProfileActivity.this.addToGroupButtonRow) {
                                                                string3 = LocaleController.getString(R.string.AddToGroupOrChannel);
                                                                i4 = R.drawable.msg_groups_create;
                                                            } else if (i == ProfileActivity.this.premiumRow) {
                                                                textCell.setTextAndIcon((CharSequence) LocaleController.getString(R.string.TelegramPremium), (Drawable) new AnimatedEmojiDrawable.WrapSizeDrawable(PremiumGradient.getInstance().premiumStarMenuDrawable, AndroidUtilities.dp(24.0f), AndroidUtilities.dp(24.0f)), true);
                                                            } else if (i == ProfileActivity.this.starsRow) {
                                                                StarsController starsController = StarsController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount);
                                                                long balance2 = starsController.getBalance();
                                                                String string10 = LocaleController.getString(R.string.MenuTelegramStars);
                                                                if (starsController.balanceAvailable() && balance2 > 0) {
                                                                    str11 = LocaleController.formatNumber((int) balance2, ',');
                                                                }
                                                                textCell.setTextAndValueAndIcon((CharSequence) string10, (CharSequence) str11, (Drawable) new AnimatedEmojiDrawable.WrapSizeDrawable(PremiumGradient.getInstance().goldenStarMenuDrawable, AndroidUtilities.dp(24.0f), AndroidUtilities.dp(24.0f)), true);
                                                            } else if (i == ProfileActivity.this.businessRow) {
                                                                textCell.setTextAndIcon(TextCell.applyNewSpan(LocaleController.getString(R.string.TelegramBusiness)), R.drawable.menu_shop, true);
                                                            } else if (i == ProfileActivity.this.premiumGiftingRow) {
                                                                textCell.setTextAndIcon((CharSequence) LocaleController.getString(R.string.GiftPremiumGifting), R.drawable.menu_gift, false);
                                                            }
                                                        }
                                                        textCell.setTextAndIcon((CharSequence) string3, i4, false);
                                                    }
                                                }
                                                textCell.setTextAndIcon(string5, i6, z3);
                                            }
                                            textCell.setImageLeft(23);
                                        }
                                        textCell.setColors(i9, i10);
                                    }
                                    string4 = LocaleController.getString(i5);
                                    z4 = true;
                                    textCell.setText(string4, z4);
                                }
                                textCell.setTextAndIcon(string7, i11, z5);
                            } else if (ProfileActivity.this.chatInfo != null) {
                                string8 = LocaleController.getString(R.string.ChannelAdministrators);
                                str10 = String.format("%d", Integer.valueOf(ProfileActivity.this.chatInfo.admins_count));
                                i12 = R.drawable.msg_admins;
                            } else {
                                string7 = LocaleController.getString(R.string.ChannelAdministrators);
                                i11 = R.drawable.msg_admins;
                            }
                            textCell.setTextAndValueAndIcon(string8, str10, i12, z6);
                        } else if (ProfileActivity.this.chatInfo != null) {
                            if (!ChatObject.isChannel(ProfileActivity.this.currentChat) || ProfileActivity.this.currentChat.megagroup) {
                                string8 = LocaleController.getString(R.string.ChannelMembers);
                                str10 = String.format("%d", Integer.valueOf(ProfileActivity.this.chatInfo.participants_count));
                                i12 = R.drawable.msg_groups;
                            } else {
                                string8 = LocaleController.getString(R.string.ChannelSubscribers);
                                str10 = String.format("%d", Integer.valueOf(ProfileActivity.this.chatInfo.participants_count));
                                i12 = R.drawable.msg_groups;
                            }
                            textCell.setTextAndValueAndIcon(string8, str10, i12, z6);
                        } else {
                            if (!ChatObject.isChannel(ProfileActivity.this.currentChat) || ProfileActivity.this.currentChat.megagroup) {
                                string7 = LocaleController.getString(R.string.ChannelMembers);
                                i11 = R.drawable.msg_groups;
                            } else {
                                string7 = LocaleController.getString(R.string.ChannelSubscribers);
                                i11 = R.drawable.msg_groups;
                            }
                            textCell.setTextAndIcon(string7, i11, z5);
                        }
                        textCell.setText(str9, false);
                    }
                    textCell.setColors(-1, i7);
                }
                AnimatedTextView animatedTextView = textCell.valueTextView;
                ProfileActivity profileActivity6 = ProfileActivity.this;
                animatedTextView.setTextColor(profileActivity6.applyPeerColor(profileActivity6.getThemedColor(Theme.key_windowBackgroundWhiteValueText), false));
                return;
            }
            TextDetailCell textDetailCell = (TextDetailCell) viewHolder.itemView;
            ProfileActivity profileActivity7 = ProfileActivity.this;
            if (i == profileActivity7.birthdayRow) {
                TLRPC$UserFull userFull = profileActivity7.getMessagesController().getUserFull(ProfileActivity.this.userId);
                if (userFull != null && userFull.birthday != null) {
                    boolean isToday = BirthdayController.isToday(userFull);
                    TLRPC$TL_birthday tLRPC$TL_birthday = userFull.birthday;
                    boolean z11 = (tLRPC$TL_birthday.flags & 1) != 0;
                    int years = z11 ? Period.between(LocalDate.of(tLRPC$TL_birthday.year, tLRPC$TL_birthday.month, tLRPC$TL_birthday.day), LocalDate.now()).getYears() : -1;
                    String birthdayString = UserInfoActivity.birthdayString(userFull.birthday);
                    if (z11) {
                        formatString = LocaleController.formatPluralString(isToday ? "ProfileBirthdayTodayValueYear" : "ProfileBirthdayValueYear", years, birthdayString);
                    } else {
                        formatString = LocaleController.formatString(isToday ? R.string.ProfileBirthdayTodayValue : R.string.ProfileBirthdayValue, birthdayString);
                    }
                    textDetailCell.setTextAndValue(Emoji.replaceWithRestrictedEmoji(formatString, textDetailCell.textView, new Runnable() { // from class: org.telegram.ui.ProfileActivity$ListAdapter$$ExternalSyntheticLambda3
                        @Override // java.lang.Runnable
                        public final void run() {
                            ProfileActivity.ListAdapter.this.lambda$onBindViewHolder$1(viewHolder, i);
                        }
                    }), LocaleController.getString(isToday ? R.string.ProfileBirthdayToday : R.string.ProfileBirthday), (!ProfileActivity.this.isTopic && ProfileActivity.this.bizHoursRow == -1 && ProfileActivity.this.bizLocationRow == -1) ? false : true);
                    ProfileActivity profileActivity8 = ProfileActivity.this;
                    if (!profileActivity8.myProfile && isToday && !profileActivity8.getMessagesController().premiumPurchaseBlocked()) {
                        z2 = true;
                        z = false;
                        if (z2) {
                            Drawable drawable = ContextCompat.getDrawable(textDetailCell.getContext(), R.drawable.msg_input_gift);
                            ProfileActivity profileActivity9 = ProfileActivity.this;
                            drawable.setColorFilter(new PorterDuffColorFilter(profileActivity9.applyPeerColor(profileActivity9.getThemedColor(Theme.key_switch2TrackChecked), false), PorterDuff.Mode.MULTIPLY));
                            textDetailCell.setImage(drawable, LocaleController.getString(R.string.GiftPremium));
                            final ProfileActivity profileActivity10 = ProfileActivity.this;
                            onClickListener = new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$ListAdapter$$ExternalSyntheticLambda4
                                @Override // android.view.View.OnClickListener
                                public final void onClick(View view3) {
                                    ProfileActivity.access$34600(ProfileActivity.this, view3);
                                }
                            };
                        } else if (z) {
                            Drawable drawable2 = ContextCompat.getDrawable(textDetailCell.getContext(), R.drawable.msg_qr_mini);
                            ProfileActivity profileActivity11 = ProfileActivity.this;
                            drawable2.setColorFilter(new PorterDuffColorFilter(profileActivity11.applyPeerColor(profileActivity11.getThemedColor(Theme.key_switch2TrackChecked), false), PorterDuff.Mode.MULTIPLY));
                            textDetailCell.setImage(drawable2, LocaleController.getString(R.string.GetQRCode));
                            final ProfileActivity profileActivity12 = ProfileActivity.this;
                            onClickListener = new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$ListAdapter$$ExternalSyntheticLambda5
                                @Override // android.view.View.OnClickListener
                                public final void onClick(View view3) {
                                    ProfileActivity.access$34600(ProfileActivity.this, view3);
                                }
                            };
                        } else {
                            onClickListener = null;
                            textDetailCell.setImage(null);
                        }
                        textDetailCell.setImageClickListener(onClickListener);
                        textDetailCell.setTag(Integer.valueOf(i));
                        textDetailCell.textView.setLoading(ProfileActivity.this.loadingSpan);
                        textDetailCell.valueTextView.setLoading(ProfileActivity.this.loadingSpan);
                    }
                }
            } else {
                if (i == profileActivity7.phoneRow) {
                    TLRPC$User user3 = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
                    if (user3 != null && !TextUtils.isEmpty(ProfileActivity.this.vcardPhone)) {
                        str3 = PhoneFormat.getInstance().format("+" + ProfileActivity.this.vcardPhone);
                        str8 = ProfileActivity.this.vcardPhone;
                    } else if (user3 == null || TextUtils.isEmpty(user3.phone)) {
                        str3 = LocaleController.getString(R.string.PhoneHidden);
                        str8 = null;
                    } else {
                        String format2 = PhoneFormat.getInstance().format("+" + user3.phone);
                        str8 = user3.phone;
                        str3 = format2;
                    }
                    ProfileActivity.this.isFragmentPhoneNumber = str8 != null && str8.matches("888\\d{8}");
                    i3 = ProfileActivity.this.isFragmentPhoneNumber ? R.string.AnonymousNumber : R.string.PhoneMobile;
                } else if (i == ProfileActivity.this.usernameRow) {
                    ArrayList arrayList2 = new ArrayList();
                    if (ProfileActivity.this.userId != 0) {
                        TLRPC$User user4 = ProfileActivity.this.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId));
                        if (user4 != null) {
                            arrayList2.addAll(user4.usernames);
                        }
                        if (user4 == null || TextUtils.isEmpty(user4.username)) {
                            tLRPC$TL_username = null;
                            str6 = null;
                        } else {
                            tLRPC$TL_username = DialogObject.findUsername(user4.username, arrayList2);
                            str6 = user4.username;
                        }
                        ArrayList arrayList3 = user4 == null ? new ArrayList() : new ArrayList(user4.usernames);
                        if (TextUtils.isEmpty(str6)) {
                            int i24 = 0;
                            while (true) {
                                if (i24 < arrayList3.size()) {
                                    TLRPC$TL_username tLRPC$TL_username2 = (TLRPC$TL_username) arrayList3.get(i24);
                                    if (tLRPC$TL_username2 == null || !tLRPC$TL_username2.active || TextUtils.isEmpty(tLRPC$TL_username2.username)) {
                                        i24++;
                                    } else {
                                        str6 = tLRPC$TL_username2.username;
                                        tLRPC$TL_username = tLRPC$TL_username2;
                                    }
                                }
                            }
                        }
                        String string11 = LocaleController.getString(R.string.Username);
                        if (str6 != null) {
                            String str14 = "@" + str6;
                            if (tLRPC$TL_username == null || tLRPC$TL_username.editable) {
                                str7 = str14;
                            } else {
                                SpannableString spannableString = new SpannableString(str14);
                                spannableString.setSpan(makeUsernameLinkSpan(tLRPC$TL_username), 0, spannableString.length(), 33);
                                str7 = spannableString;
                            }
                        } else {
                            str7 = "";
                        }
                        str5 = str6;
                        str11 = string11;
                        z = true;
                        ArrayList arrayList4 = arrayList3;
                        str4 = str7;
                        arrayList2 = arrayList4;
                    } else {
                        if (ProfileActivity.this.currentChat != null) {
                            TLRPC$Chat chat3 = ProfileActivity.this.getMessagesController().getChat(Long.valueOf(ProfileActivity.this.chatId));
                            str5 = ChatObject.getPublicUsername(chat3);
                            if (chat3 != null) {
                                arrayList2.addAll(chat3.usernames);
                            }
                            if (ChatObject.isPublic(chat3)) {
                                StringBuilder sb = new StringBuilder();
                                sb.append(ProfileActivity.this.getMessagesController().linkPrefix);
                                sb.append("/");
                                sb.append(str5);
                                if (ProfileActivity.this.topicId != 0) {
                                    str11 = "/" + ProfileActivity.this.topicId;
                                }
                                sb.append(str11);
                                str4 = sb.toString();
                                str11 = LocaleController.getString(R.string.InviteLink);
                                z = true;
                            } else {
                                StringBuilder sb2 = new StringBuilder();
                                sb2.append(ProfileActivity.this.getMessagesController().linkPrefix);
                                sb2.append("/c/");
                                sb2.append(ProfileActivity.this.chatId);
                                if (ProfileActivity.this.topicId != 0) {
                                    str11 = "/" + ProfileActivity.this.topicId;
                                }
                                sb2.append(str11);
                                str4 = sb2.toString();
                                str11 = LocaleController.getString(R.string.InviteLinkPrivate);
                            }
                        } else {
                            arrayList2 = new ArrayList();
                            str4 = "";
                            str5 = null;
                        }
                        z = false;
                    }
                    textDetailCell.setTextAndValue(str4, alsoUsernamesString(str5, arrayList2, str11), !(!ProfileActivity.this.isTopic && ProfileActivity.this.bizHoursRow == -1 && ProfileActivity.this.bizLocationRow == -1) && ProfileActivity.this.birthdayRow < 0);
                    z2 = false;
                    if (z2) {
                    }
                    textDetailCell.setImageClickListener(onClickListener);
                    textDetailCell.setTag(Integer.valueOf(i));
                    textDetailCell.textView.setLoading(ProfileActivity.this.loadingSpan);
                    textDetailCell.valueTextView.setLoading(ProfileActivity.this.loadingSpan);
                } else if (i == ProfileActivity.this.locationRow) {
                    if (ProfileActivity.this.chatInfo != null && (ProfileActivity.this.chatInfo.location instanceof TLRPC$TL_channelLocation)) {
                        str3 = ((TLRPC$TL_channelLocation) ProfileActivity.this.chatInfo.location).address;
                        i3 = R.string.AttachLocation;
                    }
                } else if (i == ProfileActivity.this.numberRow) {
                    TLRPC$User currentUser = UserConfig.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getCurrentUser();
                    if (currentUser == null || (str2 = currentUser.phone) == null || str2.length() == 0) {
                        string2 = LocaleController.getString(R.string.NumberUnknown);
                    } else {
                        string2 = PhoneFormat.getInstance().format("+" + currentUser.phone);
                    }
                    textDetailCell.setTextAndValue(string2, LocaleController.getString(R.string.TapToChangePhone), true);
                    textDetailCell.setContentDescriptionValueFirst(false);
                } else if (i == ProfileActivity.this.setUsernameRow) {
                    TLRPC$User currentUser2 = UserConfig.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getCurrentUser();
                    CharSequence string12 = LocaleController.getString(R.string.Username);
                    if (currentUser2 == null || currentUser2.usernames.size() <= 0) {
                        String publicUsername = UserObject.getPublicUsername(currentUser2);
                        if (currentUser2 == null || TextUtils.isEmpty(publicUsername)) {
                            string = LocaleController.getString(R.string.UsernameEmpty);
                        } else {
                            string = "@" + publicUsername;
                        }
                    } else {
                        int i25 = 0;
                        while (true) {
                            if (i25 < currentUser2.usernames.size()) {
                                TLRPC$TL_username tLRPC$TL_username3 = (TLRPC$TL_username) currentUser2.usernames.get(i25);
                                if (tLRPC$TL_username3 == null || !tLRPC$TL_username3.active || TextUtils.isEmpty(tLRPC$TL_username3.username)) {
                                    i25++;
                                } else {
                                    str = tLRPC$TL_username3.username;
                                }
                            } else {
                                str = null;
                            }
                        }
                        if (str == null) {
                            str = currentUser2.username;
                        }
                        if (str == null || TextUtils.isEmpty(str)) {
                            string = LocaleController.getString(R.string.UsernameEmpty);
                        } else {
                            string = "@" + str;
                        }
                        string12 = alsoUsernamesString(str, currentUser2.usernames, string12);
                    }
                    textDetailCell.setTextAndValue(string, string12, true);
                    textDetailCell.setContentDescriptionValueFirst(true);
                }
                textDetailCell.setTextAndValue(str3, LocaleController.getString(i3), false);
            }
            z2 = false;
            z = false;
            if (z2) {
            }
            textDetailCell.setImageClickListener(onClickListener);
            textDetailCell.setTag(Integer.valueOf(i));
            textDetailCell.textView.setLoading(ProfileActivity.this.loadingSpan);
            textDetailCell.valueTextView.setLoading(ProfileActivity.this.loadingSpan);
        }

        @Override // androidx.recyclerview.widget.RecyclerView.Adapter
        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {
            TextDetailCell textDetailCell;
            TextInfoPrivacyCell textInfoPrivacyCell;
            StringBuilder sb;
            String str;
            switch (i) {
                case 1:
                    textDetailCell = new HeaderCell(this.mContext, 23, ProfileActivity.this.resourcesProvider);
                    View view = textDetailCell;
                    view.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view;
                    break;
                case 2:
                case 19:
                    TextDetailCell textDetailCell2 = new TextDetailCell(this.mContext, ProfileActivity.this.resourcesProvider, i == 19) { // from class: org.telegram.ui.ProfileActivity.ListAdapter.1
                        {
                            ListAdapter.this = this;
                        }

                        @Override // org.telegram.ui.Cells.TextDetailCell
                        protected int processColor(int i2) {
                            return ProfileActivity.this.applyPeerColor(i2, false);
                        }
                    };
                    textDetailCell2.setContentDescriptionValueFirst(true);
                    textDetailCell = textDetailCell2;
                    View view2 = textDetailCell;
                    view2.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view2;
                    break;
                case 3:
                    ProfileActivity profileActivity = ProfileActivity.this;
                    Context context = this.mContext;
                    ProfileActivity profileActivity2 = ProfileActivity.this;
                    textDetailCell = profileActivity.aboutLinkCell = new AboutLinkCell(context, profileActivity2, profileActivity2.resourcesProvider) { // from class: org.telegram.ui.ProfileActivity.ListAdapter.2
                        {
                            ListAdapter.this = this;
                        }

                        @Override // org.telegram.ui.Cells.AboutLinkCell
                        protected void didPressUrl(String str2, Browser.Progress progress) {
                            ProfileActivity.this.openUrl(str2, progress);
                        }

                        @Override // org.telegram.ui.Cells.AboutLinkCell
                        protected void didResizeEnd() {
                            ProfileActivity.this.layoutManager.mIgnoreTopPadding = false;
                        }

                        @Override // org.telegram.ui.Cells.AboutLinkCell
                        protected void didResizeStart() {
                            ProfileActivity.this.layoutManager.mIgnoreTopPadding = true;
                        }

                        @Override // org.telegram.ui.Cells.AboutLinkCell
                        protected int processColor(int i2) {
                            return ProfileActivity.this.applyPeerColor(i2, false);
                        }
                    };
                    View view22 = textDetailCell;
                    view22.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view22;
                    break;
                case 4:
                    textDetailCell = new TextCell(this.mContext, ProfileActivity.this.resourcesProvider) { // from class: org.telegram.ui.ProfileActivity.ListAdapter.3
                        {
                            ListAdapter.this = this;
                        }

                        @Override // org.telegram.ui.Cells.TextCell
                        protected int processColor(int i2) {
                            return ProfileActivity.this.applyPeerColor(i2, false);
                        }
                    };
                    View view222 = textDetailCell;
                    view222.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view222;
                    break;
                case 5:
                    View dividerCell = new DividerCell(this.mContext, ProfileActivity.this.resourcesProvider);
                    dividerCell.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    dividerCell.setPadding(AndroidUtilities.dp(20.0f), AndroidUtilities.dp(4.0f), 0, 0);
                    textInfoPrivacyCell = dividerCell;
                    break;
                case 6:
                    textDetailCell = new NotificationsCheckCell(this.mContext, 23, 70, false, ProfileActivity.this.resourcesProvider) { // from class: org.telegram.ui.ProfileActivity.ListAdapter.4
                        {
                            ListAdapter.this = this;
                        }

                        @Override // org.telegram.ui.Cells.NotificationsCheckCell
                        protected int processColor(int i2) {
                            return ProfileActivity.this.applyPeerColor(i2, false);
                        }
                    };
                    View view2222 = textDetailCell;
                    view2222.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view2222;
                    break;
                case 7:
                    textInfoPrivacyCell = new ShadowSectionCell(this.mContext, ProfileActivity.this.resourcesProvider);
                    break;
                case 8:
                    textDetailCell = new UserCell(this.mContext, ProfileActivity.this.addMemberRow == -1 ? 9 : 6, 0, true, ProfileActivity.this.resourcesProvider);
                    View view22222 = textDetailCell;
                    view22222.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view22222;
                    break;
                case 9:
                case 10:
                case 14:
                case 16:
                default:
                    TextInfoPrivacyCell textInfoPrivacyCell2 = new TextInfoPrivacyCell(this.mContext, 10, ProfileActivity.this.resourcesProvider);
                    textInfoPrivacyCell2.getTextView().setGravity(1);
                    textInfoPrivacyCell2.getTextView().setTextColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhiteGrayText3));
                    textInfoPrivacyCell2.getTextView().setMovementMethod(null);
                    try {
                        PackageInfo packageInfo = ApplicationLoader.applicationContext.getPackageManager().getPackageInfo(ApplicationLoader.applicationContext.getPackageName(), 0);
                        int i2 = packageInfo.versionCode;
                        int i3 = i2 / 10;
                        int i4 = i2 % 10;
                        if (i4 == 1 || i4 == 2) {
                            sb = new StringBuilder();
                            sb.append("store bundled ");
                            sb.append(Build.CPU_ABI);
                            sb.append(" ");
                            str = Build.CPU_ABI2;
                        } else if (ApplicationLoader.isStandaloneBuild()) {
                            sb = new StringBuilder();
                            sb.append("direct ");
                            sb.append(Build.CPU_ABI);
                            sb.append(" ");
                            str = Build.CPU_ABI2;
                        } else {
                            sb = new StringBuilder();
                            sb.append("universal ");
                            sb.append(Build.CPU_ABI);
                            sb.append(" ");
                            str = Build.CPU_ABI2;
                        }
                        sb.append(str);
                        textInfoPrivacyCell2.setText(LocaleController.formatString("TelegramVersion", R.string.TelegramVersion, String.format(Locale.US, "v%s (%d) %s", packageInfo.versionName, Integer.valueOf(i3), sb.toString())));
                    } catch (Exception e) {
                        FileLog.e(e);
                    }
                    textInfoPrivacyCell2.getTextView().setPadding(0, AndroidUtilities.dp(14.0f), 0, AndroidUtilities.dp(14.0f));
                    textInfoPrivacyCell2.setBackgroundDrawable(Theme.getThemedDrawable(this.mContext, R.drawable.greydivider_bottom, ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundGrayShadow)));
                    textInfoPrivacyCell = textInfoPrivacyCell2;
                    break;
                case 11:
                    textInfoPrivacyCell = new View(this.mContext) { // from class: org.telegram.ui.ProfileActivity.ListAdapter.5
                        {
                            ListAdapter.this = this;
                        }

                        @Override // android.view.View
                        protected void onMeasure(int i5, int i6) {
                            super.onMeasure(View.MeasureSpec.makeMeasureSpec(View.MeasureSpec.getSize(i5), 1073741824), View.MeasureSpec.makeMeasureSpec(AndroidUtilities.dp(32.0f), 1073741824));
                        }
                    };
                    break;
                case 12:
                    View view3 = new View(this.mContext) { // from class: org.telegram.ui.ProfileActivity.ListAdapter.6
                        private int lastPaddingHeight = 0;
                        private int lastListViewHeight = 0;

                        {
                            ListAdapter.this = this;
                        }

                        @Override // android.view.View
                        protected void onMeasure(int i5, int i6) {
                            if (this.lastListViewHeight != ProfileActivity.this.listView.getMeasuredHeight()) {
                                this.lastPaddingHeight = 0;
                            }
                            this.lastListViewHeight = ProfileActivity.this.listView.getMeasuredHeight();
                            int childCount = ProfileActivity.this.listView.getChildCount();
                            if (childCount != ProfileActivity.this.listAdapter.getItemCount()) {
                                setMeasuredDimension(ProfileActivity.this.listView.getMeasuredWidth(), this.lastPaddingHeight);
                                return;
                            }
                            int i7 = 0;
                            for (int i8 = 0; i8 < childCount; i8++) {
                                int childAdapterPosition = ProfileActivity.this.listView.getChildAdapterPosition(ProfileActivity.this.listView.getChildAt(i8));
                                if (childAdapterPosition >= 0 && childAdapterPosition != ProfileActivity.this.bottomPaddingRow) {
                                    i7 += ProfileActivity.this.listView.getChildAt(i8).getMeasuredHeight();
                                }
                            }
                            View view4 = ProfileActivity.this.fragmentView;
                            int measuredHeight = (((view4 == null ? 0 : view4.getMeasuredHeight()) - ActionBar.getCurrentActionBarHeight()) - AndroidUtilities.statusBarHeight) - i7;
                            if (measuredHeight > AndroidUtilities.dp(88.0f)) {
                                measuredHeight = 0;
                            }
                            int i9 = measuredHeight > 0 ? measuredHeight : 0;
                            int measuredWidth = ProfileActivity.this.listView.getMeasuredWidth();
                            this.lastPaddingHeight = i9;
                            setMeasuredDimension(measuredWidth, i9);
                        }
                    };
                    view3.setBackground(new ColorDrawable(0));
                    textInfoPrivacyCell = view3;
                    break;
                case 13:
                    if (ProfileActivity.this.sharedMediaLayout.getParent() != null) {
                        ((ViewGroup) ProfileActivity.this.sharedMediaLayout.getParent()).removeView(ProfileActivity.this.sharedMediaLayout);
                    }
                    textInfoPrivacyCell = ProfileActivity.this.sharedMediaLayout;
                    break;
                case 15:
                    textInfoPrivacyCell = new SettingsSuggestionCell(this.mContext, ProfileActivity.this.resourcesProvider) { // from class: org.telegram.ui.ProfileActivity.ListAdapter.8
                        {
                            ListAdapter.this = this;
                        }

                        @Override // org.telegram.ui.Cells.SettingsSuggestionCell
                        protected void onNoClick(int i5) {
                            ProfileActivity profileActivity3;
                            BaseFragment twoStepVerificationSetupActivity;
                            if (i5 == 0) {
                                profileActivity3 = ProfileActivity.this;
                                twoStepVerificationSetupActivity = new ActionIntroActivity(3);
                            } else {
                                profileActivity3 = ProfileActivity.this;
                                twoStepVerificationSetupActivity = new TwoStepVerificationSetupActivity(8, null);
                            }
                            profileActivity3.presentFragment(twoStepVerificationSetupActivity);
                        }

                        @Override // org.telegram.ui.Cells.SettingsSuggestionCell
                        protected void onYesClick(int i5) {
                            NotificationCenter notificationCenter = ProfileActivity.this.getNotificationCenter();
                            ProfileActivity profileActivity3 = ProfileActivity.this;
                            int i6 = NotificationCenter.newSuggestionsAvailable;
                            notificationCenter.removeObserver(profileActivity3, i6);
                            if (i5 == 2) {
                                Browser.openUrl(getContext(), ProfileActivity.this.getMessagesController().premiumManageSubscriptionUrl);
                                ProfileActivity.this.getMessagesController().removeSuggestion(0L, "PREMIUM_GRACE");
                            } else {
                                ProfileActivity.this.getMessagesController().removeSuggestion(0L, i5 == 0 ? "VALIDATE_PHONE_NUMBER" : "VALIDATE_PASSWORD");
                            }
                            ProfileActivity.this.updateListAnimated(false);
                            ProfileActivity.this.getNotificationCenter().addObserver(ProfileActivity.this, i6);
                        }
                    };
                    break;
                case 17:
                    textDetailCell = new TextInfoPrivacyCell(this.mContext, ProfileActivity.this.resourcesProvider);
                    View view222222 = textDetailCell;
                    view222222.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view222222;
                    break;
                case 18:
                case 24:
                    textDetailCell = new ProfilePremiumCell(this.mContext, i == 18 ? 0 : 1, ProfileActivity.this.resourcesProvider);
                    View view2222222 = textDetailCell;
                    view2222222.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view2222222;
                    break;
                case 20:
                    textDetailCell = new TextCheckCell(this.mContext, ProfileActivity.this.resourcesProvider);
                    View view22222222 = textDetailCell;
                    view22222222.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view22222222;
                    break;
                case 21:
                    textDetailCell = new ProfileLocationCell(this.mContext, ProfileActivity.this.resourcesProvider);
                    View view222222222 = textDetailCell;
                    view222222222.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view222222222;
                    break;
                case 22:
                    textDetailCell = new ProfileHoursCell(this.mContext, ProfileActivity.this.resourcesProvider) { // from class: org.telegram.ui.ProfileActivity.ListAdapter.7
                        {
                            ListAdapter.this = this;
                        }

                        @Override // org.telegram.ui.Business.ProfileHoursCell
                        protected int processColor(int i5) {
                            return ProfileActivity.this.applyPeerColor(i5, false);
                        }
                    };
                    View view2222222222 = textDetailCell;
                    view2222222222.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view2222222222;
                    break;
                case 23:
                    textDetailCell = new ProfileChannelCell(ProfileActivity.this) { // from class: org.telegram.ui.ProfileActivity.ListAdapter.9
                        {
                            ListAdapter.this = this;
                        }

                        @Override // org.telegram.ui.Cells.ProfileChannelCell
                        public int processColor(int i5) {
                            return ProfileActivity.this.applyPeerColor(i5, false);
                        }
                    };
                    View view22222222222 = textDetailCell;
                    view22222222222.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view22222222222;
                    break;
                case 25:
                    FrameLayout frameLayout = new FrameLayout(this.mContext);
                    ButtonWithCounterView buttonWithCounterView = new ButtonWithCounterView(this.mContext, ProfileActivity.this.resourcesProvider);
                    buttonWithCounterView.setText(LocaleController.getString(R.string.ProfileBotOpenApp), false);
                    buttonWithCounterView.setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$ListAdapter$$ExternalSyntheticLambda0
                        @Override // android.view.View.OnClickListener
                        public final void onClick(View view4) {
                            ProfileActivity.ListAdapter.this.lambda$onCreateViewHolder$0(view4);
                        }
                    });
                    frameLayout.addView(buttonWithCounterView, LayoutHelper.createFrame(-1, 48.0f, 119, 18.0f, 14.0f, 18.0f, 14.0f));
                    textDetailCell = frameLayout;
                    View view222222222222 = textDetailCell;
                    view222222222222.setBackgroundColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                    textInfoPrivacyCell = view222222222222;
                    break;
                case 26:
                    textInfoPrivacyCell = new TextInfoPrivacyCell(this.mContext, ProfileActivity.this.resourcesProvider);
                    break;
            }
            if (i != 13) {
                textInfoPrivacyCell.setLayoutParams(new RecyclerView.LayoutParams(-1, -2));
            }
            return new RecyclerListView.Holder(textInfoPrivacyCell);
        }

        @Override // androidx.recyclerview.widget.RecyclerView.Adapter
        public void onViewAttachedToWindow(RecyclerView.ViewHolder viewHolder) {
            if (viewHolder.itemView == ProfileActivity.this.sharedMediaLayout) {
                ProfileActivity.this.sharedMediaLayoutAttached = true;
            }
            View view = viewHolder.itemView;
            if (view instanceof TextDetailCell) {
                ((TextDetailCell) view).textView.setLoading(ProfileActivity.this.loadingSpan);
                ((TextDetailCell) viewHolder.itemView).valueTextView.setLoading(ProfileActivity.this.loadingSpan);
            }
        }

        @Override // androidx.recyclerview.widget.RecyclerView.Adapter
        public void onViewDetachedFromWindow(RecyclerView.ViewHolder viewHolder) {
            if (viewHolder.itemView == ProfileActivity.this.sharedMediaLayout) {
                ProfileActivity.this.sharedMediaLayoutAttached = false;
            }
        }

        @Override // androidx.recyclerview.widget.RecyclerView.Adapter
        public void onViewRecycled(RecyclerView.ViewHolder viewHolder) {
            if (viewHolder.getAdapterPosition() == ProfileActivity.this.setAvatarRow) {
                ProfileActivity.this.setAvatarCell = null;
            }
        }
    }

    /* loaded from: classes4.dex */
    public class NestedFrameLayout extends SizeNotifierFrameLayout implements NestedScrollingParent3 {
        private NestedScrollingParentHelper nestedScrollingParentHelper;

        /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
        public NestedFrameLayout(Context context) {
            super(context);
            ProfileActivity.this = r1;
            this.nestedScrollingParentHelper = new NestedScrollingParentHelper(this);
        }

        public /* synthetic */ void lambda$onNestedScroll$0() {
            try {
                RecyclerListView currentListView = ProfileActivity.this.sharedMediaLayout.getCurrentListView();
                if (currentListView == null || currentListView.getAdapter() == null) {
                    return;
                }
                currentListView.getAdapter().notifyDataSetChanged();
            } catch (Throwable unused) {
            }
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // org.telegram.ui.Components.SizeNotifierFrameLayout
        public void drawList(Canvas canvas, boolean z, ArrayList arrayList) {
            super.drawList(canvas, z, arrayList);
            canvas.save();
            canvas.translate(0.0f, ProfileActivity.this.listView.getY());
            ProfileActivity.this.sharedMediaLayout.drawListForBlur(canvas, arrayList);
            canvas.restore();
        }

        @Override // android.view.ViewGroup, android.view.ViewParent, androidx.core.view.NestedScrollingParent
        public boolean onNestedPreFling(View view, float f, float f2) {
            return super.onNestedPreFling(view, f, f2);
        }

        @Override // androidx.core.view.NestedScrollingParent2
        public void onNestedPreScroll(View view, int i, int i2, int[] iArr, int i3) {
            int i4;
            RecyclerListView currentListView;
            int findFirstVisibleItemPosition;
            if (view == ProfileActivity.this.listView) {
                if (ProfileActivity.this.sharedMediaRow == -1 || !ProfileActivity.this.sharedMediaLayoutAttached) {
                    return;
                }
                boolean isSearchFieldVisible = ((BaseFragment) ProfileActivity.this).actionBar.isSearchFieldVisible();
                int top = ProfileActivity.this.sharedMediaLayout.getTop();
                boolean z = false;
                if (i2 >= 0) {
                    if (isSearchFieldVisible) {
                        RecyclerListView currentListView2 = ProfileActivity.this.sharedMediaLayout.getCurrentListView();
                        iArr[1] = i2;
                        if (top > 0) {
                            iArr[1] = i2 - i2;
                        }
                        if (currentListView2 == null || (i4 = iArr[1]) <= 0) {
                            return;
                        }
                        currentListView2.scrollBy(0, i4);
                        return;
                    }
                    return;
                }
                if (top <= 0 && (currentListView = ProfileActivity.this.sharedMediaLayout.getCurrentListView()) != null && (findFirstVisibleItemPosition = ((LinearLayoutManager) currentListView.getLayoutManager()).findFirstVisibleItemPosition()) != -1) {
                    RecyclerView.ViewHolder findViewHolderForAdapterPosition = currentListView.findViewHolderForAdapterPosition(findFirstVisibleItemPosition);
                    int top2 = findViewHolderForAdapterPosition != null ? findViewHolderForAdapterPosition.itemView.getTop() : -1;
                    int paddingTop = currentListView.getPaddingTop();
                    if (top2 != paddingTop || findFirstVisibleItemPosition != 0) {
                        iArr[1] = findFirstVisibleItemPosition != 0 ? i2 : Math.max(i2, top2 - paddingTop);
                        currentListView.scrollBy(0, i2);
                        z = true;
                    }
                }
                if (isSearchFieldVisible) {
                    if (z || top >= 0) {
                        iArr[1] = i2;
                    } else {
                        iArr[1] = i2 - Math.max(top, i2);
                    }
                }
            }
        }

        @Override // androidx.core.view.NestedScrollingParent2
        public void onNestedScroll(View view, int i, int i2, int i3, int i4, int i5) {
        }

        @Override // androidx.core.view.NestedScrollingParent3
        public void onNestedScroll(View view, int i, int i2, int i3, int i4, int i5, int[] iArr) {
            try {
                if (view == ProfileActivity.this.listView && ProfileActivity.this.sharedMediaLayoutAttached) {
                    RecyclerListView currentListView = ProfileActivity.this.sharedMediaLayout.getCurrentListView();
                    if (ProfileActivity.this.sharedMediaLayout.getTop() == 0) {
                        iArr[1] = i4;
                        currentListView.scrollBy(0, i4);
                    }
                }
                if (i2 == 0 || i5 != 0) {
                    return;
                }
                ProfileActivity.this.hideFloatingButton(i2 > 0);
            } catch (Throwable th) {
                FileLog.e(th);
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$NestedFrameLayout$$ExternalSyntheticLambda0
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.NestedFrameLayout.this.lambda$onNestedScroll$0();
                    }
                });
            }
        }

        @Override // androidx.core.view.NestedScrollingParent2
        public void onNestedScrollAccepted(View view, View view2, int i, int i2) {
            this.nestedScrollingParentHelper.onNestedScrollAccepted(view, view2, i);
        }

        @Override // androidx.core.view.NestedScrollingParent2
        public boolean onStartNestedScroll(View view, View view2, int i, int i2) {
            return ProfileActivity.this.sharedMediaRow != -1 && i == 2;
        }

        @Override // android.view.ViewGroup, android.view.ViewParent, androidx.core.view.NestedScrollingParent
        public void onStopNestedScroll(View view) {
        }

        @Override // androidx.core.view.NestedScrollingParent2
        public void onStopNestedScroll(View view, int i) {
            this.nestedScrollingParentHelper.onStopNestedScroll(view);
        }
    }

    /* loaded from: classes4.dex */
    public class OverlaysView extends View implements ProfileGalleryView.Callback {
        private float alpha;
        private float[] alphas;
        private final ValueAnimator animator;
        private final float[] animatorValues;
        private final Paint backgroundPaint;
        private final Paint barPaint;
        private final GradientDrawable bottomOverlayGradient;
        private final Rect bottomOverlayRect;
        private float currentAnimationValue;
        private int currentLoadingAnimationDirection;
        private float currentLoadingAnimationProgress;
        private float currentProgress;
        private boolean isOverlaysVisible;
        private long lastTime;
        private final float[] pressedOverlayAlpha;
        private final GradientDrawable[] pressedOverlayGradient;
        private final boolean[] pressedOverlayVisible;
        private int previousSelectedPotision;
        private float previousSelectedProgress;
        private final RectF rect;
        private final Paint selectedBarPaint;
        private int selectedPosition;
        private final int statusBarHeight;
        private final GradientDrawable topOverlayGradient;
        private final Rect topOverlayRect;

        /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
        public OverlaysView(Context context) {
            super(context);
            ProfileActivity.this = r8;
            this.statusBarHeight = (!((BaseFragment) r8).actionBar.getOccupyStatusBar() || ((BaseFragment) r8).inBubbleMode) ? 0 : AndroidUtilities.statusBarHeight;
            this.topOverlayRect = new Rect();
            this.bottomOverlayRect = new Rect();
            this.rect = new RectF();
            this.animatorValues = new float[]{0.0f, 1.0f};
            this.pressedOverlayGradient = new GradientDrawable[2];
            this.pressedOverlayVisible = new boolean[2];
            this.pressedOverlayAlpha = new float[2];
            this.alpha = 0.0f;
            this.alphas = null;
            this.previousSelectedPotision = -1;
            this.currentLoadingAnimationDirection = 1;
            setVisibility(8);
            Paint paint = new Paint(1);
            this.barPaint = paint;
            paint.setColor(1442840575);
            Paint paint2 = new Paint(1);
            this.selectedBarPaint = paint2;
            paint2.setColor(-1);
            GradientDrawable gradientDrawable = new GradientDrawable(GradientDrawable.Orientation.TOP_BOTTOM, new int[]{1107296256, 0});
            this.topOverlayGradient = gradientDrawable;
            gradientDrawable.setShape(0);
            GradientDrawable gradientDrawable2 = new GradientDrawable(GradientDrawable.Orientation.BOTTOM_TOP, new int[]{1107296256, 0});
            this.bottomOverlayGradient = gradientDrawable2;
            gradientDrawable2.setShape(0);
            int i = 0;
            while (i < 2) {
                this.pressedOverlayGradient[i] = new GradientDrawable(i == 0 ? GradientDrawable.Orientation.LEFT_RIGHT : GradientDrawable.Orientation.RIGHT_LEFT, new int[]{838860800, 0});
                this.pressedOverlayGradient[i].setShape(0);
                i++;
            }
            Paint paint3 = new Paint(1);
            this.backgroundPaint = paint3;
            paint3.setColor(-16777216);
            paint3.setAlpha(66);
            ValueAnimator ofFloat = ValueAnimator.ofFloat(0.0f, 1.0f);
            this.animator = ofFloat;
            ofFloat.setDuration(250L);
            ofFloat.setInterpolator(CubicBezierInterpolator.EASE_BOTH);
            ofFloat.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$OverlaysView$$ExternalSyntheticLambda0
                @Override // android.animation.ValueAnimator.AnimatorUpdateListener
                public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                    ProfileActivity.OverlaysView.this.lambda$new$0(valueAnimator);
                }
            });
            ofFloat.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.OverlaysView.1
                {
                    OverlaysView.this = this;
                }

                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationEnd(Animator animator) {
                    if (OverlaysView.this.isOverlaysVisible) {
                        return;
                    }
                    OverlaysView.this.setVisibility(8);
                }

                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationStart(Animator animator) {
                    OverlaysView.this.setVisibility(0);
                }
            });
        }

        public /* synthetic */ void lambda$new$0(ValueAnimator valueAnimator) {
            float[] fArr = this.animatorValues;
            float animatedFraction = valueAnimator.getAnimatedFraction();
            this.currentAnimationValue = animatedFraction;
            setAlphaValue(AndroidUtilities.lerp(fArr, animatedFraction), true);
        }

        public boolean isOverlaysVisible() {
            return this.isOverlaysVisible;
        }

        @Override // org.telegram.ui.Components.ProfileGalleryView.Callback
        public void onDown(boolean z) {
            this.pressedOverlayVisible[!z ? 1 : 0] = true;
            postInvalidateOnAnimation();
        }

        /* JADX WARN: Code restructure failed: missing block: B:204:0x01b6, code lost:
            if (r5 <= 0.0f) goto L66;
         */
        /* JADX WARN: Removed duplicated region for block: B:212:0x0214  */
        /* JADX WARN: Removed duplicated region for block: B:215:0x0239  */
        /* JADX WARN: Removed duplicated region for block: B:218:0x0251  */
        /* JADX WARN: Removed duplicated region for block: B:219:0x0254  */
        @Override // android.view.View
        /*
            Code decompiled incorrectly, please refer to instructions dump.
        */
        protected void onDraw(Canvas canvas) {
            boolean z;
            int i;
            float f;
            for (int i2 = 0; i2 < 2; i2++) {
                float f2 = this.pressedOverlayAlpha[i2];
                if (f2 > 0.0f) {
                    this.pressedOverlayGradient[i2].setAlpha((int) (f2 * 255.0f));
                    this.pressedOverlayGradient[i2].draw(canvas);
                }
            }
            this.topOverlayGradient.draw(canvas);
            this.bottomOverlayGradient.draw(canvas);
            canvas.drawRect(this.topOverlayRect, this.backgroundPaint);
            canvas.drawRect(this.bottomOverlayRect, this.backgroundPaint);
            int realCount = ProfileActivity.this.avatarsViewPager.getRealCount();
            this.selectedPosition = ProfileActivity.this.avatarsViewPager.getRealPosition();
            float[] fArr = this.alphas;
            if (fArr == null || fArr.length != realCount) {
                float[] fArr2 = new float[realCount];
                this.alphas = fArr2;
                Arrays.fill(fArr2, 0.0f);
            }
            long elapsedRealtime = SystemClock.elapsedRealtime();
            long j = elapsedRealtime - this.lastTime;
            j = (j < 0 || j > 20) ? 17L : 17L;
            this.lastTime = elapsedRealtime;
            float f3 = 1.0f;
            if (realCount <= 1 || realCount > 20) {
                z = false;
            } else {
                if (ProfileActivity.this.overlayCountVisible == 0) {
                    this.alpha = 0.0f;
                    ProfileActivity.this.overlayCountVisible = 3;
                } else if (ProfileActivity.this.overlayCountVisible == 1) {
                    this.alpha = 0.0f;
                    ProfileActivity.this.overlayCountVisible = 2;
                }
                float f4 = 85.0f;
                if (ProfileActivity.this.overlayCountVisible == 2) {
                    this.barPaint.setAlpha((int) (this.alpha * 85.0f));
                    this.selectedBarPaint.setAlpha((int) (this.alpha * 255.0f));
                }
                int measuredWidth = ((getMeasuredWidth() - AndroidUtilities.dp(10.0f)) - AndroidUtilities.dp((realCount - 1) * 2)) / realCount;
                int dp = AndroidUtilities.dp(4.0f) + ((Build.VERSION.SDK_INT < 21 || ((BaseFragment) ProfileActivity.this).inBubbleMode) ? 0 : AndroidUtilities.statusBarHeight);
                int i3 = 0;
                z = false;
                while (i3 < realCount) {
                    int dp2 = AndroidUtilities.dp((i3 * 2) + 5) + (measuredWidth * i3);
                    if (i3 != this.previousSelectedPotision || Math.abs(this.previousSelectedProgress - f3) <= 1.0E-4f) {
                        i = 85;
                        if (i3 == this.selectedPosition) {
                            if (ProfileActivity.this.avatarsViewPager.isCurrentItemVideo()) {
                                f = ProfileActivity.this.avatarsViewPager.getCurrentItemProgress();
                                this.currentProgress = f;
                                if ((f <= 0.0f && ProfileActivity.this.avatarsViewPager.isLoadingCurrentVideo()) || this.currentLoadingAnimationProgress > 0.0f) {
                                    float f5 = this.currentLoadingAnimationProgress;
                                    int i4 = this.currentLoadingAnimationDirection;
                                    float f6 = f5 + (((float) (i4 * j)) / 500.0f);
                                    this.currentLoadingAnimationProgress = f6;
                                    float f7 = f6 <= 1.0f ? 0.0f : 1.0f;
                                    this.currentLoadingAnimationProgress = f7;
                                    this.currentLoadingAnimationDirection = i4 * (-1);
                                }
                                this.rect.set(dp2, dp, dp2 + measuredWidth, AndroidUtilities.dp(2.0f) + dp);
                                this.barPaint.setAlpha((int) (((this.currentLoadingAnimationProgress * 48.0f) + 85.0f) * this.alpha));
                                canvas.drawRoundRect(this.rect, AndroidUtilities.dp(1.0f), AndroidUtilities.dp(1.0f), this.barPaint);
                                i = 80;
                            } else {
                                this.currentProgress = 1.0f;
                            }
                        }
                        f = 1.0f;
                        float f8 = dp2;
                        this.rect.set(f8, dp, (measuredWidth * f) + f8, AndroidUtilities.dp(2.0f) + dp);
                        if (i3 != this.selectedPosition) {
                            this.alphas[i3] = 0.75f;
                        } else if (ProfileActivity.this.overlayCountVisible == 3) {
                            this.barPaint.setAlpha((int) (AndroidUtilities.lerp(i, (int) NotificationCenter.voipServiceCreated, CubicBezierInterpolator.EASE_BOTH.getInterpolation(this.alphas[i3])) * this.alpha));
                        }
                        canvas.drawRoundRect(this.rect, AndroidUtilities.dp(1.0f), AndroidUtilities.dp(1.0f), i3 != this.selectedPosition ? this.selectedBarPaint : this.barPaint);
                        i3++;
                        f3 = 1.0f;
                        f4 = 85.0f;
                    } else {
                        f = this.previousSelectedProgress;
                        canvas.save();
                        float f9 = dp2;
                        float f10 = dp;
                        float f11 = dp2 + measuredWidth;
                        canvas.clipRect((measuredWidth * f) + f9, f10, f11, dp + AndroidUtilities.dp(2.0f));
                        this.rect.set(f9, f10, f11, AndroidUtilities.dp(2.0f) + dp);
                        this.barPaint.setAlpha((int) (this.alpha * f4));
                        canvas.drawRoundRect(this.rect, AndroidUtilities.dp(1.0f), AndroidUtilities.dp(1.0f), this.barPaint);
                        canvas.restore();
                        i = 80;
                    }
                    z = true;
                    float f82 = dp2;
                    this.rect.set(f82, dp, (measuredWidth * f) + f82, AndroidUtilities.dp(2.0f) + dp);
                    if (i3 != this.selectedPosition) {
                    }
                    canvas.drawRoundRect(this.rect, AndroidUtilities.dp(1.0f), AndroidUtilities.dp(1.0f), i3 != this.selectedPosition ? this.selectedBarPaint : this.barPaint);
                    i3++;
                    f3 = 1.0f;
                    f4 = 85.0f;
                }
                if (ProfileActivity.this.overlayCountVisible == 2) {
                    float f12 = this.alpha;
                    if (f12 < 1.0f) {
                        float f13 = f12 + (((float) j) / 180.0f);
                        this.alpha = f13;
                        if (f13 > 1.0f) {
                            this.alpha = 1.0f;
                        }
                        z = true;
                    } else {
                        ProfileActivity.this.overlayCountVisible = 3;
                    }
                } else if (ProfileActivity.this.overlayCountVisible == 3) {
                    int i5 = 0;
                    while (true) {
                        float[] fArr3 = this.alphas;
                        if (i5 >= fArr3.length) {
                            break;
                        }
                        if (i5 != this.selectedPosition) {
                            float f14 = fArr3[i5];
                            if (f14 > 0.0f) {
                                float f15 = f14 - (((float) j) / 500.0f);
                                fArr3[i5] = f15;
                                if (f15 <= 0.0f) {
                                    fArr3[i5] = 0.0f;
                                    if (i5 == this.previousSelectedPotision) {
                                        this.previousSelectedPotision = -1;
                                    }
                                }
                                z = true;
                                i5++;
                            }
                        }
                        if (i5 == this.previousSelectedPotision) {
                            this.previousSelectedPotision = -1;
                        }
                        i5++;
                    }
                }
            }
            for (int i6 = 0; i6 < 2; i6++) {
                if (this.pressedOverlayVisible[i6]) {
                    float[] fArr4 = this.pressedOverlayAlpha;
                    float f16 = fArr4[i6];
                    if (f16 < 1.0f) {
                        float f17 = f16 + (((float) j) / 180.0f);
                        fArr4[i6] = f17;
                        if (f17 > 1.0f) {
                            fArr4[i6] = 1.0f;
                        }
                        z = true;
                    }
                } else {
                    float[] fArr5 = this.pressedOverlayAlpha;
                    float f18 = fArr5[i6];
                    if (f18 > 0.0f) {
                        float f19 = f18 - (((float) j) / 180.0f);
                        fArr5[i6] = f19;
                        if (f19 < 0.0f) {
                            fArr5[i6] = 0.0f;
                        }
                        z = true;
                    }
                }
            }
            if (z) {
                postInvalidateOnAnimation();
            }
        }

        @Override // org.telegram.ui.Components.ProfileGalleryView.Callback
        public void onPhotosLoaded() {
            ProfileActivity.this.updateProfileData(false);
        }

        @Override // org.telegram.ui.Components.ProfileGalleryView.Callback
        public void onRelease() {
            Arrays.fill(this.pressedOverlayVisible, false);
            postInvalidateOnAnimation();
        }

        @Override // android.view.View
        protected void onSizeChanged(int i, int i2, int i3, int i4) {
            int currentActionBarHeight = this.statusBarHeight + ActionBar.getCurrentActionBarHeight();
            this.topOverlayRect.set(0, 0, i, (int) (currentActionBarHeight * 0.5f));
            this.bottomOverlayRect.set(0, (int) (i2 - (AndroidUtilities.dp(72.0f) * 0.5f)), i, i2);
            this.topOverlayGradient.setBounds(0, this.topOverlayRect.bottom, i, currentActionBarHeight + AndroidUtilities.dp(16.0f));
            this.bottomOverlayGradient.setBounds(0, (i2 - AndroidUtilities.dp(72.0f)) - AndroidUtilities.dp(24.0f), i, this.bottomOverlayRect.top);
            int i5 = i / 5;
            this.pressedOverlayGradient[0].setBounds(0, 0, i5, i2);
            this.pressedOverlayGradient[1].setBounds(i - i5, 0, i, i2);
        }

        @Override // org.telegram.ui.Components.ProfileGalleryView.Callback
        public void onVideoSet() {
            invalidate();
        }

        public void saveCurrentPageProgress() {
            this.previousSelectedProgress = this.currentProgress;
            this.previousSelectedPotision = this.selectedPosition;
            this.currentLoadingAnimationProgress = 0.0f;
            this.currentLoadingAnimationDirection = 1;
        }

        public void setAlphaValue(float f, boolean z) {
            int i = (int) (255.0f * f);
            this.topOverlayGradient.setAlpha(i);
            this.bottomOverlayGradient.setAlpha(i);
            this.backgroundPaint.setAlpha((int) (66.0f * f));
            this.barPaint.setAlpha((int) (85.0f * f));
            this.selectedBarPaint.setAlpha(i);
            this.alpha = f;
            if (!z) {
                this.currentAnimationValue = f;
            }
            invalidate();
        }

        public void setOverlaysVisible() {
            this.isOverlaysVisible = true;
            setVisibility(0);
        }

        public void setOverlaysVisible(boolean z, float f) {
            if (z != this.isOverlaysVisible) {
                this.isOverlaysVisible = z;
                this.animator.cancel();
                float lerp = AndroidUtilities.lerp(this.animatorValues, this.currentAnimationValue);
                this.animator.setDuration(z ? ((1.0f - lerp) * 250.0f) / f : (250.0f * lerp) / f);
                float[] fArr = this.animatorValues;
                fArr[0] = lerp;
                fArr[1] = z ? 1.0f : 0.0f;
                this.animator.start();
            }
        }
    }

    /* loaded from: classes4.dex */
    public class PagerIndicatorView extends View {
        private final PagerAdapter adapter;
        private final ValueAnimator animator;
        private final float[] animatorValues;
        private final Paint backgroundPaint;
        private final RectF indicatorRect;
        private boolean isIndicatorVisible;
        private final TextPaint textPaint;

        /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
        public PagerIndicatorView(Context context) {
            super(context);
            ProfileActivity.this = r5;
            this.indicatorRect = new RectF();
            this.animatorValues = new float[]{0.0f, 1.0f};
            PagerAdapter adapter = r5.avatarsViewPager.getAdapter();
            this.adapter = adapter;
            setVisibility(8);
            TextPaint textPaint = new TextPaint(1);
            this.textPaint = textPaint;
            textPaint.setColor(-1);
            textPaint.setTypeface(Typeface.SANS_SERIF);
            textPaint.setTextAlign(Paint.Align.CENTER);
            textPaint.setTextSize(AndroidUtilities.dpf2(15.0f));
            Paint paint = new Paint(1);
            this.backgroundPaint = paint;
            paint.setColor(637534208);
            ValueAnimator ofFloat = ValueAnimator.ofFloat(0.0f, 1.0f);
            this.animator = ofFloat;
            ofFloat.setInterpolator(CubicBezierInterpolator.EASE_BOTH);
            ofFloat.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$PagerIndicatorView$$ExternalSyntheticLambda0
                @Override // android.animation.ValueAnimator.AnimatorUpdateListener
                public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                    ProfileActivity.PagerIndicatorView.this.lambda$new$0(valueAnimator);
                }
            });
            final boolean z = r5.expandPhoto;
            ofFloat.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.PagerIndicatorView.1
                {
                    PagerIndicatorView.this = this;
                }

                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationEnd(Animator animator) {
                    View view;
                    if (PagerIndicatorView.this.isIndicatorVisible) {
                        if (ProfileActivity.this.searchItem != null) {
                            ProfileActivity.this.searchItem.setClickable(false);
                        }
                        if (ProfileActivity.this.editItemVisible) {
                            ProfileActivity.this.editItem.setVisibility(8);
                        }
                        if (ProfileActivity.this.callItemVisible) {
                            ProfileActivity.this.callItem.setVisibility(8);
                        }
                        if (ProfileActivity.this.videoCallItemVisible) {
                            view = ProfileActivity.this.videoCallItem;
                        }
                        ProfileActivity.this.updateStoriesViewBounds(false);
                    }
                    view = PagerIndicatorView.this;
                    view.setVisibility(8);
                    ProfileActivity.this.updateStoriesViewBounds(false);
                }

                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationStart(Animator animator) {
                    if (ProfileActivity.this.searchItem != null && !z) {
                        ProfileActivity.this.searchItem.setClickable(true);
                    }
                    if (ProfileActivity.this.editItemVisible) {
                        ProfileActivity.this.editItem.setVisibility(0);
                    }
                    if (ProfileActivity.this.callItemVisible) {
                        ProfileActivity.this.callItem.setVisibility(0);
                    }
                    if (ProfileActivity.this.videoCallItemVisible) {
                        ProfileActivity.this.videoCallItem.setVisibility(0);
                    }
                    PagerIndicatorView.this.setVisibility(0);
                    ProfileActivity.this.updateStoriesViewBounds(false);
                }
            });
            r5.avatarsViewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() { // from class: org.telegram.ui.ProfileActivity.PagerIndicatorView.2
                private int prevPage;

                {
                    PagerIndicatorView.this = this;
                }

                @Override // androidx.viewpager.widget.ViewPager.OnPageChangeListener
                public void onPageScrollStateChanged(int i) {
                }

                @Override // androidx.viewpager.widget.ViewPager.OnPageChangeListener
                public void onPageScrolled(int i, float f, int i2) {
                }

                @Override // androidx.viewpager.widget.ViewPager.OnPageChangeListener
                public void onPageSelected(int i) {
                    int realPosition = ProfileActivity.this.avatarsViewPager.getRealPosition(i);
                    PagerIndicatorView.this.invalidateIndicatorRect(this.prevPage != realPosition);
                    this.prevPage = realPosition;
                    PagerIndicatorView.this.updateAvatarItems();
                }
            });
            adapter.registerDataSetObserver(new DataSetObserver() { // from class: org.telegram.ui.ProfileActivity.PagerIndicatorView.3
                {
                    PagerIndicatorView.this = this;
                }

                @Override // android.database.DataSetObserver
                public void onChanged() {
                    int realCount = ProfileActivity.this.avatarsViewPager.getRealCount();
                    if (ProfileActivity.this.overlayCountVisible == 0 && realCount > 1 && realCount <= 20 && ProfileActivity.this.overlaysView.isOverlaysVisible()) {
                        ProfileActivity.this.overlayCountVisible = 1;
                    }
                    PagerIndicatorView.this.invalidateIndicatorRect(false);
                    PagerIndicatorView.this.refreshVisibility(1.0f);
                    PagerIndicatorView.this.updateAvatarItems();
                }
            });
        }

        private String getCurrentTitle() {
            return this.adapter.getPageTitle(ProfileActivity.this.avatarsViewPager.getCurrentItem()).toString();
        }

        public ActionBarMenuItem getSecondaryMenuItem() {
            if (ProfileActivity.this.callItemVisible) {
                return ProfileActivity.this.callItem;
            }
            if (ProfileActivity.this.editItemVisible) {
                return ProfileActivity.this.editItem;
            }
            if (ProfileActivity.this.searchItem != null) {
                return ProfileActivity.this.searchItem;
            }
            return null;
        }

        public void invalidateIndicatorRect(boolean z) {
            if (z) {
                ProfileActivity.this.overlaysView.saveCurrentPageProgress();
            }
            ProfileActivity.this.overlaysView.invalidate();
            float measureText = this.textPaint.measureText(getCurrentTitle());
            this.indicatorRect.right = (getMeasuredWidth() - AndroidUtilities.dp(54.0f)) - (ProfileActivity.this.qrItem != null ? AndroidUtilities.dp(48.0f) : 0);
            RectF rectF = this.indicatorRect;
            rectF.left = rectF.right - (measureText + AndroidUtilities.dpf2(16.0f));
            this.indicatorRect.top = (((BaseFragment) ProfileActivity.this).actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0) + AndroidUtilities.dp(15.0f);
            RectF rectF2 = this.indicatorRect;
            rectF2.bottom = rectF2.top + AndroidUtilities.dp(26.0f);
            setPivotX(this.indicatorRect.centerX());
            setPivotY(this.indicatorRect.centerY());
            invalidate();
        }

        public /* synthetic */ void lambda$new$0(ValueAnimator valueAnimator) {
            float lerp = AndroidUtilities.lerp(this.animatorValues, valueAnimator.getAnimatedFraction());
            if (ProfileActivity.this.searchItem != null && !ProfileActivity.this.isPulledDown) {
                float f = 1.0f - lerp;
                ProfileActivity.this.searchItem.setScaleX(f);
                ProfileActivity.this.searchItem.setScaleY(f);
                ProfileActivity.this.searchItem.setAlpha(f);
            }
            if (ProfileActivity.this.editItemVisible) {
                float f2 = 1.0f - lerp;
                ProfileActivity.this.editItem.setScaleX(f2);
                ProfileActivity.this.editItem.setScaleY(f2);
                ProfileActivity.this.editItem.setAlpha(f2);
            }
            if (ProfileActivity.this.callItemVisible) {
                float f3 = 1.0f - lerp;
                ProfileActivity.this.callItem.setScaleX(f3);
                ProfileActivity.this.callItem.setScaleY(f3);
                ProfileActivity.this.callItem.setAlpha(f3);
            }
            if (ProfileActivity.this.videoCallItemVisible) {
                float f4 = 1.0f - lerp;
                ProfileActivity.this.videoCallItem.setScaleX(f4);
                ProfileActivity.this.videoCallItem.setScaleY(f4);
                ProfileActivity.this.videoCallItem.setAlpha(f4);
            }
            setScaleX(lerp);
            setScaleY(lerp);
            setAlpha(lerp);
        }

        public void updateAvatarItems() {
            if (ProfileActivity.this.imageUpdater == null) {
                return;
            }
            if (ProfileActivity.this.otherItem.isSubMenuShowing()) {
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$PagerIndicatorView$$ExternalSyntheticLambda1
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.PagerIndicatorView.this.updateAvatarItemsInternal();
                    }
                }, 500L);
            } else {
                updateAvatarItemsInternal();
            }
        }

        public void updateAvatarItemsInternal() {
            if (ProfileActivity.this.otherItem == null || ProfileActivity.this.avatarsViewPager == null || !ProfileActivity.this.isPulledDown) {
                return;
            }
            if (ProfileActivity.this.avatarsViewPager.getRealPosition() == 0) {
                ProfileActivity.this.otherItem.hideSubItem(33);
                ProfileActivity.this.otherItem.showSubItem(36);
                return;
            }
            ProfileActivity.this.otherItem.showSubItem(33);
            ProfileActivity.this.otherItem.hideSubItem(36);
        }

        public boolean isIndicatorFullyVisible() {
            return this.isIndicatorVisible && !this.animator.isRunning();
        }

        @Override // android.view.View
        protected void onDraw(Canvas canvas) {
            float dpf2 = AndroidUtilities.dpf2(12.0f);
            canvas.drawRoundRect(this.indicatorRect, dpf2, dpf2, this.backgroundPaint);
            canvas.drawText(getCurrentTitle(), this.indicatorRect.centerX(), this.indicatorRect.top + AndroidUtilities.dpf2(18.5f), this.textPaint);
        }

        @Override // android.view.View
        protected void onSizeChanged(int i, int i2, int i3, int i4) {
            invalidateIndicatorRect(false);
        }

        public void refreshVisibility(float f) {
            setIndicatorVisible(ProfileActivity.this.isPulledDown && ProfileActivity.this.avatarsViewPager.getRealCount() > 20, f);
        }

        public void setIndicatorVisible(boolean z, float f) {
            if (z != this.isIndicatorVisible) {
                this.isIndicatorVisible = z;
                this.animator.cancel();
                float lerp = AndroidUtilities.lerp(this.animatorValues, this.animator.getAnimatedFraction());
                if (f <= 0.0f) {
                    this.animator.setDuration(0L);
                } else {
                    this.animator.setDuration(z ? ((1.0f - lerp) * 250.0f) / f : (250.0f * lerp) / f);
                }
                float[] fArr = this.animatorValues;
                fArr[0] = lerp;
                fArr[1] = z ? 1.0f : 0.0f;
                this.animator.start();
            }
        }
    }

    /* loaded from: classes4.dex */
    public class SearchAdapter extends RecyclerListView.SelectionAdapter {
        private TLRPC$WebPage faqWebPage;
        private String lastSearchString;
        private boolean loadingFaqPage;
        private Context mContext;
        private Runnable searchRunnable;
        private boolean searchWas;
        private SearchResult[] searchArray = onCreateSearchArray();
        private ArrayList faqSearchArray = new ArrayList();
        private ArrayList resultNames = new ArrayList();
        private ArrayList searchResults = new ArrayList();
        private ArrayList faqSearchResults = new ArrayList();
        private ArrayList recentSearches = new ArrayList();

        /* loaded from: classes4.dex */
        public class SearchResult {
            private int guid;
            private int iconResId;
            private int num;
            private Runnable openRunnable;
            private String[] path;
            private String rowName;
            private String searchTitle;

            public SearchResult(SearchAdapter searchAdapter, int i, String str, int i2, Runnable runnable) {
                this(i, str, null, null, null, i2, runnable);
            }

            public SearchResult(SearchAdapter searchAdapter, int i, String str, String str2, int i2, Runnable runnable) {
                this(i, str, null, str2, null, i2, runnable);
            }

            public SearchResult(SearchAdapter searchAdapter, int i, String str, String str2, String str3, int i2, Runnable runnable) {
                this(i, str, str2, str3, null, i2, runnable);
            }

            public SearchResult(int i, String str, String str2, String str3, String str4, int i2, Runnable runnable) {
                SearchAdapter.this = r1;
                this.guid = i;
                this.searchTitle = str;
                this.rowName = str2;
                this.openRunnable = runnable;
                this.iconResId = i2;
                if (str3 != null && str4 != null) {
                    this.path = new String[]{str3, str4};
                } else if (str3 != null) {
                    this.path = new String[]{str3};
                }
            }

            public void open() {
                this.openRunnable.run();
                AndroidUtilities.scrollToFragmentRow(((BaseFragment) ProfileActivity.this).parentLayout, this.rowName);
            }

            public boolean equals(Object obj) {
                return (obj instanceof SearchResult) && this.guid == ((SearchResult) obj).guid;
            }

            public String toString() {
                SerializedData serializedData = new SerializedData();
                serializedData.writeInt32(this.num);
                serializedData.writeInt32(1);
                serializedData.writeInt32(this.guid);
                return Utilities.bytesToHex(serializedData.toByteArray());
            }
        }

        public SearchAdapter(Context context) {
            ProfileActivity.this = r1;
            this.mContext = context;
            updateSearchArray();
        }

        private int getNum(Object obj) {
            if (obj instanceof SearchResult) {
                return ((SearchResult) obj).num;
            }
            if (obj instanceof MessagesController.FaqSearchResult) {
                return ((MessagesController.FaqSearchResult) obj).num;
            }
            return 0;
        }

        private boolean isPremiumFeatureAvailable(int i) {
            if (!ProfileActivity.this.getMessagesController().premiumFeaturesBlocked() || ProfileActivity.this.getUserConfig().isPremium()) {
                return i == -1 || ProfileActivity.this.getMessagesController().premiumFeaturesTypesToPosition.get(i, -1) != -1;
            }
            return false;
        }

        public /* synthetic */ void lambda$loadFaqWebPage$143(ArrayList arrayList) {
            this.faqSearchArray.addAll(arrayList);
            ProfileActivity.this.getMessagesController().faqSearchArray = arrayList;
            ProfileActivity.this.getMessagesController().faqWebPage = this.faqWebPage;
            if (this.searchWas) {
                return;
            }
            notifyDataSetChanged();
        }

        /* JADX WARN: Removed duplicated region for block: B:69:0x0078  */
        /*
            Code decompiled incorrectly, please refer to instructions dump.
        */
        public /* synthetic */ void lambda$loadFaqWebPage$144(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
            String str;
            int size;
            int i;
            if (tLObject instanceof TLRPC$TL_messages_webPage) {
                TLRPC$TL_messages_webPage tLRPC$TL_messages_webPage = (TLRPC$TL_messages_webPage) tLObject;
                MessagesController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).putUsers(tLRPC$TL_messages_webPage.users, false);
                MessagesController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).putChats(tLRPC$TL_messages_webPage.chats, false);
                tLObject = tLRPC$TL_messages_webPage.webpage;
            }
            if (tLObject instanceof TLRPC$WebPage) {
                final ArrayList arrayList = new ArrayList();
                TLRPC$WebPage tLRPC$WebPage = (TLRPC$WebPage) tLObject;
                TLRPC$Page tLRPC$Page = tLRPC$WebPage.cached_page;
                if (tLRPC$Page != null) {
                    int size2 = tLRPC$Page.blocks.size();
                    for (int i2 = 0; i2 < size2; i2++) {
                        TLRPC$PageBlock tLRPC$PageBlock = (TLRPC$PageBlock) tLRPC$WebPage.cached_page.blocks.get(i2);
                        if (tLRPC$PageBlock instanceof TLRPC$TL_pageBlockList) {
                            if (i2 != 0) {
                                TLRPC$PageBlock tLRPC$PageBlock2 = (TLRPC$PageBlock) tLRPC$WebPage.cached_page.blocks.get(i2 - 1);
                                if (tLRPC$PageBlock2 instanceof TLRPC$TL_pageBlockParagraph) {
                                    str = ArticleViewer.getPlainText(((TLRPC$TL_pageBlockParagraph) tLRPC$PageBlock2).text).toString();
                                    TLRPC$TL_pageBlockList tLRPC$TL_pageBlockList = (TLRPC$TL_pageBlockList) tLRPC$PageBlock;
                                    size = tLRPC$TL_pageBlockList.items.size();
                                    for (i = 0; i < size; i++) {
                                        TLRPC$PageListItem tLRPC$PageListItem = (TLRPC$PageListItem) tLRPC$TL_pageBlockList.items.get(i);
                                        if (tLRPC$PageListItem instanceof TLRPC$TL_pageListItemText) {
                                            TLRPC$TL_pageListItemText tLRPC$TL_pageListItemText = (TLRPC$TL_pageListItemText) tLRPC$PageListItem;
                                            String url = ArticleViewer.getUrl(tLRPC$TL_pageListItemText.text);
                                            String charSequence = ArticleViewer.getPlainText(tLRPC$TL_pageListItemText.text).toString();
                                            if (!TextUtils.isEmpty(url) && !TextUtils.isEmpty(charSequence)) {
                                                arrayList.add(new MessagesController.FaqSearchResult(charSequence, str != null ? new String[]{LocaleController.getString(R.string.SettingsSearchFaq), str} : new String[]{LocaleController.getString(R.string.SettingsSearchFaq)}, url));
                                            }
                                        }
                                    }
                                }
                            }
                            str = null;
                            TLRPC$TL_pageBlockList tLRPC$TL_pageBlockList2 = (TLRPC$TL_pageBlockList) tLRPC$PageBlock;
                            size = tLRPC$TL_pageBlockList2.items.size();
                            while (i < size) {
                            }
                        } else if (tLRPC$PageBlock instanceof TLRPC$TL_pageBlockAnchor) {
                            break;
                        }
                    }
                    this.faqWebPage = tLRPC$WebPage;
                }
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda146
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.SearchAdapter.this.lambda$loadFaqWebPage$143(arrayList);
                    }
                });
            }
            this.loadingFaqPage = false;
        }

        public /* synthetic */ void lambda$onCreateSearchArray$1() {
            ProfileActivity profileActivity = ProfileActivity.this;
            profileActivity.presentFragment(new ChangeNameActivity(profileActivity.resourcesProvider));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$10() {
            ProfileActivity.this.presentFragment(new NotificationsSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$100() {
            ProfileActivity.this.presentFragment(new StickersActivity(5, null));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$101() {
            ProfileActivity.this.presentFragment(new StickersActivity(5, null));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$102() {
            ProfileActivity.this.presentFragment(new ReactionsDoubleTapManageActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$103() {
            ProfileActivity.this.presentFragment(new FiltersSetupActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$104() {
            ProfileActivity.this.presentFragment(new FiltersSetupActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$105() {
            ProfileActivity.this.presentFragment(new PremiumPreviewFragment("settings"));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$106() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 0, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$107() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 11, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$108() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 1, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$109() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 2, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$11() {
            ProfileActivity.this.presentFragment(new NotificationsSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$110() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 8, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$111() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 3, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$112() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 4, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$113() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 5, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$114() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 9, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$115() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 6, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$116() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 7, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$117() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 10, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$118() {
            ProfileActivity.this.showDialog(new PremiumFeatureBottomSheet(ProfileActivity.this, 12, false).setForceAbout());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$119() {
            ProfileActivity.this.presentFragment(new LiteModeSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$12() {
            ProfileActivity.this.presentFragment(new NotificationsSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$120() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.scrollToFlags(3);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$121() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.setExpanded(3, true);
            liteModeSettingsActivity.scrollToFlags(1);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$122() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.setExpanded(3, true);
            liteModeSettingsActivity.scrollToFlags(2);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$123() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.scrollToFlags(LiteMode.FLAGS_ANIMATED_EMOJI);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$124() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.setExpanded(LiteMode.FLAGS_ANIMATED_EMOJI, true);
            liteModeSettingsActivity.scrollToFlags(LiteMode.FLAG_ANIMATED_EMOJI_KEYBOARD);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$125() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.setExpanded(LiteMode.FLAGS_ANIMATED_EMOJI, true);
            liteModeSettingsActivity.scrollToFlags(LiteMode.FLAG_ANIMATED_EMOJI_REACTIONS);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$126() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.setExpanded(LiteMode.FLAGS_ANIMATED_EMOJI, true);
            liteModeSettingsActivity.scrollToFlags(LiteMode.FLAG_ANIMATED_EMOJI_CHAT);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$127() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.scrollToFlags(LiteMode.FLAGS_CHAT);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$128() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.setExpanded(LiteMode.FLAGS_CHAT, true);
            liteModeSettingsActivity.scrollToFlags(32);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$129() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.setExpanded(LiteMode.FLAGS_CHAT, true);
            liteModeSettingsActivity.scrollToFlags(64);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$13() {
            ProfileActivity.this.presentFragment(new NotificationsSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$130() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.setExpanded(LiteMode.FLAGS_CHAT, true);
            liteModeSettingsActivity.scrollToFlags(128);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$131() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.setExpanded(LiteMode.FLAGS_CHAT, true);
            liteModeSettingsActivity.scrollToFlags(256);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$132() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.setExpanded(LiteMode.FLAGS_CHAT, true);
            liteModeSettingsActivity.scrollToFlags(LiteMode.FLAG_CHAT_SCALE);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$133() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.scrollToFlags(LiteMode.FLAG_CALLS_ANIMATIONS);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$134() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.scrollToFlags(1024);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$135() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.scrollToFlags(2048);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$136() {
            LiteModeSettingsActivity liteModeSettingsActivity = new LiteModeSettingsActivity();
            ProfileActivity.this.presentFragment(liteModeSettingsActivity);
            liteModeSettingsActivity.scrollToType(1);
        }

        public /* synthetic */ void lambda$onCreateSearchArray$137() {
            ProfileActivity.this.presentFragment(new LanguageSelectActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$138() {
            ProfileActivity.this.presentFragment(new LanguageSelectActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$139() {
            ProfileActivity.this.presentFragment(new LanguageSelectActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$14() {
            ProfileActivity.this.presentFragment(new NotificationsSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$140() {
            ProfileActivity profileActivity = ProfileActivity.this;
            profileActivity.showDialog(AlertsCreator.createSupportAlert(profileActivity, null));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$141() {
            Browser.openUrl(ProfileActivity.this.getParentActivity(), LocaleController.getString(R.string.TelegramFaqUrl));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$142() {
            Browser.openUrl(ProfileActivity.this.getParentActivity(), LocaleController.getString(R.string.PrivacyPolicyUrl));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$15() {
            ProfileActivity.this.presentFragment(new NotificationsSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$16() {
            ProfileActivity.this.presentFragment(new NotificationsSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$17() {
            ProfileActivity.this.presentFragment(new NotificationsSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$18() {
            ProfileActivity.this.presentFragment(new NotificationsSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$19() {
            ProfileActivity.this.presentFragment(new PrivacySettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$2() {
            ProfileActivity.this.presentFragment(new ActionIntroActivity(3));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$20() {
            ProfileActivity.this.presentFragment(new TwoStepVerificationActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$21() {
            if (ProfileActivity.this.getUserConfig().getGlobalTTl() >= 0) {
                ProfileActivity.this.presentFragment(new AutoDeleteMessagesActivity());
            }
        }

        public /* synthetic */ void lambda$onCreateSearchArray$22() {
            ProfileActivity.this.presentFragment(PasscodeActivity.determineOpenFragment());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$23() {
            ProfileActivity.this.presentFragment(new PrivacySettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$24() {
            ProfileActivity.this.presentFragment(new PrivacyUsersActivity().loadBlocked());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$25() {
            ProfileActivity.this.presentFragment(new SessionsActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$26() {
            ProfileActivity.this.presentFragment(new PrivacyControlActivity(6, true));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$27() {
            ProfileActivity.this.presentFragment(new PrivacyControlActivity(0, true));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$28() {
            ProfileActivity.this.presentFragment(new PrivacyControlActivity(4, true));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$29() {
            ProfileActivity.this.presentFragment(new PrivacyControlActivity(5, true));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$3() {
            int i = 0;
            while (true) {
                if (i >= 4) {
                    i = -1;
                    break;
                } else if (!UserConfig.getInstance(i).isClientActivated()) {
                    break;
                } else {
                    i++;
                }
            }
            if (i >= 0) {
                ProfileActivity.this.presentFragment(new LoginActivity(i));
            }
        }

        public /* synthetic */ void lambda$onCreateSearchArray$30() {
            ProfileActivity.this.presentFragment(new PrivacyControlActivity(3, true));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$31() {
            ProfileActivity.this.presentFragment(new PrivacyControlActivity(2, true));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$32() {
            ProfileActivity.this.presentFragment(new PrivacyControlActivity(1, true));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$33() {
            if (ProfileActivity.this.getUserConfig().isPremium()) {
                ProfileActivity.this.presentFragment(new PrivacyControlActivity(8, true));
                return;
            }
            try {
                ProfileActivity.this.fragmentView.performHapticFeedback(3, 2);
            } catch (Exception e) {
                FileLog.e(e);
            }
            BulletinFactory.of(ProfileActivity.this).createRestrictVoiceMessagesPremiumBulletin().show();
        }

        public /* synthetic */ void lambda$onCreateSearchArray$34() {
            ProfileActivity.this.presentFragment(new PrivacySettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$35() {
            ProfileActivity.this.presentFragment(new PrivacySettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$36() {
            ProfileActivity.this.presentFragment(new PrivacySettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$37() {
            ProfileActivity.this.presentFragment(new SessionsActivity(1));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$38() {
            ProfileActivity.this.presentFragment(new PrivacySettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$39() {
            ProfileActivity.this.presentFragment(new PrivacySettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$4() {
            if (ProfileActivity.this.userInfo != null) {
                ProfileActivity.this.presentFragment(new ChangeBioActivity());
            }
        }

        public /* synthetic */ void lambda$onCreateSearchArray$40() {
            ProfileActivity.this.presentFragment(new PrivacySettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$41() {
            ProfileActivity.this.presentFragment(new PrivacySettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$42() {
            ProfileActivity.this.presentFragment(new PrivacySettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$43() {
            ProfileActivity.this.presentFragment(new SessionsActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$44() {
            ProfileActivity.this.presentFragment(new SessionsActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$45() {
            ProfileActivity.this.presentFragment(new SessionsActivity(0).setHighlightLinkDesktopDevice());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$46() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$47() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$48() {
            ProfileActivity.this.presentFragment(new CacheControlActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$49() {
            ProfileActivity.this.presentFragment(new CacheControlActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$50() {
            ProfileActivity.this.presentFragment(new CacheControlActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$51() {
            ProfileActivity.this.presentFragment(new CacheControlActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$52() {
            ProfileActivity.this.presentFragment(new DataUsage2Activity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$53() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$54() {
            ProfileActivity.this.presentFragment(new DataAutoDownloadActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$55() {
            ProfileActivity.this.presentFragment(new DataAutoDownloadActivity(1));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$56() {
            ProfileActivity.this.presentFragment(new DataAutoDownloadActivity(2));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$57() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$58() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$59() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$6() {
            ProfileActivity.this.presentFragment(new NotificationsSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$60() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$61() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$62() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$63() {
            ProfileActivity.this.presentFragment(new ProxyListActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$64() {
            ProfileActivity.this.presentFragment(new ProxyListActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$65() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$66() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$67() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$68() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$69() {
            ProfileActivity.this.presentFragment(new DataSettingsActivity());
        }

        public /* synthetic */ void lambda$onCreateSearchArray$7() {
            ProfileActivity.this.presentFragment(new NotificationsCustomSettingsActivity(1, new ArrayList(), null, true));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$70() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$71() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$72() {
            ProfileActivity.this.presentFragment(new WallpapersListActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$73() {
            ProfileActivity.this.presentFragment(new WallpapersListActivity(1));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$74() {
            ProfileActivity.this.presentFragment(new WallpapersListActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$75() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$76() {
            ProfileActivity.this.presentFragment(new ThemeActivity(3));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$77() {
            ProfileActivity.this.presentFragment(new ThemeActivity(3));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$78() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$79() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$8() {
            ProfileActivity.this.presentFragment(new NotificationsCustomSettingsActivity(0, new ArrayList(), null, true));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$80() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$81() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$82() {
            ProfileActivity.this.presentFragment(new ThemeActivity(1));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$83() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$84() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$85() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$86() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$87() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$88() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$89() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$9() {
            ProfileActivity.this.presentFragment(new NotificationsCustomSettingsActivity(2, new ArrayList(), null, true));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$90() {
            ProfileActivity.this.presentFragment(new ThemeActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$91() {
            ProfileActivity.this.presentFragment(new StickersActivity(0, null));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$92() {
            ProfileActivity.this.presentFragment(new StickersActivity(0, null));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$93() {
            ProfileActivity.this.presentFragment(new StickersActivity(0, null));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$94() {
            ProfileActivity.this.presentFragment(new StickersActivity(1, null));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$95() {
            ProfileActivity.this.presentFragment(new ArchivedStickersActivity(0));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$96() {
            ProfileActivity.this.presentFragment(new ArchivedStickersActivity(1));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$97() {
            ProfileActivity.this.presentFragment(new StickersActivity(0, null));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$98() {
            ProfileActivity.this.presentFragment(new StickersActivity(0, null));
        }

        public /* synthetic */ void lambda$onCreateSearchArray$99() {
            ProfileActivity.this.presentFragment(new StickersActivity(5, null));
        }

        public /* synthetic */ void lambda$search$145(String str, ArrayList arrayList, ArrayList arrayList2, ArrayList arrayList3) {
            if (str.equals(this.lastSearchString)) {
                if (!this.searchWas) {
                    ProfileActivity.this.emptyView.stickerView.getImageReceiver().startAnimation();
                    ProfileActivity.this.emptyView.title.setText(LocaleController.getString(R.string.SettingsNoResults));
                }
                this.searchWas = true;
                this.searchResults = arrayList;
                this.faqSearchResults = arrayList2;
                this.resultNames = arrayList3;
                notifyDataSetChanged();
                ProfileActivity.this.emptyView.stickerView.getImageReceiver().startAnimation();
            }
        }

        public /* synthetic */ void lambda$search$146(final String str) {
            SpannableStringBuilder spannableStringBuilder;
            String str2;
            int i;
            String str3;
            String str4;
            String str5;
            final ArrayList arrayList = new ArrayList();
            final ArrayList arrayList2 = new ArrayList();
            final ArrayList arrayList3 = new ArrayList();
            String str6 = " ";
            String[] split = str.split(" ");
            String[] strArr = new String[split.length];
            int i2 = 0;
            while (true) {
                spannableStringBuilder = null;
                if (i2 >= split.length) {
                    break;
                }
                String translitString = LocaleController.getInstance().getTranslitString(split[i2]);
                strArr[i2] = translitString;
                if (translitString.equals(split[i2])) {
                    strArr[i2] = null;
                }
                i2++;
            }
            int i3 = 0;
            while (true) {
                SearchResult[] searchResultArr = this.searchArray;
                if (i3 >= searchResultArr.length) {
                    break;
                }
                SearchResult searchResult = searchResultArr[i3];
                if (searchResult != null) {
                    String str7 = " " + searchResult.searchTitle.toLowerCase();
                    SpannableStringBuilder spannableStringBuilder2 = spannableStringBuilder;
                    int i4 = 0;
                    while (i4 < split.length) {
                        if (split[i4].length() != 0) {
                            String str8 = split[i4];
                            int indexOf = str7.indexOf(" " + str8);
                            if (indexOf < 0 && (str5 = strArr[i4]) != null) {
                                indexOf = str7.indexOf(" " + str5);
                                str8 = str5;
                            }
                            if (indexOf >= 0) {
                                if (spannableStringBuilder2 == null) {
                                    spannableStringBuilder2 = new SpannableStringBuilder(searchResult.searchTitle);
                                }
                                str4 = str7;
                                spannableStringBuilder2.setSpan(new ForegroundColorSpan(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhiteBlueText4)), indexOf, str8.length() + indexOf, 33);
                            }
                        } else {
                            str4 = str7;
                        }
                        if (spannableStringBuilder2 != null && i4 == split.length - 1) {
                            if (searchResult.guid == 502) {
                                int i5 = 0;
                                while (true) {
                                    if (i5 >= 4) {
                                        i5 = -1;
                                        break;
                                    } else if (!UserConfig.getInstance(i5).isClientActivated()) {
                                        break;
                                    } else {
                                        i5++;
                                    }
                                }
                                if (i5 < 0) {
                                }
                            }
                            arrayList.add(searchResult);
                            arrayList3.add(spannableStringBuilder2);
                        }
                        i4++;
                        str7 = str4;
                    }
                }
                i3++;
                spannableStringBuilder = null;
            }
            if (this.faqWebPage != null) {
                int size = this.faqSearchArray.size();
                int i6 = 0;
                while (i6 < size) {
                    MessagesController.FaqSearchResult faqSearchResult = (MessagesController.FaqSearchResult) this.faqSearchArray.get(i6);
                    String str9 = str6 + faqSearchResult.title.toLowerCase();
                    int i7 = 0;
                    SpannableStringBuilder spannableStringBuilder3 = null;
                    while (i7 < split.length) {
                        if (split[i7].length() != 0) {
                            String str10 = split[i7];
                            int indexOf2 = str9.indexOf(str6 + str10);
                            if (indexOf2 < 0 && (str3 = strArr[i7]) != null) {
                                indexOf2 = str9.indexOf(str6 + str3);
                                str10 = str3;
                            }
                            if (indexOf2 < 0) {
                                break;
                            }
                            if (spannableStringBuilder3 == null) {
                                spannableStringBuilder3 = new SpannableStringBuilder(faqSearchResult.title);
                            }
                            str2 = str6;
                            i = size;
                            spannableStringBuilder3.setSpan(new ForegroundColorSpan(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhiteBlueText4)), indexOf2, str10.length() + indexOf2, 33);
                        } else {
                            str2 = str6;
                            i = size;
                        }
                        if (spannableStringBuilder3 != null && i7 == split.length - 1) {
                            arrayList2.add(faqSearchResult);
                            arrayList3.add(spannableStringBuilder3);
                        }
                        i7++;
                        str6 = str2;
                        size = i;
                    }
                    i6++;
                    str6 = str6;
                    size = size;
                }
            }
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda145
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$search$145(str, arrayList, arrayList2, arrayList3);
                }
            });
        }

        public /* synthetic */ int lambda$updateSearchArray$0(Object obj, Object obj2) {
            int num = getNum(obj);
            int num2 = getNum(obj2);
            if (num < num2) {
                return -1;
            }
            return num > num2 ? 1 : 0;
        }

        public void loadFaqWebPage() {
            TLRPC$WebPage tLRPC$WebPage = ProfileActivity.this.getMessagesController().faqWebPage;
            this.faqWebPage = tLRPC$WebPage;
            if (tLRPC$WebPage != null) {
                this.faqSearchArray.addAll(ProfileActivity.this.getMessagesController().faqSearchArray);
            }
            if (this.faqWebPage != null || this.loadingFaqPage) {
                return;
            }
            this.loadingFaqPage = true;
            TLRPC$TL_messages_getWebPage tLRPC$TL_messages_getWebPage = new TLRPC$TL_messages_getWebPage();
            tLRPC$TL_messages_getWebPage.url = LocaleController.getString(R.string.TelegramFaqUrl);
            tLRPC$TL_messages_getWebPage.hash = 0;
            ProfileActivity.this.getConnectionsManager().sendRequest(tLRPC$TL_messages_getWebPage, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda143
                @Override // org.telegram.tgnet.RequestDelegate
                public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                    ProfileActivity.SearchAdapter.this.lambda$loadFaqWebPage$144(tLObject, tLRPC$TL_error);
                }
            });
        }

        public SearchResult[] onCreateSearchArray() {
            SearchResult searchResult = new SearchResult(this, 500, LocaleController.getString(R.string.EditName), 0, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda1
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$1();
                }
            });
            SearchResult searchResult2 = new SearchResult(this, 501, LocaleController.getString(R.string.ChangePhoneNumber), 0, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda54
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$2();
                }
            });
            SearchResult searchResult3 = new SearchResult(this, 502, LocaleController.getString(R.string.AddAnotherAccount), 0, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda65
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$3();
                }
            });
            SearchResult searchResult4 = new SearchResult(this, 503, LocaleController.getString(R.string.UserBio), 0, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda76
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$4();
                }
            });
            String string = LocaleController.getString(R.string.AddPhoto);
            final ProfileActivity profileActivity = ProfileActivity.this;
            SearchResult searchResult5 = new SearchResult(this, 504, string, 0, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda87
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.access$7700(ProfileActivity.this);
                }
            });
            int i = R.string.NotificationsAndSounds;
            String string2 = LocaleController.getString(i);
            int i2 = R.drawable.msg_notifications;
            SearchResult searchResult6 = new SearchResult(this, 1, string2, i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda98
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$6();
                }
            });
            SearchResult searchResult7 = new SearchResult(this, 2, LocaleController.getString(R.string.NotificationsPrivateChats), LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda109
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$7();
                }
            });
            SearchResult searchResult8 = new SearchResult(this, 3, LocaleController.getString(R.string.NotificationsGroups), LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda120
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$8();
                }
            });
            SearchResult searchResult9 = new SearchResult(this, 4, LocaleController.getString(R.string.NotificationsChannels), LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda131
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$9();
                }
            });
            SearchResult searchResult10 = new SearchResult(this, 5, LocaleController.getString(R.string.VoipNotificationSettings), "callsSectionRow", LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda142
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$10();
                }
            });
            SearchResult searchResult11 = new SearchResult(this, 6, LocaleController.getString(R.string.BadgeNumber), "badgeNumberSection", LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda12
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$11();
                }
            });
            SearchResult searchResult12 = new SearchResult(this, 7, LocaleController.getString(R.string.InAppNotifications), "inappSectionRow", LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda23
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$12();
                }
            });
            SearchResult searchResult13 = new SearchResult(this, 8, LocaleController.getString(R.string.ContactJoined), "contactJoinedRow", LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda34
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$13();
                }
            });
            SearchResult searchResult14 = new SearchResult(this, 9, LocaleController.getString(R.string.PinnedMessages), "pinnedMessageRow", LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda45
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$14();
                }
            });
            SearchResult searchResult15 = new SearchResult(this, 10, LocaleController.getString(R.string.ResetAllNotifications), "resetNotificationsRow", LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda48
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$15();
                }
            });
            SearchResult searchResult16 = new SearchResult(this, 11, LocaleController.getString(R.string.NotificationsService), "notificationsServiceRow", LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda49
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$16();
                }
            });
            SearchResult searchResult17 = new SearchResult(this, 12, LocaleController.getString(R.string.NotificationsServiceConnection), "notificationsServiceConnectionRow", LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda50
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$17();
                }
            });
            SearchResult searchResult18 = new SearchResult(this, 13, LocaleController.getString(R.string.RepeatNotifications), "repeatRow", LocaleController.getString(i), i2, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda51
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$18();
                }
            });
            int i3 = R.string.PrivacySettings;
            String string3 = LocaleController.getString(i3);
            int i4 = R.drawable.msg_secret;
            SearchResult searchResult19 = new SearchResult(this, 100, string3, i4, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda52
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$19();
                }
            });
            String string4 = LocaleController.getString(R.string.TwoStepVerification);
            String string5 = LocaleController.getString(i3);
            int i5 = R.drawable.msg2_secret;
            SearchResult searchResult20 = new SearchResult(this, 109, string4, string5, i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda53
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$20();
                }
            });
            SearchResult searchResult21 = new SearchResult(this, 124, LocaleController.getString(R.string.AutoDeleteMessages), LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda55
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$21();
                }
            });
            SearchResult searchResult22 = new SearchResult(this, 108, LocaleController.getString(R.string.Passcode), LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda56
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$22();
                }
            });
            SearchResult searchResult23 = SharedConfig.hasEmailLogin ? new SearchResult(this, 125, LocaleController.getString(R.string.EmailLogin), "emailLoginRow", LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda57
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$23();
                }
            }) : null;
            SearchResult searchResult24 = new SearchResult(this, 101, LocaleController.getString(R.string.BlockedUsers), LocaleController.getString(i3), i4, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda58
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$24();
                }
            });
            SearchResult searchResult25 = new SearchResult(this, 110, LocaleController.getString(R.string.SessionsTitle), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda59
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$25();
                }
            });
            SearchResult searchResult26 = new SearchResult(this, 105, LocaleController.getString(R.string.PrivacyPhone), LocaleController.getString(i3), i4, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda60
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$26();
                }
            });
            SearchResult searchResult27 = new SearchResult(this, 102, LocaleController.getString(R.string.PrivacyLastSeen), LocaleController.getString(i3), i4, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda61
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$27();
                }
            });
            SearchResult searchResult28 = new SearchResult(this, 103, LocaleController.getString(R.string.PrivacyProfilePhoto), LocaleController.getString(i3), i4, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda62
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$28();
                }
            });
            SearchResult searchResult29 = new SearchResult(this, 104, LocaleController.getString(R.string.PrivacyForwards), LocaleController.getString(i3), i4, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda63
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$29();
                }
            });
            SearchResult searchResult30 = new SearchResult(this, 122, LocaleController.getString(R.string.PrivacyP2P), LocaleController.getString(i3), i4, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda64
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$30();
                }
            });
            int i6 = R.string.Calls;
            SearchResult searchResult31 = new SearchResult(this, 106, LocaleController.getString(i6), LocaleController.getString(i3), i4, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda66
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$31();
                }
            });
            SearchResult searchResult32 = new SearchResult(this, 107, LocaleController.getString(R.string.PrivacyInvites), LocaleController.getString(i3), i4, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda67
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$32();
                }
            });
            SearchResult searchResult33 = new SearchResult(this, 123, LocaleController.getString(R.string.PrivacyVoiceMessages), LocaleController.getString(i3), i4, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda68
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$33();
                }
            });
            SearchResult searchResult34 = ProfileActivity.this.getMessagesController().autoarchiveAvailable ? new SearchResult(this, 121, LocaleController.getString(R.string.ArchiveAndMute), "newChatsRow", LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda69
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$34();
                }
            }) : null;
            SearchResult searchResult35 = new SearchResult(this, 112, LocaleController.getString(R.string.DeleteAccountIfAwayFor2), "deleteAccountRow", LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda70
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$35();
                }
            });
            SearchResult searchResult36 = new SearchResult(this, 113, LocaleController.getString(R.string.PrivacyPaymentsClear), "paymentsClearRow", LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda71
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$36();
                }
            });
            SearchResult searchResult37 = new SearchResult(this, 114, LocaleController.getString(R.string.WebSessionsTitle), LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda72
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$37();
                }
            });
            SearchResult searchResult38 = new SearchResult(this, 115, LocaleController.getString(R.string.SyncContactsDelete), "contactsDeleteRow", LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda73
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$38();
                }
            });
            SearchResult searchResult39 = new SearchResult(this, 116, LocaleController.getString(R.string.SyncContacts), "contactsSyncRow", LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda74
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$39();
                }
            });
            SearchResult searchResult40 = new SearchResult(this, 117, LocaleController.getString(R.string.SuggestContacts), "contactsSuggestRow", LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda75
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$40();
                }
            });
            SearchResult searchResult41 = new SearchResult(this, 118, LocaleController.getString(R.string.MapPreviewProvider), "secretMapRow", LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda77
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$41();
                }
            });
            SearchResult searchResult42 = new SearchResult(this, 119, LocaleController.getString(R.string.SecretWebPage), "secretWebpageRow", LocaleController.getString(i3), i5, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda78
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$42();
                }
            });
            int i7 = R.string.Devices;
            String string6 = LocaleController.getString(i7);
            int i8 = R.drawable.msg2_devices;
            SearchResult searchResult43 = new SearchResult(this, 120, string6, i8, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda79
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$43();
                }
            });
            SearchResult searchResult44 = new SearchResult(this, 121, LocaleController.getString(R.string.TerminateAllSessions), "terminateAllSessionsRow", LocaleController.getString(i7), i8, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda80
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$44();
                }
            });
            SearchResult searchResult45 = new SearchResult(this, 122, LocaleController.getString(R.string.LinkDesktopDevice), LocaleController.getString(i7), i8, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda81
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$45();
                }
            });
            int i9 = R.string.DataSettings;
            String string7 = LocaleController.getString(i9);
            int i10 = R.drawable.msg2_data;
            SearchResult searchResult46 = new SearchResult(this, NotificationCenter.storyQualityUpdate, string7, i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda82
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$46();
                }
            });
            SearchResult searchResult47 = new SearchResult(this, NotificationCenter.openBoostForUsersDialog, LocaleController.getString(R.string.DataUsage), "usageSectionRow", LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda83
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$47();
                }
            });
            int i11 = R.string.StorageUsage;
            SearchResult searchResult48 = new SearchResult(this, NotificationCenter.groupRestrictionsUnlockedByBoosts, LocaleController.getString(i11), LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda84
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$48();
                }
            });
            SearchResult searchResult49 = new SearchResult(203, LocaleController.getString(R.string.KeepMedia), "keepMediaRow", LocaleController.getString(i9), LocaleController.getString(i11), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda85
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$49();
                }
            });
            SearchResult searchResult50 = new SearchResult(NotificationCenter.groupPackUpdated, LocaleController.getString(R.string.ClearMediaCache), "cacheRow", LocaleController.getString(i9), LocaleController.getString(i11), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda86
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$50();
                }
            });
            SearchResult searchResult51 = new SearchResult(NotificationCenter.timezonesUpdated, LocaleController.getString(R.string.LocalDatabase), "databaseRow", LocaleController.getString(i9), LocaleController.getString(i11), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda88
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$51();
                }
            });
            SearchResult searchResult52 = new SearchResult(this, NotificationCenter.customStickerCreated, LocaleController.getString(R.string.NetworkUsage), LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda89
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$52();
                }
            });
            SearchResult searchResult53 = new SearchResult(this, NotificationCenter.premiumFloodWaitReceived, LocaleController.getString(R.string.AutomaticMediaDownload), "mediaDownloadSectionRow", LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda90
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$53();
                }
            });
            SearchResult searchResult54 = new SearchResult(this, NotificationCenter.availableEffectsUpdate, LocaleController.getString(R.string.WhenUsingMobileData), LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda91
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$54();
                }
            });
            SearchResult searchResult55 = new SearchResult(this, NotificationCenter.starOptionsLoaded, LocaleController.getString(R.string.WhenConnectedOnWiFi), LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda92
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$55();
                }
            });
            SearchResult searchResult56 = new SearchResult(this, NotificationCenter.starGiftOptionsLoaded, LocaleController.getString(R.string.WhenRoaming), LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda93
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$56();
                }
            });
            SearchResult searchResult57 = new SearchResult(this, NotificationCenter.starBalanceUpdated, LocaleController.getString(R.string.ResetAutomaticMediaDownload), "resetDownloadRow", LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda94
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$57();
                }
            });
            SearchResult searchResult58 = new SearchResult(this, NotificationCenter.botStarsUpdated, LocaleController.getString(R.string.Streaming), "streamSectionRow", LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda95
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$58();
                }
            });
            SearchResult searchResult59 = new SearchResult(this, NotificationCenter.botStarsTransactionsLoaded, LocaleController.getString(R.string.EnableStreaming), "enableStreamRow", LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda96
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$59();
                }
            });
            SearchResult searchResult60 = new SearchResult(this, NotificationCenter.channelStarsUpdated, LocaleController.getString(i6), "callsSectionRow", LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda97
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$60();
                }
            });
            SearchResult searchResult61 = new SearchResult(this, NotificationCenter.webViewResolved, LocaleController.getString(R.string.VoipUseLessData), "useLessDataForCallsRow", LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda99
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$61();
                }
            });
            SearchResult searchResult62 = new SearchResult(this, NotificationCenter.updateAllMessages, LocaleController.getString(R.string.VoipQuickReplies), "quickRepliesRow", LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda100
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$62();
                }
            });
            int i12 = R.string.ProxySettings;
            SearchResult searchResult63 = new SearchResult(this, NotificationCenter.pushMessagesUpdated, LocaleController.getString(i12), LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda101
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$63();
                }
            });
            SearchResult searchResult64 = new SearchResult(NotificationCenter.wallpapersDidLoad, LocaleController.getString(R.string.UseProxyForCalls), "callsRow", LocaleController.getString(i9), LocaleController.getString(i12), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda102
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$64();
                }
            });
            SearchResult searchResult65 = new SearchResult(this, 111, LocaleController.getString(R.string.PrivacyDeleteCloudDrafts), "clearDraftsRow", LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda103
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$65();
                }
            });
            int i13 = R.string.SaveToGallery;
            SearchResult searchResult66 = new SearchResult(this, NotificationCenter.wallpapersNeedReload, LocaleController.getString(i13), "saveToGallerySectionRow", LocaleController.getString(i9), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda104
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$66();
                }
            });
            SearchResult searchResult67 = new SearchResult(NotificationCenter.didReceiveSmsCode, LocaleController.getString(R.string.SaveToGalleryPrivate), "saveToGalleryPeerRow", LocaleController.getString(i9), LocaleController.getString(i13), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda105
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$67();
                }
            });
            SearchResult searchResult68 = new SearchResult(NotificationCenter.didReceiveCall, LocaleController.getString(R.string.SaveToGalleryGroups), "saveToGalleryGroupsRow", LocaleController.getString(i9), LocaleController.getString(i13), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda106
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$68();
                }
            });
            SearchResult searchResult69 = new SearchResult(NotificationCenter.emojiLoaded, LocaleController.getString(R.string.SaveToGalleryChannels), "saveToGalleryChannelsRow", LocaleController.getString(i9), LocaleController.getString(i13), i10, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda107
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$69();
                }
            });
            int i14 = R.string.ChatSettings;
            String string8 = LocaleController.getString(i14);
            int i15 = R.drawable.msg2_discussion;
            SearchResult searchResult70 = new SearchResult(this, 300, string8, i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda108
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$70();
                }
            });
            SearchResult searchResult71 = new SearchResult(this, 301, LocaleController.getString(R.string.TextSizeHeader), "textSizeHeaderRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda110
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$71();
                }
            });
            SearchResult searchResult72 = new SearchResult(this, 302, LocaleController.getString(R.string.ChangeChatBackground), LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda111
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$72();
                }
            });
            String string9 = LocaleController.getString(R.string.SetColor);
            String string10 = LocaleController.getString(i14);
            int i16 = R.string.ChatBackground;
            SearchResult searchResult73 = new SearchResult(303, string9, null, string10, LocaleController.getString(i16), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda112
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$73();
                }
            });
            SearchResult searchResult74 = new SearchResult(304, LocaleController.getString(R.string.ResetChatBackgrounds), "resetRow", LocaleController.getString(i14), LocaleController.getString(i16), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda113
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$74();
                }
            });
            SearchResult searchResult75 = new SearchResult(this, 306, LocaleController.getString(R.string.ColorTheme), "themeHeaderRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda114
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$75();
                }
            });
            int i17 = R.string.BrowseThemes;
            SearchResult searchResult76 = new SearchResult(this, 319, LocaleController.getString(i17), null, LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda115
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$76();
                }
            });
            SearchResult searchResult77 = new SearchResult(320, LocaleController.getString(R.string.CreateNewTheme), "createNewThemeRow", LocaleController.getString(i14), LocaleController.getString(i17), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda116
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$77();
                }
            });
            SearchResult searchResult78 = new SearchResult(this, 321, LocaleController.getString(R.string.BubbleRadius), "bubbleRadiusHeaderRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda117
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$78();
                }
            });
            SearchResult searchResult79 = new SearchResult(this, 322, LocaleController.getString(R.string.ChatList), "chatListHeaderRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda118
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$79();
                }
            });
            SearchResult searchResult80 = new SearchResult(this, 323, LocaleController.getString(R.string.ChatListSwipeGesture), "swipeGestureHeaderRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda119
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$80();
                }
            });
            SearchResult searchResult81 = new SearchResult(this, 324, LocaleController.getString(R.string.AppIcon), "appIconHeaderRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda121
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$81();
                }
            });
            SearchResult searchResult82 = new SearchResult(this, 305, LocaleController.getString(R.string.AutoNightTheme), LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda122
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$82();
                }
            });
            SearchResult searchResult83 = new SearchResult(this, 328, LocaleController.getString(R.string.NextMediaTap), "nextMediaTapRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda123
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$83();
                }
            });
            SearchResult searchResult84 = new SearchResult(this, 327, LocaleController.getString(R.string.RaiseToListen), "raiseToListenRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda124
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$84();
                }
            });
            SearchResult searchResult85 = new SearchResult(this, 310, LocaleController.getString(R.string.RaiseToSpeak), "raiseToSpeakRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda125
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$85();
                }
            });
            SearchResult searchResult86 = new SearchResult(this, 326, LocaleController.getString(R.string.PauseMusicOnMedia), "pauseOnMediaRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda126
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$86();
                }
            });
            SearchResult searchResult87 = new SearchResult(this, 325, LocaleController.getString(R.string.MicrophoneForVoiceMessages), "bluetoothScoRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda127
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$87();
                }
            });
            SearchResult searchResult88 = new SearchResult(this, 308, LocaleController.getString(R.string.DirectShare), "directShareRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda128
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$88();
                }
            });
            SearchResult searchResult89 = new SearchResult(this, 311, LocaleController.getString(R.string.SendByEnter), "sendByEnterRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda129
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$89();
                }
            });
            SearchResult searchResult90 = new SearchResult(this, 318, LocaleController.getString(R.string.DistanceUnits), "distanceRow", LocaleController.getString(i14), i15, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda130
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$90();
                }
            });
            int i18 = R.string.StickersName;
            String string11 = LocaleController.getString(i18);
            int i19 = R.drawable.msg2_sticker;
            SearchResult searchResult91 = new SearchResult(this, 600, string11, i19, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda132
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$91();
                }
            });
            SearchResult searchResult92 = new SearchResult(this, 601, LocaleController.getString(R.string.SuggestStickers), "suggestRow", LocaleController.getString(i18), i19, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda133
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$92();
                }
            });
            SearchResult searchResult93 = new SearchResult(this, 602, LocaleController.getString(R.string.FeaturedStickers), "featuredStickersHeaderRow", LocaleController.getString(i18), i19, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda134
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$93();
                }
            });
            SearchResult searchResult94 = new SearchResult(this, 603, LocaleController.getString(R.string.Masks), null, LocaleController.getString(i18), i19, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda135
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$94();
                }
            });
            SearchResult searchResult95 = new SearchResult(this, 604, LocaleController.getString(R.string.ArchivedStickers), null, LocaleController.getString(i18), i19, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda136
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$95();
                }
            });
            SearchResult searchResult96 = new SearchResult(this, 605, LocaleController.getString(R.string.ArchivedMasks), null, LocaleController.getString(i18), i19, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda137
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$96();
                }
            });
            SearchResult searchResult97 = new SearchResult(this, 606, LocaleController.getString(R.string.LargeEmoji), "largeEmojiRow", LocaleController.getString(i18), i19, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda138
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$97();
                }
            });
            SearchResult searchResult98 = new SearchResult(this, 607, LocaleController.getString(R.string.LoopAnimatedStickers), "loopRow", LocaleController.getString(i18), i19, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda139
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$98();
                }
            });
            int i20 = R.string.Emoji;
            String string12 = LocaleController.getString(i20);
            String string13 = LocaleController.getString(i18);
            int i21 = R.drawable.input_smile;
            SearchResult searchResult99 = new SearchResult(this, 608, string12, null, string13, i21, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda140
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$99();
                }
            });
            SearchResult searchResult100 = new SearchResult(609, LocaleController.getString(R.string.SuggestAnimatedEmoji), "suggestAnimatedEmojiRow", LocaleController.getString(i18), LocaleController.getString(i20), i21, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda141
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$100();
                }
            });
            SearchResult searchResult101 = new SearchResult(610, LocaleController.getString(R.string.FeaturedEmojiPacks), "featuredStickersHeaderRow", LocaleController.getString(i18), LocaleController.getString(i20), i21, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda2
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$101();
                }
            });
            SearchResult searchResult102 = new SearchResult(this, 611, LocaleController.getString(R.string.DoubleTapSetting), null, LocaleController.getString(i18), i19, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda3
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$102();
                }
            });
            int i22 = R.string.Filters;
            String string14 = LocaleController.getString(i22);
            int i23 = R.drawable.msg2_folder;
            SearchResult searchResult103 = new SearchResult(this, 700, string14, null, i23, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda4
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$103();
                }
            });
            SearchResult searchResult104 = new SearchResult(this, 701, LocaleController.getString(R.string.CreateNewFilter), "createFilterRow", LocaleController.getString(i22), i23, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda5
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$104();
                }
            });
            SearchResult searchResult105 = isPremiumFeatureAvailable(-1) ? new SearchResult(this, 800, LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda6
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$105();
                }
            }) : null;
            SearchResult searchResult106 = isPremiumFeatureAvailable(0) ? new SearchResult(this, 801, LocaleController.getString(R.string.PremiumPreviewLimits), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda7
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$106();
                }
            }) : null;
            SearchResult searchResult107 = isPremiumFeatureAvailable(11) ? new SearchResult(this, 802, LocaleController.getString(R.string.PremiumPreviewEmoji), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda8
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$107();
                }
            }) : null;
            SearchResult searchResult108 = isPremiumFeatureAvailable(1) ? new SearchResult(this, 803, LocaleController.getString(R.string.PremiumPreviewUploads), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda9
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$108();
                }
            }) : null;
            SearchResult searchResult109 = isPremiumFeatureAvailable(2) ? new SearchResult(this, 804, LocaleController.getString(R.string.PremiumPreviewDownloadSpeed), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda10
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$109();
                }
            }) : null;
            SearchResult searchResult110 = isPremiumFeatureAvailable(8) ? new SearchResult(this, 805, LocaleController.getString(R.string.PremiumPreviewVoiceToText), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda11
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$110();
                }
            }) : null;
            SearchResult searchResult111 = isPremiumFeatureAvailable(3) ? new SearchResult(this, 806, LocaleController.getString(R.string.PremiumPreviewNoAds), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda13
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$111();
                }
            }) : null;
            SearchResult searchResult112 = isPremiumFeatureAvailable(4) ? new SearchResult(this, 807, LocaleController.getString(R.string.PremiumPreviewReactions), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda14
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$112();
                }
            }) : null;
            SearchResult searchResult113 = isPremiumFeatureAvailable(5) ? new SearchResult(this, 808, LocaleController.getString(R.string.PremiumPreviewStickers), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda15
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$113();
                }
            }) : null;
            SearchResult searchResult114 = isPremiumFeatureAvailable(9) ? new SearchResult(this, 809, LocaleController.getString(R.string.PremiumPreviewAdvancedChatManagement), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda16
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$114();
                }
            }) : null;
            SearchResult searchResult115 = isPremiumFeatureAvailable(6) ? new SearchResult(this, 810, LocaleController.getString(R.string.PremiumPreviewProfileBadge), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda17
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$115();
                }
            }) : null;
            SearchResult searchResult116 = isPremiumFeatureAvailable(7) ? new SearchResult(this, 811, LocaleController.getString(R.string.PremiumPreviewAnimatedProfiles), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda18
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$116();
                }
            }) : null;
            SearchResult searchResult117 = isPremiumFeatureAvailable(10) ? new SearchResult(this, 812, LocaleController.getString(R.string.PremiumPreviewAppIcon), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda19
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$117();
                }
            }) : null;
            SearchResult searchResult118 = isPremiumFeatureAvailable(12) ? new SearchResult(this, 813, LocaleController.getString(R.string.PremiumPreviewEmojiStatus), LocaleController.getString(R.string.TelegramPremium), R.drawable.msg_settings_premium, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda20
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$118();
                }
            }) : null;
            int i24 = R.string.PowerUsage;
            String string15 = LocaleController.getString(i24);
            int i25 = R.drawable.msg2_battery;
            SearchResult searchResult119 = new SearchResult(this, 900, string15, null, i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda21
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$119();
                }
            });
            int i26 = R.string.LiteOptionsStickers;
            SearchResult searchResult120 = new SearchResult(this, 901, LocaleController.getString(i26), LocaleController.getString(i24), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda22
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$120();
                }
            });
            int i27 = R.string.LiteOptionsAutoplayKeyboard;
            SearchResult searchResult121 = new SearchResult(902, LocaleController.getString(i27), null, LocaleController.getString(i24), LocaleController.getString(i26), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda24
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$121();
                }
            });
            int i28 = R.string.LiteOptionsAutoplayChat;
            SearchResult searchResult122 = new SearchResult(903, LocaleController.getString(i28), null, LocaleController.getString(i24), LocaleController.getString(i26), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda25
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$122();
                }
            });
            int i29 = R.string.LiteOptionsEmoji;
            SearchResult searchResult123 = new SearchResult(this, 904, LocaleController.getString(i29), LocaleController.getString(i24), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda26
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$123();
                }
            });
            SearchResult searchResult124 = new SearchResult(905, LocaleController.getString(i27), null, LocaleController.getString(i24), LocaleController.getString(i29), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda27
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$124();
                }
            });
            SearchResult searchResult125 = new SearchResult(906, LocaleController.getString(R.string.LiteOptionsAutoplayReactions), null, LocaleController.getString(i24), LocaleController.getString(i29), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda28
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$125();
                }
            });
            SearchResult searchResult126 = new SearchResult(907, LocaleController.getString(i28), null, LocaleController.getString(i24), LocaleController.getString(i29), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda29
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$126();
                }
            });
            int i30 = R.string.LiteOptionsChat;
            SearchResult searchResult127 = new SearchResult(this, 908, LocaleController.getString(i30), LocaleController.getString(i24), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda30
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$127();
                }
            });
            SearchResult searchResult128 = new SearchResult(909, LocaleController.getString(R.string.LiteOptionsBackground), null, LocaleController.getString(i24), LocaleController.getString(i30), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda31
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$128();
                }
            });
            SearchResult searchResult129 = new SearchResult(910, LocaleController.getString(R.string.LiteOptionsTopics), null, LocaleController.getString(i24), LocaleController.getString(i30), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda32
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$129();
                }
            });
            SearchResult searchResult130 = new SearchResult(911, LocaleController.getString(R.string.LiteOptionsSpoiler), null, LocaleController.getString(i24), LocaleController.getString(i30), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda33
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$130();
                }
            });
            SearchResult searchResult131 = SharedConfig.getDevicePerformanceClass() >= 1 ? new SearchResult(326, LocaleController.getString(R.string.LiteOptionsBlur), null, LocaleController.getString(i24), LocaleController.getString(i30), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda35
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$131();
                }
            }) : null;
            SearchResult searchResult132 = new SearchResult(912, LocaleController.getString(R.string.LiteOptionsScale), null, LocaleController.getString(i24), LocaleController.getString(i30), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda36
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$132();
                }
            });
            SearchResult searchResult133 = new SearchResult(this, 913, LocaleController.getString(R.string.LiteOptionsCalls), LocaleController.getString(i24), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda37
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$133();
                }
            });
            SearchResult searchResult134 = new SearchResult(this, NotificationCenter.factCheckLoaded, LocaleController.getString(R.string.LiteOptionsAutoplayVideo), LocaleController.getString(i24), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda38
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$134();
                }
            });
            SearchResult searchResult135 = new SearchResult(this, NotificationCenter.starSubscriptionsLoaded, LocaleController.getString(R.string.LiteOptionsAutoplayGifs), LocaleController.getString(i24), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda39
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$135();
                }
            });
            SearchResult searchResult136 = new SearchResult(this, 914, LocaleController.getString(R.string.LiteSmoothTransitions), LocaleController.getString(i24), i25, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda40
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$136();
                }
            });
            int i31 = R.string.Language;
            String string16 = LocaleController.getString(i31);
            int i32 = R.drawable.msg2_language;
            SearchResult searchResult137 = new SearchResult(this, 400, string16, i32, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda41
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$137();
                }
            });
            SearchResult searchResult138 = new SearchResult(this, 405, LocaleController.getString(R.string.ShowTranslateButton), LocaleController.getString(i31), i32, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda42
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$138();
                }
            });
            SearchResult searchResult139 = MessagesController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getTranslateController().isContextTranslateEnabled() ? new SearchResult(this, 406, LocaleController.getString(R.string.DoNotTranslate), LocaleController.getString(i31), i32, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda43
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$139();
                }
            }) : null;
            String string17 = LocaleController.getString(R.string.AskAQuestion);
            int i33 = R.string.SettingsHelp;
            String string18 = LocaleController.getString(i33);
            int i34 = R.drawable.msg2_help;
            return new SearchResult[]{searchResult, searchResult2, searchResult3, searchResult4, searchResult5, searchResult6, searchResult7, searchResult8, searchResult9, searchResult10, searchResult11, searchResult12, searchResult13, searchResult14, searchResult15, searchResult16, searchResult17, searchResult18, searchResult19, searchResult20, searchResult21, searchResult22, searchResult23, searchResult24, searchResult25, searchResult26, searchResult27, searchResult28, searchResult29, searchResult30, searchResult31, searchResult32, searchResult33, searchResult34, searchResult35, searchResult36, searchResult37, searchResult38, searchResult39, searchResult40, searchResult41, searchResult42, searchResult43, searchResult44, searchResult45, searchResult46, searchResult47, searchResult48, searchResult49, searchResult50, searchResult51, searchResult52, searchResult53, searchResult54, searchResult55, searchResult56, searchResult57, searchResult58, searchResult59, searchResult60, searchResult61, searchResult62, searchResult63, searchResult64, searchResult65, searchResult66, searchResult67, searchResult68, searchResult69, searchResult70, searchResult71, searchResult72, searchResult73, searchResult74, searchResult75, searchResult76, searchResult77, searchResult78, searchResult79, searchResult80, searchResult81, searchResult82, searchResult83, searchResult84, searchResult85, searchResult86, searchResult87, searchResult88, searchResult89, searchResult90, searchResult91, searchResult92, searchResult93, searchResult94, searchResult95, searchResult96, searchResult97, searchResult98, searchResult99, searchResult100, searchResult101, searchResult102, searchResult103, searchResult104, searchResult105, searchResult106, searchResult107, searchResult108, searchResult109, searchResult110, searchResult111, searchResult112, searchResult113, searchResult114, searchResult115, searchResult116, searchResult117, searchResult118, searchResult119, searchResult120, searchResult121, searchResult122, searchResult123, searchResult124, searchResult125, searchResult126, searchResult127, searchResult128, searchResult129, searchResult130, searchResult131, searchResult132, searchResult133, searchResult134, searchResult135, searchResult136, searchResult137, searchResult138, searchResult139, new SearchResult(this, 402, string17, string18, i34, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda44
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$140();
                }
            }), new SearchResult(this, 403, LocaleController.getString(R.string.TelegramFAQ), LocaleController.getString(i33), i34, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda46
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$141();
                }
            }), new SearchResult(this, 404, LocaleController.getString(R.string.PrivacyPolicy), LocaleController.getString(i33), i34, new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda47
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.SearchAdapter.this.lambda$onCreateSearchArray$142();
                }
            })};
        }

        public void updateSearchArray() {
            String[] strArr;
            SearchResult searchResult;
            HashMap hashMap = new HashMap();
            int i = 0;
            while (true) {
                SearchResult[] searchResultArr = this.searchArray;
                if (i >= searchResultArr.length) {
                    break;
                }
                SearchResult searchResult2 = searchResultArr[i];
                if (searchResult2 != null) {
                    hashMap.put(Integer.valueOf(searchResult2.guid), this.searchArray[i]);
                }
                i++;
            }
            Set<String> stringSet = MessagesController.getGlobalMainSettings().getStringSet("settingsSearchRecent2", null);
            if (stringSet != null) {
                for (String str : stringSet) {
                    try {
                        SerializedData serializedData = new SerializedData(Utilities.hexToBytes(str));
                        int readInt32 = serializedData.readInt32(false);
                        int readInt322 = serializedData.readInt32(false);
                        if (readInt322 == 0) {
                            String readString = serializedData.readString(false);
                            int readInt323 = serializedData.readInt32(false);
                            if (readInt323 > 0) {
                                strArr = new String[readInt323];
                                for (int i2 = 0; i2 < readInt323; i2++) {
                                    strArr[i2] = serializedData.readString(false);
                                }
                            } else {
                                strArr = null;
                            }
                            MessagesController.FaqSearchResult faqSearchResult = new MessagesController.FaqSearchResult(readString, strArr, serializedData.readString(false));
                            faqSearchResult.num = readInt32;
                            this.recentSearches.add(faqSearchResult);
                        } else if (readInt322 == 1 && (searchResult = (SearchResult) hashMap.get(Integer.valueOf(serializedData.readInt32(false)))) != null) {
                            searchResult.num = readInt32;
                            this.recentSearches.add(searchResult);
                        }
                    } catch (Exception unused) {
                    }
                }
            }
            Collections.sort(this.recentSearches, new Comparator() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda0
                @Override // java.util.Comparator
                public final int compare(Object obj, Object obj2) {
                    int lambda$updateSearchArray$0;
                    lambda$updateSearchArray$0 = ProfileActivity.SearchAdapter.this.lambda$updateSearchArray$0(obj, obj2);
                    return lambda$updateSearchArray$0;
                }
            });
        }

        public void addRecent(Object obj) {
            int indexOf = this.recentSearches.indexOf(obj);
            if (indexOf >= 0) {
                this.recentSearches.remove(indexOf);
            }
            this.recentSearches.add(0, obj);
            if (!this.searchWas) {
                notifyDataSetChanged();
            }
            if (this.recentSearches.size() > 20) {
                ArrayList arrayList = this.recentSearches;
                arrayList.remove(arrayList.size() - 1);
            }
            LinkedHashSet linkedHashSet = new LinkedHashSet();
            int size = this.recentSearches.size();
            for (int i = 0; i < size; i++) {
                Object obj2 = this.recentSearches.get(i);
                if (obj2 instanceof SearchResult) {
                    ((SearchResult) obj2).num = i;
                } else if (obj2 instanceof MessagesController.FaqSearchResult) {
                    ((MessagesController.FaqSearchResult) obj2).num = i;
                }
                linkedHashSet.add(obj2.toString());
            }
            MessagesController.getGlobalMainSettings().edit().putStringSet("settingsSearchRecent2", linkedHashSet).commit();
        }

        public void clearRecent() {
            this.recentSearches.clear();
            MessagesController.getGlobalMainSettings().edit().remove("settingsSearchRecent2").commit();
            notifyDataSetChanged();
        }

        @Override // androidx.recyclerview.widget.RecyclerView.Adapter
        public int getItemCount() {
            if (this.searchWas) {
                return this.searchResults.size() + (this.faqSearchResults.isEmpty() ? 0 : this.faqSearchResults.size() + 1);
            }
            return (this.recentSearches.isEmpty() ? 0 : this.recentSearches.size() + 1) + (this.faqSearchArray.isEmpty() ? 0 : this.faqSearchArray.size() + 1);
        }

        @Override // androidx.recyclerview.widget.RecyclerView.Adapter
        public int getItemViewType(int i) {
            if (this.searchWas) {
                if (i >= this.searchResults.size() && i == this.searchResults.size()) {
                    return 1;
                }
            } else if (i == 0) {
                return !this.recentSearches.isEmpty() ? 2 : 1;
            } else if (!this.recentSearches.isEmpty() && i == this.recentSearches.size() + 1) {
                return 1;
            }
            return 0;
        }

        @Override // org.telegram.ui.Components.RecyclerListView.SelectionAdapter
        public boolean isEnabled(RecyclerView.ViewHolder viewHolder) {
            return viewHolder.getItemViewType() == 0;
        }

        public boolean isSearchWas() {
            return this.searchWas;
        }

        @Override // androidx.recyclerview.widget.RecyclerView.Adapter
        public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int i) {
            int itemViewType = viewHolder.getItemViewType();
            if (itemViewType != 0) {
                if (itemViewType == 1) {
                    ((GraySectionCell) viewHolder.itemView).setText(LocaleController.getString(R.string.SettingsFaqSearchTitle));
                    return;
                } else if (itemViewType != 2) {
                    return;
                } else {
                    ((HeaderCell) viewHolder.itemView).setText(LocaleController.getString(R.string.SettingsRecent));
                    return;
                }
            }
            SettingsSearchCell settingsSearchCell = (SettingsSearchCell) viewHolder.itemView;
            if (this.searchWas) {
                if (i >= this.searchResults.size()) {
                    int size = i - (this.searchResults.size() + 1);
                    settingsSearchCell.setTextAndValue((CharSequence) this.resultNames.get(this.searchResults.size() + size), ((MessagesController.FaqSearchResult) this.faqSearchResults.get(size)).path, true, size < this.searchResults.size() - 1);
                    return;
                }
                SearchResult searchResult = (SearchResult) this.searchResults.get(i);
                SearchResult searchResult2 = i > 0 ? (SearchResult) this.searchResults.get(i - 1) : null;
                settingsSearchCell.setTextAndValueAndIcon((CharSequence) this.resultNames.get(i), searchResult.path, (searchResult2 == null || searchResult2.iconResId != searchResult.iconResId) ? searchResult.iconResId : 0, i < this.searchResults.size() - 1);
                return;
            }
            if (!this.recentSearches.isEmpty()) {
                i--;
            }
            if (i >= this.recentSearches.size()) {
                int size2 = i - (this.recentSearches.size() + 1);
                MessagesController.FaqSearchResult faqSearchResult = (MessagesController.FaqSearchResult) this.faqSearchArray.get(size2);
                settingsSearchCell.setTextAndValue(faqSearchResult.title, faqSearchResult.path, true, size2 < this.recentSearches.size() - 1);
                return;
            }
            Object obj = this.recentSearches.get(i);
            if (obj instanceof SearchResult) {
                SearchResult searchResult3 = (SearchResult) obj;
                settingsSearchCell.setTextAndValue(searchResult3.searchTitle, searchResult3.path, false, i < this.recentSearches.size() - 1);
            } else if (obj instanceof MessagesController.FaqSearchResult) {
                MessagesController.FaqSearchResult faqSearchResult2 = (MessagesController.FaqSearchResult) obj;
                settingsSearchCell.setTextAndValue(faqSearchResult2.title, faqSearchResult2.path, true, i < this.recentSearches.size() - 1);
            }
        }

        @Override // androidx.recyclerview.widget.RecyclerView.Adapter
        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {
            View headerCell = i != 0 ? i != 1 ? new HeaderCell(this.mContext, 16) : new GraySectionCell(this.mContext) : new SettingsSearchCell(this.mContext);
            headerCell.setLayoutParams(new RecyclerView.LayoutParams(-1, -2));
            return new RecyclerListView.Holder(headerCell);
        }

        public void search(final String str) {
            this.lastSearchString = str;
            if (this.searchRunnable != null) {
                Utilities.searchQueue.cancelRunnable(this.searchRunnable);
                this.searchRunnable = null;
            }
            if (!TextUtils.isEmpty(str)) {
                DispatchQueue dispatchQueue = Utilities.searchQueue;
                Runnable runnable = new Runnable() { // from class: org.telegram.ui.ProfileActivity$SearchAdapter$$ExternalSyntheticLambda144
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.SearchAdapter.this.lambda$search$146(str);
                    }
                };
                this.searchRunnable = runnable;
                dispatchQueue.postRunnable(runnable, 300L);
                return;
            }
            this.searchWas = false;
            this.searchResults.clear();
            this.faqSearchResults.clear();
            this.resultNames.clear();
            ProfileActivity.this.emptyView.stickerView.getImageReceiver().startAnimation();
            ProfileActivity.this.emptyView.title.setText(LocaleController.getString(R.string.SettingsNoRecent));
            notifyDataSetChanged();
        }
    }

    /* loaded from: classes4.dex */
    public static class ShowDrawable extends Drawable implements SimpleTextView.PressableDrawable {
        private float alpha;
        private float alpha2;
        public final Paint backgroundPaint;
        private final ButtonBounce bounce;
        private boolean pressed;
        private int textColor;
        public final AnimatedTextView.AnimatedTextDrawable textDrawable;
        private View view;

        public ShowDrawable(String str) {
            Paint paint = new Paint(1);
            this.backgroundPaint = paint;
            this.alpha = 1.0f;
            this.alpha2 = 1.0f;
            this.bounce = new ButtonBounce(null) { // from class: org.telegram.ui.ProfileActivity.ShowDrawable.2
                {
                    ShowDrawable.this = this;
                }

                @Override // org.telegram.ui.Components.ButtonBounce
                public void invalidate() {
                    ShowDrawable.this.invalidateSelf();
                }
            };
            AnimatedTextView.AnimatedTextDrawable animatedTextDrawable = new AnimatedTextView.AnimatedTextDrawable();
            this.textDrawable = animatedTextDrawable;
            animatedTextDrawable.setCallback(new Drawable.Callback() { // from class: org.telegram.ui.ProfileActivity.ShowDrawable.1
                {
                    ShowDrawable.this = this;
                }

                @Override // android.graphics.drawable.Drawable.Callback
                public void invalidateDrawable(Drawable drawable) {
                    if (ShowDrawable.this.view != null) {
                        ShowDrawable.this.view.invalidate();
                    }
                }

                @Override // android.graphics.drawable.Drawable.Callback
                public void scheduleDrawable(Drawable drawable, Runnable runnable, long j) {
                }

                @Override // android.graphics.drawable.Drawable.Callback
                public void unscheduleDrawable(Drawable drawable, Runnable runnable) {
                }
            });
            animatedTextDrawable.setText(str);
            animatedTextDrawable.setTextSize(AndroidUtilities.dp(11.0f));
            animatedTextDrawable.setGravity(17);
            paint.setColor(520093696);
        }

        @Override // android.graphics.drawable.Drawable
        public void draw(Canvas canvas) {
            float f = this.alpha * this.alpha2;
            if (f <= 0.0f) {
                return;
            }
            RectF rectF = AndroidUtilities.rectTmp;
            rectF.set(getBounds());
            canvas.save();
            float scale = this.bounce.getScale(0.1f);
            canvas.scale(scale, scale, rectF.centerX(), rectF.centerY());
            int alpha = this.backgroundPaint.getAlpha();
            this.backgroundPaint.setAlpha((int) (alpha * f));
            canvas.drawRoundRect(rectF, AndroidUtilities.dp(20.0f), AndroidUtilities.dp(20.0f), this.backgroundPaint);
            this.backgroundPaint.setAlpha(alpha);
            this.textDrawable.setTextColor(this.textColor);
            this.textDrawable.setAlpha((int) (f * 255.0f));
            this.textDrawable.setBounds((int) rectF.left, (int) rectF.top, (int) rectF.right, (int) rectF.bottom);
            this.textDrawable.draw(canvas);
            canvas.restore();
        }

        @Override // android.graphics.drawable.Drawable
        public int getIntrinsicHeight() {
            return AndroidUtilities.dp(17.33f);
        }

        @Override // android.graphics.drawable.Drawable
        public int getIntrinsicWidth() {
            return (int) (this.textDrawable.getAnimateToWidth() + AndroidUtilities.dp(11.0f));
        }

        @Override // android.graphics.drawable.Drawable
        public int getOpacity() {
            return -2;
        }

        @Override // android.graphics.drawable.Drawable
        public void setAlpha(int i) {
            this.alpha = i / 255.0f;
            invalidateSelf();
        }

        public void setAlpha2(float f) {
            this.alpha2 = f;
            invalidateSelf();
        }

        public void setBackgroundColor(int i) {
            if (this.backgroundPaint.getColor() != i) {
                this.backgroundPaint.setColor(i);
                invalidateSelf();
            }
        }

        @Override // android.graphics.drawable.Drawable
        public void setColorFilter(ColorFilter colorFilter) {
        }

        @Override // org.telegram.ui.ActionBar.SimpleTextView.PressableDrawable
        public void setPressed(boolean z) {
            this.bounce.setPressed(z);
            this.pressed = z;
        }

        public void setTextColor(int i) {
            if (this.textColor != i) {
                this.textColor = i;
                invalidateSelf();
            }
        }

        public void setView(View view) {
            this.view = view;
        }
    }

    /* loaded from: classes4.dex */
    public class TopView extends View {
        private LinearGradient backgroundGradient;
        private int backgroundGradientColor1;
        private int backgroundGradientColor2;
        private int backgroundGradientHeight;
        private final Paint backgroundPaint;
        private Rect blurBounds;
        public int color1;
        private final AnimatedColor color1Animated;
        public int color2;
        private final AnimatedColor color2Animated;
        private int currentColor;
        private final AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable emoji;
        private int emojiColor;
        private boolean emojiLoaded;
        public final AnimatedFloat emojiLoadedT;
        private final AnimatedFloat hasColorAnimated;
        private boolean hasColorById;
        private boolean hasEmoji;
        private Paint paint;

        /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
        public TopView(Context context) {
            super(context);
            ProfileActivity.this = r8;
            this.paint = new Paint();
            CubicBezierInterpolator cubicBezierInterpolator = CubicBezierInterpolator.EASE_OUT_QUINT;
            this.hasColorAnimated = new AnimatedFloat(this, 350L, cubicBezierInterpolator);
            this.color1Animated = new AnimatedColor(this, 350L, cubicBezierInterpolator);
            this.color2Animated = new AnimatedColor(this, 350L, cubicBezierInterpolator);
            this.backgroundPaint = new Paint(1);
            this.emoji = new AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable(this, false, AndroidUtilities.dp(20.0f), 13);
            this.emojiLoadedT = new AnimatedFloat(this, 0L, 440L, cubicBezierInterpolator);
            this.blurBounds = new Rect();
        }

        private boolean isEmojiLoaded() {
            if (this.emojiLoaded) {
                return true;
            }
            AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable swapAnimatedEmojiDrawable = this.emoji;
            if (swapAnimatedEmojiDrawable == null || !(swapAnimatedEmojiDrawable.getDrawable() instanceof AnimatedEmojiDrawable)) {
                return false;
            }
            AnimatedEmojiDrawable animatedEmojiDrawable = (AnimatedEmojiDrawable) this.emoji.getDrawable();
            if (animatedEmojiDrawable.getImageReceiver() == null || !animatedEmojiDrawable.getImageReceiver().hasImageLoaded()) {
                return false;
            }
            this.emojiLoaded = true;
            return true;
        }

        public /* synthetic */ void lambda$onDraw$0(Canvas canvas, Float f, Float f2, Float f3, Float f4) {
            this.emoji.setAlpha((int) (f4.floatValue() * 255.0f * Math.min(1.0f, ProfileActivity.this.extraHeight / AndroidUtilities.dp(88.0f))));
            this.emoji.setBounds((int) (f.floatValue() - (f3.floatValue() * 0.45f)), (int) (f2.floatValue() - (f3.floatValue() * 0.45f)), (int) (f.floatValue() + (f3.floatValue() * 0.45f)), (int) (f2.floatValue() + (f3.floatValue() * 0.45f)));
            this.emoji.draw(canvas);
        }

        @Override // android.view.View
        protected void onAttachedToWindow() {
            super.onAttachedToWindow();
            this.emoji.attach();
        }

        @Override // android.view.View
        protected void onDetachedFromWindow() {
            super.onDetachedFromWindow();
            this.emoji.detach();
        }

        @Override // android.view.View
        protected void onDraw(final Canvas canvas) {
            float currentActionBarHeight = ProfileActivity.this.extraHeight + ActionBar.getCurrentActionBarHeight() + (((BaseFragment) ProfileActivity.this).actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0) + ProfileActivity.this.searchTransitionOffset;
            int i = (int) ((1.0f - ProfileActivity.this.mediaHeaderAnimationProgress) * currentActionBarHeight);
            if (i != 0) {
                ChatActivityInterface chatActivityInterface = ProfileActivity.this.previousTransitionFragment;
                if (chatActivityInterface != null && chatActivityInterface.getContentView() != null) {
                    this.blurBounds.set(0, 0, getMeasuredWidth(), i);
                    if (ProfileActivity.this.previousTransitionFragment.getActionBar() == null || ProfileActivity.this.previousTransitionFragment.getContentView().blurWasDrawn() || ProfileActivity.this.previousTransitionFragment.getActionBar().getBackground() != null) {
                        ProfileActivity.this.previousTransitionFragment.getContentView().drawBlurRect(canvas, getY(), this.blurBounds, ProfileActivity.this.previousTransitionFragment.getActionBar().blurScrimPaint, true);
                    } else {
                        this.paint.setColor(Theme.getColor(Theme.key_actionBarDefault, ProfileActivity.this.previousTransitionFragment.getResourceProvider()));
                        canvas.drawRect(this.blurBounds, this.paint);
                    }
                }
                this.paint.setColor(this.currentColor);
                int i2 = this.color1Animated.set(this.color1);
                int i3 = this.color2Animated.set(this.color2);
                int dp = AndroidUtilities.statusBarHeight + AndroidUtilities.dp(144.0f);
                if (this.backgroundGradient == null || this.backgroundGradientColor1 != i2 || this.backgroundGradientColor2 != i3 || this.backgroundGradientHeight != dp) {
                    this.backgroundGradientHeight = dp;
                    this.backgroundGradientColor2 = i3;
                    this.backgroundGradientColor1 = i2;
                    LinearGradient linearGradient = new LinearGradient(0.0f, 0.0f, 0.0f, dp, new int[]{i3, i2}, new float[]{0.0f, 1.0f}, Shader.TileMode.CLAMP);
                    this.backgroundGradient = linearGradient;
                    this.backgroundPaint.setShader(linearGradient);
                }
                float f = (ProfileActivity.this.playProfileAnimation == 0 ? 1.0f : ProfileActivity.this.avatarAnimationProgress) * this.hasColorAnimated.set(this.hasColorById);
                if (f < 1.0f) {
                    canvas.drawRect(0.0f, 0.0f, getMeasuredWidth(), i, this.paint);
                }
                if (f > 0.0f) {
                    this.backgroundPaint.setAlpha((int) (f * 255.0f));
                    canvas.drawRect(0.0f, 0.0f, getMeasuredWidth(), i, this.backgroundPaint);
                }
                if (this.hasEmoji && this.emojiLoadedT.set(isEmojiLoaded()) > 0.0f) {
                    canvas.save();
                    canvas.clipRect(0, 0, getMeasuredWidth(), i);
                    PeerColorActivity.drawProfileIconPattern(getMeasuredWidth() - AndroidUtilities.dp(46.0f), ((((BaseFragment) ProfileActivity.this).actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0) + AndroidUtilities.dp(144.0f)) - ((1.0f - (ProfileActivity.this.extraHeight / AndroidUtilities.dp(88.0f))) * AndroidUtilities.dp(33.0f)), (((ProfileActivity.this.extraHeight / AndroidUtilities.dp(88.0f)) - 1.0f) * 0.2f) + 1.0f, new Utilities.Callback4() { // from class: org.telegram.ui.ProfileActivity$TopView$$ExternalSyntheticLambda0
                        @Override // org.telegram.messenger.Utilities.Callback4
                        public final void run(Object obj, Object obj2, Object obj3, Object obj4) {
                            ProfileActivity.TopView.this.lambda$onDraw$0(canvas, (Float) obj, (Float) obj2, (Float) obj3, (Float) obj4);
                        }
                    });
                    canvas.restore();
                }
                ChatActivityInterface chatActivityInterface2 = ProfileActivity.this.previousTransitionFragment;
                if (chatActivityInterface2 != null) {
                    ActionBar actionBar = chatActivityInterface2.getActionBar();
                    ActionBarMenu actionBarMenu = actionBar.menu;
                    int save = canvas.save();
                    canvas.translate(actionBar.getX() + actionBarMenu.getX(), actionBar.getY() + actionBarMenu.getY());
                    canvas.saveLayerAlpha(0.0f, 0.0f, actionBarMenu.getMeasuredWidth(), actionBarMenu.getMeasuredHeight(), (int) ((1.0f - ProfileActivity.this.avatarAnimationProgress) * 255.0f), 31);
                    actionBarMenu.draw(canvas);
                    canvas.restoreToCount(save);
                }
            }
            if (i != currentActionBarHeight) {
                this.paint.setColor(ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite));
                this.blurBounds.set(0, i, getMeasuredWidth(), (int) currentActionBarHeight);
                ProfileActivity.this.contentView.drawBlurRect(canvas, getY(), this.blurBounds, this.paint, true);
            }
            if (((BaseFragment) ProfileActivity.this).parentLayout != null) {
                ((BaseFragment) ProfileActivity.this).parentLayout.drawHeaderShadow(canvas, (int) (ProfileActivity.this.headerShadowAlpha * 255.0f), (int) currentActionBarHeight);
            }
        }

        @Override // android.view.View
        protected void onMeasure(int i, int i2) {
            setMeasuredDimension(View.MeasureSpec.getSize(i), View.MeasureSpec.getSize(i) + AndroidUtilities.dp(3.0f));
        }

        @Override // android.view.View
        public void setBackgroundColor(int i) {
            if (i != this.currentColor) {
                this.currentColor = i;
                this.paint.setColor(i);
                invalidate();
                if (this.hasColorById) {
                    return;
                }
                ProfileActivity.this.actionBarBackgroundColor = this.currentColor;
            }
        }

        /* JADX WARN: Removed duplicated region for block: B:33:0x007e  */
        /*
            Code decompiled incorrectly, please refer to instructions dump.
        */
        public void setBackgroundColorId(MessagesController.PeerColor peerColor, boolean z) {
            int themedColor;
            int multAlpha;
            if (peerColor == null) {
                ProfileActivity.this.actionBarBackgroundColor = this.currentColor;
                this.hasColorById = false;
                ProfileActivity profileActivity = ProfileActivity.this;
                int i = Theme.key_actionBarDefault;
                if (AndroidUtilities.computePerceivedBrightness(profileActivity.getThemedColor(i)) > 0.8f) {
                    multAlpha = ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhiteBlueText);
                } else if (AndroidUtilities.computePerceivedBrightness(ProfileActivity.this.getThemedColor(i)) < 0.2f) {
                    multAlpha = Theme.multAlpha(ProfileActivity.this.getThemedColor(Theme.key_actionBarDefaultTitle), 0.5f);
                } else {
                    themedColor = ProfileActivity.this.getThemedColor(i);
                }
                this.emojiColor = multAlpha;
                if (!z) {
                    this.color1Animated.set(this.color1, true);
                    this.color2Animated.set(this.color2, true);
                }
                invalidate();
            }
            this.hasColorById = true;
            this.color1 = peerColor.getBgColor1(Theme.isCurrentThemeDark());
            int bgColor2 = peerColor.getBgColor2(Theme.isCurrentThemeDark());
            this.color2 = bgColor2;
            ProfileActivity.this.actionBarBackgroundColor = ColorUtils.blendARGB(this.color1, bgColor2, 0.25f);
            themedColor = this.color1;
            multAlpha = PeerColorActivity.adaptProfileEmojiColor(themedColor);
            this.emojiColor = multAlpha;
            if (!z) {
            }
            invalidate();
        }

        public void setBackgroundEmojiId(long j, boolean z) {
            this.emoji.set(j, z);
            this.emoji.setColor(Integer.valueOf(this.emojiColor));
            this.hasEmoji = this.hasEmoji || !(j == 0 || j == -1);
            invalidate();
        }
    }

    public ProfileActivity(Bundle bundle) {
        this(bundle, null);
    }

    public ProfileActivity(Bundle bundle, SharedMediaLayout.SharedMediaPreloader sharedMediaPreloader) {
        super(bundle);
        this.nameTextView = new SimpleTextView[2];
        this.nameTextViewRightDrawableContentDescription = null;
        this.nameTextViewRightDrawable2ContentDescription = null;
        this.onlineTextView = new SimpleTextView[4];
        this.verifiedDrawable = new Drawable[2];
        this.premiumStarDrawable = new Drawable[2];
        this.emojiStatusDrawable = new AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable[2];
        this.verifiedCheckDrawable = new Drawable[2];
        this.verifiedCrossfadeDrawable = new CrossfadeDrawable[2];
        this.premiumCrossfadeDrawable = new CrossfadeDrawable[2];
        this.scrimView = null;
        this.scrimPaint = new Paint(1) { // from class: org.telegram.ui.ProfileActivity.1
            {
                ProfileActivity.this = this;
            }

            @Override // android.graphics.Paint
            public void setAlpha(int i) {
                super.setAlpha(i);
                ProfileActivity.this.fragmentView.invalidate();
            }
        };
        this.actionBarBackgroundPaint = new Paint(1);
        this.isOnline = new boolean[1];
        this.headerShadowAlpha = 1.0f;
        this.participantsMap = new LongSparseArray();
        this.allowProfileAnimation = true;
        this.disableProfileAnimation = false;
        this.positionToOffset = new HashMap();
        this.expandAnimatorValues = new float[]{0.0f, 1.0f};
        this.whitePaint = new Paint();
        this.onlineCount = -1;
        this.rect = new Rect();
        this.visibleChatParticipants = new ArrayList();
        this.visibleSortedUsers = new ArrayList();
        this.usersForceShowingIn = 0;
        this.firstLayout = true;
        this.invalidateScroll = true;
        this.isQrItemVisible = true;
        this.actionBarAnimationColorFrom = 0;
        this.navigationBarAnimationColorFrom = 0;
        this.reportReactionMessageId = 0;
        this.reportReactionFromDialogId = 0L;
        this.notificationsExceptionTopics = new HashSet();
        this.HEADER_SHADOW = new AnimationProperties.FloatProperty("headerShadow") { // from class: org.telegram.ui.ProfileActivity.2
            {
                ProfileActivity.this = this;
            }

            @Override // android.util.Property
            public Float get(ProfileActivity profileActivity) {
                return Float.valueOf(ProfileActivity.this.headerShadowAlpha);
            }

            @Override // org.telegram.ui.Components.AnimationProperties.FloatProperty
            public void setValue(ProfileActivity profileActivity, float f) {
                ProfileActivity profileActivity2 = ProfileActivity.this;
                profileActivity2.headerShadowAlpha = f;
                profileActivity2.topView.invalidate();
            }
        };
        this.provider = new PhotoViewer.EmptyPhotoViewerProvider() { // from class: org.telegram.ui.ProfileActivity.3
            {
                ProfileActivity.this = this;
            }

            /* JADX WARN: Removed duplicated region for block: B:92:0x0106  */
            @Override // org.telegram.ui.PhotoViewer.EmptyPhotoViewerProvider, org.telegram.ui.PhotoViewer.PhotoViewerProvider
            /*
                Code decompiled incorrectly, please refer to instructions dump.
            */
            public PhotoViewer.PlaceProviderObject getPlaceForPhoto(MessageObject messageObject, TLRPC$FileLocation tLRPC$FileLocation, int i, boolean z) {
                TLRPC$Chat chat;
                TLRPC$ChatPhoto tLRPC$ChatPhoto;
                TLRPC$FileLocation tLRPC$FileLocation2;
                long j;
                TLRPC$User user;
                TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto;
                if (tLRPC$FileLocation == null) {
                    return null;
                }
                int i2 = (ProfileActivity.this.userId > 0L ? 1 : (ProfileActivity.this.userId == 0L ? 0 : -1));
                ProfileActivity profileActivity = ProfileActivity.this;
                if (i2 == 0 ? profileActivity.chatId == 0 || (chat = ProfileActivity.this.getMessagesController().getChat(Long.valueOf(ProfileActivity.this.chatId))) == null || (tLRPC$ChatPhoto = chat.photo) == null || (tLRPC$FileLocation2 = tLRPC$ChatPhoto.photo_big) == null : (user = profileActivity.getMessagesController().getUser(Long.valueOf(ProfileActivity.this.userId))) == null || (tLRPC$UserProfilePhoto = user.photo) == null || (tLRPC$FileLocation2 = tLRPC$UserProfilePhoto.photo_big) == null) {
                    tLRPC$FileLocation2 = null;
                }
                if (tLRPC$FileLocation2 != null && tLRPC$FileLocation2.local_id == tLRPC$FileLocation.local_id && tLRPC$FileLocation2.volume_id == tLRPC$FileLocation.volume_id && tLRPC$FileLocation2.dc_id == tLRPC$FileLocation.dc_id) {
                    int[] iArr = new int[2];
                    ProfileActivity.this.avatarImage.getLocationInWindow(iArr);
                    PhotoViewer.PlaceProviderObject placeProviderObject = new PhotoViewer.PlaceProviderObject();
                    placeProviderObject.viewX = iArr[0];
                    placeProviderObject.viewY = iArr[1] - (Build.VERSION.SDK_INT >= 21 ? 0 : AndroidUtilities.statusBarHeight);
                    placeProviderObject.parentView = ProfileActivity.this.avatarImage;
                    placeProviderObject.imageReceiver = ProfileActivity.this.avatarImage.getImageReceiver();
                    if (ProfileActivity.this.userId == 0) {
                        if (ProfileActivity.this.chatId != 0) {
                            j = -ProfileActivity.this.chatId;
                        }
                        placeProviderObject.thumb = placeProviderObject.imageReceiver.getBitmapSafe();
                        placeProviderObject.size = -1L;
                        placeProviderObject.radius = ProfileActivity.this.avatarImage.getImageReceiver().getRoundRadius(true);
                        placeProviderObject.scale = ProfileActivity.this.avatarContainer.getScaleX();
                        placeProviderObject.canEdit = ProfileActivity.this.userId == ProfileActivity.this.getUserConfig().clientUserId;
                        return placeProviderObject;
                    }
                    j = ProfileActivity.this.userId;
                    placeProviderObject.dialogId = j;
                    placeProviderObject.thumb = placeProviderObject.imageReceiver.getBitmapSafe();
                    placeProviderObject.size = -1L;
                    placeProviderObject.radius = ProfileActivity.this.avatarImage.getImageReceiver().getRoundRadius(true);
                    placeProviderObject.scale = ProfileActivity.this.avatarContainer.getScaleX();
                    placeProviderObject.canEdit = ProfileActivity.this.userId == ProfileActivity.this.getUserConfig().clientUserId;
                    return placeProviderObject;
                }
                return null;
            }

            @Override // org.telegram.ui.PhotoViewer.EmptyPhotoViewerProvider, org.telegram.ui.PhotoViewer.PhotoViewerProvider
            public void openPhotoForEdit(String str, String str2, boolean z) {
                ProfileActivity.this.imageUpdater.openPhotoForEdit(str, str2, 0, z);
            }

            @Override // org.telegram.ui.PhotoViewer.EmptyPhotoViewerProvider, org.telegram.ui.PhotoViewer.PhotoViewerProvider
            public void willHidePhotoViewer() {
                ProfileActivity.this.avatarImage.getImageReceiver().setVisible(true, true);
            }
        };
        this.floatingInterpolator = new AccelerateDecelerateInterpolator();
        this.ACTIONBAR_HEADER_PROGRESS = new AnimationProperties.FloatProperty("avatarAnimationProgress") { // from class: org.telegram.ui.ProfileActivity.44
            {
                ProfileActivity.this = this;
            }

            @Override // android.util.Property
            public Float get(ActionBar actionBar) {
                return Float.valueOf(ProfileActivity.this.mediaHeaderAnimationProgress);
            }

            @Override // org.telegram.ui.Components.AnimationProperties.FloatProperty
            public void setValue(ActionBar actionBar, float f) {
                int themedColor;
                ProfileActivity.this.mediaHeaderAnimationProgress = f;
                if (ProfileActivity.this.storyView != null) {
                    ProfileActivity.this.storyView.setActionBarActionMode(f);
                }
                ProfileActivity.this.topView.invalidate();
                int themedColor2 = ProfileActivity.this.getThemedColor(Theme.key_profile_title);
                ProfileActivity profileActivity = ProfileActivity.this;
                int i = Theme.key_player_actionBarTitle;
                int themedColor3 = profileActivity.getThemedColor(i);
                int offsetColor = AndroidUtilities.getOffsetColor(themedColor2, themedColor3, f, 1.0f);
                ProfileActivity.this.nameTextView[1].setTextColor(offsetColor);
                if (ProfileActivity.this.lockIconDrawable != null) {
                    ProfileActivity.this.lockIconDrawable.setColorFilter(offsetColor, PorterDuff.Mode.MULTIPLY);
                }
                if (ProfileActivity.this.scamDrawable != null) {
                    ProfileActivity.this.scamDrawable.setColor(AndroidUtilities.getOffsetColor(ProfileActivity.this.getThemedColor(Theme.key_avatar_subtitleInProfileBlue), themedColor3, f, 1.0f));
                }
                int i2 = -1;
                ((BaseFragment) ProfileActivity.this).actionBar.setItemsColor(AndroidUtilities.getOffsetColor(ProfileActivity.this.peerColor != null ? -1 : ProfileActivity.this.getThemedColor(Theme.key_actionBarDefaultIcon), ProfileActivity.this.getThemedColor(Theme.key_actionBarActionModeDefaultIcon), f, 1.0f), false);
                ((BaseFragment) ProfileActivity.this).actionBar.setItemsBackgroundColor(AndroidUtilities.getOffsetColor(ProfileActivity.this.peerColor != null ? 1090519039 : ProfileActivity.this.peerColor != null ? 553648127 : ProfileActivity.this.getThemedColor(Theme.key_avatar_actionBarSelectorBlue), ProfileActivity.this.getThemedColor(Theme.key_actionBarActionModeDefaultSelector), f, 1.0f), false);
                ProfileActivity.this.topView.invalidate();
                ProfileActivity.this.otherItem.setIconColor(ProfileActivity.this.peerColor != null ? -1 : ProfileActivity.this.getThemedColor(Theme.key_actionBarDefaultIcon));
                ProfileActivity.this.callItem.setIconColor(ProfileActivity.this.peerColor != null ? -1 : ProfileActivity.this.getThemedColor(Theme.key_actionBarDefaultIcon));
                ProfileActivity.this.videoCallItem.setIconColor(ProfileActivity.this.peerColor != null ? -1 : ProfileActivity.this.getThemedColor(Theme.key_actionBarDefaultIcon));
                ProfileActivity.this.editItem.setIconColor(ProfileActivity.this.peerColor != null ? -1 : ProfileActivity.this.getThemedColor(Theme.key_actionBarDefaultIcon));
                if (ProfileActivity.this.verifiedDrawable[0] != null) {
                    ProfileActivity.this.verifiedDrawable[0].setColorFilter(AndroidUtilities.getOffsetColor(ProfileActivity.this.getThemedColor(Theme.key_profile_verifiedBackground), ProfileActivity.this.getThemedColor(i), f, 1.0f), PorterDuff.Mode.MULTIPLY);
                }
                if (ProfileActivity.this.verifiedDrawable[1] != null) {
                    if (ProfileActivity.this.peerColor != null) {
                        themedColor = Theme.adaptHSV(ColorUtils.blendARGB(ProfileActivity.this.peerColor.getColor2(), ProfileActivity.this.peerColor.hasColor6(Theme.isCurrentThemeDark()) ? ProfileActivity.this.peerColor.getColor5() : ProfileActivity.this.peerColor.getColor3(), 0.4f), 0.1f, Theme.isCurrentThemeDark() ? -0.1f : -0.08f);
                    } else {
                        themedColor = ProfileActivity.this.getThemedColor(Theme.key_profile_verifiedBackground);
                    }
                    ProfileActivity.this.verifiedDrawable[1].setColorFilter(AndroidUtilities.getOffsetColor(themedColor, ProfileActivity.this.getThemedColor(i), f, 1.0f), PorterDuff.Mode.MULTIPLY);
                }
                if (ProfileActivity.this.verifiedCheckDrawable[0] != null) {
                    ProfileActivity.this.verifiedCheckDrawable[0].setColorFilter(AndroidUtilities.getOffsetColor(ProfileActivity.this.getThemedColor(Theme.key_profile_verifiedCheck), ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite), f, 1.0f), PorterDuff.Mode.MULTIPLY);
                }
                if (ProfileActivity.this.verifiedCheckDrawable[1] != null) {
                    if (ProfileActivity.this.peerColor == null) {
                        ProfileActivity profileActivity2 = ProfileActivity.this;
                        i2 = profileActivity2.applyPeerColor(profileActivity2.getThemedColor(Theme.key_profile_verifiedCheck));
                    }
                    ProfileActivity.this.verifiedCheckDrawable[1].setColorFilter(AndroidUtilities.getOffsetColor(i2, ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite), f, 1.0f), PorterDuff.Mode.MULTIPLY);
                }
                if (ProfileActivity.this.premiumStarDrawable[0] != null) {
                    ProfileActivity.this.premiumStarDrawable[0].setColorFilter(AndroidUtilities.getOffsetColor(ProfileActivity.this.getThemedColor(Theme.key_profile_verifiedBackground), ProfileActivity.this.getThemedColor(i), f, 1.0f), PorterDuff.Mode.MULTIPLY);
                }
                if (ProfileActivity.this.premiumStarDrawable[1] != null) {
                    ProfileActivity profileActivity3 = ProfileActivity.this;
                    int applyPeerColor = profileActivity3.applyPeerColor(profileActivity3.getThemedColor(Theme.key_profile_verifiedBackground));
                    ProfileActivity profileActivity4 = ProfileActivity.this;
                    ProfileActivity.this.premiumStarDrawable[1].setColorFilter(AndroidUtilities.getOffsetColor(applyPeerColor, profileActivity4.applyPeerColor(profileActivity4.getThemedColor(i)), f, 1.0f), PorterDuff.Mode.MULTIPLY);
                }
                ProfileActivity.this.updateEmojiStatusDrawableColor();
                if (ProfileActivity.this.avatarsViewPagerIndicatorView.getSecondaryMenuItem() != null) {
                    if (ProfileActivity.this.videoCallItemVisible || ProfileActivity.this.editItemVisible || ProfileActivity.this.callItemVisible) {
                        ProfileActivity profileActivity5 = ProfileActivity.this;
                        profileActivity5.needLayoutText(Math.min(1.0f, profileActivity5.extraHeight / AndroidUtilities.dp(88.0f)));
                    }
                }
            }
        };
        this.adaptedColors = new SparseIntArray();
        this.scrimAnimatorSet = null;
        this.savedScrollPosition = -1;
        this.photoDescriptionProgress = -1.0f;
        this.sharedMediaPreloader = sharedMediaPreloader;
    }

    public static /* synthetic */ void access$34600(ProfileActivity profileActivity, View view) {
        profileActivity.onTextDetailCellImageClicked(view);
    }

    public static /* synthetic */ void access$7700(ProfileActivity profileActivity) {
        profileActivity.onWriteButtonClick();
    }

    static /* synthetic */ int access$9812(ProfileActivity profileActivity, int i) {
        int i2 = profileActivity.listContentHeight + i;
        profileActivity.listContentHeight = i2;
        return i2;
    }

    public int applyPeerColor(int i) {
        return applyPeerColor(i, true, null);
    }

    public int applyPeerColor(int i, boolean z) {
        return applyPeerColor(i, z, null);
    }

    private int applyPeerColor(int i, boolean z, Boolean bool) {
        if ((z || !isSettings()) && this.peerColor != null) {
            if (!z) {
                int indexOfKey = this.adaptedColors.indexOfKey(i);
                if (indexOfKey < 0) {
                    int adapt = OKLCH.adapt(i, Theme.adaptHSV(this.peerColor.getBgColor1(Theme.isCurrentThemeDark()), Theme.isCurrentThemeDark() ? 0.0f : 0.05f, Theme.isCurrentThemeDark() ? -0.1f : -0.04f));
                    this.adaptedColors.put(i, adapt);
                    return adapt;
                }
                return this.adaptedColors.valueAt(indexOfKey);
            }
            int themedColor = getThemedColor(z ? Theme.key_actionBarDefault : Theme.key_windowBackgroundWhiteBlueIcon);
            int blendARGB = ColorUtils.blendARGB(this.peerColor.getStoryColor1(Theme.isCurrentThemeDark()), this.peerColor.getStoryColor2(Theme.isCurrentThemeDark()), 0.5f);
            int bgColor1 = z ? blendARGB : this.peerColor.getBgColor1(Theme.isCurrentThemeDark());
            if (!Theme.hasHue(themedColor)) {
                return (bool == null || bool.booleanValue()) ? blendARGB : Theme.adaptHSV(Theme.multAlpha(blendARGB, 0.7f), -0.2f, 0.2f);
            }
            boolean isCurrentThemeDark = Theme.isCurrentThemeDark();
            if (bool != null && !bool.booleanValue()) {
                blendARGB = Theme.multAlpha(blendARGB, 0.7f);
            }
            return Theme.changeColorAccent(themedColor, bgColor1, i, isCurrentThemeDark, blendARGB);
        }
        return i;
    }

    private int applyPeerColor2(int i) {
        MessagesController.PeerColor peerColor = this.peerColor;
        if (peerColor != null) {
            int bgColor2 = peerColor.getBgColor2(Theme.isCurrentThemeDark());
            return Theme.changeColorAccent(getThemedColor(Theme.key_windowBackgroundWhiteBlueIcon), bgColor2, i, Theme.isCurrentThemeDark(), bgColor2);
        }
        return i;
    }

    private void checkCanSendStoryForPosting() {
        if (ChatObject.isBoostSupported(MessagesController.getInstance(this.currentAccount).getChat(Long.valueOf(this.chatId)))) {
            StoriesController storiesController = getMessagesController().getStoriesController();
            this.waitCanSendStoryRequest = true;
            storiesController.canSendStoryFor(getDialogId(), new Consumer() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda7
                @Override // com.google.android.exoplayer2.util.Consumer
                public final void accept(Object obj) {
                    ProfileActivity.this.lambda$checkCanSendStoryForPosting$27((Boolean) obj);
                }
            }, false, this.resourcesProvider);
        }
    }

    public void checkListViewScroll() {
        View view;
        if (this.listView.getVisibility() != 0) {
            return;
        }
        if (this.sharedMediaLayoutAttached) {
            this.sharedMediaLayout.setVisibleHeight(this.listView.getMeasuredHeight() - this.sharedMediaLayout.getTop());
        }
        if (this.listView.getChildCount() <= 0 || this.openAnimationInProgress) {
            return;
        }
        int i = 0;
        while (true) {
            if (i >= this.listView.getChildCount()) {
                view = null;
                break;
            }
            RecyclerListView recyclerListView = this.listView;
            if (recyclerListView.getChildAdapterPosition(recyclerListView.getChildAt(i)) == 0) {
                view = this.listView.getChildAt(i);
                break;
            }
            i++;
        }
        RecyclerListView.Holder holder = view != null ? (RecyclerListView.Holder) this.listView.findContainingViewHolder(view) : null;
        int i2 = ((view == null ? 0 : view.getTop()) < 0 || (holder != null ? holder.getAdapterPosition() : -1) != 0) ? 0 : 0;
        boolean z = this.imageUpdater == null && this.actionBar.isSearchFieldVisible();
        int i3 = this.sharedMediaRow;
        if (i3 != -1 && !z) {
            RecyclerListView.Holder holder2 = (RecyclerListView.Holder) this.listView.findViewHolderForAdapterPosition(i3);
            z = holder2 != null && holder2.itemView.getTop() <= 0;
        }
        setMediaHeaderVisible(z);
        float f = i2;
        if (this.extraHeight == f || this.transitionAnimationInProress) {
            return;
        }
        this.extraHeight = f;
        this.topView.invalidate();
        if (this.playProfileAnimation != 0) {
            this.allowProfileAnimation = this.extraHeight != 0.0f;
        }
        needLayout(true);
    }

    public void checkPhotoDescriptionAlpha() {
        float f;
        float f2;
        float f3;
        ShowDrawable showDrawable;
        float f4;
        int i = this.playProfileAnimation;
        float f5 = 1.0f;
        if (i != 1 || (this.fragmentOpened && !this.openAnimationInProgress)) {
            if (i != 2 || (this.fragmentOpened && !this.openAnimationInProgress)) {
                if (this.userId == UserConfig.getInstance(this.currentAccount).clientUserId) {
                    f = this.currentExpandAnimatorValue;
                    f2 = 1.0f - this.customAvatarProgress;
                } else {
                    f = this.currentExpandAnimatorValue;
                    f2 = this.customAvatarProgress;
                }
                f3 = f * f2;
            } else {
                SimpleTextView simpleTextView = this.onlineTextView[1];
                f3 = simpleTextView == null ? 0.0f : simpleTextView.getAlpha();
            }
            this.photoDescriptionProgress = f3;
        } else {
            this.photoDescriptionProgress = 0.0f;
        }
        if (this.userId != UserConfig.getInstance(this.currentAccount).clientUserId) {
            if (!this.hasCustomPhoto) {
                SimpleTextView simpleTextView2 = this.onlineTextView[2];
                if (simpleTextView2 != null) {
                    simpleTextView2.setAlpha(0.0f);
                }
                showDrawable = this.showStatusButton;
                if (showDrawable == null) {
                    return;
                }
                showDrawable.setAlpha2(f5);
            }
            SimpleTextView simpleTextView3 = this.onlineTextView[2];
            if (simpleTextView3 != null) {
                simpleTextView3.setAlpha(this.photoDescriptionProgress);
            }
            showDrawable = this.showStatusButton;
            if (showDrawable != null) {
                f4 = this.photoDescriptionProgress;
                f5 = 1.0f - f4;
                showDrawable.setAlpha2(f5);
            }
        } else if (!this.hasFallbackPhoto) {
            SimpleTextView simpleTextView4 = this.onlineTextView[2];
            if (simpleTextView4 != null) {
                simpleTextView4.setAlpha(0.0f);
                this.onlineTextView[3].setAlpha(0.0f);
            }
            showDrawable = this.showStatusButton;
            if (showDrawable == null) {
                return;
            }
            showDrawable.setAlpha2(f5);
        } else {
            this.customPhotoOffset = AndroidUtilities.dp(28.0f) * this.photoDescriptionProgress;
            SimpleTextView simpleTextView5 = this.onlineTextView[2];
            if (simpleTextView5 != null) {
                simpleTextView5.setAlpha(this.currentExpandAnimatorValue);
                this.onlineTextView[3].setAlpha(1.0f - this.currentExpandAnimatorValue);
                this.onlineTextView[1].setTranslationX(this.onlineX + this.customPhotoOffset);
                this.avatarContainer2.invalidate();
                showDrawable = this.showStatusButton;
                if (showDrawable != null) {
                    f4 = this.currentExpandAnimatorValue;
                    f5 = 1.0f - f4;
                    showDrawable.setAlpha2(f5);
                }
            }
        }
    }

    public void collapseAvatarInstant() {
        if (!this.allowPullingDown || this.currentExpandAnimatorValue <= 0.0f) {
            return;
        }
        this.layoutManager.scrollToPositionWithOffset(0, AndroidUtilities.dp(88.0f) - this.listView.getPaddingTop());
        this.listView.post(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda122
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$collapseAvatarInstant$32();
            }
        });
    }

    /* JADX WARN: Code restructure failed: missing block: B:416:0x02aa, code lost:
        if (getContactsController().contactsDict.get(java.lang.Long.valueOf(r14.userId)) != null) goto L140;
     */
    /* JADX WARN: Code restructure failed: missing block: B:543:0x049c, code lost:
        if (r14.topicId != 0) goto L141;
     */
    /* JADX WARN: Code restructure failed: missing block: B:544:0x049e, code lost:
        r14.otherItem.addSubItem(14, org.telegram.messenger.R.drawable.msg_home, org.telegram.messenger.LocaleController.getString(org.telegram.messenger.R.string.AddShortcut));
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private void createActionBarMenu(boolean z) {
        ActionBarMenuItem actionBarMenuItem;
        int i;
        int i2;
        TLRPC$ChatFull tLRPC$ChatFull;
        TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights;
        ActionBar actionBar = this.actionBar;
        if (actionBar == null || this.otherItem == null) {
            return;
        }
        Context context = actionBar.getContext();
        this.otherItem.removeAllSubItems();
        this.animatingItem = null;
        this.editItemVisible = false;
        this.callItemVisible = false;
        this.videoCallItemVisible = false;
        this.canSearchMembers = false;
        boolean z2 = true;
        if (this.userId != 0) {
            TLRPC$User user = getMessagesController().getUser(Long.valueOf(this.userId));
            if (user == null) {
                return;
            }
            if (UserObject.isUserSelf(user)) {
                this.editItemVisible = this.myProfile;
                this.otherItem.addSubItem(30, R.drawable.msg_edit, LocaleController.getString(R.string.EditInfo));
                if (this.imageUpdater != null) {
                    this.otherItem.addSubItem(36, R.drawable.msg_addphoto, LocaleController.getString(R.string.AddPhoto));
                }
                this.editColorItem = this.otherItem.addSubItem(40, R.drawable.menu_profile_colors, LocaleController.getString(R.string.ProfileColorEdit));
                updateEditColorIcon();
                if (this.myProfile) {
                    this.setUsernameItem = this.otherItem.addSubItem(43, R.drawable.menu_username_change, LocaleController.getString(R.string.ProfileUsernameEdit));
                    this.linkItem = this.otherItem.addSubItem(42, R.drawable.msg_link2, LocaleController.getString(R.string.ProfileCopyLink));
                    updateItemsUsername();
                }
            } else {
                if (user.bot && user.bot_can_edit) {
                    this.editItemVisible = true;
                }
                TLRPC$UserFull tLRPC$UserFull = this.userInfo;
                if (tLRPC$UserFull != null && tLRPC$UserFull.phone_calls_available) {
                    this.callItemVisible = true;
                    this.videoCallItemVisible = tLRPC$UserFull.video_calls_available;
                }
                if (!this.isBot && getContactsController().contactsDict.get(Long.valueOf(this.userId)) != null) {
                    if (this.currentEncryptedChat == null) {
                        createAutoDeleteItem(context);
                    }
                    if (!TextUtils.isEmpty(user.phone)) {
                        this.otherItem.addSubItem(3, R.drawable.msg_share, LocaleController.getString(R.string.ShareContact));
                    }
                    this.otherItem.addSubItem(2, R.drawable.msg_block, LocaleController.getString(!this.userBlocked ? R.string.BlockContact : R.string.Unblock));
                    this.otherItem.addSubItem(4, R.drawable.msg_edit, LocaleController.getString(R.string.EditContact));
                    this.otherItem.addSubItem(5, R.drawable.msg_delete, LocaleController.getString(R.string.DeleteContact));
                } else if (MessagesController.isSupportUser(user)) {
                    if (this.userBlocked) {
                        this.otherItem.addSubItem(2, R.drawable.msg_block, LocaleController.getString(R.string.Unblock));
                    }
                    this.otherItem.addSubItem(14, R.drawable.msg_home, LocaleController.getString(R.string.AddShortcut));
                } else {
                    if (this.currentEncryptedChat == null) {
                        createAutoDeleteItem(context);
                    }
                    this.otherItem.addSubItem(14, R.drawable.msg_home, LocaleController.getString(R.string.AddShortcut));
                    if (this.isBot) {
                        this.otherItem.addSubItem(10, R.drawable.msg_share, LocaleController.getString(R.string.BotShare));
                    } else {
                        this.otherItem.addSubItem(1, R.drawable.msg_addcontact, LocaleController.getString(R.string.AddContact));
                    }
                    if (!TextUtils.isEmpty(user.phone)) {
                        this.otherItem.addSubItem(3, R.drawable.msg_share, LocaleController.getString(R.string.ShareContact));
                    }
                    if (this.isBot) {
                        this.otherItem.addSubItem(44, R.drawable.menu_privacy_policy, LocaleController.getString(R.string.BotPrivacyPolicy));
                        if (hasPrivacyCommand()) {
                            this.otherItem.showSubItem(44);
                        } else {
                            this.otherItem.hideSubItem(44);
                        }
                        ActionBarMenuSubItem addSubItem = this.otherItem.addSubItem(24, R.drawable.msg_report, LocaleController.getString(R.string.ReportBot));
                        int i3 = Theme.key_text_RedRegular;
                        addSubItem.setColors(getThemedColor(i3), getThemedColor(i3));
                        if (this.userBlocked) {
                            this.otherItem.addSubItem(2, R.drawable.msg_retry, LocaleController.getString(R.string.BotRestart));
                        } else {
                            this.otherItem.addSubItem(2, R.drawable.msg_block2, LocaleController.getString(R.string.DeleteAndBlock)).setColors(getThemedColor(i3), getThemedColor(i3));
                        }
                    } else {
                        this.otherItem.addSubItem(2, R.drawable.msg_block, LocaleController.getString(!this.userBlocked ? R.string.BlockContact : R.string.Unblock));
                    }
                }
                if (!UserObject.isDeleted(user) && !this.isBot && this.currentEncryptedChat == null && !this.userBlocked) {
                    long j = this.userId;
                    if (j != 333000 && j != 777000 && j != 42777) {
                        if (!user.premium && !BuildVars.IS_BILLING_UNAVAILABLE && !user.self && this.userInfo != null && !getMessagesController().premiumFeaturesBlocked() && !this.userInfo.premium_gifts.isEmpty()) {
                            this.otherItem.addSubItem(38, R.drawable.msg_gift_premium, LocaleController.getString(R.string.GiftPremium));
                        }
                        this.otherItem.addSubItem(20, R.drawable.msg_secret, LocaleController.getString(R.string.StartEncryptedChat));
                        this.otherItem.setSubItemShown(20, !getMessagesController().isUserPremiumBlocked(this.userId));
                    }
                }
                if (!this.isBot) {
                }
                z2 = false;
            }
        } else {
            if (this.chatId != 0) {
                TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(this.chatId));
                this.hasVoiceChatItem = false;
                if (this.topicId == 0 && ChatObject.canChangeChatInfo(chat)) {
                    createAutoDeleteItem(context);
                }
                if (ChatObject.isChannel(chat)) {
                    if (!this.isTopic ? ChatObject.hasAdminRights(chat) || (chat.megagroup && ChatObject.canChangeChatInfo(chat)) : ChatObject.canManageTopic(this.currentAccount, chat, this.topicId)) {
                        this.editItemVisible = true;
                    }
                    if (this.chatInfo != null) {
                        if (ChatObject.canManageCalls(chat) && this.chatInfo.call == null) {
                            this.otherItem.addSubItem(15, R.drawable.msg_voicechat, LocaleController.getString((!chat.megagroup || chat.gigagroup) ? R.string.StartVoipChannel : R.string.StartVoipChat));
                            this.hasVoiceChatItem = true;
                        }
                        TLRPC$ChatFull tLRPC$ChatFull2 = this.chatInfo;
                        if ((tLRPC$ChatFull2.can_view_stats || tLRPC$ChatFull2.can_view_revenue || tLRPC$ChatFull2.can_view_stars_revenue || getMessagesController().getStoriesController().canPostStories(getDialogId())) && this.topicId == 0) {
                            this.otherItem.addSubItem(19, R.drawable.msg_stats, LocaleController.getString(R.string.Statistics));
                        }
                        this.callItemVisible = getMessagesController().getGroupCall(this.chatId, false) != null;
                    }
                    if (chat.megagroup) {
                        TLRPC$ChatFull tLRPC$ChatFull3 = this.chatInfo;
                        if (tLRPC$ChatFull3 == null || !tLRPC$ChatFull3.participants_hidden || ChatObject.hasAdminRights(chat)) {
                            this.canSearchMembers = true;
                            this.otherItem.addSubItem(17, R.drawable.msg_search, LocaleController.getString(R.string.SearchMembers));
                        }
                        if (!chat.creator && !chat.left && !chat.kicked && !this.isTopic) {
                            this.otherItem.addSubItem(7, R.drawable.msg_leave, LocaleController.getString(R.string.LeaveMegaMenu));
                        }
                        if (this.isTopic && ChatObject.canDeleteTopic(this.currentAccount, chat, this.topicId)) {
                            this.otherItem.addSubItem(23, R.drawable.msg_delete, LocaleController.getPluralString("DeleteTopics", 1));
                        }
                    } else {
                        if (chat.creator || ((tLRPC$TL_chatAdminRights = chat.admin_rights) != null && tLRPC$TL_chatAdminRights.edit_stories)) {
                            this.otherItem.addSubItem(39, R.drawable.msg_archive, LocaleController.getString(R.string.OpenChannelArchiveStories));
                        }
                        if (ChatObject.isPublic(chat)) {
                            this.otherItem.addSubItem(10, R.drawable.msg_share, LocaleController.getString(R.string.BotShare));
                        }
                        TLRPC$ChatFull tLRPC$ChatFull4 = this.chatInfo;
                        if (tLRPC$ChatFull4 != null && tLRPC$ChatFull4.linked_chat_id != 0) {
                            this.otherItem.addSubItem(22, R.drawable.msg_discussion, LocaleController.getString(R.string.ViewDiscussion));
                        }
                        TLRPC$Chat tLRPC$Chat = this.currentChat;
                        if (!tLRPC$Chat.creator && !tLRPC$Chat.left && !tLRPC$Chat.kicked) {
                            actionBarMenuItem = this.otherItem;
                            i = R.drawable.msg_leave;
                            i2 = R.string.LeaveChannelMenu;
                        }
                    }
                } else {
                    if (this.chatInfo != null) {
                        if (ChatObject.canManageCalls(chat) && this.chatInfo.call == null) {
                            this.otherItem.addSubItem(15, R.drawable.msg_voicechat, LocaleController.getString(R.string.StartVoipChat));
                            this.hasVoiceChatItem = true;
                        }
                        this.callItemVisible = getMessagesController().getGroupCall(this.chatId, false) != null;
                    }
                    if (ChatObject.canChangeChatInfo(chat)) {
                        this.editItemVisible = true;
                    }
                    if (!ChatObject.isKickedFromChat(chat) && !ChatObject.isLeftFromChat(chat) && ((tLRPC$ChatFull = this.chatInfo) == null || !tLRPC$ChatFull.participants_hidden || ChatObject.hasAdminRights(chat))) {
                        this.canSearchMembers = true;
                        this.otherItem.addSubItem(17, R.drawable.msg_search, LocaleController.getString(R.string.SearchMembers));
                    }
                    actionBarMenuItem = this.otherItem;
                    i = R.drawable.msg_leave;
                    i2 = R.string.DeleteAndExit;
                }
                actionBarMenuItem.addSubItem(7, i, LocaleController.getString(i2));
            }
            z2 = false;
        }
        if (this.imageUpdater != null) {
            this.otherItem.addSubItem(33, R.drawable.msg_openprofile, LocaleController.getString(R.string.SetAsMain));
            this.otherItem.addSubItem(21, R.drawable.msg_gallery, LocaleController.getString(R.string.SaveToGallery));
            this.otherItem.addSubItem(35, R.drawable.msg_delete, LocaleController.getString(R.string.Delete));
        } else {
            this.otherItem.addSubItem(21, R.drawable.msg_gallery, LocaleController.getString(R.string.SaveToGallery));
        }
        if (getMessagesController().isChatNoForwards(this.currentChat)) {
            this.otherItem.hideSubItem(21);
        }
        if (z2 && !this.myProfile) {
            this.otherItem.addSubItem(31, R.drawable.msg_leave, LocaleController.getString(R.string.LogOut));
        }
        if (!this.isPulledDown) {
            this.otherItem.hideSubItem(21);
            this.otherItem.hideSubItem(33);
            this.otherItem.showSubItem(36);
            this.otherItem.hideSubItem(34);
            this.otherItem.hideSubItem(35);
        }
        if (!this.mediaHeaderVisible) {
            if (this.callItemVisible) {
                if (this.callItem.getVisibility() != 0) {
                    this.callItem.setVisibility(0);
                    if (z) {
                        this.callItem.setAlpha(0.0f);
                        this.callItem.animate().alpha(1.0f).setDuration(150L).start();
                    }
                }
            } else if (this.callItem.getVisibility() != 8) {
                this.callItem.setVisibility(8);
            }
            if (this.videoCallItemVisible) {
                if (this.videoCallItem.getVisibility() != 0) {
                    this.videoCallItem.setVisibility(0);
                    if (z) {
                        this.videoCallItem.setAlpha(0.0f);
                        this.videoCallItem.animate().alpha(1.0f).setDuration(150L).start();
                    }
                }
            } else if (this.videoCallItem.getVisibility() != 8) {
                this.videoCallItem.setVisibility(8);
            }
            if (this.editItemVisible) {
                if (this.editItem.getVisibility() != 0) {
                    this.editItem.setVisibility(0);
                    if (z) {
                        this.editItem.setAlpha(0.0f);
                        this.editItem.animate().alpha(1.0f).setDuration(150L).start();
                    }
                }
            } else if (this.editItem.getVisibility() != 8) {
                this.editItem.setVisibility(8);
            }
        }
        PagerIndicatorView pagerIndicatorView = this.avatarsViewPagerIndicatorView;
        if (pagerIndicatorView != null && pagerIndicatorView.isIndicatorFullyVisible()) {
            if (this.editItemVisible) {
                this.editItem.setVisibility(8);
                this.editItem.animate().cancel();
                this.editItem.setAlpha(1.0f);
            }
            if (this.callItemVisible) {
                this.callItem.setVisibility(8);
                this.callItem.animate().cancel();
                this.callItem.setAlpha(1.0f);
            }
            if (this.videoCallItemVisible) {
                this.videoCallItem.setVisibility(8);
                this.videoCallItem.animate().cancel();
                this.videoCallItem.setAlpha(1.0f);
            }
        }
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout != null) {
            sharedMediaLayout.getSearchItem().requestLayout();
        }
        updateStoriesViewBounds(false);
    }

    private void createAutoDeleteItem(Context context) {
        this.autoDeletePopupWrapper = new AutoDeletePopupWrapper(context, this.otherItem.getPopupLayout().getSwipeBack(), new AutoDeletePopupWrapper.Callback() { // from class: org.telegram.ui.ProfileActivity.51
            {
                ProfileActivity.this = this;
            }

            @Override // org.telegram.ui.Components.AutoDeletePopupWrapper.Callback
            public void dismiss() {
                ProfileActivity.this.otherItem.toggleSubMenu();
            }

            @Override // org.telegram.ui.Components.AutoDeletePopupWrapper.Callback
            public void setAutoDeleteHistory(int i, int i2) {
                ProfileActivity.this.setAutoDeleteHistory(i, i2);
            }

            @Override // org.telegram.ui.Components.AutoDeletePopupWrapper.Callback
            public void showGlobalAutoDeleteScreen() {
                ProfileActivity.this.presentFragment(new AutoDeleteMessagesActivity());
                dismiss();
            }
        }, false, 0, this.resourcesProvider);
        if (this.dialogId > 0 || this.userId > 0) {
            this.autoDeletePopupWrapper.allowExtendedHint(applyPeerColor(getThemedColor(Theme.key_windowBackgroundWhiteBlueText), false));
        }
        TLRPC$UserFull tLRPC$UserFull = this.userInfo;
        TimerDrawable ttlIcon = TimerDrawable.getTtlIcon((tLRPC$UserFull == null && this.chatInfo == null) ? 0 : tLRPC$UserFull != null ? tLRPC$UserFull.ttl_period : this.chatInfo.ttl_period);
        this.autoDeleteItemDrawable = ttlIcon;
        this.autoDeleteItem = this.otherItem.addSwipeBackItem(0, ttlIcon, LocaleController.getString(R.string.AutoDeletePopupTitle), this.autoDeletePopupWrapper.windowLayout);
        this.otherItem.addColoredGap();
        updateAutoDeleteItem();
    }

    public void createBirthdayEffect() {
        if (this.fragmentView == null || !this.fullyVisible || this.birthdayFetcher == null || getContext() == null) {
            return;
        }
        ProfileBirthdayEffect profileBirthdayEffect = this.birthdayEffect;
        if (profileBirthdayEffect != null) {
            profileBirthdayEffect.updateFetcher(this.birthdayFetcher);
            this.birthdayEffect.invalidate();
            return;
        }
        ProfileBirthdayEffect profileBirthdayEffect2 = new ProfileBirthdayEffect(this, this.birthdayFetcher);
        this.birthdayEffect = profileBirthdayEffect2;
        ((FrameLayout) this.fragmentView).addView(profileBirthdayEffect2, LayoutHelper.createFrame(-1, -1, 55));
    }

    private void createFloatingActionButton(Context context) {
        Property property;
        if (getMessagesController().storiesEnabled() && getDialogId() <= 0) {
            final TLRPC$Chat chat = MessagesController.getInstance(this.currentAccount).getChat(Long.valueOf(this.chatId));
            if (ChatObject.isBoostSupported(chat) && getMessagesController().getStoriesController().canPostStories(getDialogId())) {
                checkCanSendStoryForPosting();
                final long dialogId = getDialogId();
                FrameLayout frameLayout = new FrameLayout(context);
                this.floatingButtonContainer = frameLayout;
                frameLayout.setVisibility(0);
                NestedFrameLayout nestedFrameLayout = this.contentView;
                FrameLayout frameLayout2 = this.floatingButtonContainer;
                int i = Build.VERSION.SDK_INT;
                int i2 = i >= 21 ? 56 : 60;
                float f = i >= 21 ? 56 : 60;
                boolean z = LocaleController.isRTL;
                nestedFrameLayout.addView(frameLayout2, LayoutHelper.createFrame(i2, f, (z ? 3 : 5) | 80, z ? 14.0f : 0.0f, 0.0f, z ? 0.0f : 14.0f, 14.0f));
                this.floatingButtonContainer.setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda50
                    @Override // android.view.View.OnClickListener
                    public final void onClick(View view) {
                        ProfileActivity.this.lambda$createFloatingActionButton$31(dialogId, chat, view);
                    }
                });
                RLottieImageView rLottieImageView = new RLottieImageView(context);
                this.floatingButton = rLottieImageView;
                rLottieImageView.setScaleType(ImageView.ScaleType.CENTER);
                this.floatingButton.setColorFilter(new PorterDuffColorFilter(Theme.getColor(Theme.key_chats_actionIcon), PorterDuff.Mode.MULTIPLY));
                if (i >= 21) {
                    StateListAnimator stateListAnimator = new StateListAnimator();
                    FrameLayout frameLayout3 = this.floatingButtonContainer;
                    property = View.TRANSLATION_Z;
                    stateListAnimator.addState(new int[]{16842919}, ObjectAnimator.ofFloat(frameLayout3, property, AndroidUtilities.dp(2.0f), AndroidUtilities.dp(4.0f)).setDuration(200L));
                    stateListAnimator.addState(new int[0], ObjectAnimator.ofFloat(this.floatingButtonContainer, property, AndroidUtilities.dp(4.0f), AndroidUtilities.dp(2.0f)).setDuration(200L));
                    this.floatingButtonContainer.setStateListAnimator(stateListAnimator);
                    this.floatingButtonContainer.setOutlineProvider(new ViewOutlineProvider() { // from class: org.telegram.ui.ProfileActivity.35
                        {
                            ProfileActivity.this = this;
                        }

                        @Override // android.view.ViewOutlineProvider
                        public void getOutline(View view, Outline outline) {
                            outline.setOval(0, 0, AndroidUtilities.dp(56.0f), AndroidUtilities.dp(56.0f));
                        }
                    });
                }
                this.floatingButtonContainer.addView(this.floatingButton, LayoutHelper.createFrame(-1, -1.0f));
                this.floatingButton.setAnimation(R.raw.write_contacts_fab_icon_camera, 56, 56);
                this.floatingButtonContainer.setContentDescription(LocaleController.getString(R.string.AccDescrCaptureStory));
                updateFloatingButtonColor();
            }
        }
    }

    private void dimBehindView(float f) {
        boolean z = f > 0.0f;
        this.fragmentView.invalidate();
        AnimatorSet animatorSet = this.scrimAnimatorSet;
        if (animatorSet != null) {
            animatorSet.cancel();
        }
        this.scrimAnimatorSet = new AnimatorSet();
        ArrayList arrayList = new ArrayList();
        ValueAnimator ofFloat = z ? ValueAnimator.ofFloat(0.0f, f) : ValueAnimator.ofFloat(this.scrimPaint.getAlpha() / 255.0f, 0.0f);
        arrayList.add(ofFloat);
        ofFloat.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda53
            @Override // android.animation.ValueAnimator.AnimatorUpdateListener
            public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                ProfileActivity.this.lambda$dimBehindView$84(valueAnimator);
            }
        });
        this.scrimAnimatorSet.playTogether(arrayList);
        this.scrimAnimatorSet.setDuration(z ? 150L : 220L);
        if (!z) {
            this.scrimAnimatorSet.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.54
                {
                    ProfileActivity.this = this;
                }

                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationEnd(Animator animator) {
                    ProfileActivity.this.scrimView = null;
                    ProfileActivity.this.fragmentView.invalidate();
                }
            });
        }
        this.scrimAnimatorSet.start();
    }

    private void dimBehindView(View view, float f) {
        this.scrimView = view;
        dimBehindView(f);
    }

    private void dimBehindView(boolean z) {
        dimBehindView(z ? 0.2f : 0.0f);
    }

    /* JADX WARN: Removed duplicated region for block: B:183:0x01d6 A[RETURN] */
    /* JADX WARN: Removed duplicated region for block: B:184:0x01d7  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public boolean editRow(View view, final int i) {
        final String str;
        int i2;
        String string;
        Runnable runnable;
        int i3;
        String string2;
        Runnable runnable2;
        int i4;
        String string3;
        Runnable runnable3;
        TLRPC$TL_businessLocation tLRPC$TL_businessLocation;
        int i5;
        if (!this.myProfile) {
            return false;
        }
        if (view instanceof ProfileChannelCell) {
            view = ((ProfileChannelCell) view).dialogCell;
        }
        TLRPC$User currentUser = getUserConfig().getCurrentUser();
        if (currentUser == null) {
            return false;
        }
        final TLRPC$UserFull tLRPC$UserFull = this.userInfo;
        if (tLRPC$UserFull == null) {
            tLRPC$UserFull = getMessagesController().getUserFull(currentUser.id);
        }
        if (tLRPC$UserFull == null) {
            return false;
        }
        String string4 = LocaleController.getString(R.string.Copy);
        if (i == this.channelInfoRow || i == this.userInfoRow || i == this.bioRow) {
            str = tLRPC$UserFull.about;
        } else {
            if (i == this.bizHoursRow) {
                str = OpeningHoursActivity.toString(this.currentAccount, currentUser, tLRPC$UserFull.business_work_hours);
                i5 = R.string.ProfileHoursCopy;
            } else if (i == this.bizLocationRow) {
                str = tLRPC$UserFull.business_location.address;
                i5 = R.string.ProfileLocationCopy;
            } else if (i == this.usernameRow) {
                str = UserObject.getPublicUsername(currentUser);
                if (str != null) {
                    str = "@" + str;
                }
                i5 = R.string.ProfileCopyUsername;
            } else {
                str = i == this.phoneRow ? currentUser.phone : i == this.birthdayRow ? UserInfoActivity.birthdayString(this.userInfo.birthday) : null;
            }
            string4 = LocaleController.getString(i5);
        }
        ItemOptions makeOptions = ItemOptions.makeOptions(this.contentView, this.resourcesProvider, view);
        makeOptions.setGravity(3);
        if (i == this.bizLocationRow && (tLRPC$TL_businessLocation = tLRPC$UserFull.business_location) != null) {
            if (tLRPC$TL_businessLocation.geo_point != null) {
                makeOptions.add(R.drawable.msg_view_file, LocaleController.getString(R.string.ProfileLocationView), new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda73
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.this.lambda$editRow$90();
                    }
                });
            }
            makeOptions.add(R.drawable.msg_map, LocaleController.getString(R.string.ProfileLocationMaps), new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda79
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.this.lambda$editRow$91();
                }
            });
        }
        if (str != null) {
            makeOptions.add(R.drawable.msg_copy, string4, new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda80
                @Override // java.lang.Runnable
                public final void run() {
                    AndroidUtilities.addToClipboard(str);
                }
            });
        }
        if (i == this.bizHoursRow) {
            makeOptions.add(R.drawable.msg_edit, LocaleController.getString(R.string.ProfileHoursEdit), new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda81
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.this.lambda$editRow$93();
                }
            });
            i4 = R.drawable.msg_delete;
            string3 = LocaleController.getString(R.string.ProfileHoursRemove);
            runnable3 = new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda82
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.this.lambda$editRow$97(tLRPC$UserFull, i);
                }
            };
        } else if (i == this.bizLocationRow) {
            makeOptions.add(R.drawable.msg_edit, LocaleController.getString(R.string.ProfileLocationEdit), new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda83
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.this.lambda$editRow$98();
                }
            });
            i4 = R.drawable.msg_delete;
            string3 = LocaleController.getString(R.string.ProfileLocationRemove);
            runnable3 = new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda84
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.this.lambda$editRow$102(tLRPC$UserFull, i);
                }
            };
        } else {
            if (i == this.usernameRow) {
                i2 = R.drawable.msg_edit;
                string = LocaleController.getString(R.string.ProfileUsernameEdit);
                runnable = new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda85
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.this.lambda$editRow$103();
                    }
                };
            } else if (i == this.channelInfoRow || i == this.userInfoRow || i == this.bioRow) {
                i2 = R.drawable.msg_edit;
                string = LocaleController.getString(R.string.ProfileEditBio);
                runnable = new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda78
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.this.lambda$editRow$104();
                    }
                };
            } else if (i == this.phoneRow) {
                i2 = R.drawable.menu_storage_path;
                string = LocaleController.getString(R.string.ProfilePhoneEdit);
                runnable = new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda86
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.this.lambda$editRow$105();
                    }
                };
            } else {
                if (i != this.birthdayRow) {
                    if (i == this.channelRow) {
                        final TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(tLRPC$UserFull.personal_channel_id));
                        if (chat != null && ChatObject.getPublicUsername(chat) != null) {
                            makeOptions.add(R.drawable.msg_copy, LocaleController.getString(R.string.ProfileChannelCopy), new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda75
                                @Override // java.lang.Runnable
                                public final void run() {
                                    ProfileActivity.this.lambda$editRow$115(chat);
                                }
                            });
                        }
                        makeOptions.add(R.drawable.msg_edit, LocaleController.getString(R.string.ProfileChannelChange), new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda76
                            @Override // java.lang.Runnable
                            public final void run() {
                                ProfileActivity.this.lambda$editRow$116();
                            }
                        });
                        i3 = R.drawable.msg_delete;
                        string2 = LocaleController.getString(R.string.Remove);
                        runnable2 = new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda77
                            @Override // java.lang.Runnable
                            public final void run() {
                                ProfileActivity.this.lambda$editRow$120(tLRPC$UserFull);
                            }
                        };
                    }
                    if (makeOptions.getItemsCount() > 0) {
                        return false;
                    }
                    makeOptions.show();
                    return true;
                }
                makeOptions.add(R.drawable.msg_edit, LocaleController.getString(R.string.ProfileBirthdayChange), new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda87
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.this.lambda$editRow$110(tLRPC$UserFull);
                    }
                });
                i3 = R.drawable.msg_delete;
                string2 = LocaleController.getString(R.string.Remove);
                runnable2 = new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda74
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.this.lambda$editRow$114(tLRPC$UserFull);
                    }
                };
                makeOptions.add(i3, (CharSequence) string2, true, runnable2);
                if (makeOptions.getItemsCount() > 0) {
                }
            }
            makeOptions.add(i2, string, runnable);
            if (makeOptions.getItemsCount() > 0) {
            }
        }
        makeOptions.add(i4, (CharSequence) string3, true, runnable3);
        if (makeOptions.getItemsCount() > 0) {
        }
    }

    public boolean expandAvatar() {
        View view;
        RecyclerView.ViewHolder findContainingViewHolder;
        Integer num;
        if (!AndroidUtilities.isTablet() && !this.isInLandscapeMode && this.avatarImage.getImageReceiver().hasNotThumb() && !AndroidUtilities.isAccessibilityScreenReaderEnabled()) {
            this.openingAvatar = true;
            this.allowPullingDown = true;
            int i = 0;
            while (true) {
                if (i >= this.listView.getChildCount()) {
                    view = null;
                    break;
                }
                RecyclerListView recyclerListView = this.listView;
                if (recyclerListView.getChildAdapterPosition(recyclerListView.getChildAt(i)) == 0) {
                    view = this.listView.getChildAt(i);
                    break;
                }
                i++;
            }
            if (view != null && (findContainingViewHolder = this.listView.findContainingViewHolder(view)) != null && (num = (Integer) this.positionToOffset.get(Integer.valueOf(findContainingViewHolder.getAdapterPosition()))) != null) {
                this.listView.smoothScrollBy(0, -(num.intValue() + ((this.listView.getPaddingTop() - view.getTop()) - this.actionBar.getMeasuredHeight())), CubicBezierInterpolator.EASE_OUT_QUINT);
                return true;
            }
        }
        return false;
    }

    private void fetchUsersFromChannelInfo() {
        TLRPC$Chat tLRPC$Chat = this.currentChat;
        if (tLRPC$Chat == null || !tLRPC$Chat.megagroup) {
            return;
        }
        TLRPC$ChatFull tLRPC$ChatFull = this.chatInfo;
        if (!(tLRPC$ChatFull instanceof TLRPC$TL_channelFull) || tLRPC$ChatFull.participants == null) {
            return;
        }
        for (int i = 0; i < this.chatInfo.participants.participants.size(); i++) {
            TLRPC$ChatParticipant tLRPC$ChatParticipant = (TLRPC$ChatParticipant) this.chatInfo.participants.participants.get(i);
            this.participantsMap.put(tLRPC$ChatParticipant.user_id, tLRPC$ChatParticipant);
        }
    }

    private void fixLayout() {
        View view = this.fragmentView;
        if (view == null) {
            return;
        }
        view.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() { // from class: org.telegram.ui.ProfileActivity.49
            {
                ProfileActivity.this = this;
            }

            @Override // android.view.ViewTreeObserver.OnPreDrawListener
            public boolean onPreDraw() {
                ProfileActivity profileActivity = ProfileActivity.this;
                if (profileActivity.fragmentView != null) {
                    profileActivity.checkListViewScroll();
                    ProfileActivity.this.needLayout(true);
                    ProfileActivity.this.fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
                }
                return true;
            }
        });
    }

    public int getAverageColor(ImageReceiver imageReceiver) {
        return imageReceiver.getDrawable() instanceof VectorAvatarThumbDrawable ? ((VectorAvatarThumbDrawable) imageReceiver.getDrawable()).gradientTools.getAverageColor() : AndroidUtilities.calcBitmapColor(this.avatarImage.getImageReceiver().getBitmap());
    }

    public void getChannelParticipants(boolean z) {
        LongSparseArray longSparseArray;
        if (this.loadingUsers || (longSparseArray = this.participantsMap) == null || this.chatInfo == null) {
            return;
        }
        this.loadingUsers = true;
        final int i = (longSparseArray.size() == 0 || !z) ? 0 : 300;
        final TLRPC$TL_channels_getParticipants tLRPC$TL_channels_getParticipants = new TLRPC$TL_channels_getParticipants();
        tLRPC$TL_channels_getParticipants.channel = getMessagesController().getInputChannel(this.chatId);
        tLRPC$TL_channels_getParticipants.filter = new TLRPC$TL_channelParticipantsRecent();
        tLRPC$TL_channels_getParticipants.offset = z ? 0 : this.participantsMap.size();
        tLRPC$TL_channels_getParticipants.limit = NotificationCenter.storyQualityUpdate;
        getConnectionsManager().bindRequestToGuid(getConnectionsManager().sendRequest(tLRPC$TL_channels_getParticipants, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda23
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                ProfileActivity.this.lambda$getChannelParticipants$60(tLRPC$TL_channels_getParticipants, i, tLObject, tLRPC$TL_error);
            }
        }), this.classGuid);
    }

    private Drawable getEmojiStatusDrawable(TLRPC$EmojiStatus tLRPC$EmojiStatus, boolean z, boolean z2, int i) {
        AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable swapAnimatedEmojiDrawable;
        long j;
        AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable[] swapAnimatedEmojiDrawableArr = this.emojiStatusDrawable;
        if (swapAnimatedEmojiDrawableArr[i] == null) {
            swapAnimatedEmojiDrawableArr[i] = new AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable(this.nameTextView[i], AndroidUtilities.dp(24.0f), i == 0 ? 7 : 2);
            if (this.fragmentViewAttached) {
                this.emojiStatusDrawable[i].attach();
            }
        }
        if (!(tLRPC$EmojiStatus instanceof TLRPC$TL_emojiStatus)) {
            if (tLRPC$EmojiStatus instanceof TLRPC$TL_emojiStatusUntil) {
                TLRPC$TL_emojiStatusUntil tLRPC$TL_emojiStatusUntil = (TLRPC$TL_emojiStatusUntil) tLRPC$EmojiStatus;
                if (tLRPC$TL_emojiStatusUntil.until > ((int) (System.currentTimeMillis() / 1000)) && !this.reportSpam) {
                    swapAnimatedEmojiDrawable = this.emojiStatusDrawable[i];
                    j = tLRPC$TL_emojiStatusUntil.document_id;
                }
            }
            this.emojiStatusDrawable[i].set(getPremiumCrossfadeDrawable(i), z2);
            updateEmojiStatusDrawableColor();
            return this.emojiStatusDrawable[i];
        }
        swapAnimatedEmojiDrawable = this.emojiStatusDrawable[i];
        j = ((TLRPC$TL_emojiStatus) tLRPC$EmojiStatus).document_id;
        swapAnimatedEmojiDrawable.set(j, z2);
        updateEmojiStatusDrawableColor();
        return this.emojiStatusDrawable[i];
    }

    private Drawable getLockIconDrawable() {
        if (this.lockIconDrawable == null) {
            this.lockIconDrawable = Theme.chat_lockIconDrawable.getConstantState().newDrawable().mutate();
        }
        return this.lockIconDrawable;
    }

    public Drawable getPremiumCrossfadeDrawable(int i) {
        if (this.premiumCrossfadeDrawable[i] == null) {
            this.premiumStarDrawable[i] = ContextCompat.getDrawable(getParentActivity(), R.drawable.msg_premium_liststar).mutate();
            int themedColor = getThemedColor(Theme.key_profile_verifiedBackground);
            if (i == 1) {
                themedColor = applyPeerColor(themedColor);
            }
            this.premiumStarDrawable[i].setColorFilter(themedColor, PorterDuff.Mode.MULTIPLY);
            this.premiumCrossfadeDrawable[i] = new CrossfadeDrawable(this.premiumStarDrawable[i], ContextCompat.getDrawable(getParentActivity(), R.drawable.msg_premium_prolfilestar).mutate());
        }
        return this.premiumCrossfadeDrawable[i];
    }

    private Drawable getScamDrawable(int i) {
        if (this.scamDrawable == null) {
            ScamDrawable scamDrawable = new ScamDrawable(11, i);
            this.scamDrawable = scamDrawable;
            scamDrawable.setColor(getThemedColor(Theme.key_avatar_subtitleInProfileBlue));
        }
        return this.scamDrawable;
    }

    private int getSmallAvatarRoundRadius() {
        if (this.chatId == 0 || !ChatObject.isForum(getMessagesController().getChat(Long.valueOf(this.chatId)))) {
            return AndroidUtilities.dp(21.0f);
        }
        return AndroidUtilities.dp(needInsetForStories() ? 11.0f : 16.0f);
    }

    private Drawable getVerifiedCrossfadeDrawable(int i) {
        MessagesController.PeerColor peerColor;
        if (this.verifiedCrossfadeDrawable[i] == null) {
            this.verifiedDrawable[i] = Theme.profile_verifiedDrawable.getConstantState().newDrawable().mutate();
            this.verifiedCheckDrawable[i] = Theme.profile_verifiedCheckDrawable.getConstantState().newDrawable().mutate();
            if (i == 1 && (peerColor = this.peerColor) != null) {
                int adaptHSV = Theme.adaptHSV(peerColor.hasColor6(Theme.isCurrentThemeDark()) ? this.peerColor.getColor5() : this.peerColor.getColor3(), 0.1f, Theme.isCurrentThemeDark() ? -0.1f : -0.08f);
                Drawable drawable = this.verifiedDrawable[1];
                int offsetColor = AndroidUtilities.getOffsetColor(adaptHSV, getThemedColor(Theme.key_player_actionBarTitle), this.mediaHeaderAnimationProgress, 1.0f);
                PorterDuff.Mode mode = PorterDuff.Mode.MULTIPLY;
                drawable.setColorFilter(offsetColor, mode);
                this.verifiedCheckDrawable[1].setColorFilter(AndroidUtilities.getOffsetColor(-1, getThemedColor(Theme.key_windowBackgroundWhite), this.mediaHeaderAnimationProgress, 1.0f), mode);
            }
            this.verifiedCrossfadeDrawable[i] = new CrossfadeDrawable(new CombinedDrawable(this.verifiedDrawable[i], this.verifiedCheckDrawable[i]), ContextCompat.getDrawable(getParentActivity(), R.drawable.verified_profile));
        }
        return this.verifiedCrossfadeDrawable[i];
    }

    public void hideFloatingButton(boolean z) {
        TLRPC$User user = getMessagesController().getUser(Long.valueOf(this.userId));
        if (user != null && user.bot && user.bot_can_edit && user.bot_has_main_app) {
            StoriesController.BotPreviewsList botPreviewsList = (StoriesController.BotPreviewsList) getMessagesController().getStoriesController().getStoriesList(this.userId, 4);
            ArrayList uploadingStories = getMessagesController().getStoriesController().getUploadingStories(this.userId);
            if (botPreviewsList != null) {
                if (botPreviewsList.getCount() + (uploadingStories == null ? 0 : uploadingStories.size()) >= getMessagesController().botPreviewMediasMax) {
                    z = true;
                }
            }
        }
        if (this.floatingHidden == z || this.floatingButtonContainer == null || this.waitCanSendStoryRequest) {
            return;
        }
        this.floatingHidden = z;
        AnimatorSet animatorSet = new AnimatorSet();
        ValueAnimator ofFloat = ValueAnimator.ofFloat(this.floatingButtonHideProgress, this.floatingHidden ? 1.0f : 0.0f);
        ofFloat.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda36
            @Override // android.animation.ValueAnimator.AnimatorUpdateListener
            public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                ProfileActivity.this.lambda$hideFloatingButton$33(valueAnimator);
            }
        });
        animatorSet.playTogether(ofFloat);
        animatorSet.setDuration(300L);
        animatorSet.setInterpolator(this.floatingInterpolator);
        this.floatingButtonContainer.setClickable(!z);
        animatorSet.start();
    }

    private void invalidateIsInLandscapeMode() {
        Point point = new Point();
        getParentActivity().getWindowManager().getDefaultDisplay().getSize(point);
        this.isInLandscapeMode = point.x > point.y;
    }

    private boolean isQrNeedVisible() {
        return true;
    }

    private void kickUser(long j, TLRPC$ChatParticipant tLRPC$ChatParticipant) {
        if (j != 0) {
            TLRPC$User user = getMessagesController().getUser(Long.valueOf(j));
            getMessagesController().deleteParticipantFromChat(this.chatId, user);
            if (this.currentChat != null && user != null && BulletinFactory.canShowBulletin(this)) {
                BulletinFactory.createRemoveFromChatBulletin(this, user, this.currentChat.title).show();
            }
            if (this.chatInfo.participants.participants.remove(tLRPC$ChatParticipant)) {
                updateListAnimated(true);
                return;
            }
            return;
        }
        NotificationCenter notificationCenter = getNotificationCenter();
        int i = NotificationCenter.closeChats;
        notificationCenter.removeObserver(this, i);
        if (AndroidUtilities.isTablet()) {
            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(i, Long.valueOf(-this.chatId));
        } else {
            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(i, new Object[0]);
        }
        getMessagesController().deleteParticipantFromChat(this.chatId, getMessagesController().getUser(Long.valueOf(getUserConfig().getClientUserId())));
        this.playProfileAnimation = 0;
        finishFragment();
    }

    public /* synthetic */ void lambda$checkCanSendStoryForPosting$27(Boolean bool) {
        this.waitCanSendStoryRequest = false;
        this.showBoostsAlert = !bool.booleanValue();
        hideFloatingButton(false);
    }

    public /* synthetic */ void lambda$collapseAvatarInstant$32() {
        needLayout(true);
        if (this.expandAnimator.isRunning()) {
            this.expandAnimator.cancel();
        }
        setAvatarExpandProgress(1.0f);
    }

    public /* synthetic */ void lambda$createActionBar$3() {
        dimBehindView(false);
    }

    public /* synthetic */ boolean lambda$createActionBar$4(ImageView imageView, View view) {
        ActionBarPopupWindow show = BackButtonMenu.show(this, imageView, getDialogId(), getTopicId(), this.resourcesProvider);
        if (show != null) {
            show.setOnDismissListener(new PopupWindow.OnDismissListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda6
                @Override // android.widget.PopupWindow.OnDismissListener
                public final void onDismiss() {
                    ProfileActivity.this.lambda$createActionBar$3();
                }
            });
            dimBehindView(imageView, 0.3f);
            UndoView undoView = this.undoView;
            if (undoView != null) {
                undoView.hide(true, 1);
            }
            return true;
        }
        return false;
    }

    public /* synthetic */ void lambda$createFloatingActionButton$28() {
        presentFragment(StatisticActivity.create(getMessagesController().getChat(Long.valueOf(this.chatId))));
    }

    public /* synthetic */ void lambda$createFloatingActionButton$29(long j, TL_stories$TL_premium_boostsStatus tL_stories$TL_premium_boostsStatus, ChannelBoostsController.CanApplyBoost canApplyBoost) {
        if (canApplyBoost == null) {
            return;
        }
        LimitReachedBottomSheet.openBoostsForPostingStories(LaunchActivity.getLastFragment(), j, canApplyBoost, tL_stories$TL_premium_boostsStatus, new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda109
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$createFloatingActionButton$28();
            }
        });
    }

    public /* synthetic */ void lambda$createFloatingActionButton$30(MessagesController messagesController, final long j, final TL_stories$TL_premium_boostsStatus tL_stories$TL_premium_boostsStatus) {
        this.loadingBoostsStats = false;
        if (tL_stories$TL_premium_boostsStatus == null) {
            return;
        }
        messagesController.getBoostsController().userCanBoostChannel(j, tL_stories$TL_premium_boostsStatus, new Consumer() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda93
            @Override // com.google.android.exoplayer2.util.Consumer
            public final void accept(Object obj) {
                ProfileActivity.this.lambda$createFloatingActionButton$29(j, tL_stories$TL_premium_boostsStatus, (ChannelBoostsController.CanApplyBoost) obj);
            }
        });
    }

    public /* synthetic */ void lambda$createFloatingActionButton$31(final long j, final TLRPC$Chat tLRPC$Chat, View view) {
        if (!this.showBoostsAlert) {
            StoryRecorder.getInstance(getParentActivity(), this.currentAccount).selectedPeerId(getDialogId()).canChangePeer(false).closeToWhenSent(new StoryRecorder.ClosingViewProvider() { // from class: org.telegram.ui.ProfileActivity.34
                {
                    ProfileActivity.this = this;
                }

                @Override // org.telegram.ui.Stories.recorder.StoryRecorder.ClosingViewProvider
                public StoryRecorder.SourceView getView(long j2) {
                    if (j2 != ProfileActivity.this.getDialogId()) {
                        return null;
                    }
                    ProfileActivity.this.updateAvatarRoundRadius();
                    return StoryRecorder.SourceView.fromAvatarImage(ProfileActivity.this.avatarImage, ChatObject.isForum(tLRPC$Chat));
                }

                @Override // org.telegram.ui.Stories.recorder.StoryRecorder.ClosingViewProvider
                public void preLayout(long j2, Runnable runnable) {
                    ProfileActivity.this.avatarImage.setHasStories(ProfileActivity.this.needInsetForStories());
                    if (j2 == ProfileActivity.this.getDialogId()) {
                        ProfileActivity.this.collapseAvatarInstant();
                    }
                    AndroidUtilities.runOnUIThread(runnable, 30L);
                }
            }).open(StoryRecorder.SourceView.fromFloatingButton(this.floatingButtonContainer), true);
        } else if (this.loadingBoostsStats) {
        } else {
            final MessagesController messagesController = MessagesController.getInstance(this.currentAccount);
            this.loadingBoostsStats = true;
            messagesController.getBoostsController().getBoostsStats(j, new Consumer() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda88
                @Override // com.google.android.exoplayer2.util.Consumer
                public final void accept(Object obj) {
                    ProfileActivity.this.lambda$createFloatingActionButton$30(messagesController, j, (TL_stories$TL_premium_boostsStatus) obj);
                }
            });
        }
    }

    public /* synthetic */ void lambda$createView$10(final long j, final Context context, final BaseFragment baseFragment, View view, int i, float f, float f2) {
        AlertDialog.Builder builder;
        Activity parentActivity;
        int i2;
        AlertDialog createSupportAlert;
        ChatUsersActivity chatUsersActivity;
        LocationActivity locationActivity;
        IdenticonActivity identiconActivity;
        ArrayList arrayList;
        int i3;
        long j2;
        ListAdapter listAdapter;
        float f3 = f;
        float f4 = f2;
        if (getParentActivity() == null) {
            return;
        }
        this.listView.stopScroll();
        if (i == this.notificationsSimpleRow) {
            boolean z = !getMessagesController().isDialogMuted(j, this.topicId);
            getNotificationsController().muteDialog(j, this.topicId, z);
            BulletinFactory.createMuteBulletin(this, z, null).show();
            updateExceptions();
            int i4 = this.notificationsSimpleRow;
            if (i4 < 0 || (listAdapter = this.listAdapter) == null) {
                return;
            }
            listAdapter.notifyItemChanged(i4);
        } else if (i == this.addToContactsRow) {
            TLRPC$User user = getMessagesController().getUser(Long.valueOf(this.userId));
            Bundle bundle = new Bundle();
            bundle.putLong("user_id", user.id);
            bundle.putBoolean("addContact", true);
            bundle.putString("phone", this.vcardPhone);
            bundle.putString("first_name_card", this.vcardFirstName);
            bundle.putString("last_name_card", this.vcardLastName);
            openAddToContact(user, bundle);
        } else if (i == this.reportReactionRow) {
            AlertDialog.Builder builder2 = new AlertDialog.Builder(getParentActivity(), this.resourcesProvider);
            builder2.setTitle(LocaleController.getString(R.string.ReportReaction));
            builder2.setMessage(LocaleController.getString(R.string.ReportAlertReaction));
            TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(-this.reportReactionFromDialogId));
            final CheckBoxCell[] checkBoxCellArr = new CheckBoxCell[1];
            if (chat != null && ChatObject.canBlockUsers(chat)) {
                LinearLayout linearLayout = new LinearLayout(getParentActivity());
                linearLayout.setOrientation(1);
                CheckBoxCell checkBoxCell = new CheckBoxCell(getParentActivity(), 1, this.resourcesProvider);
                checkBoxCellArr[0] = checkBoxCell;
                checkBoxCell.setBackgroundDrawable(Theme.getSelectorDrawable(false));
                checkBoxCellArr[0].setText(LocaleController.getString(R.string.BanUser), "", true, false);
                checkBoxCellArr[0].setPadding(LocaleController.isRTL ? AndroidUtilities.dp(16.0f) : AndroidUtilities.dp(8.0f), 0, LocaleController.isRTL ? AndroidUtilities.dp(8.0f) : AndroidUtilities.dp(16.0f), 0);
                linearLayout.addView(checkBoxCellArr[0], LayoutHelper.createLinear(-1, -2));
                checkBoxCellArr[0].setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda31
                    @Override // android.view.View.OnClickListener
                    public final void onClick(View view2) {
                        ProfileActivity.lambda$createView$6(checkBoxCellArr, view2);
                    }
                });
                builder2.setView(linearLayout);
            }
            builder2.setPositiveButton(LocaleController.getString(R.string.ReportChat), new 13(checkBoxCellArr));
            builder2.setNegativeButton(LocaleController.getString(R.string.Cancel), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity.14
                {
                    ProfileActivity.this = this;
                }

                @Override // android.content.DialogInterface.OnClickListener
                public void onClick(DialogInterface dialogInterface, int i5) {
                    dialogInterface.dismiss();
                }
            });
            TextView textView = (TextView) builder2.show().getButton(-1);
            if (textView != null) {
                textView.setTextColor(Theme.getColor(Theme.key_text_RedBold));
            }
        } else {
            if (i != this.settingsKeyRow) {
                if (i != this.settingsTimerRow) {
                    if (i == this.notificationsRow) {
                        if ((!LocaleController.isRTL || f3 > AndroidUtilities.dp(76.0f)) && (LocaleController.isRTL || f3 < view.getMeasuredWidth() - AndroidUtilities.dp(76.0f))) {
                            ChatNotificationsPopupWrapper chatNotificationsPopupWrapper = new ChatNotificationsPopupWrapper(context, this.currentAccount, null, true, true, new ChatNotificationsPopupWrapper.Callback() { // from class: org.telegram.ui.ProfileActivity.15
                                {
                                    ProfileActivity.this = this;
                                }

                                @Override // org.telegram.ui.Components.ChatNotificationsPopupWrapper.Callback
                                public /* synthetic */ void dismiss() {
                                    ChatNotificationsPopupWrapper.Callback.-CC.$default$dismiss(this);
                                }

                                @Override // org.telegram.ui.Components.ChatNotificationsPopupWrapper.Callback
                                public void muteFor(int i5) {
                                    ProfileActivity profileActivity = ProfileActivity.this;
                                    if (i5 == 0) {
                                        if (profileActivity.getMessagesController().isDialogMuted(j, ProfileActivity.this.topicId)) {
                                            toggleMute();
                                        }
                                        if (BulletinFactory.canShowBulletin(ProfileActivity.this)) {
                                            ProfileActivity profileActivity2 = ProfileActivity.this;
                                            BulletinFactory.createMuteBulletin(profileActivity2, 4, i5, profileActivity2.getResourceProvider()).show();
                                            return;
                                        }
                                        return;
                                    }
                                    profileActivity.getNotificationsController().muteUntil(j, ProfileActivity.this.topicId, i5);
                                    if (BulletinFactory.canShowBulletin(ProfileActivity.this)) {
                                        ProfileActivity profileActivity3 = ProfileActivity.this;
                                        BulletinFactory.createMuteBulletin(profileActivity3, 5, i5, profileActivity3.getResourceProvider()).show();
                                    }
                                    ProfileActivity.this.updateExceptions();
                                    if (ProfileActivity.this.notificationsRow < 0 || ProfileActivity.this.listAdapter == null) {
                                        return;
                                    }
                                    ProfileActivity.this.listAdapter.notifyItemChanged(ProfileActivity.this.notificationsRow);
                                }

                                @Override // org.telegram.ui.Components.ChatNotificationsPopupWrapper.Callback
                                public void openExceptions() {
                                    Bundle bundle2 = new Bundle();
                                    bundle2.putLong("dialog_id", j);
                                    TopicsNotifySettingsFragments topicsNotifySettingsFragments = new TopicsNotifySettingsFragments(bundle2);
                                    topicsNotifySettingsFragments.setExceptions(ProfileActivity.this.notificationsExceptionTopics);
                                    ProfileActivity.this.presentFragment(topicsNotifySettingsFragments);
                                }

                                @Override // org.telegram.ui.Components.ChatNotificationsPopupWrapper.Callback
                                public void showCustomize() {
                                    if (j != 0) {
                                        Bundle bundle2 = new Bundle();
                                        bundle2.putLong("dialog_id", j);
                                        bundle2.putLong("topic_id", ProfileActivity.this.topicId);
                                        ProfileActivity profileActivity = ProfileActivity.this;
                                        profileActivity.presentFragment(new ProfileNotificationsActivity(bundle2, profileActivity.resourcesProvider));
                                    }
                                }

                                @Override // org.telegram.ui.Components.ChatNotificationsPopupWrapper.Callback
                                public void toggleMute() {
                                    boolean z2 = !ProfileActivity.this.getMessagesController().isDialogMuted(j, ProfileActivity.this.topicId);
                                    ProfileActivity.this.getNotificationsController().muteDialog(j, ProfileActivity.this.topicId, z2);
                                    ProfileActivity profileActivity = ProfileActivity.this;
                                    if (profileActivity.fragmentView != null) {
                                        BulletinFactory.createMuteBulletin(profileActivity, z2, null).show();
                                    }
                                    ProfileActivity.this.updateExceptions();
                                    if (ProfileActivity.this.notificationsRow < 0 || ProfileActivity.this.listAdapter == null) {
                                        return;
                                    }
                                    ProfileActivity.this.listAdapter.notifyItemChanged(ProfileActivity.this.notificationsRow);
                                }

                                @Override // org.telegram.ui.Components.ChatNotificationsPopupWrapper.Callback
                                public void toggleSound() {
                                    SharedPreferences notificationsSettings = MessagesController.getNotificationsSettings(((BaseFragment) ProfileActivity.this).currentAccount);
                                    boolean z2 = notificationsSettings.getBoolean("sound_enabled_" + NotificationsController.getSharedPrefKey(j, ProfileActivity.this.topicId), true);
                                    boolean z3 = !z2 ? 1 : 0;
                                    SharedPreferences.Editor edit = notificationsSettings.edit();
                                    edit.putBoolean("sound_enabled_" + NotificationsController.getSharedPrefKey(j, ProfileActivity.this.topicId), z3).apply();
                                    if (BulletinFactory.canShowBulletin(ProfileActivity.this)) {
                                        ProfileActivity profileActivity = ProfileActivity.this;
                                        BulletinFactory.createSoundEnabledBulletin(profileActivity, z2 ? 1 : 0, profileActivity.getResourceProvider()).show();
                                    }
                                }
                            }, getResourceProvider());
                            chatNotificationsPopupWrapper.lambda$update$11(j, this.topicId, this.notificationsExceptionTopics);
                            if (AndroidUtilities.isTablet()) {
                                ViewGroup view2 = this.parentLayout.getView();
                                f4 += view2.getY() + view2.getPaddingTop();
                                f3 = view2.getX() + view2.getPaddingLeft() + f3;
                            }
                            chatNotificationsPopupWrapper.showAsOptions(this, view, f3, f4);
                            return;
                        }
                        NotificationsCheckCell notificationsCheckCell = (NotificationsCheckCell) view;
                        boolean z2 = !notificationsCheckCell.isChecked();
                        boolean isGlobalNotificationsEnabled = getNotificationsController().isGlobalNotificationsEnabled(j, false, false);
                        String sharedPrefKey = NotificationsController.getSharedPrefKey(j, this.topicId);
                        SharedPreferences.Editor edit = MessagesController.getNotificationsSettings(this.currentAccount).edit();
                        if (z2) {
                            if (isGlobalNotificationsEnabled) {
                                edit.remove(NotificationsSettingsFacade.PROPERTY_NOTIFY + sharedPrefKey);
                            } else {
                                edit.putInt(NotificationsSettingsFacade.PROPERTY_NOTIFY + sharedPrefKey, 0);
                            }
                            if (this.topicId == 0) {
                                getMessagesStorage().setDialogFlags(j, 0L);
                                TLRPC$Dialog tLRPC$Dialog = (TLRPC$Dialog) getMessagesController().dialogs_dict.get(j);
                                if (tLRPC$Dialog != null) {
                                    tLRPC$Dialog.notify_settings = new TLRPC$TL_peerNotifySettings();
                                }
                            }
                        } else {
                            if (isGlobalNotificationsEnabled) {
                                edit.putInt(NotificationsSettingsFacade.PROPERTY_NOTIFY + sharedPrefKey, 2);
                                j2 = 1;
                            } else {
                                edit.remove(NotificationsSettingsFacade.PROPERTY_NOTIFY + sharedPrefKey);
                                j2 = 0L;
                            }
                            getNotificationsController().removeNotificationsForDialog(j);
                            if (this.topicId == 0) {
                                getMessagesStorage().setDialogFlags(j, j2);
                                TLRPC$Dialog tLRPC$Dialog2 = (TLRPC$Dialog) getMessagesController().dialogs_dict.get(j);
                                if (tLRPC$Dialog2 != null) {
                                    TLRPC$TL_peerNotifySettings tLRPC$TL_peerNotifySettings = new TLRPC$TL_peerNotifySettings();
                                    tLRPC$Dialog2.notify_settings = tLRPC$TL_peerNotifySettings;
                                    if (isGlobalNotificationsEnabled) {
                                        tLRPC$TL_peerNotifySettings.mute_until = ConnectionsManager.DEFAULT_DATACENTER_ID;
                                    }
                                }
                            }
                        }
                        edit.apply();
                        updateExceptions();
                        getNotificationsController().updateServerNotificationsSettings(j, this.topicId);
                        notificationsCheckCell.setChecked(z2);
                        RecyclerListView.Holder holder = (RecyclerListView.Holder) this.listView.findViewHolderForPosition(this.notificationsRow);
                        if (holder != null) {
                            this.listAdapter.onBindViewHolder(holder, this.notificationsRow);
                            return;
                        }
                        return;
                    } else if (i == this.unblockRow) {
                        getMessagesController().unblockPeer(this.userId);
                        if (BulletinFactory.canShowBulletin(this)) {
                            BulletinFactory.createBanBulletin(this, false).show();
                            return;
                        }
                        return;
                    } else if (i == this.addToGroupButtonRow) {
                        try {
                            this.actionBar.getActionBarMenuOnItemClick().onItemClick(9);
                            return;
                        } catch (Exception e) {
                            FileLog.e(e);
                            return;
                        }
                    } else {
                        if (i != this.sendMessageRow) {
                            if (i == this.reportRow) {
                                AlertsCreator.createReportAlert(getParentActivity(), getDialogId(), 0, 0, this, this.resourcesProvider, null);
                                return;
                            } else if (i >= this.membersStartRow && i < this.membersEndRow) {
                                if (this.sortedUsers.isEmpty()) {
                                    arrayList = this.chatInfo.participants.participants;
                                    i3 = i - this.membersStartRow;
                                } else {
                                    arrayList = this.chatInfo.participants.participants;
                                    i3 = ((Integer) this.sortedUsers.get(i - this.membersStartRow)).intValue();
                                }
                                onMemberClick((TLRPC$ChatParticipant) arrayList.get(i3), false, view);
                                return;
                            } else if (i == this.addMemberRow) {
                                openAddMember();
                                return;
                            } else {
                                if (i != this.usernameRow) {
                                    if (i == this.locationRow) {
                                        if (!(this.chatInfo.location instanceof TLRPC$TL_channelLocation)) {
                                            return;
                                        }
                                        LocationActivity locationActivity2 = new LocationActivity(5);
                                        locationActivity2.setChatLocation(this.chatId, (TLRPC$TL_channelLocation) this.chatInfo.location);
                                        locationActivity = locationActivity2;
                                    } else if (i == this.joinRow) {
                                        getMessagesController().addUserToChat(this.currentChat.id, getUserConfig().getCurrentUser(), 0, null, this, true, new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda32
                                            @Override // java.lang.Runnable
                                            public final void run() {
                                                ProfileActivity.this.lambda$createView$7();
                                            }
                                        }, new MessagesController.ErrorDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda33
                                            @Override // org.telegram.messenger.MessagesController.ErrorDelegate
                                            public final boolean run(TLRPC$TL_error tLRPC$TL_error) {
                                                boolean lambda$createView$8;
                                                lambda$createView$8 = ProfileActivity.this.lambda$createView$8(context, baseFragment, tLRPC$TL_error);
                                                return lambda$createView$8;
                                            }
                                        });
                                        NotificationCenter.getGlobalInstance().lambda$postNotificationNameOnUIThread$1(NotificationCenter.closeSearchByActiveAction, new Object[0]);
                                        return;
                                    } else {
                                        if (i == this.subscribersRow) {
                                            Bundle bundle2 = new Bundle();
                                            bundle2.putLong("chat_id", this.chatId);
                                            bundle2.putInt("type", 2);
                                            chatUsersActivity = new ChatUsersActivity(bundle2);
                                        } else if (i == this.subscribersRequestsRow) {
                                            locationActivity = new MemberRequestsActivity(this.chatId);
                                        } else if (i == this.administratorsRow) {
                                            Bundle bundle3 = new Bundle();
                                            bundle3.putLong("chat_id", this.chatId);
                                            bundle3.putInt("type", 1);
                                            chatUsersActivity = new ChatUsersActivity(bundle3);
                                        } else if (i == this.settingsRow) {
                                            this.editItem.performClick();
                                            return;
                                        } else if (i == this.balanceRow) {
                                            Bundle bundle4 = new Bundle();
                                            if (this.userInfo != null) {
                                                locationActivity = new BotStarsActivity(this.userId);
                                            } else {
                                                bundle4.putLong("chat_id", this.chatId);
                                                bundle4.putBoolean("start_from_monetization", true);
                                                identiconActivity = new StatisticActivity(bundle4);
                                            }
                                        } else if (i == this.blockedUsersRow) {
                                            Bundle bundle5 = new Bundle();
                                            bundle5.putLong("chat_id", this.chatId);
                                            bundle5.putInt("type", 0);
                                            chatUsersActivity = new ChatUsersActivity(bundle5);
                                        } else if (i == this.notificationRow) {
                                            locationActivity = new NotificationsSettingsActivity();
                                        } else if (i == this.privacyRow) {
                                            identiconActivity = new PrivacySettingsActivity().setCurrentPassword(this.currentPassword);
                                        } else if (i == this.dataRow) {
                                            locationActivity = new DataSettingsActivity();
                                        } else if (i == this.chatRow) {
                                            locationActivity = new ThemeActivity(0);
                                        } else if (i == this.filtersRow) {
                                            locationActivity = new FiltersSetupActivity();
                                        } else if (i == this.stickersRow) {
                                            locationActivity = new StickersActivity(0, null);
                                        } else if (i == this.liteModeRow) {
                                            locationActivity = new LiteModeSettingsActivity();
                                        } else if (i != this.devicesRow) {
                                            if (i == this.questionRow) {
                                                createSupportAlert = AlertsCreator.createSupportAlert(this, this.resourcesProvider);
                                                showDialog(createSupportAlert);
                                                return;
                                            }
                                            if (i == this.faqRow) {
                                                parentActivity = getParentActivity();
                                                i2 = R.string.TelegramFaqUrl;
                                            } else if (i == this.policyRow) {
                                                parentActivity = getParentActivity();
                                                i2 = R.string.PrivacyPolicyUrl;
                                            } else if (i == this.sendLogsRow) {
                                                sendLogs(getParentActivity(), false);
                                                return;
                                            } else if (i == this.sendLastLogsRow) {
                                                sendLogs(getParentActivity(), true);
                                                return;
                                            } else if (i == this.clearLogsRow) {
                                                FileLog.cleanupLogs();
                                                return;
                                            } else if (i == this.switchBackendRow) {
                                                if (getParentActivity() == null) {
                                                    return;
                                                }
                                                builder = new AlertDialog.Builder(getParentActivity(), this.resourcesProvider);
                                                builder.setMessage(LocaleController.getString(R.string.AreYouSure));
                                                builder.setTitle(LocaleController.getString(R.string.AppName));
                                                builder.setPositiveButton(LocaleController.getString(R.string.OK), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda34
                                                    @Override // android.content.DialogInterface.OnClickListener
                                                    public final void onClick(DialogInterface dialogInterface, int i5) {
                                                        ProfileActivity.this.lambda$createView$9(dialogInterface, i5);
                                                    }
                                                });
                                                builder.setNegativeButton(LocaleController.getString(R.string.Cancel), null);
                                            } else if (i == this.languageRow) {
                                                locationActivity = new LanguageSelectActivity();
                                            } else if (i == this.setUsernameRow) {
                                                locationActivity = new ChangeUsernameActivity();
                                            } else if (i == this.bioRow) {
                                                locationActivity = new UserInfoActivity();
                                            } else if (i == this.numberRow) {
                                                locationActivity = new ActionIntroActivity(3);
                                            } else if (i != this.setAvatarRow) {
                                                if (i == this.premiumRow) {
                                                    locationActivity = new PremiumPreviewFragment("settings");
                                                } else if (i == this.starsRow) {
                                                    locationActivity = new StarsIntroActivity();
                                                } else if (i == this.businessRow) {
                                                    locationActivity = new PremiumPreviewFragment(1, "settings");
                                                } else if (i == this.premiumGiftingRow) {
                                                    UserSelectorBottomSheet.open(0L, BirthdayController.getInstance(this.currentAccount).getState());
                                                    return;
                                                } else if (i == this.bizHoursRow) {
                                                    this.hoursExpanded = !this.hoursExpanded;
                                                    saveScrollPosition();
                                                    view.requestLayout();
                                                    this.listAdapter.notifyItemChanged(this.bizHoursRow);
                                                    int i5 = this.savedScrollPosition;
                                                    if (i5 >= 0) {
                                                        this.layoutManager.scrollToPositionWithOffset(i5, this.savedScrollOffset - this.listView.getPaddingTop());
                                                        return;
                                                    }
                                                    return;
                                                } else if (i == this.bizLocationRow) {
                                                    openLocation(false);
                                                    return;
                                                } else if (i == this.channelRow) {
                                                    if (this.userInfo == null) {
                                                        return;
                                                    }
                                                    Bundle bundle6 = new Bundle();
                                                    bundle6.putLong("chat_id", this.userInfo.personal_channel_id);
                                                    identiconActivity = new ChatActivity(bundle6);
                                                } else if (i == this.birthdayRow) {
                                                    ProfileBirthdayEffect profileBirthdayEffect = this.birthdayEffect;
                                                    if ((profileBirthdayEffect == null || !profileBirthdayEffect.lambda$onDraw$0()) && !editRow(view, i)) {
                                                        TextDetailCell textDetailCell = (TextDetailCell) view;
                                                        if (textDetailCell.hasImage()) {
                                                            onTextDetailCellImageClicked(textDetailCell.getImageView());
                                                            return;
                                                        }
                                                        return;
                                                    }
                                                    return;
                                                }
                                            }
                                            Browser.openUrl(parentActivity, LocaleController.getString(i2));
                                            return;
                                        } else {
                                            locationActivity = new SessionsActivity(0);
                                        }
                                        chatUsersActivity.setInfo(this.chatInfo);
                                        identiconActivity = chatUsersActivity;
                                    }
                                    identiconActivity = locationActivity;
                                }
                                processOnClickOrPress(i, view, f3, f4);
                                return;
                            }
                        }
                        onWriteButtonClick();
                        return;
                    }
                }
                builder = AlertsCreator.createTTLAlert(getParentActivity(), this.currentEncryptedChat, this.resourcesProvider);
                createSupportAlert = builder.create();
                showDialog(createSupportAlert);
                return;
            }
            Bundle bundle7 = new Bundle();
            bundle7.putInt("chat_id", DialogObject.getEncryptedChatId(this.dialogId));
            identiconActivity = new IdenticonActivity(bundle7);
            presentFragment(identiconActivity);
        }
    }

    public /* synthetic */ void lambda$createView$11(View view, int i) {
        boolean z;
        ArrayList arrayList;
        if (i < 0) {
            return;
        }
        Object valueOf = Integer.valueOf(this.numberRow);
        if (this.searchAdapter.searchWas) {
            if (i < this.searchAdapter.searchResults.size()) {
                arrayList = this.searchAdapter.searchResults;
            } else {
                i -= this.searchAdapter.searchResults.size() + 1;
                if (i >= 0 && i < this.searchAdapter.faqSearchResults.size()) {
                    arrayList = this.searchAdapter.faqSearchResults;
                }
                z = true;
            }
            valueOf = arrayList.get(i);
            z = true;
        } else {
            if (!this.searchAdapter.recentSearches.isEmpty()) {
                i--;
            }
            if (i < 0 || i >= this.searchAdapter.recentSearches.size()) {
                int size = i - (this.searchAdapter.recentSearches.size() + 1);
                if (size >= 0 && size < this.searchAdapter.faqSearchArray.size()) {
                    valueOf = this.searchAdapter.faqSearchArray.get(size);
                    z = false;
                }
                z = true;
            } else {
                arrayList = this.searchAdapter.recentSearches;
                valueOf = arrayList.get(i);
                z = true;
            }
        }
        if (valueOf instanceof SearchAdapter.SearchResult) {
            ((SearchAdapter.SearchResult) valueOf).open();
        } else if (valueOf instanceof MessagesController.FaqSearchResult) {
            NotificationCenter.getInstance(this.currentAccount).lambda$postNotificationNameOnUIThread$1(NotificationCenter.openArticle, this.searchAdapter.faqWebPage, ((MessagesController.FaqSearchResult) valueOf).url);
        }
        if (!z || valueOf == null) {
            return;
        }
        this.searchAdapter.addRecent(valueOf);
    }

    public /* synthetic */ void lambda$createView$12(DialogInterface dialogInterface, int i) {
        this.searchAdapter.clearRecent();
    }

    public /* synthetic */ boolean lambda$createView$13(View view, int i) {
        if (this.searchAdapter.isSearchWas() || this.searchAdapter.recentSearches.isEmpty()) {
            return false;
        }
        AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity(), this.resourcesProvider);
        builder.setTitle(LocaleController.getString(R.string.ClearSearchAlertTitle));
        builder.setMessage(LocaleController.getString(R.string.ClearSearchAlert));
        builder.setPositiveButton(LocaleController.getString(R.string.ClearButton), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda47
            @Override // android.content.DialogInterface.OnClickListener
            public final void onClick(DialogInterface dialogInterface, int i2) {
                ProfileActivity.this.lambda$createView$12(dialogInterface, i2);
            }
        });
        builder.setNegativeButton(LocaleController.getString(R.string.Cancel), null);
        AlertDialog create = builder.create();
        showDialog(create);
        TextView textView = (TextView) create.getButton(-1);
        if (textView != null) {
            textView.setTextColor(Theme.getColor(Theme.key_text_RedBold));
            return true;
        }
        return true;
    }

    public /* synthetic */ void lambda$createView$14(TLObject tLObject) {
        this.currentChannelParticipant = ((TLRPC$TL_channels_channelParticipant) tLObject).participant;
    }

    public /* synthetic */ void lambda$createView$15(final TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject != null) {
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda43
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.this.lambda$createView$14(tLObject);
                }
            });
        }
    }

    public /* synthetic */ void lambda$createView$16(TLRPC$Chat tLRPC$Chat, View view) {
        long j = this.userId;
        long j2 = this.banFromGroup;
        TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights = tLRPC$Chat.default_banned_rights;
        TLRPC$ChannelParticipant tLRPC$ChannelParticipant = this.currentChannelParticipant;
        ChatRightsEditActivity chatRightsEditActivity = new ChatRightsEditActivity(j, j2, null, tLRPC$TL_chatBannedRights, tLRPC$ChannelParticipant != null ? tLRPC$ChannelParticipant.banned_rights : null, "", 1, true, false, null);
        chatRightsEditActivity.setDelegate(new 19(tLRPC$Chat, chatRightsEditActivity));
        presentFragment(chatRightsEditActivity);
    }

    public /* synthetic */ void lambda$createView$17(TLRPC$InputStickerSet tLRPC$InputStickerSet) {
        ArrayList arrayList = new ArrayList(1);
        arrayList.add(tLRPC$InputStickerSet);
        showDialog(new EmojiPacksAlert(this, getParentActivity(), this.resourcesProvider, arrayList));
    }

    public /* synthetic */ void lambda$createView$18(View view) {
        TLRPC$Document findDocument;
        Bulletin createContainsEmojiBulletin;
        if (this.avatarBig != null) {
            return;
        }
        if (!this.isTopic || getMessagesController().premiumFeaturesBlocked()) {
            if (expandAvatar()) {
                return;
            }
            openAvatar();
            return;
        }
        ArrayList<TLRPC$TL_forumTopic> topics = getMessagesController().getTopicsController().getTopics(this.chatId);
        if (topics != null) {
            TLRPC$TL_forumTopic tLRPC$TL_forumTopic = null;
            for (int i = 0; tLRPC$TL_forumTopic == null && i < topics.size(); i++) {
                TLRPC$TL_forumTopic tLRPC$TL_forumTopic2 = topics.get(i);
                if (tLRPC$TL_forumTopic2 != null && tLRPC$TL_forumTopic2.id == this.topicId) {
                    tLRPC$TL_forumTopic = tLRPC$TL_forumTopic2;
                }
            }
            if (tLRPC$TL_forumTopic != null) {
                long j = tLRPC$TL_forumTopic.icon_emoji_id;
                if (j == 0 || (findDocument = AnimatedEmojiDrawable.findDocument(this.currentAccount, j)) == null || (createContainsEmojiBulletin = BulletinFactory.of(this).createContainsEmojiBulletin(findDocument, 1, new Utilities.Callback() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda37
                    @Override // org.telegram.messenger.Utilities.Callback
                    public final void run(Object obj) {
                        ProfileActivity.this.lambda$createView$17((TLRPC$InputStickerSet) obj);
                    }
                })) == null) {
                    return;
                }
                createContainsEmojiBulletin.show();
            }
        }
    }

    public /* synthetic */ boolean lambda$createView$19(View view) {
        if (this.avatarBig == null && !this.isTopic) {
            openAvatar();
        }
        return false;
    }

    public /* synthetic */ void lambda$createView$20(View view) {
        if (this.writeButton.getTag() != null) {
            return;
        }
        onWriteButtonClick();
    }

    public /* synthetic */ void lambda$createView$21(ValueAnimator valueAnimator) {
        setAvatarExpandProgress(valueAnimator.getAnimatedFraction());
    }

    public /* synthetic */ void lambda$createView$22(View view) {
        finishPreviewFragment();
    }

    public /* synthetic */ void lambda$createView$23(long j, ArrayList arrayList, boolean z) {
        getMessagesController().getStoriesController().updateStoriesPinned(j, arrayList, z, null);
    }

    public /* synthetic */ void lambda$createView$24(boolean[] zArr, ArrayList arrayList, boolean[] zArr2, long j) {
        zArr[0] = true;
        AndroidUtilities.cancelRunOnUIThread(this.applyBulletin);
        for (int i = 0; i < arrayList.size(); i++) {
            ((TL_stories$StoryItem) arrayList.get(i)).pinned = zArr2[i];
        }
        getMessagesController().getStoriesController().updateStoriesInLists(j, arrayList);
    }

    public /* synthetic */ void lambda$createView$25(boolean[] zArr) {
        Runnable runnable;
        if (!zArr[0] && (runnable = this.applyBulletin) != null) {
            runnable.run();
        }
        this.applyBulletin = null;
    }

    public /* synthetic */ void lambda$createView$26(int i, View view) {
        int i2;
        if (i == 0 && !this.sharedMediaLayout.isActionModeShown()) {
            if (!getMessagesController().storiesEnabled()) {
                showDialog(new PremiumFeatureBottomSheet(this, 14, true));
                return;
            }
            getMessagesController().getMainSettings().edit().putBoolean("story_keep", true).apply();
            StoryRecorder.getInstance(getParentActivity(), getCurrentAccount()).closeToWhenSent(new StoryRecorder.ClosingViewProvider() { // from class: org.telegram.ui.ProfileActivity.33
                {
                    ProfileActivity.this = this;
                }

                @Override // org.telegram.ui.Stories.recorder.StoryRecorder.ClosingViewProvider
                public StoryRecorder.SourceView getView(long j) {
                    if (j != ProfileActivity.this.getDialogId()) {
                        return null;
                    }
                    ProfileActivity.this.updateAvatarRoundRadius();
                    return StoryRecorder.SourceView.fromAvatarImage(ProfileActivity.this.avatarImage, ChatObject.isForum(ProfileActivity.this.currentChat));
                }

                @Override // org.telegram.ui.Stories.recorder.StoryRecorder.ClosingViewProvider
                public void preLayout(long j, Runnable runnable) {
                    ProfileActivity.this.avatarImage.setHasStories(ProfileActivity.this.needInsetForStories());
                    if (j == ProfileActivity.this.getDialogId()) {
                        ProfileActivity.this.collapseAvatarInstant();
                    }
                    AndroidUtilities.runOnUIThread(runnable, 30L);
                }
            }).open(null);
            return;
        }
        final long clientUserId = getUserConfig().getClientUserId();
        Runnable runnable = this.applyBulletin;
        if (runnable != null) {
            runnable.run();
            this.applyBulletin = null;
        }
        Bulletin.hideVisible();
        boolean z = this.sharedMediaLayout.getClosestTab() == 9;
        final ArrayList arrayList = new ArrayList();
        SparseArray<MessageObject> actionModeSelected = this.sharedMediaLayout.getActionModeSelected();
        if (actionModeSelected != null) {
            int i3 = 0;
            for (int i4 = 0; i4 < actionModeSelected.size(); i4++) {
                TL_stories$StoryItem tL_stories$StoryItem = actionModeSelected.valueAt(i4).storyItem;
                if (tL_stories$StoryItem != null) {
                    arrayList.add(tL_stories$StoryItem);
                    i3++;
                }
            }
            i2 = i3;
        } else {
            i2 = 0;
        }
        this.sharedMediaLayout.closeActionMode(false);
        if (z) {
            this.sharedMediaLayout.scrollToPage(8);
        }
        if (arrayList.isEmpty()) {
            return;
        }
        final boolean[] zArr = new boolean[arrayList.size()];
        for (int i5 = 0; i5 < arrayList.size(); i5++) {
            TL_stories$StoryItem tL_stories$StoryItem2 = (TL_stories$StoryItem) arrayList.get(i5);
            zArr[i5] = tL_stories$StoryItem2.pinned;
            tL_stories$StoryItem2.pinned = z;
        }
        getMessagesController().getStoriesController().updateStoriesInLists(clientUserId, arrayList);
        final boolean[] zArr2 = {false};
        final boolean z2 = z;
        this.applyBulletin = new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda38
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$createView$23(clientUserId, arrayList, z2);
            }
        };
        Runnable runnable2 = new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda39
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$createView$24(zArr2, arrayList, zArr, clientUserId);
            }
        };
        BulletinFactory of = BulletinFactory.of(this);
        (z ? of.createSimpleBulletin(R.raw.contact_check, LocaleController.formatPluralString("StorySavedTitle", i2, new Object[0]), LocaleController.getString(R.string.StorySavedSubtitle), LocaleController.getString(R.string.Undo), runnable2) : of.createSimpleBulletin(R.raw.chats_archived, LocaleController.formatPluralString("StoryArchived", i2, new Object[0]), LocaleController.getString(R.string.Undo), 5000, runnable2)).show().setOnHideListener(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda40
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$createView$25(zArr2);
            }
        });
    }

    public static /* synthetic */ void lambda$createView$6(CheckBoxCell[] checkBoxCellArr, View view) {
        CheckBoxCell checkBoxCell = checkBoxCellArr[0];
        checkBoxCell.setChecked(!checkBoxCell.isChecked(), true);
    }

    public /* synthetic */ void lambda$createView$7() {
        updateListAnimated(false);
    }

    public /* synthetic */ boolean lambda$createView$8(Context context, BaseFragment baseFragment, TLRPC$TL_error tLRPC$TL_error) {
        if (tLRPC$TL_error == null || !"INVITE_REQUEST_SENT".equals(tLRPC$TL_error.text)) {
            return true;
        }
        SharedPreferences.Editor edit = MessagesController.getNotificationsSettings(this.currentAccount).edit();
        edit.putLong("dialog_join_requested_time_" + this.dialogId, System.currentTimeMillis()).commit();
        JoinGroupAlert.showBulletin(context, this, ChatObject.isChannel(this.currentChat) && !this.currentChat.megagroup);
        updateListAnimated(false);
        if (baseFragment instanceof ChatActivity) {
            ((ChatActivity) baseFragment).showBottomOverlayProgress(false, true);
        }
        return false;
    }

    public /* synthetic */ void lambda$createView$9(DialogInterface dialogInterface, int i) {
        SharedConfig.pushAuthKey = null;
        SharedConfig.pushAuthKeyId = null;
        SharedConfig.saveConfig();
        getConnectionsManager().switchBackend(true);
    }

    public /* synthetic */ void lambda$didReceivedNotification$66(Object[] objArr) {
        NotificationCenter notificationCenter = getNotificationCenter();
        int i = NotificationCenter.closeChats;
        notificationCenter.removeObserver(this, i);
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(i, new Object[0]);
        Bundle bundle = new Bundle();
        bundle.putInt("enc_id", ((TLRPC$EncryptedChat) objArr[0]).id);
        presentFragment(new ChatActivity(bundle), true);
    }

    public /* synthetic */ void lambda$didReceivedNotification$67() {
        updateListAnimated(false);
    }

    public /* synthetic */ void lambda$didUploadPhoto$79(TLRPC$TL_error tLRPC$TL_error, TLObject tLObject, String str) {
        if (tLRPC$TL_error == null) {
            TLRPC$User user = getMessagesController().getUser(Long.valueOf(getUserConfig().getClientUserId()));
            if (user == null) {
                user = getUserConfig().getCurrentUser();
                if (user == null) {
                    return;
                }
                getMessagesController().putUser(user, false);
            } else {
                getUserConfig().setCurrentUser(user);
            }
            TLRPC$TL_photos_photo tLRPC$TL_photos_photo = (TLRPC$TL_photos_photo) tLObject;
            ArrayList arrayList = tLRPC$TL_photos_photo.photo.sizes;
            TLRPC$PhotoSize closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(arrayList, 150);
            TLRPC$PhotoSize closestPhotoSizeWithSize2 = FileLoader.getClosestPhotoSizeWithSize(arrayList, 800);
            TLRPC$VideoSize closestVideoSizeWithSize = tLRPC$TL_photos_photo.photo.video_sizes.isEmpty() ? null : FileLoader.getClosestVideoSizeWithSize(tLRPC$TL_photos_photo.photo.video_sizes, 1000);
            TLRPC$TL_userProfilePhoto tLRPC$TL_userProfilePhoto = new TLRPC$TL_userProfilePhoto();
            user.photo = tLRPC$TL_userProfilePhoto;
            tLRPC$TL_userProfilePhoto.photo_id = tLRPC$TL_photos_photo.photo.id;
            if (closestPhotoSizeWithSize != null) {
                tLRPC$TL_userProfilePhoto.photo_small = closestPhotoSizeWithSize.location;
            }
            if (closestPhotoSizeWithSize2 != null) {
                tLRPC$TL_userProfilePhoto.photo_big = closestPhotoSizeWithSize2.location;
            }
            if (closestPhotoSizeWithSize != null && this.avatar != null) {
                FileLoader.getInstance(this.currentAccount).getPathToAttach(this.avatar, true).renameTo(FileLoader.getInstance(this.currentAccount).getPathToAttach(closestPhotoSizeWithSize, true));
                ImageLoader.getInstance().replaceImageInCache(this.avatar.volume_id + "_" + this.avatar.local_id + "@50_50", closestPhotoSizeWithSize.location.volume_id + "_" + closestPhotoSizeWithSize.location.local_id + "@50_50", ImageLocation.getForUserOrChat(user, 1), false);
            }
            if (closestVideoSizeWithSize != null && str != null) {
                new File(str).renameTo(FileLoader.getInstance(this.currentAccount).getPathToAttach(closestVideoSizeWithSize, "mp4", true));
            } else if (closestPhotoSizeWithSize2 != null && this.avatarBig != null) {
                FileLoader.getInstance(this.currentAccount).getPathToAttach(this.avatarBig, true).renameTo(FileLoader.getInstance(this.currentAccount).getPathToAttach(closestPhotoSizeWithSize2, true));
            }
            getMessagesController().getDialogPhotos(user.id).addPhotoAtStart(tLRPC$TL_photos_photo.photo);
            ArrayList arrayList2 = new ArrayList();
            arrayList2.add(user);
            getMessagesStorage().putUsersAndChats(arrayList2, null, false, true);
            TLRPC$UserFull userFull = getMessagesController().getUserFull(this.userId);
            if (userFull != null) {
                userFull.profile_photo = tLRPC$TL_photos_photo.photo;
                getMessagesStorage().updateUserInfo(userFull, false);
            }
        }
        this.allowPullingDown = (AndroidUtilities.isTablet() || this.isInLandscapeMode || !this.avatarImage.getImageReceiver().hasNotThumb() || AndroidUtilities.isAccessibilityScreenReaderEnabled()) ? false : true;
        this.avatar = null;
        this.avatarBig = null;
        ProfileGalleryView profileGalleryView = this.avatarsViewPager;
        profileGalleryView.scrolledByUser = true;
        profileGalleryView.removeUploadingImage(this.uploadingImageLocation);
        this.avatarsViewPager.setCreateThumbFromParent(false);
        updateProfileData(true);
        showAvatarProgress(false, true);
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.updateInterfaces, Integer.valueOf(MessagesController.UPDATE_MASK_ALL));
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.mainUserInfoChanged, new Object[0]);
        getUserConfig().saveConfig(true);
    }

    public /* synthetic */ void lambda$didUploadPhoto$80(final String str, final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda91
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$didUploadPhoto$79(tLRPC$TL_error, tLObject, str);
            }
        });
    }

    public /* synthetic */ void lambda$didUploadPhoto$81(TLRPC$InputFile tLRPC$InputFile, TLRPC$InputFile tLRPC$InputFile2, TLRPC$VideoSize tLRPC$VideoSize, double d, final String str, TLRPC$PhotoSize tLRPC$PhotoSize, TLRPC$PhotoSize tLRPC$PhotoSize2) {
        if (tLRPC$InputFile == null && tLRPC$InputFile2 == null && tLRPC$VideoSize == null) {
            TLRPC$FileLocation tLRPC$FileLocation = tLRPC$PhotoSize.location;
            this.avatar = tLRPC$FileLocation;
            this.avatarBig = tLRPC$PhotoSize2.location;
            this.avatarImage.setImage(ImageLocation.getForLocal(tLRPC$FileLocation), "50_50", this.avatarDrawable, (Object) null);
            if (this.setAvatarRow != -1) {
                updateRowsIds();
                ListAdapter listAdapter = this.listAdapter;
                if (listAdapter != null) {
                    listAdapter.notifyDataSetChanged();
                }
                needLayout(true);
            }
            ProfileGalleryView profileGalleryView = this.avatarsViewPager;
            ImageLocation forLocal = ImageLocation.getForLocal(this.avatarBig);
            this.uploadingImageLocation = forLocal;
            profileGalleryView.addUploadingImage(forLocal, ImageLocation.getForLocal(this.avatar));
            showAvatarProgress(true, false);
        } else if (this.avatar == null) {
            return;
        } else {
            TLRPC$TL_photos_uploadProfilePhoto tLRPC$TL_photos_uploadProfilePhoto = new TLRPC$TL_photos_uploadProfilePhoto();
            if (tLRPC$InputFile != null) {
                tLRPC$TL_photos_uploadProfilePhoto.file = tLRPC$InputFile;
                tLRPC$TL_photos_uploadProfilePhoto.flags |= 1;
            }
            if (tLRPC$InputFile2 != null) {
                tLRPC$TL_photos_uploadProfilePhoto.video = tLRPC$InputFile2;
                int i = tLRPC$TL_photos_uploadProfilePhoto.flags;
                tLRPC$TL_photos_uploadProfilePhoto.video_start_ts = d;
                tLRPC$TL_photos_uploadProfilePhoto.flags = i | 6;
            }
            if (tLRPC$VideoSize != null) {
                tLRPC$TL_photos_uploadProfilePhoto.video_emoji_markup = tLRPC$VideoSize;
                tLRPC$TL_photos_uploadProfilePhoto.flags |= 16;
            }
            this.avatarUploadingRequest = getConnectionsManager().sendRequest(tLRPC$TL_photos_uploadProfilePhoto, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda67
                @Override // org.telegram.tgnet.RequestDelegate
                public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                    ProfileActivity.this.lambda$didUploadPhoto$80(str, tLObject, tLRPC$TL_error);
                }
            });
        }
        this.actionBar.createMenu().requestLayout();
    }

    public /* synthetic */ void lambda$dimBehindView$84(ValueAnimator valueAnimator) {
        this.scrimPaint.setAlpha((int) (((Float) valueAnimator.getAnimatedValue()).floatValue() * 255.0f));
    }

    public /* synthetic */ void lambda$editRow$100(final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda121
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$editRow$99(tLRPC$TL_error, tLObject);
            }
        });
    }

    public /* synthetic */ void lambda$editRow$101(TLRPC$UserFull tLRPC$UserFull, int i, DialogInterface dialogInterface, int i2) {
        TLRPC$TL_account_updateBusinessLocation tLRPC$TL_account_updateBusinessLocation = new TLRPC$TL_account_updateBusinessLocation();
        if (tLRPC$UserFull != null) {
            tLRPC$UserFull.business_location = null;
            tLRPC$UserFull.flags2 &= -3;
        }
        getConnectionsManager().sendRequest(tLRPC$TL_account_updateBusinessLocation, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda115
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                ProfileActivity.this.lambda$editRow$100(tLObject, tLRPC$TL_error);
            }
        });
        updateRowsIds();
        this.listAdapter.notifyItemRemoved(i);
        getMessagesStorage().updateUserInfo(tLRPC$UserFull, false);
    }

    public /* synthetic */ void lambda$editRow$102(final TLRPC$UserFull tLRPC$UserFull, final int i) {
        AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity());
        builder.setTitle(LocaleController.getString(R.string.BusinessLocationClearTitle));
        builder.setMessage(LocaleController.getString(R.string.BusinessLocationClearMessage));
        builder.setPositiveButton(LocaleController.getString(R.string.Remove), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda104
            @Override // android.content.DialogInterface.OnClickListener
            public final void onClick(DialogInterface dialogInterface, int i2) {
                ProfileActivity.this.lambda$editRow$101(tLRPC$UserFull, i, dialogInterface, i2);
            }
        });
        builder.setNegativeButton(LocaleController.getString(R.string.Cancel), null);
        showDialog(builder.create());
    }

    public /* synthetic */ void lambda$editRow$103() {
        presentFragment(new ChangeUsernameActivity());
    }

    public /* synthetic */ void lambda$editRow$104() {
        presentFragment(new UserInfoActivity());
    }

    public /* synthetic */ void lambda$editRow$105() {
        presentFragment(new ActionIntroActivity(3));
    }

    public /* synthetic */ void lambda$editRow$106(TLObject tLObject, TLRPC$UserFull tLRPC$UserFull, TLRPC$TL_birthday tLRPC$TL_birthday, TLRPC$TL_error tLRPC$TL_error) {
        Bulletin createSimpleBulletin;
        String str;
        if (tLObject instanceof TLRPC$TL_boolTrue) {
            createSimpleBulletin = BulletinFactory.of(this).createSimpleBulletin(R.raw.contact_check, LocaleController.getString(R.string.PrivacyBirthdaySetDone)).setDuration(5000);
        } else {
            if (tLRPC$UserFull != null) {
                int i = tLRPC$UserFull.flags2;
                tLRPC$UserFull.flags2 = tLRPC$TL_birthday == null ? i & (-33) : i | 32;
                tLRPC$UserFull.birthday = tLRPC$TL_birthday;
                getMessagesStorage().updateUserInfo(tLRPC$UserFull, false);
            }
            if (tLRPC$TL_error != null && (str = tLRPC$TL_error.text) != null && str.startsWith("FLOOD_WAIT_")) {
                if (getContext() != null) {
                    showDialog(new AlertDialog.Builder(getContext(), this.resourceProvider).setTitle(LocaleController.getString(R.string.PrivacyBirthdayTooOftenTitle)).setMessage(LocaleController.getString(R.string.PrivacyBirthdayTooOftenMessage)).setPositiveButton(LocaleController.getString(R.string.OK), null).create());
                    return;
                }
                return;
            }
            createSimpleBulletin = BulletinFactory.of(this).createSimpleBulletin(R.raw.error, LocaleController.getString(R.string.UnknownError));
        }
        createSimpleBulletin.show();
    }

    public /* synthetic */ void lambda$editRow$107(final TLRPC$UserFull tLRPC$UserFull, final TLRPC$TL_birthday tLRPC$TL_birthday, final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda120
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$editRow$106(tLObject, tLRPC$UserFull, tLRPC$TL_birthday, tLRPC$TL_error);
            }
        });
    }

    public /* synthetic */ void lambda$editRow$108(final TLRPC$UserFull tLRPC$UserFull, TLRPC$TL_birthday tLRPC$TL_birthday) {
        TLRPC$TL_account_updateBirthday tLRPC$TL_account_updateBirthday = new TLRPC$TL_account_updateBirthday();
        tLRPC$TL_account_updateBirthday.flags |= 1;
        tLRPC$TL_account_updateBirthday.birthday = tLRPC$TL_birthday;
        final TLRPC$TL_birthday tLRPC$TL_birthday2 = tLRPC$UserFull != null ? tLRPC$UserFull.birthday : null;
        if (tLRPC$UserFull != null) {
            tLRPC$UserFull.flags2 |= 32;
            tLRPC$UserFull.birthday = tLRPC$TL_birthday;
        }
        getMessagesController().invalidateContentSettings();
        getConnectionsManager().sendRequest(tLRPC$TL_account_updateBirthday, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda108
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                ProfileActivity.this.lambda$editRow$107(tLRPC$UserFull, tLRPC$TL_birthday2, tLObject, tLRPC$TL_error);
            }
        }, 1024);
    }

    public /* synthetic */ void lambda$editRow$109() {
        BaseFragment.BottomSheetParams bottomSheetParams = new BaseFragment.BottomSheetParams();
        bottomSheetParams.transitionFromLeft = true;
        bottomSheetParams.allowNestedScroll = false;
        showAsSheet(new PrivacyControlActivity(11), bottomSheetParams);
    }

    public /* synthetic */ void lambda$editRow$110(final TLRPC$UserFull tLRPC$UserFull) {
        showDialog(AlertsCreator.createBirthdayPickerDialog(getContext(), LocaleController.getString(R.string.EditProfileBirthdayTitle), LocaleController.getString(R.string.EditProfileBirthdayButton), tLRPC$UserFull.birthday, new Utilities.Callback() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda95
            @Override // org.telegram.messenger.Utilities.Callback
            public final void run(Object obj) {
                ProfileActivity.this.lambda$editRow$108(tLRPC$UserFull, (TLRPC$TL_birthday) obj);
            }
        }, new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda96
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$editRow$109();
            }
        }, getResourceProvider()).create());
    }

    public /* synthetic */ void lambda$editRow$111(TLRPC$TL_error tLRPC$TL_error, TLObject tLObject) {
        if (tLRPC$TL_error != null) {
            BulletinFactory.showError(tLRPC$TL_error);
        } else if (tLObject instanceof TLRPC$TL_boolFalse) {
            BulletinFactory.of(this).createErrorBulletin(LocaleController.getString(R.string.UnknownError)).show();
        }
    }

    public /* synthetic */ void lambda$editRow$112(final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda119
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$editRow$111(tLRPC$TL_error, tLObject);
            }
        });
    }

    public /* synthetic */ void lambda$editRow$113(TLRPC$UserFull tLRPC$UserFull, DialogInterface dialogInterface, int i) {
        TLRPC$TL_account_updateBirthday tLRPC$TL_account_updateBirthday = new TLRPC$TL_account_updateBirthday();
        if (tLRPC$UserFull != null) {
            tLRPC$UserFull.birthday = null;
            tLRPC$UserFull.flags2 &= -33;
        }
        getMessagesController().invalidateContentSettings();
        getConnectionsManager().sendRequest(tLRPC$TL_account_updateBirthday, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda113
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                ProfileActivity.this.lambda$editRow$112(tLObject, tLRPC$TL_error);
            }
        });
        updateListAnimated(false);
        getMessagesStorage().updateUserInfo(tLRPC$UserFull, false);
    }

    public /* synthetic */ void lambda$editRow$114(final TLRPC$UserFull tLRPC$UserFull) {
        AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity());
        builder.setTitle(LocaleController.getString(R.string.BirthdayClearTitle));
        builder.setMessage(LocaleController.getString(R.string.BirthdayClearMessage));
        builder.setPositiveButton(LocaleController.getString(R.string.Remove), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda97
            @Override // android.content.DialogInterface.OnClickListener
            public final void onClick(DialogInterface dialogInterface, int i) {
                ProfileActivity.this.lambda$editRow$113(tLRPC$UserFull, dialogInterface, i);
            }
        });
        builder.setNegativeButton(LocaleController.getString(R.string.Cancel), null);
        showDialog(builder.create());
    }

    public /* synthetic */ void lambda$editRow$115(TLRPC$Chat tLRPC$Chat) {
        AndroidUtilities.addToClipboard("https://" + getMessagesController().linkPrefix + "/" + ChatObject.getPublicUsername(tLRPC$Chat));
    }

    public /* synthetic */ void lambda$editRow$116() {
        presentFragment(new UserInfoActivity());
    }

    public /* synthetic */ void lambda$editRow$117(TLRPC$TL_error tLRPC$TL_error, TLObject tLObject) {
        if (tLRPC$TL_error != null) {
            BulletinFactory.showError(tLRPC$TL_error);
        } else if (tLObject instanceof TLRPC$TL_boolFalse) {
            BulletinFactory.of(this).createErrorBulletin(LocaleController.getString(R.string.UnknownError)).show();
        }
    }

    public /* synthetic */ void lambda$editRow$118(final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda118
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$editRow$117(tLRPC$TL_error, tLObject);
            }
        });
    }

    public /* synthetic */ void lambda$editRow$119(TLRPC$UserFull tLRPC$UserFull, DialogInterface dialogInterface, int i) {
        TLRPC$TL_account_updatePersonalChannel tLRPC$TL_account_updatePersonalChannel = new TLRPC$TL_account_updatePersonalChannel();
        tLRPC$TL_account_updatePersonalChannel.channel = new TLRPC$TL_inputChannelEmpty();
        if (tLRPC$UserFull != null) {
            tLRPC$UserFull.personal_channel_id = 0L;
            tLRPC$UserFull.personal_channel_message = 0;
            tLRPC$UserFull.flags2 &= -65;
        }
        getConnectionsManager().sendRequest(tLRPC$TL_account_updatePersonalChannel, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda114
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                ProfileActivity.this.lambda$editRow$118(tLObject, tLRPC$TL_error);
            }
        });
        updateListAnimated(false);
        getMessagesStorage().updateUserInfo(tLRPC$UserFull, false);
    }

    public /* synthetic */ void lambda$editRow$120(final TLRPC$UserFull tLRPC$UserFull) {
        AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity());
        builder.setTitle(LocaleController.getString(R.string.ProfileChannelClearTitle));
        builder.setMessage(LocaleController.getString(R.string.ProfileChannelClearMessage));
        builder.setPositiveButton(LocaleController.getString(R.string.Remove), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda92
            @Override // android.content.DialogInterface.OnClickListener
            public final void onClick(DialogInterface dialogInterface, int i) {
                ProfileActivity.this.lambda$editRow$119(tLRPC$UserFull, dialogInterface, i);
            }
        });
        builder.setNegativeButton(LocaleController.getString(R.string.Cancel), null);
        showDialog(builder.create());
    }

    public /* synthetic */ void lambda$editRow$90() {
        openLocation(false);
    }

    public /* synthetic */ void lambda$editRow$91() {
        openLocation(true);
    }

    public /* synthetic */ void lambda$editRow$93() {
        presentFragment(new OpeningHoursActivity());
    }

    public /* synthetic */ void lambda$editRow$94(TLRPC$TL_error tLRPC$TL_error, TLObject tLObject) {
        if (tLRPC$TL_error != null) {
            BulletinFactory.showError(tLRPC$TL_error);
        } else if (tLObject instanceof TLRPC$TL_boolFalse) {
            BulletinFactory.of(this).createErrorBulletin(LocaleController.getString(R.string.UnknownError)).show();
        }
    }

    public /* synthetic */ void lambda$editRow$95(final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda117
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$editRow$94(tLRPC$TL_error, tLObject);
            }
        });
    }

    public /* synthetic */ void lambda$editRow$96(TLRPC$UserFull tLRPC$UserFull, int i, DialogInterface dialogInterface, int i2) {
        TLRPC$TL_account_updateBusinessWorkHours tLRPC$TL_account_updateBusinessWorkHours = new TLRPC$TL_account_updateBusinessWorkHours();
        if (tLRPC$UserFull != null) {
            tLRPC$UserFull.business_work_hours = null;
            tLRPC$UserFull.flags2 &= -2;
        }
        getConnectionsManager().sendRequest(tLRPC$TL_account_updateBusinessWorkHours, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda116
            @Override // org.telegram.tgnet.RequestDelegate
            public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                ProfileActivity.this.lambda$editRow$95(tLObject, tLRPC$TL_error);
            }
        });
        updateRowsIds();
        this.listAdapter.notifyItemRemoved(i);
        getMessagesStorage().updateUserInfo(tLRPC$UserFull, false);
    }

    public /* synthetic */ void lambda$editRow$97(final TLRPC$UserFull tLRPC$UserFull, final int i) {
        AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity());
        builder.setTitle(LocaleController.getString(R.string.BusinessHoursClearTitle));
        builder.setMessage(LocaleController.getString(R.string.BusinessHoursClearMessage));
        builder.setPositiveButton(LocaleController.getString(R.string.Remove), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda103
            @Override // android.content.DialogInterface.OnClickListener
            public final void onClick(DialogInterface dialogInterface, int i2) {
                ProfileActivity.this.lambda$editRow$96(tLRPC$UserFull, i, dialogInterface, i2);
            }
        });
        builder.setNegativeButton(LocaleController.getString(R.string.Cancel), null);
        showDialog(builder.create());
    }

    public /* synthetic */ void lambda$editRow$98() {
        presentFragment(new org.telegram.ui.Business.LocationActivity());
    }

    public /* synthetic */ void lambda$editRow$99(TLRPC$TL_error tLRPC$TL_error, TLObject tLObject) {
        if (tLRPC$TL_error != null) {
            BulletinFactory.showError(tLRPC$TL_error);
        } else if (tLObject instanceof TLRPC$TL_boolFalse) {
            BulletinFactory.of(this).createErrorBulletin(LocaleController.getString(R.string.UnknownError)).show();
        }
    }

    public /* synthetic */ void lambda$getChannelParticipants$58(TLRPC$TL_error tLRPC$TL_error, TLObject tLObject, TLRPC$TL_channels_getParticipants tLRPC$TL_channels_getParticipants) {
        if (tLRPC$TL_error == null) {
            TLRPC$TL_channels_channelParticipants tLRPC$TL_channels_channelParticipants = (TLRPC$TL_channels_channelParticipants) tLObject;
            getMessagesController().putUsers(tLRPC$TL_channels_channelParticipants.users, false);
            getMessagesController().putChats(tLRPC$TL_channels_channelParticipants.chats, false);
            if (tLRPC$TL_channels_channelParticipants.users.size() < 200) {
                this.usersEndReached = true;
            }
            if (tLRPC$TL_channels_getParticipants.offset == 0) {
                this.participantsMap.clear();
                this.chatInfo.participants = new TLRPC$TL_chatParticipants();
                getMessagesStorage().putUsersAndChats(tLRPC$TL_channels_channelParticipants.users, tLRPC$TL_channels_channelParticipants.chats, true, true);
                getMessagesStorage().updateChannelUsers(this.chatId, tLRPC$TL_channels_channelParticipants.participants);
            }
            for (int i = 0; i < tLRPC$TL_channels_channelParticipants.participants.size(); i++) {
                TLRPC$TL_chatChannelParticipant tLRPC$TL_chatChannelParticipant = new TLRPC$TL_chatChannelParticipant();
                TLRPC$ChannelParticipant tLRPC$ChannelParticipant = (TLRPC$ChannelParticipant) tLRPC$TL_channels_channelParticipants.participants.get(i);
                tLRPC$TL_chatChannelParticipant.channelParticipant = tLRPC$ChannelParticipant;
                tLRPC$TL_chatChannelParticipant.inviter_id = tLRPC$ChannelParticipant.inviter_id;
                long peerId = MessageObject.getPeerId(tLRPC$ChannelParticipant.peer);
                tLRPC$TL_chatChannelParticipant.user_id = peerId;
                tLRPC$TL_chatChannelParticipant.date = tLRPC$TL_chatChannelParticipant.channelParticipant.date;
                if (this.participantsMap.indexOfKey(peerId) < 0) {
                    TLRPC$ChatFull tLRPC$ChatFull = this.chatInfo;
                    if (tLRPC$ChatFull.participants == null) {
                        tLRPC$ChatFull.participants = new TLRPC$TL_chatParticipants();
                    }
                    this.chatInfo.participants.participants.add(tLRPC$TL_chatChannelParticipant);
                    this.participantsMap.put(tLRPC$TL_chatChannelParticipant.user_id, tLRPC$TL_chatChannelParticipant);
                }
            }
        }
        this.loadingUsers = false;
        saveScrollPosition();
        updateListAnimated(true);
    }

    public /* synthetic */ void lambda$getChannelParticipants$59(final TLRPC$TL_error tLRPC$TL_error, final TLObject tLObject, final TLRPC$TL_channels_getParticipants tLRPC$TL_channels_getParticipants) {
        getNotificationCenter().doOnIdle(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda72
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$getChannelParticipants$58(tLRPC$TL_error, tLObject, tLRPC$TL_channels_getParticipants);
            }
        });
    }

    public /* synthetic */ void lambda$getChannelParticipants$60(final TLRPC$TL_channels_getParticipants tLRPC$TL_channels_getParticipants, int i, final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda49
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$getChannelParticipants$59(tLRPC$TL_error, tLObject, tLRPC$TL_channels_getParticipants);
            }
        }, i);
    }

    public /* synthetic */ void lambda$getThemeDescriptions$85() {
        SimpleTextView simpleTextView;
        int themedColor;
        Boolean bool;
        RecyclerListView recyclerListView = this.listView;
        if (recyclerListView != null) {
            int childCount = recyclerListView.getChildCount();
            for (int i = 0; i < childCount; i++) {
                View childAt = this.listView.getChildAt(i);
                if (childAt instanceof UserCell) {
                    ((UserCell) childAt).update(0);
                }
            }
        }
        if (!this.isPulledDown) {
            SimpleTextView simpleTextView2 = this.onlineTextView[1];
            if (simpleTextView2 != null) {
                Object tag = simpleTextView2.getTag();
                for (int i2 = 0; i2 < 2; i2++) {
                    if (tag instanceof Integer) {
                        simpleTextView = this.onlineTextView[i2 + 1];
                        themedColor = getThemedColor(((Integer) tag).intValue());
                        bool = Boolean.valueOf(this.isOnline[0]);
                    } else {
                        simpleTextView = this.onlineTextView[i2 + 1];
                        themedColor = getThemedColor(Theme.key_avatar_subtitleInProfileBlue);
                        bool = Boolean.TRUE;
                    }
                    simpleTextView.setTextColor(applyPeerColor(themedColor, true, bool));
                }
            }
            Drawable drawable = this.lockIconDrawable;
            if (drawable != null) {
                drawable.setColorFilter(getThemedColor(Theme.key_chat_lockIcon), PorterDuff.Mode.MULTIPLY);
            }
            ScamDrawable scamDrawable = this.scamDrawable;
            if (scamDrawable != null) {
                scamDrawable.setColor(getThemedColor(Theme.key_avatar_subtitleInProfileBlue));
            }
            SimpleTextView simpleTextView3 = this.nameTextView[1];
            if (simpleTextView3 != null) {
                simpleTextView3.setTextColor(getThemedColor(Theme.key_profile_title));
            }
            ActionBar actionBar = this.actionBar;
            if (actionBar != null) {
                actionBar.setItemsColor(this.peerColor != null ? -1 : getThemedColor(Theme.key_actionBarDefaultIcon), false);
                this.actionBar.setItemsBackgroundColor(this.peerColor != null ? 553648127 : getThemedColor(Theme.key_avatar_actionBarSelectorBlue), false);
            }
        }
        updateEmojiStatusDrawableColor();
    }

    public /* synthetic */ void lambda$hideFloatingButton$33(ValueAnimator valueAnimator) {
        this.floatingButtonHideProgress = ((Float) valueAnimator.getAnimatedValue()).floatValue();
        updateFloatingButtonOffset();
    }

    public /* synthetic */ void lambda$leaveChatPressed$57(boolean z) {
        this.playProfileAnimation = 0;
        NotificationCenter notificationCenter = getNotificationCenter();
        int i = NotificationCenter.closeChats;
        notificationCenter.removeObserver(this, i);
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(i, new Object[0]);
        finishFragment();
        getNotificationCenter().lambda$postNotificationNameOnUIThread$1(NotificationCenter.needDeleteDialog, Long.valueOf(-this.currentChat.id), null, this.currentChat, Boolean.valueOf(z));
    }

    public /* synthetic */ void lambda$onCustomTransitionAnimation$68(ValueAnimator valueAnimator) {
        View view = this.fragmentView;
        if (view != null) {
            view.invalidate();
        }
        updateStoriesViewBounds(true);
    }

    public /* synthetic */ void lambda$onFragmentCreate$0(CountDownLatch countDownLatch) {
        this.currentChat = getMessagesStorage().getChat(this.chatId);
        countDownLatch.countDown();
    }

    public /* synthetic */ void lambda$onFragmentCreate$1(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject instanceof TLRPC$TL_account_password) {
            this.currentPassword = (TLRPC$TL_account_password) tLObject;
        }
    }

    public /* synthetic */ void lambda$onMemberClick$36(TLRPC$ChannelParticipant tLRPC$ChannelParticipant, TLRPC$User tLRPC$User, TLRPC$ChatParticipant tLRPC$ChatParticipant, boolean z, Integer num) {
        if (tLRPC$ChannelParticipant != null) {
            openRightsEdit(num.intValue(), tLRPC$User, tLRPC$ChatParticipant, tLRPC$ChannelParticipant.admin_rights, tLRPC$ChannelParticipant.banned_rights, tLRPC$ChannelParticipant.rank, z);
        } else {
            openRightsEdit(num.intValue(), tLRPC$User, tLRPC$ChatParticipant, null, null, "", z);
        }
    }

    public static /* synthetic */ void lambda$onMemberClick$37(Utilities.Callback callback) {
        callback.run(0);
    }

    public static /* synthetic */ void lambda$onMemberClick$38(Utilities.Callback callback, DialogInterface dialogInterface, int i) {
        callback.run(1);
    }

    public /* synthetic */ void lambda$onMemberClick$39(TLRPC$ChannelParticipant tLRPC$ChannelParticipant, TLRPC$ChatParticipant tLRPC$ChatParticipant, TLRPC$User tLRPC$User, final Utilities.Callback callback) {
        if ((tLRPC$ChannelParticipant instanceof TLRPC$TL_channelParticipantAdmin) || (tLRPC$ChatParticipant instanceof TLRPC$TL_chatParticipantAdmin)) {
            showDialog(new AlertDialog.Builder(getParentActivity(), this.resourcesProvider).setTitle(LocaleController.getString(R.string.AppName)).setMessage(LocaleController.formatString("AdminWillBeRemoved", R.string.AdminWillBeRemoved, ContactsController.formatName(tLRPC$User.first_name, tLRPC$User.last_name))).setPositiveButton(LocaleController.getString(R.string.OK), new DialogInterface.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda105
                @Override // android.content.DialogInterface.OnClickListener
                public final void onClick(DialogInterface dialogInterface, int i) {
                    ProfileActivity.lambda$onMemberClick$38(Utilities.Callback.this, dialogInterface, i);
                }
            }).setNegativeButton(LocaleController.getString(R.string.Cancel), null).create());
        } else {
            callback.run(1);
        }
    }

    public /* synthetic */ void lambda$onMemberClick$40(TLRPC$ChatParticipant tLRPC$ChatParticipant) {
        kickUser(this.selectedUser, tLRPC$ChatParticipant);
    }

    public /* synthetic */ void lambda$onTextDetailCellImageClicked$86(AlertDialog alertDialog, TLRPC$User tLRPC$User, List list) {
        alertDialog.dismiss();
        if (getVisibleDialog() != null) {
            return;
        }
        List filterGiftOptionsByBilling = BoostRepository.filterGiftOptionsByBilling(BoostRepository.filterGiftOptions(list, 1));
        ArrayList arrayList = new ArrayList();
        arrayList.add(tLRPC$User);
        PremiumPreviewGiftToUsersBottomSheet.show(arrayList, filterGiftOptionsByBilling);
    }

    public /* synthetic */ void lambda$onTextDetailCellImageClicked$87(int i, DialogInterface dialogInterface) {
        getConnectionsManager().cancelRequest(i, true);
    }

    public /* synthetic */ void lambda$onWriteButtonClick$34() {
        MessagesController.getInstance(this.currentAccount).deleteUserPhoto(null);
        this.cameraDrawable.setCurrentFrame(0);
        this.cellCameraDrawable.setCurrentFrame(0);
    }

    public /* synthetic */ void lambda$onWriteButtonClick$35(DialogInterface dialogInterface) {
        if (this.imageUpdater.isUploadingImage()) {
            this.cameraDrawable.setCurrentFrame(0, false);
            this.cellCameraDrawable.setCurrentFrame(0, false);
            return;
        }
        this.cameraDrawable.setCustomEndFrame(86);
        this.cellCameraDrawable.setCustomEndFrame(86);
        this.writeButton.playAnimation();
        TextCell textCell = this.setAvatarCell;
        if (textCell != null) {
            textCell.getImageView().playAnimation();
        }
    }

    public /* synthetic */ void lambda$openAddMember$63(TLRPC$User tLRPC$User) {
        for (int i = 0; i < this.chatInfo.participants.participants.size(); i++) {
            if (((TLRPC$ChatParticipant) this.chatInfo.participants.participants.get(i)).user_id == tLRPC$User.id) {
                this.chatInfo.participants.participants.remove(i);
                updateListAnimated(true);
                return;
            }
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    public /* synthetic */ void lambda$openAddMember$64(ArrayList arrayList, HashSet hashSet) {
        TLRPC$TL_chatParticipant tLRPC$TL_chatParticipant;
        int size = arrayList.size();
        for (int i = 0; i < size; i++) {
            TLRPC$User tLRPC$User = (TLRPC$User) arrayList.get(i);
            if (!hashSet.contains(Long.valueOf(tLRPC$User.id))) {
                TLRPC$ChatFull tLRPC$ChatFull = this.chatInfo;
                if (tLRPC$ChatFull.participants == null) {
                    tLRPC$ChatFull.participants = new TLRPC$TL_chatParticipants();
                }
                if (ChatObject.isChannel(this.currentChat)) {
                    TLRPC$TL_chatChannelParticipant tLRPC$TL_chatChannelParticipant = new TLRPC$TL_chatChannelParticipant();
                    TLRPC$TL_channelParticipant tLRPC$TL_channelParticipant = new TLRPC$TL_channelParticipant();
                    tLRPC$TL_chatChannelParticipant.channelParticipant = tLRPC$TL_channelParticipant;
                    tLRPC$TL_channelParticipant.inviter_id = getUserConfig().getClientUserId();
                    tLRPC$TL_chatChannelParticipant.channelParticipant.peer = new TLRPC$TL_peerUser();
                    TLRPC$ChannelParticipant tLRPC$ChannelParticipant = tLRPC$TL_chatChannelParticipant.channelParticipant;
                    tLRPC$ChannelParticipant.peer.user_id = tLRPC$User.id;
                    tLRPC$ChannelParticipant.date = getConnectionsManager().getCurrentTime();
                    tLRPC$TL_chatChannelParticipant.user_id = tLRPC$User.id;
                    tLRPC$TL_chatParticipant = tLRPC$TL_chatChannelParticipant;
                } else {
                    TLRPC$TL_chatParticipant tLRPC$TL_chatParticipant2 = new TLRPC$TL_chatParticipant();
                    tLRPC$TL_chatParticipant2.user_id = tLRPC$User.id;
                    tLRPC$TL_chatParticipant2.inviter_id = getAccountInstance().getUserConfig().clientUserId;
                    tLRPC$TL_chatParticipant = tLRPC$TL_chatParticipant2;
                }
                this.chatInfo.participants.participants.add(tLRPC$TL_chatParticipant);
                this.chatInfo.participants_count++;
                getMessagesController().putUser(tLRPC$User, false);
            }
        }
        updateListAnimated(true);
    }

    public /* synthetic */ void lambda$openAddMember$65(ArrayList arrayList, int i) {
        TLRPC$ChatParticipants tLRPC$ChatParticipants;
        final HashSet hashSet = new HashSet();
        final ArrayList arrayList2 = new ArrayList();
        TLRPC$ChatFull tLRPC$ChatFull = this.chatInfo;
        if (tLRPC$ChatFull != null && (tLRPC$ChatParticipants = tLRPC$ChatFull.participants) != null && tLRPC$ChatParticipants.participants != null) {
            for (int i2 = 0; i2 < this.chatInfo.participants.participants.size(); i2++) {
                hashSet.add(Long.valueOf(((TLRPC$ChatParticipant) this.chatInfo.participants.participants.get(i2)).user_id));
            }
        }
        getMessagesController().addUsersToChat(this.currentChat, this, arrayList, i, new androidx.core.util.Consumer() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda99
            @Override // androidx.core.util.Consumer
            public final void accept(Object obj) {
                arrayList2.add((TLRPC$User) obj);
            }
        }, new androidx.core.util.Consumer() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda100
            @Override // androidx.core.util.Consumer
            public final void accept(Object obj) {
                ProfileActivity.this.lambda$openAddMember$63((TLRPC$User) obj);
            }
        }, new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda101
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$openAddMember$64(arrayList2, hashSet);
            }
        });
    }

    public /* synthetic */ void lambda$openAddToContact$88(TLRPC$User tLRPC$User) {
        if (this.addToContactsRow >= 0) {
            if (this.sharedMediaRow == -1) {
                updateRowsIds();
                this.listAdapter.notifyDataSetChanged();
            } else {
                updateListAnimated(false);
            }
        }
        if (this.sharedMediaRow == -1) {
            if (this.isInLandscapeMode || AndroidUtilities.isTablet()) {
                this.listView.setPadding(0, AndroidUtilities.dp(88.0f), 0, 0);
                this.expandAnimator.cancel();
                float[] fArr = this.expandAnimatorValues;
                fArr[0] = 1.0f;
                fArr[1] = 0.0f;
                setAvatarExpandProgress(1.0f);
                this.extraHeight = AndroidUtilities.dp(88.0f);
            } else {
                int currentActionBarHeight = ActionBar.getCurrentActionBarHeight() + (this.actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0);
                int makeMeasureSpec = View.MeasureSpec.makeMeasureSpec(this.listView.getMeasuredWidth(), 1073741824);
                int makeMeasureSpec2 = View.MeasureSpec.makeMeasureSpec(this.listView.getMeasuredHeight(), 0);
                int i = 0;
                for (int i2 = 0; i2 < this.listAdapter.getItemCount(); i2++) {
                    ListAdapter listAdapter = this.listAdapter;
                    RecyclerView.ViewHolder createViewHolder = listAdapter.createViewHolder(null, listAdapter.getItemViewType(i2));
                    this.listAdapter.onBindViewHolder(createViewHolder, i2);
                    createViewHolder.itemView.measure(makeMeasureSpec, makeMeasureSpec2);
                    i += createViewHolder.itemView.getMeasuredHeight();
                }
                int max = Math.max(0, this.fragmentView.getMeasuredHeight() - ((i + AndroidUtilities.dp(88.0f)) + currentActionBarHeight));
                RecyclerListView recyclerListView = this.listView;
                recyclerListView.setPadding(0, recyclerListView.getPaddingTop(), 0, max);
            }
        }
        this.undoView.showWithAction(this.dialogId, 8, tLRPC$User);
    }

    public /* synthetic */ void lambda$processOnClickOrPress$41(TL_fragment$TL_collectibleInfo tL_fragment$TL_collectibleInfo) {
        Bulletin.hideVisible();
        Browser.openUrl(getContext(), tL_fragment$TL_collectibleInfo.url);
    }

    public /* synthetic */ void lambda$processOnClickOrPress$42(TL_fragment$TL_collectibleInfo tL_fragment$TL_collectibleInfo, View view) {
        Bulletin.hideVisible();
        Browser.openUrl(getContext(), tL_fragment$TL_collectibleInfo.url);
    }

    public /* synthetic */ void lambda$processOnClickOrPress$43(TLObject tLObject, TLRPC$TL_username tLRPC$TL_username, ShareAlert shareAlert, TLRPC$TL_error tLRPC$TL_error) {
        String str;
        if (!(tLObject instanceof TL_fragment$TL_collectibleInfo)) {
            BulletinFactory.showError(tLRPC$TL_error);
            return;
        }
        final TL_fragment$TL_collectibleInfo tL_fragment$TL_collectibleInfo = (TL_fragment$TL_collectibleInfo) tLObject;
        if (this.userId != 0) {
            getMessagesController().getUser(Long.valueOf(this.userId));
        } else {
            getMessagesController().getChat(Long.valueOf(this.chatId));
        }
        String str2 = "@" + tLRPC$TL_username.username;
        String format = LocaleController.getInstance().getFormatterBoostExpired().format(new Date(tL_fragment$TL_collectibleInfo.purchase_date * 1000));
        String formatCurrency = BillingController.getInstance().formatCurrency(tL_fragment$TL_collectibleInfo.crypto_amount, tL_fragment$TL_collectibleInfo.crypto_currency);
        String formatCurrency2 = BillingController.getInstance().formatCurrency(tL_fragment$TL_collectibleInfo.amount, tL_fragment$TL_collectibleInfo.currency);
        BulletinFactory of = BulletinFactory.of(shareAlert.bulletinContainer2, this.resourcesProvider);
        int i = R.drawable.filled_username;
        int i2 = R.string.FragmentChannelUsername;
        if (TextUtils.isEmpty(formatCurrency2)) {
            str = "";
        } else {
            str = "(" + formatCurrency2 + ")";
        }
        of.createImageBulletin(i, AndroidUtilities.withLearnMore(AndroidUtilities.replaceTags(LocaleController.formatString(i2, str2, format, formatCurrency, str)), new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda111
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$processOnClickOrPress$41(tL_fragment$TL_collectibleInfo);
            }
        })).setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda112
            @Override // android.view.View.OnClickListener
            public final void onClick(View view) {
                ProfileActivity.this.lambda$processOnClickOrPress$42(tL_fragment$TL_collectibleInfo, view);
            }
        }).show(false);
    }

    public /* synthetic */ void lambda$processOnClickOrPress$44(final TLRPC$TL_username tLRPC$TL_username, final ShareAlert shareAlert, final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda98
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$processOnClickOrPress$43(tLObject, tLRPC$TL_username, shareAlert, tLRPC$TL_error);
            }
        });
    }

    public /* synthetic */ void lambda$processOnClickOrPress$45(TLObject tLObject, TLRPC$TL_username tLRPC$TL_username, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject instanceof TL_fragment$TL_collectibleInfo) {
            FragmentUsernameBottomSheet.open(getContext(), 0, tLRPC$TL_username.username, this.userId != 0 ? getMessagesController().getUser(Long.valueOf(this.userId)) : getMessagesController().getChat(Long.valueOf(this.chatId)), (TL_fragment$TL_collectibleInfo) tLObject, getResourceProvider());
        } else {
            BulletinFactory.showError(tLRPC$TL_error);
        }
    }

    public /* synthetic */ void lambda$processOnClickOrPress$46(final TLRPC$TL_username tLRPC$TL_username, final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda94
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$processOnClickOrPress$45(tLObject, tLRPC$TL_username, tLRPC$TL_error);
            }
        });
    }

    public /* synthetic */ void lambda$processOnClickOrPress$47(TLObject tLObject, String str, TLRPC$User tLRPC$User, TLRPC$TL_error tLRPC$TL_error) {
        if (tLObject instanceof TL_fragment$TL_collectibleInfo) {
            FragmentUsernameBottomSheet.open(getContext(), 1, str, tLRPC$User, (TL_fragment$TL_collectibleInfo) tLObject, getResourceProvider());
        } else {
            BulletinFactory.showError(tLRPC$TL_error);
        }
    }

    public /* synthetic */ void lambda$processOnClickOrPress$48(final String str, final TLRPC$User tLRPC$User, final TLObject tLObject, final TLRPC$TL_error tLRPC$TL_error) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda106
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$processOnClickOrPress$47(tLObject, str, tLRPC$User, tLRPC$TL_error);
            }
        });
    }

    public /* synthetic */ void lambda$processOnClickOrPress$49(AtomicReference atomicReference, int i, TLRPC$User tLRPC$User, View view) {
        ((ActionBarPopupWindow) atomicReference.get()).dismiss();
        try {
            if (i == 0) {
                Intent intent = new Intent("android.intent.action.DIAL", Uri.parse("tel:+" + tLRPC$User.phone));
                intent.addFlags(268435456);
                getParentActivity().startActivityForResult(intent, 500);
            } else if (i != 1) {
                if ((i == 2 || i == 3) && getParentActivity() != null) {
                    boolean z = i == 3;
                    TLRPC$UserFull tLRPC$UserFull = this.userInfo;
                    VoIPHelper.startCall(tLRPC$User, z, tLRPC$UserFull != null && tLRPC$UserFull.video_calls_available, getParentActivity(), this.userInfo, getAccountInstance());
                }
            } else {
                ((ClipboardManager) ApplicationLoader.applicationContext.getSystemService("clipboard")).setPrimaryClip(ClipData.newPlainText("label", "+" + tLRPC$User.phone));
                if (AndroidUtilities.shouldShowClipboardToast()) {
                    BulletinFactory.of(this).createCopyBulletin(LocaleController.getString(R.string.PhoneCopied)).show();
                }
            }
        } catch (Exception e) {
            FileLog.e(e);
        }
    }

    public static /* synthetic */ void lambda$processOnClickOrPress$50(View view) {
        try {
            view.getContext().startActivity(new Intent("android.intent.action.VIEW", Uri.parse("https://fragment.com")));
        } catch (ActivityNotFoundException e) {
            FileLog.e(e);
        }
    }

    public /* synthetic */ Boolean lambda$processOnClickOrPress$51(URLSpan uRLSpan) {
        if (uRLSpan != null) {
            openUrl(uRLSpan.getURL(), null);
            return Boolean.TRUE;
        }
        return Boolean.FALSE;
    }

    public /* synthetic */ void lambda$processOnClickOrPress$52(AtomicReference atomicReference, int i, String str, int i2, String[] strArr, String str2, View view) {
        BulletinFactory of;
        String string;
        ((ActionBarPopupWindow) atomicReference.get()).dismiss();
        try {
            if (i != 0) {
                if (i == 1) {
                    TranslateAlert2.showAlert(this.fragmentView.getContext(), this, this.currentAccount, strArr[0], str2, str, null, false, new Utilities.CallbackReturn() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda110
                        @Override // org.telegram.messenger.Utilities.CallbackReturn
                        public final Object run(Object obj) {
                            Boolean lambda$processOnClickOrPress$51;
                            lambda$processOnClickOrPress$51 = ProfileActivity.this.lambda$processOnClickOrPress$51((URLSpan) obj);
                            return lambda$processOnClickOrPress$51;
                        }
                    }, null);
                    return;
                }
                return;
            }
            AndroidUtilities.addToClipboard(str);
            if (i2 == this.bioRow) {
                of = BulletinFactory.of(this);
                string = LocaleController.getString(R.string.BioCopied);
            } else {
                of = BulletinFactory.of(this);
                string = LocaleController.getString(R.string.TextCopied);
            }
            of.createCopyBulletin(string).show();
        } catch (Exception e) {
            FileLog.e(e);
        }
    }

    public /* synthetic */ void lambda$processOnClickOrPress$53(boolean[] zArr, final String str, final int i, final String[] strArr, final String str2, float f, float f2, View view) {
        if (getParentActivity() == null) {
            return;
        }
        boolean z = false;
        CharSequence[] charSequenceArr = zArr[0] ? new CharSequence[]{LocaleController.getString(R.string.Copy), LocaleController.getString(R.string.TranslateMessage)} : new CharSequence[]{LocaleController.getString(R.string.Copy)};
        int[] iArr = zArr[0] ? new int[]{R.drawable.msg_copy, R.drawable.msg_translate} : new int[]{R.drawable.msg_copy};
        final AtomicReference atomicReference = new AtomicReference();
        ActionBarPopupWindow.ActionBarPopupWindowLayout actionBarPopupWindowLayout = new ActionBarPopupWindow.ActionBarPopupWindowLayout(getContext(), R.drawable.popup_fixed_alert, this.resourcesProvider) { // from class: org.telegram.ui.ProfileActivity.42
            Path path = new Path();

            {
                ProfileActivity.this = this;
            }

            @Override // android.view.ViewGroup
            protected boolean drawChild(Canvas canvas, View view2, long j) {
                canvas.save();
                this.path.rewind();
                RectF rectF = AndroidUtilities.rectTmp;
                rectF.set(view2.getLeft(), view2.getTop(), view2.getRight(), view2.getBottom());
                this.path.addRoundRect(rectF, AndroidUtilities.dp(6.0f), AndroidUtilities.dp(6.0f), Path.Direction.CW);
                canvas.clipPath(this.path);
                boolean drawChild = super.drawChild(canvas, view2, j);
                canvas.restore();
                return drawChild;
            }
        };
        actionBarPopupWindowLayout.setFitItems(true);
        int i2 = 0;
        while (i2 < iArr.length) {
            final int i3 = i2;
            ActionBarMenuItem.addItem(actionBarPopupWindowLayout, iArr[i2], charSequenceArr[i2], z, this.resourcesProvider).setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda102
                @Override // android.view.View.OnClickListener
                public final void onClick(View view2) {
                    ProfileActivity.this.lambda$processOnClickOrPress$52(atomicReference, i3, str, i, strArr, str2, view2);
                }
            });
            i2++;
            z = false;
        }
        ActionBarPopupWindow actionBarPopupWindow = new ActionBarPopupWindow(actionBarPopupWindowLayout, -2, -2);
        actionBarPopupWindow.setPauseNotifications(true);
        actionBarPopupWindow.setDismissAnimationDuration(NotificationCenter.pushMessagesUpdated);
        actionBarPopupWindow.setOutsideTouchable(true);
        actionBarPopupWindow.setClippingEnabled(true);
        actionBarPopupWindow.setAnimationStyle(R.style.PopupContextAnimation);
        actionBarPopupWindow.setFocusable(true);
        actionBarPopupWindowLayout.measure(View.MeasureSpec.makeMeasureSpec(AndroidUtilities.dp(1000.0f), Integer.MIN_VALUE), View.MeasureSpec.makeMeasureSpec(AndroidUtilities.dp(1000.0f), Integer.MIN_VALUE));
        actionBarPopupWindow.setInputMethodMode(2);
        actionBarPopupWindow.getContentView().setFocusableInTouchMode(true);
        atomicReference.set(actionBarPopupWindow);
        float f3 = f;
        float f4 = f2;
        for (View view2 = view; view2 != getFragmentView(); view2 = (View) view2.getParent()) {
            f3 += view2.getX();
            f4 += view2.getY();
        }
        if (AndroidUtilities.isTablet()) {
            ViewGroup view3 = this.parentLayout.getView();
            f3 += view3.getX() + view3.getPaddingLeft();
            f4 += view3.getY() + view3.getPaddingTop();
        }
        actionBarPopupWindow.showAtLocation(getFragmentView(), 0, (int) (f3 - (actionBarPopupWindowLayout.getMeasuredWidth() / 2.0f)), (int) f4);
        actionBarPopupWindow.dimBehind();
    }

    public /* synthetic */ void lambda$processOnClickOrPress$54(String[] strArr, boolean[] zArr, String str, boolean z, Runnable runnable, String str2) {
        TLRPC$Chat tLRPC$Chat;
        strArr[0] = str2;
        zArr[0] = str2 != null && (!str2.equals(str) || str2.equals(TranslateController.UNKNOWN_LANGUAGE)) && ((z && !RestrictedLanguagesSelectActivity.getRestrictedLanguages().contains(str2)) || ((tLRPC$Chat = this.currentChat) != null && ((tLRPC$Chat.has_link || ChatObject.isPublic(tLRPC$Chat)) && ("uk".equals(str2) || "ru".equals(str2)))));
        runnable.run();
    }

    public static /* synthetic */ void lambda$processOnClickOrPress$55(Runnable runnable, Exception exc) {
        FileLog.e("mlkit: failed to detect language in selection", exc);
        runnable.run();
    }

    public /* synthetic */ void lambda$processOnClickOrPress$56(AtomicReference atomicReference, String str, int i, View view) {
        BulletinFactory of;
        String string;
        ((ActionBarPopupWindow) atomicReference.get()).dismiss();
        try {
            AndroidUtilities.addToClipboard(str);
            if (i == this.bizHoursRow) {
                of = BulletinFactory.of(this);
                string = LocaleController.getString(R.string.BusinessHoursCopied);
            } else {
                of = BulletinFactory.of(this);
                string = LocaleController.getString(R.string.BusinessLocationCopied);
            }
            of.createCopyBulletin(string).show();
        } catch (Exception e) {
            FileLog.e(e);
        }
    }

    public /* synthetic */ void lambda$searchExpandTransition$78(ValueAnimator valueAnimator, float f, boolean z, ValueAnimator valueAnimator2) {
        float floatValue = ((Float) valueAnimator.getAnimatedValue()).floatValue();
        this.searchTransitionProgress = floatValue;
        float f2 = (floatValue - 0.5f) / 0.5f;
        float f3 = (0.5f - floatValue) / 0.5f;
        if (f2 < 0.0f) {
            f2 = 0.0f;
        }
        if (f3 < 0.0f) {
            f3 = 0.0f;
        }
        float f4 = -f;
        this.searchTransitionOffset = (int) ((1.0f - floatValue) * f4);
        this.searchListView.setTranslationY(floatValue * f);
        this.emptyView.setTranslationY(f * this.searchTransitionProgress);
        this.listView.setTranslationY(f4 * (1.0f - this.searchTransitionProgress));
        this.listView.setScaleX(1.0f - ((1.0f - this.searchTransitionProgress) * 0.01f));
        this.listView.setScaleY(1.0f - ((1.0f - this.searchTransitionProgress) * 0.01f));
        this.listView.setAlpha(this.searchTransitionProgress);
        needLayout(true);
        this.listView.setAlpha(f2);
        this.searchListView.setAlpha(1.0f - this.searchTransitionProgress);
        this.searchListView.setScaleX((this.searchTransitionProgress * 0.05f) + 1.0f);
        this.searchListView.setScaleY((this.searchTransitionProgress * 0.05f) + 1.0f);
        this.emptyView.setAlpha(1.0f - f2);
        this.avatarContainer.setAlpha(f2);
        ProfileStoriesView profileStoriesView = this.storyView;
        if (profileStoriesView != null) {
            profileStoriesView.setAlpha(f2);
        }
        this.nameTextView[1].setAlpha(f2);
        this.onlineTextView[1].setAlpha(f2);
        this.onlineTextView[3].setAlpha(f2);
        this.searchItem.getSearchField().setAlpha(f3);
        if (z && this.searchTransitionProgress < 0.7f) {
            this.searchItem.requestFocusOnSearchView();
        }
        this.searchItem.getSearchContainer().setVisibility(this.searchTransitionProgress < 0.5f ? 0 : 8);
        int i = this.searchTransitionProgress > 0.5f ? 0 : 8;
        ActionBarMenuItem actionBarMenuItem = this.otherItem;
        if (actionBarMenuItem != null) {
            actionBarMenuItem.setVisibility(i);
            this.otherItem.setAlpha(f2);
        }
        ActionBarMenuItem actionBarMenuItem2 = this.qrItem;
        if (actionBarMenuItem2 != null) {
            actionBarMenuItem2.setAlpha(f2);
            updateQrItemVisibility(false);
        }
        this.searchItem.setVisibility(i);
        this.actionBar.onSearchFieldVisibilityChanged(this.searchTransitionProgress < 0.5f);
        ActionBarMenuItem actionBarMenuItem3 = this.otherItem;
        if (actionBarMenuItem3 != null) {
            actionBarMenuItem3.setAlpha(f2);
        }
        ActionBarMenuItem actionBarMenuItem4 = this.qrItem;
        if (actionBarMenuItem4 != null) {
            actionBarMenuItem4.setAlpha(f2);
        }
        this.searchItem.setAlpha(f2);
        this.topView.invalidate();
        this.fragmentView.invalidate();
    }

    public static /* synthetic */ void lambda$sendLogs$82(AlertDialog alertDialog, boolean[] zArr, Activity activity, File file) {
        Uri fromFile;
        try {
            alertDialog.dismiss();
        } catch (Exception unused) {
        }
        if (!zArr[0]) {
            if (activity != null) {
                Toast.makeText(activity, LocaleController.getString(R.string.ErrorOccurred), 0).show();
                return;
            }
            return;
        }
        int i = Build.VERSION.SDK_INT;
        if (i >= 24) {
            fromFile = FileProvider.getUriForFile(activity, ApplicationLoader.getApplicationId() + ".provider", file);
        } else {
            fromFile = Uri.fromFile(file);
        }
        Intent intent = new Intent("android.intent.action.SEND");
        if (i >= 24) {
            intent.addFlags(1);
        }
        intent.setType("message/rfc822");
        intent.putExtra("android.intent.extra.EMAIL", "");
        intent.putExtra("android.intent.extra.SUBJECT", "Logs from " + LocaleController.getInstance().getFormatterStats().format(System.currentTimeMillis()));
        intent.putExtra("android.intent.extra.STREAM", fromFile);
        if (activity != null) {
            try {
                activity.startActivityForResult(Intent.createChooser(intent, "Select email application."), 500);
            } catch (Exception e) {
                FileLog.e(e);
            }
        }
    }

    public static /* synthetic */ void lambda$sendLogs$83(final AlertDialog alertDialog, boolean z, final Activity activity) {
        ZipOutputStream zipOutputStream;
        int i;
        try {
            File logsDir = AndroidUtilities.getLogsDir();
            if (logsDir == null) {
                Objects.requireNonNull(alertDialog);
                AndroidUtilities.runOnUIThread(new BillingController$$ExternalSyntheticLambda10(alertDialog));
                return;
            }
            final File file = new File(logsDir, "logs.zip");
            if (file.exists()) {
                file.delete();
            }
            ArrayList arrayList = new ArrayList();
            for (File file2 : logsDir.listFiles()) {
                arrayList.add(file2);
            }
            File file3 = new File(ApplicationLoader.getFilesDirFixed(), "malformed_database/");
            if (file3.exists() && file3.isDirectory()) {
                for (File file4 : file3.listFiles()) {
                    arrayList.add(file4);
                }
            }
            final boolean[] zArr = new boolean[1];
            long currentTimeMillis = System.currentTimeMillis();
            BufferedInputStream bufferedInputStream = null;
            try {
                zipOutputStream = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(file)));
                try {
                    try {
                        byte[] bArr = new byte[65536];
                        while (i < arrayList.size()) {
                            File file5 = (File) arrayList.get(i);
                            if (!file5.getName().contains("cache4")) {
                                if (!z) {
                                    if (file5.getName().contains("_mtproto")) {
                                    }
                                }
                                i = currentTimeMillis - file5.lastModified() > 86400000 ? i + 1 : 0;
                            }
                            if (file5.exists()) {
                                BufferedInputStream bufferedInputStream2 = new BufferedInputStream(new FileInputStream(file5), 65536);
                                try {
                                    zipOutputStream.putNextEntry(new ZipEntry(file5.getName()));
                                    while (true) {
                                        int read = bufferedInputStream2.read(bArr, 0, 65536);
                                        if (read == -1) {
                                            break;
                                        }
                                        zipOutputStream.write(bArr, 0, read);
                                    }
                                    bufferedInputStream2.close();
                                } catch (Exception e) {
                                    e = e;
                                    bufferedInputStream = bufferedInputStream2;
                                    e.printStackTrace();
                                    if (bufferedInputStream != null) {
                                        bufferedInputStream.close();
                                    }
                                    if (zipOutputStream != null) {
                                        zipOutputStream.close();
                                    }
                                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda46
                                        @Override // java.lang.Runnable
                                        public final void run() {
                                            ProfileActivity.lambda$sendLogs$82(AlertDialog.this, zArr, activity, file);
                                        }
                                    });
                                } catch (Throwable th) {
                                    th = th;
                                    bufferedInputStream = bufferedInputStream2;
                                    if (bufferedInputStream != null) {
                                        bufferedInputStream.close();
                                    }
                                    if (zipOutputStream != null) {
                                        zipOutputStream.close();
                                    }
                                    throw th;
                                }
                            }
                        }
                        zArr[0] = true;
                    } catch (Exception e2) {
                        e = e2;
                    }
                } catch (Throwable th2) {
                    th = th2;
                }
            } catch (Exception e3) {
                e = e3;
                zipOutputStream = null;
            } catch (Throwable th3) {
                th = th3;
                zipOutputStream = null;
            }
            zipOutputStream.close();
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda46
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.lambda$sendLogs$82(AlertDialog.this, zArr, activity, file);
                }
            });
        } catch (Exception e4) {
            e4.printStackTrace();
        }
    }

    public /* synthetic */ void lambda$setLoadingSpan$89(View view) {
        if (view instanceof TextDetailCell) {
            TextDetailCell textDetailCell = (TextDetailCell) view;
            textDetailCell.textView.setLoading(this.loadingSpan);
            textDetailCell.valueTextView.setLoading(this.loadingSpan);
        }
    }

    public /* synthetic */ void lambda$setMediaHeaderVisible$61(ValueAnimator valueAnimator) {
        updateStoriesViewBounds(true);
    }

    public /* synthetic */ boolean lambda$setParentLayout$5() {
        return this.currentEncryptedChat != null || getMessagesController().isChatNoForwards(this.currentChat);
    }

    public /* synthetic */ void lambda$setUserInfo$70() {
        updateListAnimated(false);
    }

    public /* synthetic */ void lambda$updateExceptions$2(HashSet hashSet) {
        ListAdapter listAdapter;
        ArrayList arrayList = new ArrayList(hashSet);
        int i = 0;
        while (i < arrayList.size()) {
            if (getMessagesController().getTopicsController().findTopic(this.chatId, ((Integer) arrayList.get(i)).intValue()) == null) {
                arrayList.remove(i);
                i--;
            }
            i++;
        }
        this.notificationsExceptionTopics.clear();
        this.notificationsExceptionTopics.addAll(arrayList);
        int i2 = this.notificationsRow;
        if (i2 < 0 || (listAdapter = this.listAdapter) == null) {
            return;
        }
        listAdapter.notifyItemChanged(i2);
    }

    public /* synthetic */ int lambda$updateOnlineCount$69(int i, Object obj) {
        TLRPC$User user = getMessagesController().getUser(Long.valueOf(((TLRPC$ChatParticipant) this.chatInfo.participants.participants.get(((Integer) obj).intValue())).user_id));
        if (user != null) {
            if (user.bot) {
                return -110;
            }
            if (user.self) {
                return i + 50000;
            }
            TLRPC$UserStatus tLRPC$UserStatus = user.status;
            if (tLRPC$UserStatus != null) {
                return tLRPC$UserStatus.expires;
            }
            return Integer.MIN_VALUE;
        }
        return Integer.MIN_VALUE;
    }

    public /* synthetic */ void lambda$updateProfileData$71() {
        getMessagesController().reloadUser(this.dialogId);
    }

    public /* synthetic */ void lambda$updateProfileData$72(View view) {
        MessagePrivateSeenView.showSheet(getContext(), this.currentAccount, this.dialogId, true, null, new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda35
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$updateProfileData$71();
            }
        }, this.resourcesProvider);
    }

    public /* synthetic */ void lambda$updateProfileData$73(View view) {
        showStatusSelect();
    }

    public /* synthetic */ void lambda$updateProfileData$74(TLRPC$User tLRPC$User, SimpleTextView simpleTextView, View view) {
        ImageLocation forDocument;
        PremiumPreviewBottomSheet premiumPreviewBottomSheet = new PremiumPreviewBottomSheet(this, this.currentAccount, tLRPC$User, this.resourcesProvider);
        simpleTextView.getLocationOnScreen(new int[2]);
        premiumPreviewBottomSheet.startEnterFromX = simpleTextView.rightDrawableX;
        premiumPreviewBottomSheet.startEnterFromY = simpleTextView.rightDrawableY;
        premiumPreviewBottomSheet.startEnterFromScale = simpleTextView.getScaleX();
        premiumPreviewBottomSheet.startEnterFromX1 = simpleTextView.getLeft();
        premiumPreviewBottomSheet.startEnterFromY1 = simpleTextView.getTop();
        premiumPreviewBottomSheet.startEnterFromView = simpleTextView;
        Drawable rightDrawable = simpleTextView.getRightDrawable();
        AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable swapAnimatedEmojiDrawable = this.emojiStatusDrawable[1];
        if (rightDrawable == swapAnimatedEmojiDrawable && swapAnimatedEmojiDrawable != null && (swapAnimatedEmojiDrawable.getDrawable() instanceof AnimatedEmojiDrawable)) {
            premiumPreviewBottomSheet.startEnterFromScale *= 0.98f;
            TLRPC$Document document = ((AnimatedEmojiDrawable) this.emojiStatusDrawable[1].getDrawable()).getDocument();
            if (document != null) {
                BackupImageView backupImageView = new BackupImageView(getContext());
                SvgHelper.SvgDrawable svgThumb = DocumentObject.getSvgThumb(document.thumbs, Theme.key_windowBackgroundWhiteGrayIcon, 0.2f);
                TLRPC$PhotoSize closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(document.thumbs, 90);
                String str = "160_160";
                if ("video/webm".equals(document.mime_type)) {
                    forDocument = ImageLocation.getForDocument(document);
                    str = "160_160_" + ImageLoader.AUTOPLAY_FILTER;
                    if (svgThumb != null) {
                        svgThumb.overrideWidthAndHeight(LiteMode.FLAG_CALLS_ANIMATIONS, LiteMode.FLAG_CALLS_ANIMATIONS);
                    }
                } else {
                    if (svgThumb != null && MessageObject.isAnimatedStickerDocument(document, false)) {
                        svgThumb.overrideWidthAndHeight(LiteMode.FLAG_CALLS_ANIMATIONS, LiteMode.FLAG_CALLS_ANIMATIONS);
                    }
                    forDocument = ImageLocation.getForDocument(document);
                }
                String str2 = str;
                backupImageView.setLayerNum(7);
                backupImageView.setRoundRadius(AndroidUtilities.dp(4.0f));
                backupImageView.setImage(forDocument, str2, ImageLocation.getForDocument(closestPhotoSizeWithSize, document), "140_140", svgThumb, document);
                if (((AnimatedEmojiDrawable) this.emojiStatusDrawable[1].getDrawable()).canOverrideColor()) {
                    backupImageView.setColorFilter(new PorterDuffColorFilter(getThemedColor(Theme.key_windowBackgroundWhiteBlueIcon), PorterDuff.Mode.SRC_IN));
                }
                premiumPreviewBottomSheet.statusStickerSet = MessageObject.getInputStickerSet(document);
                premiumPreviewBottomSheet.overrideTitleIcon = backupImageView;
                premiumPreviewBottomSheet.isEmojiStatus = true;
            }
        }
        showDialog(premiumPreviewBottomSheet);
    }

    public /* synthetic */ void lambda$updateProfileData$75(View view) {
        showStatusSelect();
    }

    public /* synthetic */ void lambda$updateProfileData$76(View view) {
        goToForum();
    }

    public /* synthetic */ void lambda$updatedPeerColor$77(View view) {
        if (view instanceof HeaderCell) {
            ((HeaderCell) view).setTextColor(applyPeerColor(getThemedColor(Theme.key_windowBackgroundWhiteBlueHeader), false));
        } else if (view instanceof TextDetailCell) {
            ((TextDetailCell) view).updateColors();
        } else if (view instanceof TextCell) {
            ((TextCell) view).updateColors();
        } else if (view instanceof AboutLinkCell) {
            ((AboutLinkCell) view).updateColors();
        } else if (view instanceof NotificationsCheckCell) {
            ((NotificationsCheckCell) view).getCheckBox().invalidate();
        } else if (view instanceof ProfileHoursCell) {
            ((ProfileHoursCell) view).updateColors();
        } else if (view instanceof ProfileChannelCell) {
            ((ProfileChannelCell) view).updateColors();
        }
    }

    public void leaveChatPressed() {
        boolean isForum = ChatObject.isForum(this.currentChat);
        AlertsCreator.createClearOrDeleteDialogAlert(this, false, this.currentChat, null, false, isForum, !isForum, new MessagesStorage.BooleanCallback() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda89
            @Override // org.telegram.messenger.MessagesStorage.BooleanCallback
            public final void run(boolean z) {
                ProfileActivity.this.lambda$leaveChatPressed$57(z);
            }
        }, this.resourcesProvider);
    }

    public void listCodecs(String str, StringBuilder sb) {
        int maxSupportedInstances;
        boolean isHardwareAccelerated;
        boolean isSoftwareOnly;
        boolean isVendor;
        int maxSupportedInstances2;
        boolean isHardwareAccelerated2;
        boolean isSoftwareOnly2;
        boolean isVendor2;
        String[] supportedTypes;
        if (Build.VERSION.SDK_INT < 23) {
            return;
        }
        try {
            int codecCount = MediaCodecList.getCodecCount();
            ArrayList arrayList = new ArrayList();
            ArrayList arrayList2 = new ArrayList();
            for (int i = 0; i < codecCount; i++) {
                MediaCodecInfo codecInfoAt = MediaCodecList.getCodecInfoAt(i);
                if (codecInfoAt != null && (supportedTypes = codecInfoAt.getSupportedTypes()) != null) {
                    int i2 = 0;
                    while (true) {
                        if (i2 >= supportedTypes.length) {
                            break;
                        } else if (supportedTypes[i2].equals(str)) {
                            (codecInfoAt.isEncoder() ? arrayList2 : arrayList).add(Integer.valueOf(i));
                        } else {
                            i2++;
                        }
                    }
                }
            }
            if (arrayList.isEmpty() && arrayList2.isEmpty()) {
                return;
            }
            sb.append("\n");
            sb.append(arrayList.size());
            sb.append("+");
            sb.append(arrayList2.size());
            sb.append(" ");
            sb.append(str.substring(6));
            sb.append(" codecs:\n");
            for (int i3 = 0; i3 < arrayList.size(); i3++) {
                if (i3 > 0) {
                    sb.append("\n");
                }
                MediaCodecInfo codecInfoAt2 = MediaCodecList.getCodecInfoAt(((Integer) arrayList.get(i3)).intValue());
                sb.append("{d} ");
                sb.append(codecInfoAt2.getName());
                sb.append(" (");
                if (Build.VERSION.SDK_INT >= 29) {
                    isHardwareAccelerated2 = codecInfoAt2.isHardwareAccelerated();
                    if (isHardwareAccelerated2) {
                        sb.append("gpu");
                    }
                    isSoftwareOnly2 = codecInfoAt2.isSoftwareOnly();
                    if (isSoftwareOnly2) {
                        sb.append("cpu");
                    }
                    isVendor2 = codecInfoAt2.isVendor();
                    if (isVendor2) {
                        sb.append(", v");
                    }
                }
                MediaCodecInfo.CodecCapabilities capabilitiesForType = codecInfoAt2.getCapabilitiesForType(str);
                sb.append("; mi=");
                maxSupportedInstances2 = capabilitiesForType.getMaxSupportedInstances();
                sb.append(maxSupportedInstances2);
                sb.append(")");
            }
            for (int i4 = 0; i4 < arrayList2.size(); i4++) {
                if (i4 > 0 || !arrayList.isEmpty()) {
                    sb.append("\n");
                }
                MediaCodecInfo codecInfoAt3 = MediaCodecList.getCodecInfoAt(((Integer) arrayList2.get(i4)).intValue());
                sb.append("{e} ");
                sb.append(codecInfoAt3.getName());
                sb.append(" (");
                if (Build.VERSION.SDK_INT >= 29) {
                    isHardwareAccelerated = codecInfoAt3.isHardwareAccelerated();
                    if (isHardwareAccelerated) {
                        sb.append("gpu");
                    }
                    isSoftwareOnly = codecInfoAt3.isSoftwareOnly();
                    if (isSoftwareOnly) {
                        sb.append("cpu");
                    }
                    isVendor = codecInfoAt3.isVendor();
                    if (isVendor) {
                        sb.append(", v");
                    }
                }
                MediaCodecInfo.CodecCapabilities capabilitiesForType2 = codecInfoAt3.getCapabilitiesForType(str);
                sb.append("; mi=");
                maxSupportedInstances = capabilitiesForType2.getMaxSupportedInstances();
                sb.append(maxSupportedInstances);
                sb.append(")");
            }
            sb.append("\n");
        } catch (Exception unused) {
        }
    }

    public boolean needInsetForStories() {
        return getMessagesController().getStoriesController().hasStories(getDialogId()) && !this.isTopic;
    }

    public void needLayout(boolean z) {
        OverlaysView overlaysView;
        AudioPlayerAlert.ClippingTextViewSwitcher clippingTextViewSwitcher;
        float f;
        BackupImageView currentItemView;
        float f2;
        float f3;
        ValueAnimator valueAnimator;
        SimpleTextView simpleTextView;
        TLRPC$ChatFull tLRPC$ChatFull;
        int i = 0;
        int currentActionBarHeight = (this.actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0) + ActionBar.getCurrentActionBarHeight();
        RecyclerListView recyclerListView = this.listView;
        if (recyclerListView != null && !this.openAnimationInProgress) {
            FrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) recyclerListView.getLayoutParams();
            if (layoutParams.topMargin != currentActionBarHeight) {
                layoutParams.topMargin = currentActionBarHeight;
                this.listView.setLayoutParams(layoutParams);
            }
        }
        if (this.avatarContainer != null) {
            float min = Math.min(1.0f, this.extraHeight / AndroidUtilities.dp(88.0f));
            this.listView.setTopGlowOffset((int) this.extraHeight);
            this.listView.setOverScrollMode((this.extraHeight <= ((float) AndroidUtilities.dp(88.0f)) || this.extraHeight >= ((float) (this.listView.getMeasuredWidth() - currentActionBarHeight))) ? 0 : 2);
            RLottieImageView rLottieImageView = this.writeButton;
            if (rLottieImageView != null) {
                rLottieImageView.setTranslationY(((((this.actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0) + ActionBar.getCurrentActionBarHeight()) + this.extraHeight) + this.searchTransitionOffset) - AndroidUtilities.dp(29.5f));
                boolean z2 = min > 0.2f && !this.searchMode && (this.imageUpdater == null || this.setAvatarRow == -1);
                boolean z3 = (!z2 || this.chatId == 0) ? z2 : (!ChatObject.isChannel(this.currentChat) || this.currentChat.megagroup || (tLRPC$ChatFull = this.chatInfo) == null || tLRPC$ChatFull.linked_chat_id == 0 || this.infoHeaderRow == -1) ? false : true;
                if (!this.openAnimationInProgress) {
                    if (z3 != (this.writeButton.getTag() == null)) {
                        RLottieImageView rLottieImageView2 = this.writeButton;
                        if (z3) {
                            rLottieImageView2.setTag(null);
                        } else {
                            rLottieImageView2.setTag(0);
                        }
                        AnimatorSet animatorSet = this.writeButtonAnimation;
                        if (animatorSet != null) {
                            this.writeButtonAnimation = null;
                            animatorSet.cancel();
                        }
                        if (z) {
                            AnimatorSet animatorSet2 = new AnimatorSet();
                            this.writeButtonAnimation = animatorSet2;
                            if (z3) {
                                animatorSet2.setInterpolator(new DecelerateInterpolator());
                                this.writeButtonAnimation.playTogether(ObjectAnimator.ofFloat(this.writeButton, View.SCALE_X, 1.0f), ObjectAnimator.ofFloat(this.writeButton, View.SCALE_Y, 1.0f), ObjectAnimator.ofFloat(this.writeButton, View.ALPHA, 1.0f));
                            } else {
                                animatorSet2.setInterpolator(new AccelerateInterpolator());
                                this.writeButtonAnimation.playTogether(ObjectAnimator.ofFloat(this.writeButton, View.SCALE_X, 0.2f), ObjectAnimator.ofFloat(this.writeButton, View.SCALE_Y, 0.2f), ObjectAnimator.ofFloat(this.writeButton, View.ALPHA, 0.0f));
                            }
                            this.writeButtonAnimation.setDuration(150L);
                            this.writeButtonAnimation.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.46
                                {
                                    ProfileActivity.this = this;
                                }

                                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                                public void onAnimationEnd(Animator animator) {
                                    if (ProfileActivity.this.writeButtonAnimation == null || !ProfileActivity.this.writeButtonAnimation.equals(animator)) {
                                        return;
                                    }
                                    ProfileActivity.this.writeButtonAnimation = null;
                                }
                            });
                            this.writeButtonAnimation.start();
                        } else {
                            this.writeButton.setScaleX(z3 ? 1.0f : 0.2f);
                            this.writeButton.setScaleY(z3 ? 1.0f : 0.2f);
                            this.writeButton.setAlpha(z3 ? 1.0f : 0.0f);
                        }
                    }
                    if (this.qrItem != null) {
                        updateQrItemVisibility(z);
                        if (!z) {
                            float dp = AndroidUtilities.dp(48.0f) * this.qrItem.getAlpha();
                            this.qrItem.setTranslationX(dp);
                            PagerIndicatorView pagerIndicatorView = this.avatarsViewPagerIndicatorView;
                            if (pagerIndicatorView != null) {
                                pagerIndicatorView.setTranslationX(dp - AndroidUtilities.dp(48.0f));
                            }
                        }
                    }
                }
                ProfileStoriesView profileStoriesView = this.storyView;
                if (profileStoriesView != null) {
                    profileStoriesView.setExpandCoords(this.avatarContainer2.getMeasuredWidth() - AndroidUtilities.dp(40.0f), z3, (this.actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0) + ActionBar.getCurrentActionBarHeight() + this.extraHeight + this.searchTransitionOffset);
                }
            }
            this.avatarX = (-AndroidUtilities.dpf2(47.0f)) * min;
            float f4 = AndroidUtilities.density;
            this.avatarY = (((this.actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0) + ((ActionBar.getCurrentActionBarHeight() / 2.0f) * (min + 1.0f))) - (f4 * 21.0f)) + (f4 * 27.0f * min) + this.actionBar.getTranslationY();
            float f5 = this.openAnimationInProgress ? this.initialAnimationExtraHeight : this.extraHeight;
            if (f5 > AndroidUtilities.dp(88.0f) || this.isPulledDown) {
                float max = Math.max(0.0f, Math.min(1.0f, (f5 - AndroidUtilities.dp(88.0f)) / ((this.listView.getMeasuredWidth() - currentActionBarHeight) - AndroidUtilities.dp(88.0f))));
                this.expandProgress = max;
                this.avatarScale = AndroidUtilities.lerp(1.4285715f, 2.4285715f, Math.min(1.0f, max * 3.0f));
                ProfileStoriesView profileStoriesView2 = this.storyView;
                if (profileStoriesView2 != null) {
                    profileStoriesView2.invalidate();
                }
                float min2 = Math.min(AndroidUtilities.dpf2(2000.0f), Math.max(AndroidUtilities.dpf2(1100.0f), Math.abs(this.listViewVelocityY))) / AndroidUtilities.dpf2(1100.0f);
                if (!this.allowPullingDown || (!this.openingAvatar && this.expandProgress < 0.33f)) {
                    if (this.isPulledDown) {
                        this.isPulledDown = false;
                        NotificationCenter.getGlobalInstance().lambda$postNotificationNameOnUIThread$1(NotificationCenter.needCheckSystemBarColors, Boolean.TRUE);
                        ActionBarMenuItem actionBarMenuItem = this.otherItem;
                        if (actionBarMenuItem != null) {
                            actionBarMenuItem.hideSubItem(21);
                            if (this.imageUpdater != null) {
                                this.otherItem.hideSubItem(33);
                                this.otherItem.hideSubItem(34);
                                this.otherItem.hideSubItem(35);
                                this.otherItem.showSubItem(36);
                                this.otherItem.showSubItem(31);
                            }
                        }
                        ActionBarMenuItem actionBarMenuItem2 = this.searchItem;
                        if (actionBarMenuItem2 != null) {
                            actionBarMenuItem2.setEnabled(!this.scrolling);
                        }
                        this.overlaysView.setOverlaysVisible(false, min2);
                        this.avatarsViewPagerIndicatorView.refreshVisibility(min2);
                        this.expandAnimator.cancel();
                        this.avatarImage.getImageReceiver().setAllowStartAnimation(true);
                        this.avatarImage.getImageReceiver().startAnimation();
                        float lerp = AndroidUtilities.lerp(this.expandAnimatorValues, this.currentExpanAnimatorFracture);
                        float[] fArr = this.expandAnimatorValues;
                        fArr[0] = lerp;
                        fArr[1] = 0.0f;
                        this.expandAnimator.setInterpolator(CubicBezierInterpolator.EASE_BOTH);
                        if (this.isInLandscapeMode) {
                            this.expandAnimator.setDuration(0L);
                        } else {
                            this.expandAnimator.setDuration((lerp * 250.0f) / min2);
                        }
                        this.topView.setBackgroundColor(getThemedColor(Theme.key_avatar_backgroundActionBarBlue));
                        if (!this.doNotSetForeground && (currentItemView = this.avatarsViewPager.getCurrentItemView()) != null) {
                            if (currentItemView.getImageReceiver().getDrawable() instanceof VectorAvatarThumbDrawable) {
                                this.avatarImage.drawForeground(false);
                            } else {
                                this.avatarImage.drawForeground(true);
                                this.avatarImage.setForegroundImageDrawable(currentItemView.getImageReceiver().getDrawableSafe());
                            }
                        }
                        this.avatarImage.setForegroundAlpha(1.0f);
                        this.avatarContainer.setVisibility(0);
                        this.avatarsViewPager.setVisibility(8);
                        this.expandAnimator.start();
                    }
                    this.avatarContainer.setScaleX(this.avatarScale);
                    this.avatarContainer.setScaleY(this.avatarScale);
                    ValueAnimator valueAnimator2 = this.expandAnimator;
                    if (valueAnimator2 == null || !valueAnimator2.isRunning()) {
                        refreshNameAndOnlineXY();
                        this.nameTextView[1].setTranslationX(this.nameX);
                        this.nameTextView[1].setTranslationY(this.nameY);
                        this.onlineTextView[1].setTranslationX(this.onlineX + this.customPhotoOffset);
                        this.onlineTextView[1].setTranslationY(this.onlineY);
                        this.mediaCounterTextView.setTranslationX(this.onlineX);
                        clippingTextViewSwitcher = this.mediaCounterTextView;
                        f = this.onlineY;
                        clippingTextViewSwitcher.setTranslationY(f);
                    }
                } else {
                    if (!this.isPulledDown) {
                        if (this.otherItem != null) {
                            if (getMessagesController().isChatNoForwards(this.currentChat)) {
                                this.otherItem.hideSubItem(21);
                            } else {
                                this.otherItem.showSubItem(21);
                            }
                            if (this.imageUpdater != null) {
                                this.otherItem.showSubItem(36);
                                this.otherItem.showSubItem(34);
                                this.otherItem.showSubItem(35);
                                this.otherItem.hideSubItem(33);
                                this.otherItem.hideSubItem(31);
                            }
                        }
                        ActionBarMenuItem actionBarMenuItem3 = this.searchItem;
                        if (actionBarMenuItem3 != null) {
                            actionBarMenuItem3.setEnabled(false);
                        }
                        this.isPulledDown = true;
                        NotificationCenter.getGlobalInstance().lambda$postNotificationNameOnUIThread$1(NotificationCenter.needCheckSystemBarColors, Boolean.TRUE);
                        this.overlaysView.setOverlaysVisible(true, min2);
                        this.avatarsViewPagerIndicatorView.refreshVisibility(min2);
                        this.avatarsViewPager.setCreateThumbFromParent(true);
                        this.avatarsViewPager.getAdapter().notifyDataSetChanged();
                        this.expandAnimator.cancel();
                        float lerp2 = AndroidUtilities.lerp(this.expandAnimatorValues, this.currentExpanAnimatorFracture);
                        float[] fArr2 = this.expandAnimatorValues;
                        fArr2[0] = lerp2;
                        fArr2[1] = 1.0f;
                        ProfileStoriesView profileStoriesView3 = this.storyView;
                        if (profileStoriesView3 == null || profileStoriesView3.isEmpty()) {
                            this.expandAnimator.setInterpolator(CubicBezierInterpolator.EASE_BOTH);
                            this.expandAnimator.setDuration(((1.0f - lerp2) * 250.0f) / min2);
                        } else {
                            this.expandAnimator.setInterpolator(new FastOutSlowInInterpolator());
                            this.expandAnimator.setDuration((((1.0f - lerp2) * 1.3f) * 250.0f) / min2);
                        }
                        this.expandAnimator.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.47
                            {
                                ProfileActivity.this = this;
                            }

                            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                            public void onAnimationEnd(Animator animator) {
                                ProfileActivity.this.expandAnimator.removeListener(this);
                                ProfileActivity.this.topView.setBackgroundColor(-16777216);
                                ProfileActivity.this.avatarContainer.setVisibility(8);
                                ProfileActivity.this.avatarsViewPager.setVisibility(0);
                            }

                            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                            public void onAnimationStart(Animator animator) {
                                ProfileActivity.this.setForegroundImage(false);
                                ProfileActivity.this.avatarsViewPager.setAnimatedFileMaybe(ProfileActivity.this.avatarImage.getImageReceiver().getAnimation());
                                ProfileActivity.this.avatarsViewPager.resetCurrentItem();
                            }
                        });
                        this.expandAnimator.start();
                    }
                    ViewGroup.LayoutParams layoutParams2 = this.avatarsViewPager.getLayoutParams();
                    layoutParams2.width = this.listView.getMeasuredWidth();
                    float f6 = f5 + currentActionBarHeight;
                    layoutParams2.height = (int) f6;
                    this.avatarsViewPager.requestLayout();
                    if (!this.expandAnimator.isRunning()) {
                        if (this.openAnimationInProgress && this.playProfileAnimation == 2) {
                            f3 = (-(1.0f - this.avatarAnimationProgress)) * AndroidUtilities.dp(50.0f);
                            f2 = 16.0f;
                        } else {
                            f2 = 16.0f;
                            f3 = 0.0f;
                        }
                        this.onlineX = AndroidUtilities.dpf2(f2) - this.onlineTextView[1].getLeft();
                        this.nameTextView[1].setTranslationX(AndroidUtilities.dpf2(18.0f) - this.nameTextView[1].getLeft());
                        this.nameTextView[1].setTranslationY(((f6 - AndroidUtilities.dpf2(38.0f)) - this.nameTextView[1].getBottom()) + f3);
                        this.onlineTextView[1].setTranslationX(this.onlineX + this.customPhotoOffset);
                        this.onlineTextView[1].setTranslationY(((f6 - AndroidUtilities.dpf2(18.0f)) - this.onlineTextView[1].getBottom()) + f3);
                        this.mediaCounterTextView.setTranslationX(this.onlineTextView[1].getTranslationX());
                        clippingTextViewSwitcher = this.mediaCounterTextView;
                        f = this.onlineTextView[1].getTranslationY();
                        clippingTextViewSwitcher.setTranslationY(f);
                    }
                }
            }
            if (this.openAnimationInProgress && this.playProfileAnimation == 2) {
                float currentActionBarHeight2 = (((this.actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0) + (ActionBar.getCurrentActionBarHeight() / 2.0f)) - (AndroidUtilities.density * 21.0f)) + this.actionBar.getTranslationY();
                this.nameTextView[0].setTranslationX(0.0f);
                double d = currentActionBarHeight2;
                this.nameTextView[0].setTranslationY(((float) Math.floor(d)) + AndroidUtilities.dp(1.3f));
                this.onlineTextView[0].setTranslationX(0.0f);
                this.onlineTextView[0].setTranslationY(((float) Math.floor(d)) + AndroidUtilities.dp(24.0f));
                this.nameTextView[0].setScaleX(1.0f);
                this.nameTextView[0].setScaleY(1.0f);
                this.nameTextView[1].setPivotY(simpleTextView.getMeasuredHeight());
                this.nameTextView[1].setScaleX(1.67f);
                this.nameTextView[1].setScaleY(1.67f);
                this.avatarScale = AndroidUtilities.lerp(1.0f, 2.4285715f, this.avatarAnimationProgress);
                ProfileStoriesView profileStoriesView4 = this.storyView;
                if (profileStoriesView4 != null) {
                    profileStoriesView4.setExpandProgress(1.0f);
                }
                this.avatarImage.setRoundRadius((int) AndroidUtilities.lerp(getSmallAvatarRoundRadius(), 0.0f, this.avatarAnimationProgress));
                this.avatarContainer.setTranslationX(AndroidUtilities.lerp(0.0f, 0.0f, this.avatarAnimationProgress));
                this.avatarContainer.setTranslationY(AndroidUtilities.lerp((float) Math.ceil(d), 0.0f, this.avatarAnimationProgress));
                float measuredWidth = (this.avatarContainer.getMeasuredWidth() - AndroidUtilities.dp(42.0f)) * this.avatarScale;
                this.timeItem.setTranslationX(this.avatarContainer.getX() + AndroidUtilities.dp(16.0f) + measuredWidth);
                this.timeItem.setTranslationY(this.avatarContainer.getY() + AndroidUtilities.dp(15.0f) + measuredWidth);
                this.starBgItem.setTranslationX(this.avatarContainer.getX() + AndroidUtilities.dp(28.0f) + measuredWidth);
                this.starBgItem.setTranslationY(this.avatarContainer.getY() + AndroidUtilities.dp(24.0f) + measuredWidth);
                this.starFgItem.setTranslationX(this.avatarContainer.getX() + AndroidUtilities.dp(28.0f) + measuredWidth);
                this.starFgItem.setTranslationY(this.avatarContainer.getY() + AndroidUtilities.dp(24.0f) + measuredWidth);
                this.avatarContainer.setScaleX(this.avatarScale);
                this.avatarContainer.setScaleY(this.avatarScale);
                this.overlaysView.setAlphaValue(this.avatarAnimationProgress, false);
                this.actionBar.setItemsColor(ColorUtils.blendARGB(this.peerColor != null ? -1 : getThemedColor(Theme.key_actionBarDefaultIcon), -1, this.avatarAnimationProgress), false);
                ScamDrawable scamDrawable = this.scamDrawable;
                if (scamDrawable != null) {
                    scamDrawable.setColor(ColorUtils.blendARGB(getThemedColor(Theme.key_avatar_subtitleInProfileBlue), Color.argb((int) NotificationCenter.suggestedFiltersLoaded, (int) NotificationCenter.voipServiceCreated, (int) NotificationCenter.voipServiceCreated, (int) NotificationCenter.voipServiceCreated), this.avatarAnimationProgress));
                }
                Drawable drawable = this.lockIconDrawable;
                if (drawable != null) {
                    drawable.setColorFilter(ColorUtils.blendARGB(getThemedColor(Theme.key_chat_lockIcon), -1, this.avatarAnimationProgress), PorterDuff.Mode.MULTIPLY);
                }
                CrossfadeDrawable crossfadeDrawable = this.verifiedCrossfadeDrawable[1];
                if (crossfadeDrawable != null) {
                    crossfadeDrawable.setProgress(this.avatarAnimationProgress);
                    this.nameTextView[1].invalidate();
                }
                CrossfadeDrawable crossfadeDrawable2 = this.premiumCrossfadeDrawable[1];
                if (crossfadeDrawable2 != null) {
                    crossfadeDrawable2.setProgress(this.avatarAnimationProgress);
                    this.nameTextView[1].invalidate();
                }
                updateEmojiStatusDrawableColor(this.avatarAnimationProgress);
                FrameLayout.LayoutParams layoutParams3 = (FrameLayout.LayoutParams) this.avatarContainer.getLayoutParams();
                int lerp3 = (int) AndroidUtilities.lerp(AndroidUtilities.dpf2(42.0f), (this.extraHeight + currentActionBarHeight) / this.avatarScale, this.avatarAnimationProgress);
                layoutParams3.height = lerp3;
                layoutParams3.width = lerp3;
                layoutParams3.leftMargin = (int) AndroidUtilities.lerp(AndroidUtilities.dpf2(64.0f), 0.0f, this.avatarAnimationProgress);
                this.avatarContainer.requestLayout();
            } else if (this.extraHeight <= AndroidUtilities.dp(88.0f)) {
                this.avatarScale = ((min * 18.0f) + 42.0f) / 42.0f;
                ProfileStoriesView profileStoriesView5 = this.storyView;
                if (profileStoriesView5 != null) {
                    profileStoriesView5.invalidate();
                }
                float f7 = (0.12f * min) + 1.0f;
                ValueAnimator valueAnimator3 = this.expandAnimator;
                if (valueAnimator3 == null || !valueAnimator3.isRunning()) {
                    this.avatarContainer.setScaleX(this.avatarScale);
                    this.avatarContainer.setScaleY(this.avatarScale);
                    this.avatarContainer.setTranslationX(this.avatarX);
                    this.avatarContainer.setTranslationY((float) Math.ceil(this.avatarY));
                    float dp2 = (AndroidUtilities.dp(42.0f) * this.avatarScale) - AndroidUtilities.dp(42.0f);
                    this.timeItem.setTranslationX(this.avatarContainer.getX() + AndroidUtilities.dp(16.0f) + dp2);
                    this.timeItem.setTranslationY(this.avatarContainer.getY() + AndroidUtilities.dp(15.0f) + dp2);
                    this.starBgItem.setTranslationX(this.avatarContainer.getX() + AndroidUtilities.dp(28.0f) + dp2);
                    this.starBgItem.setTranslationY(this.avatarContainer.getY() + AndroidUtilities.dp(24.0f) + dp2);
                    this.starFgItem.setTranslationX(this.avatarContainer.getX() + AndroidUtilities.dp(28.0f) + dp2);
                    this.starFgItem.setTranslationY(this.avatarContainer.getY() + AndroidUtilities.dp(24.0f) + dp2);
                }
                this.nameX = AndroidUtilities.density * (-21.0f) * min;
                this.nameY = ((float) Math.floor(this.avatarY)) + AndroidUtilities.dp(1.3f) + (AndroidUtilities.dp(7.0f) * min) + (this.titleAnimationsYDiff * (1.0f - this.avatarAnimationProgress));
                this.onlineX = AndroidUtilities.density * (-21.0f) * min;
                this.onlineY = ((float) Math.floor(this.avatarY)) + AndroidUtilities.dp(24.0f) + (((float) Math.floor(AndroidUtilities.density * 11.0f)) * min);
                ShowDrawable showDrawable = this.showStatusButton;
                if (showDrawable != null) {
                    showDrawable.setAlpha((int) (255.0f * min));
                }
                while (true) {
                    SimpleTextView[] simpleTextViewArr = this.nameTextView;
                    if (i >= simpleTextViewArr.length) {
                        break;
                    }
                    if (simpleTextViewArr[i] != null) {
                        ValueAnimator valueAnimator4 = this.expandAnimator;
                        if (valueAnimator4 == null || !valueAnimator4.isRunning()) {
                            this.nameTextView[i].setTranslationX(this.nameX);
                            this.nameTextView[i].setTranslationY(this.nameY);
                            this.onlineTextView[i].setTranslationX(this.onlineX + this.customPhotoOffset);
                            this.onlineTextView[i].setTranslationY(this.onlineY);
                            if (i == 1) {
                                this.mediaCounterTextView.setTranslationX(this.onlineX);
                                this.mediaCounterTextView.setTranslationY(this.onlineY);
                            }
                        }
                        this.nameTextView[i].setScaleX(f7);
                        this.nameTextView[i].setScaleY(f7);
                    }
                    i++;
                }
            }
            if (!this.openAnimationInProgress && ((valueAnimator = this.expandAnimator) == null || !valueAnimator.isRunning())) {
                needLayoutText(min);
            }
        }
        if (this.isPulledDown || ((overlaysView = this.overlaysView) != null && overlaysView.animator != null && this.overlaysView.animator.isRunning())) {
            ViewGroup.LayoutParams layoutParams4 = this.overlaysView.getLayoutParams();
            layoutParams4.width = this.listView.getMeasuredWidth();
            layoutParams4.height = (int) (this.extraHeight + currentActionBarHeight);
            this.overlaysView.requestLayout();
        }
        updateEmojiStatusEffectPosition();
    }

    public void needLayoutText(float f) {
        float scaleX = this.nameTextView[1].getScaleX();
        float f2 = this.extraHeight > ((float) AndroidUtilities.dp(88.0f)) ? 1.67f : 1.12f;
        if (this.extraHeight <= AndroidUtilities.dp(88.0f) || scaleX == f2) {
            int dp = AndroidUtilities.isTablet() ? AndroidUtilities.dp(490.0f) : AndroidUtilities.displaySize.x;
            this.avatarsViewPagerIndicatorView.getSecondaryMenuItem();
            int i = this.editItemVisible ? 48 : 0;
            if (this.callItemVisible) {
                i += 48;
            }
            if (this.videoCallItemVisible) {
                i += 48;
            }
            if (this.searchItem != null) {
                i += 48;
            }
            int dp2 = AndroidUtilities.dp((i * (1.0f - this.mediaHeaderAnimationProgress)) + 40.0f + 126.0f);
            int i2 = dp - dp2;
            float f3 = dp;
            int max = (int) ((f3 - (dp2 * Math.max(0.0f, 1.0f - (f != 1.0f ? (0.15f * f) / (1.0f - f) : 1.0f)))) - this.nameTextView[1].getTranslationX());
            float measureText = (this.nameTextView[1].getPaint().measureText(this.nameTextView[1].getText().toString()) * scaleX) + this.nameTextView[1].getSideDrawablesSize();
            FrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) this.nameTextView[1].getLayoutParams();
            int i3 = layoutParams.width;
            float f4 = max;
            layoutParams.width = f4 < measureText ? Math.max(i2, (int) Math.ceil((max - AndroidUtilities.dp(24.0f)) / (((f2 - scaleX) * 7.0f) + scaleX))) : (int) Math.ceil(measureText);
            int min = (int) Math.min(((f3 - this.nameTextView[1].getX()) / scaleX) - AndroidUtilities.dp(8.0f), layoutParams.width);
            layoutParams.width = min;
            if (min != i3) {
                this.nameTextView[1].requestLayout();
            }
            float measureText2 = this.onlineTextView[1].getPaint().measureText(this.onlineTextView[1].getText().toString()) + this.onlineTextView[1].getRightDrawableWidth();
            FrameLayout.LayoutParams layoutParams2 = (FrameLayout.LayoutParams) this.onlineTextView[1].getLayoutParams();
            FrameLayout.LayoutParams layoutParams3 = (FrameLayout.LayoutParams) this.mediaCounterTextView.getLayoutParams();
            int i4 = layoutParams2.width;
            int ceil = (int) Math.ceil(this.onlineTextView[1].getTranslationX() + AndroidUtilities.dp(8.0f) + (AndroidUtilities.dp(40.0f) * (1.0f - f)));
            layoutParams2.rightMargin = ceil;
            layoutParams3.rightMargin = ceil;
            int ceil2 = f4 < measureText2 ? (int) Math.ceil(max) : -2;
            layoutParams2.width = ceil2;
            layoutParams3.width = ceil2;
            if (i4 != layoutParams2.width) {
                this.onlineTextView[2].getLayoutParams().width = layoutParams2.width;
                this.onlineTextView[2].requestLayout();
                this.onlineTextView[3].getLayoutParams().width = layoutParams2.width;
                this.onlineTextView[3].requestLayout();
                this.onlineTextView[1].requestLayout();
                this.mediaCounterTextView.requestLayout();
            }
        }
    }

    public static ProfileActivity of(long j) {
        String str;
        Bundle bundle = new Bundle();
        if (j >= 0) {
            str = "user_id";
        } else {
            j = -j;
            str = "chat_id";
        }
        bundle.putLong(str, j);
        return new ProfileActivity(bundle);
    }

    public void onTextDetailCellImageClicked(View view) {
        View view2 = (View) view.getParent();
        if (view2.getTag() != null && ((Integer) view2.getTag()).intValue() == this.usernameRow) {
            Bundle bundle = new Bundle();
            bundle.putLong("chat_id", this.chatId);
            bundle.putLong("user_id", this.userId);
            presentFragment(new QrActivity(bundle));
        } else if (view2.getTag() == null || ((Integer) view2.getTag()).intValue() != this.birthdayRow) {
        } else {
            if (this.userId == getUserConfig().getClientUserId()) {
                presentFragment(new PremiumPreviewFragment("my_profile_gift"));
                return;
            }
            final TLRPC$User user = getMessagesController().getUser(Long.valueOf(this.userId));
            if (user == null || this.userInfo == null) {
                return;
            }
            if (!new ArrayList(this.userInfo.premium_gifts).isEmpty()) {
                showDialog(new GiftPremiumBottomSheet(this, user));
            } else if (getVisibleDialog() != null) {
            } else {
                final AlertDialog alertDialog = new AlertDialog(getContext(), 3);
                final int loadGiftOptions = BoostRepository.loadGiftOptions(null, new Utilities.Callback() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda55
                    @Override // org.telegram.messenger.Utilities.Callback
                    public final void run(Object obj) {
                        ProfileActivity.this.lambda$onTextDetailCellImageClicked$86(alertDialog, user, (List) obj);
                    }
                });
                alertDialog.setOnCancelListener(new DialogInterface.OnCancelListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda56
                    @Override // android.content.DialogInterface.OnCancelListener
                    public final void onCancel(DialogInterface dialogInterface) {
                        ProfileActivity.this.lambda$onTextDetailCellImageClicked$87(loadGiftOptions, dialogInterface);
                    }
                });
                alertDialog.showDelayed(500L);
            }
        }
    }

    public void onWriteButtonClick() {
        INavigationLayout iNavigationLayout;
        if (this.userId == 0) {
            openDiscussion();
            return;
        }
        boolean z = true;
        if (this.imageUpdater != null) {
            TLRPC$User user = MessagesController.getInstance(this.currentAccount).getUser(Long.valueOf(UserConfig.getInstance(this.currentAccount).getClientUserId()));
            if (user == null) {
                user = UserConfig.getInstance(this.currentAccount).getCurrentUser();
            }
            if (user == null) {
                return;
            }
            ImageUpdater imageUpdater = this.imageUpdater;
            TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto = user.photo;
            imageUpdater.openMenu((tLRPC$UserProfilePhoto == null || tLRPC$UserProfilePhoto.photo_big == null || (tLRPC$UserProfilePhoto instanceof TLRPC$TL_userProfilePhotoEmpty)) ? false : false, new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda51
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.this.lambda$onWriteButtonClick$34();
                }
            }, new DialogInterface.OnDismissListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda52
                @Override // android.content.DialogInterface.OnDismissListener
                public final void onDismiss(DialogInterface dialogInterface) {
                    ProfileActivity.this.lambda$onWriteButtonClick$35(dialogInterface);
                }
            }, 0);
            this.cameraDrawable.setCurrentFrame(0);
            this.cameraDrawable.setCustomEndFrame(43);
            this.cellCameraDrawable.setCurrentFrame(0);
            this.cellCameraDrawable.setCustomEndFrame(43);
            this.writeButton.playAnimation();
            TextCell textCell = this.setAvatarCell;
            if (textCell != null) {
                textCell.getImageView().playAnimation();
                return;
            }
            return;
        }
        if (this.playProfileAnimation == 0 || (iNavigationLayout = this.parentLayout) == null || iNavigationLayout.getFragmentStack() == null || this.parentLayout.getFragmentStack().size() < 2 || !(this.parentLayout.getFragmentStack().get(this.parentLayout.getFragmentStack().size() - 2) instanceof ChatActivity)) {
            TLRPC$User user2 = getMessagesController().getUser(Long.valueOf(this.userId));
            if (user2 == null || (user2 instanceof TLRPC$TL_userEmpty)) {
                return;
            }
            Bundle bundle = new Bundle();
            bundle.putLong("user_id", this.userId);
            if (!getMessagesController().checkCanOpenChat(bundle, this)) {
                return;
            }
            boolean z2 = this.arguments.getBoolean("removeFragmentOnChatOpen", true);
            if (!AndroidUtilities.isTablet() && z2) {
                NotificationCenter notificationCenter = getNotificationCenter();
                int i = NotificationCenter.closeChats;
                notificationCenter.removeObserver(this, i);
                getNotificationCenter().lambda$postNotificationNameOnUIThread$1(i, new Object[0]);
            }
            int i2 = getArguments().getInt("nearby_distance", -1);
            if (i2 >= 0) {
                bundle.putInt("nearby_distance", i2);
            }
            ChatActivity chatActivity = new ChatActivity(bundle);
            chatActivity.setPreloadedSticker(getMediaDataController().getGreetingsSticker(), false);
            presentFragment(chatActivity, z2);
            if (!AndroidUtilities.isTablet()) {
                return;
            }
        }
        finishFragment();
    }

    public void openAddMember() {
        Bundle bundle = new Bundle();
        bundle.putBoolean("addToGroup", true);
        bundle.putLong("chatId", this.currentChat.id);
        GroupCreateActivity groupCreateActivity = new GroupCreateActivity(bundle);
        groupCreateActivity.setInfo(this.chatInfo);
        TLRPC$ChatFull tLRPC$ChatFull = this.chatInfo;
        if (tLRPC$ChatFull != null && tLRPC$ChatFull.participants != null) {
            LongSparseArray longSparseArray = new LongSparseArray();
            for (int i = 0; i < this.chatInfo.participants.participants.size(); i++) {
                longSparseArray.put(((TLRPC$ChatParticipant) this.chatInfo.participants.participants.get(i)).user_id, null);
            }
            groupCreateActivity.setIgnoreUsers(longSparseArray);
        }
        groupCreateActivity.setDelegate2(new GroupCreateActivity.ContactsAddActivityDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda66
            @Override // org.telegram.ui.GroupCreateActivity.ContactsAddActivityDelegate
            public final void didSelectUsers(ArrayList arrayList, int i2) {
                ProfileActivity.this.lambda$openAddMember$65(arrayList, i2);
            }

            @Override // org.telegram.ui.GroupCreateActivity.ContactsAddActivityDelegate
            public /* synthetic */ void needAddBot(TLRPC$User tLRPC$User) {
                GroupCreateActivity.ContactsAddActivityDelegate.-CC.$default$needAddBot(this, tLRPC$User);
            }
        });
        presentFragment(groupCreateActivity);
    }

    public void openAddToContact(final TLRPC$User tLRPC$User, Bundle bundle) {
        ContactAddActivity contactAddActivity = new ContactAddActivity(bundle, this.resourcesProvider);
        contactAddActivity.setDelegate(new ContactAddActivity.ContactAddActivityDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda90
            @Override // org.telegram.ui.ContactAddActivity.ContactAddActivityDelegate
            public final void didAddToContacts() {
                ProfileActivity.this.lambda$openAddToContact$88(tLRPC$User);
            }
        });
        presentFragment(contactAddActivity);
    }

    public void openAvatar() {
        TLRPC$Chat chat;
        TLRPC$ChatPhoto tLRPC$ChatPhoto;
        ImageLocation imageLocation;
        if (this.listView.getScrollState() == 1) {
            return;
        }
        if (this.userId != 0) {
            TLRPC$User user = getMessagesController().getUser(Long.valueOf(this.userId));
            TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto = user.photo;
            if (tLRPC$UserProfilePhoto == null || tLRPC$UserProfilePhoto.photo_big == null) {
                return;
            }
            PhotoViewer.getInstance().setParentActivity(this);
            TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto2 = user.photo;
            int i = tLRPC$UserProfilePhoto2.dc_id;
            if (i != 0) {
                tLRPC$UserProfilePhoto2.photo_big.dc_id = i;
            }
            PhotoViewer.getInstance().openPhoto(user.photo.photo_big, this.provider);
        } else if (this.chatId == 0 || (tLRPC$ChatPhoto = (chat = getMessagesController().getChat(Long.valueOf(this.chatId))).photo) == null || tLRPC$ChatPhoto.photo_big == null) {
        } else {
            PhotoViewer.getInstance().setParentActivity(this);
            TLRPC$ChatPhoto tLRPC$ChatPhoto2 = chat.photo;
            int i2 = tLRPC$ChatPhoto2.dc_id;
            if (i2 != 0) {
                tLRPC$ChatPhoto2.photo_big.dc_id = i2;
            }
            TLRPC$ChatFull tLRPC$ChatFull = this.chatInfo;
            if (tLRPC$ChatFull != null) {
                TLRPC$Photo tLRPC$Photo = tLRPC$ChatFull.chat_photo;
                if ((tLRPC$Photo instanceof TLRPC$TL_photo) && !tLRPC$Photo.video_sizes.isEmpty()) {
                    imageLocation = ImageLocation.getForPhoto((TLRPC$VideoSize) this.chatInfo.chat_photo.video_sizes.get(0), this.chatInfo.chat_photo);
                    PhotoViewer.getInstance().openPhotoWithVideo(chat.photo.photo_big, imageLocation, this.provider);
                }
            }
            imageLocation = null;
            PhotoViewer.getInstance().openPhotoWithVideo(chat.photo.photo_big, imageLocation, this.provider);
        }
    }

    public void openDiscussion() {
        TLRPC$ChatFull tLRPC$ChatFull = this.chatInfo;
        if (tLRPC$ChatFull == null || tLRPC$ChatFull.linked_chat_id == 0) {
            return;
        }
        Bundle bundle = new Bundle();
        bundle.putLong("chat_id", this.chatInfo.linked_chat_id);
        if (getMessagesController().checkCanOpenChat(bundle, this)) {
            presentFragment(new ChatActivity(bundle));
        }
    }

    private void openLocation(boolean z) {
        TLRPC$TL_businessLocation tLRPC$TL_businessLocation;
        TLRPC$UserFull tLRPC$UserFull = this.userInfo;
        if (tLRPC$UserFull == null || (tLRPC$TL_businessLocation = tLRPC$UserFull.business_location) == null) {
            return;
        }
        if (tLRPC$TL_businessLocation.geo_point == null || z) {
            String str = BuildVars.isHuaweiStoreApp() ? "mapapp://navigation" : "http://maps.google.com/maps";
            try {
                Locale locale = Locale.US;
                getParentActivity().startActivity(new Intent("android.intent.action.VIEW", Uri.parse(String.format(locale, str + "?q=" + this.userInfo.business_location.address, new Object[0]))));
                return;
            } catch (Exception e) {
                FileLog.e(e);
                return;
            }
        }
        LocationActivity locationActivity = new LocationActivity(3) { // from class: org.telegram.ui.ProfileActivity.55
            {
                ProfileActivity.this = this;
            }

            @Override // org.telegram.ui.LocationActivity
            protected boolean disablePermissionCheck() {
                return true;
            }
        };
        locationActivity.setResourceProvider(this.resourcesProvider);
        TLRPC$TL_message tLRPC$TL_message = new TLRPC$TL_message();
        tLRPC$TL_message.local_id = -1;
        tLRPC$TL_message.peer_id = getMessagesController().getPeer(this.dialogId);
        TLRPC$TL_messageMediaGeo tLRPC$TL_messageMediaGeo = new TLRPC$TL_messageMediaGeo();
        TLRPC$TL_businessLocation tLRPC$TL_businessLocation2 = this.userInfo.business_location;
        tLRPC$TL_messageMediaGeo.geo = tLRPC$TL_businessLocation2.geo_point;
        tLRPC$TL_messageMediaGeo.address = tLRPC$TL_businessLocation2.address;
        tLRPC$TL_message.media = tLRPC$TL_messageMediaGeo;
        locationActivity.setSharingAllowed(false);
        locationActivity.setMessageObject(new MessageObject(UserConfig.selectedAccount, tLRPC$TL_message, false, false));
        presentFragment(locationActivity);
    }

    private void openRightsEdit(final int i, final TLRPC$User tLRPC$User, final TLRPC$ChatParticipant tLRPC$ChatParticipant, TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights, TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights, String str, final boolean z) {
        final boolean[] zArr = new boolean[1];
        ChatRightsEditActivity chatRightsEditActivity = new ChatRightsEditActivity(tLRPC$User.id, this.chatId, tLRPC$TL_chatAdminRights, this.currentChat.default_banned_rights, tLRPC$TL_chatBannedRights, str, i, true, false, null) { // from class: org.telegram.ui.ProfileActivity.38
            {
                ProfileActivity.this = this;
            }

            @Override // org.telegram.ui.ActionBar.BaseFragment
            public void onTransitionAnimationEnd(boolean z2, boolean z3) {
                if (!z2 && z3 && zArr[0] && BulletinFactory.canShowBulletin(ProfileActivity.this)) {
                    BulletinFactory.createPromoteToAdminBulletin(ProfileActivity.this, tLRPC$User.first_name).show();
                }
            }
        };
        chatRightsEditActivity.setDelegate(new ChatRightsEditActivity.ChatRightsEditActivityDelegate() { // from class: org.telegram.ui.ProfileActivity.39
            {
                ProfileActivity.this = this;
            }

            @Override // org.telegram.ui.ChatRightsEditActivity.ChatRightsEditActivityDelegate
            public void didChangeOwner(TLRPC$User tLRPC$User2) {
                ProfileActivity.this.undoView.showWithAction(-ProfileActivity.this.chatId, ProfileActivity.this.currentChat.megagroup ? 10 : 9, tLRPC$User2);
            }

            @Override // org.telegram.ui.ChatRightsEditActivity.ChatRightsEditActivityDelegate
            public void didSetRights(int i2, TLRPC$TL_chatAdminRights tLRPC$TL_chatAdminRights2, TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights2, String str2) {
                boolean z2;
                int i3 = i;
                int i4 = 0;
                if (i3 == 0) {
                    TLRPC$ChatParticipant tLRPC$ChatParticipant2 = tLRPC$ChatParticipant;
                    if (tLRPC$ChatParticipant2 instanceof TLRPC$TL_chatChannelParticipant) {
                        TLRPC$TL_chatChannelParticipant tLRPC$TL_chatChannelParticipant = (TLRPC$TL_chatChannelParticipant) tLRPC$ChatParticipant2;
                        if (i2 == 1) {
                            TLRPC$TL_channelParticipantAdmin tLRPC$TL_channelParticipantAdmin = new TLRPC$TL_channelParticipantAdmin();
                            tLRPC$TL_chatChannelParticipant.channelParticipant = tLRPC$TL_channelParticipantAdmin;
                            tLRPC$TL_channelParticipantAdmin.flags |= 4;
                        } else {
                            tLRPC$TL_chatChannelParticipant.channelParticipant = new TLRPC$TL_channelParticipant();
                        }
                        tLRPC$TL_chatChannelParticipant.channelParticipant.inviter_id = ProfileActivity.this.getUserConfig().getClientUserId();
                        tLRPC$TL_chatChannelParticipant.channelParticipant.peer = new TLRPC$TL_peerUser();
                        TLRPC$ChannelParticipant tLRPC$ChannelParticipant = tLRPC$TL_chatChannelParticipant.channelParticipant;
                        TLRPC$Peer tLRPC$Peer = tLRPC$ChannelParticipant.peer;
                        TLRPC$ChatParticipant tLRPC$ChatParticipant3 = tLRPC$ChatParticipant;
                        tLRPC$Peer.user_id = tLRPC$ChatParticipant3.user_id;
                        tLRPC$ChannelParticipant.date = tLRPC$ChatParticipant3.date;
                        tLRPC$ChannelParticipant.banned_rights = tLRPC$TL_chatBannedRights2;
                        tLRPC$ChannelParticipant.admin_rights = tLRPC$TL_chatAdminRights2;
                        tLRPC$ChannelParticipant.rank = str2;
                    } else if (tLRPC$ChatParticipant2 != null) {
                        TLRPC$ChatParticipant tLRPC$TL_chatParticipantAdmin = i2 == 1 ? new TLRPC$TL_chatParticipantAdmin() : new TLRPC$TL_chatParticipant();
                        TLRPC$ChatParticipant tLRPC$ChatParticipant4 = tLRPC$ChatParticipant;
                        tLRPC$TL_chatParticipantAdmin.user_id = tLRPC$ChatParticipant4.user_id;
                        tLRPC$TL_chatParticipantAdmin.date = tLRPC$ChatParticipant4.date;
                        tLRPC$TL_chatParticipantAdmin.inviter_id = tLRPC$ChatParticipant4.inviter_id;
                        int indexOf = ProfileActivity.this.chatInfo.participants.participants.indexOf(tLRPC$ChatParticipant);
                        if (indexOf >= 0) {
                            ProfileActivity.this.chatInfo.participants.participants.set(indexOf, tLRPC$TL_chatParticipantAdmin);
                        }
                    }
                    if (i2 != 1 || z) {
                        return;
                    }
                    zArr[0] = true;
                } else if (i3 == 1 && i2 == 0 && ProfileActivity.this.currentChat.megagroup && ProfileActivity.this.chatInfo != null && ProfileActivity.this.chatInfo.participants != null) {
                    int i5 = 0;
                    while (true) {
                        if (i5 >= ProfileActivity.this.chatInfo.participants.participants.size()) {
                            z2 = false;
                            break;
                        } else if (MessageObject.getPeerId(((TLRPC$TL_chatChannelParticipant) ProfileActivity.this.chatInfo.participants.participants.get(i5)).channelParticipant.peer) == tLRPC$ChatParticipant.user_id) {
                            ProfileActivity.this.chatInfo.participants_count--;
                            ProfileActivity.this.chatInfo.participants.participants.remove(i5);
                            z2 = true;
                            break;
                        } else {
                            i5++;
                        }
                    }
                    if (ProfileActivity.this.chatInfo != null && ProfileActivity.this.chatInfo.participants != null) {
                        while (true) {
                            if (i4 >= ProfileActivity.this.chatInfo.participants.participants.size()) {
                                break;
                            } else if (((TLRPC$ChatParticipant) ProfileActivity.this.chatInfo.participants.participants.get(i4)).user_id == tLRPC$ChatParticipant.user_id) {
                                ProfileActivity.this.chatInfo.participants.participants.remove(i4);
                                z2 = true;
                                break;
                            } else {
                                i4++;
                            }
                        }
                    }
                    if (z2) {
                        ProfileActivity.this.updateOnlineCount(true);
                        ProfileActivity.this.updateRowsIds();
                        ProfileActivity.this.listAdapter.notifyDataSetChanged();
                    }
                }
            }
        });
        presentFragment(chatRightsEditActivity);
    }

    public void openUrl(String str, Browser.Progress progress) {
        if (str.startsWith("@")) {
            getMessagesController().openByUserName(str.substring(1), this, 0, progress);
        } else if (str.startsWith("#")) {
            DialogsActivity dialogsActivity = new DialogsActivity(null);
            dialogsActivity.setSearchString(str);
            presentFragment(dialogsActivity);
        } else if (!str.startsWith("/") || this.parentLayout.getFragmentStack().size() <= 1) {
        } else {
            BaseFragment baseFragment = (BaseFragment) this.parentLayout.getFragmentStack().get(this.parentLayout.getFragmentStack().size() - 2);
            if (baseFragment instanceof ChatActivity) {
                finishFragment();
                ((ChatActivity) baseFragment).chatActivityEnterView.setCommand(null, str, false, false);
            }
        }
    }

    public boolean processOnClickOrPress(final int i, final View view, final float f, final float f2) {
        TLRPC$Chat chat;
        String publicUsername;
        TLRPC$TL_username findUsername;
        StringBuilder sb;
        StringBuilder sb2;
        String str;
        int i2;
        String str2;
        TLRPC$UserFull tLRPC$UserFull;
        TLRPC$UserFull tLRPC$UserFull2;
        final String str3;
        View view2 = view;
        String str4 = "";
        if (i != this.usernameRow && i != this.setUsernameRow) {
            if (i != this.phoneRow && i != this.numberRow) {
                if (i == this.channelInfoRow || i == this.userInfoRow || i == this.locationRow || i == this.bioRow) {
                    if (i == this.bioRow && ((tLRPC$UserFull = this.userInfo) == null || TextUtils.isEmpty(tLRPC$UserFull.about))) {
                        return false;
                    }
                    if (editRow(view2, i)) {
                        return true;
                    }
                    if ((view2 instanceof AboutLinkCell) && ((AboutLinkCell) view2).onClick()) {
                        return false;
                    }
                    if (i == this.locationRow) {
                        TLRPC$ChatFull tLRPC$ChatFull = this.chatInfo;
                        if (tLRPC$ChatFull != null) {
                            TLRPC$ChannelLocation tLRPC$ChannelLocation = tLRPC$ChatFull.location;
                            if (tLRPC$ChannelLocation instanceof TLRPC$TL_channelLocation) {
                                str2 = ((TLRPC$TL_channelLocation) tLRPC$ChannelLocation).address;
                            }
                        }
                        str2 = null;
                    } else if (i == this.channelInfoRow) {
                        TLRPC$ChatFull tLRPC$ChatFull2 = this.chatInfo;
                        if (tLRPC$ChatFull2 != null) {
                            str2 = tLRPC$ChatFull2.about;
                        }
                        str2 = null;
                    } else {
                        TLRPC$UserFull tLRPC$UserFull3 = this.userInfo;
                        if (tLRPC$UserFull3 != null) {
                            str2 = tLRPC$UserFull3.about;
                        }
                        str2 = null;
                    }
                    final String str5 = str2;
                    if (TextUtils.isEmpty(str5)) {
                        return false;
                    }
                    final String[] strArr = {TranslateController.UNKNOWN_LANGUAGE};
                    final boolean isContextTranslateEnabled = MessagesController.getInstance(this.currentAccount).getTranslateController().isContextTranslateEnabled();
                    final boolean[] zArr = {i == this.bioRow || i == this.channelInfoRow || i == this.userInfoRow};
                    final String language = LocaleController.getInstance().getCurrentLocale().getLanguage();
                    final Runnable runnable = new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda58
                        @Override // java.lang.Runnable
                        public final void run() {
                            ProfileActivity.this.lambda$processOnClickOrPress$53(zArr, str5, i, strArr, language, f, f2, view);
                        }
                    };
                    if (zArr[0] && LanguageDetector.hasSupport()) {
                        LanguageDetector.detectLanguage(str5, new LanguageDetector.StringCallback() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda59
                            @Override // org.telegram.messenger.LanguageDetector.StringCallback
                            public final void run(String str6) {
                                ProfileActivity.this.lambda$processOnClickOrPress$54(strArr, zArr, language, isContextTranslateEnabled, runnable, str6);
                            }
                        }, new LanguageDetector.ExceptionCallback() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda60
                            @Override // org.telegram.messenger.LanguageDetector.ExceptionCallback
                            public final void run(Exception exc) {
                                ProfileActivity.lambda$processOnClickOrPress$55(runnable, exc);
                            }
                        });
                    } else {
                        runnable.run();
                    }
                    return true;
                } else if (!(i == this.bizHoursRow || i == this.bizLocationRow) || getParentActivity() == null || (tLRPC$UserFull2 = this.userInfo) == null) {
                    return false;
                } else {
                    if (i == this.bizHoursRow) {
                        TLRPC$TL_businessWorkHours tLRPC$TL_businessWorkHours = tLRPC$UserFull2.business_work_hours;
                        if (tLRPC$TL_businessWorkHours == null) {
                            return false;
                        }
                        str3 = OpeningHoursActivity.toString(this.currentAccount, tLRPC$UserFull2.user, tLRPC$TL_businessWorkHours);
                    } else if (i != this.bizLocationRow || editRow(view2, i)) {
                        return true;
                    } else {
                        TLRPC$TL_businessLocation tLRPC$TL_businessLocation = this.userInfo.business_location;
                        if (tLRPC$TL_businessLocation == null) {
                            return false;
                        }
                        str3 = tLRPC$TL_businessLocation.address;
                    }
                    final AtomicReference atomicReference = new AtomicReference();
                    ActionBarPopupWindow.ActionBarPopupWindowLayout actionBarPopupWindowLayout = new ActionBarPopupWindow.ActionBarPopupWindowLayout(getContext(), R.drawable.popup_fixed_alert, this.resourcesProvider) { // from class: org.telegram.ui.ProfileActivity.43
                        Path path = new Path();

                        {
                            ProfileActivity.this = this;
                        }

                        @Override // android.view.ViewGroup
                        protected boolean drawChild(Canvas canvas, View view3, long j) {
                            canvas.save();
                            this.path.rewind();
                            RectF rectF = AndroidUtilities.rectTmp;
                            rectF.set(view3.getLeft(), view3.getTop(), view3.getRight(), view3.getBottom());
                            this.path.addRoundRect(rectF, AndroidUtilities.dp(6.0f), AndroidUtilities.dp(6.0f), Path.Direction.CW);
                            canvas.clipPath(this.path);
                            boolean drawChild = super.drawChild(canvas, view3, j);
                            canvas.restore();
                            return drawChild;
                        }
                    };
                    actionBarPopupWindowLayout.setFitItems(true);
                    ActionBarMenuItem.addItem(actionBarPopupWindowLayout, R.drawable.msg_copy, LocaleController.getString(R.string.Copy), false, this.resourcesProvider).setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda57
                        @Override // android.view.View.OnClickListener
                        public final void onClick(View view3) {
                            ProfileActivity.this.lambda$processOnClickOrPress$56(atomicReference, str3, i, view3);
                        }
                    });
                    ActionBarPopupWindow actionBarPopupWindow = new ActionBarPopupWindow(actionBarPopupWindowLayout, -2, -2);
                    actionBarPopupWindow.setPauseNotifications(true);
                    actionBarPopupWindow.setDismissAnimationDuration(NotificationCenter.pushMessagesUpdated);
                    actionBarPopupWindow.setOutsideTouchable(true);
                    actionBarPopupWindow.setClippingEnabled(true);
                    actionBarPopupWindow.setAnimationStyle(R.style.PopupContextAnimation);
                    actionBarPopupWindow.setFocusable(true);
                    actionBarPopupWindowLayout.measure(View.MeasureSpec.makeMeasureSpec(AndroidUtilities.dp(1000.0f), Integer.MIN_VALUE), View.MeasureSpec.makeMeasureSpec(AndroidUtilities.dp(1000.0f), Integer.MIN_VALUE));
                    actionBarPopupWindow.setInputMethodMode(2);
                    actionBarPopupWindow.getContentView().setFocusableInTouchMode(true);
                    atomicReference.set(actionBarPopupWindow);
                    float f3 = f;
                    float f4 = f2;
                    while (view2 != getFragmentView()) {
                        f3 += view2.getX();
                        f4 += view2.getY();
                        view2 = (View) view2.getParent();
                    }
                    if (AndroidUtilities.isTablet()) {
                        ViewGroup view3 = this.parentLayout.getView();
                        f3 += view3.getX() + view3.getPaddingLeft();
                        f4 += view3.getY() + view3.getPaddingTop();
                    }
                    actionBarPopupWindow.showAtLocation(getFragmentView(), 0, (int) (f3 - (actionBarPopupWindowLayout.getMeasuredWidth() / 2.0f)), (int) f4);
                    actionBarPopupWindow.dimBehind();
                    return true;
                }
            } else if (editRow(view2, i)) {
                return true;
            } else {
                final TLRPC$User user = getMessagesController().getUser(Long.valueOf(this.userId));
                if (user == null || (str = user.phone) == null || str.length() == 0 || getParentActivity() == null) {
                    return false;
                }
                if (i == this.phoneRow && user.phone.startsWith("888")) {
                    TL_fragment$TL_inputCollectiblePhone tL_fragment$TL_inputCollectiblePhone = new TL_fragment$TL_inputCollectiblePhone();
                    final String str6 = user.phone;
                    tL_fragment$TL_inputCollectiblePhone.phone = str6;
                    TL_fragment$TL_getCollectibleInfo tL_fragment$TL_getCollectibleInfo = new TL_fragment$TL_getCollectibleInfo();
                    tL_fragment$TL_getCollectibleInfo.collectible = tL_fragment$TL_inputCollectiblePhone;
                    getConnectionsManager().bindRequestToGuid(getConnectionsManager().sendRequest(tL_fragment$TL_getCollectibleInfo, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda61
                        @Override // org.telegram.tgnet.RequestDelegate
                        public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                            ProfileActivity.this.lambda$processOnClickOrPress$48(str6, user, tLObject, tLRPC$TL_error);
                        }
                    }), getClassGuid());
                    return true;
                }
                ArrayList arrayList = new ArrayList();
                ArrayList arrayList2 = new ArrayList();
                ArrayList arrayList3 = new ArrayList();
                if (i == this.phoneRow) {
                    TLRPC$UserFull tLRPC$UserFull4 = this.userInfo;
                    if (tLRPC$UserFull4 != null && tLRPC$UserFull4.phone_calls_available) {
                        arrayList3.add(Integer.valueOf(R.drawable.msg_calls));
                        arrayList.add(LocaleController.getString(R.string.CallViaTelegram));
                        arrayList2.add(2);
                        if (this.userInfo.video_calls_available) {
                            arrayList3.add(Integer.valueOf(R.drawable.msg_videocall));
                            arrayList.add(LocaleController.getString(R.string.VideoCallViaTelegram));
                            arrayList2.add(3);
                        }
                    }
                    if (!this.isFragmentPhoneNumber) {
                        arrayList3.add(Integer.valueOf(R.drawable.msg_calls_regular));
                        arrayList.add(LocaleController.getString(R.string.Call));
                        arrayList2.add(0);
                    }
                }
                arrayList3.add(Integer.valueOf(R.drawable.msg_copy));
                arrayList.add(LocaleController.getString(R.string.Copy));
                arrayList2.add(1);
                final AtomicReference atomicReference2 = new AtomicReference();
                ActionBarPopupWindow.ActionBarPopupWindowLayout actionBarPopupWindowLayout2 = new ActionBarPopupWindow.ActionBarPopupWindowLayout(getContext(), R.drawable.popup_fixed_alert, this.resourcesProvider) { // from class: org.telegram.ui.ProfileActivity.41
                    Path path = new Path();

                    {
                        ProfileActivity.this = this;
                    }

                    @Override // android.view.ViewGroup
                    protected boolean drawChild(Canvas canvas, View view4, long j) {
                        canvas.save();
                        this.path.rewind();
                        RectF rectF = AndroidUtilities.rectTmp;
                        rectF.set(view4.getLeft(), view4.getTop(), view4.getRight(), view4.getBottom());
                        this.path.addRoundRect(rectF, AndroidUtilities.dp(6.0f), AndroidUtilities.dp(6.0f), Path.Direction.CW);
                        canvas.clipPath(this.path);
                        boolean drawChild = super.drawChild(canvas, view4, j);
                        canvas.restore();
                        return drawChild;
                    }
                };
                actionBarPopupWindowLayout2.setFitItems(true);
                for (int i3 = 0; i3 < arrayList3.size(); i3++) {
                    final int intValue = ((Integer) arrayList2.get(i3)).intValue();
                    ActionBarMenuItem.addItem(actionBarPopupWindowLayout2, ((Integer) arrayList3.get(i3)).intValue(), (CharSequence) arrayList.get(i3), false, this.resourcesProvider).setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda62
                        @Override // android.view.View.OnClickListener
                        public final void onClick(View view4) {
                            ProfileActivity.this.lambda$processOnClickOrPress$49(atomicReference2, intValue, user, view4);
                        }
                    });
                }
                if (this.isFragmentPhoneNumber) {
                    View frameLayout = new FrameLayout(getContext());
                    frameLayout.setBackgroundColor(Theme.getColor(Theme.key_actionBarDefaultSubmenuSeparator, this.resourcesProvider));
                    actionBarPopupWindowLayout2.addView(frameLayout, LayoutHelper.createLinear(-1, 8));
                    TextView textView = new TextView(getContext());
                    textView.setPadding(AndroidUtilities.dp(13.0f), AndroidUtilities.dp(8.0f), AndroidUtilities.dp(13.0f), AndroidUtilities.dp(8.0f));
                    textView.setTextSize(1, 13.0f);
                    textView.setTextColor(Theme.getColor(Theme.key_actionBarDefaultSubmenuItem, this.resourcesProvider));
                    textView.setLinkTextColor(Theme.getColor(Theme.key_windowBackgroundWhiteValueText, this.resourcesProvider));
                    textView.setBackground(Theme.createRadSelectorDrawable(Theme.getColor(Theme.key_dialogButtonSelector, this.resourcesProvider), 0, 6));
                    SpannableStringBuilder spannableStringBuilder = new SpannableStringBuilder(AndroidUtilities.replaceTags(LocaleController.getString(R.string.AnonymousNumberNotice)));
                    int indexOf = TextUtils.indexOf((CharSequence) spannableStringBuilder, '*');
                    int lastIndexOf = TextUtils.lastIndexOf(spannableStringBuilder, '*');
                    if (indexOf != -1 && lastIndexOf != -1 && indexOf != lastIndexOf) {
                        spannableStringBuilder.replace(lastIndexOf, lastIndexOf + 1, (CharSequence) "");
                        spannableStringBuilder.replace(indexOf, indexOf + 1, (CharSequence) "");
                        int i4 = lastIndexOf - 1;
                        spannableStringBuilder.setSpan(new TypefaceSpan(AndroidUtilities.bold()), indexOf, i4, 33);
                        spannableStringBuilder.setSpan(new ForegroundColorSpan(textView.getLinkTextColors().getDefaultColor()), indexOf, i4, 33);
                    }
                    textView.setText(spannableStringBuilder);
                    textView.setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda63
                        @Override // android.view.View.OnClickListener
                        public final void onClick(View view4) {
                            ProfileActivity.lambda$processOnClickOrPress$50(view4);
                        }
                    });
                    int i5 = R.id.fit_width_tag;
                    frameLayout.setTag(i5, 1);
                    textView.setTag(i5, 1);
                    i2 = -2;
                    actionBarPopupWindowLayout2.addView((View) textView, LayoutHelper.createLinear(-2, -2));
                } else {
                    i2 = -2;
                }
                ActionBarPopupWindow actionBarPopupWindow2 = new ActionBarPopupWindow(actionBarPopupWindowLayout2, i2, i2);
                actionBarPopupWindow2.setPauseNotifications(true);
                actionBarPopupWindow2.setDismissAnimationDuration(NotificationCenter.pushMessagesUpdated);
                actionBarPopupWindow2.setOutsideTouchable(true);
                actionBarPopupWindow2.setClippingEnabled(true);
                actionBarPopupWindow2.setAnimationStyle(R.style.PopupContextAnimation);
                actionBarPopupWindow2.setFocusable(true);
                actionBarPopupWindowLayout2.measure(View.MeasureSpec.makeMeasureSpec(AndroidUtilities.dp(1000.0f), Integer.MIN_VALUE), View.MeasureSpec.makeMeasureSpec(AndroidUtilities.dp(1000.0f), Integer.MIN_VALUE));
                actionBarPopupWindow2.setInputMethodMode(2);
                actionBarPopupWindow2.getContentView().setFocusableInTouchMode(true);
                atomicReference2.set(actionBarPopupWindow2);
                float f5 = f;
                float f6 = f2;
                while (view2 != getFragmentView() && view2 != null) {
                    f5 += view2.getX();
                    f6 += view2.getY();
                    view2 = (View) view2.getParent();
                }
                if (AndroidUtilities.isTablet()) {
                    ViewGroup view4 = this.parentLayout.getView();
                    f5 += view4.getX() + view4.getPaddingLeft();
                    f6 += view4.getY() + view4.getPaddingTop();
                }
                actionBarPopupWindow2.showAtLocation(getFragmentView(), 0, (int) (f5 - (actionBarPopupWindowLayout2.getMeasuredWidth() / 2.0f)), (int) f6);
                actionBarPopupWindow2.dimBehind();
                return true;
            }
        }
        if (this.userId != 0) {
            TLRPC$User user2 = getMessagesController().getUser(Long.valueOf(this.userId));
            publicUsername = UserObject.getPublicUsername(user2);
            if (user2 == null || publicUsername == null) {
                return false;
            }
            findUsername = DialogObject.findUsername(publicUsername, user2);
        } else if (this.chatId == 0 || (chat = getMessagesController().getChat(Long.valueOf(this.chatId))) == null || (this.topicId == 0 && !ChatObject.isPublic(chat))) {
            return false;
        } else {
            publicUsername = ChatObject.getPublicUsername(chat);
            findUsername = DialogObject.findUsername(publicUsername, chat);
        }
        final TLRPC$TL_username tLRPC$TL_username = findUsername;
        if (this.userId != 0) {
            if (editRow(view2, i)) {
                return true;
            }
            if (tLRPC$TL_username != null && !tLRPC$TL_username.editable) {
                TL_fragment$TL_getCollectibleInfo tL_fragment$TL_getCollectibleInfo2 = new TL_fragment$TL_getCollectibleInfo();
                TL_fragment$TL_inputCollectibleUsername tL_fragment$TL_inputCollectibleUsername = new TL_fragment$TL_inputCollectibleUsername();
                tL_fragment$TL_inputCollectibleUsername.username = tLRPC$TL_username.username;
                tL_fragment$TL_getCollectibleInfo2.collectible = tL_fragment$TL_inputCollectibleUsername;
                getConnectionsManager().bindRequestToGuid(getConnectionsManager().sendRequest(tL_fragment$TL_getCollectibleInfo2, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda65
                    @Override // org.telegram.tgnet.RequestDelegate
                    public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                        ProfileActivity.this.lambda$processOnClickOrPress$46(tLRPC$TL_username, tLObject, tLRPC$TL_error);
                    }
                }), getClassGuid());
                return true;
            }
            try {
                BulletinFactory.of(this).createCopyBulletin(LocaleController.getString(R.string.UsernameCopied), this.resourcesProvider).show();
                ((ClipboardManager) ApplicationLoader.applicationContext.getSystemService("clipboard")).setPrimaryClip(ClipData.newPlainText("label", "@" + publicUsername));
                return true;
            } catch (Exception e) {
                FileLog.e(e);
                return true;
            }
        }
        TLRPC$Chat chat2 = getMessagesController().getChat(Long.valueOf(this.chatId));
        if (!ChatObject.isPublic(chat2)) {
            sb = new StringBuilder();
            sb.append("https://");
            sb.append(getMessagesController().linkPrefix);
            sb.append("/c/");
            sb.append(chat2.id);
            if (this.topicId != 0) {
                sb2 = new StringBuilder();
                sb2.append("/");
                sb2.append(this.topicId);
                str4 = sb2.toString();
            }
            sb.append(str4);
            String sb3 = sb.toString();
            final 40 r0 = new 40(getParentActivity(), null, sb3, false, sb3, false);
            showDialog(r0);
            return tLRPC$TL_username == null ? true : true;
        }
        sb = new StringBuilder();
        sb.append("https://");
        sb.append(getMessagesController().linkPrefix);
        sb.append("/");
        sb.append(ChatObject.getPublicUsername(chat2));
        if (this.topicId != 0) {
            sb2 = new StringBuilder();
            sb2.append("/");
            sb2.append(this.topicId);
            str4 = sb2.toString();
        }
        sb.append(str4);
        String sb32 = sb.toString();
        final 40 r02 = new 40(getParentActivity(), null, sb32, false, sb32, false);
        showDialog(r02);
        if (tLRPC$TL_username == null && !tLRPC$TL_username.editable) {
            TL_fragment$TL_getCollectibleInfo tL_fragment$TL_getCollectibleInfo3 = new TL_fragment$TL_getCollectibleInfo();
            TL_fragment$TL_inputCollectibleUsername tL_fragment$TL_inputCollectibleUsername2 = new TL_fragment$TL_inputCollectibleUsername();
            tL_fragment$TL_inputCollectibleUsername2.username = tLRPC$TL_username.username;
            tL_fragment$TL_getCollectibleInfo3.collectible = tL_fragment$TL_inputCollectibleUsername2;
            getConnectionsManager().bindRequestToGuid(getConnectionsManager().sendRequest(tL_fragment$TL_getCollectibleInfo3, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda64
                @Override // org.telegram.tgnet.RequestDelegate
                public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                    ProfileActivity.this.lambda$processOnClickOrPress$44(tLRPC$TL_username, r02, tLObject, tLRPC$TL_error);
                }
            }), getClassGuid());
            return true;
        }
    }

    private void refreshNameAndOnlineXY() {
        this.nameX = AndroidUtilities.dp(-21.0f) + (this.avatarContainer.getMeasuredWidth() * (this.avatarScale - 1.4285715f));
        this.nameY = ((float) Math.floor(this.avatarY)) + AndroidUtilities.dp(1.3f) + AndroidUtilities.dp(7.0f) + ((this.avatarContainer.getMeasuredHeight() * (this.avatarScale - 1.4285715f)) / 2.0f);
        this.onlineX = AndroidUtilities.dp(-21.0f) + (this.avatarContainer.getMeasuredWidth() * (this.avatarScale - 1.4285715f));
        this.onlineY = ((float) Math.floor(this.avatarY)) + AndroidUtilities.dp(24.0f) + ((float) Math.floor(AndroidUtilities.density * 11.0f)) + ((this.avatarContainer.getMeasuredHeight() * (this.avatarScale - 1.4285715f)) / 2.0f);
    }

    public void saveScrollPosition() {
        RecyclerListView recyclerListView = this.listView;
        if (recyclerListView == null || this.layoutManager == null || recyclerListView.getChildCount() <= 0 || this.savedScrollToSharedMedia) {
            return;
        }
        View view = null;
        int i = ConnectionsManager.DEFAULT_DATACENTER_ID;
        int i2 = -1;
        for (int i3 = 0; i3 < this.listView.getChildCount(); i3++) {
            RecyclerListView recyclerListView2 = this.listView;
            int childAdapterPosition = recyclerListView2.getChildAdapterPosition(recyclerListView2.getChildAt(i3));
            View childAt = this.listView.getChildAt(i3);
            if (childAdapterPosition != -1 && childAt.getTop() < i) {
                i = childAt.getTop();
                i2 = childAdapterPosition;
                view = childAt;
            }
        }
        if (view != null) {
            this.savedScrollPosition = i2;
            int top = view.getTop();
            this.savedScrollOffset = top;
            if (this.savedScrollPosition == 0 && !this.allowPullingDown && top > AndroidUtilities.dp(88.0f)) {
                this.savedScrollOffset = AndroidUtilities.dp(88.0f);
            }
            this.layoutManager.scrollToPositionWithOffset(i2, view.getTop() - this.listView.getPaddingTop());
        }
    }

    public Animator searchExpandTransition(final boolean z) {
        if (z) {
            AndroidUtilities.requestAdjustResize(getParentActivity(), this.classGuid);
            AndroidUtilities.setAdjustResizeToNothing(getParentActivity(), this.classGuid);
        }
        Animator animator = this.searchViewTransition;
        if (animator != null) {
            animator.removeAllListeners();
            this.searchViewTransition.cancel();
        }
        final ValueAnimator ofFloat = ValueAnimator.ofFloat(this.searchTransitionProgress, z ? 0.0f : 1.0f);
        final float f = this.extraHeight;
        this.searchListView.setTranslationY(f);
        this.searchListView.setVisibility(0);
        this.searchItem.setVisibility(0);
        this.listView.setVisibility(0);
        needLayout(true);
        this.avatarContainer.setVisibility(0);
        this.nameTextView[1].setVisibility(0);
        this.onlineTextView[1].setVisibility(0);
        this.onlineTextView[3].setVisibility(0);
        this.actionBar.onSearchFieldVisibilityChanged(this.searchTransitionProgress > 0.5f);
        int i = this.searchTransitionProgress > 0.5f ? 0 : 8;
        ActionBarMenuItem actionBarMenuItem = this.otherItem;
        if (actionBarMenuItem != null) {
            actionBarMenuItem.setVisibility(i);
        }
        if (this.qrItem != null) {
            updateQrItemVisibility(false);
        }
        this.searchItem.setVisibility(i);
        this.searchItem.getSearchContainer().setVisibility(this.searchTransitionProgress <= 0.5f ? 0 : 8);
        this.searchListView.setEmptyView(this.emptyView);
        this.avatarContainer.setClickable(false);
        ofFloat.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda54
            @Override // android.animation.ValueAnimator.AnimatorUpdateListener
            public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                ProfileActivity.this.lambda$searchExpandTransition$78(ofFloat, f, z, valueAnimator);
            }
        });
        ofFloat.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.52
            {
                ProfileActivity.this = this;
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationEnd(Animator animator2) {
                ProfileActivity.this.updateSearchViewState(z);
                ProfileActivity.this.avatarContainer.setClickable(true);
                if (z) {
                    ProfileActivity.this.searchItem.requestFocusOnSearchView();
                }
                ProfileActivity.this.needLayout(true);
                ProfileActivity.this.searchViewTransition = null;
                ProfileActivity.this.fragmentView.invalidate();
                if (z) {
                    ProfileActivity.this.invalidateScroll = true;
                    ProfileActivity.this.saveScrollPosition();
                    AndroidUtilities.requestAdjustResize(ProfileActivity.this.getParentActivity(), ((BaseFragment) ProfileActivity.this).classGuid);
                    ProfileActivity.this.emptyView.setPreventMoving(false);
                }
            }
        });
        if (!z) {
            this.invalidateScroll = true;
            saveScrollPosition();
            AndroidUtilities.requestAdjustNothing(getParentActivity(), this.classGuid);
            this.emptyView.setPreventMoving(true);
        }
        ofFloat.setDuration(220L);
        ofFloat.setInterpolator(CubicBezierInterpolator.DEFAULT);
        this.searchViewTransition = ofFloat;
        return ofFloat;
    }

    public static void sendLogs(final Activity activity, final boolean z) {
        if (activity == null) {
            return;
        }
        final AlertDialog alertDialog = new AlertDialog(activity, 3);
        alertDialog.setCanCancel(false);
        alertDialog.show();
        Utilities.globalQueue.postRunnable(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda5
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.lambda$sendLogs$83(AlertDialog.this, z, activity);
            }
        });
    }

    public void setAutoDeleteHistory(int i, int i2) {
        long dialogId = getDialogId();
        getMessagesController().setDialogHistoryTTL(dialogId, i);
        if (this.userInfo == null && this.chatInfo == null) {
            return;
        }
        UndoView undoView = this.undoView;
        TLRPC$User user = getMessagesController().getUser(Long.valueOf(dialogId));
        TLRPC$UserFull tLRPC$UserFull = this.userInfo;
        undoView.showWithAction(dialogId, i2, user, Integer.valueOf(tLRPC$UserFull != null ? tLRPC$UserFull.ttl_period : this.chatInfo.ttl_period), (Runnable) null, (Runnable) null);
    }

    /* JADX WARN: Removed duplicated region for block: B:114:0x022d  */
    /* JADX WARN: Removed duplicated region for block: B:117:0x025d  */
    /* JADX WARN: Removed duplicated region for block: B:120:0x0290  */
    /* JADX WARN: Removed duplicated region for block: B:121:0x0292  */
    /* JADX WARN: Removed duplicated region for block: B:124:0x02a8  */
    /* JADX WARN: Removed duplicated region for block: B:125:0x02aa  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private void setAvatarExpandProgress(float f) {
        int themedColor;
        boolean z;
        ShowDrawable showDrawable;
        SimpleTextView simpleTextView;
        int currentActionBarHeight = ActionBar.getCurrentActionBarHeight() + (this.actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0);
        float[] fArr = this.expandAnimatorValues;
        this.currentExpanAnimatorFracture = f;
        float lerp = AndroidUtilities.lerp(fArr, f);
        this.currentExpandAnimatorValue = lerp;
        checkPhotoDescriptionAlpha();
        this.avatarContainer.setScaleX(this.avatarScale);
        this.avatarContainer.setScaleY(this.avatarScale);
        this.avatarContainer.setTranslationX(AndroidUtilities.lerp(this.avatarX, 0.0f, lerp));
        this.avatarContainer.setTranslationY(AndroidUtilities.lerp((float) Math.ceil(this.avatarY), 0.0f, lerp));
        this.avatarImage.setRoundRadius((int) AndroidUtilities.lerp(getSmallAvatarRoundRadius(), 0.0f, lerp));
        ProfileStoriesView profileStoriesView = this.storyView;
        if (profileStoriesView != null) {
            profileStoriesView.setExpandProgress(lerp);
        }
        ActionBarMenuItem actionBarMenuItem = this.searchItem;
        if (actionBarMenuItem != null) {
            float f2 = 1.0f - lerp;
            actionBarMenuItem.setAlpha(f2);
            this.searchItem.setScaleY(f2);
            this.searchItem.setVisibility(0);
            ActionBarMenuItem actionBarMenuItem2 = this.searchItem;
            actionBarMenuItem2.setClickable(actionBarMenuItem2.getAlpha() > 0.5f);
            if (this.qrItem != null) {
                float dp = AndroidUtilities.dp(48.0f) * lerp;
                this.qrItem.setTranslationX(dp);
                this.avatarsViewPagerIndicatorView.setTranslationX(dp - AndroidUtilities.dp(48.0f));
            }
        }
        if (this.extraHeight > AndroidUtilities.dp(88.0f) && this.expandProgress < 0.33f) {
            refreshNameAndOnlineXY();
        }
        ScamDrawable scamDrawable = this.scamDrawable;
        if (scamDrawable != null) {
            scamDrawable.setColor(ColorUtils.blendARGB(getThemedColor(Theme.key_avatar_subtitleInProfileBlue), Color.argb((int) NotificationCenter.suggestedFiltersLoaded, (int) NotificationCenter.voipServiceCreated, (int) NotificationCenter.voipServiceCreated, (int) NotificationCenter.voipServiceCreated), lerp));
        }
        Drawable drawable = this.lockIconDrawable;
        if (drawable != null) {
            drawable.setColorFilter(ColorUtils.blendARGB(getThemedColor(Theme.key_chat_lockIcon), -1, lerp), PorterDuff.Mode.MULTIPLY);
        }
        CrossfadeDrawable crossfadeDrawable = this.verifiedCrossfadeDrawable[0];
        if (crossfadeDrawable != null) {
            crossfadeDrawable.setProgress(lerp);
        }
        CrossfadeDrawable crossfadeDrawable2 = this.verifiedCrossfadeDrawable[1];
        if (crossfadeDrawable2 != null) {
            crossfadeDrawable2.setProgress(lerp);
        }
        CrossfadeDrawable crossfadeDrawable3 = this.premiumCrossfadeDrawable[0];
        if (crossfadeDrawable3 != null) {
            crossfadeDrawable3.setProgress(lerp);
        }
        CrossfadeDrawable crossfadeDrawable4 = this.premiumCrossfadeDrawable[1];
        if (crossfadeDrawable4 != null) {
            crossfadeDrawable4.setProgress(lerp);
        }
        updateEmojiStatusDrawableColor(lerp);
        float dpf2 = AndroidUtilities.dpf2(8.0f);
        float dpf22 = AndroidUtilities.dpf2(18.0f) - this.nameTextView[1].getLeft();
        float f3 = currentActionBarHeight;
        float dpf23 = ((this.extraHeight + f3) - AndroidUtilities.dpf2(38.0f)) - this.nameTextView[1].getBottom();
        float f4 = this.nameX;
        float f5 = this.nameY;
        float f6 = 1.0f - lerp;
        float f7 = f6 * f6;
        float f8 = f6 * 2.0f * lerp;
        float f9 = lerp * lerp;
        float f10 = (f4 * f7) + ((dpf2 + f4 + ((dpf22 - f4) / 2.0f)) * f8) + (dpf22 * f9);
        float f11 = (f5 * f7) + ((dpf2 + f5 + ((dpf23 - f5) / 2.0f)) * f8) + (dpf23 * f9);
        float dpf24 = AndroidUtilities.dpf2(16.0f) - this.onlineTextView[1].getLeft();
        float dpf25 = ((this.extraHeight + f3) - AndroidUtilities.dpf2(18.0f)) - this.onlineTextView[1].getBottom();
        float f12 = this.onlineX;
        float f13 = this.onlineY;
        float f14 = (f12 * f7) + ((dpf2 + f12 + ((dpf24 - f12) / 2.0f)) * f8) + (dpf24 * f9);
        float f15 = (f7 * f13) + (f8 * (dpf2 + f13 + ((dpf25 - f13) / 2.0f))) + (f9 * dpf25);
        this.nameTextView[1].setTranslationX(f10);
        this.nameTextView[1].setTranslationY(f11);
        this.onlineTextView[1].setTranslationX(this.customPhotoOffset + f14);
        this.onlineTextView[1].setTranslationY(f15);
        this.mediaCounterTextView.setTranslationX(f14);
        this.mediaCounterTextView.setTranslationY(f15);
        Object tag = this.onlineTextView[1].getTag();
        if (tag instanceof Integer) {
            Integer num = (Integer) tag;
            themedColor = getThemedColor(num.intValue());
            if (num.intValue() == Theme.key_profile_status) {
                z = true;
                this.onlineTextView[1].setTextColor(ColorUtils.blendARGB(applyPeerColor(themedColor, true, Boolean.valueOf(z)), -1275068417, lerp));
                if (this.extraHeight > AndroidUtilities.dp(88.0f)) {
                    this.nameTextView[1].setPivotY(AndroidUtilities.lerp(0, simpleTextView.getMeasuredHeight(), lerp));
                    this.nameTextView[1].setScaleX(AndroidUtilities.lerp(1.12f, 1.67f, lerp));
                    this.nameTextView[1].setScaleY(AndroidUtilities.lerp(1.12f, 1.67f, lerp));
                }
                showDrawable = this.showStatusButton;
                if (showDrawable != null) {
                    showDrawable.setBackgroundColor(ColorUtils.blendARGB(Theme.multAlpha(Theme.adaptHSV(this.actionBarBackgroundColor, 0.18f, -0.1f), 0.5f), 603979775, this.currentExpandAnimatorValue));
                }
                needLayoutText(Math.min(1.0f, this.extraHeight / AndroidUtilities.dp(88.0f)));
                this.nameTextView[1].setTextColor(ColorUtils.blendARGB(this.peerColor == null ? -1 : getThemedColor(Theme.key_profile_title), -1, this.currentExpandAnimatorValue));
                this.actionBar.setItemsColor(ColorUtils.blendARGB(this.peerColor == null ? -1 : getThemedColor(Theme.key_actionBarDefaultIcon), -1, lerp), false);
                this.actionBar.setMenuOffsetSuppressed(true);
                this.avatarImage.setForegroundAlpha(lerp);
                FrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) this.avatarContainer.getLayoutParams();
                layoutParams.width = (int) AndroidUtilities.lerp(AndroidUtilities.dpf2(42.0f), this.listView.getMeasuredWidth() / this.avatarScale, lerp);
                layoutParams.height = (int) AndroidUtilities.lerp(AndroidUtilities.dpf2(42.0f), (this.extraHeight + f3) / this.avatarScale, lerp);
                layoutParams.leftMargin = (int) AndroidUtilities.lerp(AndroidUtilities.dpf2(64.0f), 0.0f, lerp);
                this.avatarContainer.requestLayout();
            }
        } else {
            themedColor = getThemedColor(Theme.key_avatar_subtitleInProfileBlue);
        }
        z = false;
        this.onlineTextView[1].setTextColor(ColorUtils.blendARGB(applyPeerColor(themedColor, true, Boolean.valueOf(z)), -1275068417, lerp));
        if (this.extraHeight > AndroidUtilities.dp(88.0f)) {
        }
        showDrawable = this.showStatusButton;
        if (showDrawable != null) {
        }
        needLayoutText(Math.min(1.0f, this.extraHeight / AndroidUtilities.dp(88.0f)));
        this.nameTextView[1].setTextColor(ColorUtils.blendARGB(this.peerColor == null ? -1 : getThemedColor(Theme.key_profile_title), -1, this.currentExpandAnimatorValue));
        this.actionBar.setItemsColor(ColorUtils.blendARGB(this.peerColor == null ? -1 : getThemedColor(Theme.key_actionBarDefaultIcon), -1, lerp), false);
        this.actionBar.setMenuOffsetSuppressed(true);
        this.avatarImage.setForegroundAlpha(lerp);
        FrameLayout.LayoutParams layoutParams2 = (FrameLayout.LayoutParams) this.avatarContainer.getLayoutParams();
        layoutParams2.width = (int) AndroidUtilities.lerp(AndroidUtilities.dpf2(42.0f), this.listView.getMeasuredWidth() / this.avatarScale, lerp);
        layoutParams2.height = (int) AndroidUtilities.lerp(AndroidUtilities.dpf2(42.0f), (this.extraHeight + f3) / this.avatarScale, lerp);
        layoutParams2.leftMargin = (int) AndroidUtilities.lerp(AndroidUtilities.dpf2(64.0f), 0.0f, lerp);
        this.avatarContainer.requestLayout();
    }

    public void setForegroundImage(boolean z) {
        Drawable drawable = this.avatarImage.getImageReceiver().getDrawable();
        String str = null;
        if (drawable instanceof VectorAvatarThumbDrawable) {
            this.avatarImage.setForegroundImage(null, null, drawable);
        } else if (drawable instanceof AnimatedFileDrawable) {
            AnimatedFileDrawable animatedFileDrawable = (AnimatedFileDrawable) drawable;
            this.avatarImage.setForegroundImage(null, null, animatedFileDrawable);
            if (z) {
                animatedFileDrawable.addSecondParentView(this.avatarImage);
            }
        } else {
            ImageLocation imageLocation = this.avatarsViewPager.getImageLocation(0);
            if (imageLocation != null && imageLocation.imageType == 2) {
                str = "avatar";
            }
            this.avatarImage.setForegroundImage(imageLocation, str, drawable);
        }
    }

    private void setMediaHeaderVisible(boolean z) {
        if (this.mediaHeaderVisible == z) {
            return;
        }
        this.mediaHeaderVisible = z;
        AnimatorSet animatorSet = this.headerAnimatorSet;
        if (animatorSet != null) {
            animatorSet.cancel();
        }
        AnimatorSet animatorSet2 = this.headerShadowAnimatorSet;
        if (animatorSet2 != null) {
            animatorSet2.cancel();
        }
        final ActionBarMenuItem searchItem = this.sharedMediaLayout.getSearchItem();
        RLottieImageView searchOptionsItem = this.sharedMediaLayout.getSearchOptionsItem();
        if (this.mediaHeaderVisible) {
            if (this.sharedMediaLayout.isSearchItemVisible()) {
                searchItem.setVisibility(0);
            }
            if (searchOptionsItem != null) {
                searchOptionsItem.setVisibility(0);
            }
            if (this.sharedMediaLayout.isOptionsItemVisible()) {
                this.sharedMediaLayout.photoVideoOptionsItem.setVisibility(0);
                this.sharedMediaLayout.animateSearchToOptions(true, false);
            } else {
                this.sharedMediaLayout.photoVideoOptionsItem.setVisibility(4);
                this.sharedMediaLayout.animateSearchToOptions(false, false);
            }
        } else {
            if (this.callItemVisible) {
                this.callItem.setVisibility(0);
            }
            if (this.videoCallItemVisible) {
                this.videoCallItem.setVisibility(0);
            }
            if (this.editItemVisible) {
                this.editItem.setVisibility(0);
            }
            this.otherItem.setVisibility(0);
            if (searchOptionsItem != null) {
                searchOptionsItem.setVisibility(8);
            }
        }
        updateStoriesViewBounds(false);
        ActionBar actionBar = this.actionBar;
        if (actionBar != null) {
            actionBar.createMenu().requestLayout();
        }
        ArrayList arrayList = new ArrayList();
        ActionBarMenuItem actionBarMenuItem = this.callItem;
        Property property = View.ALPHA;
        arrayList.add(ObjectAnimator.ofFloat(actionBarMenuItem, property, z ? 0.0f : 1.0f));
        arrayList.add(ObjectAnimator.ofFloat(this.videoCallItem, property, z ? 0.0f : 1.0f));
        arrayList.add(ObjectAnimator.ofFloat(this.otherItem, property, z ? 0.0f : 1.0f));
        arrayList.add(ObjectAnimator.ofFloat(this.editItem, property, z ? 0.0f : 1.0f));
        ActionBarMenuItem actionBarMenuItem2 = this.callItem;
        Property property2 = View.TRANSLATION_Y;
        arrayList.add(ObjectAnimator.ofFloat(actionBarMenuItem2, property2, z ? -AndroidUtilities.dp(10.0f) : 0.0f));
        arrayList.add(ObjectAnimator.ofFloat(this.videoCallItem, property2, z ? -AndroidUtilities.dp(10.0f) : 0.0f));
        arrayList.add(ObjectAnimator.ofFloat(this.otherItem, property2, z ? -AndroidUtilities.dp(10.0f) : 0.0f));
        arrayList.add(ObjectAnimator.ofFloat(this.editItem, property2, z ? -AndroidUtilities.dp(10.0f) : 0.0f));
        arrayList.add(ObjectAnimator.ofFloat(searchItem, property, z ? 1.0f : 0.0f));
        arrayList.add(ObjectAnimator.ofFloat(searchItem, property2, z ? 0.0f : AndroidUtilities.dp(10.0f)));
        arrayList.add(ObjectAnimator.ofFloat(this.sharedMediaLayout.photoVideoOptionsItem, property, z ? 1.0f : 0.0f));
        arrayList.add(ObjectAnimator.ofFloat(this.sharedMediaLayout.photoVideoOptionsItem, property2, z ? 0.0f : AndroidUtilities.dp(10.0f)));
        arrayList.add(ObjectAnimator.ofFloat(this.actionBar, this.ACTIONBAR_HEADER_PROGRESS, z ? 1.0f : 0.0f));
        arrayList.add(ObjectAnimator.ofFloat(this.onlineTextView[1], property, z ? 0.0f : 1.0f));
        if (this.myProfile) {
            arrayList.add(ObjectAnimator.ofFloat(this.onlineTextView[3], property, z ? 0.0f : 1.0f));
        }
        arrayList.add(ObjectAnimator.ofFloat(this.mediaCounterTextView, property, z ? 1.0f : 0.0f));
        if (z) {
            arrayList.add(ObjectAnimator.ofFloat(this, this.HEADER_SHADOW, 0.0f));
        }
        if (this.storyView != null) {
            ValueAnimator ofFloat = ValueAnimator.ofFloat(0.0f, 1.0f);
            ofFloat.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda30
                @Override // android.animation.ValueAnimator.AnimatorUpdateListener
                public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                    ProfileActivity.this.lambda$setMediaHeaderVisible$61(valueAnimator);
                }
            });
            arrayList.add(ofFloat);
        }
        AnimatorSet animatorSet3 = new AnimatorSet();
        this.headerAnimatorSet = animatorSet3;
        animatorSet3.playTogether(arrayList);
        this.headerAnimatorSet.setInterpolator(CubicBezierInterpolator.DEFAULT);
        this.headerAnimatorSet.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.45
            {
                ProfileActivity.this = this;
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationCancel(Animator animator) {
                ProfileActivity.this.headerAnimatorSet = null;
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationEnd(Animator animator) {
                if (ProfileActivity.this.headerAnimatorSet != null) {
                    if (ProfileActivity.this.mediaHeaderVisible) {
                        if (ProfileActivity.this.callItemVisible) {
                            ProfileActivity.this.callItem.setVisibility(8);
                        }
                        if (ProfileActivity.this.videoCallItemVisible) {
                            ProfileActivity.this.videoCallItem.setVisibility(8);
                        }
                        if (ProfileActivity.this.editItemVisible) {
                            ProfileActivity.this.editItem.setVisibility(8);
                        }
                        ProfileActivity.this.otherItem.setVisibility(8);
                    } else {
                        if (ProfileActivity.this.sharedMediaLayout.isSearchItemVisible()) {
                            searchItem.setVisibility(0);
                        }
                        ProfileActivity.this.sharedMediaLayout.photoVideoOptionsItem.setVisibility(4);
                        ProfileActivity.this.headerShadowAnimatorSet = new AnimatorSet();
                        AnimatorSet animatorSet4 = ProfileActivity.this.headerShadowAnimatorSet;
                        ProfileActivity profileActivity = ProfileActivity.this;
                        animatorSet4.playTogether(ObjectAnimator.ofFloat(profileActivity, profileActivity.HEADER_SHADOW, 1.0f));
                        ProfileActivity.this.headerShadowAnimatorSet.setDuration(100L);
                        ProfileActivity.this.headerShadowAnimatorSet.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.45.1
                            {
                                45.this = this;
                            }

                            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                            public void onAnimationEnd(Animator animator2) {
                                ProfileActivity.this.headerShadowAnimatorSet = null;
                            }
                        });
                        ProfileActivity.this.headerShadowAnimatorSet.start();
                    }
                }
                ProfileActivity.this.updateStoriesViewBounds(false);
                ProfileActivity.this.headerAnimatorSet = null;
            }
        });
        this.headerAnimatorSet.setDuration(150L);
        this.headerAnimatorSet.start();
        NotificationCenter.getGlobalInstance().lambda$postNotificationNameOnUIThread$1(NotificationCenter.needCheckSystemBarColors, Boolean.TRUE);
    }

    public void showAvatarProgress(final boolean z, boolean z2) {
        if (this.avatarProgressView == null) {
            return;
        }
        AnimatorSet animatorSet = this.avatarAnimation;
        if (animatorSet != null) {
            animatorSet.cancel();
            this.avatarAnimation = null;
        }
        if (!z2) {
            if (z) {
                this.avatarProgressView.setAlpha(1.0f);
                this.avatarProgressView.setVisibility(0);
                return;
            }
            this.avatarProgressView.setAlpha(0.0f);
            this.avatarProgressView.setVisibility(4);
            return;
        }
        AnimatorSet animatorSet2 = new AnimatorSet();
        this.avatarAnimation = animatorSet2;
        if (z) {
            this.avatarProgressView.setVisibility(0);
            this.avatarAnimation.playTogether(ObjectAnimator.ofFloat(this.avatarProgressView, View.ALPHA, 1.0f));
        } else {
            animatorSet2.playTogether(ObjectAnimator.ofFloat(this.avatarProgressView, View.ALPHA, 0.0f));
        }
        this.avatarAnimation.setDuration(180L);
        this.avatarAnimation.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.53
            {
                ProfileActivity.this = this;
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationCancel(Animator animator) {
                ProfileActivity.this.avatarAnimation = null;
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationEnd(Animator animator) {
                if (ProfileActivity.this.avatarAnimation == null || ProfileActivity.this.avatarProgressView == null) {
                    return;
                }
                if (!z) {
                    ProfileActivity.this.avatarProgressView.setVisibility(4);
                }
                ProfileActivity.this.avatarAnimation = null;
            }
        });
        this.avatarAnimation.start();
    }

    private void updateAutoDeleteItem() {
        if (this.autoDeleteItem == null || this.autoDeletePopupWrapper == null) {
            return;
        }
        TLRPC$UserFull tLRPC$UserFull = this.userInfo;
        int i = (tLRPC$UserFull == null && this.chatInfo == null) ? 0 : tLRPC$UserFull != null ? tLRPC$UserFull.ttl_period : this.chatInfo.ttl_period;
        this.autoDeleteItemDrawable.setTime(i);
        this.autoDeletePopupWrapper.lambda$updateItems$7(i);
    }

    public void updateAvatarRoundRadius() {
        this.avatarImage.setRoundRadius((int) AndroidUtilities.lerp(getSmallAvatarRoundRadius(), 0.0f, this.currentExpandAnimatorValue));
    }

    public void updateBottomButtonY() {
        FrameLayout frameLayout = this.bottomButtonsContainer;
        if (frameLayout == null) {
            return;
        }
        frameLayout.setTranslationY(this.sharedMediaLayout.isAttachedToWindow() ? Math.max(0.0f, AndroidUtilities.dp(184.0f) - (this.listView.getMeasuredHeight() - this.sharedMediaLayout.getY())) : AndroidUtilities.dp(72.0f));
        Bulletin visibleBulletin = Bulletin.getVisibleBulletin();
        if (visibleBulletin != null) {
            visibleBulletin.updatePosition();
        }
    }

    private void updateEditColorIcon() {
        if (getContext() == null || this.editColorItem == null) {
            return;
        }
        if (getUserConfig().isPremium()) {
            this.editColorItem.setIcon(R.drawable.menu_profile_colors);
            return;
        }
        Drawable drawable = ContextCompat.getDrawable(getContext(), R.drawable.menu_profile_colors_locked);
        drawable.setColorFilter(new PorterDuffColorFilter(getThemedColor(Theme.key_actionBarDefaultSubmenuItemIcon), PorterDuff.Mode.SRC_IN));
        Drawable drawable2 = ContextCompat.getDrawable(getContext(), R.drawable.msg_gallery_locked2);
        drawable2.setColorFilter(new PorterDuffColorFilter(ColorUtils.blendARGB(-1, -16777216, 0.5f), PorterDuff.Mode.MULTIPLY));
        this.editColorItem.setIcon(new CombinedDrawable(drawable, drawable2, AndroidUtilities.dp(1.0f), -AndroidUtilities.dp(1.0f)) { // from class: org.telegram.ui.ProfileActivity.56
            {
                ProfileActivity.this = this;
            }

            @Override // org.telegram.ui.Components.CombinedDrawable, android.graphics.drawable.Drawable
            public void setColorFilter(ColorFilter colorFilter) {
            }
        });
    }

    public void updateEmojiStatusDrawableColor() {
        updateEmojiStatusDrawableColor(this.lastEmojiStatusProgress);
    }

    public void updateEmojiStatusDrawableColor(float f) {
        for (int i = 0; i < 2; i++) {
            MessagesController.PeerColor peerColor = this.peerColor;
            int blendARGB = ColorUtils.blendARGB(ColorUtils.blendARGB((peerColor == null || i != 1) ? AndroidUtilities.getOffsetColor(getThemedColor(Theme.key_profile_verifiedBackground), getThemedColor(Theme.key_player_actionBarTitle), this.mediaHeaderAnimationProgress, 1.0f) : ColorUtils.blendARGB(peerColor.getColor2(), this.peerColor.hasColor6(Theme.isCurrentThemeDark()) ? this.peerColor.getColor5() : this.peerColor.getColor3(), 0.5f), -1, f), getThemedColor(Theme.key_player_actionBarTitle), this.mediaHeaderAnimationProgress);
            AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable swapAnimatedEmojiDrawable = this.emojiStatusDrawable[i];
            if (swapAnimatedEmojiDrawable != null) {
                swapAnimatedEmojiDrawable.setColor(Integer.valueOf(blendARGB));
            }
            if (i == 1) {
                this.animatedStatusView.setColor(blendARGB);
            }
        }
        this.lastEmojiStatusProgress = f;
    }

    public void updateEmojiStatusEffectPosition() {
        this.animatedStatusView.setScaleX(this.nameTextView[1].getScaleX());
        this.animatedStatusView.setScaleY(this.nameTextView[1].getScaleY());
        this.animatedStatusView.translate(this.nameTextView[1].getX() + (this.nameTextView[1].getRightDrawableX() * this.nameTextView[1].getScaleX()), this.nameTextView[1].getY() + (this.nameTextView[1].getHeight() - ((this.nameTextView[1].getHeight() - this.nameTextView[1].getRightDrawableY()) * this.nameTextView[1].getScaleY())));
    }

    public void updateExceptions() {
        if (this.isTopic || !ChatObject.isForum(this.currentChat)) {
            return;
        }
        getNotificationsController().loadTopicsNotificationsExceptions(-this.chatId, new j$.util.function.Consumer() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda45
            @Override // j$.util.function.Consumer
            public final void accept(Object obj) {
                ProfileActivity.this.lambda$updateExceptions$2((HashSet) obj);
            }

            @Override // j$.util.function.Consumer
            public /* synthetic */ j$.util.function.Consumer andThen(j$.util.function.Consumer consumer) {
                return Consumer.-CC.$default$andThen(this, consumer);
            }
        });
    }

    private void updateFloatingButtonColor() {
        if (getParentActivity() == null || this.floatingButtonContainer == null) {
            return;
        }
        Drawable createSimpleSelectorCircleDrawable = Theme.createSimpleSelectorCircleDrawable(AndroidUtilities.dp(56.0f), applyPeerColor(Theme.getColor(Theme.key_chats_actionBackground), false), applyPeerColor(Theme.getColor(Theme.key_chats_actionPressedBackground), false));
        if (Build.VERSION.SDK_INT < 21) {
            Drawable mutate = ContextCompat.getDrawable(getParentActivity(), R.drawable.floating_shadow).mutate();
            mutate.setColorFilter(new PorterDuffColorFilter(-16777216, PorterDuff.Mode.MULTIPLY));
            CombinedDrawable combinedDrawable = new CombinedDrawable(mutate, createSimpleSelectorCircleDrawable, 0, 0);
            combinedDrawable.setIconSize(AndroidUtilities.dp(56.0f), AndroidUtilities.dp(56.0f));
            createSimpleSelectorCircleDrawable = combinedDrawable;
        }
        this.floatingButtonContainer.setBackground(createSimpleSelectorCircleDrawable);
    }

    private void updateFloatingButtonOffset() {
        FrameLayout frameLayout = this.floatingButtonContainer;
        if (frameLayout != null) {
            frameLayout.setTranslationY(AndroidUtilities.dp(100.0f) * this.floatingButtonHideProgress);
        }
    }

    private void updateItemsUsername() {
        TLRPC$User user;
        if (this.myProfile && (user = getMessagesController().getUser(Long.valueOf(this.userId))) != null) {
            boolean z = UserObject.getPublicUsername(user) != null;
            this.setUsernameItem.setIcon(z ? R.drawable.menu_username_change : R.drawable.menu_username_set);
            this.setUsernameItem.setText(LocaleController.getString(z ? R.string.ProfileUsernameEdit : R.string.ProfileUsernameSet));
            this.linkItem.setVisibility(UserObject.getPublicUsername(user) == null ? 8 : 0);
        }
    }

    public void updateOnlineCount(boolean z) {
        TLRPC$UserStatus tLRPC$UserStatus;
        boolean z2;
        this.onlineCount = 0;
        final int currentTime = getConnectionsManager().getCurrentTime();
        this.sortedUsers.clear();
        TLRPC$ChatFull tLRPC$ChatFull = this.chatInfo;
        if (!(tLRPC$ChatFull instanceof TLRPC$TL_chatFull) && (!((z2 = tLRPC$ChatFull instanceof TLRPC$TL_channelFull)) || tLRPC$ChatFull.participants_count > 200 || tLRPC$ChatFull.participants == null)) {
            if (!z2 || tLRPC$ChatFull.participants_count <= 200) {
                return;
            }
            this.onlineCount = tLRPC$ChatFull.online_count;
            return;
        }
        for (int i = 0; i < this.chatInfo.participants.participants.size(); i++) {
            TLRPC$User user = getMessagesController().getUser(Long.valueOf(((TLRPC$ChatParticipant) this.chatInfo.participants.participants.get(i)).user_id));
            if (user != null && (tLRPC$UserStatus = user.status) != null && ((tLRPC$UserStatus.expires > currentTime || user.id == getUserConfig().getClientUserId()) && user.status.expires > 10000)) {
                this.onlineCount++;
            }
            this.sortedUsers.add(Integer.valueOf(i));
        }
        try {
            Collections.sort(this.sortedUsers, Comparator$-EL.reversed(Comparator$-CC.comparingInt(new ToIntFunction() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda20
                @Override // j$.util.function.ToIntFunction
                public final int applyAsInt(Object obj) {
                    int lambda$updateOnlineCount$69;
                    lambda$updateOnlineCount$69 = ProfileActivity.this.lambda$updateOnlineCount$69(currentTime, obj);
                    return lambda$updateOnlineCount$69;
                }
            })));
        } catch (Exception e) {
            FileLog.e(e);
        }
        if (z && this.listAdapter != null && this.membersStartRow > 0) {
            AndroidUtilities.updateVisibleRows(this.listView);
        }
        if (this.sharedMediaLayout == null || this.sharedMediaRow == -1) {
            return;
        }
        if ((this.sortedUsers.size() > 5 || this.usersForceShowingIn == 2) && this.usersForceShowingIn != 1) {
            this.sharedMediaLayout.setChatUsers(this.sortedUsers, this.chatInfo);
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:1041:0x0861, code lost:
        if (r34.nameTextView[r8].setText(r15) == false) goto L366;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1049:0x0889, code lost:
        if (r34.nameTextView[r8].setText(r3) != false) goto L464;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1050:0x088b, code lost:
        r13 = true;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1106:0x09d9, code lost:
        if (r8 == 0) goto L408;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1140:0x0ab0, code lost:
        if (r8 == 0) goto L408;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1141:0x0ab2, code lost:
        r5 = r18;
     */
    /* JADX WARN: Code restructure failed: missing block: B:1142:0x0ab5, code lost:
        r5 = r17;
     */
    /* JADX WARN: Code restructure failed: missing block: B:960:0x0683, code lost:
        if (r34.chatInfo.can_view_participants != false) goto L339;
     */
    /* JADX WARN: Removed duplicated region for block: B:1022:0x081a  */
    /* JADX WARN: Removed duplicated region for block: B:1069:0x08f1  */
    /* JADX WARN: Removed duplicated region for block: B:1145:0x0abe  */
    /* JADX WARN: Removed duplicated region for block: B:1149:0x0ac6  */
    /* JADX WARN: Removed duplicated region for block: B:1150:0x0ad2  */
    /* JADX WARN: Removed duplicated region for block: B:1154:0x0af5  */
    /* JADX WARN: Removed duplicated region for block: B:1157:0x0afc  */
    /* JADX WARN: Removed duplicated region for block: B:1163:0x0b08  */
    /* JADX WARN: Removed duplicated region for block: B:1164:0x0b14  */
    /* JADX WARN: Removed duplicated region for block: B:1167:0x0b34 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:1174:0x0b46  */
    /* JADX WARN: Removed duplicated region for block: B:1176:0x0b5a  */
    /* JADX WARN: Removed duplicated region for block: B:1182:0x0b6a  */
    /* JADX WARN: Removed duplicated region for block: B:1186:0x0b83  */
    /* JADX WARN: Removed duplicated region for block: B:1193:0x0bae  */
    /* JADX WARN: Removed duplicated region for block: B:1201:0x0bc7  */
    /* JADX WARN: Removed duplicated region for block: B:1203:0x0bca  */
    /* JADX WARN: Removed duplicated region for block: B:1208:0x0bd3  */
    /* JADX WARN: Removed duplicated region for block: B:637:0x004a  */
    /* JADX WARN: Removed duplicated region for block: B:674:0x00d4  */
    /* JADX WARN: Removed duplicated region for block: B:677:0x00dd  */
    /* JADX WARN: Removed duplicated region for block: B:694:0x012c  */
    /* JADX WARN: Removed duplicated region for block: B:701:0x015d  */
    /* JADX WARN: Removed duplicated region for block: B:709:0x01a5  */
    /* JADX WARN: Removed duplicated region for block: B:761:0x0256  */
    /* JADX WARN: Removed duplicated region for block: B:772:0x027b  */
    /* JADX WARN: Removed duplicated region for block: B:811:0x034f  */
    /* JADX WARN: Removed duplicated region for block: B:812:0x0354  */
    /* JADX WARN: Removed duplicated region for block: B:815:0x035b  */
    /* JADX WARN: Removed duplicated region for block: B:816:0x035d  */
    /* JADX WARN: Removed duplicated region for block: B:819:0x0363  */
    /* JADX WARN: Removed duplicated region for block: B:852:0x0433  */
    /* JADX WARN: Removed duplicated region for block: B:896:0x0512  */
    /* JADX WARN: Removed duplicated region for block: B:898:0x0531  */
    /* JADX WARN: Removed duplicated region for block: B:908:0x05bd  */
    /* JADX WARN: Removed duplicated region for block: B:911:0x05c8  */
    /* JADX WARN: Removed duplicated region for block: B:914:0x05d7  */
    /* JADX WARN: Removed duplicated region for block: B:923:0x05f2  */
    /* JADX WARN: Removed duplicated region for block: B:924:0x05f5  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void updateProfileData(boolean z) {
        String str;
        int i;
        int i2;
        String formatPluralString;
        String str2;
        boolean z2;
        TLRPC$ChatParticipants tLRPC$ChatParticipants;
        int i3;
        int i4;
        boolean z3;
        ImageLocation forUserOrChat;
        ImageLocation forUserOrChat2;
        ImageLocation currentVideoLocation;
        View findViewByPosition;
        String str3;
        ImageReceiver imageReceiver;
        boolean z4;
        ImageLocation imageLocation;
        String str4;
        String str5;
        String str6;
        boolean z5;
        SimpleTextView simpleTextView;
        Drawable drawable;
        String str7;
        String str8;
        String str9;
        SimpleTextView simpleTextView2;
        TLRPC$ChatFull tLRPC$ChatFull;
        String formatShortNumber;
        SimpleTextView simpleTextView3;
        int i5;
        String str10;
        int i6;
        String formatPluralString2;
        String str11;
        int i7;
        int i8;
        SpannableStringBuilder spannableStringBuilder;
        int i9;
        int i10;
        int i11;
        boolean z6;
        TLRPC$VideoSize tLRPC$VideoSize;
        VectorAvatarThumbDrawable vectorAvatarThumbDrawable;
        int i12;
        boolean z7;
        TLRPC$UserStatus tLRPC$UserStatus;
        int i13;
        int i14;
        char c;
        ChatActivityInterface chatActivityInterface;
        boolean z8;
        boolean z9;
        SimpleTextView simpleTextView4;
        Drawable drawable2;
        boolean z10;
        int i15;
        TLRPC$EmojiStatus tLRPC$EmojiStatus;
        String str12;
        ImageLocation imageLocation2;
        AvatarDrawable avatarDrawable;
        String str13;
        String str14;
        AvatarImageView avatarImageView;
        boolean z11 = true;
        if (this.avatarContainer == null || this.nameTextView == null || getParentActivity() == null) {
            return;
        }
        int connectionState = getConnectionsManager().getConnectionState();
        if (connectionState == 2) {
            i = R.string.WaitingForNetwork;
        } else if (connectionState == 1) {
            i = R.string.Connecting;
        } else if (connectionState == 5) {
            i = R.string.Updating;
        } else if (connectionState != 4) {
            str = null;
            this.hasFallbackPhoto = false;
            this.hasCustomPhoto = false;
            String str15 = "";
            if (this.userId != 0) {
                if (this.chatId != 0) {
                    TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(this.chatId));
                    if (chat != null) {
                        this.currentChat = chat;
                    } else {
                        chat = this.currentChat;
                    }
                    FlagSecureReason flagSecureReason = this.flagSecure;
                    if (flagSecureReason != null) {
                        flagSecureReason.invalidate();
                    }
                    int profileColorId = ChatObject.getProfileColorId(chat);
                    MessagesController.PeerColors peerColors = MessagesController.getInstance(this.currentAccount).profilePeerColors;
                    MessagesController.PeerColor peerColor = this.peerColor;
                    MessagesController.PeerColor color = peerColors == null ? null : peerColors.getColor(profileColorId);
                    this.peerColor = color;
                    if (peerColor != color) {
                        updatedPeerColor();
                    }
                    TopView topView = this.topView;
                    if (topView != null) {
                        topView.setBackgroundEmojiId(ChatObject.getProfileEmojiId(chat), true);
                    }
                    TLRPC$TL_forumTopic findTopic = this.isTopic ? getMessagesController().getTopicsController().findTopic(this.chatId, this.topicId) : null;
                    String str16 = "Members";
                    if (ChatObject.isChannel(chat)) {
                        if (!this.isTopic) {
                            TLRPC$ChatFull tLRPC$ChatFull2 = this.chatInfo;
                            if (tLRPC$ChatFull2 != null) {
                                TLRPC$Chat tLRPC$Chat = this.currentChat;
                                if (!tLRPC$Chat.megagroup) {
                                    if (tLRPC$ChatFull2.participants_count != 0) {
                                        if (!ChatObject.hasAdminRights(tLRPC$Chat)) {
                                        }
                                    }
                                }
                            }
                            i7 = this.currentChat.megagroup ? R.string.Loading : ChatObject.isPublic(chat) ? R.string.ChannelPublic : R.string.ChannelPrivate;
                            formatPluralString = LocaleController.getString(i7).toLowerCase();
                            str2 = formatPluralString;
                            z2 = false;
                            i2 = 2;
                            i4 = 0;
                            z3 = false;
                            while (i4 < i2) {
                                SimpleTextView simpleTextView5 = this.nameTextView[i4];
                                if (simpleTextView5 == null) {
                                    str4 = formatPluralString;
                                    str7 = str;
                                    str5 = str2;
                                    str9 = str16;
                                    str8 = str15;
                                    z5 = z2;
                                } else if (this.isTopic) {
                                    CharSequence charSequence = findTopic == null ? str15 : findTopic.title;
                                    try {
                                        str4 = formatPluralString;
                                    } catch (Exception unused) {
                                        str4 = formatPluralString;
                                    }
                                    try {
                                        str5 = str2;
                                    } catch (Exception unused2) {
                                        str5 = str2;
                                    }
                                    try {
                                        charSequence = Emoji.replaceEmoji(charSequence, simpleTextView5.getPaint().getFontMetricsInt(), AndroidUtilities.dp(24.0f), false);
                                    } catch (Exception unused3) {
                                    }
                                } else {
                                    str4 = formatPluralString;
                                    str5 = str2;
                                    CharSequence charSequence2 = chat.title;
                                    if (charSequence2 != null) {
                                        try {
                                            charSequence2 = Emoji.replaceEmoji(charSequence2, simpleTextView5.getPaint().getFontMetricsInt(), AndroidUtilities.dp(24.0f), false);
                                        } catch (Exception unused4) {
                                        }
                                    }
                                    this.nameTextView[i4].setLeftDrawable((Drawable) null);
                                    this.nameTextView[i4].setRightDrawableOutside(i4 == 0);
                                    this.nameTextView[i4].setRightDrawableOnClick(null);
                                    boolean z12 = chat.scam;
                                    if (i4 != 0) {
                                        if (z12 || chat.fake) {
                                            this.nameTextView[i4].setRightDrawable2(getScamDrawable(!z12 ? 1 : 0));
                                            i6 = R.string.ScamMessage;
                                        } else if (chat.verified) {
                                            this.nameTextView[i4].setRightDrawable2(getVerifiedCrossfadeDrawable(i4));
                                            i6 = R.string.AccDescrVerified;
                                        } else {
                                            this.nameTextView[i4].setRightDrawable2(null);
                                            this.nameTextViewRightDrawableContentDescription = null;
                                            if (DialogObject.getEmojiStatusDocumentId(chat.emoji_status) != 0) {
                                                this.nameTextView[i4].setRightDrawable(getEmojiStatusDrawable(chat.emoji_status, true, false, i4));
                                                this.nameTextView[i4].setRightDrawableOutside(true);
                                                this.nameTextViewRightDrawableContentDescription = null;
                                                if (ChatObject.canChangeChatInfo(chat)) {
                                                    this.nameTextView[i4].setRightDrawableOnClick(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda27
                                                        @Override // android.view.View.OnClickListener
                                                        public final void onClick(View view) {
                                                            ProfileActivity.this.lambda$updateProfileData$75(view);
                                                        }
                                                    });
                                                    if (this.preloadedChannelEmojiStatuses) {
                                                        this.preloadedChannelEmojiStatuses = true;
                                                        getMediaDataController().loadRestrictedStatusEmojis();
                                                    }
                                                }
                                            }
                                            str6 = str15;
                                            z5 = z2;
                                        }
                                        this.nameTextViewRightDrawableContentDescription = LocaleController.getString(i6);
                                        if (DialogObject.getEmojiStatusDocumentId(chat.emoji_status) != 0) {
                                        }
                                        str6 = str15;
                                        z5 = z2;
                                    } else {
                                        if (z12 || chat.fake) {
                                            str6 = str15;
                                            z5 = z2;
                                            this.nameTextView[i4].setRightDrawable2(getScamDrawable(!z12 ? 1 : 0));
                                        } else if (chat.verified) {
                                            this.nameTextView[i4].setRightDrawable2(getVerifiedCrossfadeDrawable(i4));
                                            str6 = str15;
                                            z5 = z2;
                                        } else {
                                            str6 = str15;
                                            z5 = z2;
                                            if (getMessagesController().isDialogMuted(-this.chatId, this.topicId)) {
                                                simpleTextView = this.nameTextView[i4];
                                                drawable = getThemedDrawable("drawableMuteIcon");
                                            } else {
                                                simpleTextView = this.nameTextView[i4];
                                                drawable = null;
                                            }
                                            simpleTextView.setRightDrawable2(drawable);
                                        }
                                        if (DialogObject.getEmojiStatusDocumentId(chat.emoji_status) != 0) {
                                            this.nameTextView[i4].setRightDrawable(getEmojiStatusDrawable(chat.emoji_status, false, false, i4));
                                            this.nameTextView[i4].setRightDrawableOutside(true);
                                        } else {
                                            this.nameTextView[i4].setRightDrawable((Drawable) null);
                                        }
                                    }
                                    if (i4 != 0 || str == null) {
                                        TLRPC$Chat tLRPC$Chat2 = this.currentChat;
                                        if ((!tLRPC$Chat2.megagroup || this.chatInfo == null || this.onlineCount <= 0) && !this.isTopic) {
                                            if (i4 == 0 && ChatObject.isChannel(tLRPC$Chat2) && (tLRPC$ChatFull = this.chatInfo) != null && tLRPC$ChatFull.participants_count != 0) {
                                                TLRPC$Chat tLRPC$Chat3 = this.currentChat;
                                                if (tLRPC$Chat3.megagroup || tLRPC$Chat3.broadcast) {
                                                    int[] iArr = new int[1];
                                                    if (AndroidUtilities.isAccessibilityScreenReaderEnabled()) {
                                                        int i16 = this.chatInfo.participants_count;
                                                        iArr[0] = i16;
                                                        formatShortNumber = String.valueOf(i16);
                                                    } else {
                                                        formatShortNumber = LocaleController.formatShortNumber(this.chatInfo.participants_count, iArr);
                                                    }
                                                    if (!this.currentChat.megagroup) {
                                                        str7 = str;
                                                        str8 = str6;
                                                        str9 = str16;
                                                        this.onlineTextView[i4].setText(LocaleController.formatPluralString("Subscribers", iArr[0], new Object[0]).replace(String.format("%d", Integer.valueOf(iArr[0])), formatShortNumber));
                                                    } else if (this.chatInfo.participants_count == 0) {
                                                        if (chat.has_geo) {
                                                            simpleTextView3 = this.onlineTextView[i4];
                                                            i5 = R.string.MegaLocation;
                                                        } else if (ChatObject.isPublic(chat)) {
                                                            simpleTextView3 = this.onlineTextView[i4];
                                                            i5 = R.string.MegaPublic;
                                                        } else {
                                                            simpleTextView3 = this.onlineTextView[i4];
                                                            i5 = R.string.MegaPrivate;
                                                        }
                                                        simpleTextView3.setText(LocaleController.getString(i5).toLowerCase());
                                                    } else {
                                                        str7 = str;
                                                        str8 = str6;
                                                        str9 = str16;
                                                        this.onlineTextView[i4].setText(LocaleController.formatPluralString(str16, iArr[0], new Object[0]).replace(String.format("%d", Integer.valueOf(iArr[0])), formatShortNumber));
                                                    }
                                                    if (i4 == 1 && this.isTopic) {
                                                        SimpleTextView[] simpleTextViewArr = this.onlineTextView;
                                                        if (z5) {
                                                            simpleTextViewArr[i4].setOnClickListener(null);
                                                            this.onlineTextView[i4].setClickable(false);
                                                        } else {
                                                            simpleTextViewArr[i4].setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda28
                                                                @Override // android.view.View.OnClickListener
                                                                public final void onClick(View view) {
                                                                    ProfileActivity.this.lambda$updateProfileData$76(view);
                                                                }
                                                            });
                                                        }
                                                    }
                                                }
                                            }
                                            str7 = str;
                                            str8 = str6;
                                            str9 = str16;
                                            simpleTextView2 = this.onlineTextView[i4];
                                        } else {
                                            simpleTextView2 = this.onlineTextView[i4];
                                            str7 = str;
                                            str8 = str6;
                                            str9 = str16;
                                        }
                                        simpleTextView2.setText(str10);
                                        if (i4 == 1) {
                                            SimpleTextView[] simpleTextViewArr2 = this.onlineTextView;
                                            if (z5) {
                                            }
                                        }
                                    } else {
                                        this.onlineTextView[i4].setText(str);
                                    }
                                    str7 = str;
                                    str8 = str6;
                                    str9 = str16;
                                    if (i4 == 1) {
                                    }
                                }
                                i4++;
                                z2 = z5;
                                formatPluralString = str4;
                                str2 = str5;
                                str = str7;
                                str15 = str8;
                                str16 = str9;
                                i2 = 2;
                            }
                            if (z3) {
                                needLayout(true);
                            }
                            TLRPC$ChatPhoto tLRPC$ChatPhoto = chat.photo;
                            TLRPC$FileLocation tLRPC$FileLocation = (tLRPC$ChatPhoto != null || this.isTopic) ? null : tLRPC$ChatPhoto.photo_big;
                            if (this.isTopic) {
                                this.avatarDrawable.setInfo(this.currentAccount, chat);
                                forUserOrChat = ImageLocation.getForUserOrChat(chat, 0);
                                forUserOrChat2 = ImageLocation.getForUserOrChat(chat, 1);
                                currentVideoLocation = this.avatarsViewPager.getCurrentVideoLocation(forUserOrChat2, forUserOrChat);
                            } else {
                                ForumUtilities.setTopicIcon(this.avatarImage, findTopic, true, true, this.resourcesProvider);
                                forUserOrChat2 = null;
                                forUserOrChat = null;
                                currentVideoLocation = null;
                            }
                            boolean initIfEmpty = this.avatarsViewPager.initIfEmpty(null, forUserOrChat, forUserOrChat2, z);
                            if ((forUserOrChat != null || initIfEmpty) && this.isPulledDown) {
                                findViewByPosition = this.layoutManager.findViewByPosition(0);
                                if (findViewByPosition != null) {
                                    this.listView.smoothScrollBy(0, findViewByPosition.getTop() - AndroidUtilities.dp(88.0f), CubicBezierInterpolator.EASE_OUT_QUINT);
                                }
                            }
                            str3 = (currentVideoLocation == null && currentVideoLocation.imageType == 2) ? ImageLoader.AUTOPLAY_FILTER : null;
                            if (this.avatarBig == null && !this.isTopic) {
                                this.avatarImage.setImage(currentVideoLocation, str3, forUserOrChat2, "50_50", this.avatarDrawable, chat);
                            }
                            if (forUserOrChat != null && ((imageLocation = this.prevLoadedImageLocation) == null || forUserOrChat.photoId != imageLocation.photoId)) {
                                this.prevLoadedImageLocation = forUserOrChat;
                                getFileLoader().loadFile(forUserOrChat, chat, null, 0, 1);
                            }
                            imageReceiver = this.avatarImage.getImageReceiver();
                            boolean z13 = PhotoViewer.isShowingImage(tLRPC$FileLocation) && (getLastStoryViewer() == null || getLastStoryViewer().transitionViewHolder.view != this.avatarImage);
                            if (this.storyView == null) {
                                z4 = z13;
                            } else {
                                z4 = z13;
                            }
                        }
                        if (this.isTopic) {
                            if (findTopic != null) {
                                i9 = 1;
                                i10 = findTopic.totalMessagesCount - 1;
                            } else {
                                i9 = 1;
                                i10 = 0;
                            }
                            if (i10 > 0) {
                                Object[] objArr = new Object[i9];
                                i11 = 0;
                                objArr[0] = Integer.valueOf(i10);
                                formatPluralString2 = LocaleController.formatPluralString("messages", i10, objArr);
                            } else {
                                i11 = 0;
                                int i17 = R.string.TopicProfileStatus;
                                Object[] objArr2 = new Object[i9];
                                objArr2[0] = chat.title;
                                formatPluralString2 = LocaleController.formatString("TopicProfileStatus", i17, objArr2);
                            }
                            SpannableString spannableString = new SpannableString(">");
                            spannableString.setSpan(new ColoredImageSpan(R.drawable.arrow_newchat), i11, 1, 33);
                            z2 = true;
                            spannableStringBuilder = new SpannableStringBuilder(chat.title).append(' ').append((CharSequence) spannableString);
                        } else {
                            if (!this.currentChat.megagroup) {
                                LocaleController.formatShortNumber(this.chatInfo.participants_count, new int[1]);
                                if (this.currentChat.megagroup) {
                                    str2 = LocaleController.formatPluralString("Members", this.chatInfo.participants_count, new Object[0]);
                                    formatPluralString = LocaleController.formatPluralStringComma("Members", this.chatInfo.participants_count);
                                    z2 = false;
                                    i2 = 2;
                                    i4 = 0;
                                    z3 = false;
                                    while (i4 < i2) {
                                    }
                                    if (z3) {
                                    }
                                    TLRPC$ChatPhoto tLRPC$ChatPhoto2 = chat.photo;
                                    if (tLRPC$ChatPhoto2 != null) {
                                    }
                                    if (this.isTopic) {
                                    }
                                    boolean initIfEmpty2 = this.avatarsViewPager.initIfEmpty(null, forUserOrChat, forUserOrChat2, z);
                                    if (forUserOrChat != null) {
                                    }
                                    findViewByPosition = this.layoutManager.findViewByPosition(0);
                                    if (findViewByPosition != null) {
                                    }
                                    if (currentVideoLocation == null) {
                                    }
                                    if (this.avatarBig == null) {
                                    }
                                    if (forUserOrChat != null) {
                                    }
                                    imageReceiver = this.avatarImage.getImageReceiver();
                                    if (PhotoViewer.isShowingImage(tLRPC$FileLocation)) {
                                    }
                                    if (this.storyView == null) {
                                    }
                                } else {
                                    formatPluralString2 = LocaleController.formatPluralString("Subscribers", this.chatInfo.participants_count, new Object[0]);
                                    str11 = LocaleController.formatPluralStringComma("Subscribers", this.chatInfo.participants_count);
                                }
                            } else if (this.onlineCount <= 1 || (i8 = this.chatInfo.participants_count) == 0) {
                                int i18 = this.chatInfo.participants_count;
                                if (i18 == 0) {
                                    i7 = chat.has_geo ? R.string.MegaLocation : ChatObject.isPublic(chat) ? R.string.MegaPublic : R.string.MegaPrivate;
                                    formatPluralString = LocaleController.getString(i7).toLowerCase();
                                    str2 = formatPluralString;
                                    z2 = false;
                                    i2 = 2;
                                    i4 = 0;
                                    z3 = false;
                                    while (i4 < i2) {
                                    }
                                    if (z3) {
                                    }
                                    TLRPC$ChatPhoto tLRPC$ChatPhoto22 = chat.photo;
                                    if (tLRPC$ChatPhoto22 != null) {
                                    }
                                    if (this.isTopic) {
                                    }
                                    boolean initIfEmpty22 = this.avatarsViewPager.initIfEmpty(null, forUserOrChat, forUserOrChat2, z);
                                    if (forUserOrChat != null) {
                                    }
                                    findViewByPosition = this.layoutManager.findViewByPosition(0);
                                    if (findViewByPosition != null) {
                                    }
                                    if (currentVideoLocation == null) {
                                    }
                                    if (this.avatarBig == null) {
                                        this.avatarImage.setImage(currentVideoLocation, str3, forUserOrChat2, "50_50", this.avatarDrawable, chat);
                                    }
                                    if (forUserOrChat != null) {
                                        this.prevLoadedImageLocation = forUserOrChat;
                                        getFileLoader().loadFile(forUserOrChat, chat, null, 0, 1);
                                    }
                                    imageReceiver = this.avatarImage.getImageReceiver();
                                    if (PhotoViewer.isShowingImage(tLRPC$FileLocation)) {
                                    }
                                    if (this.storyView == null) {
                                    }
                                } else {
                                    formatPluralString2 = LocaleController.formatPluralString("Members", i18, new Object[0]);
                                    str11 = LocaleController.formatPluralStringComma("Members", this.chatInfo.participants_count);
                                }
                            } else {
                                formatPluralString2 = String.format("%s, %s", LocaleController.formatPluralString("Members", i8, new Object[0]), LocaleController.formatPluralString("OnlineCount", Math.min(this.onlineCount, this.chatInfo.participants_count), new Object[0]));
                                str11 = String.format("%s, %s", LocaleController.formatPluralStringComma("Members", this.chatInfo.participants_count), LocaleController.formatPluralStringComma("OnlineCount", Math.min(this.onlineCount, this.chatInfo.participants_count)));
                            }
                            z2 = false;
                            spannableStringBuilder = str11;
                        }
                        i2 = 2;
                        String str17 = spannableStringBuilder;
                        str2 = formatPluralString2;
                        formatPluralString = str17;
                        i4 = 0;
                        z3 = false;
                        while (i4 < i2) {
                        }
                        if (z3) {
                        }
                        TLRPC$ChatPhoto tLRPC$ChatPhoto222 = chat.photo;
                        if (tLRPC$ChatPhoto222 != null) {
                        }
                        if (this.isTopic) {
                        }
                        boolean initIfEmpty222 = this.avatarsViewPager.initIfEmpty(null, forUserOrChat, forUserOrChat2, z);
                        if (forUserOrChat != null) {
                        }
                        findViewByPosition = this.layoutManager.findViewByPosition(0);
                        if (findViewByPosition != null) {
                        }
                        if (currentVideoLocation == null) {
                        }
                        if (this.avatarBig == null) {
                        }
                        if (forUserOrChat != null) {
                        }
                        imageReceiver = this.avatarImage.getImageReceiver();
                        if (PhotoViewer.isShowingImage(tLRPC$FileLocation)) {
                        }
                        if (this.storyView == null) {
                        }
                    } else {
                        if (ChatObject.isKickedFromChat(chat)) {
                            i3 = R.string.YouWereKicked;
                        } else if (ChatObject.isLeftFromChat(chat)) {
                            i3 = R.string.YouLeft;
                        } else {
                            int i19 = chat.participants_count;
                            TLRPC$ChatFull tLRPC$ChatFull3 = this.chatInfo;
                            if (tLRPC$ChatFull3 != null && (tLRPC$ChatParticipants = tLRPC$ChatFull3.participants) != null) {
                                i19 = tLRPC$ChatParticipants.participants.size();
                            }
                            if (i19 == 0 || this.onlineCount <= 1) {
                                i2 = 2;
                                formatPluralString = LocaleController.formatPluralString("Members", i19, new Object[0]);
                                str2 = formatPluralString;
                                z2 = false;
                            } else {
                                z2 = false;
                                i2 = 2;
                                formatPluralString = String.format("%s, %s", LocaleController.formatPluralString("Members", i19, new Object[0]), LocaleController.formatPluralString("OnlineCount", this.onlineCount, new Object[0]));
                                str2 = formatPluralString;
                            }
                            i4 = 0;
                            z3 = false;
                            while (i4 < i2) {
                            }
                            if (z3) {
                            }
                            TLRPC$ChatPhoto tLRPC$ChatPhoto2222 = chat.photo;
                            if (tLRPC$ChatPhoto2222 != null) {
                            }
                            if (this.isTopic) {
                            }
                            boolean initIfEmpty2222 = this.avatarsViewPager.initIfEmpty(null, forUserOrChat, forUserOrChat2, z);
                            if (forUserOrChat != null) {
                            }
                            findViewByPosition = this.layoutManager.findViewByPosition(0);
                            if (findViewByPosition != null) {
                            }
                            if (currentVideoLocation == null) {
                            }
                            if (this.avatarBig == null) {
                            }
                            if (forUserOrChat != null) {
                            }
                            imageReceiver = this.avatarImage.getImageReceiver();
                            if (PhotoViewer.isShowingImage(tLRPC$FileLocation)) {
                            }
                            if (this.storyView == null) {
                            }
                        }
                        formatPluralString = LocaleController.getString(i3);
                        str2 = formatPluralString;
                        z2 = false;
                        i2 = 2;
                        i4 = 0;
                        z3 = false;
                        while (i4 < i2) {
                        }
                        if (z3) {
                        }
                        TLRPC$ChatPhoto tLRPC$ChatPhoto22222 = chat.photo;
                        if (tLRPC$ChatPhoto22222 != null) {
                        }
                        if (this.isTopic) {
                        }
                        boolean initIfEmpty22222 = this.avatarsViewPager.initIfEmpty(null, forUserOrChat, forUserOrChat2, z);
                        if (forUserOrChat != null) {
                        }
                        findViewByPosition = this.layoutManager.findViewByPosition(0);
                        if (findViewByPosition != null) {
                        }
                        if (currentVideoLocation == null) {
                        }
                        if (this.avatarBig == null) {
                        }
                        if (forUserOrChat != null) {
                        }
                        imageReceiver = this.avatarImage.getImageReceiver();
                        if (PhotoViewer.isShowingImage(tLRPC$FileLocation)) {
                        }
                        if (this.storyView == null) {
                        }
                    }
                }
                if (this.qrItem != null) {
                    updateQrItemVisibility(true);
                }
                AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda29
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.this.updateEmojiStatusEffectPosition();
                    }
                });
            }
            final TLRPC$User user = getMessagesController().getUser(Long.valueOf(this.userId));
            if (user == null) {
                return;
            }
            TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto = user.photo;
            boolean z14 = tLRPC$UserProfilePhoto != null && tLRPC$UserProfilePhoto.personal;
            TLRPC$FileLocation tLRPC$FileLocation2 = tLRPC$UserProfilePhoto != null ? tLRPC$UserProfilePhoto.photo_big : null;
            this.avatarDrawable.setInfo(this.currentAccount, user);
            int profileColorId2 = UserObject.getProfileColorId(user);
            MessagesController.PeerColors peerColors2 = MessagesController.getInstance(this.currentAccount).profilePeerColors;
            MessagesController.PeerColor peerColor2 = this.peerColor;
            MessagesController.PeerColor color2 = peerColors2 == null ? null : peerColors2.getColor(profileColorId2);
            this.peerColor = color2;
            if (peerColor2 != color2) {
                updatedPeerColor();
            }
            TopView topView2 = this.topView;
            if (topView2 != null) {
                topView2.setBackgroundEmojiId(UserObject.getProfileEmojiId(user), true);
            }
            ImageLocation forUserOrChat3 = ImageLocation.getForUserOrChat(user, 0);
            ImageLocation forUserOrChat4 = ImageLocation.getForUserOrChat(user, 1);
            ImageLocation forUserOrChat5 = ImageLocation.getForUserOrChat(user, 4);
            TLRPC$UserFull tLRPC$UserFull = this.userInfo;
            if (tLRPC$UserFull != null) {
                TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto2 = user.photo;
                tLRPC$VideoSize = FileLoader.getVectorMarkupVideoSize((tLRPC$UserProfilePhoto2 == null || !tLRPC$UserProfilePhoto2.personal) ? tLRPC$UserFull.profile_photo : tLRPC$UserFull.personal_photo);
                if (tLRPC$VideoSize != null) {
                    vectorAvatarThumbDrawable = new VectorAvatarThumbDrawable(tLRPC$VideoSize, user.premium, 2);
                    ImageLocation currentVideoLocation2 = this.avatarsViewPager.getCurrentVideoLocation(forUserOrChat4, forUserOrChat3);
                    if (this.avatar == null) {
                        this.avatarsViewPager.initIfEmpty(vectorAvatarThumbDrawable, forUserOrChat3, forUserOrChat4, z);
                    }
                    if (this.avatarBig == null) {
                        if (tLRPC$VideoSize != null) {
                            this.avatarImage.setImageDrawable(vectorAvatarThumbDrawable);
                        } else {
                            if (forUserOrChat5 == null || user.photo.personal) {
                                AvatarImageView avatarImageView2 = this.avatarImage;
                                avatarDrawable = this.avatarDrawable;
                                str13 = ImageLoader.AUTOPLAY_FILTER;
                                str14 = "50_50";
                                avatarImageView = avatarImageView2;
                                forUserOrChat5 = currentVideoLocation2;
                            } else {
                                this.avatarImage.getImageReceiver().setVideoThumbIsSame(true);
                                AvatarImageView avatarImageView3 = this.avatarImage;
                                avatarDrawable = this.avatarDrawable;
                                str13 = "avatar";
                                str14 = "50_50";
                                avatarImageView = avatarImageView3;
                            }
                            avatarImageView.setImage(forUserOrChat5, str13, forUserOrChat4, str14, avatarDrawable, user);
                        }
                    }
                    if ((forUserOrChat4 != null && this.setAvatarRow != -1) || (forUserOrChat4 == null && this.setAvatarRow == -1)) {
                        updateListAnimated(false);
                        needLayout(true);
                    }
                    if (forUserOrChat3 != null && ((imageLocation2 = this.prevLoadedImageLocation) == null || forUserOrChat3.photoId != imageLocation2.photoId)) {
                        this.prevLoadedImageLocation = forUserOrChat3;
                        getFileLoader().loadFile(forUserOrChat3, user, null, 0, 1);
                    }
                    CharSequence userName = UserObject.getUserName(user);
                    if (user.id != getUserConfig().getClientUserId()) {
                        long j = user.id;
                        if (j == 333000 || j == 777000 || j == 42777) {
                            i12 = R.string.ServiceNotifications;
                        } else if (MessagesController.isSupportUser(user)) {
                            i12 = R.string.SupportStatus;
                        } else if (this.isBot) {
                            int i20 = user.bot_active_users;
                            if (i20 != 0) {
                                str15 = LocaleController.formatPluralStringComma("BotUsers", i20, ',');
                                z7 = false;
                                TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto3 = user.photo;
                                this.hasCustomPhoto = tLRPC$UserProfilePhoto3 == null && tLRPC$UserProfilePhoto3.personal;
                                userName = Emoji.replaceEmoji(userName, this.nameTextView[1].getPaint().getFontMetricsInt(), AndroidUtilities.dp(24.0f), false);
                                i13 = 0;
                                while (i13 < 2) {
                                }
                                if (this.userId == UserConfig.getInstance(this.currentAccount).clientUserId) {
                                }
                                i14 = 0;
                                c = 2;
                                this.onlineTextView[c].setVisibility(i14);
                                if (!this.searchMode) {
                                }
                                chatActivityInterface = this.previousTransitionFragment;
                                if (chatActivityInterface != null) {
                                }
                                imageReceiver = this.avatarImage.getImageReceiver();
                                if (PhotoViewer.isShowingImage(tLRPC$FileLocation2)) {
                                }
                                if (this.storyView != null) {
                                }
                            } else {
                                i12 = R.string.Bot;
                            }
                        } else {
                            boolean[] zArr = this.isOnline;
                            zArr[0] = false;
                            str15 = LocaleController.formatUserStatus(this.currentAccount, user, zArr, z14 ? new boolean[1] : null);
                            z7 = (this.isOnline[0] || getUserConfig().isPremium() || (tLRPC$UserStatus = user.status) == null || (!(tLRPC$UserStatus instanceof TLRPC$TL_userStatusRecently) && !(tLRPC$UserStatus instanceof TLRPC$TL_userStatusLastMonth) && !(tLRPC$UserStatus instanceof TLRPC$TL_userStatusLastWeek)) || !tLRPC$UserStatus.by_me) ? false : true;
                            SimpleTextView simpleTextView6 = this.onlineTextView[1];
                            if (simpleTextView6 != null && !this.mediaHeaderVisible) {
                                int i21 = (this.isOnline[0] && this.peerColor == null) ? Theme.key_profile_status : Theme.key_avatar_subtitleInProfileBlue;
                                simpleTextView6.setTag(Integer.valueOf(i21));
                                if (!this.isPulledDown) {
                                    this.onlineTextView[1].setTextColor(applyPeerColor(getThemedColor(i21), true, Boolean.valueOf(this.isOnline[0])));
                                }
                            }
                            TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto32 = user.photo;
                            this.hasCustomPhoto = tLRPC$UserProfilePhoto32 == null && tLRPC$UserProfilePhoto32.personal;
                            userName = Emoji.replaceEmoji(userName, this.nameTextView[1].getPaint().getFontMetricsInt(), AndroidUtilities.dp(24.0f), false);
                            i13 = 0;
                            while (i13 < 2) {
                            }
                            if (this.userId == UserConfig.getInstance(this.currentAccount).clientUserId) {
                            }
                            i14 = 0;
                            c = 2;
                            this.onlineTextView[c].setVisibility(i14);
                            if (!this.searchMode) {
                            }
                            chatActivityInterface = this.previousTransitionFragment;
                            if (chatActivityInterface != null) {
                            }
                            imageReceiver = this.avatarImage.getImageReceiver();
                            if (PhotoViewer.isShowingImage(tLRPC$FileLocation2)) {
                            }
                            if (this.storyView != null) {
                            }
                        }
                        str15 = LocaleController.getString(i12);
                        z7 = false;
                        TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto322 = user.photo;
                        this.hasCustomPhoto = tLRPC$UserProfilePhoto322 == null && tLRPC$UserProfilePhoto322.personal;
                        userName = Emoji.replaceEmoji(userName, this.nameTextView[1].getPaint().getFontMetricsInt(), AndroidUtilities.dp(24.0f), false);
                        i13 = 0;
                        while (i13 < 2) {
                        }
                        if (this.userId == UserConfig.getInstance(this.currentAccount).clientUserId) {
                        }
                        i14 = 0;
                        c = 2;
                        this.onlineTextView[c].setVisibility(i14);
                        if (!this.searchMode) {
                        }
                        chatActivityInterface = this.previousTransitionFragment;
                        if (chatActivityInterface != null) {
                        }
                        imageReceiver = this.avatarImage.getImageReceiver();
                        if (PhotoViewer.isShowingImage(tLRPC$FileLocation2)) {
                        }
                        if (this.storyView != null) {
                        }
                    } else if (UserObject.hasFallbackPhoto(getUserInfo())) {
                        this.hasFallbackPhoto = true;
                        TLRPC$PhotoSize closestPhotoSizeWithSize = FileLoader.getClosestPhotoSizeWithSize(getUserInfo().fallback_photo.sizes, 1000);
                        if (closestPhotoSizeWithSize != null) {
                            this.fallbackImage.setImage(ImageLocation.getForPhoto(closestPhotoSizeWithSize, getUserInfo().fallback_photo), "50_50", (Drawable) null, 0L, (String) null, UserConfig.getInstance(this.currentAccount).getCurrentUser(), 0);
                        }
                        z7 = false;
                        TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto3222 = user.photo;
                        this.hasCustomPhoto = tLRPC$UserProfilePhoto3222 == null && tLRPC$UserProfilePhoto3222.personal;
                        try {
                            userName = Emoji.replaceEmoji(userName, this.nameTextView[1].getPaint().getFontMetricsInt(), AndroidUtilities.dp(24.0f), false);
                        } catch (Exception unused5) {
                        }
                        i13 = 0;
                        while (i13 < 2) {
                            if (this.nameTextView[i13] != null) {
                                if (i13 == 0 && user.id != getUserConfig().getClientUserId()) {
                                    long j2 = user.id / 1000;
                                    if (j2 != 777 && j2 != 333 && (str12 = user.phone) != null && str12.length() != 0 && getContactsController().contactsDict.get(Long.valueOf(user.id)) == null && (getContactsController().contactsDict.size() != 0 || !getContactsController().isLoadingContacts())) {
                                        PhoneFormat phoneFormat = PhoneFormat.getInstance();
                                        this.nameTextView[i13].setText(phoneFormat.format("+" + user.phone));
                                        if (i13 == 0 || str == null) {
                                            this.onlineTextView[i13].setText(str15);
                                        } else {
                                            this.onlineTextView[i13].setText(str);
                                        }
                                        this.onlineTextView[i13].setDrawablePadding(AndroidUtilities.dp(9.0f));
                                        this.onlineTextView[i13].setRightDrawableInside(z11);
                                        this.onlineTextView[i13].setRightDrawable((i13 == z11 || !z7) ? null : getShowStatusButton());
                                        this.onlineTextView[i13].setRightDrawableOnClick((i13 == z11 || !z7) ? null : new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda24
                                            @Override // android.view.View.OnClickListener
                                            public final void onClick(View view) {
                                                ProfileActivity.this.lambda$updateProfileData$72(view);
                                            }
                                        });
                                        Drawable lockIconDrawable = this.currentEncryptedChat == null ? getLockIconDrawable() : null;
                                        this.nameTextView[i13].setRightDrawableOutside(i13 != 0);
                                        if (i13 != 0) {
                                            boolean z15 = user.scam;
                                            if (z15 || user.fake) {
                                                this.nameTextView[i13].setRightDrawable2(getScamDrawable(!z15 ? 1 : 0));
                                                i15 = R.string.ScamMessage;
                                            } else {
                                                if (user.verified) {
                                                    this.nameTextView[i13].setRightDrawable2(getVerifiedCrossfadeDrawable(i13));
                                                    this.nameTextViewRightDrawable2ContentDescription = LocaleController.getString(R.string.AccDescrVerified);
                                                } else {
                                                    MessagesController messagesController = getMessagesController();
                                                    long j3 = this.dialogId;
                                                    if (j3 == 0) {
                                                        j3 = this.userId;
                                                    }
                                                    if (messagesController.isDialogMuted(j3, this.topicId)) {
                                                        this.nameTextView[i13].setRightDrawable2(getThemedDrawable("drawableMuteIcon"));
                                                        i15 = R.string.NotificationsMuted;
                                                    } else {
                                                        this.nameTextView[i13].setRightDrawable2(null);
                                                        this.nameTextViewRightDrawable2ContentDescription = null;
                                                    }
                                                }
                                                tLRPC$EmojiStatus = user.emoji_status;
                                                if (!(tLRPC$EmojiStatus instanceof TLRPC$TL_emojiStatus) || ((tLRPC$EmojiStatus instanceof TLRPC$TL_emojiStatusUntil) && ((TLRPC$TL_emojiStatusUntil) tLRPC$EmojiStatus).until > ((int) (System.currentTimeMillis() / 1000)))) {
                                                    this.nameTextView[i13].setRightDrawable(getEmojiStatusDrawable(user.emoji_status, false, false, i13));
                                                    this.nameTextViewRightDrawableContentDescription = LocaleController.getString(R.string.AccDescrPremium);
                                                    z9 = false;
                                                    z8 = true;
                                                    z10 = true;
                                                } else if (getMessagesController().isPremiumUser(user)) {
                                                    this.nameTextView[i13].setRightDrawable(getEmojiStatusDrawable(null, false, false, i13));
                                                    this.nameTextViewRightDrawableContentDescription = LocaleController.getString(R.string.AccDescrPremium);
                                                    z9 = true;
                                                    z8 = true;
                                                    z10 = false;
                                                } else {
                                                    this.nameTextView[i13].setRightDrawable((Drawable) null);
                                                    this.nameTextViewRightDrawableContentDescription = null;
                                                    z8 = true;
                                                    z9 = false;
                                                    z10 = false;
                                                }
                                            }
                                            this.nameTextViewRightDrawable2ContentDescription = LocaleController.getString(i15);
                                            tLRPC$EmojiStatus = user.emoji_status;
                                            if (tLRPC$EmojiStatus instanceof TLRPC$TL_emojiStatus) {
                                            }
                                            this.nameTextView[i13].setRightDrawable(getEmojiStatusDrawable(user.emoji_status, false, false, i13));
                                            this.nameTextViewRightDrawableContentDescription = LocaleController.getString(R.string.AccDescrPremium);
                                            z9 = false;
                                            z8 = true;
                                            z10 = true;
                                        } else {
                                            if (i13 == 1) {
                                                boolean z16 = user.scam;
                                                if (z16 || user.fake) {
                                                    this.nameTextView[i13].setRightDrawable2(getScamDrawable(!z16 ? 1 : 0));
                                                } else {
                                                    if (user.verified) {
                                                        simpleTextView4 = this.nameTextView[i13];
                                                        drawable2 = getVerifiedCrossfadeDrawable(i13);
                                                    } else {
                                                        simpleTextView4 = this.nameTextView[i13];
                                                        drawable2 = null;
                                                    }
                                                    simpleTextView4.setRightDrawable2(drawable2);
                                                }
                                                TLRPC$EmojiStatus tLRPC$EmojiStatus2 = user.emoji_status;
                                                if ((tLRPC$EmojiStatus2 instanceof TLRPC$TL_emojiStatus) || ((tLRPC$EmojiStatus2 instanceof TLRPC$TL_emojiStatusUntil) && ((TLRPC$TL_emojiStatusUntil) tLRPC$EmojiStatus2).until > ((int) (System.currentTimeMillis() / 1000)))) {
                                                    z8 = true;
                                                    this.nameTextView[i13].setRightDrawable(getEmojiStatusDrawable(user.emoji_status, true, true, i13));
                                                    z9 = false;
                                                    z10 = true;
                                                } else if (getMessagesController().isPremiumUser(user)) {
                                                    z8 = true;
                                                    this.nameTextView[i13].setRightDrawable(getEmojiStatusDrawable(null, true, true, i13));
                                                    z9 = true;
                                                    z10 = false;
                                                } else {
                                                    z8 = true;
                                                    this.nameTextView[i13].setRightDrawable((Drawable) null);
                                                    z9 = false;
                                                    z10 = false;
                                                }
                                            }
                                            z8 = true;
                                            z9 = false;
                                            z10 = false;
                                        }
                                        this.nameTextView[i13].setLeftDrawable(lockIconDrawable);
                                        if (i13 == z8 && (z10 || z9)) {
                                            this.nameTextView[i13].setRightDrawableOutside(z8);
                                        }
                                        if (user.self && getMessagesController().isPremiumUser(user)) {
                                            this.nameTextView[i13].setRightDrawableOnClick(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda25
                                                @Override // android.view.View.OnClickListener
                                                public final void onClick(View view) {
                                                    ProfileActivity.this.lambda$updateProfileData$73(view);
                                                }
                                            });
                                        }
                                        if (!user.self && getMessagesController().isPremiumUser(user)) {
                                            final SimpleTextView simpleTextView7 = this.nameTextView[i13];
                                            simpleTextView7.setRightDrawableOnClick(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda26
                                                @Override // android.view.View.OnClickListener
                                                public final void onClick(View view) {
                                                    ProfileActivity.this.lambda$updateProfileData$74(user, simpleTextView7, view);
                                                }
                                            });
                                        }
                                    }
                                }
                                this.nameTextView[i13].setText(userName);
                                if (i13 == 0) {
                                }
                                this.onlineTextView[i13].setText(str15);
                                this.onlineTextView[i13].setDrawablePadding(AndroidUtilities.dp(9.0f));
                                this.onlineTextView[i13].setRightDrawableInside(z11);
                                this.onlineTextView[i13].setRightDrawable((i13 == z11 || !z7) ? null : getShowStatusButton());
                                this.onlineTextView[i13].setRightDrawableOnClick((i13 == z11 || !z7) ? null : new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda24
                                    @Override // android.view.View.OnClickListener
                                    public final void onClick(View view) {
                                        ProfileActivity.this.lambda$updateProfileData$72(view);
                                    }
                                });
                                if (this.currentEncryptedChat == null) {
                                }
                                this.nameTextView[i13].setRightDrawableOutside(i13 != 0);
                                if (i13 != 0) {
                                }
                                this.nameTextView[i13].setLeftDrawable(lockIconDrawable);
                                if (i13 == z8) {
                                    this.nameTextView[i13].setRightDrawableOutside(z8);
                                }
                                if (user.self) {
                                    this.nameTextView[i13].setRightDrawableOnClick(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda25
                                        @Override // android.view.View.OnClickListener
                                        public final void onClick(View view) {
                                            ProfileActivity.this.lambda$updateProfileData$73(view);
                                        }
                                    });
                                }
                                if (!user.self) {
                                    final SimpleTextView simpleTextView72 = this.nameTextView[i13];
                                    simpleTextView72.setRightDrawableOnClick(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda26
                                        @Override // android.view.View.OnClickListener
                                        public final void onClick(View view) {
                                            ProfileActivity.this.lambda$updateProfileData$74(user, simpleTextView72, view);
                                        }
                                    });
                                }
                            }
                            i13++;
                            z11 = true;
                        }
                        if (this.userId == UserConfig.getInstance(this.currentAccount).clientUserId) {
                            this.onlineTextView[2].setText(LocaleController.getString(R.string.FallbackTooltip));
                            this.onlineTextView[3].setText(LocaleController.getString(R.string.Online));
                        } else {
                            TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto4 = user.photo;
                            if (tLRPC$UserProfilePhoto4 != null && tLRPC$UserProfilePhoto4.personal && tLRPC$UserProfilePhoto4.has_video) {
                                SpannableStringBuilder spannableStringBuilder2 = new SpannableStringBuilder(str15);
                                spannableStringBuilder2.setSpan(new EmptyStubSpan(), 0, str15.length(), 0);
                                spannableStringBuilder2.append((CharSequence) " d ");
                                spannableStringBuilder2.append((CharSequence) LocaleController.getString(R.string.CustomAvatarTooltipVideo));
                                spannableStringBuilder2.setSpan(new DotDividerSpan(), str15.length() + 1, str15.length() + 2, 0);
                                this.onlineTextView[2].setText(spannableStringBuilder2);
                            } else {
                                SpannableStringBuilder spannableStringBuilder3 = new SpannableStringBuilder(str15);
                                i14 = 0;
                                spannableStringBuilder3.setSpan(new EmptyStubSpan(), 0, str15.length(), 0);
                                spannableStringBuilder3.append((CharSequence) " d ");
                                spannableStringBuilder3.append((CharSequence) LocaleController.getString(R.string.CustomAvatarTooltip));
                                c = 2;
                                spannableStringBuilder3.setSpan(new DotDividerSpan(), str15.length() + 1, str15.length() + 2, 0);
                                this.onlineTextView[2].setText(spannableStringBuilder3);
                                this.onlineTextView[c].setVisibility(i14);
                                if (!this.searchMode) {
                                    this.onlineTextView[3].setVisibility(i14);
                                }
                                chatActivityInterface = this.previousTransitionFragment;
                                if (chatActivityInterface != null) {
                                    chatActivityInterface.checkAndUpdateAvatar();
                                }
                                imageReceiver = this.avatarImage.getImageReceiver();
                                z4 = PhotoViewer.isShowingImage(tLRPC$FileLocation2) && (getLastStoryViewer() == null || getLastStoryViewer().transitionViewHolder.view != this.avatarImage);
                                z6 = this.storyView != null;
                            }
                        }
                        i14 = 0;
                        c = 2;
                        this.onlineTextView[c].setVisibility(i14);
                        if (!this.searchMode) {
                        }
                        chatActivityInterface = this.previousTransitionFragment;
                        if (chatActivityInterface != null) {
                        }
                        imageReceiver = this.avatarImage.getImageReceiver();
                        if (PhotoViewer.isShowingImage(tLRPC$FileLocation2)) {
                        }
                        if (this.storyView != null) {
                        }
                    } else {
                        i12 = R.string.Online;
                        str15 = LocaleController.getString(i12);
                        z7 = false;
                        TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto32222 = user.photo;
                        this.hasCustomPhoto = tLRPC$UserProfilePhoto32222 == null && tLRPC$UserProfilePhoto32222.personal;
                        userName = Emoji.replaceEmoji(userName, this.nameTextView[1].getPaint().getFontMetricsInt(), AndroidUtilities.dp(24.0f), false);
                        i13 = 0;
                        while (i13 < 2) {
                        }
                        if (this.userId == UserConfig.getInstance(this.currentAccount).clientUserId) {
                        }
                        i14 = 0;
                        c = 2;
                        this.onlineTextView[c].setVisibility(i14);
                        if (!this.searchMode) {
                        }
                        chatActivityInterface = this.previousTransitionFragment;
                        if (chatActivityInterface != null) {
                        }
                        imageReceiver = this.avatarImage.getImageReceiver();
                        if (PhotoViewer.isShowingImage(tLRPC$FileLocation2)) {
                        }
                        if (this.storyView != null) {
                        }
                    }
                }
            } else {
                tLRPC$VideoSize = null;
            }
            vectorAvatarThumbDrawable = null;
            ImageLocation currentVideoLocation22 = this.avatarsViewPager.getCurrentVideoLocation(forUserOrChat4, forUserOrChat3);
            if (this.avatar == null) {
            }
            if (this.avatarBig == null) {
            }
            if (forUserOrChat4 != null) {
                updateListAnimated(false);
                needLayout(true);
                if (forUserOrChat3 != null) {
                    this.prevLoadedImageLocation = forUserOrChat3;
                    getFileLoader().loadFile(forUserOrChat3, user, null, 0, 1);
                }
                CharSequence userName2 = UserObject.getUserName(user);
                if (user.id != getUserConfig().getClientUserId()) {
                }
            }
            updateListAnimated(false);
            needLayout(true);
            if (forUserOrChat3 != null) {
            }
            CharSequence userName22 = UserObject.getUserName(user);
            if (user.id != getUserConfig().getClientUserId()) {
            }
            imageReceiver.setVisible(z4, z6);
            if (this.qrItem != null) {
            }
            AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda29
                @Override // java.lang.Runnable
                public final void run() {
                    ProfileActivity.this.updateEmojiStatusEffectPosition();
                }
            });
        } else {
            i = R.string.ConnectingToProxy;
        }
        str = LocaleController.getString(i);
        this.hasFallbackPhoto = false;
        this.hasCustomPhoto = false;
        String str152 = "";
        if (this.userId != 0) {
        }
        imageReceiver.setVisible(z4, z6);
        if (this.qrItem != null) {
        }
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda29
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.updateEmojiStatusEffectPosition();
            }
        });
    }

    /* JADX WARN: Code restructure failed: missing block: B:513:0x014c, code lost:
        if ((r3 instanceof org.telegram.tgnet.TLRPC$TL_fileLocationToBeDeprecated) == false) goto L53;
     */
    /* JADX WARN: Code restructure failed: missing block: B:889:0x07e4, code lost:
        if (r3 != false) goto L256;
     */
    /* JADX WARN: Removed duplicated region for block: B:682:0x047a  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public void updateRowsIds() {
        boolean z;
        TLRPC$ChatParticipants tLRPC$ChatParticipants;
        TLRPC$TL_chatBannedRights tLRPC$TL_chatBannedRights;
        TLRPC$ChatFull tLRPC$ChatFull;
        TLRPC$ChatFull tLRPC$ChatFull2;
        TLRPC$ChatParticipants tLRPC$ChatParticipants2;
        ArrayList arrayList;
        TLRPC$ChatFull tLRPC$ChatFull3;
        TLRPC$ChatFull tLRPC$ChatFull4;
        TLRPC$ChatFull tLRPC$ChatFull5;
        int i;
        int i2;
        boolean z2;
        TLRPC$UserFull tLRPC$UserFull;
        ProfileChannelCell.ChannelMessageFetcher channelMessageFetcher;
        TLRPC$Chat chat;
        TLRPC$ChatFull tLRPC$ChatFull6;
        TLRPC$UserFull tLRPC$UserFull2;
        TL_bots$BotInfo tL_bots$BotInfo;
        TLRPC$UserFull tLRPC$UserFull3;
        int i3 = this.rowCount;
        this.rowCount = 0;
        this.setAvatarRow = -1;
        this.setAvatarSectionRow = -1;
        this.numberSectionRow = -1;
        this.numberRow = -1;
        this.birthdayRow = -1;
        this.setUsernameRow = -1;
        this.bioRow = -1;
        this.channelRow = -1;
        this.channelDividerRow = -1;
        this.phoneSuggestionSectionRow = -1;
        this.phoneSuggestionRow = -1;
        this.passwordSuggestionSectionRow = -1;
        this.graceSuggestionRow = -1;
        this.graceSuggestionSectionRow = -1;
        this.passwordSuggestionRow = -1;
        this.settingsSectionRow = -1;
        this.settingsSectionRow2 = -1;
        this.notificationRow = -1;
        this.languageRow = -1;
        this.premiumRow = -1;
        this.starsRow = -1;
        this.businessRow = -1;
        this.premiumGiftingRow = -1;
        this.premiumSectionsRow = -1;
        this.privacyRow = -1;
        this.dataRow = -1;
        this.chatRow = -1;
        this.filtersRow = -1;
        this.liteModeRow = -1;
        this.stickersRow = -1;
        this.devicesRow = -1;
        this.devicesSectionRow = -1;
        this.helpHeaderRow = -1;
        this.questionRow = -1;
        this.faqRow = -1;
        this.policyRow = -1;
        this.helpSectionCell = -1;
        this.debugHeaderRow = -1;
        this.sendLogsRow = -1;
        this.sendLastLogsRow = -1;
        this.clearLogsRow = -1;
        this.switchBackendRow = -1;
        this.versionRow = -1;
        this.botAppRow = -1;
        this.sendMessageRow = -1;
        this.reportRow = -1;
        this.reportReactionRow = -1;
        this.addToContactsRow = -1;
        this.emptyRow = -1;
        this.infoHeaderRow = -1;
        this.phoneRow = -1;
        this.userInfoRow = -1;
        this.locationRow = -1;
        this.channelInfoRow = -1;
        this.usernameRow = -1;
        this.settingsTimerRow = -1;
        this.settingsKeyRow = -1;
        this.notificationsDividerRow = -1;
        this.reportDividerRow = -1;
        this.notificationsRow = -1;
        this.bizLocationRow = -1;
        this.bizHoursRow = -1;
        this.infoSectionRow = -1;
        this.secretSettingsSectionRow = -1;
        this.bottomPaddingRow = -1;
        this.addToGroupButtonRow = -1;
        this.addToGroupInfoRow = -1;
        this.infoStartRow = -1;
        this.infoEndRow = -1;
        this.membersHeaderRow = -1;
        this.membersStartRow = -1;
        this.membersEndRow = -1;
        this.addMemberRow = -1;
        this.subscribersRow = -1;
        this.subscribersRequestsRow = -1;
        this.administratorsRow = -1;
        this.blockedUsersRow = -1;
        this.membersSectionRow = -1;
        this.sharedMediaRow = -1;
        this.notificationsSimpleRow = -1;
        this.settingsRow = -1;
        this.balanceRow = -1;
        this.balanceDividerRow = -1;
        this.unblockRow = -1;
        this.joinRow = -1;
        this.lastSectionRow = -1;
        this.visibleChatParticipants.clear();
        this.visibleSortedUsers.clear();
        SharedMediaLayout.SharedMediaPreloader sharedMediaPreloader = this.sharedMediaPreloader;
        boolean z3 = true;
        if (sharedMediaPreloader != null) {
            int[] lastMediaCount = sharedMediaPreloader.getLastMediaCount();
            int i4 = 0;
            while (true) {
                if (i4 >= lastMediaCount.length) {
                    z = false;
                    break;
                } else if (lastMediaCount[i4] > 0) {
                    z = true;
                    break;
                } else {
                    i4++;
                }
            }
            if (!z) {
                z = this.sharedMediaPreloader.hasSavedMessages;
            }
            if (!z) {
                z = this.sharedMediaPreloader.hasPreviews;
            }
        } else {
            z = false;
        }
        if (!z && (tLRPC$UserFull3 = this.userInfo) != null) {
            z = tLRPC$UserFull3.stories_pinned_available;
        }
        if (!z && (tLRPC$UserFull2 = this.userInfo) != null && (tL_bots$BotInfo = tLRPC$UserFull2.bot_info) != null) {
            z = tL_bots$BotInfo.has_preview_medias;
        }
        if (!z && (tLRPC$ChatFull6 = this.chatInfo) != null) {
            z = tLRPC$ChatFull6.stories_pinned_available;
        }
        if (!z) {
            long j = this.chatId;
            if (j != 0 && MessagesController.ChannelRecommendations.hasRecommendations(this.currentAccount, j)) {
                z = true;
            }
        }
        if (this.userId != 0) {
            if (LocaleController.isRTL) {
                int i5 = this.rowCount;
                this.rowCount = i5 + 1;
                this.emptyRow = i5;
            }
            TLRPC$User user = getMessagesController().getUser(Long.valueOf(this.userId));
            if (!UserObject.isUserSelf(user) || this.myProfile) {
                String publicUsername = UserObject.getPublicUsername(user);
                TLRPC$UserFull tLRPC$UserFull4 = this.userInfo;
                boolean z4 = ((tLRPC$UserFull4 == null || TextUtils.isEmpty(tLRPC$UserFull4.about)) && (user == null || TextUtils.isEmpty(publicUsername))) ? false : true;
                boolean z5 = (user == null || (TextUtils.isEmpty(user.phone) && TextUtils.isEmpty(this.vcardPhone))) ? false : true;
                TLRPC$UserFull tLRPC$UserFull5 = this.userInfo;
                if (tLRPC$UserFull5 != null && (tLRPC$UserFull5.flags2 & 64) != 0 && (((channelMessageFetcher = this.profileChannelMessageFetcher) == null || !channelMessageFetcher.loaded || channelMessageFetcher.messageObject != null) && (chat = getMessagesController().getChat(Long.valueOf(this.userInfo.personal_channel_id))) != null && (ChatObject.isPublic(chat) || !ChatObject.isNotInChat(chat)))) {
                    int i6 = this.rowCount;
                    this.channelRow = i6;
                    this.rowCount = i6 + 2;
                    this.channelDividerRow = i6 + 1;
                }
                int i7 = this.rowCount;
                this.infoStartRow = i7;
                int i8 = i7 + 1;
                this.rowCount = i8;
                this.infoHeaderRow = i7;
                if (!this.isBot && (z5 || !z4)) {
                    this.rowCount = i7 + 2;
                    this.phoneRow = i8;
                }
                TLRPC$UserFull tLRPC$UserFull6 = this.userInfo;
                if (tLRPC$UserFull6 != null && !TextUtils.isEmpty(tLRPC$UserFull6.about)) {
                    int i9 = this.rowCount;
                    this.rowCount = i9 + 1;
                    this.userInfoRow = i9;
                }
                if (user != null && publicUsername != null) {
                    int i10 = this.rowCount;
                    this.rowCount = i10 + 1;
                    this.usernameRow = i10;
                }
                TLRPC$UserFull tLRPC$UserFull7 = this.userInfo;
                if (tLRPC$UserFull7 != null) {
                    if (tLRPC$UserFull7.birthday != null) {
                        int i11 = this.rowCount;
                        this.rowCount = i11 + 1;
                        this.birthdayRow = i11;
                    }
                    if (tLRPC$UserFull7.business_work_hours != null) {
                        int i12 = this.rowCount;
                        this.rowCount = i12 + 1;
                        this.bizHoursRow = i12;
                    }
                    if (tLRPC$UserFull7.business_location != null) {
                        int i13 = this.rowCount;
                        this.rowCount = i13 + 1;
                        this.bizLocationRow = i13;
                    }
                }
                if (this.userId != getUserConfig().getClientUserId()) {
                    int i14 = this.rowCount;
                    this.rowCount = i14 + 1;
                    this.notificationsRow = i14;
                }
                boolean z6 = this.isBot;
                if (z6 && user != null && user.bot_has_main_app) {
                    int i15 = this.rowCount;
                    this.rowCount = i15 + 1;
                    this.botAppRow = i15;
                }
                int i16 = this.rowCount;
                this.infoEndRow = i16 - 1;
                int i17 = i16 + 1;
                this.rowCount = i17;
                this.infoSectionRow = i16;
                TLRPC$EncryptedChat tLRPC$EncryptedChat = this.currentEncryptedChat;
                if (tLRPC$EncryptedChat instanceof TLRPC$TL_encryptedChat) {
                    this.settingsTimerRow = i17;
                    this.settingsKeyRow = i16 + 2;
                    this.rowCount = i16 + 4;
                    this.secretSettingsSectionRow = i16 + 3;
                }
                if (user != null && !z6 && tLRPC$EncryptedChat == null && user.id != getUserConfig().getClientUserId() && this.userBlocked) {
                    int i18 = this.rowCount;
                    this.unblockRow = i18;
                    this.rowCount = i18 + 2;
                    this.lastSectionRow = i18 + 1;
                }
                if (user != null && user.bot && (BotStarsController.getInstance(this.currentAccount).getBalance(this.userId) > 0 || BotStarsController.getInstance(this.currentAccount).hasTransactions(this.userId))) {
                    int i19 = this.rowCount;
                    this.rowCount = i19 + 1;
                    this.balanceRow = i19;
                }
                if (user != null && this.isBot && !user.bot_nochats) {
                    int i20 = this.rowCount;
                    this.addToGroupButtonRow = i20;
                    this.rowCount = i20 + 2;
                    this.addToGroupInfoRow = i20 + 1;
                } else if (this.balanceRow >= 0) {
                    z2 = true;
                    if (!this.myProfile && this.showAddToContacts && user != null && !user.contact && !user.bot && !UserObject.isService(user.id)) {
                        int i21 = this.rowCount;
                        this.rowCount = i21 + 1;
                        this.addToContactsRow = i21;
                        z2 = true;
                    }
                    if (!this.myProfile || this.reportReactionMessageId == 0 || ContactsController.getInstance(this.currentAccount).isContact(this.userId)) {
                        z3 = z2;
                    } else {
                        int i22 = this.rowCount;
                        this.rowCount = i22 + 1;
                        this.reportReactionRow = i22;
                    }
                    if (z3) {
                        int i23 = this.rowCount;
                        this.rowCount = i23 + 1;
                        this.reportDividerRow = i23;
                    }
                    if (!z && ((user == null || !user.bot || !user.bot_can_edit) && (((tLRPC$UserFull = this.userInfo) == null || tLRPC$UserFull.common_chats_count == 0) && !this.myProfile))) {
                        if (this.lastSectionRow == -1 && this.needSendMessage) {
                            int i24 = this.rowCount;
                            this.sendMessageRow = i24;
                            this.reportRow = i24 + 1;
                            this.rowCount = i24 + 3;
                            this.lastSectionRow = i24 + 2;
                        }
                    }
                    int i25 = this.rowCount;
                    this.rowCount = i25 + 1;
                    this.sharedMediaRow = i25;
                }
                z2 = false;
                if (!this.myProfile) {
                    int i212 = this.rowCount;
                    this.rowCount = i212 + 1;
                    this.addToContactsRow = i212;
                    z2 = true;
                }
                if (this.myProfile) {
                }
                z3 = z2;
                if (z3) {
                }
                if (!z) {
                    if (this.lastSectionRow == -1) {
                        int i242 = this.rowCount;
                        this.sendMessageRow = i242;
                        this.reportRow = i242 + 1;
                        this.rowCount = i242 + 3;
                        this.lastSectionRow = i242 + 2;
                    }
                }
                int i252 = this.rowCount;
                this.rowCount = i252 + 1;
                this.sharedMediaRow = i252;
            } else {
                if (this.avatarBig == null) {
                    TLRPC$UserProfilePhoto tLRPC$UserProfilePhoto = user.photo;
                    if (tLRPC$UserProfilePhoto != null) {
                        TLRPC$FileLocation tLRPC$FileLocation = tLRPC$UserProfilePhoto.photo_big;
                        if (!(tLRPC$FileLocation instanceof TLRPC$TL_fileLocation_layer97)) {
                        }
                    }
                    ProfileGalleryView profileGalleryView = this.avatarsViewPager;
                    if (profileGalleryView == null || profileGalleryView.getRealCount() == 0) {
                        int i26 = this.rowCount;
                        this.setAvatarRow = i26;
                        this.rowCount = i26 + 2;
                        this.setAvatarSectionRow = i26 + 1;
                    }
                }
                int i27 = this.rowCount;
                this.numberSectionRow = i27;
                this.numberRow = i27 + 1;
                this.setUsernameRow = i27 + 2;
                this.bioRow = i27 + 3;
                this.rowCount = i27 + 5;
                this.settingsSectionRow = i27 + 4;
                Set<String> set = getMessagesController().pendingSuggestions;
                if (set.contains("PREMIUM_GRACE")) {
                    int i28 = this.rowCount;
                    this.graceSuggestionRow = i28;
                    this.rowCount = i28 + 2;
                    this.graceSuggestionSectionRow = i28 + 1;
                } else if (set.contains("VALIDATE_PHONE_NUMBER")) {
                    int i29 = this.rowCount;
                    this.phoneSuggestionRow = i29;
                    this.rowCount = i29 + 2;
                    this.phoneSuggestionSectionRow = i29 + 1;
                } else if (set.contains("VALIDATE_PASSWORD")) {
                    int i30 = this.rowCount;
                    this.passwordSuggestionRow = i30;
                    this.rowCount = i30 + 2;
                    this.passwordSuggestionSectionRow = i30 + 1;
                }
                int i31 = this.rowCount;
                this.settingsSectionRow2 = i31;
                this.chatRow = i31 + 1;
                this.privacyRow = i31 + 2;
                this.notificationRow = i31 + 3;
                this.dataRow = i31 + 4;
                this.rowCount = i31 + 6;
                this.liteModeRow = i31 + 5;
                if (getMessagesController().filtersEnabled || !getMessagesController().dialogFilters.isEmpty()) {
                    int i32 = this.rowCount;
                    this.rowCount = i32 + 1;
                    this.filtersRow = i32;
                }
                int i33 = this.rowCount;
                this.devicesRow = i33;
                this.languageRow = i33 + 1;
                this.rowCount = i33 + 3;
                this.devicesSectionRow = i33 + 2;
                if (!getMessagesController().premiumFeaturesBlocked()) {
                    int i34 = this.rowCount;
                    this.rowCount = i34 + 1;
                    this.premiumRow = i34;
                }
                if (getMessagesController().starsPurchaseAvailable()) {
                    int i35 = this.rowCount;
                    this.rowCount = i35 + 1;
                    this.starsRow = i35;
                }
                if (!getMessagesController().premiumFeaturesBlocked()) {
                    int i36 = this.rowCount;
                    this.rowCount = i36 + 1;
                    this.businessRow = i36;
                }
                if (!getMessagesController().premiumPurchaseBlocked()) {
                    int i37 = this.rowCount;
                    this.rowCount = i37 + 1;
                    this.premiumGiftingRow = i37;
                }
                if (this.premiumRow >= 0 || this.starsRow >= 0 || this.businessRow >= 0 || this.premiumGiftingRow >= 0) {
                    int i38 = this.rowCount;
                    this.rowCount = i38 + 1;
                    this.premiumSectionsRow = i38;
                }
                int i39 = this.rowCount;
                this.helpHeaderRow = i39;
                this.questionRow = i39 + 1;
                this.faqRow = i39 + 2;
                int i40 = i39 + 4;
                this.rowCount = i40;
                this.policyRow = i39 + 3;
                if (BuildVars.LOGS_ENABLED || BuildVars.DEBUG_PRIVATE_VERSION) {
                    this.helpSectionCell = i40;
                    this.rowCount = i39 + 6;
                    this.debugHeaderRow = i39 + 5;
                }
                if (BuildVars.LOGS_ENABLED) {
                    int i41 = this.rowCount;
                    this.sendLogsRow = i41;
                    this.sendLastLogsRow = i41 + 1;
                    this.rowCount = i41 + 3;
                    this.clearLogsRow = i41 + 2;
                }
                if (BuildVars.DEBUG_VERSION) {
                    int i42 = this.rowCount;
                    this.rowCount = i42 + 1;
                    this.switchBackendRow = i42;
                }
                int i43 = this.rowCount;
                this.rowCount = i43 + 1;
                this.versionRow = i43;
            }
        } else if (this.isTopic) {
            int i44 = this.rowCount;
            this.infoHeaderRow = i44;
            this.usernameRow = i44 + 1;
            this.notificationsSimpleRow = i44 + 2;
            int i45 = i44 + 4;
            this.rowCount = i45;
            this.infoSectionRow = i44 + 3;
            if (z) {
                this.rowCount = i44 + 5;
                this.sharedMediaRow = i45;
            }
        } else if (this.chatId != 0) {
            TLRPC$ChatFull tLRPC$ChatFull7 = this.chatInfo;
            if ((tLRPC$ChatFull7 != null && (!TextUtils.isEmpty(tLRPC$ChatFull7.about) || (this.chatInfo.location instanceof TLRPC$TL_channelLocation))) || ChatObject.isPublic(this.currentChat)) {
                if (LocaleController.isRTL && ChatObject.isChannel(this.currentChat) && (tLRPC$ChatFull5 = this.chatInfo) != null && !this.currentChat.megagroup && tLRPC$ChatFull5.linked_chat_id != 0) {
                    int i46 = this.rowCount;
                    this.rowCount = i46 + 1;
                    this.emptyRow = i46;
                }
                int i47 = this.rowCount;
                this.rowCount = i47 + 1;
                this.infoHeaderRow = i47;
                TLRPC$ChatFull tLRPC$ChatFull8 = this.chatInfo;
                if (tLRPC$ChatFull8 != null) {
                    if (!TextUtils.isEmpty(tLRPC$ChatFull8.about)) {
                        int i48 = this.rowCount;
                        this.rowCount = i48 + 1;
                        this.channelInfoRow = i48;
                    }
                    if (this.chatInfo.location instanceof TLRPC$TL_channelLocation) {
                        int i49 = this.rowCount;
                        this.rowCount = i49 + 1;
                        this.locationRow = i49;
                    }
                }
                if (ChatObject.isPublic(this.currentChat)) {
                    int i50 = this.rowCount;
                    this.rowCount = i50 + 1;
                    this.usernameRow = i50;
                }
            }
            int i51 = this.rowCount;
            this.notificationsRow = i51;
            this.rowCount = i51 + 2;
            this.infoSectionRow = i51 + 1;
            if (ChatObject.isChannel(this.currentChat)) {
                TLRPC$Chat tLRPC$Chat = this.currentChat;
                if (!tLRPC$Chat.megagroup && (tLRPC$ChatFull3 = this.chatInfo) != null && (tLRPC$Chat.creator || tLRPC$ChatFull3.can_view_participants)) {
                    int i52 = this.rowCount;
                    this.membersHeaderRow = i52;
                    int i53 = i52 + 2;
                    this.rowCount = i53;
                    this.subscribersRow = i52 + 1;
                    if (tLRPC$ChatFull3.requests_pending > 0) {
                        this.rowCount = i52 + 3;
                        this.subscribersRequestsRow = i53;
                    }
                    int i54 = this.rowCount;
                    int i55 = i54 + 1;
                    this.rowCount = i55;
                    this.administratorsRow = i54;
                    if (tLRPC$ChatFull3.banned_count != 0 || tLRPC$ChatFull3.kicked_count != 0) {
                        this.rowCount = i54 + 2;
                        this.blockedUsersRow = i55;
                    }
                    long j2 = this.chatId;
                    long j3 = j2 != 0 ? -j2 : this.userId;
                    if ((tLRPC$ChatFull3.can_view_stars_revenue && (BotStarsController.getInstance(this.currentAccount).getBalance(j3) > 0 || BotStarsController.getInstance(this.currentAccount).hasTransactions(j3))) || ((tLRPC$ChatFull4 = this.chatInfo) != null && tLRPC$ChatFull4.can_view_revenue && BotStarsController.getInstance(this.currentAccount).getChannelBalance(j3) > 0)) {
                        int i56 = this.rowCount;
                        this.rowCount = i56 + 1;
                        this.balanceRow = i56;
                    }
                    int i57 = this.rowCount;
                    this.settingsRow = i57;
                    this.rowCount = i57 + 2;
                    this.membersSectionRow = i57 + 1;
                }
            }
            if (ChatObject.isChannel(this.currentChat)) {
                if (this.isTopic || (tLRPC$ChatFull2 = this.chatInfo) == null || !this.currentChat.megagroup || (tLRPC$ChatParticipants2 = tLRPC$ChatFull2.participants) == null || (arrayList = tLRPC$ChatParticipants2.participants) == null || arrayList.isEmpty()) {
                    if (!ChatObject.isNotInChat(this.currentChat) && ChatObject.canAddUsers(this.currentChat) && (tLRPC$ChatFull = this.chatInfo) != null && tLRPC$ChatFull.participants_hidden) {
                        int i58 = this.rowCount;
                        this.addMemberRow = i58;
                        this.rowCount = i58 + 2;
                        this.membersSectionRow = i58 + 1;
                    }
                    SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
                    if (sharedMediaLayout != null) {
                        sharedMediaLayout.updateAdapters();
                    }
                } else {
                    if (!ChatObject.isNotInChat(this.currentChat) && ChatObject.canAddUsers(this.currentChat) && this.chatInfo.participants_count < getMessagesController().maxMegagroupCount) {
                        int i59 = this.rowCount;
                        this.rowCount = i59 + 1;
                        this.addMemberRow = i59;
                    }
                    int size = this.chatInfo.participants.participants.size();
                    if ((size <= 5 || !z || this.usersForceShowingIn == 1) && this.usersForceShowingIn != 2) {
                        if (this.addMemberRow == -1) {
                            int i60 = this.rowCount;
                            this.rowCount = i60 + 1;
                            this.membersHeaderRow = i60;
                        }
                        int i61 = this.rowCount;
                        this.membersStartRow = i61;
                        int i62 = i61 + size;
                        this.membersEndRow = i62;
                        this.rowCount = i62 + 1;
                        this.membersSectionRow = i62;
                        this.visibleChatParticipants.addAll(this.chatInfo.participants.participants);
                        ArrayList arrayList2 = this.sortedUsers;
                        if (arrayList2 != null) {
                            this.visibleSortedUsers.addAll(arrayList2);
                        }
                        this.usersForceShowingIn = 1;
                        SharedMediaLayout sharedMediaLayout2 = this.sharedMediaLayout;
                        if (sharedMediaLayout2 != null) {
                            sharedMediaLayout2.setChatUsers(null, null);
                        }
                    } else {
                        if (this.addMemberRow != -1) {
                            int i63 = this.rowCount;
                            this.rowCount = i63 + 1;
                            this.membersSectionRow = i63;
                        }
                        if (this.sharedMediaLayout != null) {
                            if (!this.sortedUsers.isEmpty()) {
                                this.usersForceShowingIn = 2;
                            }
                            this.sharedMediaLayout.setChatUsers(this.sortedUsers, this.chatInfo);
                        }
                    }
                }
                if (this.lastSectionRow == -1) {
                    TLRPC$Chat tLRPC$Chat2 = this.currentChat;
                    if (tLRPC$Chat2.left && !tLRPC$Chat2.kicked) {
                        SharedPreferences notificationsSettings = MessagesController.getNotificationsSettings(this.currentAccount);
                        long j4 = notificationsSettings.getLong("dialog_join_requested_time_" + this.dialogId, -1L);
                        if (j4 <= 0 || System.currentTimeMillis() - j4 >= 120000) {
                            int i64 = this.rowCount;
                            this.joinRow = i64;
                            this.rowCount = i64 + 2;
                            this.lastSectionRow = i64 + 1;
                        }
                    }
                }
            } else {
                TLRPC$ChatFull tLRPC$ChatFull9 = this.chatInfo;
                if (tLRPC$ChatFull9 != null) {
                    if (this.isTopic || (tLRPC$ChatParticipants = tLRPC$ChatFull9.participants) == null || tLRPC$ChatParticipants.participants == null || (tLRPC$ChatParticipants instanceof TLRPC$TL_chatParticipantsForbidden)) {
                        if (!ChatObject.isNotInChat(this.currentChat) && ChatObject.canAddUsers(this.currentChat) && this.chatInfo.participants_hidden) {
                            int i65 = this.rowCount;
                            this.addMemberRow = i65;
                            this.rowCount = i65 + 2;
                            this.membersSectionRow = i65 + 1;
                        }
                        SharedMediaLayout sharedMediaLayout3 = this.sharedMediaLayout;
                        if (sharedMediaLayout3 != null) {
                            sharedMediaLayout3.updateAdapters();
                        }
                    } else {
                        if (ChatObject.canAddUsers(this.currentChat) || (tLRPC$TL_chatBannedRights = this.currentChat.default_banned_rights) == null || !tLRPC$TL_chatBannedRights.invite_users) {
                            int i66 = this.rowCount;
                            this.rowCount = i66 + 1;
                            this.addMemberRow = i66;
                        }
                        if (this.chatInfo.participants.participants.size() <= 5 || !z) {
                            if (this.addMemberRow == -1) {
                                int i67 = this.rowCount;
                                this.rowCount = i67 + 1;
                                this.membersHeaderRow = i67;
                            }
                            int i68 = this.rowCount;
                            this.membersStartRow = i68;
                            int size2 = i68 + this.chatInfo.participants.participants.size();
                            this.membersEndRow = size2;
                            this.rowCount = size2 + 1;
                            this.membersSectionRow = size2;
                            this.visibleChatParticipants.addAll(this.chatInfo.participants.participants);
                            ArrayList arrayList3 = this.sortedUsers;
                            if (arrayList3 != null) {
                                this.visibleSortedUsers.addAll(arrayList3);
                            }
                            SharedMediaLayout sharedMediaLayout4 = this.sharedMediaLayout;
                            if (sharedMediaLayout4 != null) {
                                sharedMediaLayout4.setChatUsers(null, null);
                            }
                        } else {
                            if (this.addMemberRow != -1) {
                                int i69 = this.rowCount;
                                this.rowCount = i69 + 1;
                                this.membersSectionRow = i69;
                            }
                            SharedMediaLayout sharedMediaLayout5 = this.sharedMediaLayout;
                            if (sharedMediaLayout5 != null) {
                                sharedMediaLayout5.setChatUsers(this.sortedUsers, this.chatInfo);
                            }
                        }
                    }
                }
            }
        }
        if (this.sharedMediaRow == -1) {
            int i70 = this.rowCount;
            this.rowCount = i70 + 1;
            this.bottomPaddingRow = i70;
        }
        if (this.actionBar != null) {
            i = ActionBar.getCurrentActionBarHeight() + (this.actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0);
        } else {
            i = 0;
        }
        if (this.listView == null || i3 > this.rowCount || ((i2 = this.listContentHeight) != 0 && i2 + i + AndroidUtilities.dp(88.0f) < this.listView.getMeasuredHeight())) {
            this.lastMeasuredContentWidth = 0;
        }
        RecyclerListView recyclerListView = this.listView;
        if (recyclerListView != null) {
            recyclerListView.setTranslateSelectorPosition(this.bizHoursRow);
        }
    }

    public void updateSearchViewState(boolean z) {
        int i = 0;
        int i2 = z ? 8 : 0;
        this.listView.setVisibility(i2);
        this.searchListView.setVisibility(z ? 0 : 8);
        this.searchItem.getSearchContainer().setVisibility(z ? 0 : 8);
        this.actionBar.onSearchFieldVisibilityChanged(z);
        this.avatarContainer.setVisibility(i2);
        ProfileStoriesView profileStoriesView = this.storyView;
        if (profileStoriesView != null) {
            profileStoriesView.setVisibility(i2);
        }
        this.nameTextView[1].setVisibility(i2);
        this.onlineTextView[1].setVisibility(i2);
        this.onlineTextView[3].setVisibility(i2);
        ActionBarMenuItem actionBarMenuItem = this.otherItem;
        if (actionBarMenuItem != null) {
            actionBarMenuItem.setAlpha(1.0f);
            this.otherItem.setVisibility(i2);
        }
        ActionBarMenuItem actionBarMenuItem2 = this.qrItem;
        if (actionBarMenuItem2 != null) {
            actionBarMenuItem2.setAlpha(1.0f);
            this.qrItem.setVisibility((z || !isQrNeedVisible()) ? 8 : 8);
        }
        this.searchItem.setVisibility(i2);
        this.avatarContainer.setAlpha(1.0f);
        ProfileStoriesView profileStoriesView2 = this.storyView;
        if (profileStoriesView2 != null) {
            profileStoriesView2.setAlpha(1.0f);
        }
        this.nameTextView[1].setAlpha(1.0f);
        this.onlineTextView[1].setAlpha(1.0f);
        this.searchItem.setAlpha(1.0f);
        this.listView.setAlpha(1.0f);
        this.searchListView.setAlpha(1.0f);
        this.emptyView.setAlpha(1.0f);
        if (z) {
            this.searchListView.setEmptyView(this.emptyView);
        } else {
            this.emptyView.setVisibility(8);
        }
    }

    private void updateSharedMediaRows() {
        if (this.listAdapter == null) {
            return;
        }
        updateListAnimated(false);
    }

    private void updateStar() {
        ImageView imageView;
        Integer num;
        int i;
        ImageView imageView2;
        TLRPC$Chat tLRPC$Chat;
        if (this.starBgItem == null || (imageView = this.starFgItem) == null) {
            return;
        }
        if (!this.needStarImage || (tLRPC$Chat = this.currentChat) == null || (tLRPC$Chat.flags2 & 2048) == 0) {
            num = null;
            imageView.setTag(null);
            i = 8;
            this.starFgItem.setVisibility(8);
            imageView2 = this.starBgItem;
        } else {
            imageView.setTag(1);
            i = 0;
            this.starFgItem.setVisibility(0);
            imageView2 = this.starBgItem;
            num = 1;
        }
        imageView2.setTag(num);
        this.starBgItem.setVisibility(i);
    }

    public void updateStoriesViewBounds(boolean z) {
        ActionBar actionBar;
        if (this.storyView == null || (actionBar = this.actionBar) == null) {
            return;
        }
        float f = actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0.0f;
        float width = this.actionBar.getWidth();
        float max = this.actionBar.getBackButton() != null ? Math.max(0.0f, this.actionBar.getBackButton().getRight()) : 0.0f;
        if (this.actionBar.menu != null) {
            for (int i = 0; i < this.actionBar.menu.getChildCount(); i++) {
                View childAt = this.actionBar.menu.getChildAt(i);
                if (childAt.getAlpha() > 0.0f && childAt.getVisibility() == 0) {
                    float left = this.actionBar.menu.getLeft() + ((int) childAt.getX());
                    if (left < width) {
                        width = AndroidUtilities.lerp(width, left, childAt.getAlpha());
                    }
                }
            }
        }
        this.storyView.setBounds(max, width, f + ((this.actionBar.getHeight() - f) / 2.0f), !z);
    }

    /* JADX WARN: Code restructure failed: missing block: B:40:0x0030, code lost:
        if (r4.userInfo.ttl_period != 0) goto L8;
     */
    /* JADX WARN: Code restructure failed: missing block: B:47:0x0044, code lost:
        if (r4.chatInfo.ttl_period != 0) goto L8;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    private void updateTimeItem() {
        TimerDrawable timerDrawable = this.timerDrawable;
        if (timerDrawable == null) {
            return;
        }
        TLRPC$EncryptedChat tLRPC$EncryptedChat = this.currentEncryptedChat;
        if (tLRPC$EncryptedChat == null) {
            TLRPC$UserFull tLRPC$UserFull = this.userInfo;
            if (tLRPC$UserFull != null) {
                timerDrawable.setTime(tLRPC$UserFull.ttl_period);
                if (this.needTimerImage) {
                }
                this.timeItem.setTag(null);
                this.timeItem.setVisibility(8);
                return;
            }
            TLRPC$ChatFull tLRPC$ChatFull = this.chatInfo;
            if (tLRPC$ChatFull != null) {
                timerDrawable.setTime(tLRPC$ChatFull.ttl_period);
                if (this.needTimerImage) {
                }
            }
            this.timeItem.setTag(null);
            this.timeItem.setVisibility(8);
            return;
        }
        timerDrawable.setTime(tLRPC$EncryptedChat.ttl);
        this.timeItem.setTag(1);
        this.timeItem.setVisibility(0);
    }

    private void updateTtlIcon() {
        TLRPC$UserFull tLRPC$UserFull;
        if (this.ttlIconView == null) {
            return;
        }
        AndroidUtilities.updateViewVisibilityAnimated(this.ttlIconView, this.currentEncryptedChat == null && (((tLRPC$UserFull = this.userInfo) != null && tLRPC$UserFull.ttl_period > 0) || (this.chatInfo != null && ChatObject.canUserDoAdminAction(this.currentChat, 13) && this.chatInfo.ttl_period > 0)), 0.8f, this.fragmentOpened);
    }

    private void updatedPeerColor() {
        SharedMediaLayout.ScrollSlidingTextTabStripInner scrollSlidingTextTabStripInner;
        TextView textView;
        int themedColor;
        this.adaptedColors.clear();
        TopView topView = this.topView;
        if (topView != null) {
            topView.setBackgroundColorId(this.peerColor, true);
        }
        SimpleTextView simpleTextView = this.onlineTextView[1];
        if (simpleTextView != null) {
            this.onlineTextView[1].setTextColor(ColorUtils.blendARGB(applyPeerColor(getThemedColor(simpleTextView.getTag() instanceof Integer ? ((Integer) this.onlineTextView[1].getTag()).intValue() : Theme.key_avatar_subtitleInProfileBlue), true, Boolean.valueOf(this.isOnline[0])), -1275068417, this.currentExpandAnimatorValue));
        }
        ShowDrawable showDrawable = this.showStatusButton;
        if (showDrawable != null) {
            showDrawable.setBackgroundColor(ColorUtils.blendARGB(Theme.multAlpha(Theme.adaptHSV(this.actionBarBackgroundColor, 0.18f, -0.1f), 0.5f), 603979775, this.currentExpandAnimatorValue));
        }
        ActionBar actionBar = this.actionBar;
        if (actionBar != null) {
            actionBar.setItemsBackgroundColor(this.peerColor != null ? 553648127 : getThemedColor(Theme.key_avatar_actionBarSelectorBlue), false);
            this.actionBar.setItemsColor(ColorUtils.blendARGB(this.peerColor != null ? -1 : getThemedColor(Theme.key_actionBarDefaultIcon), AvatarDrawable.getIconColorForId((this.userId != 0 || (ChatObject.isChannel(this.chatId, this.currentAccount) && !this.currentChat.megagroup)) ? 5L : this.chatId, this.resourcesProvider), this.avatarAnimationProgress), false);
        }
        if (this.verifiedDrawable[1] != null) {
            MessagesController.PeerColor peerColor = this.peerColor;
            if (peerColor != null) {
                themedColor = Theme.adaptHSV(ColorUtils.blendARGB(peerColor.getColor2(), this.peerColor.hasColor6(Theme.isCurrentThemeDark()) ? this.peerColor.getColor5() : this.peerColor.getColor3(), 0.4f), 0.1f, Theme.isCurrentThemeDark() ? -0.1f : -0.08f);
            } else {
                themedColor = getThemedColor(Theme.key_profile_verifiedBackground);
            }
            this.verifiedDrawable[1].setColorFilter(AndroidUtilities.getOffsetColor(themedColor, getThemedColor(Theme.key_player_actionBarTitle), this.mediaHeaderAnimationProgress, 1.0f), PorterDuff.Mode.MULTIPLY);
        }
        if (this.verifiedCheckDrawable[1] != null) {
            this.verifiedCheckDrawable[1].setColorFilter(AndroidUtilities.getOffsetColor(this.peerColor != null ? -1 : applyPeerColor(getThemedColor(Theme.key_profile_verifiedCheck)), getThemedColor(Theme.key_windowBackgroundWhite), this.mediaHeaderAnimationProgress, 1.0f), PorterDuff.Mode.MULTIPLY);
        }
        SimpleTextView simpleTextView2 = this.nameTextView[1];
        if (simpleTextView2 != null) {
            simpleTextView2.setTextColor(ColorUtils.blendARGB(this.peerColor != null ? -1 : getThemedColor(Theme.key_profile_title), -1, this.currentExpandAnimatorValue));
        }
        AutoDeletePopupWrapper autoDeletePopupWrapper = this.autoDeletePopupWrapper;
        if (autoDeletePopupWrapper != null && (textView = autoDeletePopupWrapper.textView) != null) {
            textView.invalidate();
        }
        AndroidUtilities.forEachViews((RecyclerView) this.listView, new com.google.android.exoplayer2.util.Consumer() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda41
            @Override // com.google.android.exoplayer2.util.Consumer
            public final void accept(Object obj) {
                ProfileActivity.this.lambda$updatedPeerColor$77((View) obj);
            }
        });
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout != null && (scrollSlidingTextTabStripInner = sharedMediaLayout.scrollSlidingTextTabStrip) != null) {
            scrollSlidingTextTabStripInner.updateColors();
        }
        writeButtonSetBackground();
        updateEmojiStatusDrawableColor();
    }

    private void writeButtonSetBackground() {
        if (this.writeButton == null) {
            return;
        }
        try {
            Drawable mutate = this.fragmentView.getContext().getResources().getDrawable(R.drawable.floating_shadow_profile).mutate();
            PorterDuff.Mode mode = PorterDuff.Mode.MULTIPLY;
            mutate.setColorFilter(new PorterDuffColorFilter(-16777216, mode));
            int themedColor = getThemedColor(Theme.key_profile_actionBackground);
            int themedColor2 = getThemedColor(Theme.key_profile_actionPressedBackground);
            int themedColor3 = getThemedColor(Theme.key_profile_actionIcon);
            if (this.peerColor != null && Theme.hasHue(themedColor)) {
                themedColor = Theme.adaptHSV(this.peerColor.getBgColor1(false), 0.05f, -0.04f);
                themedColor2 = applyPeerColor2(themedColor2);
                themedColor3 = -1;
            }
            CombinedDrawable combinedDrawable = new CombinedDrawable(mutate, Theme.createSimpleSelectorCircleDrawable(AndroidUtilities.dp(56.0f), themedColor, themedColor2), 0, 0);
            combinedDrawable.setIconSize(AndroidUtilities.dp(56.0f), AndroidUtilities.dp(56.0f));
            this.writeButton.setBackground(combinedDrawable);
            this.writeButton.setColorFilter(new PorterDuffColorFilter(themedColor3, mode));
        } catch (Exception unused) {
        }
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public boolean canBeginSlide() {
        if (this.sharedMediaLayout.isSwipeBackEnabled()) {
            return super.canBeginSlide();
        }
        return false;
    }

    @Override // org.telegram.ui.Components.ImageUpdater.ImageUpdaterDelegate
    public /* synthetic */ boolean canFinishFragment() {
        return ImageUpdater.ImageUpdaterDelegate.-CC.$default$canFinishFragment(this);
    }

    @Override // org.telegram.ui.Components.SharedMediaLayout.Delegate
    public boolean canSearchMembers() {
        return this.canSearchMembers;
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public ActionBar createActionBar(Context context) {
        ChatActivity.ThemeDelegate themeDelegate;
        BaseFragment lastFragment = this.parentLayout.getLastFragment();
        if ((lastFragment instanceof ChatActivity) && (themeDelegate = ((ChatActivity) lastFragment).themeDelegate) != null && themeDelegate.getCurrentTheme() != null) {
            this.resourcesProvider = lastFragment.getResourceProvider();
        }
        ActionBar actionBar = new ActionBar(context, this.resourcesProvider) { // from class: org.telegram.ui.ProfileActivity.5
            {
                ProfileActivity.this = this;
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // org.telegram.ui.ActionBar.ActionBar, android.widget.FrameLayout, android.view.ViewGroup, android.view.View
            public void onLayout(boolean z, int i, int i2, int i3, int i4) {
                super.onLayout(z, i, i2, i3, i4);
                ProfileActivity.this.updateStoriesViewBounds(false);
            }

            @Override // org.telegram.ui.ActionBar.ActionBar, android.view.View
            public boolean onTouchEvent(MotionEvent motionEvent) {
                ProfileActivity.this.avatarContainer.getHitRect(ProfileActivity.this.rect);
                if (ProfileActivity.this.rect.contains((int) motionEvent.getX(), (int) motionEvent.getY())) {
                    return false;
                }
                return super.onTouchEvent(motionEvent);
            }

            @Override // org.telegram.ui.ActionBar.ActionBar
            public void setItemsColor(int i, boolean z) {
                super.setItemsColor(i, z);
                if (z || ProfileActivity.this.ttlIconView == null) {
                    return;
                }
                ProfileActivity.this.ttlIconView.setColorFilter(new PorterDuffColorFilter(i, PorterDuff.Mode.MULTIPLY));
            }
        };
        boolean z = true;
        actionBar.setForceSkipTouches(true);
        actionBar.setBackgroundColor(0);
        actionBar.setItemsBackgroundColor(this.peerColor != null ? 553648127 : getThemedColor(Theme.key_avatar_actionBarSelectorBlue), false);
        int i = Theme.key_actionBarDefaultIcon;
        actionBar.setItemsColor(getThemedColor(i), false);
        actionBar.setItemsColor(getThemedColor(i), true);
        actionBar.setBackButtonDrawable(new BackDrawable(false));
        actionBar.setCastShadows(false);
        actionBar.setAddToContainer(false);
        actionBar.setClipContent(true);
        actionBar.setOccupyStatusBar((Build.VERSION.SDK_INT < 21 || AndroidUtilities.isTablet() || this.inBubbleMode) ? false : false);
        final ImageView backButton = actionBar.getBackButton();
        backButton.setOnLongClickListener(new View.OnLongClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda4
            @Override // android.view.View.OnLongClickListener
            public final boolean onLongClick(View view) {
                boolean lambda$createActionBar$4;
                lambda$createActionBar$4 = ProfileActivity.this.lambda$createActionBar$4(backButton, view);
                return lambda$createActionBar$4;
            }
        });
        return actionBar;
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:514:0x096d  */
    /* JADX WARN: Removed duplicated region for block: B:517:0x0994  */
    /* JADX WARN: Removed duplicated region for block: B:522:0x0a07  */
    /* JADX WARN: Removed duplicated region for block: B:525:0x0a41 A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:529:0x0ae3  */
    /* JADX WARN: Removed duplicated region for block: B:530:0x0af3  */
    /* JADX WARN: Removed duplicated region for block: B:533:0x0b32  */
    /* JADX WARN: Removed duplicated region for block: B:536:0x0b82  */
    /* JADX WARN: Type inference failed for: r12v2 */
    /* JADX WARN: Type inference failed for: r12v3, types: [int, boolean] */
    /* JADX WARN: Type inference failed for: r12v5 */
    /* JADX WARN: Type inference failed for: r12v6 */
    /* JADX WARN: Type inference failed for: r14v2 */
    /* JADX WARN: Type inference failed for: r14v3, types: [int, boolean] */
    /* JADX WARN: Type inference failed for: r14v6 */
    /* JADX WARN: Type inference failed for: r14v7 */
    @Override // org.telegram.ui.ActionBar.BaseFragment
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public View createView(final Context context) {
        ?? r12;
        ?? r14;
        ActionBarMenuItem addItem;
        int i;
        int i2;
        int i3;
        int i4;
        Object obj;
        FrameLayout frameLayout;
        Theme.ResourcesProvider resourcesProvider;
        boolean z;
        float f;
        ProfileStoriesView profileStoriesView;
        TL_stories$PeerStories tL_stories$PeerStories;
        AvatarImageView avatarImageView;
        RLottieImageView rLottieImageView;
        int i5;
        int i6;
        boolean z2;
        ButtonWithCounterView buttonWithCounterView;
        CharSequence string;
        SimpleTextView simpleTextView;
        int i7;
        int i8;
        ChatAvatarContainer avatarContainer;
        TLRPC$UserFull tLRPC$UserFull;
        TLRPC$ChatParticipants tLRPC$ChatParticipants;
        ChatActivity.ThemeDelegate themeDelegate;
        Theme.createProfileResources(context);
        Theme.createChatResources(context, false);
        final BaseFragment lastFragment = this.parentLayout.getLastFragment();
        if ((lastFragment instanceof ChatActivity) && (themeDelegate = ((ChatActivity) lastFragment).themeDelegate) != null && themeDelegate.getCurrentTheme() != null) {
            this.resourcesProvider = lastFragment.getResourceProvider();
        }
        this.searchTransitionOffset = 0;
        this.searchTransitionProgress = 1.0f;
        this.searchMode = false;
        this.hasOwnBackground = true;
        this.extraHeight = AndroidUtilities.dp(88.0f);
        this.actionBar.setActionBarMenuOnItemClick(new 6());
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout != null) {
            sharedMediaLayout.onDestroy();
        }
        long j = this.dialogId;
        if (j == 0) {
            j = this.userId;
            if (j == 0) {
                j = -this.chatId;
            }
        }
        final long j2 = j;
        this.fragmentView = new 7(context);
        TLRPC$ChatFull tLRPC$ChatFull = this.chatInfo;
        ArrayList arrayList = (tLRPC$ChatFull == null || (tLRPC$ChatParticipants = tLRPC$ChatFull.participants) == null || tLRPC$ChatParticipants.participants.size() <= 5) ? null : this.sortedUsers;
        SharedMediaLayout.SharedMediaPreloader sharedMediaPreloader = this.sharedMediaPreloader;
        TLRPC$UserFull tLRPC$UserFull2 = this.userInfo;
        8 r2 = new 8(context, j2, sharedMediaPreloader, tLRPC$UserFull2 != null ? tLRPC$UserFull2.common_chats_count : 0, this.sortedUsers, this.chatInfo, tLRPC$UserFull2, this.openSimilar ? 10 : arrayList != null ? 7 : -1, this, this, 1, this.resourcesProvider);
        this.sharedMediaLayout = r2;
        r2.setLayoutParams(new RecyclerView.LayoutParams(-1, -1));
        ActionBarMenu createMenu = this.actionBar.createMenu();
        if (this.userId != getUserConfig().clientUserId || this.myProfile) {
            r12 = 0;
        } else {
            ActionBarMenuItem addItem2 = createMenu.addItem(37, R.drawable.msg_qr_mini, getResourceProvider());
            this.qrItem = addItem2;
            addItem2.setContentDescription(LocaleController.getString(R.string.GetQRCode));
            r12 = 0;
            r12 = 0;
            updateQrItemVisibility(false);
            if (ContactsController.getInstance(this.currentAccount).getPrivacyRules(7) == null) {
                ContactsController.getInstance(this.currentAccount).loadPrivacySettings();
            }
        }
        if (this.imageUpdater == null || this.myProfile) {
            r14 = 1;
        } else {
            r14 = 1;
            r14 = 1;
            ActionBarMenuItem actionBarMenuItemSearchListener = createMenu.addItem(32, R.drawable.ic_ab_search).setIsSearchField(true).setActionBarMenuItemSearchListener(new ActionBarMenuItem.ActionBarMenuItemSearchListener() { // from class: org.telegram.ui.ProfileActivity.9
                {
                    ProfileActivity.this = this;
                }

                @Override // org.telegram.ui.ActionBar.ActionBarMenuItem.ActionBarMenuItemSearchListener
                public Animator getCustomToggleTransition() {
                    ProfileActivity profileActivity = ProfileActivity.this;
                    profileActivity.searchMode = !profileActivity.searchMode;
                    if (!ProfileActivity.this.searchMode) {
                        ProfileActivity.this.searchItem.clearFocusOnSearchView();
                    }
                    if (ProfileActivity.this.searchMode) {
                        ProfileActivity.this.searchItem.getSearchField().setText("");
                    }
                    ProfileActivity profileActivity2 = ProfileActivity.this;
                    return profileActivity2.searchExpandTransition(profileActivity2.searchMode);
                }

                @Override // org.telegram.ui.ActionBar.ActionBarMenuItem.ActionBarMenuItemSearchListener
                public void onTextChanged(EditText editText) {
                    ProfileActivity.this.searchAdapter.search(editText.getText().toString().toLowerCase());
                }
            });
            this.searchItem = actionBarMenuItemSearchListener;
            int i9 = R.string.SearchInSettings;
            actionBarMenuItemSearchListener.setContentDescription(LocaleController.getString(i9));
            this.searchItem.setSearchFieldHint(LocaleController.getString(i9));
            this.sharedMediaLayout.getSearchItem().setVisibility(8);
            if (this.sharedMediaLayout.getSearchOptionsItem() != null) {
                this.sharedMediaLayout.getSearchOptionsItem().setVisibility(8);
            }
            if (this.expandPhoto) {
                this.searchItem.setVisibility(8);
            }
        }
        ActionBarMenuItem addItem3 = createMenu.addItem(16, R.drawable.profile_video);
        this.videoCallItem = addItem3;
        addItem3.setContentDescription(LocaleController.getString(R.string.VideoCall));
        if (this.chatId != 0) {
            this.callItem = createMenu.addItem(15, R.drawable.msg_voicechat2);
            if (ChatObject.isChannelOrGiga(this.currentChat)) {
                addItem = this.callItem;
                i = R.string.VoipChannelVoiceChat;
            } else {
                addItem = this.callItem;
                i = R.string.VoipGroupVoiceChat;
            }
        } else {
            addItem = createMenu.addItem(15, R.drawable.ic_call);
            this.callItem = addItem;
            i = R.string.Call;
        }
        addItem.setContentDescription(LocaleController.getString(i));
        if (this.myProfile) {
            i2 = R.drawable.group_edit_profile;
            i3 = 41;
        } else {
            i2 = R.drawable.group_edit_profile;
            i3 = 12;
        }
        ActionBarMenuItem addItem4 = createMenu.addItem(i3, i2);
        this.editItem = addItem4;
        addItem4.setContentDescription(LocaleController.getString(R.string.Edit));
        this.otherItem = createMenu.addItem(10, R.drawable.ic_ab_other, this.resourcesProvider);
        ImageView imageView = new ImageView(context);
        this.ttlIconView = imageView;
        imageView.setColorFilter(new PorterDuffColorFilter(getThemedColor(Theme.key_actionBarDefaultIcon), PorterDuff.Mode.MULTIPLY));
        AndroidUtilities.updateViewVisibilityAnimated(this.ttlIconView, r12, 0.8f, r12);
        this.ttlIconView.setImageResource(R.drawable.msg_mini_autodelete_timer);
        this.otherItem.addView(this.ttlIconView, LayoutHelper.createFrame(12, 12.0f, 19, 8.0f, 2.0f, 0.0f, 0.0f));
        this.otherItem.setContentDescription(LocaleController.getString(R.string.AccDescrMoreOptions));
        if (this.listView == null || this.imageUpdater == null) {
            i4 = -1;
            obj = null;
        } else {
            int findFirstVisibleItemPosition = this.layoutManager.findFirstVisibleItemPosition();
            View findViewByPosition = this.layoutManager.findViewByPosition(findFirstVisibleItemPosition);
            if (findViewByPosition != null) {
                findViewByPosition.getTop();
                this.listView.getPaddingTop();
            } else {
                findFirstVisibleItemPosition = -1;
            }
            i4 = findFirstVisibleItemPosition;
            obj = this.writeButton.getTag();
        }
        createActionBarMenu(r12);
        this.listAdapter = new ListAdapter(context);
        this.searchAdapter = new SearchAdapter(context);
        AvatarDrawable avatarDrawable = new AvatarDrawable();
        this.avatarDrawable = avatarDrawable;
        avatarDrawable.setProfile(r14);
        this.fragmentView.setWillNotDraw(r12);
        View view = this.fragmentView;
        NestedFrameLayout nestedFrameLayout = (NestedFrameLayout) view;
        this.contentView = nestedFrameLayout;
        nestedFrameLayout.needBlur = r14;
        FrameLayout frameLayout2 = (FrameLayout) view;
        ClippedListView clippedListView = new ClippedListView(context) { // from class: org.telegram.ui.ProfileActivity.10
            private VelocityTracker velocityTracker;

            {
                ProfileActivity.this = this;
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // org.telegram.ui.Components.RecyclerListView
            public boolean allowSelectChildAtPosition(View view2) {
                return view2 != ProfileActivity.this.sharedMediaLayout;
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // org.telegram.ui.Components.RecyclerListView
            public boolean canHighlightChildAt(View view2, float f2, float f3) {
                return !(view2 instanceof AboutLinkCell);
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // org.telegram.ui.Components.RecyclerListView, android.view.ViewGroup, android.view.View
            public void dispatchDraw(Canvas canvas) {
                if (ProfileActivity.this.bizHoursRow >= 0 && ProfileActivity.this.infoStartRow >= 0 && ProfileActivity.this.infoEndRow >= 0) {
                    drawSectionBackground(canvas, ProfileActivity.this.infoStartRow, ProfileActivity.this.infoEndRow, getThemedColor(Theme.key_windowBackgroundWhite));
                }
                super.dispatchDraw(canvas);
            }

            @Override // androidx.recyclerview.widget.RecyclerView, android.view.ViewGroup
            public boolean drawChild(Canvas canvas, View view2, long j3) {
                if (getItemAnimator().isRunning() && view2.getBackground() == null && view2.getTranslationY() != 0.0f) {
                    boolean z3 = ProfileActivity.this.listView.getChildAdapterPosition(view2) == ProfileActivity.this.sharedMediaRow && view2.getAlpha() != 1.0f;
                    if (z3) {
                        ProfileActivity.this.whitePaint.setAlpha((int) (ProfileActivity.this.listView.getAlpha() * 255.0f * view2.getAlpha()));
                    }
                    canvas.drawRect(ProfileActivity.this.listView.getX(), view2.getY(), ProfileActivity.this.listView.getX() + ProfileActivity.this.listView.getMeasuredWidth(), view2.getY() + view2.getHeight(), ProfileActivity.this.whitePaint);
                    if (z3) {
                        ProfileActivity.this.whitePaint.setAlpha((int) (ProfileActivity.this.listView.getAlpha() * 255.0f));
                    }
                }
                return super.drawChild(canvas, view2, j3);
            }

            @Override // org.telegram.ui.Components.RecyclerListView, android.view.View
            public boolean hasOverlappingRendering() {
                return false;
            }

            @Override // android.view.View
            public void invalidate() {
                super.invalidate();
                View view2 = ProfileActivity.this.fragmentView;
                if (view2 != null) {
                    view2.invalidate();
                }
            }

            @Override // org.telegram.ui.Components.RecyclerListView, androidx.recyclerview.widget.RecyclerView, android.view.ViewGroup
            public boolean onInterceptTouchEvent(MotionEvent motionEvent) {
                if (ProfileActivity.this.sharedMediaLayout != null) {
                    if (ProfileActivity.this.sharedMediaLayout.canEditStories() && ProfileActivity.this.sharedMediaLayout.isActionModeShown() && ProfileActivity.this.sharedMediaLayout.getClosestTab() == 13) {
                        return false;
                    }
                    if (ProfileActivity.this.sharedMediaLayout.canEditStories() && ProfileActivity.this.sharedMediaLayout.isActionModeShown() && ProfileActivity.this.sharedMediaLayout.getClosestTab() == 8) {
                        return false;
                    }
                }
                return super.onInterceptTouchEvent(motionEvent);
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // org.telegram.ui.Components.RecyclerListView, androidx.recyclerview.widget.RecyclerView, android.view.ViewGroup, android.view.View
            public void onLayout(boolean z3, int i10, int i11, int i12, int i13) {
                super.onLayout(z3, i10, i11, i12, i13);
                ProfileActivity.this.updateBottomButtonY();
            }

            @Override // org.telegram.ui.Components.RecyclerListView, androidx.recyclerview.widget.RecyclerView, android.view.View
            public boolean onTouchEvent(MotionEvent motionEvent) {
                VelocityTracker velocityTracker;
                View findViewByPosition2;
                int action = motionEvent.getAction();
                if (action == 0) {
                    VelocityTracker velocityTracker2 = this.velocityTracker;
                    if (velocityTracker2 == null) {
                        this.velocityTracker = VelocityTracker.obtain();
                    } else {
                        velocityTracker2.clear();
                    }
                    this.velocityTracker.addMovement(motionEvent);
                } else if (action == 2) {
                    VelocityTracker velocityTracker3 = this.velocityTracker;
                    if (velocityTracker3 != null) {
                        velocityTracker3.addMovement(motionEvent);
                        this.velocityTracker.computeCurrentVelocity(1000);
                        ProfileActivity.this.listViewVelocityY = this.velocityTracker.getYVelocity(motionEvent.getPointerId(motionEvent.getActionIndex()));
                    }
                } else if ((action == 1 || action == 3) && (velocityTracker = this.velocityTracker) != null) {
                    velocityTracker.recycle();
                    this.velocityTracker = null;
                }
                boolean onTouchEvent = super.onTouchEvent(motionEvent);
                if ((action == 1 || action == 3) && ProfileActivity.this.allowPullingDown && (findViewByPosition2 = ProfileActivity.this.layoutManager.findViewByPosition(0)) != null) {
                    if (ProfileActivity.this.isPulledDown) {
                        ProfileActivity.this.listView.smoothScrollBy(0, (findViewByPosition2.getTop() - ProfileActivity.this.listView.getMeasuredWidth()) + ActionBar.getCurrentActionBarHeight() + (((BaseFragment) ProfileActivity.this).actionBar.getOccupyStatusBar() ? AndroidUtilities.statusBarHeight : 0), CubicBezierInterpolator.EASE_OUT_QUINT);
                    } else {
                        ProfileActivity.this.listView.smoothScrollBy(0, findViewByPosition2.getTop() - AndroidUtilities.dp(88.0f), CubicBezierInterpolator.EASE_OUT_QUINT);
                    }
                }
                return onTouchEvent;
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // androidx.recyclerview.widget.RecyclerView
            public void requestChildOnScreen(View view2, View view3) {
            }
        };
        this.listView = clippedListView;
        clippedListView.setVerticalScrollBarEnabled(r12);
        11 r0 = new 11();
        this.listView.setItemAnimator(r0);
        r0.setMoveDelay(0L);
        r0.setMoveDuration(320L);
        r0.setRemoveDuration(320L);
        r0.setAddDuration(320L);
        r0.setSupportsChangeAnimations(r12);
        r0.setDelayAnimations(r12);
        r0.setInterpolator(CubicBezierInterpolator.EASE_OUT_QUINT);
        this.listView.setClipToPadding(r12);
        this.listView.setHideIfEmpty(r12);
        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(context) { // from class: org.telegram.ui.ProfileActivity.12
            {
                ProfileActivity.this = this;
            }

            @Override // androidx.recyclerview.widget.LinearLayoutManager, androidx.recyclerview.widget.RecyclerView.LayoutManager
            public int scrollVerticallyBy(int i10, RecyclerView.Recycler recycler, RecyclerView.State state) {
                ProfileActivity profileActivity;
                boolean z3 = false;
                View findViewByPosition2 = ProfileActivity.this.layoutManager.findViewByPosition(0);
                if (findViewByPosition2 != null && !ProfileActivity.this.openingAvatar) {
                    int top = findViewByPosition2.getTop() - AndroidUtilities.dp(88.0f);
                    if (!ProfileActivity.this.allowPullingDown && top > i10) {
                        if (ProfileActivity.this.avatarsViewPager.hasImages() && ProfileActivity.this.avatarImage.getImageReceiver().hasNotThumb() && !AndroidUtilities.isAccessibilityScreenReaderEnabled() && !ProfileActivity.this.isInLandscapeMode && !AndroidUtilities.isTablet()) {
                            profileActivity = ProfileActivity.this;
                            if (profileActivity.avatarBig == null) {
                                z3 = true;
                            }
                        }
                        i10 = top;
                    } else if (ProfileActivity.this.allowPullingDown) {
                        if (i10 >= top) {
                            profileActivity = ProfileActivity.this;
                        } else if (ProfileActivity.this.listView.getScrollState() == 1 && !ProfileActivity.this.isPulledDown) {
                            i10 /= 2;
                        }
                    }
                    profileActivity.allowPullingDown = z3;
                    i10 = top;
                }
                return super.scrollVerticallyBy(i10, recycler, state);
            }

            @Override // androidx.recyclerview.widget.LinearLayoutManager, androidx.recyclerview.widget.RecyclerView.LayoutManager
            public boolean supportsPredictiveItemAnimations() {
                return ProfileActivity.this.imageUpdater != null;
            }
        };
        this.layoutManager = linearLayoutManager;
        linearLayoutManager.setOrientation(r14);
        LinearLayoutManager linearLayoutManager2 = this.layoutManager;
        linearLayoutManager2.mIgnoreTopPadding = r12;
        this.listView.setLayoutManager(linearLayoutManager2);
        this.listView.setGlowColor(r12);
        this.listView.setAdapter(this.listAdapter);
        frameLayout2.addView(this.listView, LayoutHelper.createFrame(-1, -1, 51));
        this.listView.setOnItemClickListener(new RecyclerListView.OnItemClickListenerExtended() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda8
            @Override // org.telegram.ui.Components.RecyclerListView.OnItemClickListenerExtended
            public /* synthetic */ boolean hasDoubleTap(View view2, int i10) {
                return RecyclerListView.OnItemClickListenerExtended.-CC.$default$hasDoubleTap(this, view2, i10);
            }

            @Override // org.telegram.ui.Components.RecyclerListView.OnItemClickListenerExtended
            public /* synthetic */ void onDoubleTap(View view2, int i10, float f2, float f3) {
                RecyclerListView.OnItemClickListenerExtended.-CC.$default$onDoubleTap(this, view2, i10, f2, f3);
            }

            @Override // org.telegram.ui.Components.RecyclerListView.OnItemClickListenerExtended
            public final void onItemClick(View view2, int i10, float f2, float f3) {
                ProfileActivity.this.lambda$createView$10(j2, context, lastFragment, view2, i10, f2, f3);
            }
        });
        this.listView.setOnItemLongClickListener(new 16(context));
        if (this.openSimilar) {
            updateRowsIds();
            scrollToSharedMedia();
            this.savedScrollToSharedMedia = r14;
            this.savedScrollPosition = this.sharedMediaRow;
            this.savedScrollOffset = r12;
        }
        if (this.searchItem != null) {
            RecyclerListView recyclerListView = new RecyclerListView(context);
            this.searchListView = recyclerListView;
            recyclerListView.setVerticalScrollBarEnabled(r12);
            this.searchListView.setLayoutManager(new LinearLayoutManager(context, r14, r12));
            this.searchListView.setGlowColor(getThemedColor(Theme.key_avatar_backgroundActionBarBlue));
            this.searchListView.setAdapter(this.searchAdapter);
            resourcesProvider = null;
            this.searchListView.setItemAnimator(null);
            this.searchListView.setVisibility(8);
            this.searchListView.setLayoutAnimation(null);
            this.searchListView.setBackgroundColor(getThemedColor(Theme.key_windowBackgroundWhite));
            frameLayout = frameLayout2;
            frameLayout.addView(this.searchListView, LayoutHelper.createFrame(-1, -1, 51));
            this.searchListView.setOnItemClickListener(new RecyclerListView.OnItemClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda11
                @Override // org.telegram.ui.Components.RecyclerListView.OnItemClickListener
                public final void onItemClick(View view2, int i10) {
                    ProfileActivity.this.lambda$createView$11(view2, i10);
                }
            });
            this.searchListView.setOnItemLongClickListener(new RecyclerListView.OnItemLongClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda12
                @Override // org.telegram.ui.Components.RecyclerListView.OnItemLongClickListener
                public final boolean onItemClick(View view2, int i10) {
                    boolean lambda$createView$13;
                    lambda$createView$13 = ProfileActivity.this.lambda$createView$13(view2, i10);
                    return lambda$createView$13;
                }
            });
            this.searchListView.setOnScrollListener(new RecyclerView.OnScrollListener() { // from class: org.telegram.ui.ProfileActivity.17
                {
                    ProfileActivity.this = this;
                }

                @Override // androidx.recyclerview.widget.RecyclerView.OnScrollListener
                public void onScrollStateChanged(RecyclerView recyclerView, int i10) {
                    if (i10 == 1) {
                        AndroidUtilities.hideKeyboard(ProfileActivity.this.getParentActivity().getCurrentFocus());
                    }
                }
            });
            this.searchListView.setAnimateEmptyView(r14, r14);
            StickerEmptyView stickerEmptyView = new StickerEmptyView(context, null, r14);
            this.emptyView = stickerEmptyView;
            stickerEmptyView.setAnimateLayoutChange(r14);
            this.emptyView.subtitle.setVisibility(8);
            this.emptyView.setVisibility(8);
            frameLayout.addView(this.emptyView);
            this.searchAdapter.loadFaqWebPage();
        } else {
            frameLayout = frameLayout2;
            resourcesProvider = null;
        }
        if (this.banFromGroup != 0) {
            final TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(this.banFromGroup));
            if (this.currentChannelParticipant == null) {
                TLRPC$TL_channels_getParticipant tLRPC$TL_channels_getParticipant = new TLRPC$TL_channels_getParticipant();
                tLRPC$TL_channels_getParticipant.channel = MessagesController.getInputChannel(chat);
                tLRPC$TL_channels_getParticipant.participant = getMessagesController().getInputPeer(this.userId);
                getConnectionsManager().sendRequest(tLRPC$TL_channels_getParticipant, new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda13
                    @Override // org.telegram.tgnet.RequestDelegate
                    public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                        ProfileActivity.this.lambda$createView$15(tLObject, tLRPC$TL_error);
                    }
                });
            }
            FrameLayout frameLayout3 = new FrameLayout(context) { // from class: org.telegram.ui.ProfileActivity.18
                {
                    ProfileActivity.this = this;
                }

                @Override // android.view.View
                protected void onDraw(Canvas canvas) {
                    int intrinsicHeight = Theme.chat_composeShadowDrawable.getIntrinsicHeight();
                    Theme.chat_composeShadowDrawable.setBounds(0, 0, getMeasuredWidth(), intrinsicHeight);
                    Theme.chat_composeShadowDrawable.draw(canvas);
                    canvas.drawRect(0.0f, intrinsicHeight, getMeasuredWidth(), getMeasuredHeight(), Theme.chat_composeBackgroundPaint);
                }
            };
            frameLayout3.setWillNotDraw(r12);
            frameLayout.addView(frameLayout3, LayoutHelper.createFrame(-1, 51, 83));
            frameLayout3.setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda14
                @Override // android.view.View.OnClickListener
                public final void onClick(View view2) {
                    ProfileActivity.this.lambda$createView$16(chat, view2);
                }
            });
            TextView textView = new TextView(context);
            textView.setTextColor(getThemedColor(Theme.key_text_RedRegular));
            textView.setTextSize(r14, 15.0f);
            textView.setGravity(17);
            textView.setTypeface(AndroidUtilities.bold());
            textView.setText(LocaleController.getString(R.string.BanFromTheGroup));
            frameLayout3.addView(textView, LayoutHelper.createFrame(-2, -2.0f, 17, 0.0f, 1.0f, 0.0f, 0.0f));
            this.listView.setPadding(r12, AndroidUtilities.dp(88.0f), r12, AndroidUtilities.dp(48.0f));
            this.listView.setBottomGlowOffset(AndroidUtilities.dp(48.0f));
        } else {
            this.listView.setPadding(r12, AndroidUtilities.dp(88.0f), r12, r12);
        }
        TopView topView = new TopView(context);
        this.topView = topView;
        topView.setBackgroundColorId(this.peerColor, r12);
        this.topView.setBackgroundColor(getThemedColor(Theme.key_avatar_backgroundActionBarBlue));
        frameLayout.addView(this.topView);
        this.contentView.blurBehindViews.add(this.topView);
        DrawerProfileCell.AnimatedStatusView animatedStatusView = new DrawerProfileCell.AnimatedStatusView(context, 20, 60);
        this.animatedStatusView = animatedStatusView;
        animatedStatusView.setPivotX(AndroidUtilities.dp(30.0f));
        this.animatedStatusView.setPivotY(AndroidUtilities.dp(30.0f));
        this.avatarContainer = new FrameLayout(context);
        this.avatarContainer2 = new 20(context);
        ImageReceiver imageReceiver = new ImageReceiver(this.avatarContainer2);
        this.fallbackImage = imageReceiver;
        imageReceiver.setRoundRadius(AndroidUtilities.dp(11.0f));
        AndroidUtilities.updateViewVisibilityAnimated(this.avatarContainer2, r14, 1.0f, r12);
        frameLayout.addView(this.avatarContainer2, LayoutHelper.createFrame(-1, -1.0f, 8388611, 0.0f, 0.0f, 0.0f, 0.0f));
        this.avatarContainer.setPivotX(0.0f);
        this.avatarContainer.setPivotY(0.0f);
        this.avatarContainer2.addView(this.avatarContainer, LayoutHelper.createFrame(42, 42.0f, 51, 64.0f, 0.0f, 0.0f, 0.0f));
        AvatarImageView avatarImageView2 = new AvatarImageView(context) { // from class: org.telegram.ui.ProfileActivity.21
            {
                ProfileActivity.this = this;
            }

            @Override // android.view.View
            protected void dispatchDraw(Canvas canvas) {
                super.dispatchDraw(canvas);
                AnimatedEmojiDrawable animatedEmojiDrawable = this.animatedEmojiDrawable;
                if (animatedEmojiDrawable == null || animatedEmojiDrawable.getImageReceiver() == null) {
                    return;
                }
                this.animatedEmojiDrawable.getImageReceiver().startAnimation();
            }

            @Override // android.view.View
            public void onInitializeAccessibilityNodeInfo(AccessibilityNodeInfo accessibilityNodeInfo) {
                super.onInitializeAccessibilityNodeInfo(accessibilityNodeInfo);
                if (!getImageReceiver().hasNotThumb()) {
                    accessibilityNodeInfo.setVisibleToUser(false);
                    return;
                }
                accessibilityNodeInfo.setText(LocaleController.getString(R.string.AccDescrProfilePicture));
                if (Build.VERSION.SDK_INT >= 21) {
                    accessibilityNodeInfo.addAction(new AccessibilityNodeInfo.AccessibilityAction(16, LocaleController.getString(R.string.Open)));
                    accessibilityNodeInfo.addAction(new AccessibilityNodeInfo.AccessibilityAction(32, LocaleController.getString(R.string.AccDescrOpenInPhotoViewer)));
                }
            }
        };
        this.avatarImage = avatarImageView2;
        avatarImageView2.getImageReceiver().setAllowDecodeSingleFrame(r14);
        this.avatarImage.setRoundRadius(getSmallAvatarRoundRadius());
        this.avatarImage.setPivotX(0.0f);
        this.avatarImage.setPivotY(0.0f);
        this.avatarContainer.addView(this.avatarImage, LayoutHelper.createFrame(-1, -1.0f));
        this.avatarImage.setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda15
            @Override // android.view.View.OnClickListener
            public final void onClick(View view2) {
                ProfileActivity.this.lambda$createView$18(view2);
            }
        });
        this.avatarImage.setHasStories(needInsetForStories());
        this.avatarImage.setOnLongClickListener(new View.OnLongClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda16
            @Override // android.view.View.OnLongClickListener
            public final boolean onLongClick(View view2) {
                boolean lambda$createView$19;
                lambda$createView$19 = ProfileActivity.this.lambda$createView$19(view2);
                return lambda$createView$19;
            }
        });
        RadialProgressView radialProgressView = new RadialProgressView(context) { // from class: org.telegram.ui.ProfileActivity.22
            private Paint paint;

            {
                ProfileActivity.this = this;
                Paint paint = new Paint(1);
                this.paint = paint;
                paint.setColor(1426063360);
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // org.telegram.ui.Components.RadialProgressView, android.view.View
            public void onDraw(Canvas canvas) {
                if (ProfileActivity.this.avatarImage != null && ProfileActivity.this.avatarImage.getImageReceiver().hasNotThumb()) {
                    this.paint.setAlpha((int) (ProfileActivity.this.avatarImage.getImageReceiver().getCurrentAlpha() * 85.0f));
                    canvas.drawCircle(getMeasuredWidth() / 2.0f, getMeasuredHeight() / 2.0f, getMeasuredWidth() / 2.0f, this.paint);
                }
                super.onDraw(canvas);
            }
        };
        this.avatarProgressView = radialProgressView;
        radialProgressView.setSize(AndroidUtilities.dp(26.0f));
        this.avatarProgressView.setProgressColor(-1);
        this.avatarProgressView.setNoProgress(r12);
        this.avatarContainer.addView(this.avatarProgressView, LayoutHelper.createFrame(-1, -1.0f));
        ImageView imageView2 = new ImageView(context);
        this.timeItem = imageView2;
        imageView2.setPadding(AndroidUtilities.dp(10.0f), AndroidUtilities.dp(10.0f), AndroidUtilities.dp(5.0f), AndroidUtilities.dp(5.0f));
        this.timeItem.setScaleType(ImageView.ScaleType.CENTER);
        this.timeItem.setAlpha(0.0f);
        ImageView imageView3 = this.timeItem;
        TimerDrawable timerDrawable = new TimerDrawable(context, resourcesProvider);
        this.timerDrawable = timerDrawable;
        imageView3.setImageDrawable(timerDrawable);
        this.timeItem.setTranslationY(-1.0f);
        frameLayout.addView(this.timeItem, LayoutHelper.createFrame(34, 34, 51));
        ImageView imageView4 = new ImageView(context);
        this.starBgItem = imageView4;
        imageView4.setImageResource(R.drawable.star_small_outline);
        this.starBgItem.setColorFilter(new PorterDuffColorFilter(getThemedColor(Theme.key_actionBarDefault), PorterDuff.Mode.SRC_IN));
        this.starBgItem.setAlpha(0.0f);
        this.starBgItem.setScaleY(0.0f);
        this.starBgItem.setScaleX(0.0f);
        frameLayout.addView(this.starBgItem, LayoutHelper.createFrame(20, 20, 51));
        ImageView imageView5 = new ImageView(context);
        this.starFgItem = imageView5;
        imageView5.setImageResource(R.drawable.star_small_inner);
        this.starFgItem.setAlpha(0.0f);
        this.starFgItem.setScaleY(0.0f);
        this.starFgItem.setScaleX(0.0f);
        frameLayout.addView(this.starFgItem, LayoutHelper.createFrame(20, 20, 51));
        showAvatarProgress(r12, r12);
        ProfileGalleryView profileGalleryView = this.avatarsViewPager;
        if (profileGalleryView != null) {
            profileGalleryView.onDestroy();
        }
        this.overlaysView = new OverlaysView(context);
        long j3 = this.userId;
        if (j3 == 0) {
            j3 = -this.chatId;
        }
        int i10 = i4;
        FrameLayout frameLayout4 = frameLayout;
        this.avatarsViewPager = new ProfileGalleryView(context, j3, this.actionBar, this.listView, this.avatarImage, getClassGuid(), this.overlaysView) { // from class: org.telegram.ui.ProfileActivity.23
            {
                ProfileActivity.this = this;
            }

            @Override // org.telegram.ui.Components.ProfileGalleryView
            protected void setCustomAvatarProgress(float f2) {
                ProfileActivity.this.customAvatarProgress = f2;
                ProfileActivity.this.checkPhotoDescriptionAlpha();
            }
        };
        if (this.userId != getUserConfig().clientUserId && (tLRPC$UserFull = this.userInfo) != null) {
            this.customAvatarProgress = tLRPC$UserFull.profile_photo == null ? 0.0f : 1.0f;
        }
        if (!this.isTopic) {
            this.avatarsViewPager.setChatInfo(this.chatInfo);
        }
        this.avatarContainer2.addView(this.avatarsViewPager);
        this.avatarContainer2.addView(this.overlaysView);
        this.avatarImage.setAvatarsViewPager(this.avatarsViewPager);
        PagerIndicatorView pagerIndicatorView = new PagerIndicatorView(context);
        this.avatarsViewPagerIndicatorView = pagerIndicatorView;
        this.avatarContainer2.addView(pagerIndicatorView, LayoutHelper.createFrame(-1, -1.0f));
        frameLayout4.addView(this.actionBar);
        float f2 = 54 + ((!this.callItemVisible || this.userId == 0) ? 0 : 54);
        INavigationLayout iNavigationLayout = this.parentLayout;
        if (iNavigationLayout == null || !(iNavigationLayout.getLastFragment() instanceof ChatActivity) || (avatarContainer = ((ChatActivity) this.parentLayout.getLastFragment()).getAvatarContainer()) == null) {
            z = false;
        } else {
            boolean z3 = avatarContainer.getTitleTextView().getPaddingRight() != 0;
            if (avatarContainer.getLayoutParams() != null && avatarContainer.getTitleTextView() != null) {
                f2 = (((ViewGroup.MarginLayoutParams) avatarContainer.getLayoutParams()).rightMargin + (avatarContainer.getWidth() - avatarContainer.getTitleTextView().getRight())) / AndroidUtilities.density;
            }
            z = z3;
        }
        int i11 = 0;
        while (true) {
            SimpleTextView[] simpleTextViewArr = this.nameTextView;
            if (i11 >= simpleTextViewArr.length) {
                break;
            }
            if (this.playProfileAnimation == 0 && i11 == 0) {
                i8 = 1;
            } else {
                simpleTextViewArr[i11] = new SimpleTextView(context) { // from class: org.telegram.ui.ProfileActivity.24
                    {
                        ProfileActivity.this = this;
                    }

                    @Override // org.telegram.ui.ActionBar.SimpleTextView, android.view.View
                    public void onInitializeAccessibilityNodeInfo(AccessibilityNodeInfo accessibilityNodeInfo) {
                        super.onInitializeAccessibilityNodeInfo(accessibilityNodeInfo);
                        if (isFocusable()) {
                            if (ProfileActivity.this.nameTextViewRightDrawableContentDescription == null && ProfileActivity.this.nameTextViewRightDrawable2ContentDescription == null) {
                                return;
                            }
                            StringBuilder sb = new StringBuilder(getText());
                            if (ProfileActivity.this.nameTextViewRightDrawable2ContentDescription != null) {
                                if (sb.length() > 0) {
                                    sb.append(", ");
                                }
                                sb.append(ProfileActivity.this.nameTextViewRightDrawable2ContentDescription);
                            }
                            if (ProfileActivity.this.nameTextViewRightDrawableContentDescription != null) {
                                if (sb.length() > 0) {
                                    sb.append(", ");
                                }
                                sb.append(ProfileActivity.this.nameTextViewRightDrawableContentDescription);
                            }
                            accessibilityNodeInfo.setText(sb);
                        }
                    }
                };
                if (i11 == 1) {
                    simpleTextView = this.nameTextView[i11];
                    i7 = Theme.key_profile_title;
                } else {
                    simpleTextView = this.nameTextView[i11];
                    i7 = Theme.key_actionBarDefaultTitle;
                }
                simpleTextView.setTextColor(getThemedColor(i7));
                this.nameTextView[i11].setPadding(0, AndroidUtilities.dp(6.0f), 0, AndroidUtilities.dp(i11 == 0 ? 12.0f : 4.0f));
                this.nameTextView[i11].setTextSize(18);
                this.nameTextView[i11].setGravity(3);
                this.nameTextView[i11].setTypeface(AndroidUtilities.bold());
                this.nameTextView[i11].setLeftDrawableTopPadding(-AndroidUtilities.dp(1.3f));
                this.nameTextView[i11].setPivotX(0.0f);
                this.nameTextView[i11].setPivotY(0.0f);
                this.nameTextView[i11].setAlpha(i11 == 0 ? 0.0f : 1.0f);
                if (i11 == 1) {
                    this.nameTextView[i11].setScrollNonFitText(true);
                    this.nameTextView[i11].setImportantForAccessibility(2);
                }
                this.nameTextView[i11].setFocusable(i11 == 0);
                this.nameTextView[i11].setEllipsizeByGradient(true);
                this.nameTextView[i11].setRightDrawableOutside(i11 == 0);
                this.avatarContainer2.addView(this.nameTextView[i11], LayoutHelper.createFrame(-2, -2.0f, 51, 118.0f, -6.0f, i11 == 0 ? f2 - (z ? 10 : 0) : 0.0f, 0.0f));
                i8 = 1;
            }
            i11 += i8;
        }
        boolean z4 = true;
        int i12 = 0;
        while (true) {
            SimpleTextView[] simpleTextViewArr2 = this.onlineTextView;
            if (i12 >= simpleTextViewArr2.length) {
                break;
            }
            if (i12 == z4) {
                simpleTextViewArr2[i12] = new LinkSpanDrawable.ClickableSmallTextView(context) { // from class: org.telegram.ui.ProfileActivity.25
                    {
                        ProfileActivity.this = this;
                    }

                    @Override // android.view.View
                    public void setAlpha(float f3) {
                        super.setAlpha(f3);
                        ProfileActivity.this.checkPhotoDescriptionAlpha();
                    }

                    @Override // org.telegram.ui.ActionBar.SimpleTextView
                    public void setTextColor(int i13) {
                        super.setTextColor(i13);
                        if (ProfileActivity.this.onlineTextView[2] != null) {
                            ProfileActivity.this.onlineTextView[2].setTextColor(i13);
                            ProfileActivity.this.onlineTextView[3].setTextColor(i13);
                        }
                        if (ProfileActivity.this.showStatusButton != null) {
                            ProfileActivity.this.showStatusButton.setTextColor(Theme.multAlpha(Theme.adaptHSV(i13, -0.02f, 0.15f), 1.4f));
                        }
                    }

                    @Override // android.view.View
                    public void setTranslationX(float f3) {
                        super.setTranslationX(f3);
                        ProfileActivity.this.onlineTextView[2].setTranslationX(f3);
                        ProfileActivity.this.onlineTextView[3].setTranslationX(f3);
                    }

                    @Override // android.view.View
                    public void setTranslationY(float f3) {
                        super.setTranslationY(f3);
                        ProfileActivity.this.onlineTextView[2].setTranslationY(f3);
                        ProfileActivity.this.onlineTextView[3].setTranslationY(f3);
                    }
                };
            } else {
                simpleTextViewArr2[i12] = new LinkSpanDrawable.ClickableSmallTextView(context);
            }
            this.onlineTextView[i12].setEllipsizeByGradient(z4);
            this.onlineTextView[i12].setTextColor(applyPeerColor(getThemedColor(Theme.key_avatar_subtitleInProfileBlue), z4));
            this.onlineTextView[i12].setTextSize(14);
            this.onlineTextView[i12].setGravity(3);
            this.onlineTextView[i12].setAlpha(i12 == 0 ? 0.0f : 1.0f);
            if (i12 == 1 || i12 == 2 || i12 == 3) {
                this.onlineTextView[i12].setPadding(AndroidUtilities.dp(f), AndroidUtilities.dp(2.0f), AndroidUtilities.dp(f), AndroidUtilities.dp(2.0f));
            }
            if (i12 > 0) {
                this.onlineTextView[i12].setImportantForAccessibility(2);
            }
            this.onlineTextView[i12].setFocusable(i12 == 0);
            this.avatarContainer2.addView(this.onlineTextView[i12], LayoutHelper.createFrame(-2, -2.0f, 51, 118 - ((i12 == 1 || i12 == 2 || i12 == 3) ? 4 : 0), (i12 == 1 || i12 == 2 || i12 == 3) ? -2 : 0, (i12 == 0 ? f2 - (z ? 10 : 0) : 8.0f) - ((i12 == 1 || i12 == 2 || i12 == 3) ? 4 : 0), 0.0f));
            z4 = true;
            i12++;
            f = 4.0f;
        }
        checkPhotoDescriptionAlpha();
        this.avatarContainer2.addView(this.animatedStatusView);
        AudioPlayerAlert.ClippingTextViewSwitcher clippingTextViewSwitcher = new AudioPlayerAlert.ClippingTextViewSwitcher(context) { // from class: org.telegram.ui.ProfileActivity.26
            {
                ProfileActivity.this = this;
            }

            @Override // org.telegram.ui.Components.AudioPlayerAlert.ClippingTextViewSwitcher
            protected TextView createTextView() {
                TextView textView2 = new TextView(context);
                textView2.setTextColor(ProfileActivity.this.getThemedColor(Theme.key_player_actionBarSubtitle));
                textView2.setTextSize(0, AndroidUtilities.dp(14.0f));
                textView2.setSingleLine(true);
                textView2.setEllipsize(TextUtils.TruncateAt.END);
                textView2.setGravity(3);
                return textView2;
            }
        };
        this.mediaCounterTextView = clippingTextViewSwitcher;
        clippingTextViewSwitcher.setAlpha(0.0f);
        this.avatarContainer2.addView(this.mediaCounterTextView, LayoutHelper.createFrame(-2, -2.0f, 51, 118.33f, -2.0f, 8.0f, 0.0f));
        this.storyView = new ProfileStoriesView(context, this.currentAccount, getDialogId(), this.isTopic, this.avatarContainer, this.avatarImage, this.resourcesProvider) { // from class: org.telegram.ui.ProfileActivity.27
            {
                ProfileActivity.this = this;
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // org.telegram.ui.Stories.ProfileStoriesView
            public void onLongPress() {
                ProfileActivity.this.openAvatar();
            }

            @Override // org.telegram.ui.Stories.ProfileStoriesView
            protected void onTap(StoryViewer.PlaceProvider placeProvider) {
                StoryViewer orCreateStoryViewer;
                Context context2;
                TL_stories$PeerStories tL_stories$PeerStories2;
                long dialogId = ProfileActivity.this.getDialogId();
                StoriesController storiesController = ProfileActivity.this.getMessagesController().getStoriesController();
                if (storiesController.hasStories(dialogId) || storiesController.hasUploadingStories(dialogId) || storiesController.isLastUploadingFailed(dialogId)) {
                    ProfileActivity.this.getOrCreateStoryViewer().open(context, dialogId, placeProvider);
                    return;
                }
                if (ProfileActivity.this.userInfo != null && ProfileActivity.this.userInfo.stories != null && !ProfileActivity.this.userInfo.stories.stories.isEmpty() && ProfileActivity.this.userId != ProfileActivity.this.getUserConfig().clientUserId) {
                    orCreateStoryViewer = ProfileActivity.this.getOrCreateStoryViewer();
                    context2 = context;
                    tL_stories$PeerStories2 = ProfileActivity.this.userInfo.stories;
                } else if (ProfileActivity.this.chatInfo == null || ProfileActivity.this.chatInfo.stories == null || ProfileActivity.this.chatInfo.stories.stories.isEmpty()) {
                    ProfileActivity.this.expandAvatar();
                    return;
                } else {
                    orCreateStoryViewer = ProfileActivity.this.getOrCreateStoryViewer();
                    context2 = context;
                    tL_stories$PeerStories2 = ProfileActivity.this.chatInfo.stories;
                }
                orCreateStoryViewer.open(context2, tL_stories$PeerStories2, placeProvider);
            }
        };
        updateStoriesViewBounds(false);
        TLRPC$UserFull tLRPC$UserFull3 = this.userInfo;
        if (tLRPC$UserFull3 == null) {
            TLRPC$ChatFull tLRPC$ChatFull2 = this.chatInfo;
            if (tLRPC$ChatFull2 != null) {
                profileStoriesView = this.storyView;
                tL_stories$PeerStories = tLRPC$ChatFull2.stories;
            }
            avatarImageView = this.avatarImage;
            if (avatarImageView != null) {
                avatarImageView.setHasStories(needInsetForStories());
            }
            this.avatarContainer2.addView(this.storyView, LayoutHelper.createFrame(-1, -1.0f));
            updateProfileData(true);
            this.writeButton = new RLottieImageView(context);
            writeButtonSetBackground();
            if (this.userId != 0) {
                this.writeButton.setImageResource(R.drawable.profile_discuss);
                rLottieImageView = this.writeButton;
                i5 = R.string.ViewDiscussion;
            } else if (this.imageUpdater != null) {
                int i13 = R.raw.camera_outline;
                this.cameraDrawable = new RLottieDrawable(i13, String.valueOf(i13), AndroidUtilities.dp(56.0f), AndroidUtilities.dp(56.0f), false, null);
                this.cellCameraDrawable = new RLottieDrawable(i13, i13 + "_cell", AndroidUtilities.dp(42.0f), AndroidUtilities.dp(42.0f), false, null);
                this.writeButton.setAnimation(this.cameraDrawable);
                this.writeButton.setContentDescription(LocaleController.getString(R.string.AccDescrChangeProfilePicture));
                this.writeButton.setPadding(AndroidUtilities.dp(2.0f), 0, 0, AndroidUtilities.dp(2.0f));
                this.writeButton.setScaleType(ImageView.ScaleType.CENTER);
                frameLayout4.addView(this.writeButton, LayoutHelper.createFrame(60, 60.0f, 53, 0.0f, 0.0f, 16.0f, 0.0f));
                this.writeButton.setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda17
                    @Override // android.view.View.OnClickListener
                    public final void onClick(View view2) {
                        ProfileActivity.this.lambda$createView$20(view2);
                    }
                });
                needLayout(false);
                if (i10 != -1 && obj != null) {
                    this.writeButton.setTag(0);
                    this.writeButton.setScaleX(0.2f);
                    this.writeButton.setScaleY(0.2f);
                    this.writeButton.setAlpha(0.0f);
                }
                this.listView.setOnScrollListener(new RecyclerView.OnScrollListener() { // from class: org.telegram.ui.ProfileActivity.28
                    {
                        ProfileActivity.this = this;
                    }

                    @Override // androidx.recyclerview.widget.RecyclerView.OnScrollListener
                    public void onScrollStateChanged(RecyclerView recyclerView, int i14) {
                        boolean z5 = true;
                        if (i14 == 1) {
                            AndroidUtilities.hideKeyboard(ProfileActivity.this.getParentActivity().getCurrentFocus());
                        }
                        if (ProfileActivity.this.openingAvatar && i14 != 2) {
                            ProfileActivity.this.openingAvatar = false;
                        }
                        if (ProfileActivity.this.searchItem != null) {
                            ProfileActivity.this.scrolling = i14 != 0;
                            ProfileActivity.this.searchItem.setEnabled((ProfileActivity.this.scrolling || ProfileActivity.this.isPulledDown) ? false : false);
                        }
                        ProfileActivity.this.sharedMediaLayout.scrollingByUser = ProfileActivity.this.listView.scrollingByUser;
                    }

                    @Override // androidx.recyclerview.widget.RecyclerView.OnScrollListener
                    public void onScrolled(RecyclerView recyclerView, int i14, int i15) {
                        if (ProfileActivity.this.fwdRestrictedHint != null) {
                            ProfileActivity.this.fwdRestrictedHint.hide();
                        }
                        ProfileActivity.this.checkListViewScroll();
                        if (ProfileActivity.this.participantsMap != null && !ProfileActivity.this.usersEndReached && ProfileActivity.this.layoutManager.findLastVisibleItemPosition() > ProfileActivity.this.membersEndRow - 8) {
                            ProfileActivity.this.getChannelParticipants(false);
                        }
                        ProfileActivity.this.sharedMediaLayout.setPinnedToTop(ProfileActivity.this.sharedMediaLayout.getY() <= 0.0f);
                        ProfileActivity.this.updateBottomButtonY();
                    }
                });
                UndoView undoView = new UndoView(context, null, false, this.resourcesProvider);
                this.undoView = undoView;
                frameLayout4.addView(undoView, LayoutHelper.createFrame(-1, -2.0f, 83, 8.0f, 0.0f, 8.0f, 8.0f));
                ValueAnimator ofFloat = ValueAnimator.ofFloat(0.0f, 1.0f);
                this.expandAnimator = ofFloat;
                ofFloat.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda18
                    @Override // android.animation.ValueAnimator.AnimatorUpdateListener
                    public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                        ProfileActivity.this.lambda$createView$21(valueAnimator);
                    }
                });
                this.expandAnimator.setInterpolator(CubicBezierInterpolator.EASE_OUT_QUINT);
                this.expandAnimator.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.29
                    {
                        ProfileActivity.this = this;
                    }

                    @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                    public void onAnimationEnd(Animator animator) {
                        ((BaseFragment) ProfileActivity.this).actionBar.setItemsBackgroundColor(ProfileActivity.this.isPulledDown ? 1090519039 : ProfileActivity.this.peerColor != null ? 553648127 : ProfileActivity.this.getThemedColor(Theme.key_avatar_actionBarSelectorBlue), false);
                        ProfileActivity.this.avatarImage.clearForeground();
                        ProfileActivity.this.doNotSetForeground = false;
                        ProfileActivity.this.updateStoriesViewBounds(false);
                    }

                    @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                    public void onAnimationStart(Animator animator) {
                    }
                });
                updateRowsIds();
                updateSelectedMediaTabText();
                HintView hintView = new HintView(getParentActivity(), 9);
                this.fwdRestrictedHint = hintView;
                hintView.setAlpha(0.0f);
                frameLayout4.addView(this.fwdRestrictedHint, LayoutHelper.createFrame(-2, -2.0f, 51, 12.0f, 0.0f, 12.0f, 0.0f));
                this.sharedMediaLayout.setForwardRestrictedHint(this.fwdRestrictedHint);
                i6 = Build.VERSION.SDK_INT;
                PinchToZoomHelper pinchToZoomHelper = new PinchToZoomHelper(i6 >= 21 ? (ViewGroup) getParentActivity().getWindow().getDecorView() : frameLayout4, frameLayout4) { // from class: org.telegram.ui.ProfileActivity.30
                    {
                        ProfileActivity.this = this;
                    }

                    @Override // org.telegram.ui.PinchToZoomHelper
                    protected void drawOverlays(Canvas canvas, float f3, float f4, float f5, float f6, float f7) {
                        if (f3 > 0.0f) {
                            RectF rectF = AndroidUtilities.rectTmp;
                            rectF.set(0.0f, 0.0f, ProfileActivity.this.avatarsViewPager.getMeasuredWidth(), ProfileActivity.this.avatarsViewPager.getMeasuredHeight() + AndroidUtilities.dp(30.0f));
                            canvas.saveLayerAlpha(rectF, (int) (255.0f * f3), 31);
                            ProfileActivity.this.avatarContainer2.draw(canvas);
                            ((BaseFragment) ProfileActivity.this).actionBar.getOccupyStatusBar();
                            canvas.save();
                            canvas.translate(((BaseFragment) ProfileActivity.this).actionBar.getX(), ((BaseFragment) ProfileActivity.this).actionBar.getY());
                            ((BaseFragment) ProfileActivity.this).actionBar.draw(canvas);
                            canvas.restore();
                            if (ProfileActivity.this.writeButton != null && ProfileActivity.this.writeButton.getVisibility() == 0 && ProfileActivity.this.writeButton.getAlpha() > 0.0f) {
                                canvas.save();
                                float f8 = (f3 * 0.5f) + 0.5f;
                                canvas.scale(f8, f8, ProfileActivity.this.writeButton.getX() + (ProfileActivity.this.writeButton.getMeasuredWidth() / 2.0f), ProfileActivity.this.writeButton.getY() + (ProfileActivity.this.writeButton.getMeasuredHeight() / 2.0f));
                                canvas.translate(ProfileActivity.this.writeButton.getX(), ProfileActivity.this.writeButton.getY());
                                ProfileActivity.this.writeButton.draw(canvas);
                                canvas.restore();
                            }
                            canvas.restore();
                        }
                    }

                    /* JADX INFO: Access modifiers changed from: protected */
                    @Override // org.telegram.ui.PinchToZoomHelper
                    public void invalidateViews() {
                        super.invalidateViews();
                        ProfileActivity.this.fragmentView.invalidate();
                        for (int i14 = 0; i14 < ProfileActivity.this.avatarsViewPager.getChildCount(); i14++) {
                            ProfileActivity.this.avatarsViewPager.getChildAt(i14).invalidate();
                        }
                        if (ProfileActivity.this.writeButton != null) {
                            ProfileActivity.this.writeButton.invalidate();
                        }
                    }

                    /* JADX INFO: Access modifiers changed from: protected */
                    @Override // org.telegram.ui.PinchToZoomHelper
                    public boolean zoomEnabled(View view2, ImageReceiver imageReceiver2) {
                        return super.zoomEnabled(view2, imageReceiver2) && ProfileActivity.this.listView.getScrollState() != 1;
                    }
                };
                this.pinchToZoomHelper = pinchToZoomHelper;
                pinchToZoomHelper.setCallback(new PinchToZoomHelper.Callback() { // from class: org.telegram.ui.ProfileActivity.31
                    {
                        ProfileActivity.this = this;
                    }

                    @Override // org.telegram.ui.PinchToZoomHelper.Callback
                    public /* synthetic */ TextureView getCurrentTextureView() {
                        return PinchToZoomHelper.Callback.-CC.$default$getCurrentTextureView(this);
                    }

                    @Override // org.telegram.ui.PinchToZoomHelper.Callback
                    public /* synthetic */ void onZoomFinished(MessageObject messageObject) {
                        PinchToZoomHelper.Callback.-CC.$default$onZoomFinished(this, messageObject);
                    }

                    @Override // org.telegram.ui.PinchToZoomHelper.Callback
                    public void onZoomStarted(MessageObject messageObject) {
                        ProfileActivity.this.listView.cancelClickRunnables(true);
                        if (ProfileActivity.this.sharedMediaLayout != null && ProfileActivity.this.sharedMediaLayout.getCurrentListView() != null) {
                            ProfileActivity.this.sharedMediaLayout.getCurrentListView().cancelClickRunnables(true);
                        }
                        TopView topView2 = ProfileActivity.this.topView;
                        ProfileActivity profileActivity = ProfileActivity.this;
                        topView2.setBackgroundColor(ColorUtils.blendARGB(profileActivity.getAverageColor(profileActivity.pinchToZoomHelper.getPhotoImage()), ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite), 0.1f));
                    }
                });
                this.avatarsViewPager.setPinchToZoomHelper(this.pinchToZoomHelper);
                this.scrimPaint.setAlpha(0);
                this.actionBarBackgroundPaint.setColor(getThemedColor(Theme.key_listSelector));
                this.contentView.blurBehindViews.add(this.sharedMediaLayout);
                updateTtlIcon();
                View view2 = new View(context) { // from class: org.telegram.ui.ProfileActivity.32
                    {
                        ProfileActivity.this = this;
                    }

                    @Override // android.view.View
                    public void setAlpha(float f3) {
                        super.setAlpha(f3);
                        View view3 = ProfileActivity.this.fragmentView;
                        if (view3 != null) {
                            view3.invalidate();
                        }
                    }
                };
                this.blurredView = view2;
                if (i6 >= 23) {
                    view2.setForeground(new ColorDrawable(ColorUtils.setAlphaComponent(getThemedColor(Theme.key_windowBackgroundWhite), 100)));
                }
                this.blurredView.setFocusable(false);
                this.blurredView.setImportantForAccessibility(2);
                this.blurredView.setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda9
                    @Override // android.view.View.OnClickListener
                    public final void onClick(View view3) {
                        ProfileActivity.this.lambda$createView$22(view3);
                    }
                });
                this.blurredView.setVisibility(8);
                this.blurredView.setFitsSystemWindows(true);
                this.contentView.addView(this.blurredView, LayoutHelper.createFrame(-1, -1.0f));
                createBirthdayEffect();
                createFloatingActionButton(getContext());
                if (this.myProfile) {
                    FrameLayout frameLayout5 = new FrameLayout(context);
                    this.bottomButtonsContainer = frameLayout5;
                    this.contentView.addView(frameLayout5, LayoutHelper.createFrame(-1.0f, (1.0f / AndroidUtilities.density) + 72.0f, 87));
                    this.bottomButtonContainer = new FrameLayout[2];
                    this.bottomButton = new ButtonWithCounterView[2];
                    for (final int i14 = 0; i14 < 2; i14++) {
                        this.bottomButtonContainer[i14] = new FrameLayout(context);
                        this.bottomButtonContainer[i14].setBackgroundColor(getThemedColor(Theme.key_windowBackgroundWhite));
                        View view3 = new View(context);
                        view3.setBackgroundColor(getThemedColor(Theme.key_windowBackgroundGray));
                        this.bottomButtonContainer[i14].addView(view3, LayoutHelper.createFrame(-1.0f, 1.0f / AndroidUtilities.density, 55));
                        this.bottomButton[i14] = new ButtonWithCounterView(context, this.resourcesProvider);
                        if (i14 == 0) {
                            SpannableStringBuilder spannableStringBuilder = new SpannableStringBuilder("c");
                            this.bottomButtonPostText = spannableStringBuilder;
                            z2 = false;
                            spannableStringBuilder.setSpan(new ColoredImageSpan(R.drawable.filled_premium_camera), 0, 1, 33);
                            this.bottomButtonPostText.append((CharSequence) "  ").append((CharSequence) LocaleController.getString(R.string.StoriesAddPost));
                            buttonWithCounterView = this.bottomButton[i14];
                            string = this.bottomButtonPostText;
                        } else {
                            z2 = false;
                            buttonWithCounterView = this.bottomButton[i14];
                            string = LocaleController.getString(R.string.StorySave);
                        }
                        buttonWithCounterView.setText(string, z2);
                        this.bottomButton[i14].setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda10
                            @Override // android.view.View.OnClickListener
                            public final void onClick(View view4) {
                                ProfileActivity.this.lambda$createView$26(i14, view4);
                            }
                        });
                        this.bottomButtonContainer[i14].addView(this.bottomButton[i14], LayoutHelper.createFrame(-1, 48.0f, 87, 12.0f, 12.0f, 12.0f, 12.0f));
                        this.bottomButtonsContainer.addView(this.bottomButtonContainer[i14], LayoutHelper.createFrame(-1, -1, 87));
                        if (i14 == 1 || !getMessagesController().storiesEnabled()) {
                            this.bottomButtonContainer[i14].setTranslationY(AndroidUtilities.dp(72.0f));
                        }
                    }
                }
                return this.fragmentView;
            } else {
                this.writeButton.setImageResource(R.drawable.profile_newmsg);
                rLottieImageView = this.writeButton;
                i5 = R.string.AccDescrOpenChat;
            }
            rLottieImageView.setContentDescription(LocaleController.getString(i5));
            this.writeButton.setScaleType(ImageView.ScaleType.CENTER);
            frameLayout4.addView(this.writeButton, LayoutHelper.createFrame(60, 60.0f, 53, 0.0f, 0.0f, 16.0f, 0.0f));
            this.writeButton.setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda17
                @Override // android.view.View.OnClickListener
                public final void onClick(View view22) {
                    ProfileActivity.this.lambda$createView$20(view22);
                }
            });
            needLayout(false);
            if (i10 != -1) {
                this.writeButton.setTag(0);
                this.writeButton.setScaleX(0.2f);
                this.writeButton.setScaleY(0.2f);
                this.writeButton.setAlpha(0.0f);
            }
            this.listView.setOnScrollListener(new RecyclerView.OnScrollListener() { // from class: org.telegram.ui.ProfileActivity.28
                {
                    ProfileActivity.this = this;
                }

                @Override // androidx.recyclerview.widget.RecyclerView.OnScrollListener
                public void onScrollStateChanged(RecyclerView recyclerView, int i142) {
                    boolean z5 = true;
                    if (i142 == 1) {
                        AndroidUtilities.hideKeyboard(ProfileActivity.this.getParentActivity().getCurrentFocus());
                    }
                    if (ProfileActivity.this.openingAvatar && i142 != 2) {
                        ProfileActivity.this.openingAvatar = false;
                    }
                    if (ProfileActivity.this.searchItem != null) {
                        ProfileActivity.this.scrolling = i142 != 0;
                        ProfileActivity.this.searchItem.setEnabled((ProfileActivity.this.scrolling || ProfileActivity.this.isPulledDown) ? false : false);
                    }
                    ProfileActivity.this.sharedMediaLayout.scrollingByUser = ProfileActivity.this.listView.scrollingByUser;
                }

                @Override // androidx.recyclerview.widget.RecyclerView.OnScrollListener
                public void onScrolled(RecyclerView recyclerView, int i142, int i15) {
                    if (ProfileActivity.this.fwdRestrictedHint != null) {
                        ProfileActivity.this.fwdRestrictedHint.hide();
                    }
                    ProfileActivity.this.checkListViewScroll();
                    if (ProfileActivity.this.participantsMap != null && !ProfileActivity.this.usersEndReached && ProfileActivity.this.layoutManager.findLastVisibleItemPosition() > ProfileActivity.this.membersEndRow - 8) {
                        ProfileActivity.this.getChannelParticipants(false);
                    }
                    ProfileActivity.this.sharedMediaLayout.setPinnedToTop(ProfileActivity.this.sharedMediaLayout.getY() <= 0.0f);
                    ProfileActivity.this.updateBottomButtonY();
                }
            });
            UndoView undoView2 = new UndoView(context, null, false, this.resourcesProvider);
            this.undoView = undoView2;
            frameLayout4.addView(undoView2, LayoutHelper.createFrame(-1, -2.0f, 83, 8.0f, 0.0f, 8.0f, 8.0f));
            ValueAnimator ofFloat2 = ValueAnimator.ofFloat(0.0f, 1.0f);
            this.expandAnimator = ofFloat2;
            ofFloat2.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda18
                @Override // android.animation.ValueAnimator.AnimatorUpdateListener
                public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                    ProfileActivity.this.lambda$createView$21(valueAnimator);
                }
            });
            this.expandAnimator.setInterpolator(CubicBezierInterpolator.EASE_OUT_QUINT);
            this.expandAnimator.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.29
                {
                    ProfileActivity.this = this;
                }

                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationEnd(Animator animator) {
                    ((BaseFragment) ProfileActivity.this).actionBar.setItemsBackgroundColor(ProfileActivity.this.isPulledDown ? 1090519039 : ProfileActivity.this.peerColor != null ? 553648127 : ProfileActivity.this.getThemedColor(Theme.key_avatar_actionBarSelectorBlue), false);
                    ProfileActivity.this.avatarImage.clearForeground();
                    ProfileActivity.this.doNotSetForeground = false;
                    ProfileActivity.this.updateStoriesViewBounds(false);
                }

                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationStart(Animator animator) {
                }
            });
            updateRowsIds();
            updateSelectedMediaTabText();
            HintView hintView2 = new HintView(getParentActivity(), 9);
            this.fwdRestrictedHint = hintView2;
            hintView2.setAlpha(0.0f);
            frameLayout4.addView(this.fwdRestrictedHint, LayoutHelper.createFrame(-2, -2.0f, 51, 12.0f, 0.0f, 12.0f, 0.0f));
            this.sharedMediaLayout.setForwardRestrictedHint(this.fwdRestrictedHint);
            i6 = Build.VERSION.SDK_INT;
            PinchToZoomHelper pinchToZoomHelper2 = new PinchToZoomHelper(i6 >= 21 ? (ViewGroup) getParentActivity().getWindow().getDecorView() : frameLayout4, frameLayout4) { // from class: org.telegram.ui.ProfileActivity.30
                {
                    ProfileActivity.this = this;
                }

                @Override // org.telegram.ui.PinchToZoomHelper
                protected void drawOverlays(Canvas canvas, float f3, float f4, float f5, float f6, float f7) {
                    if (f3 > 0.0f) {
                        RectF rectF = AndroidUtilities.rectTmp;
                        rectF.set(0.0f, 0.0f, ProfileActivity.this.avatarsViewPager.getMeasuredWidth(), ProfileActivity.this.avatarsViewPager.getMeasuredHeight() + AndroidUtilities.dp(30.0f));
                        canvas.saveLayerAlpha(rectF, (int) (255.0f * f3), 31);
                        ProfileActivity.this.avatarContainer2.draw(canvas);
                        ((BaseFragment) ProfileActivity.this).actionBar.getOccupyStatusBar();
                        canvas.save();
                        canvas.translate(((BaseFragment) ProfileActivity.this).actionBar.getX(), ((BaseFragment) ProfileActivity.this).actionBar.getY());
                        ((BaseFragment) ProfileActivity.this).actionBar.draw(canvas);
                        canvas.restore();
                        if (ProfileActivity.this.writeButton != null && ProfileActivity.this.writeButton.getVisibility() == 0 && ProfileActivity.this.writeButton.getAlpha() > 0.0f) {
                            canvas.save();
                            float f8 = (f3 * 0.5f) + 0.5f;
                            canvas.scale(f8, f8, ProfileActivity.this.writeButton.getX() + (ProfileActivity.this.writeButton.getMeasuredWidth() / 2.0f), ProfileActivity.this.writeButton.getY() + (ProfileActivity.this.writeButton.getMeasuredHeight() / 2.0f));
                            canvas.translate(ProfileActivity.this.writeButton.getX(), ProfileActivity.this.writeButton.getY());
                            ProfileActivity.this.writeButton.draw(canvas);
                            canvas.restore();
                        }
                        canvas.restore();
                    }
                }

                /* JADX INFO: Access modifiers changed from: protected */
                @Override // org.telegram.ui.PinchToZoomHelper
                public void invalidateViews() {
                    super.invalidateViews();
                    ProfileActivity.this.fragmentView.invalidate();
                    for (int i142 = 0; i142 < ProfileActivity.this.avatarsViewPager.getChildCount(); i142++) {
                        ProfileActivity.this.avatarsViewPager.getChildAt(i142).invalidate();
                    }
                    if (ProfileActivity.this.writeButton != null) {
                        ProfileActivity.this.writeButton.invalidate();
                    }
                }

                /* JADX INFO: Access modifiers changed from: protected */
                @Override // org.telegram.ui.PinchToZoomHelper
                public boolean zoomEnabled(View view22, ImageReceiver imageReceiver2) {
                    return super.zoomEnabled(view22, imageReceiver2) && ProfileActivity.this.listView.getScrollState() != 1;
                }
            };
            this.pinchToZoomHelper = pinchToZoomHelper2;
            pinchToZoomHelper2.setCallback(new PinchToZoomHelper.Callback() { // from class: org.telegram.ui.ProfileActivity.31
                {
                    ProfileActivity.this = this;
                }

                @Override // org.telegram.ui.PinchToZoomHelper.Callback
                public /* synthetic */ TextureView getCurrentTextureView() {
                    return PinchToZoomHelper.Callback.-CC.$default$getCurrentTextureView(this);
                }

                @Override // org.telegram.ui.PinchToZoomHelper.Callback
                public /* synthetic */ void onZoomFinished(MessageObject messageObject) {
                    PinchToZoomHelper.Callback.-CC.$default$onZoomFinished(this, messageObject);
                }

                @Override // org.telegram.ui.PinchToZoomHelper.Callback
                public void onZoomStarted(MessageObject messageObject) {
                    ProfileActivity.this.listView.cancelClickRunnables(true);
                    if (ProfileActivity.this.sharedMediaLayout != null && ProfileActivity.this.sharedMediaLayout.getCurrentListView() != null) {
                        ProfileActivity.this.sharedMediaLayout.getCurrentListView().cancelClickRunnables(true);
                    }
                    TopView topView2 = ProfileActivity.this.topView;
                    ProfileActivity profileActivity = ProfileActivity.this;
                    topView2.setBackgroundColor(ColorUtils.blendARGB(profileActivity.getAverageColor(profileActivity.pinchToZoomHelper.getPhotoImage()), ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite), 0.1f));
                }
            });
            this.avatarsViewPager.setPinchToZoomHelper(this.pinchToZoomHelper);
            this.scrimPaint.setAlpha(0);
            this.actionBarBackgroundPaint.setColor(getThemedColor(Theme.key_listSelector));
            this.contentView.blurBehindViews.add(this.sharedMediaLayout);
            updateTtlIcon();
            View view22 = new View(context) { // from class: org.telegram.ui.ProfileActivity.32
                {
                    ProfileActivity.this = this;
                }

                @Override // android.view.View
                public void setAlpha(float f3) {
                    super.setAlpha(f3);
                    View view32 = ProfileActivity.this.fragmentView;
                    if (view32 != null) {
                        view32.invalidate();
                    }
                }
            };
            this.blurredView = view22;
            if (i6 >= 23) {
            }
            this.blurredView.setFocusable(false);
            this.blurredView.setImportantForAccessibility(2);
            this.blurredView.setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda9
                @Override // android.view.View.OnClickListener
                public final void onClick(View view32) {
                    ProfileActivity.this.lambda$createView$22(view32);
                }
            });
            this.blurredView.setVisibility(8);
            this.blurredView.setFitsSystemWindows(true);
            this.contentView.addView(this.blurredView, LayoutHelper.createFrame(-1, -1.0f));
            createBirthdayEffect();
            createFloatingActionButton(getContext());
            if (this.myProfile) {
            }
            return this.fragmentView;
        }
        profileStoriesView = this.storyView;
        tL_stories$PeerStories = tLRPC$UserFull3.stories;
        profileStoriesView.setStories(tL_stories$PeerStories);
        avatarImageView = this.avatarImage;
        if (avatarImageView != null) {
        }
        this.avatarContainer2.addView(this.storyView, LayoutHelper.createFrame(-1, -1.0f));
        updateProfileData(true);
        this.writeButton = new RLottieImageView(context);
        writeButtonSetBackground();
        if (this.userId != 0) {
        }
        rLottieImageView.setContentDescription(LocaleController.getString(i5));
        this.writeButton.setScaleType(ImageView.ScaleType.CENTER);
        frameLayout4.addView(this.writeButton, LayoutHelper.createFrame(60, 60.0f, 53, 0.0f, 0.0f, 16.0f, 0.0f));
        this.writeButton.setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda17
            @Override // android.view.View.OnClickListener
            public final void onClick(View view222) {
                ProfileActivity.this.lambda$createView$20(view222);
            }
        });
        needLayout(false);
        if (i10 != -1) {
        }
        this.listView.setOnScrollListener(new RecyclerView.OnScrollListener() { // from class: org.telegram.ui.ProfileActivity.28
            {
                ProfileActivity.this = this;
            }

            @Override // androidx.recyclerview.widget.RecyclerView.OnScrollListener
            public void onScrollStateChanged(RecyclerView recyclerView, int i142) {
                boolean z5 = true;
                if (i142 == 1) {
                    AndroidUtilities.hideKeyboard(ProfileActivity.this.getParentActivity().getCurrentFocus());
                }
                if (ProfileActivity.this.openingAvatar && i142 != 2) {
                    ProfileActivity.this.openingAvatar = false;
                }
                if (ProfileActivity.this.searchItem != null) {
                    ProfileActivity.this.scrolling = i142 != 0;
                    ProfileActivity.this.searchItem.setEnabled((ProfileActivity.this.scrolling || ProfileActivity.this.isPulledDown) ? false : false);
                }
                ProfileActivity.this.sharedMediaLayout.scrollingByUser = ProfileActivity.this.listView.scrollingByUser;
            }

            @Override // androidx.recyclerview.widget.RecyclerView.OnScrollListener
            public void onScrolled(RecyclerView recyclerView, int i142, int i15) {
                if (ProfileActivity.this.fwdRestrictedHint != null) {
                    ProfileActivity.this.fwdRestrictedHint.hide();
                }
                ProfileActivity.this.checkListViewScroll();
                if (ProfileActivity.this.participantsMap != null && !ProfileActivity.this.usersEndReached && ProfileActivity.this.layoutManager.findLastVisibleItemPosition() > ProfileActivity.this.membersEndRow - 8) {
                    ProfileActivity.this.getChannelParticipants(false);
                }
                ProfileActivity.this.sharedMediaLayout.setPinnedToTop(ProfileActivity.this.sharedMediaLayout.getY() <= 0.0f);
                ProfileActivity.this.updateBottomButtonY();
            }
        });
        UndoView undoView22 = new UndoView(context, null, false, this.resourcesProvider);
        this.undoView = undoView22;
        frameLayout4.addView(undoView22, LayoutHelper.createFrame(-1, -2.0f, 83, 8.0f, 0.0f, 8.0f, 8.0f));
        ValueAnimator ofFloat22 = ValueAnimator.ofFloat(0.0f, 1.0f);
        this.expandAnimator = ofFloat22;
        ofFloat22.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda18
            @Override // android.animation.ValueAnimator.AnimatorUpdateListener
            public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                ProfileActivity.this.lambda$createView$21(valueAnimator);
            }
        });
        this.expandAnimator.setInterpolator(CubicBezierInterpolator.EASE_OUT_QUINT);
        this.expandAnimator.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.29
            {
                ProfileActivity.this = this;
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationEnd(Animator animator) {
                ((BaseFragment) ProfileActivity.this).actionBar.setItemsBackgroundColor(ProfileActivity.this.isPulledDown ? 1090519039 : ProfileActivity.this.peerColor != null ? 553648127 : ProfileActivity.this.getThemedColor(Theme.key_avatar_actionBarSelectorBlue), false);
                ProfileActivity.this.avatarImage.clearForeground();
                ProfileActivity.this.doNotSetForeground = false;
                ProfileActivity.this.updateStoriesViewBounds(false);
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationStart(Animator animator) {
            }
        });
        updateRowsIds();
        updateSelectedMediaTabText();
        HintView hintView22 = new HintView(getParentActivity(), 9);
        this.fwdRestrictedHint = hintView22;
        hintView22.setAlpha(0.0f);
        frameLayout4.addView(this.fwdRestrictedHint, LayoutHelper.createFrame(-2, -2.0f, 51, 12.0f, 0.0f, 12.0f, 0.0f));
        this.sharedMediaLayout.setForwardRestrictedHint(this.fwdRestrictedHint);
        i6 = Build.VERSION.SDK_INT;
        PinchToZoomHelper pinchToZoomHelper22 = new PinchToZoomHelper(i6 >= 21 ? (ViewGroup) getParentActivity().getWindow().getDecorView() : frameLayout4, frameLayout4) { // from class: org.telegram.ui.ProfileActivity.30
            {
                ProfileActivity.this = this;
            }

            @Override // org.telegram.ui.PinchToZoomHelper
            protected void drawOverlays(Canvas canvas, float f3, float f4, float f5, float f6, float f7) {
                if (f3 > 0.0f) {
                    RectF rectF = AndroidUtilities.rectTmp;
                    rectF.set(0.0f, 0.0f, ProfileActivity.this.avatarsViewPager.getMeasuredWidth(), ProfileActivity.this.avatarsViewPager.getMeasuredHeight() + AndroidUtilities.dp(30.0f));
                    canvas.saveLayerAlpha(rectF, (int) (255.0f * f3), 31);
                    ProfileActivity.this.avatarContainer2.draw(canvas);
                    ((BaseFragment) ProfileActivity.this).actionBar.getOccupyStatusBar();
                    canvas.save();
                    canvas.translate(((BaseFragment) ProfileActivity.this).actionBar.getX(), ((BaseFragment) ProfileActivity.this).actionBar.getY());
                    ((BaseFragment) ProfileActivity.this).actionBar.draw(canvas);
                    canvas.restore();
                    if (ProfileActivity.this.writeButton != null && ProfileActivity.this.writeButton.getVisibility() == 0 && ProfileActivity.this.writeButton.getAlpha() > 0.0f) {
                        canvas.save();
                        float f8 = (f3 * 0.5f) + 0.5f;
                        canvas.scale(f8, f8, ProfileActivity.this.writeButton.getX() + (ProfileActivity.this.writeButton.getMeasuredWidth() / 2.0f), ProfileActivity.this.writeButton.getY() + (ProfileActivity.this.writeButton.getMeasuredHeight() / 2.0f));
                        canvas.translate(ProfileActivity.this.writeButton.getX(), ProfileActivity.this.writeButton.getY());
                        ProfileActivity.this.writeButton.draw(canvas);
                        canvas.restore();
                    }
                    canvas.restore();
                }
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // org.telegram.ui.PinchToZoomHelper
            public void invalidateViews() {
                super.invalidateViews();
                ProfileActivity.this.fragmentView.invalidate();
                for (int i142 = 0; i142 < ProfileActivity.this.avatarsViewPager.getChildCount(); i142++) {
                    ProfileActivity.this.avatarsViewPager.getChildAt(i142).invalidate();
                }
                if (ProfileActivity.this.writeButton != null) {
                    ProfileActivity.this.writeButton.invalidate();
                }
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // org.telegram.ui.PinchToZoomHelper
            public boolean zoomEnabled(View view222, ImageReceiver imageReceiver2) {
                return super.zoomEnabled(view222, imageReceiver2) && ProfileActivity.this.listView.getScrollState() != 1;
            }
        };
        this.pinchToZoomHelper = pinchToZoomHelper22;
        pinchToZoomHelper22.setCallback(new PinchToZoomHelper.Callback() { // from class: org.telegram.ui.ProfileActivity.31
            {
                ProfileActivity.this = this;
            }

            @Override // org.telegram.ui.PinchToZoomHelper.Callback
            public /* synthetic */ TextureView getCurrentTextureView() {
                return PinchToZoomHelper.Callback.-CC.$default$getCurrentTextureView(this);
            }

            @Override // org.telegram.ui.PinchToZoomHelper.Callback
            public /* synthetic */ void onZoomFinished(MessageObject messageObject) {
                PinchToZoomHelper.Callback.-CC.$default$onZoomFinished(this, messageObject);
            }

            @Override // org.telegram.ui.PinchToZoomHelper.Callback
            public void onZoomStarted(MessageObject messageObject) {
                ProfileActivity.this.listView.cancelClickRunnables(true);
                if (ProfileActivity.this.sharedMediaLayout != null && ProfileActivity.this.sharedMediaLayout.getCurrentListView() != null) {
                    ProfileActivity.this.sharedMediaLayout.getCurrentListView().cancelClickRunnables(true);
                }
                TopView topView2 = ProfileActivity.this.topView;
                ProfileActivity profileActivity = ProfileActivity.this;
                topView2.setBackgroundColor(ColorUtils.blendARGB(profileActivity.getAverageColor(profileActivity.pinchToZoomHelper.getPhotoImage()), ProfileActivity.this.getThemedColor(Theme.key_windowBackgroundWhite), 0.1f));
            }
        });
        this.avatarsViewPager.setPinchToZoomHelper(this.pinchToZoomHelper);
        this.scrimPaint.setAlpha(0);
        this.actionBarBackgroundPaint.setColor(getThemedColor(Theme.key_listSelector));
        this.contentView.blurBehindViews.add(this.sharedMediaLayout);
        updateTtlIcon();
        View view222 = new View(context) { // from class: org.telegram.ui.ProfileActivity.32
            {
                ProfileActivity.this = this;
            }

            @Override // android.view.View
            public void setAlpha(float f3) {
                super.setAlpha(f3);
                View view32 = ProfileActivity.this.fragmentView;
                if (view32 != null) {
                    view32.invalidate();
                }
            }
        };
        this.blurredView = view222;
        if (i6 >= 23) {
        }
        this.blurredView.setFocusable(false);
        this.blurredView.setImportantForAccessibility(2);
        this.blurredView.setOnClickListener(new View.OnClickListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda9
            @Override // android.view.View.OnClickListener
            public final void onClick(View view32) {
                ProfileActivity.this.lambda$createView$22(view32);
            }
        });
        this.blurredView.setVisibility(8);
        this.blurredView.setFitsSystemWindows(true);
        this.contentView.addView(this.blurredView, LayoutHelper.createFrame(-1, -1.0f));
        createBirthdayEffect();
        createFloatingActionButton(getContext());
        if (this.myProfile) {
        }
        return this.fragmentView;
    }

    @Override // org.telegram.messenger.NotificationCenter.NotificationCenterDelegate
    public void didReceivedNotification(int i, int i2, final Object... objArr) {
        ProfileStoriesView profileStoriesView;
        TL_stories$PeerStories tL_stories$PeerStories;
        ListAdapter listAdapter;
        TLRPC$ChatFull tLRPC$ChatFull;
        TLRPC$ChatFull tLRPC$ChatFull2;
        TLRPC$TL_inputGroupCall tLRPC$TL_inputGroupCall;
        TLRPC$Chat tLRPC$Chat;
        RecyclerListView recyclerListView;
        RecyclerListView recyclerListView2;
        RecyclerListView.Holder holder;
        if (i == NotificationCenter.uploadStoryEnd || i == NotificationCenter.chatWasBoostedByUser) {
            checkCanSendStoryForPosting();
            return;
        }
        r2 = 0;
        char c = 0;
        if (i == NotificationCenter.updateInterfaces) {
            int intValue = ((Integer) objArr[0]).intValue();
            boolean z = ((MessagesController.UPDATE_MASK_AVATAR & intValue) == 0 && (MessagesController.UPDATE_MASK_NAME & intValue) == 0 && (MessagesController.UPDATE_MASK_STATUS & intValue) == 0 && (MessagesController.UPDATE_MASK_EMOJI_STATUS & intValue) == 0) ? false : true;
            if (this.userId != 0) {
                if (z) {
                    updateProfileData(true);
                }
                if ((intValue & MessagesController.UPDATE_MASK_PHONE) == 0 || (recyclerListView2 = this.listView) == null || (holder = (RecyclerListView.Holder) recyclerListView2.findViewHolderForPosition(this.phoneRow)) == null) {
                    return;
                }
                this.listAdapter.onBindViewHolder(holder, this.phoneRow);
                return;
            } else if (this.chatId != 0) {
                if ((MessagesController.UPDATE_MASK_CHAT & intValue) != 0 || (MessagesController.UPDATE_MASK_CHAT_AVATAR & intValue) != 0 || (MessagesController.UPDATE_MASK_CHAT_NAME & intValue) != 0 || (MessagesController.UPDATE_MASK_CHAT_MEMBERS & intValue) != 0 || (MessagesController.UPDATE_MASK_STATUS & intValue) != 0 || (MessagesController.UPDATE_MASK_EMOJI_STATUS & intValue) != 0) {
                    if ((MessagesController.UPDATE_MASK_CHAT & intValue) != 0) {
                        updateListAnimated(true);
                    } else {
                        updateOnlineCount(true);
                    }
                    updateProfileData(true);
                }
                if (!z || (recyclerListView = this.listView) == null) {
                    return;
                }
                int childCount = recyclerListView.getChildCount();
                for (int i3 = 0; i3 < childCount; i3++) {
                    View childAt = this.listView.getChildAt(i3);
                    if (childAt instanceof UserCell) {
                        ((UserCell) childAt).update(intValue);
                    }
                }
                return;
            } else {
                return;
            }
        }
        if (i != NotificationCenter.chatOnlineCountDidLoad) {
            if (i == NotificationCenter.contactsDidLoad || i == NotificationCenter.channelRightsUpdated) {
                createActionBarMenu(true);
                return;
            } else if (i == NotificationCenter.encryptedChatCreated) {
                if (this.creatingChat) {
                    AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda0
                        @Override // java.lang.Runnable
                        public final void run() {
                            ProfileActivity.this.lambda$didReceivedNotification$66(objArr);
                        }
                    });
                    return;
                }
                return;
            } else if (i == NotificationCenter.encryptedChatUpdated) {
                TLRPC$EncryptedChat tLRPC$EncryptedChat = (TLRPC$EncryptedChat) objArr[0];
                TLRPC$EncryptedChat tLRPC$EncryptedChat2 = this.currentEncryptedChat;
                if (tLRPC$EncryptedChat2 == null || tLRPC$EncryptedChat.id != tLRPC$EncryptedChat2.id) {
                    return;
                }
                this.currentEncryptedChat = tLRPC$EncryptedChat;
                updateListAnimated(false);
                FlagSecureReason flagSecureReason = this.flagSecure;
                if (flagSecureReason != null) {
                    flagSecureReason.invalidate();
                    return;
                }
                return;
            } else {
                if (i == NotificationCenter.blockedUsersDidLoad) {
                    boolean z2 = this.userBlocked;
                    boolean z3 = getMessagesController().blockePeers.indexOfKey(this.userId) >= 0;
                    this.userBlocked = z3;
                    if (z2 == z3) {
                        return;
                    }
                    createActionBarMenu(true);
                } else if (i == NotificationCenter.groupCallUpdated) {
                    Long l = (Long) objArr[0];
                    if (this.currentChat != null) {
                        long longValue = l.longValue();
                        TLRPC$Chat tLRPC$Chat2 = this.currentChat;
                        if (longValue == tLRPC$Chat2.id && ChatObject.canManageCalls(tLRPC$Chat2)) {
                            TLRPC$ChatFull chatFull = MessagesController.getInstance(this.currentAccount).getChatFull(l.longValue());
                            if (chatFull != null) {
                                TLRPC$ChatFull tLRPC$ChatFull3 = this.chatInfo;
                                if (tLRPC$ChatFull3 != null) {
                                    chatFull.participants = tLRPC$ChatFull3.participants;
                                }
                                this.chatInfo = chatFull;
                            }
                            SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
                            if (sharedMediaLayout != null) {
                                sharedMediaLayout.setChatInfo(this.chatInfo);
                            }
                            TLRPC$ChatFull tLRPC$ChatFull4 = this.chatInfo;
                            if (tLRPC$ChatFull4 != null && (((tLRPC$TL_inputGroupCall = tLRPC$ChatFull4.call) == null && !this.hasVoiceChatItem) || (tLRPC$TL_inputGroupCall != null && this.hasVoiceChatItem))) {
                                createActionBarMenu(false);
                            }
                            ProfileStoriesView profileStoriesView2 = this.storyView;
                            if (profileStoriesView2 != null && (tLRPC$ChatFull2 = this.chatInfo) != null) {
                                profileStoriesView2.setStories(tLRPC$ChatFull2.stories);
                            }
                            AvatarImageView avatarImageView = this.avatarImage;
                            if (avatarImageView != null) {
                                avatarImageView.setHasStories(needInsetForStories());
                                return;
                            }
                            return;
                        }
                        return;
                    }
                    return;
                } else if (i == NotificationCenter.chatInfoDidLoad) {
                    TLRPC$ChatFull tLRPC$ChatFull5 = (TLRPC$ChatFull) objArr[0];
                    if (tLRPC$ChatFull5.id == this.chatId) {
                        boolean booleanValue = ((Boolean) objArr[2]).booleanValue();
                        TLRPC$ChatFull tLRPC$ChatFull6 = this.chatInfo;
                        if ((tLRPC$ChatFull6 instanceof TLRPC$TL_channelFull) && tLRPC$ChatFull5.participants == null) {
                            tLRPC$ChatFull5.participants = tLRPC$ChatFull6.participants;
                        }
                        if (tLRPC$ChatFull6 == null && (tLRPC$ChatFull5 instanceof TLRPC$TL_channelFull)) {
                            c = 1;
                        }
                        this.chatInfo = tLRPC$ChatFull5;
                        if (this.mergeDialogId == 0) {
                            long j = tLRPC$ChatFull5.migrated_from_chat_id;
                            if (j != 0) {
                                this.mergeDialogId = -j;
                                getMediaDataController().getMediaCount(this.mergeDialogId, this.topicId, 0, this.classGuid, true);
                            }
                        }
                        fetchUsersFromChannelInfo();
                        ProfileGalleryView profileGalleryView = this.avatarsViewPager;
                        if (profileGalleryView != null && !this.isTopic) {
                            profileGalleryView.setChatInfo(this.chatInfo);
                        }
                        updateListAnimated(true);
                        TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(this.chatId));
                        if (chat != null) {
                            this.currentChat = chat;
                            createActionBarMenu(true);
                        }
                        FlagSecureReason flagSecureReason2 = this.flagSecure;
                        if (flagSecureReason2 != null) {
                            flagSecureReason2.invalidate();
                        }
                        if (this.currentChat.megagroup && (c != 0 || !booleanValue)) {
                            getChannelParticipants(true);
                        }
                        updateAutoDeleteItem();
                        updateTtlIcon();
                        ProfileStoriesView profileStoriesView3 = this.storyView;
                        if (profileStoriesView3 != null && (tLRPC$ChatFull = this.chatInfo) != null) {
                            profileStoriesView3.setStories(tLRPC$ChatFull.stories);
                        }
                        AvatarImageView avatarImageView2 = this.avatarImage;
                        if (avatarImageView2 != null) {
                            avatarImageView2.setHasStories(needInsetForStories());
                        }
                        SharedMediaLayout sharedMediaLayout2 = this.sharedMediaLayout;
                        if (sharedMediaLayout2 != null) {
                            sharedMediaLayout2.setChatInfo(this.chatInfo);
                            return;
                        }
                        return;
                    }
                    return;
                } else if (i == NotificationCenter.closeChats) {
                    removeSelfFromStack(true);
                    return;
                } else if (i == NotificationCenter.botInfoDidLoad) {
                    TL_bots$BotInfo tL_bots$BotInfo = (TL_bots$BotInfo) objArr[0];
                    if (tL_bots$BotInfo.user_id != this.userId) {
                        return;
                    }
                    this.botInfo = tL_bots$BotInfo;
                } else if (i == NotificationCenter.userInfoDidLoad) {
                    if (((Long) objArr[0]).longValue() == this.userId) {
                        TLRPC$UserFull tLRPC$UserFull = (TLRPC$UserFull) objArr[1];
                        this.userInfo = tLRPC$UserFull;
                        ProfileStoriesView profileStoriesView4 = this.storyView;
                        if (profileStoriesView4 != null) {
                            profileStoriesView4.setStories(tLRPC$UserFull.stories);
                        }
                        AvatarImageView avatarImageView3 = this.avatarImage;
                        if (avatarImageView3 != null) {
                            avatarImageView3.setHasStories(needInsetForStories());
                        }
                        SharedMediaLayout sharedMediaLayout3 = this.sharedMediaLayout;
                        if (sharedMediaLayout3 != null) {
                            sharedMediaLayout3.setUserInfo(this.userInfo);
                        }
                        if (this.imageUpdater == null) {
                            if (this.openAnimationInProgress || this.callItemVisible) {
                                this.recreateMenuAfterAnimation = true;
                            } else {
                                createActionBarMenu(true);
                            }
                            updateListAnimated(false);
                            SharedMediaLayout sharedMediaLayout4 = this.sharedMediaLayout;
                            if (sharedMediaLayout4 != null) {
                                sharedMediaLayout4.setCommonGroupsCount(this.userInfo.common_chats_count);
                                updateSelectedMediaTabText();
                                SharedMediaLayout.SharedMediaPreloader sharedMediaPreloader = this.sharedMediaPreloader;
                                if (sharedMediaPreloader == null || sharedMediaPreloader.isMediaWasLoaded()) {
                                    resumeDelayedFragmentAnimation();
                                    needLayout(true);
                                }
                            }
                        } else if (this.listAdapter != null && !TextUtils.equals(this.userInfo.about, this.currentBio)) {
                            this.listAdapter.notifyItemChanged(this.bioRow);
                        }
                        updateAutoDeleteItem();
                        updateTtlIcon();
                        if (this.profileChannelMessageFetcher == null && !isSettings()) {
                            ProfileChannelCell.ChannelMessageFetcher channelMessageFetcher = new ProfileChannelCell.ChannelMessageFetcher(this.currentAccount);
                            this.profileChannelMessageFetcher = channelMessageFetcher;
                            channelMessageFetcher.subscribe(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda1
                                @Override // java.lang.Runnable
                                public final void run() {
                                    ProfileActivity.this.lambda$didReceivedNotification$67();
                                }
                            });
                            this.profileChannelMessageFetcher.fetch(this.userInfo);
                        }
                        if (!isSettings()) {
                            ProfileBirthdayEffect.BirthdayEffectFetcher birthdayEffectFetcher = this.birthdayFetcher;
                            ProfileBirthdayEffect.BirthdayEffectFetcher of = ProfileBirthdayEffect.BirthdayEffectFetcher.of(this.currentAccount, this.userInfo, birthdayEffectFetcher);
                            this.birthdayFetcher = of;
                            this.createdBirthdayFetcher = of != birthdayEffectFetcher;
                            if (of != null) {
                                of.subscribe(new ProfileActivity$$ExternalSyntheticLambda2(this));
                            }
                        }
                        if (this.otherItem != null) {
                            if (hasPrivacyCommand()) {
                                this.otherItem.showSubItem(44);
                                return;
                            } else {
                                this.otherItem.hideSubItem(44);
                                return;
                            }
                        }
                        return;
                    }
                    return;
                } else if (i == NotificationCenter.privacyRulesUpdated) {
                    if (this.qrItem != null) {
                        updateQrItemVisibility(true);
                        return;
                    }
                    return;
                } else if (i == NotificationCenter.didReceiveNewMessages) {
                    if (((Boolean) objArr[2]).booleanValue()) {
                        return;
                    }
                    long dialogId = getDialogId();
                    if (dialogId == ((Long) objArr[0]).longValue()) {
                        DialogObject.isEncryptedDialog(dialogId);
                        ArrayList arrayList = (ArrayList) objArr[1];
                        for (int i4 = 0; i4 < arrayList.size(); i4++) {
                            MessageObject messageObject = (MessageObject) arrayList.get(i4);
                            if (this.currentEncryptedChat != null) {
                                TLRPC$MessageAction tLRPC$MessageAction = messageObject.messageOwner.action;
                                if ((tLRPC$MessageAction instanceof TLRPC$TL_messageEncryptedAction) && (tLRPC$MessageAction.encryptedAction instanceof TLRPC$TL_decryptedMessageActionSetMessageTTL) && (listAdapter = this.listAdapter) != null) {
                                    listAdapter.notifyDataSetChanged();
                                }
                            }
                        }
                        return;
                    }
                    return;
                } else if (i == NotificationCenter.emojiLoaded) {
                    RecyclerListView recyclerListView3 = this.listView;
                    if (recyclerListView3 != null) {
                        recyclerListView3.invalidateViews();
                        return;
                    }
                    return;
                } else if (i != NotificationCenter.reloadInterface) {
                    if (i == NotificationCenter.newSuggestionsAvailable) {
                        int i5 = this.passwordSuggestionRow;
                        int i6 = this.phoneSuggestionRow;
                        updateRowsIds();
                        if (i5 == this.passwordSuggestionRow && i6 == this.phoneSuggestionRow) {
                            return;
                        }
                        this.listAdapter.notifyDataSetChanged();
                        return;
                    } else if (i == NotificationCenter.topicsDidLoaded) {
                        if (!this.isTopic) {
                            return;
                        }
                    } else if (i == NotificationCenter.updateSearchSettings) {
                        SearchAdapter searchAdapter = this.searchAdapter;
                        if (searchAdapter != null) {
                            searchAdapter.searchArray = searchAdapter.onCreateSearchArray();
                            this.searchAdapter.recentSearches.clear();
                            this.searchAdapter.updateSearchArray();
                            SearchAdapter searchAdapter2 = this.searchAdapter;
                            searchAdapter2.search(searchAdapter2.lastSearchString);
                            return;
                        }
                        return;
                    } else if (i != NotificationCenter.reloadDialogPhotos) {
                        if (i != NotificationCenter.storiesUpdated && i != NotificationCenter.storiesReadUpdated) {
                            if (i == NotificationCenter.userIsPremiumBlockedUpadted) {
                                ActionBarMenuItem actionBarMenuItem = this.otherItem;
                                if (actionBarMenuItem != null) {
                                    actionBarMenuItem.setSubItemShown(20, !getMessagesController().isUserPremiumBlocked(this.userId));
                                }
                            } else if (i != NotificationCenter.currentUserPremiumStatusChanged) {
                                if (i != NotificationCenter.starBalanceUpdated && i != NotificationCenter.botStarsUpdated) {
                                    return;
                                }
                            }
                            updateEditColorIcon();
                            return;
                        }
                        AvatarImageView avatarImageView4 = this.avatarImage;
                        if (avatarImageView4 != null) {
                            avatarImageView4.setHasStories(needInsetForStories());
                            updateAvatarRoundRadius();
                        }
                        TLRPC$UserFull tLRPC$UserFull2 = this.userInfo;
                        if (tLRPC$UserFull2 != null) {
                            profileStoriesView = this.storyView;
                            tL_stories$PeerStories = tLRPC$UserFull2.stories;
                        } else {
                            TLRPC$ChatFull tLRPC$ChatFull7 = this.chatInfo;
                            if (tLRPC$ChatFull7 == null) {
                                return;
                            }
                            profileStoriesView = this.storyView;
                            tL_stories$PeerStories = tLRPC$ChatFull7.stories;
                        }
                        profileStoriesView.setStories(tL_stories$PeerStories);
                        return;
                    }
                }
                updateListAnimated(false);
                return;
            }
        }
        Long l2 = (Long) objArr[0];
        if (this.chatInfo == null || (tLRPC$Chat = this.currentChat) == null || tLRPC$Chat.id != l2.longValue()) {
            return;
        }
        this.chatInfo.online_count = ((Integer) objArr[1]).intValue();
        updateOnlineCount(true);
        updateProfileData(false);
    }

    @Override // org.telegram.ui.DialogsActivity.DialogsActivityDelegate
    public boolean didSelectDialogs(DialogsActivity dialogsActivity, ArrayList arrayList, CharSequence charSequence, boolean z, TopicsFragment topicsFragment) {
        long j = ((MessagesStorage.TopicKey) arrayList.get(0)).dialogId;
        Bundle bundle = new Bundle();
        bundle.putBoolean("scrollToTopOnResume", true);
        if (DialogObject.isEncryptedDialog(j)) {
            bundle.putInt("enc_id", DialogObject.getEncryptedChatId(j));
        } else if (DialogObject.isUserDialog(j)) {
            bundle.putLong("user_id", j);
        } else if (DialogObject.isChatDialog(j)) {
            bundle.putLong("chat_id", -j);
        }
        if (getMessagesController().checkCanOpenChat(bundle, dialogsActivity)) {
            NotificationCenter notificationCenter = getNotificationCenter();
            int i = NotificationCenter.closeChats;
            notificationCenter.removeObserver(this, i);
            getNotificationCenter().lambda$postNotificationNameOnUIThread$1(i, new Object[0]);
            presentFragment(new ChatActivity(bundle), true);
            removeSelfFromStack();
            getSendMessagesHelper().sendMessage(SendMessagesHelper.SendMessageParams.of(getMessagesController().getUser(Long.valueOf(this.userId)), j, (MessageObject) null, (MessageObject) null, (TLRPC$ReplyMarkup) null, (HashMap<String, String>) null, true, 0));
            if (!TextUtils.isEmpty(charSequence)) {
                SendMessagesHelper.prepareSendingText(AccountInstance.getInstance(this.currentAccount), charSequence.toString(), j, true, 0, 0L);
            }
            return true;
        }
        return false;
    }

    @Override // org.telegram.ui.Components.ImageUpdater.ImageUpdaterDelegate
    public void didStartUpload(boolean z) {
        RadialProgressView radialProgressView = this.avatarProgressView;
        if (radialProgressView == null) {
            return;
        }
        radialProgressView.setProgress(0.0f);
    }

    @Override // org.telegram.ui.Components.ImageUpdater.ImageUpdaterDelegate
    public /* synthetic */ void didUploadFailed() {
        ImageUpdater.ImageUpdaterDelegate.-CC.$default$didUploadFailed(this);
    }

    @Override // org.telegram.ui.Components.ImageUpdater.ImageUpdaterDelegate
    public void didUploadPhoto(final TLRPC$InputFile tLRPC$InputFile, final TLRPC$InputFile tLRPC$InputFile2, final double d, final String str, final TLRPC$PhotoSize tLRPC$PhotoSize, final TLRPC$PhotoSize tLRPC$PhotoSize2, boolean z, final TLRPC$VideoSize tLRPC$VideoSize) {
        AndroidUtilities.runOnUIThread(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda48
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$didUploadPhoto$81(tLRPC$InputFile, tLRPC$InputFile2, tLRPC$VideoSize, d, str, tLRPC$PhotoSize2, tLRPC$PhotoSize);
            }
        });
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void dismissCurrentDialog() {
        ImageUpdater imageUpdater = this.imageUpdater;
        if (imageUpdater == null || !imageUpdater.dismissCurrentDialog(this.visibleDialog)) {
            super.dismissCurrentDialog();
        }
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public boolean dismissDialogOnPause(Dialog dialog) {
        ImageUpdater imageUpdater = this.imageUpdater;
        return (imageUpdater == null || imageUpdater.dismissDialogOnPause(dialog)) && super.dismissDialogOnPause(dialog);
    }

    @Override // org.telegram.ui.Components.SharedMediaLayout.Delegate
    public TLRPC$Chat getCurrentChat() {
        return this.currentChat;
    }

    public long getDialogId() {
        long j = this.dialogId;
        if (j != 0) {
            return j;
        }
        long j2 = this.userId;
        return j2 != 0 ? j2 : -this.chatId;
    }

    public void getEmojiStatusLocation(Rect rect) {
        SimpleTextView simpleTextView = this.nameTextView[1];
        if (simpleTextView == null) {
            return;
        }
        if (simpleTextView.getRightDrawable() == null) {
            rect.set(this.nameTextView[1].getWidth() - 1, (this.nameTextView[1].getHeight() / 2) - 1, this.nameTextView[1].getWidth() + 1, (this.nameTextView[1].getHeight() / 2) + 1);
            return;
        }
        rect.set(this.nameTextView[1].getRightDrawable().getBounds());
        rect.offset((int) (rect.centerX() * (this.nameTextView[1].getScaleX() - 1.0f)), 0);
        rect.offset((int) this.nameTextView[1].getX(), (int) this.nameTextView[1].getY());
    }

    @Override // org.telegram.ui.Components.ImageUpdater.ImageUpdaterDelegate
    public /* synthetic */ String getInitialSearchString() {
        return ImageUpdater.ImageUpdaterDelegate.-CC.$default$getInitialSearchString(this);
    }

    @Override // org.telegram.ui.Components.SharedMediaLayout.Delegate
    public RecyclerListView getListView() {
        return this.listView;
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public Theme.ResourcesProvider getResourceProvider() {
        return this.resourcesProvider;
    }

    public ShowDrawable getShowStatusButton() {
        if (this.showStatusButton == null) {
            ShowDrawable showDrawable = new ShowDrawable(LocaleController.getString(R.string.StatusHiddenShow));
            this.showStatusButton = showDrawable;
            showDrawable.setAlpha((int) (Math.min(1.0f, this.extraHeight / AndroidUtilities.dp(88.0f)) * 255.0f));
            this.showStatusButton.setBackgroundColor(ColorUtils.blendARGB(Theme.multAlpha(Theme.adaptHSV(this.actionBarBackgroundColor, 0.18f, -0.1f), 0.5f), 603979775, this.currentExpandAnimatorValue));
        }
        return this.showStatusButton;
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public ArrayList getThemeDescriptions() {
        ThemeDescription themeDescription;
        if (this.resourcesProvider != null) {
            return null;
        }
        ThemeDescription.ThemeDescriptionDelegate themeDescriptionDelegate = new ThemeDescription.ThemeDescriptionDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda19
            @Override // org.telegram.ui.ActionBar.ThemeDescription.ThemeDescriptionDelegate
            public final void didSetColor() {
                ProfileActivity.this.lambda$getThemeDescriptions$85();
            }

            @Override // org.telegram.ui.ActionBar.ThemeDescription.ThemeDescriptionDelegate
            public /* synthetic */ void onAnimationProgress(float f) {
                ThemeDescription.ThemeDescriptionDelegate.-CC.$default$onAnimationProgress(this, f);
            }
        };
        ArrayList arrayList = new ArrayList();
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout != null) {
            arrayList.addAll(sharedMediaLayout.getThemeDescriptions());
        }
        RecyclerListView recyclerListView = this.listView;
        int i = Theme.key_windowBackgroundWhite;
        arrayList.add(new ThemeDescription(recyclerListView, 0, null, null, null, null, i));
        arrayList.add(new ThemeDescription(this.searchListView, 0, null, null, null, null, i));
        arrayList.add(new ThemeDescription(this.listView, 0, null, null, null, null, Theme.key_windowBackgroundGray));
        arrayList.add(new ThemeDescription(this.actionBar, ThemeDescription.FLAG_AB_SUBMENUBACKGROUND, null, null, null, null, Theme.key_actionBarDefaultSubmenuBackground));
        arrayList.add(new ThemeDescription(this.actionBar, ThemeDescription.FLAG_AB_SUBMENUITEM, null, null, null, null, Theme.key_actionBarDefaultSubmenuItem));
        arrayList.add(new ThemeDescription(this.actionBar, ThemeDescription.FLAG_AB_SUBMENUITEM | ThemeDescription.FLAG_IMAGECOLOR, null, null, null, null, Theme.key_actionBarDefaultSubmenuItemIcon));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_actionBarDefaultIcon));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_avatar_actionBarSelectorBlue));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_chat_lockIcon));
        int i2 = Theme.key_avatar_subtitleInProfileBlue;
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, i2));
        int i3 = Theme.key_avatar_backgroundActionBarBlue;
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, i3));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_profile_title));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_profile_status));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, i2));
        if (this.mediaCounterTextView != null) {
            TextView textView = this.mediaCounterTextView.getTextView();
            int i4 = ThemeDescription.FLAG_TEXTCOLOR;
            int i5 = Theme.key_player_actionBarSubtitle;
            arrayList.add(new ThemeDescription(textView, i4, null, null, null, themeDescriptionDelegate, i5));
            arrayList.add(new ThemeDescription(this.mediaCounterTextView.getNextTextView(), ThemeDescription.FLAG_TEXTCOLOR, null, null, null, themeDescriptionDelegate, i5));
        }
        arrayList.add(new ThemeDescription(this.topView, ThemeDescription.FLAG_BACKGROUND, null, null, null, null, i3));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_SELECTOR, null, null, null, null, Theme.key_listSelector));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{View.class}, Theme.dividerPaint, null, null, Theme.key_divider));
        AvatarImageView avatarImageView = this.avatarImage;
        Drawable[] drawableArr = Theme.avatarDrawables;
        int i6 = Theme.key_avatar_text;
        arrayList.add(new ThemeDescription(avatarImageView, 0, null, null, drawableArr, null, i6));
        arrayList.add(new ThemeDescription(this.avatarImage, 0, null, null, new Drawable[]{this.avatarDrawable}, null, Theme.key_avatar_backgroundInProfileBlue));
        arrayList.add(new ThemeDescription(this.writeButton, ThemeDescription.FLAG_IMAGECOLOR, null, null, null, null, Theme.key_profile_actionIcon));
        arrayList.add(new ThemeDescription(this.writeButton, ThemeDescription.FLAG_BACKGROUNDFILTER, null, null, null, null, Theme.key_profile_actionBackground));
        arrayList.add(new ThemeDescription(this.writeButton, ThemeDescription.FLAG_BACKGROUNDFILTER | ThemeDescription.FLAG_DRAWABLESELECTEDSTATE, null, null, null, null, Theme.key_profile_actionPressedBackground));
        int i7 = Theme.key_windowBackgroundWhiteBlackText;
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_CHECKTAG, new Class[]{TextCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i7));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_CHECKTAG, new Class[]{TextCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, Theme.key_windowBackgroundWhiteGreenText2));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_CHECKTAG, new Class[]{TextCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, Theme.key_text_RedRegular));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_CHECKTAG, new Class[]{TextCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, Theme.key_windowBackgroundWhiteBlueText2));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_CHECKTAG, new Class[]{TextCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, Theme.key_windowBackgroundWhiteBlueButton));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{TextCell.class}, new String[]{"valueTextView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, Theme.key_windowBackgroundWhiteValueText));
        int i8 = Theme.key_windowBackgroundWhiteGrayIcon;
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_CHECKTAG, new Class[]{TextCell.class}, new String[]{"imageView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i8));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_CHECKTAG, new Class[]{TextCell.class}, new String[]{"imageView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, Theme.key_windowBackgroundWhiteBlueIcon));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{TextDetailCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i7));
        int i9 = Theme.key_windowBackgroundWhiteGrayText2;
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{TextDetailCell.class}, new String[]{"valueTextView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i9));
        int i10 = Theme.key_windowBackgroundWhiteBlueHeader;
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{HeaderCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i10));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{SettingsSuggestionCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i10));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{SettingsSuggestionCell.class}, new String[]{"detailTextView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i9));
        int i11 = Theme.key_windowBackgroundWhiteLinkText;
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_LINKCOLOR, new Class[]{SettingsSuggestionCell.class}, new String[]{"detailTextView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i11));
        int i12 = Theme.key_featuredStickers_buttonText;
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{SettingsSuggestionCell.class}, new String[]{"yesButton"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i12));
        int i13 = Theme.key_featuredStickers_addButton;
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_USEBACKGROUNDDRAWABLE, new Class[]{SettingsSuggestionCell.class}, new String[]{"yesButton"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i13));
        int i14 = Theme.key_featuredStickers_addButtonPressed;
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_USEBACKGROUNDDRAWABLE | ThemeDescription.FLAG_DRAWABLESELECTEDSTATE, new Class[]{SettingsSuggestionCell.class}, new String[]{"yesButton"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i14));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{SettingsSuggestionCell.class}, new String[]{"noButton"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i12));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_USEBACKGROUNDDRAWABLE, new Class[]{SettingsSuggestionCell.class}, new String[]{"noButton"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i13));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_USEBACKGROUNDDRAWABLE | ThemeDescription.FLAG_DRAWABLESELECTEDSTATE, new Class[]{SettingsSuggestionCell.class}, new String[]{"noButton"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i14));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{NotificationsCheckCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i7));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{NotificationsCheckCell.class}, new String[]{"valueTextView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i9));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{NotificationsCheckCell.class}, new String[]{"checkBox"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, Theme.key_switchTrack));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{NotificationsCheckCell.class}, new String[]{"checkBox"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, Theme.key_switchTrackChecked));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_TEXTCOLOR, new Class[]{UserCell.class}, new String[]{"adminTextView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, Theme.key_profile_creatorIcon));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{UserCell.class}, new String[]{"imageView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i8));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{UserCell.class}, new String[]{"nameTextView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i7));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{UserCell.class}, new String[]{"statusColor"}, (Paint[]) null, (Drawable[]) null, themeDescriptionDelegate, Theme.key_windowBackgroundWhiteGrayText));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{UserCell.class}, new String[]{"statusOnlineColor"}, (Paint[]) null, (Drawable[]) null, themeDescriptionDelegate, Theme.key_windowBackgroundWhiteBlueText));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{UserCell.class}, null, Theme.avatarDrawables, null, i6));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_avatar_backgroundRed));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_avatar_backgroundOrange));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_avatar_backgroundViolet));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_avatar_backgroundGreen));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_avatar_backgroundCyan));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_avatar_backgroundBlue));
        arrayList.add(new ThemeDescription(null, 0, null, null, null, themeDescriptionDelegate, Theme.key_avatar_backgroundPink));
        arrayList.add(new ThemeDescription(this.undoView, ThemeDescription.FLAG_BACKGROUNDFILTER, null, null, null, null, Theme.key_undo_background));
        int i15 = Theme.key_undo_cancelColor;
        arrayList.add(new ThemeDescription(this.undoView, 0, new Class[]{UndoView.class}, new String[]{"undoImageView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i15));
        arrayList.add(new ThemeDescription(this.undoView, 0, new Class[]{UndoView.class}, new String[]{"undoTextView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i15));
        int i16 = Theme.key_undo_infoColor;
        arrayList.add(new ThemeDescription(this.undoView, 0, new Class[]{UndoView.class}, new String[]{"infoTextView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i16));
        arrayList.add(new ThemeDescription(this.undoView, 0, new Class[]{UndoView.class}, new String[]{"textPaint"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i16));
        arrayList.add(new ThemeDescription(this.undoView, 0, new Class[]{UndoView.class}, new String[]{"progressPaint"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i16));
        arrayList.add(new ThemeDescription(this.undoView, ThemeDescription.FLAG_IMAGECOLOR, new Class[]{UndoView.class}, new String[]{"leftImageView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i16));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_TEXTCOLOR, new Class[]{AboutLinkCell.class}, Theme.profile_aboutTextPaint, null, null, i7));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_LINKCOLOR, new Class[]{AboutLinkCell.class}, Theme.profile_aboutTextPaint, null, null, i11));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{AboutLinkCell.class}, Theme.linkSelectionPaint, null, null, Theme.key_windowBackgroundWhiteLinkSelection));
        int i17 = Theme.key_windowBackgroundGrayShadow;
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_BACKGROUNDFILTER, new Class[]{ShadowSectionCell.class}, null, null, null, i17));
        arrayList.add(new ThemeDescription(this.listView, ThemeDescription.FLAG_BACKGROUNDFILTER, new Class[]{TextInfoPrivacyCell.class}, null, null, null, i17));
        arrayList.add(new ThemeDescription(this.listView, 0, new Class[]{TextInfoPrivacyCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, Theme.key_windowBackgroundWhiteGrayText4));
        arrayList.add(new ThemeDescription(this.searchListView, 0, new Class[]{HeaderCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i10));
        arrayList.add(new ThemeDescription(this.searchListView, 0, new Class[]{GraySectionCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, Theme.key_graySectionText));
        arrayList.add(new ThemeDescription(this.searchListView, ThemeDescription.FLAG_CELLBACKGROUNDCOLOR, new Class[]{GraySectionCell.class}, null, null, null, Theme.key_graySection));
        arrayList.add(new ThemeDescription(this.searchListView, 0, new Class[]{SettingsSearchCell.class}, new String[]{"textView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i7));
        arrayList.add(new ThemeDescription(this.searchListView, 0, new Class[]{SettingsSearchCell.class}, new String[]{"valueTextView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i9));
        arrayList.add(new ThemeDescription(this.searchListView, 0, new Class[]{SettingsSearchCell.class}, new String[]{"imageView"}, (Paint[]) null, (Drawable[]) null, (ThemeDescription.ThemeDescriptionDelegate) null, i8));
        if (this.mediaHeaderVisible) {
            arrayList.add(new ThemeDescription(this.nameTextView[1], 0, null, null, this.verifiedCheckDrawable, null, Theme.key_player_actionBarTitle));
            themeDescription = new ThemeDescription(this.nameTextView[1], 0, null, null, this.verifiedDrawable, null, i);
        } else {
            arrayList.add(new ThemeDescription(this.nameTextView[1], 0, null, null, this.verifiedCheckDrawable, null, Theme.key_profile_verifiedCheck));
            themeDescription = new ThemeDescription(this.nameTextView[1], 0, null, null, this.verifiedDrawable, null, Theme.key_profile_verifiedBackground);
        }
        arrayList.add(themeDescription);
        return arrayList;
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public int getThemedColor(int i) {
        return Theme.getColor(i, this.resourcesProvider);
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public Drawable getThemedDrawable(String str) {
        Theme.ResourcesProvider resourcesProvider = this.resourcesProvider;
        Drawable drawable = resourcesProvider != null ? resourcesProvider.getDrawable(str) : null;
        return drawable != null ? drawable : super.getThemedDrawable(str);
    }

    public long getTopicId() {
        return this.topicId;
    }

    public UndoView getUndoView() {
        return this.undoView;
    }

    public TLRPC$UserFull getUserInfo() {
        return this.userInfo;
    }

    public void goToForum() {
        if (getParentLayout() != null && getParentLayout().getFragmentStack() != null) {
            int i = 0;
            while (i < getParentLayout().getFragmentStack().size()) {
                BaseFragment baseFragment = (BaseFragment) getParentLayout().getFragmentStack().get(i);
                if (baseFragment instanceof DialogsActivity) {
                    DialogsActivity dialogsActivity = (DialogsActivity) baseFragment;
                    RightSlidingDialogContainer rightSlidingDialogContainer = dialogsActivity.rightSlidingDialogContainer;
                    if (rightSlidingDialogContainer != null) {
                        BaseFragment fragment = rightSlidingDialogContainer.getFragment();
                        if ((fragment instanceof TopicsFragment) && ((TopicsFragment) fragment).getDialogId() == getDialogId()) {
                            dialogsActivity.rightSlidingDialogContainer.lambda$presentFragment$1();
                        }
                    }
                } else if (baseFragment instanceof ChatActivity) {
                    if (((ChatActivity) baseFragment).getDialogId() != getDialogId()) {
                    }
                    getParentLayout().removeFragmentFromStack(baseFragment);
                    i--;
                } else if (baseFragment instanceof TopicsFragment) {
                    if (((TopicsFragment) baseFragment).getDialogId() != getDialogId()) {
                    }
                    getParentLayout().removeFragmentFromStack(baseFragment);
                    i--;
                } else if ((baseFragment instanceof ProfileActivity) && baseFragment != this) {
                    ProfileActivity profileActivity = (ProfileActivity) baseFragment;
                    if (profileActivity.getDialogId() == getDialogId()) {
                        if (!profileActivity.isTopic) {
                        }
                        getParentLayout().removeFragmentFromStack(baseFragment);
                        i--;
                    }
                }
                i++;
            }
        }
        this.playProfileAnimation = 0;
        Bundle bundle = new Bundle();
        bundle.putLong("chat_id", this.chatId);
        presentFragment(TopicsFragment.getTopicsOrChat(this, bundle));
    }

    public boolean hasPrivacyCommand() {
        TLRPC$UserFull tLRPC$UserFull;
        TL_bots$BotInfo tL_bots$BotInfo;
        if (!this.isBot || (tLRPC$UserFull = this.userInfo) == null || (tL_bots$BotInfo = tLRPC$UserFull.bot_info) == null) {
            return false;
        }
        if (tL_bots$BotInfo.privacy_policy_url != null) {
            return true;
        }
        Iterator it = tL_bots$BotInfo.commands.iterator();
        while (it.hasNext() && !"privacy".equals(((TLRPC$TL_botCommand) it.next()).command)) {
        }
        return true;
    }

    public boolean isChat() {
        return this.chatId != 0;
    }

    @Override // org.telegram.ui.Components.SharedMediaLayout.Delegate
    public boolean isFragmentOpened() {
        return this.isFragmentOpened;
    }

    /* JADX WARN: Removed duplicated region for block: B:39:0x0039 A[ORIG_RETURN, RETURN] */
    /* JADX WARN: Removed duplicated region for block: B:41:? A[RETURN, SYNTHETIC] */
    @Override // org.telegram.ui.ActionBar.BaseFragment
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public boolean isLightStatusBar() {
        int i;
        int bgColor2;
        if (this.isPulledDown) {
            return false;
        }
        if (this.actionBar.isActionModeShowed()) {
            i = Theme.key_actionBarActionModeDefault;
        } else if (this.mediaHeaderVisible) {
            i = Theme.key_windowBackgroundWhite;
        } else {
            MessagesController.PeerColor peerColor = this.peerColor;
            if (peerColor != null) {
                bgColor2 = peerColor.getBgColor2(Theme.isCurrentThemeDark());
                return ColorUtils.calculateLuminance(bgColor2) <= 0.699999988079071d;
            }
            i = Theme.key_actionBarDefault;
        }
        bgColor2 = getThemedColor(i);
        if (ColorUtils.calculateLuminance(bgColor2) <= 0.699999988079071d) {
        }
    }

    public boolean isSettings() {
        return (this.imageUpdater == null || this.myProfile) ? false : true;
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public boolean isSwipeBackEnabled(MotionEvent motionEvent) {
        SharedMediaLayout sharedMediaLayout;
        ProfileGalleryView profileGalleryView = this.avatarsViewPager;
        if (profileGalleryView != null && profileGalleryView.getVisibility() == 0 && this.avatarsViewPager.getRealCount() > 1) {
            this.avatarsViewPager.getHitRect(this.rect);
            if (motionEvent != null && this.rect.contains((int) motionEvent.getX(), ((int) motionEvent.getY()) - this.actionBar.getMeasuredHeight())) {
                return false;
            }
        }
        if (this.sharedMediaRow == -1 || (sharedMediaLayout = this.sharedMediaLayout) == null) {
            return true;
        }
        if (sharedMediaLayout.isSwipeBackEnabled()) {
            this.sharedMediaLayout.getHitRect(this.rect);
            if (this.rect.contains((int) motionEvent.getX(), ((int) motionEvent.getY()) - this.actionBar.getMeasuredHeight())) {
                return this.sharedMediaLayout.isCurrentTabFirst();
            }
            return true;
        }
        return false;
    }

    @Override // org.telegram.ui.Components.SharedMediaLayout.SharedMediaPreloaderDelegate
    public void mediaCountUpdated() {
        SharedMediaLayout.SharedMediaPreloader sharedMediaPreloader;
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout != null && (sharedMediaPreloader = this.sharedMediaPreloader) != null) {
            sharedMediaLayout.setNewMediaCounts(sharedMediaPreloader.getLastMediaCount());
        }
        updateSharedMediaRows();
        updateSelectedMediaTabText();
        if (this.userInfo != null) {
            resumeDelayedFragmentAnimation();
        }
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public boolean needDelayOpenAnimation() {
        return this.playProfileAnimation == 0;
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onActivityResultFragment(int i, int i2, Intent intent) {
        ImageUpdater imageUpdater = this.imageUpdater;
        if (imageUpdater != null) {
            imageUpdater.onActivityResult(i, i2, intent);
        }
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public boolean onBackPressed() {
        SharedMediaLayout sharedMediaLayout;
        if (!closeSheet() && this.actionBar.isEnabled()) {
            return this.sharedMediaRow == -1 || (sharedMediaLayout = this.sharedMediaLayout) == null || !sharedMediaLayout.closeActionMode();
        }
        return false;
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onBecomeFullyHidden() {
        UndoView undoView = this.undoView;
        if (undoView != null) {
            undoView.hide(true, 0);
        }
        super.onBecomeFullyHidden();
        this.fullyVisible = false;
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onBecomeFullyVisible() {
        super.onBecomeFullyVisible();
        writeButtonSetBackground();
        this.fullyVisible = true;
        createBirthdayEffect();
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onConfigurationChanged(Configuration configuration) {
        View findViewByPosition;
        super.onConfigurationChanged(configuration);
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout != null) {
            sharedMediaLayout.onConfigurationChanged(configuration);
        }
        invalidateIsInLandscapeMode();
        if (this.isInLandscapeMode && this.isPulledDown && (findViewByPosition = this.layoutManager.findViewByPosition(0)) != null) {
            this.listView.scrollBy(0, findViewByPosition.getTop() - AndroidUtilities.dp(88.0f));
        }
        fixLayout();
    }

    /* JADX WARN: Removed duplicated region for block: B:438:0x068f  */
    @Override // org.telegram.ui.ActionBar.BaseFragment
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public AnimatorSet onCustomTransitionAnimation(boolean z, final Runnable runnable) {
        ProfileBirthdayEffect profileBirthdayEffect;
        ChatAvatarContainer avatarContainer;
        ObjectAnimator ofFloat;
        float f;
        RightSlidingDialogContainer rightSlidingDialogContainer;
        if (this.playProfileAnimation == 0 || !this.allowProfileAnimation || this.isPulledDown || this.disableProfileAnimation) {
            return null;
        }
        ImageView imageView = this.timeItem;
        if (imageView != null) {
            imageView.setAlpha(1.0f);
        }
        ImageView imageView2 = this.starFgItem;
        if (imageView2 != null) {
            imageView2.setAlpha(1.0f);
            this.starFgItem.setScaleX(1.0f);
            this.starFgItem.setScaleY(1.0f);
        }
        ImageView imageView3 = this.starBgItem;
        if (imageView3 != null) {
            imageView3.setAlpha(1.0f);
            this.starBgItem.setScaleX(1.0f);
            this.starBgItem.setScaleY(1.0f);
        }
        INavigationLayout iNavigationLayout = this.parentLayout;
        if (iNavigationLayout != null && iNavigationLayout.getFragmentStack().size() >= 2) {
            BaseFragment baseFragment = (BaseFragment) this.parentLayout.getFragmentStack().get(this.parentLayout.getFragmentStack().size() - 2);
            if (baseFragment instanceof ChatActivityInterface) {
                this.previousTransitionFragment = (ChatActivityInterface) baseFragment;
            }
            if ((baseFragment instanceof DialogsActivity) && (rightSlidingDialogContainer = ((DialogsActivity) baseFragment).rightSlidingDialogContainer) != null) {
                BaseFragment baseFragment2 = rightSlidingDialogContainer.currentFragment;
                if (baseFragment2 instanceof ChatActivityInterface) {
                    this.previousTransitionFragment = (ChatActivityInterface) baseFragment2;
                }
            }
        }
        if (this.previousTransitionFragment != null) {
            updateTimeItem();
            updateStar();
        }
        AnimatorSet animatorSet = new AnimatorSet();
        animatorSet.setDuration(this.playProfileAnimation == 2 ? 250L : 180L);
        this.listView.setLayerType(2, null);
        ActionBarMenu createMenu = this.actionBar.createMenu();
        if (createMenu.getItem(10) == null && this.animatingItem == null) {
            this.animatingItem = createMenu.addItem(10, R.drawable.ic_ab_other);
        }
        if (z) {
            int i = 0;
            while (i < 2) {
                i++;
                FrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) this.onlineTextView[i].getLayoutParams();
                layoutParams.rightMargin = (int) ((AndroidUtilities.density * (-21.0f)) + AndroidUtilities.dp(8.0f));
                this.onlineTextView[i].setLayoutParams(layoutParams);
            }
            if (this.playProfileAnimation != 2) {
                int ceil = (int) Math.ceil((AndroidUtilities.displaySize.x - AndroidUtilities.dp(126.0f)) + (AndroidUtilities.density * 21.0f));
                float measureText = (this.nameTextView[1].getPaint().measureText(this.nameTextView[1].getText().toString()) * 1.12f) + this.nameTextView[1].getSideDrawablesSize();
                FrameLayout.LayoutParams layoutParams2 = (FrameLayout.LayoutParams) this.nameTextView[1].getLayoutParams();
                layoutParams2.width = ceil < measureText ? (int) Math.ceil(f / 1.12f) : -2;
                this.nameTextView[1].setLayoutParams(layoutParams2);
                this.initialAnimationExtraHeight = AndroidUtilities.dp(88.0f);
            } else {
                FrameLayout.LayoutParams layoutParams3 = (FrameLayout.LayoutParams) this.nameTextView[1].getLayoutParams();
                layoutParams3.width = (int) ((AndroidUtilities.displaySize.x - AndroidUtilities.dp(32.0f)) / 1.67f);
                this.nameTextView[1].setLayoutParams(layoutParams3);
            }
            this.fragmentView.setBackgroundColor(0);
            setAvatarAnimationProgress(0.0f);
            ArrayList arrayList = new ArrayList();
            arrayList.add(ObjectAnimator.ofFloat(this, "avatarAnimationProgress", 0.0f, 1.0f));
            RLottieImageView rLottieImageView = this.writeButton;
            if (rLottieImageView != null && rLottieImageView.getTag() == null) {
                this.writeButton.setScaleX(0.2f);
                this.writeButton.setScaleY(0.2f);
                this.writeButton.setAlpha(0.0f);
                arrayList.add(ObjectAnimator.ofFloat(this.writeButton, View.SCALE_X, 1.0f));
                arrayList.add(ObjectAnimator.ofFloat(this.writeButton, View.SCALE_Y, 1.0f));
                arrayList.add(ObjectAnimator.ofFloat(this.writeButton, View.ALPHA, 1.0f));
            }
            if (this.playProfileAnimation == 2) {
                this.avatarColor = getAverageColor(this.avatarImage.getImageReceiver());
                this.nameTextView[1].setTextColor(-1);
                this.onlineTextView[1].setTextColor(-1275068417);
                this.actionBar.setItemsBackgroundColor(1090519039, false);
                ShowDrawable showDrawable = this.showStatusButton;
                if (showDrawable != null) {
                    showDrawable.setBackgroundColor(603979775);
                }
                this.overlaysView.setOverlaysVisible();
            }
            int i2 = 0;
            while (i2 < 2) {
                this.nameTextView[i2].setAlpha(i2 == 0 ? 1.0f : 0.0f);
                arrayList.add(ObjectAnimator.ofFloat(this.nameTextView[i2], View.ALPHA, i2 == 0 ? 0.0f : 1.0f));
                i2++;
            }
            if (this.storyView != null) {
                if (getDialogId() > 0) {
                    this.storyView.setAlpha(0.0f);
                    ofFloat = ObjectAnimator.ofFloat(this.storyView, View.ALPHA, 1.0f);
                } else {
                    this.storyView.setAlpha(1.0f);
                    this.storyView.setFragmentTransitionProgress(0.0f);
                    ofFloat = ObjectAnimator.ofFloat(this.storyView, "fragmentTransitionProgress", 1.0f);
                }
                arrayList.add(ofFloat);
            }
            if (this.timeItem.getTag() != null) {
                arrayList.add(ObjectAnimator.ofFloat(this.timeItem, View.ALPHA, 1.0f, 0.0f));
                arrayList.add(ObjectAnimator.ofFloat(this.timeItem, View.SCALE_X, 1.0f, 0.0f));
                arrayList.add(ObjectAnimator.ofFloat(this.timeItem, View.SCALE_Y, 1.0f, 0.0f));
            }
            if (this.starFgItem.getTag() != null) {
                arrayList.add(ObjectAnimator.ofFloat(this.starFgItem, View.ALPHA, 1.0f, 0.0f));
                arrayList.add(ObjectAnimator.ofFloat(this.starFgItem, View.SCALE_X, 1.0f, 0.0f));
                arrayList.add(ObjectAnimator.ofFloat(this.starFgItem, View.SCALE_Y, 1.0f, 0.0f));
            }
            if (this.starBgItem.getTag() != null) {
                arrayList.add(ObjectAnimator.ofFloat(this.starBgItem, View.ALPHA, 1.0f, 0.0f));
                arrayList.add(ObjectAnimator.ofFloat(this.starBgItem, View.SCALE_X, 1.0f, 0.0f));
                arrayList.add(ObjectAnimator.ofFloat(this.starBgItem, View.SCALE_Y, 1.0f, 0.0f));
            }
            ActionBarMenuItem actionBarMenuItem = this.animatingItem;
            if (actionBarMenuItem != null) {
                actionBarMenuItem.setAlpha(1.0f);
                arrayList.add(ObjectAnimator.ofFloat(this.animatingItem, View.ALPHA, 0.0f));
            }
            if (this.callItemVisible && this.chatId != 0) {
                this.callItem.setAlpha(0.0f);
                arrayList.add(ObjectAnimator.ofFloat(this.callItem, View.ALPHA, 1.0f));
            }
            if (this.videoCallItemVisible) {
                this.videoCallItem.setAlpha(0.0f);
                arrayList.add(ObjectAnimator.ofFloat(this.videoCallItem, View.ALPHA, 1.0f));
            }
            if (this.editItemVisible) {
                this.editItem.setAlpha(0.0f);
                arrayList.add(ObjectAnimator.ofFloat(this.editItem, View.ALPHA, 1.0f));
            }
            if (this.ttlIconView.getTag() != null) {
                this.ttlIconView.setAlpha(0.0f);
                arrayList.add(ObjectAnimator.ofFloat(this.ttlIconView, View.ALPHA, 1.0f));
            }
            FrameLayout frameLayout = this.floatingButtonContainer;
            if (frameLayout != null) {
                frameLayout.setAlpha(0.0f);
                arrayList.add(ObjectAnimator.ofFloat(this.floatingButtonContainer, View.ALPHA, 1.0f));
            }
            ChatActivityInterface chatActivityInterface = this.previousTransitionFragment;
            if (chatActivityInterface == null || (((avatarContainer = chatActivityInterface.getAvatarContainer()) == null || !(avatarContainer.getSubtitleTextView() instanceof SimpleTextView) || ((SimpleTextView) avatarContainer.getSubtitleTextView()).getLeftDrawable() == null) && !avatarContainer.statusMadeShorter[0])) {
                int i3 = 0;
                while (i3 < 2) {
                    this.onlineTextView[i3].setAlpha(i3 == 0 ? 1.0f : 0.0f);
                    arrayList.add(ObjectAnimator.ofFloat(this.onlineTextView[i3], View.ALPHA, i3 == 0 ? 0.0f : 1.0f));
                    i3++;
                }
            } else {
                this.transitionOnlineText = avatarContainer.getSubtitleTextView();
                this.avatarContainer2.invalidate();
                this.onlineTextView[0].setAlpha(0.0f);
                this.onlineTextView[1].setAlpha(0.0f);
                arrayList.add(ObjectAnimator.ofFloat(this.onlineTextView[1], View.ALPHA, 1.0f));
            }
            animatorSet.playTogether(arrayList);
        } else {
            this.initialAnimationExtraHeight = this.extraHeight;
            ArrayList arrayList2 = new ArrayList();
            arrayList2.add(ObjectAnimator.ofFloat(this, "avatarAnimationProgress", 1.0f, 0.0f));
            RLottieImageView rLottieImageView2 = this.writeButton;
            if (rLottieImageView2 != null) {
                arrayList2.add(ObjectAnimator.ofFloat(rLottieImageView2, View.SCALE_X, 0.2f));
                arrayList2.add(ObjectAnimator.ofFloat(this.writeButton, View.SCALE_Y, 0.2f));
                arrayList2.add(ObjectAnimator.ofFloat(this.writeButton, View.ALPHA, 0.0f));
            }
            int i4 = 0;
            while (i4 < 2) {
                arrayList2.add(ObjectAnimator.ofFloat(this.nameTextView[i4], View.ALPHA, i4 == 0 ? 1.0f : 0.0f));
                i4++;
            }
            ProfileStoriesView profileStoriesView = this.storyView;
            if (profileStoriesView != null) {
                arrayList2.add(this.dialogId > 0 ? ObjectAnimator.ofFloat(profileStoriesView, View.ALPHA, 0.0f) : ObjectAnimator.ofFloat(profileStoriesView, "fragmentTransitionProgress", 0.0f));
            }
            if (this.timeItem.getTag() != null) {
                this.timeItem.setAlpha(0.0f);
                arrayList2.add(ObjectAnimator.ofFloat(this.timeItem, View.ALPHA, 0.0f, 1.0f));
                arrayList2.add(ObjectAnimator.ofFloat(this.timeItem, View.SCALE_X, 0.0f, 1.0f));
                arrayList2.add(ObjectAnimator.ofFloat(this.timeItem, View.SCALE_Y, 0.0f, 1.0f));
            }
            if (this.starFgItem.getTag() != null) {
                this.starFgItem.setAlpha(0.0f);
                arrayList2.add(ObjectAnimator.ofFloat(this.starFgItem, View.ALPHA, 0.0f, 1.0f));
                arrayList2.add(ObjectAnimator.ofFloat(this.starFgItem, View.SCALE_X, 0.0f, 1.0f));
                arrayList2.add(ObjectAnimator.ofFloat(this.starFgItem, View.SCALE_Y, 0.0f, 1.0f));
            }
            if (this.starBgItem.getTag() != null) {
                this.starBgItem.setAlpha(0.0f);
                arrayList2.add(ObjectAnimator.ofFloat(this.starBgItem, View.ALPHA, 0.0f, 1.0f));
                arrayList2.add(ObjectAnimator.ofFloat(this.starBgItem, View.SCALE_X, 0.0f, 1.0f));
                arrayList2.add(ObjectAnimator.ofFloat(this.starBgItem, View.SCALE_Y, 0.0f, 1.0f));
            }
            ActionBarMenuItem actionBarMenuItem2 = this.animatingItem;
            if (actionBarMenuItem2 != null) {
                actionBarMenuItem2.setAlpha(0.0f);
                arrayList2.add(ObjectAnimator.ofFloat(this.animatingItem, View.ALPHA, 1.0f));
            }
            if (this.callItemVisible && this.chatId != 0) {
                this.callItem.setAlpha(1.0f);
                arrayList2.add(ObjectAnimator.ofFloat(this.callItem, View.ALPHA, 0.0f));
            }
            if (this.videoCallItemVisible) {
                this.videoCallItem.setAlpha(1.0f);
                arrayList2.add(ObjectAnimator.ofFloat(this.videoCallItem, View.ALPHA, 0.0f));
            }
            if (this.editItemVisible) {
                this.editItem.setAlpha(1.0f);
                arrayList2.add(ObjectAnimator.ofFloat(this.editItem, View.ALPHA, 0.0f));
            }
            ImageView imageView4 = this.ttlIconView;
            if (imageView4 != null) {
                arrayList2.add(ObjectAnimator.ofFloat(imageView4, View.ALPHA, imageView4.getAlpha(), 0.0f));
            }
            FrameLayout frameLayout2 = this.floatingButtonContainer;
            if (frameLayout2 != null) {
                arrayList2.add(ObjectAnimator.ofFloat(frameLayout2, View.ALPHA, 0.0f));
            }
            BaseFragment baseFragment3 = this.parentLayout.getFragmentStack().size() > 1 ? (BaseFragment) this.parentLayout.getFragmentStack().get(this.parentLayout.getFragmentStack().size() - 2) : null;
            if (baseFragment3 instanceof ChatActivity) {
                ChatAvatarContainer avatarContainer2 = ((ChatActivity) baseFragment3).getAvatarContainer();
                View subtitleTextView = avatarContainer2.getSubtitleTextView();
                if (((subtitleTextView instanceof SimpleTextView) && ((SimpleTextView) subtitleTextView).getLeftDrawable() != null) || avatarContainer2.statusMadeShorter[0]) {
                    this.transitionOnlineText = avatarContainer2.getSubtitleTextView();
                    this.avatarContainer2.invalidate();
                    SimpleTextView simpleTextView = this.onlineTextView[0];
                    Property property = View.ALPHA;
                    arrayList2.add(ObjectAnimator.ofFloat(simpleTextView, property, 0.0f));
                    arrayList2.add(ObjectAnimator.ofFloat(this.onlineTextView[1], property, 0.0f));
                    animatorSet.playTogether(arrayList2);
                    profileBirthdayEffect = this.birthdayEffect;
                    if (profileBirthdayEffect != null) {
                        profileBirthdayEffect.hide();
                    }
                }
            }
            int i5 = 0;
            while (i5 < 2) {
                arrayList2.add(ObjectAnimator.ofFloat(this.onlineTextView[i5], View.ALPHA, i5 == 0 ? 1.0f : 0.0f));
                i5++;
            }
            animatorSet.playTogether(arrayList2);
            profileBirthdayEffect = this.birthdayEffect;
            if (profileBirthdayEffect != null) {
            }
        }
        this.profileTransitionInProgress = true;
        ValueAnimator ofFloat2 = ValueAnimator.ofFloat(0.0f, 1.0f);
        ofFloat2.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda44
            @Override // android.animation.ValueAnimator.AnimatorUpdateListener
            public final void onAnimationUpdate(ValueAnimator valueAnimator) {
                ProfileActivity.this.lambda$onCustomTransitionAnimation$68(valueAnimator);
            }
        });
        animatorSet.playTogether(ofFloat2);
        animatorSet.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.50
            {
                ProfileActivity.this = this;
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationEnd(Animator animator) {
                ProfileActivity profileActivity = ProfileActivity.this;
                if (profileActivity.fragmentView == null) {
                    runnable.run();
                    return;
                }
                profileActivity.avatarImage.setProgressToExpand(0.0f);
                ProfileActivity.this.listView.setLayerType(0, null);
                if (ProfileActivity.this.animatingItem != null) {
                    ((BaseFragment) ProfileActivity.this).actionBar.createMenu().clearItems();
                    ProfileActivity.this.animatingItem = null;
                }
                runnable.run();
                if (ProfileActivity.this.playProfileAnimation == 2) {
                    ProfileActivity.this.playProfileAnimation = 1;
                    ProfileActivity.this.avatarImage.setForegroundAlpha(1.0f);
                    ProfileActivity.this.avatarContainer.setVisibility(8);
                    ProfileActivity.this.avatarsViewPager.resetCurrentItem();
                    ProfileActivity.this.avatarsViewPager.setVisibility(0);
                }
                ProfileActivity.this.transitionOnlineText = null;
                ProfileActivity.this.avatarContainer2.invalidate();
                ProfileActivity profileActivity2 = ProfileActivity.this;
                profileActivity2.profileTransitionInProgress = false;
                profileActivity2.previousTransitionFragment = null;
                profileActivity2.fragmentView.invalidate();
            }
        });
        animatorSet.setInterpolator(this.playProfileAnimation == 2 ? CubicBezierInterpolator.DEFAULT : new DecelerateInterpolator());
        AndroidUtilities.runOnUIThread(new ArticleViewer$$ExternalSyntheticLambda9(animatorSet), 50L);
        return animatorSet;
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onDialogDismiss(Dialog dialog) {
        RecyclerListView recyclerListView = this.listView;
        if (recyclerListView != null) {
            recyclerListView.invalidateViews();
        }
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public boolean onFragmentCreate() {
        this.userId = this.arguments.getLong("user_id", 0L);
        this.chatId = this.arguments.getLong("chat_id", 0L);
        this.topicId = this.arguments.getLong("topic_id", 0L);
        this.saved = this.arguments.getBoolean("saved", false);
        this.openSimilar = this.arguments.getBoolean("similar", false);
        this.isTopic = this.topicId != 0;
        this.banFromGroup = this.arguments.getLong("ban_chat_id", 0L);
        this.reportReactionMessageId = this.arguments.getInt("report_reaction_message_id", 0);
        this.reportReactionFromDialogId = this.arguments.getLong("report_reaction_from_dialog_id", 0L);
        this.showAddToContacts = this.arguments.getBoolean("show_add_to_contacts", true);
        this.vcardPhone = PhoneFormat.stripExceptNumbers(this.arguments.getString("vcard_phone"));
        this.vcardFirstName = this.arguments.getString("vcard_first_name");
        this.vcardLastName = this.arguments.getString("vcard_last_name");
        this.reportSpam = this.arguments.getBoolean("reportSpam", false);
        this.myProfile = this.arguments.getBoolean("my_profile", false);
        if (!this.expandPhoto) {
            boolean z = this.arguments.getBoolean("expandPhoto", false);
            this.expandPhoto = z;
            if (z) {
                this.currentExpandAnimatorValue = 1.0f;
                this.needSendMessage = true;
            }
        }
        if (this.userId != 0) {
            long j = this.arguments.getLong("dialog_id", 0L);
            this.dialogId = j;
            if (j != 0) {
                this.currentEncryptedChat = getMessagesController().getEncryptedChat(Integer.valueOf(DialogObject.getEncryptedChatId(this.dialogId)));
            }
            FlagSecureReason flagSecureReason = this.flagSecure;
            if (flagSecureReason != null) {
                flagSecureReason.invalidate();
            }
            TLRPC$User user = getMessagesController().getUser(Long.valueOf(this.userId));
            if (user == null) {
                return false;
            }
            getNotificationCenter().addObserver(this, NotificationCenter.contactsDidLoad);
            getNotificationCenter().addObserver(this, NotificationCenter.newSuggestionsAvailable);
            getNotificationCenter().addObserver(this, NotificationCenter.encryptedChatCreated);
            getNotificationCenter().addObserver(this, NotificationCenter.encryptedChatUpdated);
            getNotificationCenter().addObserver(this, NotificationCenter.blockedUsersDidLoad);
            getNotificationCenter().addObserver(this, NotificationCenter.botInfoDidLoad);
            getNotificationCenter().addObserver(this, NotificationCenter.userInfoDidLoad);
            getNotificationCenter().addObserver(this, NotificationCenter.privacyRulesUpdated);
            NotificationCenter.getGlobalInstance().addObserver(this, NotificationCenter.reloadInterface);
            this.userBlocked = getMessagesController().blockePeers.indexOfKey(this.userId) >= 0;
            if (user.bot) {
                this.isBot = true;
                MediaDataController mediaDataController = getMediaDataController();
                long j2 = user.id;
                mediaDataController.loadBotInfo(j2, j2, true, this.classGuid);
            }
            this.userInfo = getMessagesController().getUserFull(this.userId);
            getMessagesController().loadFullUser(getMessagesController().getUser(Long.valueOf(this.userId)), this.classGuid, true);
            this.participantsMap = null;
            if (UserObject.isUserSelf(user)) {
                ImageUpdater imageUpdater = new ImageUpdater(true, 0, true);
                this.imageUpdater = imageUpdater;
                imageUpdater.setOpenWithFrontfaceCamera(true);
                ImageUpdater imageUpdater2 = this.imageUpdater;
                imageUpdater2.parentFragment = this;
                imageUpdater2.setDelegate(this);
                getMediaDataController().checkFeaturedStickers();
                getMessagesController().loadSuggestedFilters();
                getMessagesController().loadUserInfo(getUserConfig().getCurrentUser(), true, this.classGuid);
            }
            this.actionBarAnimationColorFrom = this.arguments.getInt("actionBarColor", 0);
        } else if (this.chatId == 0) {
            return false;
        } else {
            TLRPC$Chat chat = getMessagesController().getChat(Long.valueOf(this.chatId));
            this.currentChat = chat;
            if (chat == null) {
                final CountDownLatch countDownLatch = new CountDownLatch(1);
                getMessagesStorage().getStorageQueue().postRunnable(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda21
                    @Override // java.lang.Runnable
                    public final void run() {
                        ProfileActivity.this.lambda$onFragmentCreate$0(countDownLatch);
                    }
                });
                try {
                    countDownLatch.await();
                } catch (Exception e) {
                    FileLog.e(e);
                }
                if (this.currentChat == null) {
                    return false;
                }
                getMessagesController().putChat(this.currentChat, true);
            }
            FlagSecureReason flagSecureReason2 = this.flagSecure;
            if (flagSecureReason2 != null) {
                flagSecureReason2.invalidate();
            }
            if (this.currentChat.megagroup) {
                getChannelParticipants(true);
            } else {
                this.participantsMap = null;
            }
            getNotificationCenter().addObserver(this, NotificationCenter.chatInfoDidLoad);
            getNotificationCenter().addObserver(this, NotificationCenter.chatOnlineCountDidLoad);
            getNotificationCenter().addObserver(this, NotificationCenter.groupCallUpdated);
            getNotificationCenter().addObserver(this, NotificationCenter.channelRightsUpdated);
            getNotificationCenter().addObserver(this, NotificationCenter.chatWasBoostedByUser);
            NotificationCenter.getGlobalInstance().addObserver(this, NotificationCenter.uploadStoryEnd);
            this.sortedUsers = new ArrayList();
            updateOnlineCount(true);
            if (this.chatInfo == null) {
                this.chatInfo = getMessagesController().getChatFull(this.chatId);
            }
            if (ChatObject.isChannel(this.currentChat)) {
                getMessagesController().loadFullChat(this.chatId, this.classGuid, true);
            } else if (this.chatInfo == null) {
                this.chatInfo = getMessagesStorage().loadChatInfo(this.chatId, false, null, false, false);
            }
            updateExceptions();
        }
        if (this.sharedMediaPreloader == null) {
            this.sharedMediaPreloader = new SharedMediaLayout.SharedMediaPreloader(this);
        }
        this.sharedMediaPreloader.addDelegate(this);
        getNotificationCenter().addObserver(this, NotificationCenter.updateInterfaces);
        getNotificationCenter().addObserver(this, NotificationCenter.didReceiveNewMessages);
        getNotificationCenter().addObserver(this, NotificationCenter.closeChats);
        getNotificationCenter().addObserver(this, NotificationCenter.topicsDidLoaded);
        getNotificationCenter().addObserver(this, NotificationCenter.updateSearchSettings);
        getNotificationCenter().addObserver(this, NotificationCenter.reloadDialogPhotos);
        getNotificationCenter().addObserver(this, NotificationCenter.storiesUpdated);
        getNotificationCenter().addObserver(this, NotificationCenter.storiesReadUpdated);
        getNotificationCenter().addObserver(this, NotificationCenter.userIsPremiumBlockedUpadted);
        getNotificationCenter().addObserver(this, NotificationCenter.currentUserPremiumStatusChanged);
        getNotificationCenter().addObserver(this, NotificationCenter.starBalanceUpdated);
        getNotificationCenter().addObserver(this, NotificationCenter.botStarsUpdated);
        NotificationCenter.getGlobalInstance().addObserver(this, NotificationCenter.emojiLoaded);
        updateRowsIds();
        ListAdapter listAdapter = this.listAdapter;
        if (listAdapter != null) {
            listAdapter.notifyDataSetChanged();
        }
        if (this.arguments.containsKey("preload_messages")) {
            getMessagesController().ensureMessagesLoaded(this.userId, 0, null);
        }
        if (this.userId != 0 && UserObject.isUserSelf(getMessagesController().getUser(Long.valueOf(this.userId)))) {
            getConnectionsManager().sendRequest(new TLRPC$TL_account_getPassword(), new RequestDelegate() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda22
                @Override // org.telegram.tgnet.RequestDelegate
                public final void run(TLObject tLObject, TLRPC$TL_error tLRPC$TL_error) {
                    ProfileActivity.this.lambda$onFragmentCreate$1(tLObject, tLRPC$TL_error);
                }
            });
        }
        Bulletin.addDelegate(this, new Bulletin.Delegate() { // from class: org.telegram.ui.ProfileActivity.4
            {
                ProfileActivity.this = this;
            }

            @Override // org.telegram.ui.Components.Bulletin.Delegate
            public /* synthetic */ boolean allowLayoutChanges() {
                return Bulletin.Delegate.-CC.$default$allowLayoutChanges(this);
            }

            @Override // org.telegram.ui.Components.Bulletin.Delegate
            public boolean bottomOffsetAnimated() {
                return ProfileActivity.this.bottomButtonsContainer == null;
            }

            @Override // org.telegram.ui.Components.Bulletin.Delegate
            public /* synthetic */ boolean clipWithGradient(int i) {
                return Bulletin.Delegate.-CC.$default$clipWithGradient(this, i);
            }

            @Override // org.telegram.ui.Components.Bulletin.Delegate
            public int getBottomOffset(int i) {
                if (ProfileActivity.this.bottomButtonsContainer == null) {
                    return 0;
                }
                float min = Math.min(1.0f, 1.0f - Math.abs(ProfileActivity.this.sharedMediaLayout.getTabProgress() - 8.0f));
                return (int) (((AndroidUtilities.dp(72.0f) - ProfileActivity.this.bottomButtonsContainer.getTranslationY()) - (Math.min(1.0f, 1.0f - Math.abs(ProfileActivity.this.sharedMediaLayout.getTabProgress() - 9.0f)) * ProfileActivity.this.bottomButtonContainer[1].getTranslationY())) - (min * ProfileActivity.this.bottomButtonContainer[0].getTranslationY()));
            }

            @Override // org.telegram.ui.Components.Bulletin.Delegate
            public int getTopOffset(int i) {
                return AndroidUtilities.statusBarHeight;
            }

            @Override // org.telegram.ui.Components.Bulletin.Delegate
            public /* synthetic */ void onBottomOffsetChange(float f) {
                Bulletin.Delegate.-CC.$default$onBottomOffsetChange(this, f);
            }

            @Override // org.telegram.ui.Components.Bulletin.Delegate
            public /* synthetic */ void onHide(Bulletin bulletin) {
                Bulletin.Delegate.-CC.$default$onHide(this, bulletin);
            }

            @Override // org.telegram.ui.Components.Bulletin.Delegate
            public /* synthetic */ void onShow(Bulletin bulletin) {
                Bulletin.Delegate.-CC.$default$onShow(this, bulletin);
            }
        });
        if (this.userId != 0 && UserObject.isUserSelf(getMessagesController().getUser(Long.valueOf(this.userId))) && !this.myProfile) {
            getMessagesController().getContentSettings(null);
        }
        return true;
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onFragmentDestroy() {
        super.onFragmentDestroy();
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout != null) {
            sharedMediaLayout.onDestroy();
        }
        SharedMediaLayout.SharedMediaPreloader sharedMediaPreloader = this.sharedMediaPreloader;
        if (sharedMediaPreloader != null) {
            sharedMediaPreloader.onDestroy(this);
        }
        SharedMediaLayout.SharedMediaPreloader sharedMediaPreloader2 = this.sharedMediaPreloader;
        if (sharedMediaPreloader2 != null) {
            sharedMediaPreloader2.removeDelegate(this);
        }
        getNotificationCenter().removeObserver(this, NotificationCenter.updateInterfaces);
        getNotificationCenter().removeObserver(this, NotificationCenter.closeChats);
        getNotificationCenter().removeObserver(this, NotificationCenter.didReceiveNewMessages);
        getNotificationCenter().removeObserver(this, NotificationCenter.topicsDidLoaded);
        getNotificationCenter().removeObserver(this, NotificationCenter.updateSearchSettings);
        getNotificationCenter().removeObserver(this, NotificationCenter.reloadDialogPhotos);
        getNotificationCenter().removeObserver(this, NotificationCenter.storiesUpdated);
        getNotificationCenter().removeObserver(this, NotificationCenter.storiesReadUpdated);
        getNotificationCenter().removeObserver(this, NotificationCenter.userIsPremiumBlockedUpadted);
        getNotificationCenter().removeObserver(this, NotificationCenter.currentUserPremiumStatusChanged);
        getNotificationCenter().removeObserver(this, NotificationCenter.starBalanceUpdated);
        getNotificationCenter().removeObserver(this, NotificationCenter.botStarsUpdated);
        NotificationCenter.getGlobalInstance().removeObserver(this, NotificationCenter.emojiLoaded);
        ProfileGalleryView profileGalleryView = this.avatarsViewPager;
        if (profileGalleryView != null) {
            profileGalleryView.onDestroy();
        }
        if (this.userId != 0) {
            getNotificationCenter().removeObserver(this, NotificationCenter.newSuggestionsAvailable);
            getNotificationCenter().removeObserver(this, NotificationCenter.contactsDidLoad);
            getNotificationCenter().removeObserver(this, NotificationCenter.encryptedChatCreated);
            getNotificationCenter().removeObserver(this, NotificationCenter.encryptedChatUpdated);
            getNotificationCenter().removeObserver(this, NotificationCenter.blockedUsersDidLoad);
            getNotificationCenter().removeObserver(this, NotificationCenter.botInfoDidLoad);
            getNotificationCenter().removeObserver(this, NotificationCenter.userInfoDidLoad);
            getNotificationCenter().removeObserver(this, NotificationCenter.privacyRulesUpdated);
            NotificationCenter.getGlobalInstance().removeObserver(this, NotificationCenter.reloadInterface);
            getMessagesController().cancelLoadFullUser(this.userId);
        } else if (this.chatId != 0) {
            NotificationCenter.getGlobalInstance().removeObserver(this, NotificationCenter.uploadStoryEnd);
            getNotificationCenter().removeObserver(this, NotificationCenter.chatWasBoostedByUser);
            getNotificationCenter().removeObserver(this, NotificationCenter.chatInfoDidLoad);
            getNotificationCenter().removeObserver(this, NotificationCenter.chatOnlineCountDidLoad);
            getNotificationCenter().removeObserver(this, NotificationCenter.groupCallUpdated);
            getNotificationCenter().removeObserver(this, NotificationCenter.channelRightsUpdated);
        }
        AvatarImageView avatarImageView = this.avatarImage;
        if (avatarImageView != null) {
            avatarImageView.setImageDrawable(null);
        }
        ImageUpdater imageUpdater = this.imageUpdater;
        if (imageUpdater != null) {
            imageUpdater.clear();
        }
        PinchToZoomHelper pinchToZoomHelper = this.pinchToZoomHelper;
        if (pinchToZoomHelper != null) {
            pinchToZoomHelper.clear();
        }
        ProfileBirthdayEffect.BirthdayEffectFetcher birthdayEffectFetcher = this.birthdayFetcher;
        if (birthdayEffectFetcher != null && this.createdBirthdayFetcher) {
            birthdayEffectFetcher.detach(true);
            this.birthdayFetcher = null;
        }
        Runnable runnable = this.applyBulletin;
        if (runnable != null) {
            this.applyBulletin = null;
            AndroidUtilities.runOnUIThread(runnable);
        }
    }

    public boolean onMemberClick(TLRPC$ChatParticipant tLRPC$ChatParticipant, boolean z, View view) {
        return onMemberClick(tLRPC$ChatParticipant, z, false, view);
    }

    @Override // org.telegram.ui.Components.SharedMediaLayout.Delegate
    public boolean onMemberClick(final TLRPC$ChatParticipant tLRPC$ChatParticipant, boolean z, boolean z2, View view) {
        boolean z3;
        TLRPC$ChannelParticipant tLRPC$ChannelParticipant;
        boolean z4;
        boolean z5;
        boolean z6;
        boolean z7 = false;
        if (getParentActivity() == null) {
            return false;
        }
        if (z) {
            final TLRPC$User user = getMessagesController().getUser(Long.valueOf(tLRPC$ChatParticipant.user_id));
            if (user != null && tLRPC$ChatParticipant.user_id != getUserConfig().getClientUserId()) {
                this.selectedUser = tLRPC$ChatParticipant.user_id;
                if (ChatObject.isChannel(this.currentChat)) {
                    TLRPC$ChannelParticipant tLRPC$ChannelParticipant2 = ((TLRPC$TL_chatChannelParticipant) tLRPC$ChatParticipant).channelParticipant;
                    getMessagesController().getUser(Long.valueOf(tLRPC$ChatParticipant.user_id));
                    boolean canAddAdmins = ChatObject.canAddAdmins(this.currentChat);
                    if (canAddAdmins && ((tLRPC$ChannelParticipant2 instanceof TLRPC$TL_channelParticipantCreator) || ((tLRPC$ChannelParticipant2 instanceof TLRPC$TL_channelParticipantAdmin) && !tLRPC$ChannelParticipant2.can_edit))) {
                        canAddAdmins = false;
                    }
                    boolean z8 = ChatObject.canBlockUsers(this.currentChat) && (!((tLRPC$ChannelParticipant2 instanceof TLRPC$TL_channelParticipantAdmin) || (tLRPC$ChannelParticipant2 instanceof TLRPC$TL_channelParticipantCreator)) || tLRPC$ChannelParticipant2.can_edit);
                    z3 = tLRPC$ChannelParticipant2 instanceof TLRPC$TL_channelParticipantAdmin;
                    tLRPC$ChannelParticipant = tLRPC$ChannelParticipant2;
                    z4 = canAddAdmins;
                    z6 = z8;
                    z5 = this.currentChat.gigagroup ? false : z8;
                } else {
                    TLRPC$Chat tLRPC$Chat = this.currentChat;
                    boolean z9 = tLRPC$Chat.creator || ((tLRPC$ChatParticipant instanceof TLRPC$TL_chatParticipant) && (ChatObject.canBlockUsers(tLRPC$Chat) || tLRPC$ChatParticipant.inviter_id == getUserConfig().getClientUserId()));
                    z3 = tLRPC$ChatParticipant instanceof TLRPC$TL_chatParticipantAdmin;
                    tLRPC$ChannelParticipant = null;
                    z4 = this.currentChat.creator;
                    z5 = z4;
                    z6 = z9;
                }
                final boolean z10 = z3;
                z7 = (z4 || z5 || z6) ? true : true;
                if (!z2 && z7) {
                    final TLRPC$ChannelParticipant tLRPC$ChannelParticipant3 = tLRPC$ChannelParticipant;
                    final Utilities.Callback callback = new Utilities.Callback() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda68
                        @Override // org.telegram.messenger.Utilities.Callback
                        public final void run(Object obj) {
                            ProfileActivity.this.lambda$onMemberClick$36(tLRPC$ChannelParticipant3, user, tLRPC$ChatParticipant, z10, (Integer) obj);
                        }
                    };
                    final TLRPC$ChannelParticipant tLRPC$ChannelParticipant4 = tLRPC$ChannelParticipant;
                    ItemOptions.makeOptions(this, view).setScrimViewBackground(new ColorDrawable(Theme.getColor(Theme.key_windowBackgroundWhite))).addIf(z4, R.drawable.msg_admins, LocaleController.getString(z10 ? R.string.EditAdminRights : R.string.SetAsAdmin), new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda69
                        @Override // java.lang.Runnable
                        public final void run() {
                            ProfileActivity.lambda$onMemberClick$37(Utilities.Callback.this);
                        }
                    }).addIf(z5, R.drawable.msg_permissions, LocaleController.getString(R.string.ChangePermissions), new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda70
                        @Override // java.lang.Runnable
                        public final void run() {
                            ProfileActivity.this.lambda$onMemberClick$39(tLRPC$ChannelParticipant4, tLRPC$ChatParticipant, user, callback);
                        }
                    }).addIf(z6, R.drawable.msg_remove, (CharSequence) LocaleController.getString(R.string.KickFromGroup), true, new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda71
                        @Override // java.lang.Runnable
                        public final void run() {
                            ProfileActivity.this.lambda$onMemberClick$40(tLRPC$ChatParticipant);
                        }
                    }).setMinWidth(NotificationCenter.storiesSendAsUpdate).show();
                }
            }
            return z7;
        } else if (tLRPC$ChatParticipant.user_id == getUserConfig().getClientUserId()) {
            return false;
        } else {
            Bundle bundle = new Bundle();
            bundle.putLong("user_id", tLRPC$ChatParticipant.user_id);
            bundle.putBoolean("preload_messages", true);
            presentFragment(new ProfileActivity(bundle));
        }
        return true;
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onPause() {
        super.onPause();
        UndoView undoView = this.undoView;
        if (undoView != null) {
            undoView.hide(true, 0);
        }
        ImageUpdater imageUpdater = this.imageUpdater;
        if (imageUpdater != null) {
            imageUpdater.onPause();
        }
        FlagSecureReason flagSecureReason = this.flagSecure;
        if (flagSecureReason != null) {
            flagSecureReason.detach();
        }
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout != null) {
            sharedMediaLayout.onPause();
        }
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onRequestPermissionsResultFragment(int i, String[] strArr, int[] iArr) {
        boolean z;
        boolean z2;
        ImageUpdater imageUpdater = this.imageUpdater;
        if (imageUpdater != null) {
            imageUpdater.onRequestPermissionsResultFragment(i, strArr, iArr);
        }
        if (i == 101 || i == 102) {
            TLRPC$User user = getMessagesController().getUser(Long.valueOf(this.userId));
            if (user == null) {
                return;
            }
            int i2 = 0;
            while (true) {
                if (i2 >= iArr.length) {
                    z = true;
                    break;
                } else if (iArr[i2] != 0) {
                    z = false;
                    break;
                } else {
                    i2++;
                }
            }
            if (iArr.length > 0 && z) {
                boolean z3 = i == 102;
                TLRPC$UserFull tLRPC$UserFull = this.userInfo;
                VoIPHelper.startCall(user, z3, tLRPC$UserFull != null && tLRPC$UserFull.video_calls_available, getParentActivity(), this.userInfo, getAccountInstance());
                return;
            }
        } else if (i != 103 || this.currentChat == null) {
            return;
        } else {
            int i3 = 0;
            while (true) {
                if (i3 >= iArr.length) {
                    z2 = true;
                    break;
                } else if (iArr[i3] != 0) {
                    z2 = false;
                    break;
                } else {
                    i3++;
                }
            }
            if (iArr.length > 0 && z2) {
                VoIPHelper.startCall(this.currentChat, null, null, getMessagesController().getGroupCall(this.chatId, false) == null, getParentActivity(), this, getAccountInstance());
                return;
            }
        }
        VoIPHelper.permissionDenied(getParentActivity(), null, i);
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onResume() {
        TLRPC$User user;
        View view;
        super.onResume();
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout != null) {
            sharedMediaLayout.onResume();
        }
        invalidateIsInLandscapeMode();
        ListAdapter listAdapter = this.listAdapter;
        if (listAdapter != null) {
            this.firstLayout = true;
            listAdapter.notifyDataSetChanged();
        }
        if (!this.parentLayout.isInPreviewMode() && (view = this.blurredView) != null && view.getVisibility() == 0) {
            this.blurredView.setVisibility(8);
            this.blurredView.setBackground(null);
        }
        ImageUpdater imageUpdater = this.imageUpdater;
        if (imageUpdater != null) {
            imageUpdater.onResume();
            setParentActivityTitle(LocaleController.getString(R.string.Settings));
        }
        updateProfileData(true);
        fixLayout();
        SimpleTextView simpleTextView = this.nameTextView[1];
        if (simpleTextView != null) {
            setParentActivityTitle(simpleTextView.getText());
        }
        if (this.userId != 0 && (user = getMessagesController().getUser(Long.valueOf(this.userId))) != null && user.photo == null && this.extraHeight >= AndroidUtilities.dp(88.0f)) {
            this.expandAnimator.cancel();
            float[] fArr = this.expandAnimatorValues;
            fArr[0] = 1.0f;
            fArr[1] = 0.0f;
            setAvatarExpandProgress(1.0f);
            this.avatarsViewPager.setVisibility(8);
            this.extraHeight = AndroidUtilities.dp(88.0f);
            this.allowPullingDown = false;
            this.layoutManager.scrollToPositionWithOffset(0, AndroidUtilities.dp(88.0f) - this.listView.getPaddingTop());
        }
        FlagSecureReason flagSecureReason = this.flagSecure;
        if (flagSecureReason != null) {
            flagSecureReason.attach();
        }
        updateItemsUsername();
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onTransitionAnimationEnd(boolean z, boolean z2) {
        if (z) {
            if (!z2) {
                int i = this.playProfileAnimation;
                if (i != 0 && this.allowProfileAnimation) {
                    if (i == 1) {
                        this.currentExpandAnimatorValue = 0.0f;
                    }
                    this.openAnimationInProgress = false;
                    checkListViewScroll();
                    if (this.recreateMenuAfterAnimation) {
                        createActionBarMenu(true);
                    }
                }
                if (!this.fragmentOpened) {
                    this.fragmentOpened = true;
                    this.invalidateScroll = true;
                    this.fragmentView.requestLayout();
                }
            }
            getNotificationCenter().onAnimationFinish(this.transitionIndex);
            View view = this.blurredView;
            if (view != null && view.getVisibility() == 0) {
                this.blurredView.setVisibility(8);
                this.blurredView.setBackground(null);
            }
        }
        this.transitionAnimationInProress = false;
        checkPhotoDescriptionAlpha();
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onTransitionAnimationProgress(boolean z, float f) {
        super.onTransitionAnimationProgress(z, f);
        View view = this.blurredView;
        if (view == null || view.getVisibility() != 0) {
            return;
        }
        if (z) {
            this.blurredView.setAlpha(1.0f - f);
        } else {
            this.blurredView.setAlpha(f);
        }
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void onTransitionAnimationStart(boolean z, boolean z2) {
        int navigationBarColor;
        super.onTransitionAnimationStart(z, z2);
        this.isFragmentOpened = z;
        if (((!z && z2) || (z && !z2)) && this.playProfileAnimation != 0 && this.allowProfileAnimation && !this.isPulledDown) {
            this.openAnimationInProgress = true;
        }
        if (z) {
            this.transitionIndex = this.imageUpdater != null ? getNotificationCenter().setAnimationInProgress(this.transitionIndex, new int[]{NotificationCenter.dialogsNeedReload, NotificationCenter.closeChats, NotificationCenter.mediaCountDidLoad, NotificationCenter.mediaCountsDidLoad, NotificationCenter.userInfoDidLoad, NotificationCenter.needCheckSystemBarColors}) : getNotificationCenter().setAnimationInProgress(this.transitionIndex, new int[]{NotificationCenter.dialogsNeedReload, NotificationCenter.closeChats, NotificationCenter.mediaCountDidLoad, NotificationCenter.mediaCountsDidLoad, NotificationCenter.needCheckSystemBarColors});
            if (Build.VERSION.SDK_INT >= 21 && !z2 && getParentActivity() != null) {
                navigationBarColor = getParentActivity().getWindow().getNavigationBarColor();
                this.navigationBarAnimationColorFrom = navigationBarColor;
            }
        }
        this.transitionAnimationInProress = true;
        checkPhotoDescriptionAlpha();
    }

    @Override // org.telegram.ui.Components.ImageUpdater.ImageUpdaterDelegate
    public void onUploadProgressChanged(float f) {
        RadialProgressView radialProgressView = this.avatarProgressView;
        if (radialProgressView == null) {
            return;
        }
        radialProgressView.setProgress(f);
        this.avatarsViewPager.setUploadProgress(this.uploadingImageLocation, f);
    }

    public void prepareBlurBitmap() {
        if (this.blurredView == null) {
            return;
        }
        int measuredWidth = (int) (this.fragmentView.getMeasuredWidth() / 6.0f);
        int measuredHeight = (int) (this.fragmentView.getMeasuredHeight() / 6.0f);
        Bitmap createBitmap = Bitmap.createBitmap(measuredWidth, measuredHeight, Bitmap.Config.ARGB_8888);
        Canvas canvas = new Canvas(createBitmap);
        canvas.scale(0.16666667f, 0.16666667f);
        this.fragmentView.draw(canvas);
        Utilities.stackBlurBitmap(createBitmap, Math.max(7, Math.max(measuredWidth, measuredHeight) / NotificationCenter.updateBotMenuButton));
        this.blurredView.setBackground(new BitmapDrawable(createBitmap));
        this.blurredView.setAlpha(0.0f);
        this.blurredView.setVisibility(0);
    }

    public void restoreSelfArgs(Bundle bundle) {
        ImageUpdater imageUpdater = this.imageUpdater;
        if (imageUpdater != null) {
            imageUpdater.currentPicturePath = bundle.getString("path");
        }
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void saveSelfArgs(Bundle bundle) {
        String str;
        ImageUpdater imageUpdater = this.imageUpdater;
        if (imageUpdater == null || (str = imageUpdater.currentPicturePath) == null) {
            return;
        }
        bundle.putString("path", str);
    }

    @Override // org.telegram.ui.Components.SharedMediaLayout.Delegate
    public void scrollToSharedMedia() {
        this.layoutManager.scrollToPositionWithOffset(this.sharedMediaRow, -this.listView.getPaddingTop());
    }

    public void setAvatarAnimationProgress(float f) {
        int profileBackColorForId;
        int profileTextColorForId;
        this.currentExpandAnimatorValue = f;
        this.avatarAnimationProgress = f;
        checkPhotoDescriptionAlpha();
        if (this.playProfileAnimation == 2) {
            this.avatarImage.setProgressToExpand(f);
        }
        this.listView.setAlpha(f);
        this.listView.setTranslationX(AndroidUtilities.dp(48.0f) - (AndroidUtilities.dp(48.0f) * f));
        long j = 5;
        if (this.playProfileAnimation != 2 || (profileBackColorForId = this.avatarColor) == 0) {
            profileBackColorForId = AvatarDrawable.getProfileBackColorForId((this.userId != 0 || (ChatObject.isChannel(this.chatId, this.currentAccount) && !this.currentChat.megagroup)) ? 5L : this.chatId, this.resourcesProvider);
        }
        int i = this.actionBarAnimationColorFrom;
        if (i == 0) {
            i = getThemedColor(Theme.key_actionBarDefault);
        }
        this.topView.setBackgroundColor(ColorUtils.blendARGB(SharedConfig.chatBlurEnabled() ? ColorUtils.setAlphaComponent(i, 0) : i, profileBackColorForId, f));
        this.timerDrawable.setBackgroundColor(ColorUtils.blendARGB(i, profileBackColorForId, f));
        this.actionBar.setItemsColor(ColorUtils.blendARGB(this.peerColor != null ? -1 : getThemedColor(Theme.key_actionBarDefaultIcon), AvatarDrawable.getIconColorForId((this.userId != 0 || (ChatObject.isChannel(this.chatId, this.currentAccount) && !this.currentChat.megagroup)) ? 5L : this.chatId, this.resourcesProvider), this.avatarAnimationProgress), false);
        int themedColor = getThemedColor(Theme.key_profile_title);
        int themedColor2 = getThemedColor(Theme.key_actionBarDefaultTitle);
        for (int i2 = 0; i2 < 2; i2++) {
            SimpleTextView simpleTextView = this.nameTextView[i2];
            if (simpleTextView != null && (i2 != 1 || this.playProfileAnimation != 2)) {
                simpleTextView.setTextColor(ColorUtils.blendARGB(themedColor2, themedColor, f));
            }
        }
        if (this.isOnline[0]) {
            profileTextColorForId = getThemedColor(Theme.key_profile_status);
        } else {
            if (this.userId == 0 && (!ChatObject.isChannel(this.chatId, this.currentAccount) || this.currentChat.megagroup)) {
                j = this.chatId;
            }
            profileTextColorForId = AvatarDrawable.getProfileTextColorForId(j, this.resourcesProvider);
        }
        int themedColor3 = getThemedColor(this.isOnline[0] ? Theme.key_chat_status : Theme.key_actionBarDefaultSubtitle);
        int i3 = 0;
        while (i3 < 3) {
            SimpleTextView simpleTextView2 = this.onlineTextView[i3];
            if (simpleTextView2 != null && i3 != 1 && (i3 != 2 || this.playProfileAnimation != 2)) {
                simpleTextView2.setTextColor(ColorUtils.blendARGB(i3 == 0 ? themedColor3 : applyPeerColor(themedColor3, true, Boolean.valueOf(this.isOnline[0])), i3 == 0 ? profileTextColorForId : applyPeerColor(profileTextColorForId, true, Boolean.valueOf(this.isOnline[0])), f));
            }
            i3++;
        }
        this.extraHeight = this.initialAnimationExtraHeight * f;
        long j2 = this.userId;
        if (j2 == 0) {
            j2 = this.chatId;
        }
        int profileColorForId = AvatarDrawable.getProfileColorForId(j2, this.resourcesProvider);
        long j3 = this.userId;
        if (j3 == 0) {
            j3 = this.chatId;
        }
        int colorForId = AvatarDrawable.getColorForId(j3);
        if (profileColorForId != colorForId) {
            this.avatarDrawable.setColor(ColorUtils.blendARGB(colorForId, profileColorForId, f));
            this.avatarImage.invalidate();
        }
        int i4 = this.navigationBarAnimationColorFrom;
        if (i4 != 0) {
            setNavigationBarColor(ColorUtils.blendARGB(i4, getNavigationBarColor(), f));
        }
        this.topView.invalidate();
        needLayout(true);
        View view = this.fragmentView;
        if (view != null) {
            view.invalidate();
        }
        AboutLinkCell aboutLinkCell = this.aboutLinkCell;
        if (aboutLinkCell != null) {
            aboutLinkCell.invalidate();
        }
        if (getDialogId() > 0) {
            AvatarImageView avatarImageView = this.avatarImage;
            if (avatarImageView != null) {
                avatarImageView.setProgressToStoriesInsets(this.avatarAnimationProgress);
            }
            ProfileStoriesView profileStoriesView = this.storyView;
            if (profileStoriesView != null) {
                profileStoriesView.setProgressToStoriesInsets(this.avatarAnimationProgress);
            }
        }
    }

    public void setChatInfo(TLRPC$ChatFull tLRPC$ChatFull) {
        TLRPC$ChatFull tLRPC$ChatFull2;
        this.chatInfo = tLRPC$ChatFull;
        if (tLRPC$ChatFull != null) {
            long j = tLRPC$ChatFull.migrated_from_chat_id;
            if (j != 0 && this.mergeDialogId == 0) {
                this.mergeDialogId = -j;
                getMediaDataController().getMediaCounts(this.mergeDialogId, this.topicId, this.classGuid);
            }
        }
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout != null) {
            sharedMediaLayout.setChatInfo(this.chatInfo);
        }
        ProfileGalleryView profileGalleryView = this.avatarsViewPager;
        if (profileGalleryView != null && !this.isTopic) {
            profileGalleryView.setChatInfo(this.chatInfo);
        }
        ProfileStoriesView profileStoriesView = this.storyView;
        if (profileStoriesView != null && (tLRPC$ChatFull2 = this.chatInfo) != null) {
            profileStoriesView.setStories(tLRPC$ChatFull2.stories);
        }
        AvatarImageView avatarImageView = this.avatarImage;
        if (avatarImageView != null) {
            avatarImageView.setHasStories(needInsetForStories());
        }
        fetchUsersFromChannelInfo();
    }

    public void setLoadingSpan(CharacterStyle characterStyle) {
        if (this.loadingSpan == characterStyle) {
            return;
        }
        this.loadingSpan = characterStyle;
        AndroidUtilities.forEachViews((RecyclerView) this.listView, new com.google.android.exoplayer2.util.Consumer() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda107
            @Override // com.google.android.exoplayer2.util.Consumer
            public final void accept(Object obj) {
                ProfileActivity.this.lambda$setLoadingSpan$89((View) obj);
            }
        });
    }

    @Override // org.telegram.ui.ActionBar.BaseFragment
    public void setParentLayout(INavigationLayout iNavigationLayout) {
        super.setParentLayout(iNavigationLayout);
        FlagSecureReason flagSecureReason = this.flagSecure;
        if (flagSecureReason != null) {
            flagSecureReason.detach();
            this.flagSecure = null;
        }
        if (iNavigationLayout == null || iNavigationLayout.getParentActivity() == null) {
            return;
        }
        this.flagSecure = new FlagSecureReason(iNavigationLayout.getParentActivity().getWindow(), new FlagSecureReason.FlagSecureCondition() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda3
            @Override // org.telegram.messenger.FlagSecureReason.FlagSecureCondition
            public final boolean run() {
                boolean lambda$setParentLayout$5;
                lambda$setParentLayout$5 = ProfileActivity.this.lambda$setParentLayout$5();
                return lambda$setParentLayout$5;
            }
        });
    }

    public void setPlayProfileAnimation(int i) {
        SharedPreferences globalMainSettings = MessagesController.getGlobalMainSettings();
        if (AndroidUtilities.isTablet()) {
            return;
        }
        this.needTimerImage = i != 0;
        this.needStarImage = i != 0;
        if (globalMainSettings.getBoolean("view_animations", true)) {
            this.playProfileAnimation = i;
        } else if (i == 2) {
            this.expandPhoto = true;
        }
    }

    public void setUserInfo(TLRPC$UserFull tLRPC$UserFull, ProfileChannelCell.ChannelMessageFetcher channelMessageFetcher, ProfileBirthdayEffect.BirthdayEffectFetcher birthdayEffectFetcher) {
        this.userInfo = tLRPC$UserFull;
        ProfileStoriesView profileStoriesView = this.storyView;
        if (profileStoriesView != null) {
            profileStoriesView.setStories(tLRPC$UserFull.stories);
        }
        AvatarImageView avatarImageView = this.avatarImage;
        if (avatarImageView != null) {
            avatarImageView.setHasStories(needInsetForStories());
        }
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout != null) {
            sharedMediaLayout.setUserInfo(this.userInfo);
        }
        if (this.profileChannelMessageFetcher == null) {
            this.profileChannelMessageFetcher = channelMessageFetcher;
        }
        if (this.profileChannelMessageFetcher == null) {
            this.profileChannelMessageFetcher = new ProfileChannelCell.ChannelMessageFetcher(this.currentAccount);
        }
        this.profileChannelMessageFetcher.subscribe(new Runnable() { // from class: org.telegram.ui.ProfileActivity$$ExternalSyntheticLambda42
            @Override // java.lang.Runnable
            public final void run() {
                ProfileActivity.this.lambda$setUserInfo$70();
            }
        });
        this.profileChannelMessageFetcher.fetch(this.userInfo);
        if (this.birthdayFetcher == null) {
            this.birthdayFetcher = birthdayEffectFetcher;
        }
        ProfileBirthdayEffect.BirthdayEffectFetcher birthdayEffectFetcher2 = this.birthdayFetcher;
        if (birthdayEffectFetcher2 == null) {
            ProfileBirthdayEffect.BirthdayEffectFetcher of = ProfileBirthdayEffect.BirthdayEffectFetcher.of(this.currentAccount, this.userInfo, birthdayEffectFetcher2);
            this.birthdayFetcher = of;
            this.createdBirthdayFetcher = of != null;
        }
        ProfileBirthdayEffect.BirthdayEffectFetcher birthdayEffectFetcher3 = this.birthdayFetcher;
        if (birthdayEffectFetcher3 != null) {
            birthdayEffectFetcher3.subscribe(new ProfileActivity$$ExternalSyntheticLambda2(this));
        }
        ActionBarMenuItem actionBarMenuItem = this.otherItem;
        if (actionBarMenuItem != null) {
            actionBarMenuItem.setSubItemShown(20, true ^ getMessagesController().isUserPremiumBlocked(this.userId));
            if (hasPrivacyCommand()) {
                this.otherItem.showSubItem(44);
            } else {
                this.otherItem.hideSubItem(44);
            }
        }
    }

    public void showStatusSelect() {
        if (this.selectAnimatedEmojiDialog != null) {
            return;
        }
        final SelectAnimatedEmojiDialog.SelectAnimatedEmojiDialogWindow[] selectAnimatedEmojiDialogWindowArr = new SelectAnimatedEmojiDialog.SelectAnimatedEmojiDialogWindow[1];
        Rect rect = AndroidUtilities.rectTmp2;
        getEmojiStatusLocation(rect);
        int i = this.nameTextView[1].getScaleX() < 1.5f ? 16 : 32;
        int dp = (-(this.avatarContainer2.getHeight() - rect.centerY())) - AndroidUtilities.dp(i);
        int min = (int) Math.min(AndroidUtilities.dp(324.0f), AndroidUtilities.displaySize.x * 0.95f);
        int centerX = rect.centerX();
        int clamp = MathUtils.clamp(centerX - (min / 2), 0, AndroidUtilities.displaySize.x - min);
        int i2 = centerX - clamp;
        AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable swapAnimatedEmojiDrawable = this.emojiStatusDrawable[1];
        if (swapAnimatedEmojiDrawable != null) {
            boolean z = swapAnimatedEmojiDrawable.getDrawable() instanceof AnimatedEmojiDrawable;
        }
        SelectAnimatedEmojiDialog selectAnimatedEmojiDialog = new SelectAnimatedEmojiDialog(this, getContext(), true, Integer.valueOf(Math.max(0, i2)), this.currentChat == null ? 0 : 9, true, this.resourcesProvider, i) { // from class: org.telegram.ui.ProfileActivity.36
            {
                ProfileActivity.this = this;
            }

            /* JADX WARN: Multi-variable type inference failed */
            @Override // org.telegram.ui.SelectAnimatedEmojiDialog
            protected void onEmojiSelected(View view, Long l, TLRPC$Document tLRPC$Document, Integer num) {
                TLRPC$TL_channels_updateEmojiStatus tLRPC$TL_channels_updateEmojiStatus;
                AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable swapAnimatedEmojiDrawable2;
                if (ProfileActivity.this.currentChat == null) {
                    TLRPC$TL_account_updateEmojiStatus tLRPC$TL_account_updateEmojiStatus = new TLRPC$TL_account_updateEmojiStatus();
                    if (l == null) {
                        tLRPC$TL_account_updateEmojiStatus.emoji_status = new TLRPC$TL_emojiStatusEmpty();
                    } else if (num != null) {
                        TLRPC$TL_emojiStatusUntil tLRPC$TL_emojiStatusUntil = new TLRPC$TL_emojiStatusUntil();
                        tLRPC$TL_account_updateEmojiStatus.emoji_status = tLRPC$TL_emojiStatusUntil;
                        tLRPC$TL_emojiStatusUntil.document_id = l.longValue();
                        ((TLRPC$TL_emojiStatusUntil) tLRPC$TL_account_updateEmojiStatus.emoji_status).until = num.intValue();
                    } else {
                        TLRPC$TL_emojiStatus tLRPC$TL_emojiStatus = new TLRPC$TL_emojiStatus();
                        tLRPC$TL_account_updateEmojiStatus.emoji_status = tLRPC$TL_emojiStatus;
                        tLRPC$TL_emojiStatus.document_id = l.longValue();
                    }
                    TLRPC$User user = MessagesController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getUser(Long.valueOf(UserConfig.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).getClientUserId()));
                    tLRPC$TL_channels_updateEmojiStatus = tLRPC$TL_account_updateEmojiStatus;
                    if (user != null) {
                        user.emoji_status = tLRPC$TL_account_updateEmojiStatus.emoji_status;
                        MessagesController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).updateEmojiStatusUntilUpdate(user.id, user.emoji_status);
                        NotificationCenter.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).lambda$postNotificationNameOnUIThread$1(NotificationCenter.userEmojiStatusUpdated, user);
                        tLRPC$TL_channels_updateEmojiStatus = tLRPC$TL_account_updateEmojiStatus;
                    }
                } else {
                    TLRPC$TL_channels_updateEmojiStatus tLRPC$TL_channels_updateEmojiStatus2 = new TLRPC$TL_channels_updateEmojiStatus();
                    tLRPC$TL_channels_updateEmojiStatus2.channel = MessagesController.getInputChannel(ProfileActivity.this.currentChat);
                    if (l == null) {
                        tLRPC$TL_channels_updateEmojiStatus2.emoji_status = new TLRPC$TL_emojiStatusEmpty();
                    } else if (num != null) {
                        TLRPC$TL_emojiStatusUntil tLRPC$TL_emojiStatusUntil2 = new TLRPC$TL_emojiStatusUntil();
                        tLRPC$TL_channels_updateEmojiStatus2.emoji_status = tLRPC$TL_emojiStatusUntil2;
                        tLRPC$TL_emojiStatusUntil2.document_id = l.longValue();
                        ((TLRPC$TL_emojiStatusUntil) tLRPC$TL_channels_updateEmojiStatus2.emoji_status).until = num.intValue();
                    } else {
                        TLRPC$TL_emojiStatus tLRPC$TL_emojiStatus2 = new TLRPC$TL_emojiStatus();
                        tLRPC$TL_channels_updateEmojiStatus2.emoji_status = tLRPC$TL_emojiStatus2;
                        tLRPC$TL_emojiStatus2.document_id = l.longValue();
                    }
                    tLRPC$TL_channels_updateEmojiStatus = tLRPC$TL_channels_updateEmojiStatus2;
                    if (ProfileActivity.this.currentChat != null) {
                        ProfileActivity.this.currentChat.emoji_status = tLRPC$TL_channels_updateEmojiStatus2.emoji_status;
                        MessagesController.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).updateEmojiStatusUntilUpdate(-ProfileActivity.this.currentChat.id, ProfileActivity.this.currentChat.emoji_status);
                        NotificationCenter.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).lambda$postNotificationNameOnUIThread$1(NotificationCenter.updateInterfaces, Integer.valueOf(MessagesController.UPDATE_MASK_EMOJI_STATUS));
                        tLRPC$TL_channels_updateEmojiStatus = tLRPC$TL_channels_updateEmojiStatus2;
                    }
                }
                int i3 = 0;
                while (true) {
                    Drawable drawable = null;
                    if (i3 >= 2) {
                        break;
                    }
                    if (ProfileActivity.this.emojiStatusDrawable[i3] != null) {
                        if (l == null && ProfileActivity.this.currentChat == null) {
                            swapAnimatedEmojiDrawable2 = ProfileActivity.this.emojiStatusDrawable[i3];
                            drawable = ProfileActivity.this.getPremiumCrossfadeDrawable(i3);
                        } else {
                            AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable[] swapAnimatedEmojiDrawableArr = ProfileActivity.this.emojiStatusDrawable;
                            if (l != null) {
                                swapAnimatedEmojiDrawableArr[i3].set(l.longValue(), true);
                            } else {
                                swapAnimatedEmojiDrawable2 = swapAnimatedEmojiDrawableArr[i3];
                            }
                        }
                        swapAnimatedEmojiDrawable2.set(drawable, true);
                    }
                    i3++;
                }
                if (l != null) {
                    ProfileActivity.this.animatedStatusView.animateChange(ReactionsLayoutInBubble.VisibleReaction.fromCustomEmoji(l));
                }
                ProfileActivity.this.updateEmojiStatusDrawableColor();
                ProfileActivity.this.updateEmojiStatusEffectPosition();
                ConnectionsManager.getInstance(((BaseFragment) ProfileActivity.this).currentAccount).sendRequest(tLRPC$TL_channels_updateEmojiStatus, null);
                if (selectAnimatedEmojiDialogWindowArr[0] != null) {
                    ProfileActivity.this.selectAnimatedEmojiDialog = null;
                    selectAnimatedEmojiDialogWindowArr[0].dismiss();
                }
            }
        };
        TLRPC$User user = getMessagesController().getUser(Long.valueOf(this.userId));
        if (user != null) {
            selectAnimatedEmojiDialog.setExpireDateHint(DialogObject.getEmojiStatusUntil(user.emoji_status));
        }
        AnimatedEmojiDrawable.SwapAnimatedEmojiDrawable swapAnimatedEmojiDrawable2 = this.emojiStatusDrawable[1];
        selectAnimatedEmojiDialog.setSelected((swapAnimatedEmojiDrawable2 == null || !(swapAnimatedEmojiDrawable2.getDrawable() instanceof AnimatedEmojiDrawable)) ? null : Long.valueOf(((AnimatedEmojiDrawable) this.emojiStatusDrawable[1].getDrawable()).getDocumentId()));
        selectAnimatedEmojiDialog.setSaveState(3);
        selectAnimatedEmojiDialog.setScrimDrawable(this.emojiStatusDrawable[1], this.nameTextView[1]);
        SelectAnimatedEmojiDialog.SelectAnimatedEmojiDialogWindow selectAnimatedEmojiDialogWindow = new SelectAnimatedEmojiDialog.SelectAnimatedEmojiDialogWindow(selectAnimatedEmojiDialog, -2, -2) { // from class: org.telegram.ui.ProfileActivity.37
            {
                ProfileActivity.this = this;
            }

            @Override // org.telegram.ui.SelectAnimatedEmojiDialog.SelectAnimatedEmojiDialogWindow, android.widget.PopupWindow
            public void dismiss() {
                super.dismiss();
                ProfileActivity.this.selectAnimatedEmojiDialog = null;
            }
        };
        this.selectAnimatedEmojiDialog = selectAnimatedEmojiDialogWindow;
        selectAnimatedEmojiDialogWindowArr[0] = selectAnimatedEmojiDialogWindow;
        int[] iArr = new int[2];
        SimpleTextView simpleTextView = this.nameTextView[1];
        if (simpleTextView != null) {
            simpleTextView.getLocationOnScreen(iArr);
        }
        selectAnimatedEmojiDialogWindowArr[0].showAsDropDown(this.fragmentView, clamp, dp, 51);
        selectAnimatedEmojiDialogWindowArr[0].dimBehind();
    }

    public void updateListAnimated(boolean z) {
        if (this.listAdapter == null) {
            if (z) {
                updateOnlineCount(false);
            }
            updateRowsIds();
            return;
        }
        DiffCallback diffCallback = new DiffCallback();
        diffCallback.oldRowCount = this.rowCount;
        diffCallback.fillPositions(diffCallback.oldPositionToItem);
        diffCallback.oldChatParticipant.clear();
        diffCallback.oldChatParticipantSorted.clear();
        diffCallback.oldChatParticipant.addAll(this.visibleChatParticipants);
        diffCallback.oldChatParticipantSorted.addAll(this.visibleSortedUsers);
        diffCallback.oldMembersStartRow = this.membersStartRow;
        diffCallback.oldMembersEndRow = this.membersEndRow;
        if (z) {
            updateOnlineCount(false);
        }
        saveScrollPosition();
        updateRowsIds();
        diffCallback.fillPositions(diffCallback.newPositionToItem);
        try {
            DiffUtil.calculateDiff(diffCallback).dispatchUpdatesTo(this.listAdapter);
        } catch (Exception unused) {
            this.listAdapter.notifyDataSetChanged();
        }
        int i = this.savedScrollPosition;
        if (i >= 0) {
            this.layoutManager.scrollToPositionWithOffset(i, this.savedScrollOffset - this.listView.getPaddingTop());
        }
        AndroidUtilities.updateVisibleRows(this.listView);
    }

    public void updateQrItemVisibility(boolean z) {
        if (this.qrItem == null) {
            return;
        }
        boolean z2 = isQrNeedVisible() && Math.min(1.0f, this.extraHeight / ((float) AndroidUtilities.dp(88.0f))) > 0.5f && this.searchTransitionProgress > 0.5f;
        if (!z) {
            AnimatorSet animatorSet = this.qrItemAnimation;
            if (animatorSet != null) {
                animatorSet.cancel();
                this.qrItemAnimation = null;
            }
            this.isQrItemVisible = z2;
            this.qrItem.setClickable(z2);
            this.qrItem.setAlpha(z2 ? 1.0f : 0.0f);
            this.qrItem.setVisibility(z2 ? 0 : 8);
        } else if (z2 != this.isQrItemVisible) {
            this.isQrItemVisible = z2;
            AnimatorSet animatorSet2 = this.qrItemAnimation;
            if (animatorSet2 != null) {
                animatorSet2.cancel();
                this.qrItemAnimation = null;
            }
            this.qrItem.setClickable(this.isQrItemVisible);
            this.qrItemAnimation = new AnimatorSet();
            if (this.qrItem.getVisibility() != 8 || z2) {
                this.qrItem.setVisibility(0);
            }
            AnimatorSet animatorSet3 = this.qrItemAnimation;
            if (z2) {
                animatorSet3.setInterpolator(new DecelerateInterpolator());
                this.qrItemAnimation.playTogether(ObjectAnimator.ofFloat(this.qrItem, View.ALPHA, 1.0f), ObjectAnimator.ofFloat(this.qrItem, View.SCALE_Y, 1.0f), ObjectAnimator.ofFloat(this.avatarsViewPagerIndicatorView, View.TRANSLATION_X, -AndroidUtilities.dp(48.0f)));
            } else {
                animatorSet3.setInterpolator(new AccelerateInterpolator());
                this.qrItemAnimation.playTogether(ObjectAnimator.ofFloat(this.qrItem, View.ALPHA, 0.0f), ObjectAnimator.ofFloat(this.qrItem, View.SCALE_Y, 0.0f), ObjectAnimator.ofFloat(this.avatarsViewPagerIndicatorView, View.TRANSLATION_X, 0.0f));
            }
            this.qrItemAnimation.setDuration(150L);
            this.qrItemAnimation.addListener(new AnimatorListenerAdapter() { // from class: org.telegram.ui.ProfileActivity.48
                {
                    ProfileActivity.this = this;
                }

                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationEnd(Animator animator) {
                    ProfileActivity.this.qrItemAnimation = null;
                }
            });
            this.qrItemAnimation.start();
        }
    }

    @Override // org.telegram.ui.Components.SharedMediaLayout.Delegate
    public void updateSelectedMediaTabText() {
        CharSequence formatPluralString;
        AudioPlayerAlert.ClippingTextViewSwitcher clippingTextViewSwitcher;
        AudioPlayerAlert.ClippingTextViewSwitcher clippingTextViewSwitcher2;
        AudioPlayerAlert.ClippingTextViewSwitcher clippingTextViewSwitcher3;
        String formatPluralString2;
        int i;
        int i2;
        SharedMediaLayout sharedMediaLayout = this.sharedMediaLayout;
        if (sharedMediaLayout == null || this.mediaCounterTextView == null) {
            return;
        }
        int closestTab = sharedMediaLayout.getClosestTab();
        int[] lastMediaCount = this.sharedMediaPreloader.getLastMediaCount();
        if (closestTab == 0) {
            if (lastMediaCount[7] > 0 || lastMediaCount[6] > 0) {
                if (this.sharedMediaLayout.getPhotosVideosTypeFilter() == 1 || lastMediaCount[7] <= 0) {
                    clippingTextViewSwitcher3 = this.mediaCounterTextView;
                    formatPluralString2 = LocaleController.formatPluralString("Photos", lastMediaCount[6], new Object[0]);
                } else if (this.sharedMediaLayout.getPhotosVideosTypeFilter() != 2 && (i2 = lastMediaCount[6]) > 0) {
                    this.mediaCounterTextView.setText(String.format("%s, %s", LocaleController.formatPluralString("Photos", i2, new Object[0]), LocaleController.formatPluralString("Videos", lastMediaCount[7], new Object[0])));
                    return;
                } else {
                    clippingTextViewSwitcher3 = this.mediaCounterTextView;
                    formatPluralString2 = LocaleController.formatPluralString("Videos", lastMediaCount[7], new Object[0]);
                }
                AudioPlayerAlert.ClippingTextViewSwitcher clippingTextViewSwitcher4 = clippingTextViewSwitcher3;
                formatPluralString = formatPluralString2;
                clippingTextViewSwitcher = clippingTextViewSwitcher4;
            } else {
                int i3 = lastMediaCount[0];
                if (i3 <= 0) {
                    clippingTextViewSwitcher = this.mediaCounterTextView;
                    i = R.string.SharedMedia;
                    formatPluralString = LocaleController.getString(i);
                } else {
                    clippingTextViewSwitcher2 = this.mediaCounterTextView;
                    formatPluralString = LocaleController.formatPluralString("Media", i3, new Object[0]);
                    clippingTextViewSwitcher = clippingTextViewSwitcher2;
                }
            }
        } else if (closestTab == 1) {
            int i4 = lastMediaCount[1];
            if (i4 <= 0) {
                clippingTextViewSwitcher = this.mediaCounterTextView;
                i = R.string.Files;
                formatPluralString = LocaleController.getString(i);
            } else {
                clippingTextViewSwitcher2 = this.mediaCounterTextView;
                formatPluralString = LocaleController.formatPluralString("Files", i4, new Object[0]);
                clippingTextViewSwitcher = clippingTextViewSwitcher2;
            }
        } else if (closestTab == 2) {
            int i5 = lastMediaCount[2];
            if (i5 <= 0) {
                clippingTextViewSwitcher = this.mediaCounterTextView;
                i = R.string.Voice;
                formatPluralString = LocaleController.getString(i);
            } else {
                clippingTextViewSwitcher2 = this.mediaCounterTextView;
                formatPluralString = LocaleController.formatPluralString("Voice", i5, new Object[0]);
                clippingTextViewSwitcher = clippingTextViewSwitcher2;
            }
        } else if (closestTab == 3) {
            int i6 = lastMediaCount[3];
            if (i6 <= 0) {
                clippingTextViewSwitcher = this.mediaCounterTextView;
                i = R.string.SharedLinks;
                formatPluralString = LocaleController.getString(i);
            } else {
                clippingTextViewSwitcher2 = this.mediaCounterTextView;
                formatPluralString = LocaleController.formatPluralString("Links", i6, new Object[0]);
                clippingTextViewSwitcher = clippingTextViewSwitcher2;
            }
        } else if (closestTab == 4) {
            int i7 = lastMediaCount[4];
            if (i7 <= 0) {
                clippingTextViewSwitcher = this.mediaCounterTextView;
                i = R.string.Music;
                formatPluralString = LocaleController.getString(i);
            } else {
                clippingTextViewSwitcher2 = this.mediaCounterTextView;
                formatPluralString = LocaleController.formatPluralString("MusicFiles", i7, new Object[0]);
                clippingTextViewSwitcher = clippingTextViewSwitcher2;
            }
        } else {
            if (closestTab == 5) {
                int i8 = lastMediaCount[5];
                if (i8 <= 0) {
                    clippingTextViewSwitcher = this.mediaCounterTextView;
                    i = R.string.AccDescrGIFs;
                    formatPluralString = LocaleController.getString(i);
                } else {
                    clippingTextViewSwitcher2 = this.mediaCounterTextView;
                    formatPluralString = LocaleController.formatPluralString("GIFs", i8, new Object[0]);
                }
            } else {
                if (closestTab == 6) {
                    clippingTextViewSwitcher3 = this.mediaCounterTextView;
                    formatPluralString2 = LocaleController.formatPluralString("CommonGroups", this.userInfo.common_chats_count, new Object[0]);
                } else if (closestTab == 7) {
                    clippingTextViewSwitcher = this.mediaCounterTextView;
                    formatPluralString = this.onlineTextView[1].getText();
                } else if (closestTab == 8) {
                    if (this.isBot) {
                        clippingTextViewSwitcher3 = this.mediaCounterTextView;
                        formatPluralString2 = this.sharedMediaLayout.getBotPreviewsSubtitle(false);
                    } else {
                        clippingTextViewSwitcher3 = this.mediaCounterTextView;
                        formatPluralString2 = LocaleController.formatPluralString("ProfileStoriesCount", this.sharedMediaLayout.getStoriesCount(closestTab), new Object[0]);
                    }
                } else if (closestTab == 13) {
                    clippingTextViewSwitcher = this.mediaCounterTextView;
                    formatPluralString = this.sharedMediaLayout.getBotPreviewsSubtitle(true);
                } else if (closestTab == 9) {
                    clippingTextViewSwitcher3 = this.mediaCounterTextView;
                    formatPluralString2 = LocaleController.formatPluralString("ProfileStoriesArchiveCount", this.sharedMediaLayout.getStoriesCount(closestTab), new Object[0]);
                } else if (closestTab == 10) {
                    MessagesController.ChannelRecommendations channelRecommendations = MessagesController.getInstance(this.currentAccount).getChannelRecommendations(this.chatId);
                    clippingTextViewSwitcher2 = this.mediaCounterTextView;
                    formatPluralString = LocaleController.formatPluralString("Channels", channelRecommendations == null ? 0 : channelRecommendations.chats.size() + channelRecommendations.more, new Object[0]);
                } else if (closestTab != 12) {
                    return;
                } else {
                    int messagesCount = getMessagesController().getSavedMessagesController().getMessagesCount(getDialogId());
                    AudioPlayerAlert.ClippingTextViewSwitcher clippingTextViewSwitcher5 = this.mediaCounterTextView;
                    formatPluralString = LocaleController.formatPluralString("SavedMessagesCount", Math.max(1, messagesCount), new Object[0]);
                    clippingTextViewSwitcher = clippingTextViewSwitcher5;
                }
                AudioPlayerAlert.ClippingTextViewSwitcher clippingTextViewSwitcher42 = clippingTextViewSwitcher3;
                formatPluralString = formatPluralString2;
                clippingTextViewSwitcher = clippingTextViewSwitcher42;
            }
            clippingTextViewSwitcher = clippingTextViewSwitcher2;
        }
        clippingTextViewSwitcher.setText(formatPluralString);
    }
}
